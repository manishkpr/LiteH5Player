{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"Medi",
				"MediaSourceEngine"
			],
			[
				"pos",
				"position_"
			],
			[
				"isP",
				"isPaused"
			],
			[
				"cont",
				"context_"
			],
			[
				"init",
				"initialUserAction"
			],
			[
				"even",
				"eventBus_"
			],
			[
				"ads",
				"adsEngine_"
			],
			[
				"pad",
				"padding-left"
			],
			[
				"padding",
				"padding-left"
			],
			[
				"isPl",
				"isPlayingAd_"
			],
			[
				"isL",
				"isLinear"
			],
			[
				"is",
				"isLinear"
			],
			[
				"playerC",
				"playerContainer"
			],
			[
				"pl",
				"playerContainer"
			],
			[
				"playerCo",
				"playerContainer_"
			],
			[
				"media",
				"mediaEngine_"
			],
			[
				"play",
				"playerContainer"
			],
			[
				"medi",
				"mediaEngine_"
			],
			[
				"padd",
				"padding"
			],
			[
				"back",
				"background-color"
			],
			[
				"backgr",
				"background-color"
			],
			[
				"marg",
				"margin-bottom"
			],
			[
				"bac",
				"background-color"
			],
			[
				"mar",
				"margin-bottom"
			],
			[
				"border-bottom",
				"border-bottom-width"
			],
			[
				"bor",
				"border-bottom"
			],
			[
				"vi",
				"visible"
			],
			[
				"recei",
				"receiverApplicationId"
			],
			[
				"requ",
				"requestSession"
			],
			[
				"initD",
				"initData_"
			],
			[
				"ab",
				"ab2str_v1"
			],
			[
				"ar",
				"ab2str_v1"
			],
			[
				"update",
				"updateHeaders"
			],
			[
				"sys",
				"systemString"
			],
			[
				"load",
				"loadCertificate"
			],
			[
				"tota",
				"totalTimeElement_"
			],
			[
				"onMedi",
				"onMediaEnded"
			],
			[
				"Cast",
				"CastReceiver"
			],
			[
				"remote",
				"remotePlayerHandler"
			],
			[
				"ca",
				"castSender"
			],
			[
				"RemotePlay",
				"RemotePlayerHandler"
			],
			[
				"retry",
				"retryInterval"
			],
			[
				"strea",
				"streamInfo_"
			],
			[
				"keyS",
				"keySystem"
			],
			[
				"KeyS",
				"KeySystemClearKey"
			],
			[
				"Rec",
				"Rectangle3"
			],
			[
				"pla",
				"player"
			],
			[
				"con",
				"content"
			],
			[
				"cas",
				"castSession"
			],
			[
				"me",
				"mediaManager_"
			],
			[
				"remo",
				"remotePlayerController"
			],
			[
				"idle",
				"idleTimerId_"
			],
			[
				"onSetVo",
				"onSetVolumeOrig_"
			],
			[
				"volu",
				"volumeLevel"
			],
			[
				"fn",
				"function"
			],
			[
				"prot",
				"prototype"
			],
			[
				"sample",
				"sampleplayer"
			],
			[
				"playread",
				"playready"
			],
			[
				"licen",
				"licenseUrl"
			],
			[
				"dr",
				"drmType"
			],
			[
				"keySy",
				"keySystem"
			],
			[
				"key",
				"keySystem_"
			],
			[
				"KeySyste",
				"KeySystemPlayReady"
			],
			[
				"g",
				"GetKSString"
			],
			[
				"st",
				"streamInfo_"
			],
			[
				"config",
				"configIdx"
			],
			[
				"pro",
				"protectionModel"
			],
			[
				"robust",
				"robustnessLevel"
			],
			[
				"rob",
				"robustnessLevel"
			],
			[
				"vid",
				"videoCapabilities"
			],
			[
				"video",
				"videoCodec"
			],
			[
				"gene",
				"generateRequest"
			],
			[
				"curr",
				"currentMediaURL"
			],
			[
				"cur",
				"currentMediaURL"
			],
			[
				"asb",
				"asbCtrl"
			],
			[
				"mim",
				"mimeCodecV"
			],
			[
				"fun",
				"function"
			],
			[
				"Tet",
				"TestWebWorker"
			],
			[
				"onMe",
				"onMediaSourceClose"
			]
		]
	},
	"buffers":
	[
		{
			"file": "src/player.js",
			"settings":
			{
				"buffer_size": 13101,
				"encoding": "UTF-8 with BOM",
				"line_ending": "Unix"
			}
		},
		{
			"file": "src/ads/ads_engine.js",
			"settings":
			{
				"buffer_size": 14764,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			}
		},
		{
			"contents": "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n/*! codem-isoboxer v0.2.2 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt */\nvar ISOBoxer = {};\n\nISOBoxer.parseBuffer = function(arrayBuffer) {\n  return new ISOFile(arrayBuffer).parse();\n};\n\nISOBoxer.Utils = {};\nISOBoxer.Utils.dataViewToString = function(dataView, encoding) {\n  var impliedEncoding = encoding || 'utf-8'\n  if (typeof TextDecoder !== 'undefined') {\n    return new TextDecoder(impliedEncoding).decode(dataView);\n  }\n  var a = [];\n  var i = 0;\n  \n  if (impliedEncoding === 'utf-8') {\n    /* The following algorithm is essentially a rewrite of the UTF8.decode at \n    http://bannister.us/weblog/2007/simple-base64-encodedecode-javascript/\n    */\n  \n    while (i < dataView.byteLength) {\n      var c = dataView.getUint8(i++);\n      if (c < 0x80) {\n        // 1-byte character (7 bits)\n      } else if (c < 0xe0) {\n        // 2-byte character (11 bits)\n        c = (c & 0x1f) << 6;\n        c |= (dataView.getUint8(i++) & 0x3f);\n      } else if (c < 0xf0) {\n        // 3-byte character (16 bits)\n        c = (c & 0xf) << 12;\n        c |= (dataView.getUint8(i++) & 0x3f) << 6;\n        c |= (dataView.getUint8(i++) & 0x3f);\n      } else {\n        // 4-byte character (21 bits)\n        c = (c & 0x7) << 18;\n        c |= (dataView.getUint8(i++) & 0x3f) << 12;\n        c |= (dataView.getUint8(i++) & 0x3f) << 6;\n        c |= (dataView.getUint8(i++) & 0x3f);\n      }\n      a.push(String.fromCharCode(c));\n    }\n  } else { // Just map byte-by-byte (probably wrong)\n    while (i < dataView.byteLength) {\n      a.push(String.fromCharCode(dataView.getUint8(i++)));\n    }\n  }\n  return a.join('');  \n};\n\nif (typeof exports !== 'undefined') {\n  exports.parseBuffer = ISOBoxer.parseBuffer;\n  exports.Utils       = ISOBoxer.Utils;\n};\nISOBoxer.Cursor = function(initialOffset) {\n  this.offset = (typeof initialOffset == 'undefined' ? 0 : initialOffset);\n};\nvar ISOFile = function(arrayBuffer) {\n  this._raw = new DataView(arrayBuffer);\n  this._cursor = new ISOBoxer.Cursor();\n  this.boxes = [];\n}\n\nISOFile.prototype.fetch = function(type) {\n  var result = this.fetchAll(type, true);\n  return (result.length ? result[0] : null);\n}\n\nISOFile.prototype.fetchAll = function(type, returnEarly) {\n  var result = [];\n  ISOFile._sweep.call(this, type, result, returnEarly);\n  return result;\n}\n\nISOFile.prototype.parse = function() {\n  this._cursor.offset = 0;\n  this.boxes = [];\n  while (this._cursor.offset < this._raw.byteLength) {\n    var box = ISOBox.parse(this);\n\n    // Box could not be parsed\n    if (typeof box.type === 'undefined') break;\n\n    this.boxes.push(box);\n  }\n  return this;\n}\n\nISOFile._sweep = function(type, result, returnEarly) {\n  if (this.type && this.type == type) result.push(this);\n  for (var box in this.boxes) {\n    if (result.length && returnEarly) return;\n    ISOFile._sweep.call(this.boxes[box], type, result, returnEarly);\n  }\n};\nvar ISOBox = function() {\n  this._cursor = new ISOBoxer.Cursor();\n}\n\nISOBox.parse = function(parent) {\n  var newBox = new ISOBox();\n  newBox._offset = parent._cursor.offset;\n  newBox._root = (parent._root ? parent._root : parent);\n  newBox._raw = parent._raw;\n  newBox._parent = parent;\n  newBox._parseBox();\n  parent._cursor.offset = newBox._raw.byteOffset + newBox._raw.byteLength;\n  return newBox;\n}\n\nISOBox.prototype._readInt = function(size) {\n  var result = null;\n  switch(size) {\n  case 8:\n    result = this._raw.getInt8(this._cursor.offset - this._raw.byteOffset);\n    break;\n  case 16:\n    result = this._raw.getInt16(this._cursor.offset - this._raw.byteOffset);\n    break;\n  case 32:\n    result = this._raw.getInt32(this._cursor.offset - this._raw.byteOffset);\n    break;\n  case 64:\n    // Warning: JavaScript cannot handle 64-bit integers natively.\n    // This will give unexpected results for integers >= 2^53\n    var s1 = this._raw.getInt32(this._cursor.offset - this._raw.byteOffset);\n    var s2 = this._raw.getInt32(this._cursor.offset - this._raw.byteOffset + 4);\n    result = (s1 * Math.pow(2,32)) + s2;\n    break;\n  }\n  this._cursor.offset += (size >> 3);\n  return result;        \n}\n\nISOBox.prototype._readUint = function(size) {\n  var result = null;\n  switch(size) {\n  case 8:\n    result = this._raw.getUint8(this._cursor.offset - this._raw.byteOffset);\n    break;\n  case 16:\n    result = this._raw.getUint16(this._cursor.offset - this._raw.byteOffset);\n    break;\n  case 24:\n    var s1 = this._raw.getUint16(this._cursor.offset - this._raw.byteOffset);\n    var s2 = this._raw.getUint8(this._cursor.offset - this._raw.byteOffset + 2);\n    result = (s1 << 8) + s2;\n    break;\n  case 32:\n    result = this._raw.getUint32(this._cursor.offset - this._raw.byteOffset);\n    break;\n  case 64:\n    // Warning: JavaScript cannot handle 64-bit integers natively.\n    // This will give unexpected results for integers >= 2^53\n    var s1 = this._raw.getUint32(this._cursor.offset - this._raw.byteOffset);\n    var s2 = this._raw.getUint32(this._cursor.offset - this._raw.byteOffset + 4);\n    result = (s1 * Math.pow(2,32)) + s2;\n    break;\n  }\n  this._cursor.offset += (size >> 3);\n  return result;        \n}\n\nISOBox.prototype._readString = function(length) {\n  var str = '';\n  for (var c = 0; c < length; c++) {\n    var char = this._readUint(8);\n    str += String.fromCharCode(char);\n  }\n  return str;    \n}\n\nISOBox.prototype._readTerminatedString = function() {\n  var str = '';\n  while (true) {\n    var char = this._readUint(8);\n    if (char == 0) break;\n    str += String.fromCharCode(char);\n  }\n  return str;\n}\n\nISOBox.prototype._readTemplate = function(size) {\n  var pre = this._readUint(size / 2);\n  var post = this._readUint(size / 2);\n  return pre + (post / Math.pow(2, size / 2));\n}\n\nISOBox.prototype._parseBox = function() {\n  this._cursor.offset = this._offset;\n  \n  // return immediately if there are not enough bytes to read the header\n  if (this._offset + 8 > this._raw.buffer.byteLength) {\n    this._root._incomplete = true;\n    return;\n  }\n  \n  this.size = this._readUint(32);\n  this.type = this._readString(4);\n\n  if (this.size == 1)      { this.largesize = this._readUint(64); }\n  if (this.type == 'uuid') { this.usertype = this._readString(16); }\n\n  switch(this.size) {\n  case 0:\n    this._raw = new DataView(this._raw.buffer, this._offset, (this._raw.byteLength - this._cursor.offset));\n    break;\n  case 1:\n    if (this._offset + this.size > this._raw.buffer.byteLength) {\n      this._incomplete = true;\n      this._root._incomplete = true;\n    } else {\n      this._raw = new DataView(this._raw.buffer, this._offset, this.largesize);      \n    }\n    break;\n  default:\n    if (this._offset + this.size > this._raw.buffer.byteLength) {\n      this._incomplete = true;\n      this._root._incomplete = true;\n    } else {\n      this._raw = new DataView(this._raw.buffer, this._offset, this.size);      \n    }\n  }\n\n  // additional parsing\n  if (!this._incomplete && this._boxParsers[this.type]) this._boxParsers[this.type].call(this);    \n}\n\nISOBox.prototype._parseFullBox = function() {\n  this.version = this._readUint(8);\n  this.flags = this._readUint(24);\n}\n\nISOBox.prototype._boxParsers = {};;\n// Simple container boxes, all from ISO/IEC 14496-12:2012 except vttc which is from 14496-30.\n[\n  'moov', 'trak', 'tref', 'mdia', 'minf', 'stbl', 'edts', 'dinf',\n  'mvex', 'moof', 'traf', 'mfra', 'udta', 'meco', 'strk', 'vttc'\n].forEach(function(boxType) {\n  ISOBox.prototype._boxParsers[boxType] = function() {\n    this.boxes = [];\n    while (this._cursor.offset - this._raw.byteOffset < this._raw.byteLength) {\n      this.boxes.push(ISOBox.parse(this));\n    }  \n  }  \n})\n;\n// ISO/IEC 14496-12:2012 - 8.6.6 Edit List Box\nISOBox.prototype._boxParsers['elst'] = function() {\n  this._parseFullBox();\n  this.entry_count = this._readUint(32);\n  this.entries = [];\n  \n  for (var i=1; i <= this.entry_count; i++) {\n    var entry = {};\n    if (this.version == 1) {\n      entry.segment_duration  = this._readUint(64);\n      entry.media_time        = this._readInt(64);\n    } else {\n      entry.segment_duration  = this._readUint(32);\n      entry.media_time        = this._readInt(32);\n    }\n    entry.media_rate_integer  = this._readInt(16);\n    entry.media_rate_fraction = this._readInt(16);\n    this.entries.push(entry);\n  }\n};\n// ISO/IEC 23009-1:2014 - 5.10.3.3 Event Message Box\nISOBox.prototype._boxParsers['emsg'] = function() {\n  this._parseFullBox();\n  this.scheme_id_uri           = this._readTerminatedString();\n  this.value                   = this._readTerminatedString();\n  this.timescale               = this._readUint(32);\n  this.presentation_time_delta = this._readUint(32);\n  this.event_duration          = this._readUint(32);\n  this.id                      = this._readUint(32);\n  this.message_data            = new DataView(this._raw.buffer, this._cursor.offset, this._raw.byteLength - (this._cursor.offset - this._offset));\n};\n// ISO/IEC 14496-12:2012 - 8.1.2 Free Space Box\nISOBox.prototype._boxParsers['free'] = ISOBox.prototype._boxParsers['skip'] = function() {\n  this.data = new DataView(this._raw.buffer, this._cursor.offset, this._raw.byteLength - (this._cursor.offset - this._offset));\n};\n// ISO/IEC 14496-12:2012 - 4.3 File Type Box / 8.16.2 Segment Type Box\nISOBox.prototype._boxParsers['ftyp'] = ISOBox.prototype._boxParsers['styp'] = function() {\n  this.major_brand = this._readString(4);\n  this.minor_versions = this._readUint(32);\n  this.compatible_brands = [];\n  \n  while (this._cursor.offset - this._raw.byteOffset < this._raw.byteLength) {\n    this.compatible_brands.push(this._readString(4));\n  }\n};\n// ISO/IEC 14496-12:2012 - 8.4.3 Handler Reference Box\nISOBox.prototype._boxParsers['hdlr'] = function() {\n  this._parseFullBox();\n  this.pre_defined = this._readUint(32);\n  this.handler_type = this._readString(4);\n  this.reserved = [this._readUint(32), this._readUint(32), this._readUint(32)]\n  this.name = this._readTerminatedString()\n};\n// ISO/IEC 14496-12:2012 - 8.1.1 Media Data Box\nISOBox.prototype._boxParsers['mdat'] = function() {\n  this.data = new DataView(this._raw.buffer, this._cursor.offset, this._raw.byteLength - (this._cursor.offset - this._offset));\n};\n// ISO/IEC 14496-12:2012 - 8.4.2 Media Header Box\nISOBox.prototype._boxParsers['mdhd'] = function() {\n  this._parseFullBox();\n  if (this.version == 1) {\n    this.creation_time = this._readUint(64);\n    this.modification_time = this._readUint(64);\n    this.timescale = this._readUint(32);\n    this.duration = this._readUint(64);\n  } else {\n    this.creation_time = this._readUint(32);\n    this.modification_time = this._readUint(32);\n    this.timescale = this._readUint(32);\n    this.duration = this._readUint(32);\n  }\n  var language = this._readUint(16);\n  this.pad = (language >> 15);\n  this.language = String.fromCharCode(\n    ((language >> 10) & 0x1F) + 0x60,\n    ((language >> 5) & 0x1F) + 0x60,\n    (language & 0x1F) + 0x60\n  );\n  this.pre_defined = this._readUint(16);\n};\n// ISO/IEC 14496-12:2012 - 8.8.5 Movie Fragment Header Box\nISOBox.prototype._boxParsers['mfhd'] = function() {\n  this._parseFullBox();\n  this.sequence_number = this._readUint(32);\n};\n// ISO/IEC 14496-12:2012 - 8.2.2 Movie Header Box\nISOBox.prototype._boxParsers['mvhd'] = function() {\n  this._parseFullBox();\n  \n  if (this.version == 1) {\n    this.creation_time     = this._readUint(64);\n    this.modification_time = this._readUint(64);\n    this.timescale         = this._readUint(32);\n    this.duration          = this._readUint(64);\n  } else {\n    this.creation_time     = this._readUint(32);\n    this.modification_time = this._readUint(32);\n    this.timescale         = this._readUint(32);\n    this.duration          = this._readUint(32);      \n  }\n  \n  this.rate      = this._readTemplate(32);\n  this.volume    = this._readTemplate(16);\n  this.reserved1 = this._readUint(16);\n  this.reserved2 = [ this._readUint(32), this._readUint(32) ];\n  this.matrix = [];\n  for (var i=0; i<9; i++) {\n    this.matrix.push(this._readTemplate(32));\n  }\n  this.pre_defined = [];\n  for (var i=0; i<6; i++) {\n    this.pre_defined.push(this._readUint(32));\n  }\n  this.next_track_ID = this._readUint(32);\n};\n// ISO/IEC 14496-30:2014 - WebVTT Cue Payload Box.\nISOBox.prototype._boxParsers['payl'] = function() {\n  var cue_text_raw = new DataView(this._raw.buffer, this._cursor.offset, this._raw.byteLength - (this._cursor.offset - this._offset));\n  this.cue_text = ISOBoxer.Utils.dataViewToString(cue_text_raw);\n}\n;\n// ISO/IEC 14496-12:2012 - 8.16.3 Segment Index Box\nISOBox.prototype._boxParsers['sidx'] = function() {\n  this._parseFullBox();\n  this.reference_ID = this._readUint(32);\n  this.timescale = this._readUint(32);\n  if (this.version == 0) {\n    this.earliest_presentation_time = this._readUint(32);\n    this.first_offset = this._readUint(32);\n  } else {\n    this.earliest_presentation_time = this._readUint(64);\n    this.first_offset = this._readUint(64);    \n  }\n  this.reserved = this._readUint(16);\n  this.reference_count = this._readUint(16);\n  this.references = [];\n  for (var i=0; i<this.reference_count; i++) {\n    var ref = {};\n    var reference = this._readUint(32);\n    ref.reference_type = (reference >> 31) & 0x1;\n    ref.referenced_size = reference & 0x7FFFFFFF;\n    ref.subsegment_duration = this._readUint(32);\n    var sap = this._readUint(32);\n    ref.starts_with_SAP = (sap >> 31) & 0x1;\n    ref.SAP_type = (sap >> 28) & 0x7;\n    ref.SAP_delta_time = sap & 0xFFFFFFF;\n    this.references.push(ref);\n  }\n};\n// ISO/IEC 14496-12:2012 - 8.16.4 Subsegment Index Box\nISOBox.prototype._boxParsers['ssix'] = function() {\n  this._parseFullBox();\n  this.subsegment_count = this._readUint(32);\n  this.subsegments = [];\n\n  for (var i=0; i<this.subsegment_count; i++) {\n    var subsegment = {};\n    subsegment.ranges_count = this._readUint(32);\n    subsegment.ranges = [];\n    \n    for (var j=0; j<subsegment.ranges_count; j++) {\n      var range = {};\n      range.level = this._readUint(8);\n      range.range_size = this._readUint(24);\n      subsegment.ranges.push(range);\n    }\n    this.subsegments.push(subsegment);\n  }\n};\n// ISO/IEC 14496-12:2012 - 8.8.12 Track Fragmnent Decode Time\nISOBox.prototype._boxParsers['tfdt'] = function() {\n  this._parseFullBox();\n  if (this.version == 1) {\n    this.baseMediaDecodeTime = this._readUint(64);\n  } else {\n    this.baseMediaDecodeTime = this._readUint(32);    \n  }\n};\n// ISO/IEC 14496-12:2012 - 8.8.7 Track Fragment Header Box\nISOBox.prototype._boxParsers['tfhd'] = function() {\n  this._parseFullBox();\n  this.track_ID = this._readUint(32);\n  if (this.flags & 0x1) this.base_data_offset = this._readUint(64);\n  if (this.flags & 0x2) this.sample_description_offset = this._readUint(32);\n  if (this.flags & 0x8) this.default_sample_duration = this._readUint(32);\n  if (this.flags & 0x10) this.default_sample_size = this._readUint(32);\n  if (this.flags & 0x20) this.default_sample_flags = this._readUint(32);\n};\n// ISO/IEC 14496-12:2012 - 8.3.2 Track Header Box\nISOBox.prototype._boxParsers['tkhd'] = function() {\n  this._parseFullBox();\n  \n  if (this.version == 1) {\n    this.creation_time     = this._readUint(64);\n    this.modification_time = this._readUint(64);\n    this.track_ID          = this._readUint(32);\n    this.reserved1         = this._readUint(32);\n    this.duration          = this._readUint(64);\n  } else {\n    this.creation_time     = this._readUint(32);\n    this.modification_time = this._readUint(32);\n    this.track_ID          = this._readUint(32);\n    this.reserved1         = this._readUint(32);\n    this.duration          = this._readUint(32);\n  }\n  \n  this.reserved2 = [\n    this._readUint(32),\n    this._readUint(32)\n  ];\n  this.layer = this._readUint(16);\n  this.alternate_group = this._readUint(16);\n  this.volume = this._readTemplate(16);\n  this.reserved3 = this._readUint(16);\n  this.matrix = [];\n  for (var i=0; i<9; i++) {\n    this.matrix.push(this._readTemplate(32));\n  }\n  this.width = this._readUint(32);\n  this.height = this._readUint(32);\n};\n// ISO/IEC 14496-12:2012 - 8.8.8 Track Run Box\n// Note: the 'trun' box has a direct relation to the 'tfhd' box for defaults.\n// These defaults are not set explicitly here, but are left to resolve for the user.\nISOBox.prototype._boxParsers['trun'] = function() {\n  this._parseFullBox();\n  this.sample_count = this._readUint(32);\n  if (this.flags & 0x1) this.data_offset = this._readInt(32);\n  if (this.flags & 0x4) this.first_sample_flags = this._readUint(32);\n  this.samples = [];\n  for (var i=0; i<this.sample_count; i++) {\n    var sample = {};\n    if (this.flags & 0x100) sample.sample_duration = this._readUint(32);\n    if (this.flags & 0x200) sample.sample_size = this._readUint(32);\n    if (this.flags & 0x400) sample.sample_flags = this._readUint(32);\n    if (this.flags & 0x800) {\n      if (this.version == 0) {\n        sample.sample_composition_time_offset = this._readUint(32);\n      } else {\n        sample.sample_composition_time_offset = this._readInt(32);\n      }\n    }\n    this.samples.push(sample);\n  }\n};\n// ISO/IEC 14496-30:2014 - WebVTT Source Label Box\nISOBox.prototype._boxParsers['vlab'] = function() {\n  var source_label_raw = new DataView(this._raw.buffer, this._cursor.offset, this._raw.byteLength - (this._cursor.offset - this._offset));\n  this.source_label = ISOBoxer.Utils.dataViewToString(source_label_raw);\n}\n;\n// ISO/IEC 14496-30:2014 - WebVTT Configuration Box\nISOBox.prototype._boxParsers['vttC'] = function() {\n  var config_raw = new DataView(this._raw.buffer, this._cursor.offset, this._raw.byteLength - (this._cursor.offset - this._offset));\n  this.config = ISOBoxer.Utils.dataViewToString(config_raw);\n}\n;\n// ISO/IEC 14496-30:2014 - WebVTT Empty Sample Box\nISOBox.prototype._boxParsers['vtte'] = function() {\n  // Nothing should happen here.\n}\n\n},{}],2:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _FactoryMaker = _dereq_(13);\n\nvar _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);\n\nvar _EventBus = _dereq_(12);\n\nvar _EventBus2 = _interopRequireDefault(_EventBus);\n\nvar _CoreEvents = _dereq_(10);\n\nvar _CoreEvents2 = _interopRequireDefault(_CoreEvents);\n\nvar _Debug = _dereq_(11);\n\nvar _Debug2 = _interopRequireDefault(_Debug);\n\nvar _ui_engine = _dereq_(45);\n\nvar _ui_engine2 = _interopRequireDefault(_ui_engine);\n\nvar _media_source_engine = _dereq_(22);\n\nvar _media_source_engine2 = _interopRequireDefault(_media_source_engine);\n\nvar _text_engine = _dereq_(44);\n\nvar _text_engine2 = _interopRequireDefault(_text_engine);\n\nvar _media_engine = _dereq_(21);\n\nvar _media_engine2 = _interopRequireDefault(_media_engine);\n\nvar _drm_engine = _dereq_(18);\n\nvar _drm_engine2 = _interopRequireDefault(_drm_engine);\n\nvar _ads_engine = _dereq_(6);\n\nvar _ads_engine2 = _interopRequireDefault(_ads_engine);\n\nvar _timeRanges = _dereq_(49);\n\nvar _timeRanges2 = _interopRequireDefault(_timeRanges);\n\nvar _xhr_loader = _dereq_(50);\n\nvar _xhr_loader2 = _interopRequireDefault(_xhr_loader);\n\nvar _common_utils = _dereq_(47);\n\nvar _common_utils2 = _interopRequireDefault(_common_utils);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\n//////////////////////////////////////////////////////////////////////////////\nfunction Player(cfg) {\n    var cfg_ = cfg;\n    var context_ = {};\n\n    var uiEngine_ = void 0;\n    var media_ = void 0;\n\n    var audioIndex_ = 0;\n    var videoIndex_ = 0;\n    var streamInfo_ = null;\n\n    var eventBus_ = void 0;\n    var debug_ = void 0;\n    var xhrLoader_ = void 0;\n    var mediaEngine_ = void 0;\n    var textEngine_ = void 0;\n    var mseEngine_ = void 0;\n    var drmEngine_ = void 0;\n\n    // ads part\n    var adsEngine_ = void 0;\n\n    function setup() {\n        initComponent();\n        initData();\n        addEventListeners();\n    }\n\n    function open(info) {\n        streamInfo_ = info;\n        debug_.log('Player, +open');\n        if (0) {\n            if (info.audioCodec) {\n                debug_.log('Player, +open: ' + info.audioCodec);\n            }\n            if (info.videoCodec) {\n                debug_.log('Player, +open: ' + info.videoCodec);\n            }\n\n            if (info.audioCodec && MediaSource && !MediaSource.isTypeSupported(info.audioCodec)) {\n                debug_.log('Don\\'t support: ' + info.audioCodec);\n                return;\n            }\n\n            if (info.videoCodec && MediaSource && !MediaSource.isTypeSupported(info.videoCodec)) {\n                debug_.log('Don\\'t support: ' + info.videoCodec);\n                return;\n            }\n\n            mseEngine_.open(streamInfo_);\n\n            var objURL = window.URL.createObjectURL(mseEngine_.getMediaSource());\n            mediaEngine_.setSrc(objURL);\n            drmEngine_.setDrmInfo(streamInfo_);\n        }\n\n        addPD();\n\n        debug_.log('Player, -open');\n    }\n\n    function close() {\n        if (adsEngine_) {\n            adsEngine_.close();\n        }\n        if (mediaEngine_) {\n            mediaEngine_.close();\n        }\n        if (mseEngine_) {\n            mseEngine_.close();\n        }\n\n        audioIndex_ = 0;\n        videoIndex_ = 0;\n        streamInfo_ = null;\n    }\n\n    function dellAll() {\n        mseEngine_.removeBuffer();\n    }\n\n    //////////////////////////////////////////////////////////////\n    function addA() {\n        if (audioIndex_ >= streamInfo_.aContents.length) {\n            debug_.log('There don\\'t have more content to add.');\n            return;\n        }\n\n        var url = streamInfo_.aContents[audioIndex_];\n\n        var self = this;\n        function cbSuccess(bytes) {\n            //debug_.log('before my appendBuffer');\n            mseEngine_.appendBuffer('audio', bytes);\n\n            audioIndex_++;\n            //debug_.log('after my appendBuffer');\n        }\n\n        var request = {\n            url: url,\n            cbSuccess: cbSuccess.bind(self)\n        };\n        xhrLoader_.load(request);\n    };\n\n    function addV() {\n        if (videoIndex_ >= streamInfo_.vContents.length) {\n            debug_.log('There don\\'t have more content to add.');\n            return;\n        }\n\n        var url = streamInfo_.vContents[videoIndex_];\n\n        var self = this;\n        function cbSuccess(bytes) {\n            //debug_.log('before my appendBuffer');\n            mseEngine_.appendBuffer('video', bytes);\n            videoIndex_++;\n            //debug_.log('after my appendBuffer');\n        }\n\n        var request = {\n            url: url,\n            cbSuccess: cbSuccess.bind(self)\n        };\n        xhrLoader_.load(request);\n    };\n\n    function addPD() {\n        debug_.log('+addPD, pdContent: ' + streamInfo_.pdContent);\n        var url = streamInfo_.pdContent;\n\n        var method = 1;\n        if (method === 1) {\n            media_.src = streamInfo_.pdContent;\n        } else {\n            var cbSuccess = function cbSuccess(bytes) {\n                mseEngine_.appendBuffer('video', bytes);\n            };\n\n            var self = this;\n\n            var request = {\n                url: url,\n                cbSuccess: cbSuccess.bind(self)\n            };\n            xhrLoader_.load(request);\n        }\n\n        if (adsEngine_) {\n            adsEngine_.open();\n        }\n\n        debug_.log('-addPD');\n    };\n\n    //////////////////////////////////////////////////////////////////////////////////\n    // 操作API\n    function on(type, listener, scope) {\n        eventBus_.on(type, listener, scope);\n    }\n\n    function off(type, listener, scope) {\n        eventBus_.off(type, listener, scope);\n    }\n\n    function play() {\n        if (adsEngine_ && adsEngine_.isPlayingAd() && adsEngine_.isLinearAd()) {\n            adsEngine_.play();\n        } else {\n            if (!mediaEngine_) {\n                return;\n            }\n            mediaEngine_.play();\n        }\n    }\n\n    function pause() {\n        if (adsEngine_ && adsEngine_.isPlayingAd() && adsEngine_.isLinearAd()) {\n            adsEngine_.pause();\n        } else {\n            if (!mediaEngine_) {\n                return;\n            }\n            mediaEngine_.pause();\n        }\n    }\n\n    function isPaused() {\n        if (adsEngine_ && adsEngine_.isPlayingAd() && adsEngine_.isLinearAd()) {\n            return adsEngine_.isPaused();\n        } else {\n            if (!mediaEngine_) {\n                return;\n            }\n            return mediaEngine_.isPaused();\n        }\n    }\n\n    function currentTime() {\n        if (!mediaEngine_) {\n            return;\n        }\n        return mediaEngine_.currentTime();\n    }\n\n    function duration() {\n        if (!mediaEngine_) {\n            return;\n        }\n        return mediaEngine_.duration();\n    }\n\n    function isEnded() {\n        if (adsEngine_ && adsEngine_.isPlayingAd() && adsEngine_.isLinearAd()) {} else {\n            if (!mediaEngine_) {\n                return;\n            }\n            mediaEngine_.isEnded();\n        }\n    }\n\n    function mute() {\n        if (adsEngine_ && adsEngine_.isPlayingAd()) {\n            adsEngine_.mute();\n        } else {\n            if (!mediaEngine_) {\n                return;\n            }\n            mediaEngine_.mute();\n        }\n    }\n\n    function unmute() {\n        if (adsEngine_ && adsEngine_.isPlayingAd()) {\n            adsEngine_.unmute();\n        } else {\n            if (!mediaEngine_) {\n                return;\n            }\n            mediaEngine_.unmute();\n        }\n    }\n\n    function isMuted() {\n        if (adsEngine_ && adsEngine_.isPlayingAd()) {\n            return adsEngine_.isMuted();\n        } else {\n            if (!mediaEngine_) {\n                return;\n            }\n            return mediaEngine_.isMuted();\n        }\n    }\n\n    function seek(secs) {\n        media_.currentTime = secs;\n    }\n\n    /////////////////////////////////////////////////////////////////////////////////\n    // Events API\n    function cast() {};\n\n    function signalEndOfStream() {\n        if (mseEngine_) {\n            mseEngine_.signalEndOfStream();\n        }\n    }\n\n    // Begin - TextEngine\n    function addTextTrack() {\n        textEngine_.addTextTrack();\n    };\n\n    function removeTextTrack() {};\n\n    function setTextTrackHidden() {\n        textEngine_.setTextTrackHidden();\n    };\n\n    function setCueAlign(align) {\n        textEngine_.setCueAlign(align);\n    };\n\n    function setCueLine(line) {\n        textEngine_.setCueLine(line);\n    };\n\n    function setCueLineAlign(lineAlign) {\n        textEngine_.setCueLineAlign(lineAlign);\n    };\n    // End - TextEngine\n\n    /////////////////////////////////////////////////////////////////////////////////\n    // private functions\n    function initComponent() {\n        // ui component\n        uiEngine_ = new _ui_engine2.default(cfg_);\n        media_ = uiEngine_.getVideo();\n        if (cfg_.poster) {\n            media_.poster = cfg_.poster;\n        }\n\n        // enging component\n        eventBus_ = (0, _EventBus2.default)(oldmtn).getInstance();\n        debug_ = (0, _Debug2.default)(oldmtn).getInstance();\n        xhrLoader_ = new _xhr_loader2.default();\n        mediaEngine_ = new _media_engine2.default(media_);\n        textEngine_ = new _text_engine2.default(media_);\n        mseEngine_ = new _media_source_engine2.default();\n        drmEngine_ = new _drm_engine2.default(media_);\n        if (cfg_.advertising) {\n            var adContainer = uiEngine_.getAdContainer();\n            adsEngine_ = new _ads_engine2.default(adContainer, media_, cfg_.advertising);\n        }\n    }\n\n    function initData() {\n        audioIndex_ = 0;\n        videoIndex_ = 0;\n        streamInfo_ = null;\n    }\n\n    function addEventListeners() {\n        function onFullscreenChange(e) {\n            debug_.log('onFullscreenChange');\n            if (adsEngine_) {\n                adsEngine_.resize();\n            }\n        }\n        document.addEventListener(\"fullscreenchange\", onFullscreenChange);\n        document.addEventListener(\"mozfullscreenchange\", onFullscreenChange);\n        document.addEventListener(\"webkitfullscreenchange\", onFullscreenChange);\n        document.addEventListener(\"msfullscreenchange\", onFullscreenChange);\n\n        eventBus_.on(oldmtn.Events.MSE_OPENED, onMSEOpened, {});\n\n        eventBus_.on(oldmtn.Events.MEDIA_DURATION_CHANGED, onMediaDurationChanged, {});\n        eventBus_.on(oldmtn.Events.MEDIA_ENDED, onMediaEnded, {});\n\n        eventBus_.on(oldmtn.Events.SB_UPDATE_ENDED, onSbUpdateEnded, {});\n\n        eventBus_.on(oldmtn.Events.AD_COMPLETE, onAdComplete, {});\n        eventBus_.on(oldmtn.Events.AD_CONTENT_PAUSE_REQUESTED, onAdContentPauseRequested, {});\n        eventBus_.on(oldmtn.Events.AD_CONTENT_RESUME_REQUESTED, onAdContentResumeRequested, {});\n        eventBus_.on(oldmtn.Events.AD_STARTED, onAdStarted, {});\n    };\n\n    //////////////////////////////////////////////////////////////////////////////////////////\n    // Begin -- internal events listener functions\n    function onMSEOpened() {\n        mediaEngine_.revokeSrc();\n    }\n\n    function onMediaDurationChanged() {}\n\n    function onMediaEnded() {\n        if (adsEngine_) {\n            adsEngine_.onMediaEnded();\n        }\n    }\n\n    function onSbUpdateEnded() {\n        // Need to signal end of stream when add pd to mse\n        if (adsEngine_) {\n            mseEngine_.signalEndOfStream();\n        }\n    }\n\n    function onAdContentPauseRequested() {\n        mediaEngine_.pause();\n    }\n\n    function onAdContentResumeRequested() {\n        if (!mediaEngine_.isEnded()) {\n            mediaEngine_.play();\n        }\n    }\n\n    function onAdStarted(e) {\n        var ad = e.ad;\n\n        var selectionCriteria = new google.ima.CompanionAdSelectionSettings();\n        selectionCriteria.resourceType = google.ima.CompanionAdSelectionSettings.ResourceType.STATIC;\n        selectionCriteria.creativeType = google.ima.CompanionAdSelectionSettings.CreativeType.IMAGE;\n        selectionCriteria.sizeCriteria = google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE;\n\n        for (var i = 0; i < cfg_.advertising.companions.length; i++) {\n            var companion = cfg_.advertising.companions[i];\n            // Get a list of companion ads for an ad slot size and CompanionAdSelectionSettings\n            var companionAds = ad.getCompanionAds(companion.width, companion.height, selectionCriteria);\n            if (companionAds && companionAds.length > 0) {\n                var companionAd = companionAds[0];\n                // Get HTML content from the companion ad.\n                var content = companionAd.getContent();\n                // Write the content to the companion ad slot.\n                var div = document.getElementById(companion.id);\n                div.innerHTML = content;\n            }\n        }\n    }\n\n    function onAdComplete() {}\n\n    // End -- internal events listener functions\n\n    ///////////////////////////////////////////////////////////////////////////\n    //function onTestMsg() {\n    function onTestMsg() {\n        console.log('+onTestMsg');\n    }\n\n    function test() {\n        //adsEngine_.initialUserAction();\n        adsEngine_.close();\n    }\n\n    function test2() {}\n\n    function attribute() {\n        var media = media_;\n        debug_.log('media.buffered : ' + _timeRanges2.default.toString(media.buffered));\n        debug_.log('media.seekable: ' + _timeRanges2.default.toString(media.seekable));\n\n        mseEngine_.setDuration(200);\n\n        var a = 2;\n        var b = a;\n    }\n\n    var instance = {\n        open: open,\n        close: close,\n        addA: addA,\n        addV: addV,\n        addPD: addPD,\n        on: on,\n        off: off,\n        play: play,\n        pause: pause,\n        isPaused: isPaused,\n        currentTime: currentTime,\n        duration: duration,\n        isEnded: isEnded,\n        mute: mute,\n        unmute: unmute,\n        isMuted: isMuted,\n        seek: seek,\n        test: test,\n        test2: test2\n    };\n\n    setup();\n\n    return instance;\n};\n\nexports.default = Player;\n\n},{\"10\":10,\"11\":11,\"12\":12,\"13\":13,\"18\":18,\"21\":21,\"22\":22,\"44\":44,\"45\":45,\"47\":47,\"49\":49,\"50\":50,\"6\":6}],3:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _FactoryMaker = _dereq_(13);\n\nvar _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);\n\nvar _EventBus = _dereq_(12);\n\nvar _EventBus2 = _interopRequireDefault(_EventBus);\n\nvar _timeRanges = _dereq_(49);\n\nvar _timeRanges2 = _interopRequireDefault(_timeRanges);\n\nvar _CoreEvents = _dereq_(10);\n\nvar _CoreEvents2 = _interopRequireDefault(_CoreEvents);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar SourceBufferWrapper = function SourceBufferWrapper(mimeType) {\n  this.mimeType_ = mimeType;\n  this.media_ = null;\n  this.mediaSrc_ = null;\n  this.buffer_ = null;\n\n  this.eventBus_ = (0, _EventBus2.default)(oldmtn).getInstance();\n};\n\nSourceBufferWrapper.prototype.init = function (mediaSource) {\n  this.mediaSrc_ = mediaSource;\n\n  this.buffer_ = mediaSource.addSourceBuffer(this.mimeType_);\n\n  this.buffer_.addEventListener('updatestart', this.sourceBuffer_updatestart.bind(this));\n  this.buffer_.addEventListener('update', this.sourceBuffer_update.bind(this));\n  this.buffer_.addEventListener('updateend', this.sourceBuffer_updateend.bind(this));\n  this.buffer_.addEventListener('error', this.sourceBuffer_error.bind(this));\n  this.buffer_.addEventListener('abort', this.sourceBuffer_abort.bind(this));\n\n  return this.buffer_;\n};\n\nSourceBufferWrapper.prototype.close = function () {\n  try {\n    this.buffer_.removeEventListener('updatestart', this.sourceBuffer_updatestart.bind(this));\n    this.buffer_.removeEventListener('update', this.sourceBuffer_update.bind(this));\n    this.buffer_.removeEventListener('updateend', this.sourceBuffer_updateend.bind(this));\n    this.buffer_.removeEventListener('error', this.sourceBuffer_error.bind(this));\n    this.buffer_.removeEventListener('abort', this.sourceBuffer_abort.bind(this));\n\n    this.mediaSrc_.removeSourceBuffer(this.buffer_);\n  } catch (ex) {\n    console.log('Caught exception when remove sb event listener');\n  }\n};\n\nSourceBufferWrapper.prototype.appendBuffer = function (bytes) {\n  if (this.buffer_) {\n    try {\n      this.buffer_.appendBuffer(bytes);\n    } catch (err) {\n      console.log('error while trying to append buffer:' + err.message);\n    }\n  }\n};\n\nSourceBufferWrapper.prototype.removeBuffer = function () {\n  console.log('--sourceBuffer_remove--');\n\n  var bufStart = void 0;\n  var bufEnd = void 0;\n  for (var i = 0; i < this.buffer_.buffered.length; i++) {\n    bufStart = this.buffer_.buffered.start(i);\n    bufEnd = this.buffer_.buffered.end(i);\n\n    this.buffer_.remove(bufStart, bufEnd);\n  }\n};\n\nSourceBufferWrapper.prototype.sourceBuffer_updatestart = function () {\n  var a = this;\n  console.log('--sourceBuffer_updatestart--');\n};\n\nSourceBufferWrapper.prototype.sourceBuffer_update = function () {\n  var a = this;\n  console.log('--sourceBuffer_update--');\n};\n\nSourceBufferWrapper.prototype.sourceBuffer_updateend = function () {\n  var a = this;\n\n  // console.log('--sourceBuffer_updateend--, clientWidth: ' + media_.clientWidth + ', clientHeight: ' + media_.clientHeight);\n  // console.log('--sourceBuffer_updateend--, width: ' + media_.width + ', height: ' + media_.height);\n  // console.log('--sourceBuffer_updateend--, videoWidth: ' + media_.videoWidth + ', videoHeight: ' + media_.videoHeight);\n\n  //\n  //console.log(`main buffered : ${TimeRanges.toString(media_.buffered)}` + ', currentTime: ' + media_.currentTime);\n\n  this.eventBus_.trigger(_CoreEvents2.default.SB_UPDATE_ENDED, {});\n};\n\nSourceBufferWrapper.prototype.sourceBuffer_error = function (e) {\n  var a = this;\n\n  console.log('--sourceBuffer_error--', e);\n};\n\nSourceBufferWrapper.prototype.sourceBuffer_abort = function () {\n  var a = this;\n\n  console.log('--sourceBuffer_abort--');\n};\n\nexports.default = SourceBufferWrapper;\n\n},{\"10\":10,\"12\":12,\"13\":13,\"49\":49}],4:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _FactoryMaker = _dereq_(13);\n\nvar _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);\n\nvar _EventBus = _dereq_(12);\n\nvar _EventBus2 = _interopRequireDefault(_EventBus);\n\nvar _VTTParser = _dereq_(38);\n\nvar _VTTParser2 = _interopRequireDefault(_VTTParser);\n\nvar _TTMLParser = _dereq_(37);\n\nvar _TTMLParser2 = _interopRequireDefault(_TTMLParser);\n\nvar _testcc = _dereq_(42);\n\nvar _decrypter = _dereq_(16);\n\nvar _decrypter2 = _interopRequireDefault(_decrypter);\n\nvar _common_utils = _dereq_(47);\n\nvar _common_utils2 = _interopRequireDefault(_common_utils);\n\nvar _xhr_loader = _dereq_(50);\n\nvar _xhr_loader2 = _interopRequireDefault(_xhr_loader);\n\nvar _FileSaver = _dereq_(5);\n\nvar _FileSaver2 = _interopRequireDefault(_FileSaver);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar mySaveAs = _FileSaver2.default;\n\nvar context = window;\n\n//////////////////////////////////////////////////////////////////////////////\nfunction TestFeature() {\n  var context_ = this.context;\n  var instance = void 0;\n  var xhrLoader = void 0;\n\n  function setup() {\n    xhrLoader = (0, _xhr_loader2.default)(context_).create();\n  }\n\n  function on1001Completed() {\n    console.debug('--on1001Completed--');\n  }\n\n  function on1001Completed2() {\n    console.debug('--on1001Completed2--');\n  }\n\n  function testEvent() {\n    var eventBus = (0, _EventBus2.default)(context).getInstance();\n\n    eventBus.on(1001, on1001Completed, instance);\n    eventBus.on(1001, on1001Completed2, instance);\n\n    eventBus.trigger(1001, {});\n    eventBus.off(1001, on1001Completed, instance);\n    eventBus.off(1001, on1001Completed2, instance);\n  }\n\n  function testForEach() {\n    var arr01 = [];\n    arr01.push('aaa');\n    arr01.push('bbbb');\n    arr01.push('c');\n    arr01.push('dd');\n\n    arr01.forEach(function (ele) {\n      console.debug(ele);\n    });\n  }\n\n  function test1() {\n    console.log('begin test1--');\n    //commonUtil.test1('2131313');\n    _common_utils2.default.test1();\n    console.log('end test1--');\n  }\n\n  function test_readfile() {}\n\n  function test_vtt() {\n    console.debug('test_vtt was called here.');\n\n    var xhr = new XMLHttpRequest();\n    xhr.onload = function () {\n      if (this.status == 200) {\n\n        var parser = (0, _VTTParser2.default)(context).getInstance();\n        var captionArray = parser.parse(this.responseText);\n        for (var i = 0; i < captionArray.length; i++) {\n          console.debug('[' + captionArray[i].start + ',' + captionArray[i].end + '] ' + captionArray[i].data);\n        }\n      }\n    };\n\n    xhr.open(\"GET\", \"http://localhost/tmp/fileSequence0.webvtt\", true);\n    xhr.send();\n  }\n\n  function test_ttml() {\n    console.debug('test_ttml was called here.');\n\n    var xhr = new XMLHttpRequest();\n    xhr.onload = function () {\n      if (this.status == 200) {\n        var parser = (0, _TTMLParser2.default)(context).getInstance();\n        parser.parse(this.responseText);\n      }\n    };\n\n    xhr.open(\"GET\", \"http://localhost/tmp/sub_eng_short.xml\", true);\n    xhr.send();\n  }\n\n  var index = 0;\n  function test_aes128() {\n    var xhr = new XMLHttpRequest();\n    xhr.responseType = 'arraybuffer';\n\n    xhr.onload = function () {\n      if (this.status == 200) {\n\n        // \n        var data = this.response;\n\n        var decrypter = new _decrypter2.default({ enableSoftwareAES: true });\n        var key = [0xF5, 0x71, 0xBF, 0xEC, 0xFD, 0x1A, 0xB9, 0xAD, 0xB0, 0x5C, 0xE6, 0xFA, 0x03, 0x0E, 0xFD, 0x81];\n        var key_u8 = new Uint8Array(key);\n        var key_buffer = key_u8.buffer;\n        var iv = [0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00];\n        var iv_u8 = new Uint8Array(iv);\n        var iv_buffer = iv_u8.buffer;\n\n        decrypter.decrypt(data, key_buffer, iv_buffer, function (decryptedData) {\n          //var endTime;\n          //try {\n          //  endTime = performance.now();\n          //} catch(error) {\n          //  endTime = Date.now();\n          //}\n          //localthis.observer.trigger(Event.FRAG_DECRYPTED, { stats: { tstart: startTime, tdecrypt: endTime } });\n          //localthis.pushDecrypted(new Uint8Array(decryptedData), decryptdata, new Uint8Array(initSegment), audioCodec, videoCodec, timeOffset, discontinuity, trackSwitch, contiguous, duration, accurateTimeOffset,defaultInitPTS);\n\n          // save ts to local\n          var blob = new Blob([new Uint8Array(decryptedData)], { type: 'application/octet-stream' });\n          var fileName = index.toString() + '.ts';\n          mySaveAs.saveAs(blob, fileName);\n          index++;\n        });\n      }\n    };\n\n    xhr.open(\"GET\", \"http://localhost/2/myhls/drm/aes/oceans_aes-audio=65000-video=571000-1.ts\", true);\n    xhr.send();\n  }\n\n  function test_xhrloader() {\n    var content = { url: 'http://10.2.68.51/7/hls/v10/gear/gear1/main.ts', rangeStart: 0, rangeEnd: 326744 };\n\n    function onSuccess(bytes) {\n      console.log('test_xhrloader, onSuccess, bytes: ' + bytes.byteLength);\n    }\n\n    xhrLoader.load(content, onSuccess);\n  }\n\n  function test_hlsparser() {}\n\n  instance = {\n    test1: test1,\n    test_readfile: test_readfile,\n    test_vtt: test_vtt,\n    test_cea608: _testcc.test_cea608,\n    test_aes128: test_aes128,\n    test_xhrloader: test_xhrloader,\n    test_hlsparser: test_hlsparser\n  };\n\n  setup();\n  return instance;\n}\n\nTestFeature.__h5player_factory_name = 'TestFeature';\nvar factory = _FactoryMaker2.default.getClassFactory(TestFeature);\nexports.default = factory;\n\n},{\"12\":12,\"13\":13,\"16\":16,\"37\":37,\"38\":38,\"42\":42,\"47\":47,\"5\":5,\"50\":50}],5:[function(_dereq_,module,exports){\n\"use strict\";\n\n/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 1.3.2\n * 2016-06-16 18:25:19\n *\n * By Eli Grey, http://eligrey.com\n * License: MIT\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs || function (view) {\n  \"use strict\";\n  // IE <10 is explicitly unsupported\n\n  if (typeof view === \"undefined\" || typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n    return;\n  }\n  var doc = view.document\n  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\n  ,\n      get_URL = function get_URL() {\n    return view.URL || view.webkitURL || view;\n  },\n      save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\"),\n      can_use_save_link = \"download\" in save_link,\n      click = function click(node) {\n    var event = new MouseEvent(\"click\");\n    node.dispatchEvent(event);\n  },\n      is_safari = /constructor/i.test(view.HTMLElement) || view.safari,\n      is_chrome_ios = /CriOS\\/[\\d]+/.test(navigator.userAgent),\n      throw_outside = function throw_outside(ex) {\n    (view.setImmediate || view.setTimeout)(function () {\n      throw ex;\n    }, 0);\n  },\n      force_saveable_type = \"application/octet-stream\"\n  // the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\n\n  ,\n      arbitrary_revoke_timeout = 1000 * 40 // in ms\n\n  ,\n      revoke = function revoke(file) {\n    var revoker = function revoker() {\n      if (typeof file === \"string\") {\n        // file is an object URL\n        get_URL().revokeObjectURL(file);\n      } else {\n        // file is a File\n        file.remove();\n      }\n    };\n    setTimeout(revoker, arbitrary_revoke_timeout);\n  },\n      dispatch = function dispatch(filesaver, event_types, event) {\n    event_types = [].concat(event_types);\n    var i = event_types.length;\n    while (i--) {\n      var listener = filesaver[\"on\" + event_types[i]];\n      if (typeof listener === \"function\") {\n        try {\n          listener.call(filesaver, event || filesaver);\n        } catch (ex) {\n          throw_outside(ex);\n        }\n      }\n    }\n  },\n      auto_bom = function auto_bom(blob) {\n    // prepend BOM for UTF-8 XML and text/* types (including HTML)\n    // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n    if (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n      return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type });\n    }\n    return blob;\n  },\n      FileSaver = function FileSaver(blob, name, no_auto_bom) {\n    if (!no_auto_bom) {\n      blob = auto_bom(blob);\n    }\n    // First try a.download, then web filesystem, then object URLs\n    var filesaver = this,\n        type = blob.type,\n        force = type === force_saveable_type,\n        object_url,\n        dispatch_all = function dispatch_all() {\n      dispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n    }\n    // on any filesys errors revert to saving with object URLs\n\n    ,\n        fs_error = function fs_error() {\n      if ((is_chrome_ios || force && is_safari) && view.FileReader) {\n        // Safari doesn't allow downloading of blob urls\n        var reader = new FileReader();\n        reader.onloadend = function () {\n          var url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');\n          var popup = view.open(url, '_blank');\n          if (!popup) view.location.href = url;\n          url = undefined; // release reference before dispatching\n          filesaver.readyState = filesaver.DONE;\n          dispatch_all();\n        };\n        reader.readAsDataURL(blob);\n        filesaver.readyState = filesaver.INIT;\n        return;\n      }\n      // don't create more object URLs than needed\n      if (!object_url) {\n        object_url = get_URL().createObjectURL(blob);\n      }\n      if (force) {\n        view.location.href = object_url;\n      } else {\n        var opened = view.open(object_url, \"_blank\");\n        if (!opened) {\n          // Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html\n          view.location.href = object_url;\n        }\n      }\n      filesaver.readyState = filesaver.DONE;\n      dispatch_all();\n      revoke(object_url);\n    };\n    filesaver.readyState = filesaver.INIT;\n\n    if (can_use_save_link) {\n      object_url = get_URL().createObjectURL(blob);\n      setTimeout(function () {\n        save_link.href = object_url;\n        save_link.download = name;\n        click(save_link);\n        dispatch_all();\n        revoke(object_url);\n        filesaver.readyState = filesaver.DONE;\n      });\n      return;\n    }\n\n    fs_error();\n  },\n      FS_proto = FileSaver.prototype,\n      saveAs = function saveAs(blob, name, no_auto_bom) {\n    return new FileSaver(blob, name || blob.name || \"download\", no_auto_bom);\n  };\n  // IE 10+ (native saveAs)\n  if (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n    return function (blob, name, no_auto_bom) {\n      name = name || blob.name || \"download\";\n\n      if (!no_auto_bom) {\n        blob = auto_bom(blob);\n      }\n      return navigator.msSaveOrOpenBlob(blob, name);\n    };\n  }\n\n  FS_proto.abort = function () {};\n  FS_proto.readyState = FS_proto.INIT = 0;\n  FS_proto.WRITING = 1;\n  FS_proto.DONE = 2;\n\n  FS_proto.error = FS_proto.onwritestart = FS_proto.onprogress = FS_proto.onwrite = FS_proto.onabort = FS_proto.onerror = FS_proto.onwriteend = null;\n\n  return saveAs;\n}(typeof self !== \"undefined\" && self || typeof window !== \"undefined\" && window || undefined.content);\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports.saveAs = saveAs;\n} else if (typeof define !== \"undefined\" && define !== null && define.amd !== null) {\n  define(\"FileSaver.js\", function () {\n    return saveAs;\n  });\n}\n\n},{}],6:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _EventBus = _dereq_(12);\n\nvar _EventBus2 = _interopRequireDefault(_EventBus);\n\nvar _CoreEvents = _dereq_(10);\n\nvar _CoreEvents2 = _interopRequireDefault(_CoreEvents);\n\nvar _Debug = _dereq_(11);\n\nvar _Debug2 = _interopRequireDefault(_Debug);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction formatAdsTimeOffset(offset) {\n    var hour = parseInt(offset / 3600);\n    var min = parseInt(parseInt(offset % 3600) / 60);\n    var sec = parseInt(parseInt(offset % 3600) % 60);\n\n    return hour.toString() + ':' + min.toString() + ':' + sec.toString() + '.000';\n}\n\nfunction getVMAPItem(breakId, offset, tag) {\n    var breakType = 'linear,nonlinear';\n    var breakId = breakId;\n    var timeOffset = formatAdsTimeOffset(offset);\n    var url = tag;\n\n    var item = '<vmap:AdBreak breakType=\"_type_\" breakId=\"_adbreakname_\" timeOffset=\"_offset_\"><vmap:AdSource allowMultipleAds=\"true\" followRedirects=\"true\" id=\"_adbreakname_-ad-1\"><vmap:AdTagURI><![CDATA[_url_]]></vmap:AdTagURI></vmap:AdSource></vmap:AdBreak>'.replace(/_type_/g, breakType).replace(/_adbreakname_/g, breakId).replace(/_offset_/g, timeOffset).replace(/_url_/g, url);\n    return item;\n}\n\nfunction AdsEngine(adContainer, videoPlayer, advertising) {\n    var eventBus_ = (0, _EventBus2.default)(oldmtn).getInstance();\n    var debug_ = (0, _Debug2.default)(oldmtn).getInstance();\n    var adContainer_ = adContainer;\n    var media_ = videoPlayer;\n    var advertising_ = advertising;\n\n    // IMA SDK Needs\n    var adDisplayContainer_ = null;\n    var adsLoader_ = null;\n    var adsManager_ = null;\n\n    //\n    var cuePoints_ = null;\n\n    //\n    var width_ = void 0;\n    var height_ = void 0;\n\n    // flag\n    var isPlayingAd_ = false;\n    var isLinearAd_ = false;\n    var isPaused_ = false;\n\n    var adsLoaded_ = false;\n    var contentInitialized_ = false;\n\n    var countdownTimer_ = null;\n    var duration_ = void 0;\n    var position_ = void 0;\n\n    function setup() {\n        if (advertising_.vpaidmode) {\n            var mode = -1;\n            if (advertising_.vpaidmode === 'disabled') {\n                mode = google.ima.ImaSdkSettings.VpaidMode.DISABLED;\n            } else if (advertising_.vpaidmode === 'enabled') {\n                mode = google.ima.ImaSdkSettings.VpaidMode.ENABLED;\n            } else if (advertising_.vpaidmode === 'insecure') {\n                mode = google.ima.ImaSdkSettings.VpaidMode.INSECURE;\n            }\n            if (mode !== -1) {\n                google.ima.settings.setVpaidMode(mode);\n            }\n        }\n\n        if (advertising_.locale) {\n            google.ima.settings.setLocale(advertising_.locale);\n        }\n\n        adDisplayContainer_ = new google.ima.AdDisplayContainer(adContainer_, media_, advertising_.companion ? advertising_.companion.div : null);\n\n        adsLoader_ = new google.ima.AdsLoader(adDisplayContainer_);\n        // Mobile Skippable Ads\n        // see: https://developers.google.com/interactive-media-ads/docs/sdks/html5/skippable-ads\n        adsLoader_.getSettings().setDisableCustomPlaybackForIOS10Plus(true);\n        adsLoader_.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED, onAdsManagerLoaded, false, this);\n        adsLoader_.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, onAdError, false, this);\n    }\n\n    function open() {\n        adsLoaded_ = false;\n        contentInitialized_ = false;\n\n        eventBus_.on(oldmtn.Events.MEDIA_LOADEDMETADATA, onMediaLoadedMetadata, this);\n\n        initialUserAction();\n        requestAds();\n    }\n\n    function close() {\n        if (countdownTimer_) {\n            clearInterval(countdownTimer_);\n            countdownTimer_ = null;\n        }\n        if (adsManager_) {\n            adsManager_.destroy();\n            adsManager_ = null;\n        }\n    }\n\n    function initialUserAction() {\n        // On iOS and Android devices, video playback must begin in a user action.\n        // AdDisplayContainer provides a initialize() API to be called at appropriate\n        // time.\n        // see: https://developers.google.com/interactive-media-ads/docs/sdks/html5/mobile_video\n        adDisplayContainer_.initialize();\n    }\n\n    function requestAds() {\n        width_ = adContainer_.clientWidth;\n        height_ = adContainer_.clientHeight;\n        // var item = getVMAPItem('myAds', advertising_.offset, advertising_.tag);\n        // var ads = '<vmap:VMAP xmlns:vmap=\"http://www.iab.net/videosuite/vmap\" version=\"1.0\">' + item + \"</vmap:VMAP>\"\n        // console.log('ads: ' + ads);\n\n        debug_.log('advertising_.tag: ' + advertising_.tag);\n        var adsRequest = new google.ima.AdsRequest();\n        adsRequest.adTagUrl = advertising_.tag;\n        adsRequest.linearAdSlotWidth = width_;\n        adsRequest.linearAdSlotHeight = height_;\n        adsRequest.nonLinearAdSlotWidth = width_;\n        adsRequest.nonLinearAdSlotHeight = height_;\n\n        if (advertising_.forceNonLinearFullSlot) {\n            adsRequest.forceNonLinearFullSlot = advertising_.forceNonLinearFullSlot;\n        }\n\n        /*\n         In some circumstances you may want to prevent the SDK from playing ad breaks until you're ready for them.\n         In this scenario, you can disable automatic playback of ad breaks in favor of letting the SDK know when you're ready for an ad break to play.\n         With this configuration, once the SDK has loaded an ad break, it will fire an AD_BREAK_READY event.\n         When your player is ready for the ad break to start, you can call adsManager.start():\n        */\n        adsLoader_.getSettings().setAutoPlayAdBreaks(false);\n\n        adsLoader_.requestAds(adsRequest);\n    };\n\n    // AdsEngine public functions\n    function startAds() {\n        debug_.log('+AdsEngine.startAds');\n\n        // sometimes, requestAds may be caught an error, so we return here directly.\n        if (!adsManager_) {\n            return;\n        }\n\n        debug_.log('width_: ' + width_ + ', height_: ' + height_);\n        adsManager_.init(width_, height_, google.ima.ViewMode.NORMAL);\n        adsManager_.start();\n\n        debug_.log('-AdsEngine.startAds');\n    }\n\n    function isPaused() {\n        return isPaused_;\n    }\n\n    function isPlayingAd() {\n        return isPlayingAd_;\n    }\n\n    function isLinearAd() {\n        return isLinearAd_;\n    }\n\n    function isMuted() {\n        if (adsManager_.getVolume() === 0) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    function mute() {\n        adsManager_.setVolume(0);\n    }\n\n    function unmute() {\n        adsManager_.setVolume(1);\n    }\n\n    function play() {\n        if (adsManager_) {\n            adsManager_.resume();\n        }\n    }\n\n    function pause() {\n        if (adsManager_) {\n            adsManager_.pause();\n        }\n    }\n\n    function resize() {\n        if (adsManager_) {\n            adsManager_.resize(adContainer_.clientWidth, adContainer_.clientHeight, google.ima.ViewMode.FULLSCREEN);\n        }\n    }\n\n    ////////////////////////////////////////////////////////////////////////\n    function onAdsManagerLoaded(adsManagerLoadedEvent) {\n        debug_.log('+onAdsManagerLoaded');\n\n        var adsRenderingSettings = new google.ima.AdsRenderingSettings();\n        if (advertising_.enablePreloading) {\n            adsRenderingSettings.enablePreloading = advertising_.enablePreloading;\n        }\n        adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete = true;\n\n        adsManager_ = adsManagerLoadedEvent.getAdsManager(media_, adsRenderingSettings);\n\n        // Attach the pause/resume events.\n        // Handle errors.\n        adsManager_.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, onAdError, false, this);\n        var events = [\n        // For non-auto ad breaks, listen for ad break ready\n        google.ima.AdEvent.Type.AD_BREAK_READY, google.ima.AdEvent.Type.AD_METADATA, google.ima.AdEvent.Type.ALL_ADS_COMPLETED, google.ima.AdEvent.Type.CLICK, google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED, google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED, google.ima.AdEvent.Type.COMPLETE, google.ima.AdEvent.Type.DURATION_CHANGE, google.ima.AdEvent.Type.FIRST_QUARTILE, google.ima.AdEvent.Type.LOADED, google.ima.AdEvent.Type.MIDPOINT, google.ima.AdEvent.Type.PAUSED, google.ima.AdEvent.Type.RESUMED, google.ima.AdEvent.Type.SKIPPED, google.ima.AdEvent.Type.STARTED, google.ima.AdEvent.Type.THIRD_QUARTILE, google.ima.AdEvent.Type.VOLUME_CHANGED];\n        for (var index in events) {\n            adsManager_.addEventListener(events[index], onAdEvent, false, this);\n        }\n\n        adsLoaded_ = true;\n        if (contentInitialized_) {\n            //if (1) {\n            debug_.log('startAds when contentInitialized_');\n            startAds();\n        }\n\n        debug_.log('-onAdsManagerLoaded');\n    }\n\n    function onAdError(adErrorEvent) {\n        debug_.log('--onAdEvent--: ' + adErrorEvent.getError().toString());\n        var err = adErrorEvent.getError();\n        // deserialize, getErrorCode, getInnerError, getMessage, getType, getVastErrorCode, serialize, toString\n        console.log('ad err: ', err);\n\n        var errCode = err.getErrorCode();\n        var errMsg = err.getMessage();\n\n        if (adsManager_) {\n            adsManager_.destroy();\n        }\n        //application_.resumeAfterAd();\n    }\n\n    function onAdEvent(adEvent) {\n        debug_.log('--onAdEvent--: ' + adEvent.type);\n        var ad = adEvent.getAd();\n\n        switch (adEvent.type) {\n            case google.ima.AdEvent.Type.AD_BREAK_READY:\n                {\n                    console.log('adEvent.o.adBreakTime: ' + adEvent.o.adBreakTime);\n\n                    var skip = IsSkipAdBreak(adEvent.o.adBreakTime);\n                    // Once we're ready to play ads. To skip this ad break, simply return\n                    // from this handler without calling adsManager.start().\n                    if (!skip) {\n                        adsManager_.start();\n                    }\n                    //adsManager_.start();\n                }break;\n            case google.ima.AdEvent.Type.AD_METADATA:\n                {\n                    for (var i in adEvent) {\n                        console.log('AD_METADATA: ' + i);\n                    }\n                    cuePoints_ = adEvent.getAdCuePoints();\n                    console.log('cue points: ' + cuePoints_.h.join(\",\"));\n                }\n                break;\n            case google.ima.AdEvent.Type.CLICK:\n                {\n                    //application_.adClicked();\n                }\n                break;\n            case google.ima.AdEvent.Type.COMPLETE:\n                {\n                    isPlayingAd_ = false;\n                    if (countdownTimer_) {\n                        clearInterval(countdownTimer_);\n                        countdownTimer_ = null;\n                    }\n                    position_ = duration_;\n                    eventBus_.trigger(_CoreEvents2.default.AD_TIMEUPDATE, { duration: duration_, position: position_ });\n                    eventBus_.trigger(_CoreEvents2.default.AD_COMPLETE);\n                }\n                break;\n            case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:\n                {\n                    eventBus_.trigger(_CoreEvents2.default.AD_CONTENT_PAUSE_REQUESTED);\n                }\n                break;\n            case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:\n                {\n                    eventBus_.trigger(_CoreEvents2.default.AD_CONTENT_RESUME_REQUESTED);\n                }\n                break;\n            case google.ima.AdEvent.Type.DURATION_CHANGE:\n                {}\n                break;\n            case google.ima.AdEvent.Type.LOADED:\n                {\n                    if (!ad.isLinear()) {\n                        eventBus_.trigger(_CoreEvents2.default.AD_CONTENT_RESUME_REQUESTED);\n                    }\n                }\n                break;\n            case google.ima.AdEvent.Type.PAUSED:\n                {\n                    isPaused_ = true;\n                }\n                break;\n            case google.ima.AdEvent.Type.RESUMED:\n                {\n                    isPaused_ = false;\n                }\n                break;\n            case google.ima.AdEvent.Type.SKIPPED:\n                {\n                    // for \"skippable ads\", if we skip it, we won't receive COMPLETED event, but only receive SKIPPED event.\n                    isPlayingAd_ = false;\n                }\n                break;\n            case google.ima.AdEvent.Type.STARTED:\n                {\n                    isPlayingAd_ = true;\n                    isLinearAd_ = ad.isLinear();\n\n                    eventBus_.trigger(_CoreEvents2.default.AD_STARTED, { ad: ad });\n                    position_ = 0;\n                    duration_ = ad.getDuration();\n                    countdownTimer_ = setInterval(function () {\n                        var timeRemaining = adsManager_.getRemainingTime();\n                        position_ = duration_ - timeRemaining;\n                        // Update UI with timeRemaining\n                        eventBus_.trigger(_CoreEvents2.default.AD_TIMEUPDATE, { duration: duration_, position: position_ });\n                    }, 1000);\n                    eventBus_.trigger(_CoreEvents2.default.AD_TIMEUPDATE, { duration: duration_, position: position_ });\n                }\n                break;\n            case google.ima.AdEvent.Type.VOLUME_CHANGED:\n                {\n                    console.log('ad volume: ' + adsManager_.getVolume());\n                }\n                break;\n        }\n    }\n\n    function onMediaLoadedMetadata() {\n        eventBus_.off(oldmtn.Events.MEDIA_LOADEDMETADATA, onMediaLoadedMetadata, this);\n        debug_.log('+onMediaLoadedMetadata');\n        contentInitialized_ = true;\n        if (adsLoaded_) {\n            debug_.log('startAds when adsLoaded_');\n            startAds();\n        }\n        debug_.log('-onMediaLoadedMetadata');\n    }\n\n    function onMediaEnded() {\n        adsLoader_.contentComplete();\n    }\n\n    function IsSkipAdBreak(adBreakTime) {\n        var skip = false;\n\n        if (media_.seeking) {\n            skip = true;\n        }\n\n        return skip;\n    }\n\n    var instance = {\n        open: open,\n        close: close,\n        isPlayingAd: isPlayingAd,\n        isLinearAd: isLinearAd,\n        play: play,\n        pause: pause,\n        isPaused: isPaused,\n        mute: mute,\n        unmute: unmute,\n        isMuted: isMuted,\n        resize: resize,\n        onMediaEnded: onMediaEnded,\n        requestAds: requestAds\n    };\n\n    setup();\n    return instance;\n}\n\nexports.default = AdsEngine;\n\n},{\"10\":10,\"11\":11,\"12\":12}],7:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _cast_utils = _dereq_(9);\n\nvar _cast_utils2 = _interopRequireDefault(_cast_utils);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar evHandlers = {};\n\nvar CastReceiver = function CastReceiver(element) {\n  console.log('receiver, constructor');\n\n  this.element_ = element;\n  this.castContext_ = cast.framework.CastReceiverContext.getInstance();\n};\n\nCastReceiver.prototype.start = function () {\n  this.castContext_.start();\n};\n\nCastReceiver.prototype.addEventListener = function (ev, cb) {\n  evHandlers[ev] = cb;\n};\n\nexports.default = CastReceiver;\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n// old\n// var evHandlers = {};\n// var CastReceiver = function(element) {\n//   console.log('receiver, constructor');\n\n//   cast.player.api.setLoggerLevel(cast.player.api.LoggerLevel.DEBUG);\n//   cast.receiver.logger.setLevelValue(cast.receiver.LoggerLevel.DEBUG);\n\n//   this.element_ = element;\n\n//   // Init Video Element\n//   this.mediaElement_ = (this.element_.querySelector('video'));\n//   // this.mediaElement_.addEventListener('error', this.onError_.bind(this), false);\n//   // this.mediaElement_.addEventListener('playing', this.onPlaying_.bind(this),\n//   //     false);\n//   // this.mediaElement_.addEventListener('pause', this.onPause_.bind(this), false);\n//   // this.mediaElement_.addEventListener('ended', this.onEnded_.bind(this), false);\n//   // this.mediaElement_.addEventListener('abort', this.onAbort_.bind(this), false);\n//   this.mediaElement_.addEventListener('timeupdate', this.onTimeupdate.bind(this),\n//        false);\n//   // this.mediaElement_.addEventListener('seeking', this.onSeekStart_.bind(this),\n//   //     false);\n//   // this.mediaElement_.addEventListener('seeked', this.onSeekEnd_.bind(this),\n//   //     false);\n\n//   // Init Mediamanager\n//   this.mediaManager_ = new cast.receiver.MediaManager(this.mediaElement_);\n//   this.onLoadOrig_ =\n//       this.mediaManager_.onLoad.bind(this.mediaManager_);\n//   this.mediaManager_.onLoad = this.onLoad_.bind(this);\n\n//   this.onGetStatusOrig_ =\n//       this.mediaManager_.onGetStatus.bind(this.mediaManager_);\n//   this.mediaManager_.onGetStatus = this.onGetStatus_.bind(this);\n\n//   this.onMetadataLoadedOrig_ =\n//       this.mediaManager_.onMetadataLoaded.bind(this.mediaManager_);\n//   this.mediaManager_.onMetadataLoaded = this.onMetadataLoaded_.bind(this);\n\n//   this.onStopOrig_ =\n//       this.mediaManager_.onStop.bind(this.mediaManager_);\n//   this.mediaManager_.onStop = this.onStop_.bind(this);\n\n//   this.onLoadMetadataErrorOrig_ =\n//       this.mediaManager_.onLoadMetadataError.bind(this.mediaManager_);\n//   this.mediaManager_.onLoadMetadataError = this.onLoadMetadataError_.bind(this);\n\n//   this.onErrorOrig_ = this.mediaManager_.onError.bind(this.mediaManager_);\n//   this.mediaManager_.onError = this.onError_.bind(this);\n\n//   // Init CastReceiverManager\n//   this.receiverManager_ = cast.receiver.CastReceiverManager.getInstance();\n//   this.receiverManager_.onReady = this.onReady_.bind(this);\n//   this.receiverManager_.onSenderDisconnected =\n//       this.onSenderDisconnected_.bind(this);\n//   this.receiverManager_.onVisibilityChanged =\n//       this.onVisibilityChanged_.bind(this);\n\n//   // this.genericBus_ = this.receiverManager_.getCastMessageBus(\n//   //     CastUtils.GENERIC_MESSAGE_NAMESPACE);\n//   // this.genericBus_.onMessage = this.onGenericMessage_.bind(this);\n\n//   this.oldmtnBus_ = this.receiverManager_.getCastMessageBus(\n//       CastUtils.oldmtn_MESSAGE_NAMESPACE);\n//   this.oldmtnBus_.onMessage = this.onoldmtnMessage_.bind(this);\n// };\n\n// //\n// CastReceiver.prototype.getMediaElement = function() {\n//   return this.mediaElement_;\n// };\n\n// CastReceiver.prototype.getMediaManager = function() {\n//   return this.mediaManager_;\n// };\n\n// CastReceiver.prototype.getPlayer = function() {\n//   return this.player_;\n// };\n\n// CastReceiver.prototype.start = function() {\n//   this.receiverManager_.start();\n// };\n\n// CastReceiver.prototype.onReady_ = function() {\n//   console.log('onReady');\n// };\n\n// CastReceiver.prototype.onSenderDisconnected_ = function(event) {\n//   console.log('onSenderDisconnected');\n//   // When the last or only sender is connected to a receiver,\n//   // tapping Disconnect stops the app running on the receiver.\n//   if (this.receiverManager_.getSenders().length === 0 &&\n//       event.reason ===\n//           cast.receiver.system.DisconnectReason.REQUESTED_BY_SENDER) {\n//     this.receiverManager_.stop();\n//   }\n// };\n\n// CastReceiver.prototype.onError_ = function(error) {\n//   console.log('onError');\n//   this.onErrorOrig_(error);\n// };\n\n// CastReceiver.prototype.onPlaying_ = function() {\n//   console.log('onPlaying');\n// };\n\n// CastReceiver.prototype.onPause_ = function() {\n//   console.log('onPause');\n// };\n\n// CastReceiver.prototype.onStop_ = function(event) {\n//   console.log('onStop');\n//   this.onStopOrig_(event);\n// };\n\n// CastReceiver.prototype.onEnded_ = function() {\n//   console.log('onEnded');\n// };\n\n// CastReceiver.prototype.onAbort_ = function() {\n//   console.log('onAbort');\n// };\n\n// CastReceiver.prototype.onTimeupdate = function() {\n//   var curTime = this.mediaElement_.currentTime;\n//   var totalTime = this.mediaElement_.duration;\n\n//   //console.log('onTimeupdate, ' + curTime + '/' + totalTime);\n\n//   // update local\n//   evHandlers['timeupdate'](curTime, totalTime);\n\n//   // send message to sender\n//   this.sendMessage_({\n//     type: 'timeupdate',\n//     data: {\n//       curTime: curTime,\n//       totalTime: totalTime\n//     }\n//   }, this.oldmtnBus_);\n// };\n\n// CastReceiver.prototype.onSeekStart_ = function() {\n//   console.log('onSeekStart');\n// };\n\n// CastReceiver.prototype.onSeekEnd_ = function() {\n//   console.log('onSeekEnd');\n// };\n\n// CastReceiver.prototype.onVisibilityChanged_ = function(event) {\n//   console.log('onVisibilityChanged');\n//   if (!event.isVisible) {\n//     this.mediaElement_.pause();\n//     this.mediaManager_.broadcastStatus(false);\n//   }\n// };\n\n// CastReceiver.prototype.onGenericMessage_ = function(event) {\n//   // console.log('+onGenericMessage_, type: ' + event.type + ', senderId: ' + event.senderId);\n//   // console.log('type: ' + event.data.type);\n//   // console.log('requestId: ' + event.data.requestId);\n//   // console.log('namespace: ' + event.namespace);\n//   // console.log('senderId: ' + event.senderId);\n\n//   // var message = CastUtils.deserialize(event.data);\n//   // console.log('+onGenericMessage_: ' + message['type']);\n\n//   // TODO(ismena): error message on duplicate request id from the same sender\n//   //switch (message['type']) {\n//     switch (event.data.type) {\n//     case 'PLAY': {\n//       this.mediaElement_.play();\n//     } break;\n//     case 'PAUSE': {\n//       this.mediaElement_.pause();\n//     } break;\n//     case 'LOAD': {\n//       var mediaInfo = event.data.media;\n//       var contentId = mediaInfo['contentId'];\n//       var manifestUri = contentId;\n\n//       // var mediaInfo = message['media'];\n//       // var contentId = mediaInfo['contentId'];\n//       // var currentTime = message['currentTime'];\n//       // var manifestUri = contentId;\n// // sample\n// // contentId: \"http://10.2.72.104/7/hls/v8/gear1/test.m3u8\"\n// // contentType: \"application/dash+xml\"\n// // metadata: Object\n// // streamType: \"BUFFERED\"\n//       // var protocolFunc = CastReceiver.getProtocolFunction_(mediaInfo);\n//       // var host = new cast.player.api.Host({\n//       //   'url': manifestUri,\n//       //   'mediaElement': this.mediaElement_\n//       // });\n//       // this.player_ = new cast.player.api.Player(host);\n//       // this.player_.load(protocolFunc(host));\n//     } break;\n//     default:\n//       break;\n//   }\n// }\n\n// CastReceiver.prototype.onoldmtnMessage_ = function(event) {\n//   var message = CastUtils.deserialize(event.data);\n//   //console.log('+onoldmtnMessage_, type: ' + message['type'] + ', targetName: ' + message[targetName] + ', methodName: ' + message[methodName]);\n\n//   this.oldmtnBus_.broadcast(\"abcd1234\");\n// };\n\n// CastReceiver.prototype.sendMessage_ =\n//     function(message, bus, opt_senderId) {\n//   // Cuts log spam when debugging the receiver UI in Chrome.\n//   if (!this.isConnected_) return;\n\n//   var serialized = CastUtils.serialize(message);\n//   if (opt_senderId) {\n//     bus.getCastChannel(opt_senderId).send(serialized);\n//   } else {\n//     bus.broadcast(serialized);\n//   }\n// };\n\n// ////////////////////////////////////////////////////////////////////////////////////////\n// // \n// CastReceiver.prototype.onLoad_ = function(event) {\n//   console.log('onLoad_');\n\n//   if (this.player_) {\n//     this.player_.unload();\n//     this.player_ = null;\n//   }\n\n//   var info = new cast.receiver.MediaManager.LoadInfo(event.data, event.senderId);\n\n//   var url = info.message.media.contentId;\n//   var protocolFunc = CastReceiver.getProtocolFunction_(info.message.media);\n//   var host = new cast.player.api.Host({\n//     'url': url,\n//     'mediaElement': this.mediaElement_\n//   });\n//   this.player_ = new cast.player.api.Player(host);\n//   this.player_.load(protocolFunc(host));\n// };\n\n// CastReceiver.prototype.onGetStatus_ = function(event) {\n//   console.log('--onGetStatus_--', event);\n// };\n\n// CastReceiver.prototype.onMetadataLoaded_ = function(info) {\n//   console.log('onMetadataLoaded');\n\n//   var totalTime = this.mediaElement_.duration;\n//   console.log('total time: ' + totalTime);\n\n//   this.onMetadataLoadedOrig_(info);\n// };\n\n// CastReceiver.prototype.onLoadMetadataError_ = function(event) {\n//   console.log('onLoadMetadataError_');\n//   this.onLoadMetadataErrorOrig_(event);\n// };\n\n// ////////////////////////////////////////////////////////////////////////////////////////\n// // object function\n// CastReceiver.getProtocolFunction_ = function(mediaInformation) {\n//   var url = mediaInformation.contentId;\n//   var type = mediaInformation.contentType || '';\n//   var path = CastReceiver.getPath_(url) || '';\n//   if (CastReceiver.getExtension_(path) === 'm3u8' ||\n//           type === 'application/x-mpegurl' ||\n//           type === 'application/vnd.apple.mpegurl') {\n//     return cast.player.api.CreateHlsStreamingProtocol;\n//   } else if (CastReceiver.getExtension_(path) === 'mpd' ||\n//           type === 'application/dash+xml') {\n//     return cast.player.api.CreateDashStreamingProtocol;\n//   } else if (path.indexOf('.ism') > -1 ||\n//           type === 'application/vnd.ms-sstr+xml') {\n//     return cast.player.api.CreateSmoothStreamingProtocol;\n//   }\n//   return null;\n// };\n\n// CastReceiver.formatDuration_ = function(dur) {\n//   dur = Math.floor(dur);\n//   function digit(n) { return ('00' + Math.round(n)).slice(-2); }\n//   var hr = Math.floor(dur / 3600);\n//   var min = Math.floor(dur / 60) % 60;\n//   var sec = dur % 60;\n//   if (!hr) {\n//     return digit(min) + ':' + digit(sec);\n//   } else {\n//     return digit(hr) + ':' + digit(min) + ':' + digit(sec);\n//   }\n// };\n\n// /**\n//  * Utility function to get the extension of a URL file path.\n//  *\n//  * @param {string} url the URL\n//  * @return {string} the extension or \"\" if none\n//  * @private\n//  */\n// CastReceiver.getExtension_ = function(url) {\n//   var parts = url.split('.');\n//   // Handle files with no extensions and hidden files with no extension\n//   if (parts.length === 1 || (parts[0] === '' && parts.length === 2)) {\n//     return '';\n//   }\n//   return parts.pop().toLowerCase();\n// };\n\n// /**\n//  * Returns the URL path.\n//  *\n//  * @param {string} url The URL\n//  * @return {string} The URL path.\n//  * @private\n//  */\n// CastReceiver.getPath_ = function(url) {\n//   var href = document.createElement('a');\n//   href.href = url;\n//   return href.pathname || '';\n// };\n\n\n// //////////////////////////////////////////////////////////////////////////////////\n// // Begin event\n// CastReceiver.prototype.addEventListener = function (ev, cb) {\n//   evHandlers[ev] = cb;\n// };\n\n\n// export default CastReceiver;\n\n},{\"9\":9}],8:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _cast_utils = _dereq_(9);\n\nvar _cast_utils2 = _interopRequireDefault(_cast_utils);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\n///////////////////////////////////////////////////////////////////////////////\n// RemotePlayerHandler\nvar RemotePlayerHandler = function RemotePlayerHandler() {};\n\nRemotePlayerHandler.prototype.init = function (remotePlayer, remotePlayerController) {\n    this.remotePlayer = remotePlayer;\n    this.remotePlayerController = remotePlayerController;\n\n    this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED, function () {\n        console.log(\"muted: \" + this.remotePlayer.isMuted);\n    }.bind(this));\n\n    this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED, function () {\n        var newVolume = this.remotePlayer.volumeLevel;\n        console.log('newVolume is: ' + newVolume);\n    }.bind(this));\n};\n\nRemotePlayerHandler.prototype.play = function () {\n    if (this.remotePlayer.isPaused) {\n        this.remotePlayerController.playOrPause();\n    }\n};\n\nRemotePlayerHandler.prototype.pause = function () {\n    if (!this.remotePlayer.isPaused) {\n        this.remotePlayerController.playOrPause();\n    }\n};\n\nRemotePlayerHandler.prototype.setVolume = function (volume) {\n    this.remotePlayer.volumeLevel = volume;\n    this.remotePlayerController.setVolumeLevel();\n\n    // or\n    //this.session_.setVolume(1.0);\n};\n\nRemotePlayerHandler.prototype.getVolume = function () {\n    return this.remotePlayer.volumeLevel;\n};\n\nRemotePlayerHandler.prototype.seek = function (time) {\n    this.remotePlayer.currentTime = time;\n    this.remotePlayerController.seek();\n};\n\nRemotePlayerHandler.prototype.stop = function () {\n    this.remotePlayerController.stop();\n};\n\n////////////////////////////////////////////////////////////////////////////////////\n// CastSender\nvar CastSender = function CastSender() {\n    this.remotePlayer = null;\n    this.remotePlayerController = null;\n    this.castContext_ = null;\n    this.session_ = null;\n\n    this.remotePlayerHandler = new RemotePlayerHandler();\n};\n\nCastSender.prototype.onConnectedChanged = function () {\n    console.log('cast, +onConnectedChanged, remotePlayer.isConnected: ' + this.remotePlayer.isConnected);\n\n    this.session_ = cast.framework.CastContext.getInstance().getCurrentSession();\n    if (this.session_) {\n        this.session_.addMessageListener(_cast_utils2.default.OLDMTN_MESSAGE_NAMESPACE, this.onMessageReceived_.bind(this));\n    } else {\n        console.log('cast, this.session_ is null');\n    }\n};\n\nCastSender.prototype.onMediaLoadedChanged = function () {\n    console.log('--onMediaLoadedChanged--');\n};\n\nCastSender.prototype.loadMedia_SuccessCb = function () {\n    console.log('--loadMedia_SuccessCb--');\n};\n\nCastSender.prototype.loadMedia_ErrorCb = function () {\n    console.log('--loadMedia_ErrorCb--');\n};\n\nCastSender.prototype.init = function (receiverAppId) {\n    console.log('cast, init');\n\n    var options = {};\n\n    // Set the receiver application ID to your own (created in the\n    // Google Cast Developer Console), or optionally\n    // use the chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID\n    options.receiverApplicationId = receiverAppId;\n\n    // Auto join policy can be one of the following three:\n    // ORIGIN_SCOPED - Auto connect from same appId and page origin\n    // TAB_AND_ORIGIN_SCOPED - Auto connect from same appId, page origin, and tab\n    // PAGE_SCOPED - No auto connect\n    options.autoJoinPolicy = chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED;\n    this.castContext_ = cast.framework.CastContext.getInstance();\n    this.castContext_.setOptions(options);\n\n    this.castContext_.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED, function (e) {\n        console.log('cast, cast state: ', e);\n    });\n\n    this.castContext_.addEventListener(cast.framework.CastContextEventType.SESSION_STATE_CHANGED, function (event) {\n        console.log('cast, sessionState: ' + event.sessionState);\n        switch (event.sessionState) {\n            case cast.framework.SessionState.SESSION_STARTED:\n            case cast.framework.SessionState.SESSION_RESUMED:\n                break;\n            case cast.framework.SessionState.SESSION_ENDED:\n                //console.log('CastContext: CastSession disconnected');\n                // Update locally as necessary\n                break;\n        }\n    });\n\n    this.remotePlayer = new cast.framework.RemotePlayer();\n    this.remotePlayerController = new cast.framework.RemotePlayerController(this.remotePlayer);\n    this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED, this.onConnectedChanged.bind(this));\n    this.remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED, this.onMediaLoadedChanged);\n\n    // \n    this.remotePlayerHandler.init(this.remotePlayer, this.remotePlayerController);\n};\n\n// Opens the cast selection UI, to allow user to start or stop session.\nCastSender.prototype.requestSession = function () {\n    if (!this.castContext_) {\n        console.warn('cast, you should call init first.');\n        return;\n    }\n\n    this.castContext_.requestSession();\n};\n\nCastSender.prototype.endSession = function () {\n    if (!this.castContext_) {\n        return;\n    }\n\n    var castSession = this.castContext_.getCurrentSession();\n    // End the session and pass 'true' to indicate\n    // that receiver application should be stopped.\n    castSession.endSession(true);\n};\n\nCastSender.prototype.loadMedia = function (url, type) {\n    console.log('+loadMedia');\n\n    if (cast && cast.framework && this.remotePlayer.isConnected) {\n        var mediaInfo = new chrome.cast.media.MediaInfo(url, type);\n\n        mediaInfo.metadata = new chrome.cast.media.GenericMediaMetadata();\n        mediaInfo.metadata.metadataType = chrome.cast.media.MetadataType.GENERIC;\n\n        var request = new chrome.cast.media.LoadRequest(mediaInfo);\n\n        // For cast to voReceiver\n        //request.customData = { drmInfoList: null };\n\n        this.session_.loadMedia(request, this.loadMedia_SuccessCb, this.loadMedia_ErrorCb);\n    } else {\n        this.remotePlayer = null;\n        this.remotePlayerController = null;\n    }\n\n    console.log('-loadMedia');\n};\n\nCastSender.prototype.onMessageReceived_ = function (namespace, serialized) {\n    console.log('receive msg, namespace: ' + namespace);\n    console.log('receive msg, serialized: ' + serialized);\n\n    var message = _cast_utils2.default.deserialize(serialized);\n    switch (message.type) {\n        case 'timeupdate':\n            {\n                console.log('timeupdate: curTime: ' + message.data.curTime + '/' + message.data.totalTime);\n            }break;\n        default:\n            break;\n    }\n};\n\nCastSender.prototype.play = function () {\n    this.remotePlayerHandler.play();\n};\n\nCastSender.prototype.pause = function () {\n    this.remotePlayerHandler.pause();\n};\n\nCastSender.prototype.addVolume = function () {\n    var volume = this.RemotePlayerHandler.getVolume() + 0.1;\n\n    this.remotePlayerHandler.setVolume(volume);\n};\n\nCastSender.prototype.delVolume = function (volume) {\n    var volume = this.RemotePlayerHandler.getVolume() - 0.1;\n    this.remotePlayerHandler.setVolume(volume);\n};\n\nCastSender.prototype.setVolume = function (volume) {\n    this.remotePlayerHandler.setVolume(volume);\n};\n\nCastSender.prototype.isConnected = function () {\n    return this.remotePlayer && this.remotePlayer.isConnected;\n};\n\nCastSender.prototype.seek = function (time) {\n    this.remotePlayerHandler.seek(parseFloat(time));\n};\n\nCastSender.prototype.stop = function () {\n    this.remotePlayerHandler.stop();\n};\n\nCastSender.prototype.attribute = function () {\n    console.log('remote player time: ' + this.remotePlayer.currentTime);\n    if (this.remotePlayer.savedPlayerState) {\n        console.log('remotePlayer.savedPlayerState.currentTime: ' + this.remotePlayer.savedPlayerState.currentTime);\n    }\n};\n\nCastSender.prototype.test = function () {\n    //console.log('--test--');\n\n    this.castContext_.requestSession();\n\n    // console.log('before remoteCall_');\n    // this.remoteCall_(\"abc\", \"1234\");\n    // console.log('after remoteCall_');\n};\n\nCastSender.prototype.remoteCall_ = function (targetName, methodName) {\n    var args = Array.prototype.slice.call(arguments, 2);\n    this.sendMessage_({\n        'type': 'call',\n        'targetName': targetName,\n        'methodName': methodName,\n        'args': args\n    });\n};\n\nCastSender.prototype.sendMessage_ = function (message) {\n    var serialized = _cast_utils2.default.serialize(message);\n    // TODO: have never seen this fail.  When would it and how should we react?\n    this.session_.sendMessage(_cast_utils2.default.OLDMTN_MESSAGE_NAMESPACE, serialized, function () {}, // success callback\n    function () {}); // error callback\n};\n\nexports.default = CastSender;\n\n},{\"9\":9}],9:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof2(obj);\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof2(obj);\n};\n\nvar CastUtils = function CastUtils() {};\n\n////////////////////////////////////////////////////////////////////////\n// Begin CastUtils\nCastUtils.GENERIC_MESSAGE_NAMESPACE = 'urn:x-cast:com.google.cast.media';\nCastUtils.OLDMTN_MESSAGE_NAMESPACE = 'urn:x-cast:com.google.oldmtn.v2';\n\nCastUtils.simulateTimeRanges_ = function (obj) {\n  return {\n    length: obj.length,\n    // NOTE: a more complete simulation would throw when |i| was out of range,\n    // but for simplicity we will assume a well-behaved application that uses\n    // length instead of catch to stop iterating.\n    start: function start(i) {\n      return obj.start[i];\n    },\n    end: function end(i) {\n      return obj.end[i];\n    }\n  };\n};\n\nCastUtils.serialize = function (thing) {\n  return JSON.stringify(thing);\n};\n\nCastUtils.deserialize = function (str) {\n  return JSON.parse(str, function (key, value) {\n    if (value == 'NaN') {\n      return NaN;\n    } else if (value == '-Infinity') {\n      return -Infinity;\n    } else if (value == 'Infinity') {\n      return Infinity;\n    } else if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) == 'object' && value['__type__'] == 'TimeRanges') {\n      // TimeRanges objects have been unpacked and sent as plain data.\n      // Simulate the original TimeRanges object.\n      return CastUtils.simulateTimeRanges_(value);\n    }\n    return value;\n  });\n};\n// End CastUtils\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\nexports.default = CastUtils;\n\n},{}],10:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n        value: true\n});\n\nfunction _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n                throw new TypeError(\"Cannot call a class as a function\");\n        }\n}\n\n/**\n* @class\n*\n*/\nvar CoreEvents =\n\n/**\n * @description Public facing external events to be used when developing a player that implements dash.js.\n */\nfunction CoreEvents() {\n        _classCallCheck(this, CoreEvents);\n\n        // mse events\n        this.MSE_OPENED = 'mseOpened';\n\n        // source buffer events\n        this.SB_UPDATE_ENDED = 'sbUpdateEnded';\n\n        // media element eventsa\n        this.MEDIA_DURATION_CHANGED = 'mediaDurationChanged';\n        this.MEDIA_ENDED = 'mediaEnded';\n        this.MEDIA_LOADEDMETADATA = 'mediaLoadedMetadata';\n        this.MEDIA_PAUSED = 'mediaPaused';\n        this.MEDIA_PLAYING = 'mediaPlaying';\n        this.MEDIA_SEEKING = 'mediaSeeking';\n        this.MEDIA_SEEKED = 'mediaSeeked';\n        this.MEDIA_TIMEUPDATE = 'mediaTimeupdate';\n        this.MEDIA_WAITING = 'mediaWaiting';\n\n        // ads internal events\n        this.AD_ERROR = 'adError';\n        this.AD_STARTED = 'adStarted';\n        this.AD_COMPLETE = 'adComplete';\n        this.AD_CONTENT_PAUSE_REQUESTED = 'adContentPauseRequested';\n        this.AD_CONTENT_RESUME_REQUESTED = 'adContentResumeRequested';\n        this.AD_ADS_MANAGER_LOADED = 'adAdsManagerLoaded';\n        this.AD_TIMEUPDATE = 'adTimeUpdate';\n\n        // log event\n        this.LOG = 'log';\n\n        this.TEST_MSG = 'testMsg';\n};\n\nvar coreEvents = new CoreEvents();\nexports.default = coreEvents;\n\n},{}],11:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _EventBus = _dereq_(12);\n\nvar _EventBus2 = _interopRequireDefault(_EventBus);\n\nvar _CoreEvents = _dereq_(10);\n\nvar _CoreEvents2 = _interopRequireDefault(_CoreEvents);\n\nvar _FactoryMaker = _dereq_(13);\n\nvar _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * @module Debug\n */\nfunction Debug() {\n\n    var context = this.context;\n    var eventBus = (0, _EventBus2.default)(context).getInstance();\n\n    var instance = void 0,\n        logToBrowserConsole = void 0,\n        showLogTimestamp = void 0,\n        showCalleeName = void 0,\n        startTime = void 0;\n\n    function setup() {\n        logToBrowserConsole = true;\n        showLogTimestamp = true;\n        showCalleeName = true;\n        startTime = new Date().getTime();\n    }\n\n    /**\n     * Prepends a timestamp in milliseconds to each log message.\n     * @param {boolean} value Set to true if you want to see a timestamp in each log message.\n     * @default false\n     * @memberof module:Debug\n     * @instance\n     */\n    function setLogTimestampVisible(value) {\n        showLogTimestamp = value;\n    }\n    /**\n     * Prepends the callee object name, and media type if available, to each log message.\n     * @param {boolean} value Set to true if you want to see the callee object name and media type in each log message.\n     * @default false\n     * @memberof module:Debug\n     * @instance\n     */\n    function setCalleeNameVisible(value) {\n        showCalleeName = value;\n    }\n    /**\n     * Toggles logging to the browser's javascript console.  If you set to false you will still receive a log event with the same message.\n     * @param {boolean} value Set to false if you want to turn off logging to the browser's console.\n     * @default true\n     * @memberof module:Debug\n     * @instance\n     */\n    function setLogToBrowserConsole(value) {\n        logToBrowserConsole = value;\n    }\n    /**\n     * Use this method to get the state of logToBrowserConsole.\n     * @returns {boolean} The current value of logToBrowserConsole\n     * @memberof module:Debug\n     * @instance\n     */\n    function getLogToBrowserConsole() {\n        return logToBrowserConsole;\n    }\n    /**\n     * This method will allow you send log messages to either the browser's console and/or dispatch an event to capture at the media player level.\n     * @param {...*} arguments The message you want to log. The Arguments object is supported for this method so you can send in comma separated logging items.\n     * @memberof module:Debug\n     * @instance\n     */\n    function log() {\n\n        var message = '';\n        var logTime = null;\n\n        if (showLogTimestamp) {\n            // old from dashjs\n            //logTime = new Date().getTime();\n            //message += '[' + (logTime - startTime) + ']';\n            // new by oldmtn\n            logTime = new Date();\n            message += '[' + ('0' + (logTime.getMonth() + 1)).slice(-2) + '-' + ('0' + logTime.getDate()).slice(-2) + ' ' + ('0' + logTime.getHours()).slice(-2) + ':' + ('0' + logTime.getMinutes()).slice(-2) + ':' + ('0' + logTime.getSeconds()).slice(-2) + '.' + ('0' + logTime.getMilliseconds()).slice(-3) + ']';\n        }\n\n        if (showCalleeName && this && this.getClassName) {\n            message += '[' + this.getClassName() + ']';\n            if (this.getType) {\n                message += '[' + this.getType() + ']';\n            }\n        }\n\n        if (message.length > 0) {\n            message += ' ';\n        }\n\n        Array.apply(null, arguments).forEach(function (item) {\n            message += item + ' ';\n        });\n\n        if (logToBrowserConsole) {\n            console.log(message);\n        }\n\n        eventBus.trigger(_CoreEvents2.default.LOG, { message: message });\n    }\n\n    instance = {\n        log: log,\n        setLogTimestampVisible: setLogTimestampVisible,\n        setCalleeNameVisible: setCalleeNameVisible,\n        setLogToBrowserConsole: setLogToBrowserConsole,\n        getLogToBrowserConsole: getLogToBrowserConsole\n    };\n\n    setup();\n\n    return instance;\n} /**\n   * The copyright in this software is being made available under the BSD License,\n   * included below. This software may be subject to other third party and contributor\n   * rights, including patent rights, and no such rights are granted under this license.\n   *\n   * Copyright (c) 2013, Dash Industry Forum.\n   * All rights reserved.\n   *\n   * Redistribution and use in source and binary forms, with or without modification,\n   * are permitted provided that the following conditions are met:\n   *  * Redistributions of source code must retain the above copyright notice, this\n   *  list of conditions and the following disclaimer.\n   *  * Redistributions in binary form must reproduce the above copyright notice,\n   *  this list of conditions and the following disclaimer in the documentation and/or\n   *  other materials provided with the distribution.\n   *  * Neither the name of Dash Industry Forum nor the names of its\n   *  contributors may be used to endorse or promote products derived from this software\n   *  without specific prior written permission.\n   *\n   *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY\n   *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n   *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n   *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n   *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n   *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n   *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n   *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n   *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n   *  POSSIBILITY OF SUCH DAMAGE.\n   */\n\nDebug.__h5player_factory_name = 'Debug';\nexports.default = _FactoryMaker2.default.getSingletonFactory(Debug);\n\n},{\"10\":10,\"12\":12,\"13\":13}],12:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _FactoryMaker = _dereq_(13);\n\nvar _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar EVENT_PRIORITY_LOW = 0; /**\n                             * The copyright in this software is being made available under the BSD License,\n                             * included below. This software may be subject to other third party and contributor\n                             * rights, including patent rights, and no such rights are granted under this license.\n                             *\n                             * Copyright (c) 2013, Dash Industry Forum.\n                             * All rights reserved.\n                             *\n                             * Redistribution and use in source and binary forms, with or without modification,\n                             * are permitted provided that the following conditions are met:\n                             *  * Redistributions of source code must retain the above copyright notice, this\n                             *  list of conditions and the following disclaimer.\n                             *  * Redistributions in binary form must reproduce the above copyright notice,\n                             *  this list of conditions and the following disclaimer in the documentation and/or\n                             *  other materials provided with the distribution.\n                             *  * Neither the name of Dash Industry Forum nor the names of its\n                             *  contributors may be used to endorse or promote products derived from this software\n                             *  without specific prior written permission.\n                             *\n                             *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY\n                             *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n                             *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n                             *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n                             *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n                             *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n                             *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n                             *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n                             *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n                             *  POSSIBILITY OF SUCH DAMAGE.\n                             */\n\nvar EVENT_PRIORITY_HIGH = 5000;\n\nfunction EventBus() {\n\n    var handlers = {};\n\n    function on(type, listener, scope) {\n        var priority = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : EVENT_PRIORITY_LOW;\n\n        if (!type) {\n            throw new Error('event type cannot be null or undefined');\n        }\n        if (!listener || typeof listener !== 'function') {\n            throw new Error('listener must be a function: ' + listener);\n        }\n\n        if (getHandlerIdx(type, listener, scope) >= 0) return;\n\n        handlers[type] = handlers[type] || [];\n\n        var handler = {\n            callback: listener,\n            scope: scope,\n            priority: priority\n        };\n\n        var inserted = handlers[type].some(function (item, idx) {\n            if (priority > item.priority) {\n                handlers[type].splice(idx, 0, handler);\n                return true;\n            }\n        });\n\n        if (!inserted) {\n            handlers[type].push(handler);\n        }\n    }\n\n    function off(type, listener, scope) {\n        if (!type || !listener || !handlers[type]) return;\n        var idx = getHandlerIdx(type, listener, scope);\n        if (idx < 0) return;\n        handlers[type].splice(idx, 1);\n    }\n\n    function trigger(type, payload) {\n        if (!type || !handlers[type]) return;\n\n        payload = payload || {};\n\n        if (payload.hasOwnProperty('type')) throw new Error('\\'type\\' is a reserved word for event dispatching');\n\n        payload.type = type;\n\n        handlers[type].forEach(function (handler) {\n            return handler.callback.call(handler.scope, payload);\n        });\n    }\n\n    function getHandlerIdx(type, listener, scope) {\n\n        var idx = -1;\n\n        if (!handlers[type]) return idx;\n\n        handlers[type].some(function (item, index) {\n            if (item.callback === listener && (!scope || scope === item.scope)) {\n                idx = index;\n                return true;\n            }\n        });\n        return idx;\n    }\n\n    function reset() {\n        handlers = {};\n    }\n\n    var instance = {\n        on: on,\n        off: off,\n        trigger: trigger,\n        reset: reset\n    };\n\n    return instance;\n}\n\nEventBus.__h5player_factory_name = 'EventBus';\nvar factory = _FactoryMaker2.default.getSingletonFactory(EventBus);\nfactory.EVENT_PRIORITY_LOW = EVENT_PRIORITY_LOW;\nfactory.EVENT_PRIORITY_HIGH = EVENT_PRIORITY_HIGH;\nexports.default = factory;\n\n},{\"13\":13}],13:[function(_dereq_,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n * The copyright in this software is being made available under the BSD License,\n * included below. This software may be subject to other third party and contributor\n * rights, including patent rights, and no such rights are granted under this license.\n *\n * Copyright (c) 2013, Dash Industry Forum.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *  * Redistributions of source code must retain the above copyright notice, this\n *  list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright notice,\n *  this list of conditions and the following disclaimer in the documentation and/or\n *  other materials provided with the distribution.\n *  * Neither the name of Dash Industry Forum nor the names of its\n *  contributors may be used to endorse or promote products derived from this software\n *  without specific prior written permission.\n *\n *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY\n *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n *  POSSIBILITY OF SUCH DAMAGE.\n */\n/**\n * @module FactoryMaker\n */\nvar FactoryMaker = function () {\n\n    var instance = void 0;\n    var extensions = [];\n    var singletonContexts = [];\n\n    function extend(name, childInstance, override, context) {\n        var extensionContext = getExtensionContext(context);\n        if (!extensionContext[name] && childInstance) {\n            extensionContext[name] = { instance: childInstance, override: override };\n        }\n    }\n\n    /**\n     * Use this method from your extended object.  this.factory is injected into your object.\n     * this.factory.getSingletonInstance(this.context, 'VideoModel')\n     * will return the video model for use in the extended object.\n     *\n     * @param {Object} context - injected into extended object as this.context\n     * @param {string} className - string name found in all dash.js objects\n     * with name __h5player_factory_name Will be at the bottom. Will be the same as the object's name.\n     * @returns {*} Context aware instance of specified singleton name.\n     * @memberof module:FactoryMaker\n     * @instance\n     */\n    function getSingletonInstance(context, className) {\n        for (var i in singletonContexts) {\n            var obj = singletonContexts[i];\n            if (obj.context === context && obj.name === className) {\n                return obj.instance;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * Use this method to add an singleton instance to the system.  Useful for unit testing to mock objects etc.\n     *\n     * @param {Object} context\n     * @param {string} className\n     * @param {Object} instance\n     * @memberof module:FactoryMaker\n     * @instance\n     */\n    function setSingletonInstance(context, className, instance) {\n        for (var i in singletonContexts) {\n            var obj = singletonContexts[i];\n            if (obj.context === context && obj.name === className) {\n                singletonContexts[i].instance = instance;\n                return;\n            }\n        }\n        singletonContexts.push({ name: className, context: context, instance: instance });\n    }\n\n    function getClassFactory(classConstructor) {\n        return function (context) {\n            if (context === undefined) {\n                context = {};\n            }\n\n            return {\n                create: function create() {\n                    return merge(classConstructor.__h5player_factory_name, classConstructor.apply({ context: context }, arguments), context, arguments);\n                }\n            };\n        };\n    }\n\n    function getSingletonFactory(classConstructor) {\n        return function (context) {\n            var instance = void 0;\n            if (context === undefined) {\n                context = {};\n            }\n            return {\n                getInstance: function getInstance() {\n                    // If we don't have an instance yet check for one on the context\n                    if (!instance) {\n                        instance = getSingletonInstance(context, classConstructor.__h5player_factory_name);\n                    }\n                    // If there's no instance on the context then create one\n                    if (!instance) {\n                        instance = merge(classConstructor.__h5player_factory_name, classConstructor.apply({ context: context }, arguments), context, arguments);\n                        singletonContexts.push({ name: classConstructor.__h5player_factory_name, context: context, instance: instance });\n                    }\n                    return instance;\n                }\n            };\n        };\n    }\n\n    function merge(name, classConstructor, context, args) {\n        var extensionContext = getExtensionContext(context);\n        var extensionObject = extensionContext[name];\n        if (extensionObject) {\n            var extension = extensionObject.instance;\n            if (extensionObject.override) {\n                //Override public methods in parent but keep parent.\n                extension = extension.apply({ context: context, factory: instance, parent: classConstructor }, args);\n                for (var prop in extension) {\n                    if (classConstructor.hasOwnProperty(prop)) {\n                        classConstructor[prop] = extension[prop];\n                    }\n                }\n            } else {\n                //replace parent object completely with new object. Same as dijon.\n                return extension.apply({ context: context, factory: instance }, args);\n            }\n        }\n        return classConstructor;\n    }\n\n    function getExtensionContext(context) {\n        var extensionContext = void 0;\n        extensions.forEach(function (obj) {\n            if (obj === context) {\n                extensionContext = obj;\n            }\n        });\n        if (!extensionContext) {\n            extensionContext = extensions.push(context);\n        }\n        return extensionContext;\n    }\n\n    instance = {\n        extend: extend,\n        getSingletonInstance: getSingletonInstance,\n        setSingletonInstance: setSingletonInstance,\n        getSingletonFactory: getSingletonFactory,\n        getClassFactory: getClassFactory\n    };\n\n    return instance;\n}();\n\nexports.default = FactoryMaker;\n\n},{}],14:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar AESCrypto = function () {\n  function AESCrypto(subtle, iv) {\n    _classCallCheck(this, AESCrypto);\n\n    this.subtle = subtle;\n    this.aesIV = iv;\n  }\n\n  _createClass(AESCrypto, [{\n    key: 'decrypt',\n    value: function decrypt(data, key) {\n      return this.subtle.decrypt({ name: 'AES-CBC', iv: this.aesIV }, key, data);\n    }\n  }]);\n\n  return AESCrypto;\n}();\n\nexports.default = AESCrypto;\n\n},{}],15:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar AESDecryptor = function () {\n  function AESDecryptor() {\n    _classCallCheck(this, AESDecryptor);\n\n    // Static after running initTable\n    this.rcon = [0x0, 0x1, 0x2, 0x4, 0x8, 0x10, 0x20, 0x40, 0x80, 0x1b, 0x36];\n\n    this.subMix = [];\n    this.subMix[0] = new Uint32Array(256);\n    this.subMix[1] = new Uint32Array(256);\n    this.subMix[2] = new Uint32Array(256);\n    this.subMix[3] = new Uint32Array(256);\n\n    this.invSubMix = [];\n    this.invSubMix[0] = new Uint32Array(256);\n    this.invSubMix[1] = new Uint32Array(256);\n    this.invSubMix[2] = new Uint32Array(256);\n    this.invSubMix[3] = new Uint32Array(256);\n\n    this.sBox = new Uint32Array(256);\n    this.invSBox = new Uint32Array(256);\n\n    // Changes during runtime\n    this.key = new Uint32Array(0);\n\n    this.initTable();\n  }\n\n  // Using view.getUint32() also swaps the byte order.\n\n\n  _createClass(AESDecryptor, [{\n    key: 'uint8ArrayToUint32Array_',\n    value: function uint8ArrayToUint32Array_(arrayBuffer) {\n      var view = new DataView(arrayBuffer);\n      var newArray = new Uint32Array(4);\n      for (var i = 0; i < newArray.length; i++) {\n        newArray[i] = view.getUint32(i * 4);\n      }\n      return newArray;\n    }\n  }, {\n    key: 'initTable',\n    value: function initTable() {\n      var sBox = this.sBox;\n      var invSBox = this.invSBox;\n      var subMix0 = this.subMix[0];\n      var subMix1 = this.subMix[1];\n      var subMix2 = this.subMix[2];\n      var subMix3 = this.subMix[3];\n      var invSubMix0 = this.invSubMix[0];\n      var invSubMix1 = this.invSubMix[1];\n      var invSubMix2 = this.invSubMix[2];\n      var invSubMix3 = this.invSubMix[3];\n\n      var d = new Uint32Array(256);\n      var x = 0;\n      var xi = 0;\n      var i = 0;\n      for (i = 0; i < 256; i++) {\n        if (i < 128) {\n          d[i] = i << 1;\n        } else {\n          d[i] = i << 1 ^ 0x11b;\n        }\n      }\n\n      for (i = 0; i < 256; i++) {\n        var sx = xi ^ xi << 1 ^ xi << 2 ^ xi << 3 ^ xi << 4;\n        sx = sx >>> 8 ^ sx & 0xff ^ 0x63;\n        sBox[x] = sx;\n        invSBox[sx] = x;\n\n        // Compute multiplication\n        var x2 = d[x];\n        var x4 = d[x2];\n        var x8 = d[x4];\n\n        // Compute sub/invSub bytes, mix columns tables\n        var t = d[sx] * 0x101 ^ sx * 0x1010100;\n        subMix0[x] = t << 24 | t >>> 8;\n        subMix1[x] = t << 16 | t >>> 16;\n        subMix2[x] = t << 8 | t >>> 24;\n        subMix3[x] = t;\n\n        // Compute inv sub bytes, inv mix columns tables\n        t = x8 * 0x1010101 ^ x4 * 0x10001 ^ x2 * 0x101 ^ x * 0x1010100;\n        invSubMix0[sx] = t << 24 | t >>> 8;\n        invSubMix1[sx] = t << 16 | t >>> 16;\n        invSubMix2[sx] = t << 8 | t >>> 24;\n        invSubMix3[sx] = t;\n\n        // Compute next counter\n        if (!x) {\n          x = xi = 1;\n        } else {\n          x = x2 ^ d[d[d[x8 ^ x2]]];\n          xi ^= d[d[xi]];\n        }\n      }\n    }\n  }, {\n    key: 'expandKey',\n    value: function expandKey(keyBuffer) {\n      // convert keyBuffer to Uint32Array\n      var key = this.uint8ArrayToUint32Array_(keyBuffer);\n      var sameKey = true;\n      var offset = 0;\n\n      while (offset < key.length && sameKey) {\n        sameKey = key[offset] === this.key[offset];\n        offset++;\n      }\n\n      if (sameKey) {\n        return;\n      }\n\n      this.key = key;\n      var keySize = this.keySize = key.length;\n\n      if (keySize !== 4 && keySize !== 6 && keySize !== 8) {\n        throw new Error('Invalid aes key size=' + keySize);\n      }\n\n      var ksRows = this.ksRows = (keySize + 6 + 1) * 4;\n      var ksRow = void 0;\n      var invKsRow = void 0;\n\n      var keySchedule = this.keySchedule = new Uint32Array(this.ksRows);\n      var invKeySchedule = this.invKeySchedule = new Uint32Array(this.ksRows);\n      var sbox = this.sBox;\n      var rcon = this.rcon;\n\n      var invSubMix0 = this.invSubMix[0];\n      var invSubMix1 = this.invSubMix[1];\n      var invSubMix2 = this.invSubMix[2];\n      var invSubMix3 = this.invSubMix[3];\n\n      var prev = void 0;\n      var t = void 0;\n\n      for (ksRow = 0; ksRow < ksRows; ksRow++) {\n        if (ksRow < keySize) {\n          prev = keySchedule[ksRow] = key[ksRow];\n          continue;\n        }\n        t = prev;\n\n        if (ksRow % keySize === 0) {\n          // Rot word\n          t = t << 8 | t >>> 24;\n\n          // Sub word\n          t = sbox[t >>> 24] << 24 | sbox[t >>> 16 & 0xff] << 16 | sbox[t >>> 8 & 0xff] << 8 | sbox[t & 0xff];\n\n          // Mix Rcon\n          t ^= rcon[ksRow / keySize | 0] << 24;\n        } else if (keySize > 6 && ksRow % keySize === 4) {\n          // Sub word\n          t = sbox[t >>> 24] << 24 | sbox[t >>> 16 & 0xff] << 16 | sbox[t >>> 8 & 0xff] << 8 | sbox[t & 0xff];\n        }\n\n        keySchedule[ksRow] = prev = (keySchedule[ksRow - keySize] ^ t) >>> 0;\n      }\n\n      for (invKsRow = 0; invKsRow < ksRows; invKsRow++) {\n        ksRow = ksRows - invKsRow;\n        if (invKsRow & 3) {\n          t = keySchedule[ksRow];\n        } else {\n          t = keySchedule[ksRow - 4];\n        }\n\n        if (invKsRow < 4 || ksRow <= 4) {\n          invKeySchedule[invKsRow] = t;\n        } else {\n          invKeySchedule[invKsRow] = invSubMix0[sbox[t >>> 24]] ^ invSubMix1[sbox[t >>> 16 & 0xff]] ^ invSubMix2[sbox[t >>> 8 & 0xff]] ^ invSubMix3[sbox[t & 0xff]];\n        }\n\n        invKeySchedule[invKsRow] = invKeySchedule[invKsRow] >>> 0;\n      }\n    }\n\n    // Adding this as a method greatly improves performance.\n\n  }, {\n    key: 'networkToHostOrderSwap',\n    value: function networkToHostOrderSwap(word) {\n      return word << 24 | (word & 0xff00) << 8 | (word & 0xff0000) >> 8 | word >>> 24;\n    }\n  }, {\n    key: 'decrypt',\n    value: function decrypt(inputArrayBuffer, offset, aesIV) {\n      var nRounds = this.keySize + 6;\n      var invKeySchedule = this.invKeySchedule;\n      var invSBOX = this.invSBox;\n\n      var invSubMix0 = this.invSubMix[0];\n      var invSubMix1 = this.invSubMix[1];\n      var invSubMix2 = this.invSubMix[2];\n      var invSubMix3 = this.invSubMix[3];\n\n      var initVector = this.uint8ArrayToUint32Array_(aesIV);\n      var initVector0 = initVector[0];\n      var initVector1 = initVector[1];\n      var initVector2 = initVector[2];\n      var initVector3 = initVector[3];\n\n      var inputInt32 = new Int32Array(inputArrayBuffer);\n      var outputInt32 = new Int32Array(inputInt32.length);\n\n      var t0 = void 0,\n          t1 = void 0,\n          t2 = void 0,\n          t3 = void 0;\n      var s0 = void 0,\n          s1 = void 0,\n          s2 = void 0,\n          s3 = void 0;\n      var inputWords0 = void 0,\n          inputWords1 = void 0,\n          inputWords2 = void 0,\n          inputWords3 = void 0;\n\n      var ksRow, i;\n\n      while (offset < inputInt32.length) {\n        inputWords0 = this.networkToHostOrderSwap(inputInt32[offset]);\n        inputWords1 = this.networkToHostOrderSwap(inputInt32[offset + 1]);\n        inputWords2 = this.networkToHostOrderSwap(inputInt32[offset + 2]);\n        inputWords3 = this.networkToHostOrderSwap(inputInt32[offset + 3]);\n\n        s0 = inputWords0 ^ invKeySchedule[0];\n        s1 = inputWords3 ^ invKeySchedule[1];\n        s2 = inputWords2 ^ invKeySchedule[2];\n        s3 = inputWords1 ^ invKeySchedule[3];\n\n        ksRow = 4;\n\n        // Iterate through the rounds of decryption\n        for (i = 1; i < nRounds; i++) {\n          t0 = invSubMix0[s0 >>> 24] ^ invSubMix1[s1 >> 16 & 0xff] ^ invSubMix2[s2 >> 8 & 0xff] ^ invSubMix3[s3 & 0xff] ^ invKeySchedule[ksRow];\n          t1 = invSubMix0[s1 >>> 24] ^ invSubMix1[s2 >> 16 & 0xff] ^ invSubMix2[s3 >> 8 & 0xff] ^ invSubMix3[s0 & 0xff] ^ invKeySchedule[ksRow + 1];\n          t2 = invSubMix0[s2 >>> 24] ^ invSubMix1[s3 >> 16 & 0xff] ^ invSubMix2[s0 >> 8 & 0xff] ^ invSubMix3[s1 & 0xff] ^ invKeySchedule[ksRow + 2];\n          t3 = invSubMix0[s3 >>> 24] ^ invSubMix1[s0 >> 16 & 0xff] ^ invSubMix2[s1 >> 8 & 0xff] ^ invSubMix3[s2 & 0xff] ^ invKeySchedule[ksRow + 3];\n          // Update state\n          s0 = t0;\n          s1 = t1;\n          s2 = t2;\n          s3 = t3;\n\n          ksRow = ksRow + 4;\n        }\n\n        // Shift rows, sub bytes, add round key\n        t0 = invSBOX[s0 >>> 24] << 24 ^ invSBOX[s1 >> 16 & 0xff] << 16 ^ invSBOX[s2 >> 8 & 0xff] << 8 ^ invSBOX[s3 & 0xff] ^ invKeySchedule[ksRow];\n        t1 = invSBOX[s1 >>> 24] << 24 ^ invSBOX[s2 >> 16 & 0xff] << 16 ^ invSBOX[s3 >> 8 & 0xff] << 8 ^ invSBOX[s0 & 0xff] ^ invKeySchedule[ksRow + 1];\n        t2 = invSBOX[s2 >>> 24] << 24 ^ invSBOX[s3 >> 16 & 0xff] << 16 ^ invSBOX[s0 >> 8 & 0xff] << 8 ^ invSBOX[s1 & 0xff] ^ invKeySchedule[ksRow + 2];\n        t3 = invSBOX[s3 >>> 24] << 24 ^ invSBOX[s0 >> 16 & 0xff] << 16 ^ invSBOX[s1 >> 8 & 0xff] << 8 ^ invSBOX[s2 & 0xff] ^ invKeySchedule[ksRow + 3];\n        ksRow = ksRow + 3;\n\n        // Write\n        outputInt32[offset] = this.networkToHostOrderSwap(t0 ^ initVector0);\n        outputInt32[offset + 1] = this.networkToHostOrderSwap(t3 ^ initVector1);\n        outputInt32[offset + 2] = this.networkToHostOrderSwap(t2 ^ initVector2);\n        outputInt32[offset + 3] = this.networkToHostOrderSwap(t1 ^ initVector3);\n\n        // reset initVector to last 4 unsigned int\n        initVector0 = inputWords0;\n        initVector1 = inputWords1;\n        initVector2 = inputWords2;\n        initVector3 = inputWords3;\n\n        offset = offset + 4;\n      }\n\n      return outputInt32.buffer;\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.key = undefined;\n      this.keySize = undefined;\n      this.ksRows = undefined;\n\n      this.sBox = undefined;\n      this.invSBox = undefined;\n      this.subMix = undefined;\n      this.invSubMix = undefined;\n      this.keySchedule = undefined;\n      this.invKeySchedule = undefined;\n\n      this.rcon = undefined;\n    }\n  }]);\n\n  return AESDecryptor;\n}();\n\nexports.default = AESDecryptor;\n\n},{}],16:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nvar _aesCrypto = _dereq_(14);\n\nvar _aesCrypto2 = _interopRequireDefault(_aesCrypto);\n\nvar _fastAesKey = _dereq_(17);\n\nvar _fastAesKey2 = _interopRequireDefault(_fastAesKey);\n\nvar _aesDecryptor = _dereq_(15);\n\nvar _aesDecryptor2 = _interopRequireDefault(_aesDecryptor);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n//import {ErrorTypes, ErrorDetails} from '../errors';\n//import {logger} from '../utils/logger';\n\n/*globals self: false */\n\nvar Decrypter = function () {\n  function Decrypter(config) {\n    _classCallCheck(this, Decrypter);\n\n    //this.observer = observer;\n    this.config = config;\n    this.logEnabled = true;\n    try {\n      var browserCrypto = crypto ? crypto : self.crypto;\n      this.subtle = browserCrypto.subtle || browserCrypto.webkitSubtle;\n    } catch (e) {}\n    this.disableWebCrypto = !this.subtle;\n  }\n\n  _createClass(Decrypter, [{\n    key: 'isSync',\n    value: function isSync() {\n      return this.disableWebCrypto && this.config.enableSoftwareAES;\n    }\n  }, {\n    key: 'decrypt',\n    value: function decrypt(data, key, iv, callback) {\n      var _this = this;\n\n      if (this.disableWebCrypto && this.config.enableSoftwareAES) {\n        if (this.logEnabled) {\n          console.log('JS AES decrypt');\n          this.logEnabled = false;\n        }\n        var decryptor = this.decryptor;\n        if (!decryptor) {\n          this.decryptor = decryptor = new _aesDecryptor2.default();\n        }\n        decryptor.expandKey(key);\n        callback(decryptor.decrypt(data, 0, iv));\n      } else {\n        if (this.logEnabled) {\n          console.log('WebCrypto AES decrypt');\n          this.logEnabled = false;\n        }\n        var subtle = this.subtle;\n        if (this.key !== key) {\n          this.key = key;\n          this.fastAesKey = new _fastAesKey2.default(subtle, key);\n        }\n\n        this.fastAesKey.expandKey().then(function (aesKey) {\n          // decrypt using web crypto\n          var crypto = new _aesCrypto2.default(subtle, iv);\n          crypto.decrypt(data, aesKey).catch(function (err) {\n            _this.onWebCryptoError(err, data, key, iv, callback);\n          }).then(function (result) {\n            callback(result);\n          });\n        }).catch(function (err) {\n          _this.onWebCryptoError(err, data, key, iv, callback);\n        });\n      }\n    }\n  }, {\n    key: 'onWebCryptoError',\n    value: function onWebCryptoError(err, data, key, iv, callback) {\n      if (this.config.enableSoftwareAES) {\n        console.log('WebCrypto Error, disable WebCrypto API');\n        this.disableWebCrypto = true;\n        this.logEnabled = true;\n        this.decrypt(data, key, iv, callback);\n      } else {\n        console.error('decrypting error : ' + err.message);\n        //this.observer.trigger(Event.ERROR, {type : ErrorTypes.MEDIA_ERROR, details : ErrorDetails.FRAG_DECRYPT_ERROR, fatal : true, reason : err.message});\n      }\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      var decryptor = this.decryptor;\n      if (decryptor) {\n        decryptor.destroy();\n        this.decryptor = undefined;\n      }\n    }\n  }]);\n\n  return Decrypter;\n}();\n\nexports.default = Decrypter;\n\n},{\"14\":14,\"15\":15,\"17\":17}],17:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar FastAESKey = function () {\n  function FastAESKey(subtle, key) {\n    _classCallCheck(this, FastAESKey);\n\n    this.subtle = subtle;\n    this.key = key;\n  }\n\n  _createClass(FastAESKey, [{\n    key: 'expandKey',\n    value: function expandKey() {\n      return this.subtle.importKey('raw', this.key, { name: 'AES-CBC' }, false, ['encrypt', 'decrypt']);\n    }\n  }]);\n\n  return FastAESKey;\n}();\n\nexports.default = FastAESKey;\n\n},{}],18:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _FactoryMaker = _dereq_(13);\n\nvar _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);\n\nvar _EventBus = _dereq_(12);\n\nvar _EventBus2 = _interopRequireDefault(_EventBus);\n\nvar _ProtectionKeyController = _dereq_(23);\n\nvar _ProtectionKeyController2 = _interopRequireDefault(_ProtectionKeyController);\n\nvar _ProtectionModel_21Jan = _dereq_(28);\n\nvar _ProtectionModel_21Jan2 = _interopRequireDefault(_ProtectionModel_21Jan);\n\nvar _ProtectionModel_3Feb = _dereq_(29);\n\nvar _ProtectionModel_3Feb2 = _interopRequireDefault(_ProtectionModel_3Feb);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\n//\nvar DRMEngine = function DRMEngine(media) {\n    this.media_ = media;\n    this.protectionModel_ = null;\n\n    this.protectionKeyController_ = (0, _ProtectionKeyController2.default)(this).getInstance();\n\n    this.protectionModel_ = this.getProtectionModel(this.media_);\n    this.protectionModel_.attachMedia(this.media_);\n};\n\nDRMEngine.prototype.getProtectionModel = function (media) {\n    if (media.onencrypted !== undefined && media.mediaKeys !== undefined && navigator.requestMediaKeySystemAccess !== undefined && typeof navigator.requestMediaKeySystemAccess === 'function') {\n        console.log('User Agent support ProtectionModel_21Jan2015');\n        return new _ProtectionModel_21Jan2.default();\n    } else {\n        console.log('User Agent support ProtectionModel_3Feb2014');\n        return new _ProtectionModel_3Feb2.default();\n    }\n};\n\nDRMEngine.prototype.setDrmInfo = function (info) {\n    if (!info.drm || !info.drm.type) {\n        return;\n    }\n\n    var keySystem = this.protectionKeyController_.getKeySystemBySystemString(info.drm.type);\n    console.log('H5Player, request systemString: ' + keySystem.systemString);\n    this.protectionModel_.setKeySystem(keySystem);\n    this.protectionModel_.setDrmInfo(info);\n};\n\nexports.default = DRMEngine;\n\n},{\"12\":12,\"13\":13,\"23\":23,\"28\":28,\"29\":29}],19:[function(_dereq_,module,exports){\n'use strict';\n\n/* $Date: 2007-06-12 18:02:31 $ */\n\n// from: http://bannister.us/weblog/2007/06/09/simple-base64-encodedecode-javascript/\n// Handles encode/decode of ASCII and Unicode strings.\n\nvar UTF8 = {};\nUTF8.encode = function (s) {\n    var u = [];\n    for (var i = 0; i < s.length; ++i) {\n        var c = s.charCodeAt(i);\n        if (c < 0x80) {\n            u.push(c);\n        } else if (c < 0x800) {\n            u.push(0xC0 | c >> 6);\n            u.push(0x80 | 63 & c);\n        } else if (c < 0x10000) {\n            u.push(0xE0 | c >> 12);\n            u.push(0x80 | 63 & c >> 6);\n            u.push(0x80 | 63 & c);\n        } else {\n            u.push(0xF0 | c >> 18);\n            u.push(0x80 | 63 & c >> 12);\n            u.push(0x80 | 63 & c >> 6);\n            u.push(0x80 | 63 & c);\n        }\n    }\n    return u;\n};\nUTF8.decode = function (u) {\n    var a = [];\n    var i = 0;\n    while (i < u.length) {\n        var v = u[i++];\n        if (v < 0x80) {\n            // no need to mask byte\n        } else if (v < 0xE0) {\n            v = (31 & v) << 6;\n            v |= 63 & u[i++];\n        } else if (v < 0xF0) {\n            v = (15 & v) << 12;\n            v |= (63 & u[i++]) << 6;\n            v |= 63 & u[i++];\n        } else {\n            v = (7 & v) << 18;\n            v |= (63 & u[i++]) << 12;\n            v |= (63 & u[i++]) << 6;\n            v |= 63 & u[i++];\n        }\n        a.push(String.fromCharCode(v));\n    }\n    return a.join('');\n};\n\nvar BASE64 = {};\n(function (T) {\n    var encodeArray = function encodeArray(u) {\n        var i = 0;\n        var a = [];\n        var n = 0 | u.length / 3;\n        while (0 < n--) {\n            var v = (u[i] << 16) + (u[i + 1] << 8) + u[i + 2];\n            i += 3;\n            a.push(T.charAt(63 & v >> 18));\n            a.push(T.charAt(63 & v >> 12));\n            a.push(T.charAt(63 & v >> 6));\n            a.push(T.charAt(63 & v));\n        }\n        if (2 == u.length - i) {\n            var v = (u[i] << 16) + (u[i + 1] << 8);\n            a.push(T.charAt(63 & v >> 18));\n            a.push(T.charAt(63 & v >> 12));\n            a.push(T.charAt(63 & v >> 6));\n            a.push('=');\n        } else if (1 == u.length - i) {\n            var v = u[i] << 16;\n            a.push(T.charAt(63 & v >> 18));\n            a.push(T.charAt(63 & v >> 12));\n            a.push('==');\n        }\n        return a.join('');\n    };\n    var R = function () {\n        var a = [];\n        for (var i = 0; i < T.length; ++i) {\n            a[T.charCodeAt(i)] = i;\n        }\n        a['='.charCodeAt(0)] = 0;\n        return a;\n    }();\n    var decodeArray = function decodeArray(s) {\n        var i = 0;\n        var u = [];\n        var n = 0 | s.length / 4;\n        while (0 < n--) {\n            var v = (R[s.charCodeAt(i)] << 18) + (R[s.charCodeAt(i + 1)] << 12) + (R[s.charCodeAt(i + 2)] << 6) + R[s.charCodeAt(i + 3)];\n            u.push(255 & v >> 16);\n            u.push(255 & v >> 8);\n            u.push(255 & v);\n            i += 4;\n        }\n        if (u) {\n            if ('=' == s.charAt(i - 2)) {\n                u.pop();\n                u.pop();\n            } else if ('=' == s.charAt(i - 1)) {\n                u.pop();\n            }\n        }\n        return u;\n    };\n    var ASCII = {};\n    ASCII.encode = function (s) {\n        var u = [];\n        for (var i = 0; i < s.length; ++i) {\n            u.push(s.charCodeAt(i));\n        }\n        return u;\n    };\n    ASCII.decode = function (u) {\n        for (var i = 0; i < s.length; ++i) {\n            a[i] = String.fromCharCode(a[i]);\n        }\n        return a.join('');\n    };\n    BASE64.decodeArray = function (s) {\n        var u = decodeArray(s);\n        return new Uint8Array(u);\n    };\n    BASE64.encodeASCII = function (s) {\n        var u = ASCII.encode(s);\n        return encodeArray(u);\n    };\n    BASE64.decodeASCII = function (s) {\n        var a = decodeArray(s);\n        return ASCII.decode(a);\n    };\n    BASE64.encode = function (s) {\n        var u = UTF8.encode(s);\n        return encodeArray(u);\n    };\n    BASE64.decode = function (s) {\n        var u = decodeArray(s);\n        return UTF8.decode(u);\n    };\n})(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\");\n\n/*The following polyfills are not used in dash.js but have caused multiplayer integration issues.\n Therefore commenting them out.\nif (undefined === btoa) {\n    var btoa = BASE64.encode;\n}\nif (undefined === atob) {\n    var atob = BASE64.decode;\n}\n*/\n\nif (typeof exports !== 'undefined') {\n    exports.decode = BASE64.decode;\n    exports.decodeArray = BASE64.decodeArray;\n}\n\n},{}],20:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _CoreEvents = _dereq_(10);\n\nvar _CoreEvents2 = _interopRequireDefault(_CoreEvents);\n\nvar _Player = _dereq_(2);\n\nvar _Player2 = _interopRequireDefault(_Player);\n\nvar _TestFeature = _dereq_(4);\n\nvar _TestFeature2 = _interopRequireDefault(_TestFeature);\n\nvar _cast_sender = _dereq_(8);\n\nvar _cast_sender2 = _interopRequireDefault(_cast_sender);\n\nvar _cast_receiver = _dereq_(7);\n\nvar _cast_receiver2 = _interopRequireDefault(_cast_receiver);\n\nvar _common_utils = _dereq_(47);\n\nvar _common_utils2 = _interopRequireDefault(_common_utils);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\n// Shove both of these into the global scope\nvar context = typeof window !== 'undefined' && window || global;\n\nvar oldmtn = context.oldmtn;\nif (!oldmtn) {\n    oldmtn = context.oldmtn = {};\n}\n\noldmtn.Player = _Player2.default;\noldmtn.Events = _CoreEvents2.default;\noldmtn.TestFeature = _TestFeature2.default;\noldmtn.CastSender = _cast_sender2.default;\noldmtn.CastReceiver = _cast_receiver2.default;\n\noldmtn.CommonUtils = _common_utils2.default;\n\nexports.default = oldmtn;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"10\":10,\"2\":2,\"4\":4,\"47\":47,\"7\":7,\"8\":8}],21:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _FactoryMaker = _dereq_(13);\n\nvar _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);\n\nvar _EventBus = _dereq_(12);\n\nvar _EventBus2 = _interopRequireDefault(_EventBus);\n\nvar _CoreEvents = _dereq_(10);\n\nvar _CoreEvents2 = _interopRequireDefault(_CoreEvents);\n\nvar _Debug = _dereq_(11);\n\nvar _Debug2 = _interopRequireDefault(_Debug);\n\nvar _timeRanges = _dereq_(49);\n\nvar _timeRanges2 = _interopRequireDefault(_timeRanges);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/* During the loading process of an audio/video, the following events occur, in this order:\nloadstart\ndurationchange\nloadedmetadata\nloadeddata\nprogress\ncanplay\ncanplaythrough\n*/\n\nvar MediaEngine = function MediaEngine(media) {\n  this.media_ = media;\n  this.eventBus_ = (0, _EventBus2.default)(oldmtn).getInstance();\n  this.debug_ = (0, _Debug2.default)(oldmtn).getInstance();\n  this.addEventListeners();\n};\n\n// Begin -- public functions\nMediaEngine.prototype.currentTime = function () {\n  return this.media_.currentTime;\n};\n\nMediaEngine.prototype.duration = function () {\n  return this.media_.duration;\n};\n\nMediaEngine.prototype.seeking = function () {\n  return this.media_.seeking;\n};\n\nMediaEngine.prototype.isEnded = function () {\n  return this.media_.ended;\n};\n\nMediaEngine.prototype.isMuted = function () {\n  return this.media_.muted;\n};\n\nMediaEngine.prototype.isPaused = function () {\n  return this.media_.paused;\n};\n\nMediaEngine.prototype.mute = function () {\n  this.media_.muted = true;\n};\n\nMediaEngine.prototype.play = function () {\n  this.media_.play();\n};\n\nMediaEngine.prototype.pause = function () {\n  this.media_.pause();\n};\n\nMediaEngine.prototype.unmute = function () {\n  this.media_.muted = false;\n};\n\n// End -- public functions\n\n// Begin - private function \nMediaEngine.prototype.onMediaCanplay = function () {\n  //The canplay event occurs when the browser can start playing the specified audio/video (when it has buffered enough to begin).\n  this.debug_.log('+onMediaCanplay');\n};\n\nMediaEngine.prototype.onMediaCanplayThrough = function () {\n  this.debug_.log('+onMediaCanplayThrough');\n};\n\nMediaEngine.prototype.onMediaDurationChanged = function () {\n  this.debug_.log('+onMediaDurationChanged' + ', currentTime: ' + this.media_.currentTime + ', duration: ' + this.media_.duration);\n  this.eventBus_.trigger(_CoreEvents2.default.MEDIA_DURATION_CHANGED);\n};\n\nMediaEngine.prototype.onMediaEnded = function () {\n  this.eventBus_.trigger(_CoreEvents2.default.MEDIA_ENDED);\n};\n\nMediaEngine.prototype.onMediaLoadedData = function () {\n  this.debug_.log('+onMediaLoadedData');\n};\n\nMediaEngine.prototype.onMediaLoadedMetadata = function () {\n  this.debug_.log('+onMediaMetadata' + ', width: ' + this.media_.width + ', height: ' + this.media_.height + ', duration: ' + this.media_.duration);\n  this.eventBus_.trigger(_CoreEvents2.default.MEDIA_LOADEDMETADATA);\n};\n\nMediaEngine.prototype.onMediaLoadStart = function () {\n  this.debug_.log('+onMediaLoadStart');\n};\n\nMediaEngine.prototype.onMediaPaused = function () {\n  this.debug_.log('+onMediaPaused');\n  this.eventBus_.trigger(_CoreEvents2.default.MEDIA_PAUSED);\n};\n\nMediaEngine.prototype.onMediaPlay = function () {\n  this.debug_.log('+onMediaPlay');\n};\n\nMediaEngine.prototype.onMediaPlaying = function () {\n  this.debug_.log('+onMediaPlaying');\n  this.eventBus_.trigger(_CoreEvents2.default.MEDIA_PLAYING);\n};\n\nMediaEngine.prototype.onMediaProgress = function () {\n  this.debug_.log('+onMediaProgress');\n};\n\nMediaEngine.prototype.onMediaReadyState = function (e) {\n  this.debug_.log('+onMediaReadyState');\n};\n\nMediaEngine.prototype.onMediaSeeking = function () {\n  this.eventBus_.trigger(_CoreEvents2.default.MEDIA_SEEKING);\n};\n\nMediaEngine.prototype.onMediaSeeked = function () {\n  this.eventBus_.trigger(_CoreEvents2.default.MEDIA_SEEKED);\n};\n\nMediaEngine.prototype.onMediaTimeUpdated = function (e) {\n  this.eventBus_.trigger(_CoreEvents2.default.MEDIA_TIMEUPDATE);\n  //this.debug_.log(`main buffered : ${TimeRanges.toString(media.buffered)}` + ', currentTime: ' + media.currentTime);\n};\n\nMediaEngine.prototype.onMediaWaiting = function () {\n  this.debug_.log('+onMediaWaiting');\n  this.eventBus_.trigger(_CoreEvents2.default.MEDIA_WAITING);\n};\n// End\n\n// public function\nMediaEngine.prototype.addEventListeners = function () {\n  this.media_.addEventListener('canplay', this.onMediaCanplay.bind(this));\n  this.media_.addEventListener('canplaythrough', this.onMediaCanplayThrough.bind(this));\n  this.media_.addEventListener('durationchange', this.onMediaDurationChanged.bind(this));\n  this.media_.addEventListener('ended', this.onMediaEnded.bind(this));\n  this.media_.addEventListener('loadeddata', this.onMediaLoadedData.bind(this));\n  this.media_.addEventListener('loadedmetadata', this.onMediaLoadedMetadata.bind(this));\n  this.media_.addEventListener('loadstart', this.onMediaLoadStart.bind(this));\n  this.media_.addEventListener('pause', this.onMediaPaused.bind(this));\n  this.media_.addEventListener('play', this.onMediaPlay.bind(this));\n  this.media_.addEventListener('playing', this.onMediaPlaying.bind(this));\n  this.media_.addEventListener('progress', this.onMediaProgress.bind(this));\n  this.media_.addEventListener('readyState', this.onMediaReadyState.bind(this));\n  this.media_.addEventListener('seeking', this.onMediaSeeking.bind(this));\n  this.media_.addEventListener('seeked', this.onMediaSeeked.bind(this));\n  this.media_.addEventListener('timeupdate', this.onMediaTimeUpdated.bind(this));\n  this.media_.addEventListener('waiting', this.onMediaWaiting.bind(this));\n};\n\nMediaEngine.prototype.removeEventsListeners = function () {\n  this.media_.removeEventListener('canplay', this.onMediaCanplay.bind(this));\n  this.media_.removeEventListener('durationchange', this.onMediaDurationChanged.bind(this));\n  this.media_.removeEventListener('ended', this.onMediaEnded.bind(this));\n  this.media_.removeEventListener('loadeddata', this.onMediaLoadedData.bind(this));\n  this.media_.removeEventListener('loadedmetadata', this.onMediaMetadata.bind(this));\n  this.media_.removeEventListener('loadstart', this.onMediaLoadStart.bind(this));\n  this.media_.removeEventListener('pause', this.onMediaPaused.bind(this));\n  this.media_.removeEventListener('play', this.onMediaPlay.bind(this));\n  this.media_.removeEventListener('playing', this.onMediaPlaying.bind(this));\n  this.media_.removeEventListener('progress', this.onMediaProgress.bind(this));\n  this.media_.removeEventListener('readyState', this.onMediaReadyState.bind(this));\n  this.media_.removeEventListener('seeking', this.onMediaSeeking.bind(this));\n  this.media_.removeEventListener('seeked', this.onMediaSeeked.bind(this));\n  this.media_.removeEventListener('timeupdate', this.onMediaTimeUpdated.bind(this));\n  this.media_.removeEventListener('waiting', this.onMediaWaiting.bind(this));\n};\n\nMediaEngine.prototype.setSrc = function (objURL) {\n  this.media_.src = objURL;\n};\n\nMediaEngine.prototype.getSrc = function () {\n  return this.media_.src;\n};\n\nMediaEngine.prototype.revokeSrc = function () {\n  URL.revokeObjectURL(this.media_.src);\n};\n\nMediaEngine.prototype.close = function () {\n  // Detach properly the MediaSource from the HTMLMediaElement as\n  // suggested in https://github.com/w3c/media-source/issues/53\n  if (this.media_) {\n    this.media_.removeAttribute('src');\n    this.media_.load();\n  }\n};\n\nexports.default = MediaEngine;\n\n},{\"10\":10,\"11\":11,\"12\":12,\"13\":13,\"49\":49}],22:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _EventBus = _dereq_(12);\n\nvar _EventBus2 = _interopRequireDefault(_EventBus);\n\nvar _CoreEvents = _dereq_(10);\n\nvar _CoreEvents2 = _interopRequireDefault(_CoreEvents);\n\nvar _Debug = _dereq_(11);\n\nvar _Debug2 = _interopRequireDefault(_Debug);\n\nvar _SourceBufferWrapper = _dereq_(3);\n\nvar _SourceBufferWrapper2 = _interopRequireDefault(_SourceBufferWrapper);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar MediaSourceEngine = function MediaSourceEngine() {\n  this.eventBus_ = (0, _EventBus2.default)(oldmtn).getInstance();\n  this.debug_ = (0, _Debug2.default)(oldmtn).getInstance();\n  this.mediaSrc_ = null;\n  this.streamInfo_ = null;\n  this.sourceBuffers_ = {};\n\n  this.debug_.log('MediaSourceEngine, constructor');\n};\n\nMediaSourceEngine.prototype.open = function (streamInfo) {\n  this.debug_.log('MediaSourceEngine, +open');\n\n  this.streamInfo_ = streamInfo;\n\n  if (this.streamInfo_.audioCodec) {\n    this.sourceBuffers_['audio'] = new _SourceBufferWrapper2.default(this.streamInfo_.audioCodec);\n  }\n  if (this.streamInfo_.videoCodec) {\n    this.sourceBuffers_['video'] = new _SourceBufferWrapper2.default(this.streamInfo_.videoCodec);\n  }\n\n  //\n  var hasWebKit = 'WebKitMediaSource' in window;\n  var hasMediaSource = 'MediaSource' in window;\n\n  if (hasMediaSource) {\n    this.mediaSrc_ = new MediaSource();\n    this.mediaSrc_.addEventListener('sourceopen', this.onMediaSourceOpen.bind(this), false);\n    this.mediaSrc_.addEventListener('sourceended', this.onMediaSourceEnded.bind(this), false);\n    this.mediaSrc_.addEventListener('sourceclose', this.onMediaSourceClose.bind(this), false);\n  } else if (hasWebKit) {\n    this.mediaSrc_ = new WebKitMediaSource();\n    this.mediaSrc_.addEventListener('webkitsourceopen', this.onMediaSourceOpen.bind(this), false);\n  }\n\n  this.debug_.log('MediaSourceEngine, -open');\n};\n\nMediaSourceEngine.prototype.onMediaSourceOpen = function () {\n  this.debug_.log('+MediaSourceOpen');\n\n  this.mediaSrc_.removeEventListener('sourceopen', this.onMediaSourceOpen.bind(this));\n  this.mediaSrc_.removeEventListener('webkitsourceopen', this.onMediaSourceOpen.bind(this));\n\n  if (this.sourceBuffers_['audio']) {\n    this.sourceBuffers_['audio'].init(this.mediaSrc_);\n  }\n\n  if (this.sourceBuffers_['video']) {\n    this.sourceBuffers_['video'].init(this.mediaSrc_);\n  }\n\n  this.eventBus_.trigger(_CoreEvents2.default.MSE_OPENED, {});\n};\n\nMediaSourceEngine.prototype.onMediaSourceEnded = function () {};\n\nMediaSourceEngine.prototype.onMediaSourceClose = function () {};\n\nMediaSourceEngine.prototype.setDuration = function (value) {\n  if (this.mediaSrc_.duration != value) {\n    this.mediaSrc_.duration = value;\n  }\n\n  return this.mediaSrc_.duration;\n};\n\nMediaSourceEngine.prototype.signalEndOfStream = function () {\n  this.mediaSrc_.endOfStream();\n};\n\nMediaSourceEngine.prototype.getMediaSource = function () {\n  return this.mediaSrc_;\n};\n\nMediaSourceEngine.prototype.appendBuffer = function (contentType, buffer) {\n  this.sourceBuffers_[contentType].appendBuffer(buffer);\n};\n\nMediaSourceEngine.prototype.removeBuffer = function () {\n  if (this.sourceBuffers_['audio']) {\n    this.sourceBuffers_['audio'].removeBuffer();\n  }\n  if (this.sourceBuffers_['video']) {\n    this.sourceBuffers_['video'].removeBuffer();\n  }\n\n  this.sourceBuffers_['audio'] = null;\n  this.sourceBuffers_['video'] = null;\n};\n\nMediaSourceEngine.prototype.close = function () {\n  if (this.sourceBuffers_['audio']) {\n    this.sourceBuffers_['audio'].removeBuffer();\n  }\n  if (this.sourceBuffers_['video']) {\n    this.sourceBuffers_['video'].removeBuffer();\n  }\n\n  this.sourceBuffers_ = {};\n  this.mediaSrc_ = null;\n  this.streamInfo_ = null;\n};\n\nexports.default = MediaSourceEngine;\n\n},{\"10\":10,\"11\":11,\"12\":12,\"3\":3}],23:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _FactoryMaker = _dereq_(13);\n\nvar _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);\n\nvar _KeySystemClearKey = _dereq_(25);\n\nvar _KeySystemClearKey2 = _interopRequireDefault(_KeySystemClearKey);\n\nvar _KeySystemWidevine = _dereq_(27);\n\nvar _KeySystemWidevine2 = _interopRequireDefault(_KeySystemWidevine);\n\nvar _KeySystemPlayReady = _dereq_(26);\n\nvar _KeySystemPlayReady2 = _interopRequireDefault(_KeySystemPlayReady);\n\nvar _KeySystemCCPlayReady = _dereq_(24);\n\nvar _KeySystemCCPlayReady2 = _interopRequireDefault(_KeySystemCCPlayReady);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction ProtectionKeyController() {\n    var context_ = this.context;\n\n    var instance_ = void 0;\n    var keySystems_ = void 0;\n\n    function initialize() {\n        keySystems_ = [];\n\n        var keySystem;\n\n        // ClearKey\n        keySystem = (0, _KeySystemClearKey2.default)(context_).getInstance();\n        keySystems_.push(keySystem);\n\n        // PlayReady\n        keySystem = (0, _KeySystemPlayReady2.default)(context_).getInstance();\n        keySystems_.push(keySystem);\n\n        // Widevine\n        keySystem = (0, _KeySystemWidevine2.default)(context_).getInstance();\n        keySystems_.push(keySystem);\n\n        // Chromecast PlayReady\n        keySystem = (0, _KeySystemCCPlayReady2.default)(context_).getInstance();\n        keySystems_.push(keySystem);\n    }\n\n    function getKeySystems() {\n        return keySystems;\n    }\n\n    function getKeySystemBySystemString(systemString) {\n        if (window.cast && window.cast.__platform__) {\n            if (systemString === 'com.microsoft.playready') {\n                systemString = 'com.chromecast.playready';\n            }\n        }\n\n        for (var i = 0; i < keySystems_.length; i++) {\n            if (keySystems_[i].systemString === systemString) {\n                return keySystems_[i];\n            }\n        }\n        return null;\n    }\n\n    instance_ = {\n        getKeySystems: getKeySystems,\n        getKeySystemBySystemString: getKeySystemBySystemString\n    };\n\n    initialize();\n    return instance_;\n}\n\nProtectionKeyController.__h5player_factory_name = 'ProtectionKeyController';\nexports.default = _FactoryMaker2.default.getSingletonFactory(ProtectionKeyController);\n\n},{\"13\":13,\"24\":24,\"25\":25,\"26\":26,\"27\":27}],24:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _CommonEncryption = _dereq_(30);\n\nvar _CommonEncryption2 = _interopRequireDefault(_CommonEncryption);\n\nvar _Error = _dereq_(46);\n\nvar _Error2 = _interopRequireDefault(_Error);\n\nvar _FactoryMaker = _dereq_(13);\n\nvar _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);\n\nvar _base = _dereq_(19);\n\nvar _base2 = _interopRequireDefault(_base);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * The copyright in this software is being made available under the BSD License,\n * included below. This software may be subject to other third party and contributor\n * rights, including patent rights, and no such rights are granted under this license.\n *\n * Copyright (c) 2013, Dash Industry Forum.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *  * Redistributions of source code must retain the above copyright notice, this\n *  list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright notice,\n *  this list of conditions and the following disclaimer in the documentation and/or\n *  other materials provided with the distribution.\n *  * Neither the name of Dash Industry Forum nor the names of its\n *  contributors may be used to endorse or promote products derived from this software\n *  without specific prior written permission.\n *\n *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY\n *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n *  POSSIBILITY OF SUCH DAMAGE.\n */\n\n/**\n * Microsoft PlayReady DRM\n *\n * @class\n * @implements KeySystem\n */\nvar uuid = '9a04f079-9840-4286-ab92-e65be0885f95';\nvar systemString = 'com.chromecast.playready';\nvar schemeIdURI = 'urn:uuid:' + uuid;\n\nfunction KeySystemCCPlayReady() {\n\n    var instance_ = void 0;\n    var messageFormat = 'utf16';\n\n    function getRequestHeadersFromMessage(message) {\n        var headers = {};\n        headers['Content-Type'] = 'text/xml; charset=utf-8';\n        headers['SOAPAction'] = 'http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense';\n        return headers;\n    }\n\n    function getLicenseRequestFromMessage(message) {\n        console.log('DRM: cc, getLicenseRequestFromMessage');\n        return new Uint8Array(message);\n    }\n\n    function getLicenseServerURLFromInitData(initData) {\n        if (initData) {\n            var data = new DataView(initData);\n            var numRecords = data.getUint16(4, true);\n            var offset = 6;\n            var parser = new DOMParser();\n\n            for (var i = 0; i < numRecords; i++) {\n                // Parse the PlayReady Record header\n                var recordType = data.getUint16(offset, true);\n                offset += 2;\n                var recordLength = data.getUint16(offset, true);\n                offset += 2;\n                if (recordType !== 0x0001) {\n                    offset += recordLength;\n                    // VO BEGIN - https://sh.visualon.com/node/64225\n                    if (offset >= data.byteLength - 2) {\n                        return null;\n                    }\n                    // VO END\n                    continue;\n                }\n\n                var recordData = initData.slice(offset, offset + recordLength);\n                var record = String.fromCharCode.apply(null, new Uint16Array(recordData));\n                var xmlDoc = parser.parseFromString(record, 'application/xml');\n\n                // First try <LA_URL>\n                if (xmlDoc.getElementsByTagName('LA_URL')[0]) {\n                    var laURL = xmlDoc.getElementsByTagName('LA_URL')[0].childNodes[0].nodeValue;\n                    if (laURL) {\n                        return laURL;\n                    }\n                }\n\n                // Optionally, try <LUI_URL>\n                if (xmlDoc.getElementsByTagName('LUI_URL')[0]) {\n                    var luiurl = xmlDoc.getElementsByTagName('LUI_URL')[0].childNodes[0].nodeValue;\n                    if (luiurl) {\n                        return luiurl;\n                    }\n                }\n            }\n        }\n\n        return null;\n    }\n\n    function getInitData(cpData) {\n        // * desc@ getInitData\n        // *   generate PSSH data from PROHeader defined in MPD file\n        // *   PSSH format:\n        // *   size (4)\n        // *   box type(PSSH) (8)\n        // *   Protection SystemID (16)\n        // *   protection system data size (4) - length of decoded PROHeader\n        // *   decoded PROHeader data from MPD file\n        var PSSHBoxType = new Uint8Array([0x70, 0x73, 0x73, 0x68, 0x00, 0x00, 0x00, 0x00]); //'PSSH' 8 bytes\n        var playreadySystemID = new Uint8Array([0x9a, 0x04, 0xf0, 0x79, 0x98, 0x40, 0x42, 0x86, 0xab, 0x92, 0xe6, 0x5b, 0xe0, 0x88, 0x5f, 0x95]);\n\n        var byteCursor = 0;\n        var uint8arraydecodedPROHeader = null;\n\n        var PROSize, PSSHSize, PSSHBoxBuffer, PSSHBox, PSSHData;\n\n        // Handle common encryption PSSH\n        if ('pssh' in cpData) {\n            return _CommonEncryption2.default.parseInitDataFromContentProtection(cpData);\n        }\n        // Handle native MS PlayReady ContentProtection elements\n        if ('pro' in cpData) {\n            uint8arraydecodedPROHeader = _base2.default.decodeArray(cpData.pro.__text);\n        } else if ('prheader' in cpData) {\n            uint8arraydecodedPROHeader = _base2.default.decodeArray(cpData.prheader.__text);\n        } else {\n            return null;\n        }\n\n        PROSize = uint8arraydecodedPROHeader.length;\n        PSSHSize = 0x4 + PSSHBoxType.length + playreadySystemID.length + 0x4 + PROSize;\n\n        PSSHBoxBuffer = new ArrayBuffer(PSSHSize);\n\n        PSSHBox = new Uint8Array(PSSHBoxBuffer);\n        PSSHData = new DataView(PSSHBoxBuffer);\n\n        PSSHData.setUint32(byteCursor, PSSHSize);\n        byteCursor += 0x4;\n\n        PSSHBox.set(PSSHBoxType, byteCursor);\n        byteCursor += PSSHBoxType.length;\n\n        PSSHBox.set(playreadySystemID, byteCursor);\n        byteCursor += playreadySystemID.length;\n\n        PSSHData.setUint32(byteCursor, PROSize);\n        byteCursor += 0x4;\n\n        PSSHBox.set(uint8arraydecodedPROHeader, byteCursor);\n        byteCursor += PROSize;\n\n        return PSSHBox.buffer;\n    }\n\n    /**\n     * It seems that some PlayReady implementations return their XML-based CDM\n     * messages using UTF16, while others return them as UTF8.  Use this function\n     * to modify the message format to expect when parsing CDM messages.\n     *\n     * @param {string} format the expected message format.  Either \"utf8\" or \"utf16\".\n     * @throws {Error} Specified message format is not one of \"utf8\" or \"utf16\"\n     */\n    function setPlayReadyMessageFormat(format) {\n        if (format !== 'utf8' && format !== 'utf16') {\n            throw new _Error2.default('Illegal PlayReady message format! -- ' + format);\n        }\n        messageFormat = format;\n    }\n\n    instance_ = {\n        uuid: uuid,\n        schemeIdURI: schemeIdURI,\n        systemString: systemString,\n        getInitData: getInitData,\n        getRequestHeadersFromMessage: getRequestHeadersFromMessage,\n        getLicenseRequestFromMessage: getLicenseRequestFromMessage,\n        getLicenseServerURLFromInitData: getLicenseServerURLFromInitData,\n        setPlayReadyMessageFormat: setPlayReadyMessageFormat\n    };\n\n    return instance_;\n}\n\nKeySystemCCPlayReady.__h5player_factory_name = 'KeySystemCCPlayReady';\nexports.default = _FactoryMaker2.default.getSingletonFactory(KeySystemCCPlayReady);\n\n},{\"13\":13,\"19\":19,\"30\":30,\"46\":46}],25:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _FactoryMaker = _dereq_(13);\n\nvar _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar uuid = '1077efec-c0b2-4d02-ace3-3c1e52e2fb4b'; /**\n                                                    * The copyright in this software is being made available under the BSD License,\n                                                    * included below. This software may be subject to other third party and contributor\n                                                    * rights, including patent rights, and no such rights are granted under this license.\n                                                    *\n                                                    * Copyright (c) 2013, Dash Industry Forum.\n                                                    * All rights reserved.\n                                                    *\n                                                    * Redistribution and use in source and binary forms, with or without modification,\n                                                    * are permitted provided that the following conditions are met:\n                                                    *  * Redistributions of source code must retain the above copyright notice, this\n                                                    *  list of conditions and the following disclaimer.\n                                                    *  * Redistributions in binary form must reproduce the above copyright notice,\n                                                    *  this list of conditions and the following disclaimer in the documentation and/or\n                                                    *  other materials provided with the distribution.\n                                                    *  * Neither the name of Dash Industry Forum nor the names of its\n                                                    *  contributors may be used to endorse or promote products derived from this software\n                                                    *  without specific prior written permission.\n                                                    *\n                                                    *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY\n                                                    *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n                                                    *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n                                                    *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n                                                    *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n                                                    *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n                                                    *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n                                                    *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n                                                    *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n                                                    *  POSSIBILITY OF SUCH DAMAGE.\n                                                    */\n\nvar systemString = 'org.w3.clearkey';\nvar schemeIdURI = 'urn:uuid:' + uuid;\n\nfunction KeySystemClearKey() {\n\n    var instance = void 0;\n    /**\n     * Returns desired clearkeys (as specified in the CDM message) from protection data\n     *\n     * @param {ProtectionData} protectionData the protection data\n     * @param {ArrayBuffer} message the ClearKey CDM message\n     * @returns {ClearKeyKeySet} the key set or null if none found\n     * @throws {Error} if a keyID specified in the CDM message was not found in the\n     * protection data\n     * @memberof KeySystemClearKey\n     */\n    function getClearKeysFromProtectionData(protectionData, message) {\n        var clearkeySet = null;\n        // if (protectionData) {\n        //     // ClearKey is the only system that does not require a license server URL, so we\n        //     // handle it here when keys are specified in protection data\n        //     var jsonMsg = JSON.parse(String.fromCharCode.apply(null, new Uint8Array(message)));\n        //     var keyPairs = [];\n        //     for (var i = 0; i < jsonMsg.kids.length; i++) {\n        //         var clearkeyID = jsonMsg.kids[i];\n        //         var clearkey = (protectionData.clearkeys.hasOwnProperty(clearkeyID)) ? protectionData.clearkeys[clearkeyID] : null;\n        //         if (!clearkey) {\n        //             throw new Error('DRM: ClearKey keyID (' + clearkeyID + ') is not known!');\n        //         }\n        //         // KeyIDs from CDM are not base64 padded.  Keys may or may not be padded\n        //         keyPairs.push(new KeyPair(clearkeyID, clearkey));\n        //     }\n        //     clearkeySet = new ClearKeyKeySet(keyPairs);\n        // }\n        return clearkeySet;\n    }\n\n    function getInitData(cp) {\n        return CommonEncryption.parseInitDataFromContentProtection(cp);\n    }\n\n    function getRequestHeadersFromMessage() /*message*/{\n        return null;\n    }\n\n    function getLicenseRequestFromMessage(message) {\n        return new Uint8Array(message);\n    }\n\n    function getLicenseServerURLFromInitData() /*initData*/{\n        return null;\n    }\n\n    instance = {\n        uuid: uuid,\n        schemeIdURI: schemeIdURI,\n        systemString: systemString,\n        getInitData: getInitData,\n        getRequestHeadersFromMessage: getRequestHeadersFromMessage,\n        getLicenseRequestFromMessage: getLicenseRequestFromMessage,\n        getLicenseServerURLFromInitData: getLicenseServerURLFromInitData,\n        getClearKeysFromProtectionData: getClearKeysFromProtectionData\n    };\n\n    return instance;\n}\n\nKeySystemClearKey.__h5player_factory_name = 'KeySystemClearKey';\nexports.default = _FactoryMaker2.default.getSingletonFactory(KeySystemClearKey);\n\n},{\"13\":13}],26:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _CommonEncryption = _dereq_(30);\n\nvar _CommonEncryption2 = _interopRequireDefault(_CommonEncryption);\n\nvar _Error = _dereq_(46);\n\nvar _Error2 = _interopRequireDefault(_Error);\n\nvar _FactoryMaker = _dereq_(13);\n\nvar _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);\n\nvar _base = _dereq_(19);\n\nvar _base2 = _interopRequireDefault(_base);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * The copyright in this software is being made available under the BSD License,\n * included below. This software may be subject to other third party and contributor\n * rights, including patent rights, and no such rights are granted under this license.\n *\n * Copyright (c) 2013, Dash Industry Forum.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *  * Redistributions of source code must retain the above copyright notice, this\n *  list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright notice,\n *  this list of conditions and the following disclaimer in the documentation and/or\n *  other materials provided with the distribution.\n *  * Neither the name of Dash Industry Forum nor the names of its\n *  contributors may be used to endorse or promote products derived from this software\n *  without specific prior written permission.\n *\n *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY\n *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n *  POSSIBILITY OF SUCH DAMAGE.\n */\n\n/**\n * Microsoft PlayReady DRM\n *\n * @class\n * @implements KeySystem\n */\nvar uuid = '9a04f079-9840-4286-ab92-e65be0885f95';\nvar systemString = 'com.microsoft.playready';\nvar schemeIdURI = 'urn:uuid:' + uuid;\n\nfunction KeySystemPlayReady() {\n\n    var instance_ = void 0;\n    var messageFormat = 'utf16';\n\n    function getRequestHeadersFromMessage(message) {\n        var msg, xmlDoc;\n        var headers = {};\n        var parser = new DOMParser();\n        var dataview = messageFormat === 'utf16' ? new Uint16Array(message) : new Uint8Array(message);\n\n        msg = String.fromCharCode.apply(null, dataview);\n        xmlDoc = parser.parseFromString(msg, 'application/xml');\n\n        var headerNameList = xmlDoc.getElementsByTagName('name');\n        var headerValueList = xmlDoc.getElementsByTagName('value');\n        for (var i = 0; i < headerNameList.length; i++) {\n            headers[headerNameList[i].childNodes[0].nodeValue] = headerValueList[i].childNodes[0].nodeValue;\n        }\n        // some versions of the PlayReady CDM return 'Content' instead of 'Content-Type'.\n        // this is NOT w3c conform and license servers may reject the request!\n        // -> rename it to proper w3c definition!\n        if (headers.hasOwnProperty('Content')) {\n            headers['Content-Type'] = headers.Content;\n            delete headers.Content;\n        }\n        return headers;\n    }\n\n    function getLicenseRequestFromMessage(message) {\n        var msg, xmlDoc;\n        var licenseRequest = null;\n        var parser = new DOMParser();\n        var dataview = messageFormat === 'utf16' ? new Uint16Array(message) : new Uint8Array(message);\n\n        msg = String.fromCharCode.apply(null, dataview);\n        xmlDoc = parser.parseFromString(msg, 'application/xml');\n\n        if (xmlDoc.getElementsByTagName('Challenge')[0]) {\n            var Challenge = xmlDoc.getElementsByTagName('Challenge')[0].childNodes[0].nodeValue;\n            if (Challenge) {\n                licenseRequest = _base2.default.decode(Challenge);\n            }\n        }\n        return licenseRequest;\n    }\n\n    function getLicenseServerURLFromInitData(initData) {\n        if (initData) {\n            var data = new DataView(initData);\n            var numRecords = data.getUint16(4, true);\n            var offset = 6;\n            var parser = new DOMParser();\n\n            for (var i = 0; i < numRecords; i++) {\n                // Parse the PlayReady Record header\n                var recordType = data.getUint16(offset, true);\n                offset += 2;\n                var recordLength = data.getUint16(offset, true);\n                offset += 2;\n                if (recordType !== 0x0001) {\n                    offset += recordLength;\n                    // VO BEGIN - https://sh.visualon.com/node/64225\n                    if (offset >= data.byteLength - 2) {\n                        return null;\n                    }\n                    // VO END\n                    continue;\n                }\n\n                var recordData = initData.slice(offset, offset + recordLength);\n                var record = String.fromCharCode.apply(null, new Uint16Array(recordData));\n                var xmlDoc = parser.parseFromString(record, 'application/xml');\n\n                // First try <LA_URL>\n                if (xmlDoc.getElementsByTagName('LA_URL')[0]) {\n                    var laURL = xmlDoc.getElementsByTagName('LA_URL')[0].childNodes[0].nodeValue;\n                    if (laURL) {\n                        return laURL;\n                    }\n                }\n\n                // Optionally, try <LUI_URL>\n                if (xmlDoc.getElementsByTagName('LUI_URL')[0]) {\n                    var luiurl = xmlDoc.getElementsByTagName('LUI_URL')[0].childNodes[0].nodeValue;\n                    if (luiurl) {\n                        return luiurl;\n                    }\n                }\n            }\n        }\n\n        return null;\n    }\n\n    function getInitData(cpData) {\n        // * desc@ getInitData\n        // *   generate PSSH data from PROHeader defined in MPD file\n        // *   PSSH format:\n        // *   size (4)\n        // *   box type(PSSH) (8)\n        // *   Protection SystemID (16)\n        // *   protection system data size (4) - length of decoded PROHeader\n        // *   decoded PROHeader data from MPD file\n        var PSSHBoxType = new Uint8Array([0x70, 0x73, 0x73, 0x68, 0x00, 0x00, 0x00, 0x00]); //'PSSH' 8 bytes\n        var playreadySystemID = new Uint8Array([0x9a, 0x04, 0xf0, 0x79, 0x98, 0x40, 0x42, 0x86, 0xab, 0x92, 0xe6, 0x5b, 0xe0, 0x88, 0x5f, 0x95]);\n\n        var byteCursor = 0;\n        var uint8arraydecodedPROHeader = null;\n\n        var PROSize, PSSHSize, PSSHBoxBuffer, PSSHBox, PSSHData;\n\n        // Handle common encryption PSSH\n        if ('pssh' in cpData) {\n            return _CommonEncryption2.default.parseInitDataFromContentProtection(cpData);\n        }\n        // Handle native MS PlayReady ContentProtection elements\n        if ('pro' in cpData) {\n            uint8arraydecodedPROHeader = _base2.default.decodeArray(cpData.pro.__text);\n        } else if ('prheader' in cpData) {\n            uint8arraydecodedPROHeader = _base2.default.decodeArray(cpData.prheader.__text);\n        } else {\n            return null;\n        }\n\n        PROSize = uint8arraydecodedPROHeader.length;\n        PSSHSize = 0x4 + PSSHBoxType.length + playreadySystemID.length + 0x4 + PROSize;\n\n        PSSHBoxBuffer = new ArrayBuffer(PSSHSize);\n\n        PSSHBox = new Uint8Array(PSSHBoxBuffer);\n        PSSHData = new DataView(PSSHBoxBuffer);\n\n        PSSHData.setUint32(byteCursor, PSSHSize);\n        byteCursor += 0x4;\n\n        PSSHBox.set(PSSHBoxType, byteCursor);\n        byteCursor += PSSHBoxType.length;\n\n        PSSHBox.set(playreadySystemID, byteCursor);\n        byteCursor += playreadySystemID.length;\n\n        PSSHData.setUint32(byteCursor, PROSize);\n        byteCursor += 0x4;\n\n        PSSHBox.set(uint8arraydecodedPROHeader, byteCursor);\n        byteCursor += PROSize;\n\n        return PSSHBox.buffer;\n    }\n\n    /**\n     * It seems that some PlayReady implementations return their XML-based CDM\n     * messages using UTF16, while others return them as UTF8.  Use this function\n     * to modify the message format to expect when parsing CDM messages.\n     *\n     * @param {string} format the expected message format.  Either \"utf8\" or \"utf16\".\n     * @throws {Error} Specified message format is not one of \"utf8\" or \"utf16\"\n     */\n    function setPlayReadyMessageFormat(format) {\n        if (format !== 'utf8' && format !== 'utf16') {\n            throw new _Error2.default('Illegal PlayReady message format! -- ' + format);\n        }\n        messageFormat = format;\n    }\n\n    instance_ = {\n        uuid: uuid,\n        schemeIdURI: schemeIdURI,\n        systemString: systemString,\n        getInitData: getInitData,\n        getRequestHeadersFromMessage: getRequestHeadersFromMessage,\n        getLicenseRequestFromMessage: getLicenseRequestFromMessage,\n        getLicenseServerURLFromInitData: getLicenseServerURLFromInitData,\n        setPlayReadyMessageFormat: setPlayReadyMessageFormat\n    };\n\n    return instance_;\n}\n\nKeySystemPlayReady.__h5player_factory_name = 'KeySystemPlayReady';\nexports.default = _FactoryMaker2.default.getSingletonFactory(KeySystemPlayReady);\n\n},{\"13\":13,\"19\":19,\"30\":30,\"46\":46}],27:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _CommonEncryption = _dereq_(30);\n\nvar _CommonEncryption2 = _interopRequireDefault(_CommonEncryption);\n\nvar _FactoryMaker = _dereq_(13);\n\nvar _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar uuid = 'edef8ba9-79d6-4ace-a3c8-27dcd51d21ed';\nvar systemString = 'com.widevine.alpha';\nvar schemeIdURI = 'urn:uuid:' + uuid;\n\nfunction KeySystemWidevine() {\n\n    var instance_ = void 0;\n\n    function getInitData(cp) {\n        return _CommonEncryption2.default.parseInitDataFromContentProtection(cp);\n    }\n\n    function getRequestHeadersFromMessage() /*message*/{\n        return null;\n    }\n\n    function getLicenseRequestFromMessage(message) {\n        return new Uint8Array(message);\n    }\n\n    function getLicenseServerURLFromInitData() /*initData*/{\n        return null;\n    }\n\n    instance_ = {\n        uuid: uuid,\n        schemeIdURI: schemeIdURI,\n        systemString: systemString,\n        getInitData: getInitData,\n        getRequestHeadersFromMessage: getRequestHeadersFromMessage,\n        getLicenseRequestFromMessage: getLicenseRequestFromMessage,\n        getLicenseServerURLFromInitData: getLicenseServerURLFromInitData\n    };\n\n    return instance_;\n}\n\nKeySystemWidevine.__h5player_factory_name = 'KeySystemWidevine';\nexports.default = _FactoryMaker2.default.getSingletonFactory(KeySystemWidevine);\n\n},{\"13\":13,\"30\":30}],28:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _FactoryMaker = _dereq_(13);\n\nvar _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);\n\nvar _string_utils = _dereq_(48);\n\nvar _string_utils2 = _interopRequireDefault(_string_utils);\n\nvar _CommonEncryption = _dereq_(30);\n\nvar _CommonEncryption2 = _interopRequireDefault(_CommonEncryption);\n\nvar _MediaCapability = _dereq_(33);\n\nvar _MediaCapability2 = _interopRequireDefault(_MediaCapability);\n\nvar _KeySystemConfiguration = _dereq_(32);\n\nvar _KeySystemConfiguration2 = _interopRequireDefault(_KeySystemConfiguration);\n\nvar _KeySystemWidevine = _dereq_(27);\n\nvar _KeySystemWidevine2 = _interopRequireDefault(_KeySystemWidevine);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\n// This takes the place of a license server.\n// kids is an array of base64-encoded key IDs\n// keys is an array of base64-encoded keys\nfunction generateLicense(message, key) {\n    // Parse the clearkey license request.\n    var request = JSON.parse(new TextDecoder().decode(message));\n    // We only know one key, so there should only be one key ID.\n    // A real license server could easily serve multiple keys.\n    console.assert(request.kids.length === 1);\n\n    var keyObj = {\n        kty: 'oct',\n        //alg: 'A128KW',\n        kid: request.kids[0],\n        k: _string_utils2.default.u8arrToB64(key)\n    };\n    return new TextEncoder().encode(JSON.stringify({\n        keys: [keyObj]\n    }));\n}\n\nfunction dumpKSConfig(ksString, ksConfig) {\n    console.log('H5Player, requestMediaKeySystemAccess, keySystem_ = ' + ksString);\n    console.log('H5Player, requestMediaKeySystemAccess, config, initDataTypes: ' + ksConfig.initDataTypes[0]);\n    console.log('H5Player, requestMediaKeySystemAccess, config, distinctiveIdentifier: ' + ksConfig.distinctiveIdentifier);\n    console.log('H5Player, requestMediaKeySystemAccess, config, persistentState: ' + ksConfig.persistentState);\n    console.log('H5Player, requestMediaKeySystemAccess, config, sessionTypes: ' + ksConfig.sessionTypes[0]);\n    console.log('H5Player, requestMediaKeySystemAccess, config, videoCapabilities[0].contentType: ' + ksConfig.videoCapabilities[0].contentType);\n    console.log('H5Player, requestMediaKeySystemAccess, config, videoCapabilities[0].robustness: ' + ksConfig.videoCapabilities[0].robustness);\n\n    // liteH5Player.debug.js:3558 H5Player, requestMediaKeySystemAccess, keySystem_ = com.chromecast.playready\n    // liteH5Player.debug.js:3559 H5Player, requestMediaKeySystemAccess, config, initDataTypes: cenc\n    // liteH5Player.debug.js:3560 H5Player, requestMediaKeySystemAccess, config, distinctiveIdentifier: optional\n    // liteH5Player.debug.js:3561 H5Player, requestMediaKeySystemAccess, config, persistentState: optional\n    // liteH5Player.debug.js:3562 H5Player, requestMediaKeySystemAccess, config, sessionTypes: temporary\n    // liteH5Player.debug.js:3563 H5Player, requestMediaKeySystemAccess, config, videoCapabilities[0].contentType: video/mp4; codecs=\"avc1.42C014\"\n    // liteH5Player.debug.js:3564 H5Player, requestMediaKeySystemAccess, config, videoCapabilities[0].robustness: \n\n    // shaka-player.compiled.debug.js:100 DRM: queryMediaKeys_, keySystem: com.chromecast.playready\n    // shaka-player.compiled.debug.js:100 DRM: queryMediaKeys_, videoCapabilities = [object Object]\n    // shaka-player.compiled.debug.js:100 DRM: queryMediaKeys_, distinctiveIdentifier = optional\n    // shaka-player.compiled.debug.js:100 DRM: queryMediaKeys_, persistentState = optional\n    // shaka-player.compiled.debug.js:100 DRM: queryMediaKeys_, sessionTypes = temporary\n    // shaka-player.compiled.debug.js:100 DRM: queryMediaKeys_, label = com.chromecast.playready\n    // shaka-player.compiled.debug.js:100 DRM: queryMediaKeys_, drmInfos = [object Object]\n    // shaka-player.compiled.debug.js:100 DRM: queryMediaKeys_, videoCapabilities[0].contentType video/mp4; codecs=\"avc1.42C014\"\n    // shaka-player.compiled.debug.js:100 DRM: queryMediaKeys_, videoCapabilities[0].robustness \n\n    // for (var i in ksConfig) {\n    //     console.log('H5Player, ' + i + ' = ' + ksConfig[i]);\n    // }\n}\n\n/**\n * Most recent EME implementation\n *\n * Implemented by Google Chrome v36+ (Windows, OSX, Linux), Edge\n */\n\nvar ProtectionModel_21Jan2015 = function ProtectionModel_21Jan2015() {\n    this.media_ = null;\n\n    this.initDataType_ = null;\n    this.initData_ = null;\n    this.keySystem_ = null;\n\n    this.streamInfo_ = null;\n\n    this.promiseAction_ = null;\n};\n\nProtectionModel_21Jan2015.prototype.attachMedia = function (media) {\n    this.media_ = media;\n    this.media_.addEventListener('encrypted', this.onNeedKey.bind(this), false);\n};\n\nProtectionModel_21Jan2015.prototype.detachMedia = function () {\n    if (this.media_) {\n        this.media_.removeEventListener('encrypted', this.onNeedKey.bind(this), false);\n        this.media_ = null;\n    }\n};\n\nProtectionModel_21Jan2015.prototype.setKeySystem = function (keySystem) {\n    this.keySystem_ = keySystem;\n};\n\n// ev.initData: it is pssh data hidden in mp4 pssh box\nProtectionModel_21Jan2015.prototype.onNeedKey = function (ev) {\n    console.log('onNeedKey, initDataType: ' + ev.initDataType);\n    console.log('onNeedKey, initData length: ' + ev.initData.byteLength);\n    console.log('onNeedKey, initData', _string_utils2.default.ab2str_v1(ev.initData));\n\n    // \n    if (this.streamInfo_.drm.initDataType && this.streamInfo_.drm.initData) {\n        this.initDataType_ = this.streamInfo_.drm.initDataType;\n        this.initData_ = this.streamInfo_.drm.initData;\n    } else {\n        this.initDataType_ = ev.initDataType;\n        this.initData_ = ev.initData;\n    }\n\n    // BD\n    // var pssh = CommonEncryption.parsePSSHList(ev.initData);\n    // let a1 = StringUtils.ab2str_v1(pssh['edef8ba9-79d6-4ace-a3c8-27dcd51d21ed']);\n    // let a2 = StringUtils.ab2str_v1(pssh['9a04f079-9840-4286-ab92-e65be0885f95']);\n    // console.log('DRM, a1: ' + a1);\n    // console.log('DRM, a2: ' + a2);\n    // ED\n\n    this.requestKeySystemAccess();\n};\n\nProtectionModel_21Jan2015.prototype.onSessionMessage = function (ev) {\n    console.log('message event: ', ev);\n    // If you had a license server, you would make an asynchronous XMLHttpRequest\n    // with event.message as the body.  The response from the server, as a\n    // Uint8Array, would then be passed to session.update().\n    // Instead, we will generate the license synchronously on the client, using\n    // the hard-coded KEY at the top.\n\n    console.log('session message, length: ' + ev.message.byteLength);\n    console.log('session message, data:', _string_utils2.default.ab2str_v1(ev.message));\n\n    // Determine license server URL\n    var laUrl = this.streamInfo_.drm.laUrl;\n\n    if (!laUrl) {\n        console.log('DRM: no license url');\n\n        if (this.streamInfo_.drm.type === 'org.w3.clearkey') {\n            var license = generateLicense(event.message, this.streamInfo_.drm.key);\n            console.log('license: ', license);\n            var session = ev.target;\n            session.update(license);\n        }\n\n        return;\n    }\n    var self = this;\n    //\n    // All remaining key system scenarios require a request to a remote license server\n    var xhr = new XMLHttpRequest();\n\n    xhr.open('POST', laUrl, true);\n    xhr.responseType = 'arraybuffer';\n    xhr.timeout = 0;\n    xhr.withCredentials = false;\n\n    console.log('DRM: open method: POST');\n    console.log('DRM: timeout: ' + xhr.timeout);\n    console.log('DRM: withCredentials: ' + xhr.withCredentials);\n    console.log('DRM: message: ' + _string_utils2.default.ab2str_v1(ev.message));\n    xhr.onload = function (event) {\n        if (this.status == 200) {\n            var data = this.response;\n\n            console.log('DRM: request response length: ' + data.byteLength);\n            self.session_.update(new Uint8Array(this.response));\n        }\n    };\n    xhr.onabort = function () {\n        console.log('license request abort');\n    };\n    xhr.onerror = function () {\n        console.log('license request error');\n    };\n\n    // BD\n    var updateHeaders = function updateHeaders(headers) {\n        var key;\n        if (headers) {\n            for (key in headers) {\n                console.log('DRM: key: ' + key + ', value: ' + headers[key]);\n                xhr.setRequestHeader(key, headers[key]);\n            }\n        }\n    };\n\n    updateHeaders(this.streamInfo_.drm.headers);\n    // ED\n\n    //xhr.setRequestHeader('Content-Type', 'text/xml; charset=utf-8');\n    //xhr.setRequestHeader('SOAPAction', '\\\"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense\\\"');\n    var body = this.keySystem_.getLicenseRequestFromMessage(ev.message);\n    console.log('body: ', body);\n    xhr.send(body);\n};\n\nProtectionModel_21Jan2015.prototype.onSessionChange = function (ev) {\n    var a = 2;\n    var b = a;\n};\n\nProtectionModel_21Jan2015.prototype.setDrmInfo = function (streamInfo) {\n    console.log('--setDrmInfo in 21Jan2015--');\n    this.streamInfo_ = streamInfo;\n};\n\nProtectionModel_21Jan2015.prototype.requestKeySystemAccess = function () {\n    var audioCapabilities = [];\n    var videoCapabilities = [];\n    var robustnessLevel = ''; // SW_SECURE_CRYPTO\n    if (this.streamInfo_.audioCodec) {\n        audioCapabilities.push(new _MediaCapability2.default(this.streamInfo_.audioCodec, robustnessLevel));\n    }\n    if (this.streamInfo_.videoCodec) {\n        videoCapabilities.push(new _MediaCapability2.default(this.streamInfo_.videoCodec, robustnessLevel));\n    }\n\n    var ksConfig = new _KeySystemConfiguration2.default(audioCapabilities, videoCapabilities, 'optional', 'optional', ['temporary']);\n\n    var configs_ = [];\n    configs_.push(ksConfig);\n\n    // BD\n    //dumpKSConfig(this.keySystem_.systemString, ksConfig);\n    // ED\n\n    if (this.promiseAction_) {\n        return;\n    }\n\n    var self = this;\n    this.promiseAction_ = navigator.requestMediaKeySystemAccess(self.keySystem_.systemString, configs_).then(function (keySystemAccess) {\n        console.log('H5Player, requestMediaKeySystemAccess is ok');\n        return keySystemAccess.createMediaKeys();\n    }).then(function (mediaKeys) {\n        console.log('H5Player, createMediaKeys is ok, mediaKeys: ' + mediaKeys);\n        var ret = self.media_.setMediaKeys(mediaKeys);\n        return ret;\n    }).then(function () {\n        // create session\n        var mediaKeys = self.media_.mediaKeys;\n        self.session_ = mediaKeys.createSession('temporary');\n        self.session_.addEventListener('message', self.onSessionMessage.bind(self), false);\n        self.session_.addEventListener('keystatuseschange', self.onSessionChange.bind(self), false);\n        self.session_.generateRequest(self.initDataType_, self.initData_).then(function () {\n            console.log('generateRequest is ok');\n        }).catch(function (error) {\n            console.error('generateRequest failed at: ', error);\n        });\n    }).catch(function (error) {\n        console.error('Failed to set up MediaKeys', error);\n    });\n};\n\nexports.default = ProtectionModel_21Jan2015;\n\n},{\"13\":13,\"27\":27,\"30\":30,\"32\":32,\"33\":33,\"48\":48}],29:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _FactoryMaker = _dereq_(13);\n\nvar _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);\n\nvar _string_utils = _dereq_(48);\n\nvar _string_utils2 = _interopRequireDefault(_string_utils);\n\nvar _MediaCapability = _dereq_(33);\n\nvar _MediaCapability2 = _interopRequireDefault(_MediaCapability);\n\nvar _KeySystemConfiguration = _dereq_(32);\n\nvar _KeySystemConfiguration2 = _interopRequireDefault(_KeySystemConfiguration);\n\nvar _KSUtils = _dereq_(31);\n\nvar _KSUtils2 = _interopRequireDefault(_KSUtils);\n\nvar _CommonEncryption = _dereq_(30);\n\nvar _CommonEncryption2 = _interopRequireDefault(_CommonEncryption);\n\nvar _base = _dereq_(19);\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _KeySystemPlayReady = _dereq_(26);\n\nvar _KeySystemPlayReady2 = _interopRequireDefault(_KeySystemPlayReady);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * Most recent EME implementation\n *\n * Implemented by IE11\n */\nfunction ProtectionModel_3Feb2014(media) {\n    var context_ = this.context;\n    var instance_ = null;\n    var media_ = null;\n    var streamInfo_ = null;\n    var session_ = null;\n    var keySystem_ = null;\n    var mediaKeys_ = null;\n\n    function attachMedia(media) {\n        media_ = media;\n\n        media_.addEventListener('msneedkey', onNeedKey);\n    }\n\n    function detachMedia() {\n        if (media_) {\n            media_.addEventListener('msneedkey', onNeedKey);\n        }\n    }\n\n    function setKeySystem(keySystem) {\n        keySystem_ = keySystem;\n    }\n\n    function setDrmInfo(streamInfo) {\n        streamInfo_ = streamInfo;\n    }\n\n    function onNeedKey(ev) {\n        var initDataType = 'cenc';\n        // Some browsers return initData as Uint8Array (IE), some as ArrayBuffer (Chrome).\n        // Convert to ArrayBuffer\n        var abInitData = ev.initData;\n        if (ArrayBuffer.isView(abInitData)) {\n            abInitData = abInitData.buffer;\n        }\n\n        var pssh = _CommonEncryption2.default.parsePSSHList(abInitData);\n        var uuid = _KSUtils2.default.GetKSUUID(streamInfo_.drm.type);\n\n        var actualInitData = pssh[uuid];\n\n        // select key system\n        if (media_.readyState >= 1) {\n            mediaKeys_ = new window.MSMediaKeys(keySystem_.systemString);\n            media_.msSetMediaKeys(mediaKeys_);\n\n            session_ = mediaKeys_.createSession(streamInfo_.videoCodec, new Uint8Array(abInitData));\n            session_.addEventListener('mskeyerror', onSessionError);\n            session_.addEventListener('mskeymessage', onSessionMessage);\n            session_.addEventListener('mskeyadded', onSessionAdded);\n            session_.addEventListener('mskeyclose', onSessionClose);\n        }\n    }\n\n    function onSessionError(ev) {}\n\n    function onSessionMessage(ev) {\n        console.log(\"DRM: Key Message\");\n\n        var abMessage = ev.message;\n        if (ArrayBuffer.isView(abMessage)) {\n            abMessage = abMessage.buffer;\n        }\n\n        // license request here\n        var xhr = new XMLHttpRequest();\n        xhr.open('POST', streamInfo_.drm.laUrl, true);\n        xhr.responseType = 'arraybuffer';\n        xhr.onload = function () {\n            if (this.status === 200) {\n                session_.update(new Uint8Array(this.response));\n            }\n        };\n        xhr.onabort = function () {\n            console.log('DRM: xhr abort');\n        };\n        xhr.onerror = function () {\n            console.log('DRM: xhr error');\n        };\n\n        // \n        var headers = keySystem_.getRequestHeadersFromMessage(abMessage);\n        for (var key in headers) {\n            if ('authorization' === key.toLowerCase()) {\n                xhr.withCredentials = true;\n            }\n            xhr.setRequestHeader(key, headers[key]);\n        }\n\n        xhr.send(keySystem_.getLicenseRequestFromMessage(abMessage));\n    }\n\n    function onSessionAdded(ev) {\n        console.log('DRM: Key added');\n    }\n\n    function onSessionClose(ev) {}\n\n    function requestKeySystemAccess() {\n        var ksString = _KSUtils2.default.GetKSString(streamInfo_.drm.type);\n\n        var audioCapabilities = [];\n        var videoCapabilities = [];\n        var robustnessLevel = '';\n        if (streamInfo_.audioCodec) {\n            audioCapabilities.push(new _MediaCapability2.default(streamInfo_.audioCodec, robustnessLevel));\n        }\n        if (streamInfo_.videoCodec) {\n            videoCapabilities.push(new _MediaCapability2.default(streamInfo_.videoCodec, robustnessLevel));\n        }\n\n        var ksConfig = new _KeySystemConfiguration2.default(audioCapabilities, videoCapabilities, 'optional', 'optional', ['temporary']);\n\n        var configs_ = [];\n        configs_.push(ksConfig);\n\n        // check is supported?\n        for (var configIdx = 0; configIdx < configs_.length; configIdx++) {\n            var videos = configs_[configIdx].videoCapabilities;\n\n            // Look for supported video container/codecs\n            if (videos && videos.length !== 0) {\n                for (var videoIdx = 0; videoIdx < videos.length; videoIdx++) {\n                    if (window['MSMediaKeys'].isTypeSupported(ksString, videos[videoIdx].contentType)) {}\n                }\n            }\n        }\n\n        // \n        selectKeySystem(ksString);\n    }\n\n    function selectKeySystem(ksString) {\n        var mediaKeys = new window['MSMediaKeys'](ksString);\n\n        if (media_.readyState >= 1) {\n            media_.msSetMediaKeys(mediaKeys);\n        }\n    }\n\n    function createKeySession(initData) {}\n\n    instance_ = {\n        attachMedia: attachMedia,\n        detachMedia: detachMedia,\n        setKeySystem: setKeySystem,\n        setDrmInfo: setDrmInfo\n    };\n    return instance_;\n}\n\nexports.default = ProtectionModel_3Feb2014;\n\n},{\"13\":13,\"19\":19,\"26\":26,\"30\":30,\"31\":31,\"32\":32,\"33\":33,\"48\":48}],30:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }return function (Constructor, protoProps, staticProps) {\n        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n    };\n}(); /**\n      * The copyright in this software is being made available under the BSD License,\n      * included below. This software may be subject to other third party and contributor\n      * rights, including patent rights, and no such rights are granted under this license.\n      *\n      * Copyright (c) 2013, Dash Industry Forum.\n      * All rights reserved.\n      *\n      * Redistribution and use in source and binary forms, with or without modification,\n      * are permitted provided that the following conditions are met:\n      *  * Redistributions of source code must retain the above copyright notice, this\n      *  list of conditions and the following disclaimer.\n      *  * Redistributions in binary form must reproduce the above copyright notice,\n      *  this list of conditions and the following disclaimer in the documentation and/or\n      *  other materials provided with the distribution.\n      *  * Neither the name of Dash Industry Forum nor the names of its\n      *  contributors may be used to endorse or promote products derived from this software\n      *  without specific prior written permission.\n      *\n      *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY\n      *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n      *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n      *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n      *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n      *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n      *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n      *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n      *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n      *  POSSIBILITY OF SUCH DAMAGE.\n      */\n\nvar _base = _dereq_(19);\n\nvar _base2 = _interopRequireDefault(_base);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n\nvar CommonEncryption = function () {\n    function CommonEncryption() {\n        _classCallCheck(this, CommonEncryption);\n    }\n\n    _createClass(CommonEncryption, null, [{\n        key: 'findCencContentProtection',\n\n        /**\n         * Find and return the ContentProtection element in the given array\n         * that indicates support for MPEG Common Encryption\n         *\n         * @param {Array} cpArray array of content protection elements\n         * @returns {Object|null} the Common Encryption content protection element or\n         * null if one was not found\n         */\n        value: function findCencContentProtection(cpArray) {\n            var retVal = null;\n            for (var i = 0; i < cpArray.length; ++i) {\n                var cp = cpArray[i];\n                if (cp.schemeIdUri.toLowerCase() === 'urn:mpeg:dash:mp4protection:2011' && cp.value.toLowerCase() === 'cenc') retVal = cp;\n            }\n            return retVal;\n        }\n\n        /**\n         * Returns just the data portion of a single PSSH\n         *\n         * @param {ArrayBuffer} pssh - the PSSH\n         * @return {ArrayBuffer} data portion of the PSSH\n         */\n\n    }, {\n        key: 'getPSSHData',\n        value: function getPSSHData(pssh) {\n            var offset = 8; // Box size and type fields\n            var view = new DataView(pssh);\n\n            // Read version\n            var version = view.getUint8(offset);\n\n            offset += 20; // Version (1), flags (3), system ID (16)\n\n            if (version > 0) {\n                offset += 4 + 16 * view.getUint32(offset); // Key ID count (4) and All key IDs (16*count)\n            }\n\n            offset += 4; // Data size\n            return pssh.slice(offset);\n        }\n\n        /**\n         * Returns the PSSH associated with the given key system from the concatenated\n         * list of PSSH boxes in the given initData\n         *\n         * @param {KeySystem} keySystem the desired\n         * key system\n         * @param {ArrayBuffer} initData 'cenc' initialization data.  Concatenated list of PSSH.\n         * @returns {ArrayBuffer|null} The PSSH box data corresponding to the given key system, null if not found\n         * or null if a valid association could not be found.\n         */\n\n    }, {\n        key: 'getPSSHForKeySystem',\n        value: function getPSSHForKeySystem(keySystem, initData) {\n            var psshList = CommonEncryption.parsePSSHList(initData);\n            if (psshList.hasOwnProperty(keySystem.uuid.toLowerCase())) {\n                return psshList[keySystem.uuid.toLowerCase()];\n            }\n            return null;\n        }\n\n        /**\n         * Parse a standard common encryption PSSH which contains a simple\n         * base64-encoding of the init data\n         *\n         * @param {Object} cpData the ContentProtection element\n         * @returns {ArrayBuffer|null} the init data or null if not found\n         */\n\n    }, {\n        key: 'parseInitDataFromContentProtection',\n        value: function parseInitDataFromContentProtection(cpData) {\n            if ('pssh' in cpData) {\n                return _base2.default.decodeArray(cpData.pssh.__text).buffer;\n            }\n            return null;\n        }\n\n        /**\n         * Parses list of PSSH boxes into keysystem-specific PSSH data\n         *\n         * @param {ArrayBuffer} data - the concatenated list of PSSH boxes as provided by\n         * CDM as initialization data when CommonEncryption content is detected\n         * @returns {Object|Array} an object that has a property named according to each of\n         * the detected key system UUIDs (e.g. 00000000-0000-0000-0000-0000000000)\n         * and a ArrayBuffer (the entire PSSH box) as the property value\n         */\n        // you can refer https://www.w3.org/TR/eme-initdata-cenc/ for more detail.\n\n    }, {\n        key: 'parsePSSHList',\n        value: function parsePSSHList(data) {\n\n            if (data === null) return [];\n\n            var dv = new DataView(data);\n            var done = false;\n            var pssh = {};\n\n            // TODO: Need to check every data read for end of buffer\n            var byteCursor = 0;\n            while (!done) {\n\n                var size, nextBox, version, systemID, psshDataSize;\n                var boxStart = byteCursor;\n\n                if (byteCursor >= dv.buffer.byteLength) break;\n\n                /* Box size */\n                size = dv.getUint32(byteCursor);\n                nextBox = byteCursor + size;\n                byteCursor += 4;\n\n                /* Verify PSSH */\n                if (dv.getUint32(byteCursor) !== 0x70737368) {\n                    byteCursor = nextBox;\n                    continue;\n                }\n                byteCursor += 4;\n\n                /* Version must be 0 or 1 */\n                version = dv.getUint8(byteCursor);\n                if (version !== 0 && version !== 1) {\n                    byteCursor = nextBox;\n                    continue;\n                }\n                byteCursor++;\n\n                byteCursor += 3; /* skip flags */\n\n                // 16-byte UUID/SystemID\n                systemID = '';\n                var i, val;\n                for (i = 0; i < 4; i++) {\n                    val = dv.getUint8(byteCursor + i).toString(16);\n                    systemID += val.length === 1 ? '0' + val : val;\n                }\n                byteCursor += 4;\n                systemID += '-';\n                for (i = 0; i < 2; i++) {\n                    val = dv.getUint8(byteCursor + i).toString(16);\n                    systemID += val.length === 1 ? '0' + val : val;\n                }\n                byteCursor += 2;\n                systemID += '-';\n                for (i = 0; i < 2; i++) {\n                    val = dv.getUint8(byteCursor + i).toString(16);\n                    systemID += val.length === 1 ? '0' + val : val;\n                }\n                byteCursor += 2;\n                systemID += '-';\n                for (i = 0; i < 2; i++) {\n                    val = dv.getUint8(byteCursor + i).toString(16);\n                    systemID += val.length === 1 ? '0' + val : val;\n                }\n                byteCursor += 2;\n                systemID += '-';\n                for (i = 0; i < 6; i++) {\n                    val = dv.getUint8(byteCursor + i).toString(16);\n                    systemID += val.length === 1 ? '0' + val : val;\n                }\n                byteCursor += 6;\n\n                systemID = systemID.toLowerCase();\n\n                /* PSSH Data Size */\n                psshDataSize = dv.getUint32(byteCursor);\n                byteCursor += 4;\n\n                /* PSSH Data */\n                pssh[systemID] = dv.buffer.slice(boxStart, nextBox);\n                byteCursor = nextBox;\n            }\n\n            return pssh;\n        }\n    }]);\n\n    return CommonEncryption;\n}();\n\nexports.default = CommonEncryption;\n\n},{\"19\":19}],31:[function(_dereq_,module,exports){\n'use strict';\n\nvar KSUtils = {\n    GetKSString: function GetKSString(drmType) {\n        if (drmType === 'widevine') {\n            return 'com.widevine.alpha';\n        } else if (drmType === 'playready') {\n            return 'com.microsoft.playready';\n        } else if (drmType === 'chromecast.playready') {\n            return 'com.chromecast.playready';\n        }\n    },\n\n    GetKSUUID: function GetKSUUID(drmType) {\n        if (drmType === 'widevine') {\n            return 'edef8ba9-79d6-4ace-a3c8-27dcd51d21ed';\n        } else if (drmType === 'playready') {\n            return '9a04f079-9840-4286-ab92-e65be0885f95';\n        } else if (drmType === 'chromecast.playready') {\n            return '9a04f079-9840-4286-ab92-e65be0885f95';\n        }\n    }\n};\n\nmodule.exports = KSUtils;\n\n},{}],32:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n\n/**\n * The copyright in this software is being made available under the BSD License,\n * included below. This software may be subject to other third party and contributor\n * rights, including patent rights, and no such rights are granted under this license.\n *\n * Copyright (c) 2013, Dash Industry Forum.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *  * Redistributions of source code must retain the above copyright notice, this\n *  list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright notice,\n *  this list of conditions and the following disclaimer in the documentation and/or\n *  other materials provided with the distribution.\n *  * Neither the name of Dash Industry Forum nor the names of its\n *  contributors may be used to endorse or promote products derived from this software\n *  without specific prior written permission.\n *\n *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY\n *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n *  POSSIBILITY OF SUCH DAMAGE.\n */\n\n/**\n * @classdesc Represents a set of configurations that describe the capabilities desired for\n *  support by a given CDM\n * @ignore\n */\nvar KeySystemConfiguration =\n/**\n * @param {Array.<MediaCapability>} audioCapabilities array of\n * desired audio capabilities.  Higher preference capabilities should be placed earlier\n * in the array.\n * @param {Array.<MediaCapability>} videoCapabilities array of\n * desired video capabilities.  Higher preference capabilities should be placed earlier\n * in the array.\n * @param {string} distinctiveIdentifier desired use of distinctive identifiers.\n * One of \"required\", \"optional\", or \"not-allowed\"\n * @param {string} persistentState desired support for persistent storage of\n * key systems.  One of \"required\", \"optional\", or \"not-allowed\"\n * @param {Array.<string>} sessionTypes List of session types that must\n * be supported by the key system\n * @class\n */\nfunction KeySystemConfiguration(audioCapabilities, videoCapabilities, distinctiveIdentifier, persistentState, sessionTypes) {\n    _classCallCheck(this, KeySystemConfiguration);\n\n    // new\n    //this.initDataTypes = [ 'keyids' ];\n    this.initDataTypes = ['cenc'];\n\n    if (audioCapabilities && audioCapabilities.length) {\n        this.audioCapabilities = audioCapabilities;\n    }\n    if (videoCapabilities && videoCapabilities.length) {\n        this.videoCapabilities = videoCapabilities;\n    }\n    this.distinctiveIdentifier = distinctiveIdentifier;\n    this.persistentState = persistentState;\n    this.sessionTypes = sessionTypes;\n};\n\nexports.default = KeySystemConfiguration;\n\n},{}],33:[function(_dereq_,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n/**\n * The copyright in this software is being made available under the BSD License,\n * included below. This software may be subject to other third party and contributor\n * rights, including patent rights, and no such rights are granted under this license.\n *\n * Copyright (c) 2013, Dash Industry Forum.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *  * Redistributions of source code must retain the above copyright notice, this\n *  list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright notice,\n *  this list of conditions and the following disclaimer in the documentation and/or\n *  other materials provided with the distribution.\n *  * Neither the name of Dash Industry Forum nor the names of its\n *  contributors may be used to endorse or promote products derived from this software\n *  without specific prior written permission.\n *\n *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY\n *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n *  POSSIBILITY OF SUCH DAMAGE.\n */\n/**\n * @classdesc A media capability\n * @ignore\n */\nvar MediaCapability =\n/**\n * @param {string} contentType MIME type and codecs (RFC6386)\n * @param {string} robustness\n * @class\n * @ignore\n */\nfunction MediaCapability(contentType, robustness) {\n  _classCallCheck(this, MediaCapability);\n\n  this.contentType = contentType;\n  this.robustness = robustness;\n};\n\nexports.default = MediaCapability;\n\n},{}],34:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _IsoFile = _dereq_(36);\n\nvar _IsoFile2 = _interopRequireDefault(_IsoFile);\n\nvar _FactoryMaker = _dereq_(13);\n\nvar _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);\n\nvar _codemIsoboxer = _dereq_(1);\n\nvar _codemIsoboxer2 = _interopRequireDefault(_codemIsoboxer);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction BoxParser() /*config*/{\n\n    var instance = void 0;\n    var context = this.context;\n\n    /**\n     * @param {ArrayBuffer} data\n     * @returns {IsoFile|null}\n     * @memberof BoxParser#\n     */\n    function parse(data) {\n        if (!data) return null;\n\n        if (data.fileStart === undefined) {\n            data.fileStart = 0;\n        }\n\n        var parsedFile = _codemIsoboxer2.default.parseBuffer(data);\n        var dashIsoFile = (0, _IsoFile2.default)(context).create();\n\n        dashIsoFile.setData(parsedFile);\n\n        return dashIsoFile;\n    }\n\n    instance = {\n        parse: parse\n    };\n\n    return instance;\n} /**\n   * The copyright in this software is being made available under the BSD License,\n   * included below. This software may be subject to other third party and contributor\n   * rights, including patent rights, and no such rights are granted under this license.\n   *\n   * Copyright (c) 2013, Dash Industry Forum.\n   * All rights reserved.\n   *\n   * Redistribution and use in source and binary forms, with or without modification,\n   * are permitted provided that the following conditions are met:\n   *  * Redistributions of source code must retain the above copyright notice, this\n   *  list of conditions and the following disclaimer.\n   *  * Redistributions in binary form must reproduce the above copyright notice,\n   *  this list of conditions and the following disclaimer in the documentation and/or\n   *  other materials provided with the distribution.\n   *  * Neither the name of Dash Industry Forum nor the names of its\n   *  contributors may be used to endorse or promote products derived from this software\n   *  without specific prior written permission.\n   *\n   *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY\n   *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n   *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n   *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n   *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n   *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n   *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n   *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n   *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n   *  POSSIBILITY OF SUCH DAMAGE.\n   */\n\nBoxParser.__h5player_factory_name = 'BoxParser';\nexports.default = _FactoryMaker2.default.getSingletonFactory(BoxParser);\n\n},{\"1\":1,\"13\":13,\"36\":36}],35:[function(_dereq_,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n/**\n * The copyright in this software is being made available under the BSD License,\n * included below. This software may be subject to other third party and contributor\n * rights, including patent rights, and no such rights are granted under this license.\n *\n * Copyright (c) 2013, Dash Industry Forum.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *  * Redistributions of source code must retain the above copyright notice, this\n *  list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright notice,\n *  this list of conditions and the following disclaimer in the documentation and/or\n *  other materials provided with the distribution.\n *  * Neither the name of Dash Industry Forum nor the names of its\n *  contributors may be used to endorse or promote products derived from this software\n *  without specific prior written permission.\n *\n *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY\n *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n *  POSSIBILITY OF SUCH DAMAGE.\n */\n/**\n * @class\n * @ignore\n */\nvar IsoBox = function IsoBox() {\n  _classCallCheck(this, IsoBox);\n\n  this.offset = NaN;\n  this.type = null;\n  this.size = NaN;\n  this.isComplete = true;\n};\n\nexports.default = IsoBox;\n\n},{}],36:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _IsoBox = _dereq_(35);\n\nvar _IsoBox2 = _interopRequireDefault(_IsoBox);\n\nvar _FactoryMaker = _dereq_(13);\n\nvar _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\n/**\n * The copyright in this software is being made available under the BSD License,\n * included below. This software may be subject to other third party and contributor\n * rights, including patent rights, and no such rights are granted under this license.\n *\n * Copyright (c) 2013, Dash Industry Forum.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *  * Redistributions of source code must retain the above copyright notice, this\n *  list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright notice,\n *  this list of conditions and the following disclaimer in the documentation and/or\n *  other materials provided with the distribution.\n *  * Neither the name of Dash Industry Forum nor the names of its\n *  contributors may be used to endorse or promote products derived from this software\n *  without specific prior written permission.\n *\n *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY\n *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n *  POSSIBILITY OF SUCH DAMAGE.\n */\n\nfunction IsoFile() {\n\n    var instance = void 0,\n        parsedIsoFile = void 0,\n        commonProps = void 0,\n        sidxProps = void 0,\n        sidxRefProps = void 0,\n        emsgProps = void 0,\n        mdhdProps = void 0,\n        mfhdProps = void 0,\n        tfhdProps = void 0,\n        tfdtProps = void 0,\n        trunProps = void 0,\n        trunSampleProps = void 0;\n\n    /**\n    * @param {string} type\n    * @returns {IsoBox|null}\n    * @memberof IsoFile#\n    */\n    function getBox(type) {\n        if (!type || !parsedIsoFile || !parsedIsoFile.boxes || parsedIsoFile.boxes.length === 0) return null;\n\n        return convertToDashIsoBox(parsedIsoFile.fetch(type));\n    }\n\n    /**\n    * @param {string} type\n    * @returns {Array} array of {@link IsoBox}\n    * @memberof IsoFile#\n    */\n    function getBoxes(type) {\n        var boxData = parsedIsoFile.fetchAll(type);\n        var boxes = [];\n        var box;\n\n        for (var i = 0, ln = boxData.length; i < ln; i++) {\n            box = convertToDashIsoBox(boxData[i]);\n\n            if (box) {\n                boxes.push(box);\n            }\n        }\n\n        return boxes;\n    }\n\n    /**\n    * @param {string} value\n    * @memberof IsoFile#\n    */\n    function setData(value) {\n        parsedIsoFile = value;\n    }\n\n    /**\n    * @returns {IsoBox|null}\n    * @memberof IsoFile#\n    */\n    function getLastBox() {\n        if (!parsedIsoFile || !parsedIsoFile.boxes || !parsedIsoFile.boxes.length) return null;\n\n        var type = parsedIsoFile.boxes[parsedIsoFile.boxes.length - 1].type;\n        var boxes = getBoxes(type);\n\n        return boxes[boxes.length - 1];\n    }\n\n    /**\n    * @returns {number}\n    * @memberof IsoFile#\n    */\n    function getOffset() {\n        return parsedIsoFile._cursor.offset;\n    }\n\n    function setup() {\n        commonProps = {\n            offset: '_offset',\n            size: 'size',\n            type: 'type'\n        };\n\n        sidxProps = {\n            references: 'references',\n            timescale: 'timescale',\n            earliest_presentation_time: 'earliest_presentation_time',\n            first_offset: 'first_offset'\n        };\n\n        sidxRefProps = {\n            reference_type: 'reference_type',\n            referenced_size: 'referenced_size',\n            subsegment_duration: 'subsegment_duration'\n        };\n\n        emsgProps = {\n            id: 'id',\n            value: 'value',\n            timescale: 'timescale',\n            scheme_id_uri: 'scheme_id_uri',\n            presentation_time_delta: 'presentation_time_delta',\n            event_duration: 'event_duration',\n            message_data: 'message_data'\n        };\n\n        mdhdProps = {\n            timescale: 'timescale'\n        };\n\n        mfhdProps = {\n            sequence_number: 'sequence_number'\n        };\n\n        tfhdProps = {\n            base_data_offset: 'base_data_offset',\n            sample_description_index: 'sample_description_index',\n            default_sample_duration: 'default_sample_duration',\n            default_sample_size: 'default_sample_size',\n            default_sample_flags: 'default_sample_flags',\n            flags: 'flags'\n        };\n\n        tfdtProps = {\n            version: 'version',\n            baseMediaDecodeTime: 'baseMediaDecodeTime',\n            flags: 'flags'\n        };\n\n        trunProps = {\n            sample_count: 'sample_count',\n            first_sample_flags: 'first_sample_flags',\n            data_offset: 'data_offset',\n            flags: 'flags',\n            samples: 'samples'\n        };\n\n        trunSampleProps = {\n            sample_size: 'sample_size',\n            sample_duration: 'sample_duration',\n            sample_composition_time_offset: 'sample_composition_time_offset'\n        };\n    }\n\n    function copyProps(from, to, props) {\n        for (var prop in props) {\n            to[prop] = from[props[prop]];\n        }\n    }\n\n    function convertToDashIsoBox(boxData) {\n        if (!boxData) return null;\n\n        var box = new _IsoBox2.default();\n        var i, ln;\n\n        copyProps(boxData, box, commonProps);\n\n        if (boxData.hasOwnProperty('_incomplete')) {\n            box.isComplete = !boxData._incomplete;\n        }\n\n        switch (box.type) {\n            case 'sidx':\n                copyProps(boxData, box, sidxProps);\n                if (box.references) {\n                    for (i = 0, ln = box.references.length; i < ln; i++) {\n                        copyProps(boxData.references[i], box.references[i], sidxRefProps);\n                    }\n                }\n                break;\n            case 'emsg':\n                copyProps(boxData, box, emsgProps);\n                break;\n            case 'mdhd':\n                copyProps(boxData, box, mdhdProps);\n                break;\n            case 'mfhd':\n                copyProps(boxData, box, mfhdProps);\n                break;\n            case 'tfhd':\n                copyProps(boxData, box, tfhdProps);\n                break;\n            case 'tfdt':\n                copyProps(boxData, box, tfdtProps);\n                break;\n            case 'trun':\n                copyProps(boxData, box, trunProps);\n                if (box.samples) {\n                    for (i = 0, ln = box.samples.length; i < ln; i++) {\n                        copyProps(boxData.samples[i], box.samples[i], trunSampleProps);\n                    }\n                }\n                break;\n        }\n\n        return box;\n    }\n\n    instance = {\n        getBox: getBox,\n        getBoxes: getBoxes,\n        setData: setData,\n        getLastBox: getLastBox,\n        getOffset: getOffset\n    };\n\n    setup();\n\n    return instance;\n}\nIsoFile.__h5player_factory_name = 'IsoFile';\nexports.default = _FactoryMaker2.default.getClassFactory(IsoFile);\n\n},{\"13\":13,\"35\":35}],37:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n    return typeof obj === \"undefined\" ? \"undefined\" : _typeof2(obj);\n} : function (obj) {\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof2(obj);\n}; /**\n    * The copyright in this software is being made available under the BSD License,\n    * included below. This software may be subject to other third party and contributor\n    * rights, including patent rights, and no such rights are granted under this license.\n    *\n    * Copyright (c) 2013, Dash Industry Forum.\n    * All rights reserved.\n    *\n    * Redistribution and use in source and binary forms, with or without modification,\n    * are permitted provided that the following conditions are met:\n    *  * Redistributions of source code must retain the above copyright notice, this\n    *  list of conditions and the following disclaimer.\n    *  * Redistributions in binary form must reproduce the above copyright notice,\n    *  this list of conditions and the following disclaimer in the documentation and/or\n    *  other materials provided with the distribution.\n    *  * Neither the name of Dash Industry Forum nor the names of its\n    *  contributors may be used to endorse or promote products derived from this software\n    *  without specific prior written permission.\n    *\n    *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY\n    *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n    *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n    *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n    *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n    *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n    *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n    *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n    *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n    *  POSSIBILITY OF SUCH DAMAGE.\n    */\n\nvar _FactoryMaker = _dereq_(13);\n\nvar _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);\n\nvar _xml2json = _dereq_(43);\n\nvar _xml2json2 = _interopRequireDefault(_xml2json);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar SECONDS_IN_HOUR = 60 * 60; // Expression of an hour in seconds\nvar SECONDS_IN_MIN = 60; // Expression of a minute in seconds\n\nfunction TTMLParser() {\n\n    var context = this.context;\n    //let console.log = Debug(context).getInstance().console.log;\n\n    /*\n     * This TTML parser follows \"EBU-TT-D SUBTITLING DISTRIBUTION FORMAT - tech3380\" spec - https://tech.ebu.ch/docs/tech/tech3380.pdf.\n     * */\n    var instance = void 0,\n        timingRegex = void 0,\n        ttml = void 0,\n\n    // contains the whole ttml document received\n    ttmlStyling = void 0,\n\n    // contains the styling information from the document (from head following EBU-TT-D)\n    ttmlLayout = void 0,\n\n    // contains the positioning information from the document (from head following EBU-TT-D)\n    fontSize = void 0,\n        lineHeight = void 0,\n        linePadding = void 0,\n        defaultLayoutProperties = void 0,\n        defaultStyleProperties = void 0,\n        fontFamilies = void 0,\n        textAlign = void 0,\n        multiRowAlign = void 0,\n        wrapOption = void 0,\n        unicodeBidi = void 0,\n        displayAlign = void 0,\n        writingMode = void 0,\n        videoModel = void 0;\n\n    var cueCounter = 0; // Used to give every cue a unique ID.\n\n    function setConfig(config) {\n        if (!config) return;\n\n        if (config.videoModel) {\n            videoModel = config.videoModel;\n        }\n    }\n\n    /**\n     * Get the begin-end interval if present, or null otherwise.\n     *\n     * @param {Object} element - TTML element which may have begin and end attributes\n     */\n    function getInterval(element) {\n        if (element.hasOwnProperty('begin') && element.hasOwnProperty('end')) {\n            var beginTime = parseTimings(element.begin);\n            var endTime = parseTimings(element.end);\n            return [beginTime, endTime];\n        } else {\n            return null;\n        }\n    }\n\n    function getCueID() {\n        var id = 'cue_TTML_' + cueCounter;\n        cueCounter++;\n        return id;\n    }\n\n    /*\n    * Create list of intervals where spans start and end. Empty list if no times.\n    * Clip to interval using startInterval and endInterval and add these two times.\n    * Also support case when startInterval/endInteval not given (sideloaded file)\n    *\n    * @param {Array} spans - array of span elements\n    */\n    function createSpanIntervalList(spans, startInterval, endInterval) {\n\n        var spanChangeTimes = [];\n        var spanChangeTimeStrings = [];\n        var cue_intervals = [];\n\n        function addSpanTime(span, name) {\n            if (span.hasOwnProperty(name)) {\n                var timeString = span[name];\n                if (spanChangeTimeStrings.indexOf(timeString) < 0) {\n                    spanChangeTimeStrings.push(timeString);\n                }\n            }\n        }\n\n        for (var i = 0; i < spans.length; i++) {\n            var span = spans[i];\n            addSpanTime(span, 'begin');\n            addSpanTime(span, 'end');\n        }\n        if (spanChangeTimeStrings.length === 0) {\n            return cue_intervals; // No span timing so no intervals.\n        }\n\n        if (typeof startInterval !== 'undefined' && typeof endInterval !== 'undefined') {\n            for (var _i = 0; _i < spanChangeTimeStrings.length; _i++) {\n                var changeTime = parseTimings(spanChangeTimeStrings[_i]);\n                if (startInterval < changeTime && changeTime < endInterval) {\n                    spanChangeTimes.push(changeTime);\n                }\n            }\n            spanChangeTimes.push(startInterval);\n            spanChangeTimes.push(endInterval);\n        } else {\n            for (var _i2 = 0; _i2 < spanChangeTimeStrings.length; _i2++) {\n                spanChangeTimes.push(parseTimings(spanChangeTimeStrings[_i2]));\n            }\n        }\n        spanChangeTimes.sort(function (a, b) {\n            return a - b;\n        });\n        for (var _i3 = 0; _i3 < spanChangeTimes.length - 1; _i3++) {\n            cue_intervals.push([spanChangeTimes[_i3], spanChangeTimes[_i3 + 1]]);\n        }\n        return cue_intervals;\n    }\n\n    function clipStartTime(startTime, intervalStart) {\n        if (typeof startInterval !== 'undefined') {\n            if (startTime < intervalStart) {\n                startTime = intervalStart;\n            }\n        }\n        return startTime;\n    }\n\n    function clipEndTime(endTime, intervalEnd) {\n        if (typeof intervalEnd !== 'undefined') {\n            if (endTime > intervalEnd) {\n                endTime = intervalEnd;\n            }\n        }\n        return endTime;\n    }\n\n    /*\n     * Get interval from entity that has begin and end properties.\n     * If intervalStart and intervalEnd defined, use them to clip the interval.\n     * Return null if no overlap with interval\n     */\n    function getClippedInterval(entity, intervalStart, intervalEnd) {\n        var startTime = parseTimings(entity.begin);\n        var endTime = parseTimings(entity.end);\n        startTime = clipStartTime(startTime, intervalStart);\n        endTime = clipEndTime(endTime, intervalEnd);\n        if (typeof intervalStart !== 'undefined' && typeof intervalEnd !== 'undefined') {\n            if (endTime < intervalStart || startTime > intervalEnd) {\n                console.log('TTML: Cue ' + startTime + '-' + endTime + ' outside interval ' + intervalStart + '-' + intervalEnd);\n                return null;\n            }\n        }\n        return [startTime, endTime];\n    }\n\n    /*\n     * Check if entity timing has some overlap with interval\n     */\n    function inIntervalOrNoTiming(entity, interval) {\n        var inInterval = true;\n        if (entity.hasOwnProperty('span')) {\n            var entityInterval = getInterval(entity.span);\n            if (entityInterval !== null) {\n                //Timing\n                inInterval = entityInterval[0] < interval[1] && entityInterval[1] > interval[0];\n            }\n        }\n        return inInterval;\n    }\n\n    /**\n     * Parse the raw data and process it to return the HTML element representing the cue.\n     * Return the region to be processed and controlled (hide/show) by the caption controller.\n     * @param {string} data - raw data received from the TextSourceBuffer\n     * @param {number} intervalStart\n     * @param {number} intervalEnd\n     *\n     */\n\n    function parse(data, intervalStart, intervalEnd) {\n        var tt = void 0,\n\n        // Top element\n        head = void 0,\n\n        // head in tt\n        body = void 0,\n\n        // body in tt\n        ttExtent = void 0,\n\n        // extent attribute of tt element\n        type = void 0;\n\n        var errorMsg = '';\n\n        var converter = new _xml2json2.default([], '', false);\n\n        // Parse the TTML in a JSON object.\n        ttml = converter.xml_str2json(data);\n\n        if (!ttml) {\n            throw new Error('TTML document could not be parsed');\n        }\n\n        if (videoModel && videoModel.getTTMLRenderingDiv()) {\n            type = 'html';\n        }\n\n        // Check the document and compare to the specification (TTML and EBU-TT-D).\n        tt = ttml.tt;\n        if (!tt) {\n            throw new Error('TTML document lacks tt element');\n        }\n\n        // Get the namespace if there is one defined in the JSON object.\n        var ttNS = getNamespacePrefix(tt, 'http://www.w3.org/ns/ttml');\n\n        // Remove the namespace before each node if it exists:\n        if (ttNS) {\n            removeNamespacePrefix(tt, ttNS);\n        }\n\n        ttExtent = tt['tts:extent']; // Should check that tts is right namespace.\n\n        head = tt.head;\n        if (!head) {\n            throw new Error('TTML document lacks head element');\n        }\n        if (head.layout) {\n            ttmlLayout = head.layout.region_asArray; //Mandatory in EBU-TT-D\n        }\n        if (head.styling) {\n            ttmlStyling = head.styling.style_asArray; // Mandatory in EBU-TT-D\n        }\n        body = tt.body;\n        if (!body) {\n            throw new Error('TTML document lacks body element');\n        }\n\n        // Extract the cellResolution information\n        var cellResolution = getCellResolution();\n\n        // Recover the video width and height displayed by the player.\n        //var videoWidth = videoModel.getElement().clientWidth;\n        //var videoHeight = videoModel.getElement().clientHeight;\n        var videoWidth = 640;\n        var videoHeight = 480;\n        if (videoModel) {\n            videoWidth = videoModel.getElement().clientWidth;\n            videoHeight = videoModel.getElement().clientHeight;\n        }\n\n        // Compute the CellResolution unit in order to process properties using sizing (fontSize, linePadding, etc).\n        var cellUnit = [videoWidth / cellResolution[0], videoHeight / cellResolution[1]];\n        defaultStyleProperties['font-size'] = cellUnit[1] + 'px;';\n\n        var regions = [];\n        if (ttmlLayout) {\n            for (var i = 0; i < ttmlLayout.length; i++) {\n                regions.push(processRegion(JSON.parse(JSON.stringify(ttmlLayout[i])), cellUnit));\n            }\n        }\n\n        // Get the namespace prefix.\n        var nsttp = getNamespacePrefix(ttml.tt, 'http://www.w3.org/ns/ttml#parameter');\n\n        // Set the framerate.\n        if (tt.hasOwnProperty(nsttp + ':frameRate')) {\n            tt.frameRate = parseInt(tt[nsttp + ':frameRate'], 10);\n        }\n        var captionArray = [];\n        // Extract the div\n        var divs = tt.body_asArray[0].__children;\n\n        // Timing is either on div, paragraph or span level.\n\n        for (var k = 0; k < divs.length; k++) {\n            var div = divs[k].div;\n            var divInterval = null; // This is mainly for image subtitles.\n\n            if (null !== (divInterval = getInterval(div))) {\n                // Timing on div level is not allowed by EBU-TT-D.\n                // We only use it for SMPTE-TT image subtitle profile.\n\n                // Layout should be defined by a region. Given early test material, we also support that it is on\n                // div level\n                var layout = void 0;\n                if (div.region) {\n                    var region = findRegionFromID(ttmlLayout, div.region);\n                    layout = getRelativePositioning(region, ttExtent);\n                }\n                if (!layout) {\n                    layout = getRelativePositioning(div, ttExtent);\n                }\n\n                var images = tt.head.metadata.image_asArray; // TODO. Add URL image sources\n\n                if (div['smpte:backgroundImage'] !== undefined) {\n                    for (var j = 0; j < images.length; j++) {\n                        if ('#' + images[j]['xml:id'] === div['smpte:backgroundImage']) {\n                            captionArray.push({\n                                start: divInterval[0],\n                                end: divInterval[1],\n                                id: getCueID(),\n                                data: 'data:image/' + images[j].imagetype.toLowerCase() + ';base64, ' + images[j].__text,\n                                type: 'image',\n                                layout: layout\n                            });\n                        }\n                    }\n                }\n                continue; // Next div\n            }\n\n            var paragraphs = div.p_asArray;\n            // Check if cues is not empty or undefined.\n            if (divInterval === null && (!paragraphs || paragraphs.length === 0)) {\n                errorMsg = 'TTML has div that contains no timing and no paragraphs.';\n                console.log(errorMsg);\n                return captionArray;\n            }\n\n            for (var j2 = 0; j2 < paragraphs.length; j2++) {\n                var paragraph = paragraphs[j2];\n                var spans = paragraph.span_asArray;\n                var cueIntervals = [];\n                // For timing, the overall goal is to find the intervals where there should be cues\n                // The timing may either be on paragraph or span level.\n                if (paragraph.hasOwnProperty('begin') && paragraph.hasOwnProperty('end')) {\n                    // Timing on paragraph level\n                    var clippedInterval = getClippedInterval(paragraph, intervalStart, intervalEnd);\n                    if (clippedInterval !== null) {\n                        cueIntervals.push(clippedInterval);\n                    }\n                } else {\n                    // Timing must be on span level\n                    cueIntervals = createSpanIntervalList(spans, intervalStart, intervalEnd);\n                }\n                if (cueIntervals.length === 0) {\n                    errorMsg = 'TTML: Empty paragraph';\n                    continue; // Nothing in this paragraph\n                }\n\n                var paragraphChildren = paragraph.__children;\n\n                for (var i2 = 0; i2 < cueIntervals.length; i2++) {\n                    var interval = cueIntervals[i2];\n                    var childrenInInterval = [];\n                    for (var k2 = 0; k2 < paragraphChildren.length; k2++) {\n                        var child = paragraphChildren[k2];\n                        if (inIntervalOrNoTiming(child, interval)) {\n                            childrenInInterval.push(child);\n                        }\n                    }\n                    if (childrenInInterval.length === 0) {\n                        continue; // No children to render\n                    }\n\n                    if (type === 'html') {\n                        lineHeight = {};\n                        linePadding = {};\n                        fontSize = {};\n\n                        /**\n                         * Find the region defined for the cue.\n                         */\n                        // properties to be put in the \"captionRegion\" HTML element.\n                        var cueRegionProperties = constructCueRegion(paragraph, div, cellUnit);\n\n                        /**\n                         * Find the style defined for the cue.\n                         */\n                        // properties to be put in the \"paragraph\" HTML element.\n                        var cueStyleProperties = constructCueStyle(paragraph, cellUnit);\n\n                        /**\n                         * /!\\ Create the cue HTML Element containing the whole cue.\n                         */\n                        var styleIDs = cueStyleProperties[1];\n                        cueStyleProperties = cueStyleProperties[0];\n\n                        // Final cue HTML element.\n                        var cueParagraph = document.createElement('div');\n                        cueParagraph.className = styleIDs;\n\n                        // Create a wrapper containing the cue information about unicodeBidi and direction\n                        // as they need to be defined on at this level.\n                        // We append to the wrapper the cue itself.\n                        var cueDirUniWrapper = constructCue(childrenInInterval, cellUnit);\n                        cueDirUniWrapper.className = 'cueDirUniWrapper';\n\n                        // If the style defines these two properties, we place them in cueContainer\n                        // and delete them from the cue style so it is not added afterwards to the final cue.\n                        if (arrayContains('unicode-bidi', cueStyleProperties)) {\n                            cueDirUniWrapper.style.cssText += getPropertyFromArray('unicode-bidi', cueStyleProperties);\n                            deletePropertyFromArray('unicode-bidi', cueStyleProperties);\n                        }\n                        if (arrayContains('direction', cueStyleProperties)) {\n                            cueDirUniWrapper.style.cssText += getPropertyFromArray('direction', cueStyleProperties);\n                            deletePropertyFromArray('direction', cueStyleProperties);\n                        }\n\n                        // Apply the linePadding property if it is specified in the cue style.\n                        if (arrayContains('padding-left', cueStyleProperties) && arrayContains('padding-right', cueStyleProperties)) {\n                            cueDirUniWrapper.innerHTML = applyLinePadding(cueDirUniWrapper, cueStyleProperties);\n                        }\n\n                        /**\n                         * Clean and set the style and region for the cue to be returned.\n                         */\n\n                        // Remove the line padding property from being added at the \"paragraph\" element level.\n                        if (arrayContains('padding-left', cueStyleProperties) && arrayContains('padding-right', cueStyleProperties)) {\n                            deletePropertyFromArray('padding-left', cueStyleProperties);\n                            deletePropertyFromArray('padding-right', cueStyleProperties);\n                        }\n\n                        // Remove the ID of the region from being added at the \"paragraph\" element level.\n                        var regionID = '';\n                        if (arrayContains('regionID', cueRegionProperties)) {\n                            var wholeRegionID = getPropertyFromArray('regionID', cueRegionProperties);\n                            regionID = wholeRegionID.slice(wholeRegionID.indexOf(':') + 1, wholeRegionID.length - 1);\n                        }\n\n                        // We link the p style to the finale cueParagraph element.\n                        if (cueStyleProperties) {\n                            cueParagraph.style.cssText = cueStyleProperties.join(' ') + 'display:flex;';\n                        }\n                        // We define the CSS style for the cue region.\n                        if (cueRegionProperties) {\n                            cueRegionProperties = cueRegionProperties.join(' ');\n                        }\n\n                        // We then place the cue wrapper inside the paragraph element.\n                        cueParagraph.appendChild(cueDirUniWrapper);\n\n                        // Final cue.\n                        var finalCue = document.createElement('div');\n                        finalCue.appendChild(cueParagraph);\n                        finalCue.id = getCueID();\n                        finalCue.style.cssText = 'position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;' + cueRegionProperties;\n\n                        if (Object.keys(fontSize).length === 0) {\n                            fontSize.defaultFontSize = '100';\n                        }\n\n                        // We add all the cue information in captionArray.\n                        captionArray.push({\n                            start: interval[0],\n                            end: interval[1],\n                            type: 'html',\n                            cueHTMLElement: finalCue,\n                            regions: regions,\n                            regionID: regionID,\n                            cueID: finalCue.id,\n                            videoHeight: videoHeight,\n                            videoWidth: videoWidth,\n                            cellResolution: cellResolution,\n                            fontSize: fontSize || {\n                                defaultFontSize: '100'\n                            },\n                            lineHeight: lineHeight,\n                            linePadding: linePadding\n                        });\n                    } else {\n                        var text = '';\n                        var textElements = childrenInInterval;\n                        if (textElements.length) {\n                            textElements.forEach(function (el) {\n                                if (el.hasOwnProperty('span')) {\n                                    var spanElements = el.span.__children;\n                                    spanElements.forEach(function (spanEl) {\n                                        // If metadata is present, do not process.\n                                        if (spanElements.hasOwnProperty('metadata')) {\n                                            return;\n                                        }\n                                        // If the element is a string\n                                        if (spanEl.hasOwnProperty('#text')) {\n                                            text += spanEl['#text'].replace(/[\\r\\n]+/gm, ' ').trim();\n                                            // If the element is a 'br' tag\n                                        } else if ('br' in spanEl) {\n                                            // Create a br element.\n                                            text += '\\n';\n                                        }\n                                    });\n                                } else if (el.hasOwnProperty('br')) {\n                                    text += '\\n';\n                                } else {\n                                    text += el['#text'].replace(/[\\r\\n]+/gm, ' ').trim();\n                                }\n                            });\n                        }\n\n                        captionArray.push({\n                            start: interval[0],\n                            end: interval[1],\n                            data: text,\n                            type: 'text'\n                        });\n                    }\n                }\n            }\n        }\n\n        if (errorMsg !== '') {\n            console.log(errorMsg);\n        }\n\n        if (captionArray.length > 0) {\n            return captionArray;\n        } else {\n            // This seems too strong given that there are segments with no TTML subtitles\n            throw new Error(errorMsg);\n        }\n    }\n\n    function setup() {\n        /*\n         * This TTML parser follows \"EBU-TT-D SUBTITLING DISTRIBUTION FORMAT - tech3380\" spec - https://tech.ebu.ch/docs/tech/tech3380.pdf.\n         * */\n        timingRegex = /^([0-9][0-9]+):([0-5][0-9]):([0-5][0-9])|(60)(\\.([0-9])+)?$/; // Regex defining the time\n        fontSize = {};\n        lineHeight = {};\n        linePadding = {};\n        defaultLayoutProperties = {\n            'top': 'auto;',\n            'left': 'auto;',\n            'width': '90%;',\n            'height': '10%;',\n            'align-items': 'flex-start;',\n            'overflow': 'visible;',\n            '-ms-writing-mode': 'lr-tb, horizontal-tb;',\n            '-webkit-writing-mode': 'horizontal-tb;',\n            '-moz-writing-mode': 'horizontal-tb;',\n            'writing-mode': 'horizontal-tb;'\n        };\n        defaultStyleProperties = {\n            'color': 'rgb(255,255,255);',\n            'direction': 'ltr;',\n            'font-family': 'monospace, sans-serif;',\n            'font-style': 'normal;',\n            'line-height': 'normal;',\n            'font-weight': 'normal;',\n            'text-align': 'start;',\n            'justify-content': 'flex-start;',\n            'text-decoration': 'none;',\n            'unicode-bidi': 'normal;',\n            'white-space': 'normal;',\n            'width': '100%;'\n        };\n        fontFamilies = {\n            monospace: 'font-family: monospace;',\n            sansSerif: 'font-family: sans-serif;',\n            serif: 'font-family: serif;',\n            monospaceSansSerif: 'font-family: monospace, sans-serif;',\n            monospaceSerif: 'font-family: monospace, serif;',\n            proportionalSansSerif: 'font-family: Arial;',\n            proportionalSerif: 'font-family: Times New Roman;',\n            'default': 'font-family: monospace, sans-serif;'\n        };\n        textAlign = {\n            right: ['justify-content: flex-end;', 'text-align: right;'],\n            start: ['justify-content: flex-start;', 'text-align: start;'],\n            center: ['justify-content: center;', 'text-align: center;'],\n            end: ['justify-content: flex-end;', 'text-align: end;'],\n            left: ['justify-content: flex-start;', 'text-align: left;']\n        };\n        multiRowAlign = {\n            start: 'text-align: start;',\n            center: 'text-align: center;',\n            end: 'text-align: end;',\n            auto: ''\n        };\n        wrapOption = {\n            wrap: 'white-space: normal;',\n            noWrap: 'white-space: nowrap;'\n        };\n        unicodeBidi = {\n            normal: 'unicode-bidi: normal;',\n            embed: 'unicode-bidi: embed;',\n            bidiOverride: 'unicode-bidi: bidi-override;'\n        };\n        displayAlign = {\n            before: 'align-items: flex-start;',\n            center: 'align-items: center;',\n            after: 'align-items: flex-end;'\n        };\n        writingMode = {\n            lrtb: '-webkit-writing-mode: horizontal-tb;' + 'writing-mode: horizontal-tb;',\n            rltb: '-webkit-writing-mode: horizontal-tb;' + 'writing-mode: horizontal-tb;' + 'direction: rtl;' + 'unicode-bidi: bidi-override;',\n            tbrl: '-webkit-writing-mode: vertical-rl;' + 'writing-mode: vertical-rl;' + '-webkit-text-orientation: upright;' + 'text-orientation: upright;',\n            tblr: '-webkit-writing-mode: vertical-lr;' + 'writing-mode: vertical-lr;' + '-webkit-text-orientation: upright;' + 'text-orientation: upright;',\n            lr: '-webkit-writing-mode: horizontal-tb;' + 'writing-mode: horizontal-tb;',\n            rl: '-webkit-writing-mode: horizontal-tb;' + 'writing-mode: horizontal-tb;' + 'direction: rtl;',\n            tb: '-webkit-writing-mode: vertical-rl;' + 'writing-mode: vertical-rl;' + '-webkit-text-orientation: upright;' + 'text-orientation: upright;'\n        };\n    }\n\n    function parseTimings(timingStr) {\n        // Test if the time provided by the caption is valid.\n        var test = timingRegex.test(timingStr);\n        var timeParts, parsedTime, frameRate;\n\n        if (!test) {\n            // Return NaN so it will throw an exception at internalParse if the time is incorrect.\n            return NaN;\n        }\n\n        timeParts = timingStr.split(':');\n\n        // Process the timings by decomposing it and converting it in numbers.\n        parsedTime = parseFloat(timeParts[0]) * SECONDS_IN_HOUR + parseFloat(timeParts[1]) * SECONDS_IN_MIN + parseFloat(timeParts[2]);\n\n        // In case a frameRate is provided, we adjust the parsed time.\n        if (timeParts[3]) {\n            frameRate = ttml.tt.frameRate;\n            if (frameRate && !isNaN(frameRate)) {\n                parsedTime += parseFloat(timeParts[3]) / frameRate;\n            } else {\n                return NaN;\n            }\n        }\n        return parsedTime;\n    }\n\n    function getNamespacePrefix(json, ns) {\n        // Obtain the namespace prefix.\n        var r = Object.keys(json).filter(function (k) {\n            return (k.split(':')[0] === 'xmlns' || k.split(':')[1] === 'xmlns') && json[k] === ns;\n        }).map(function (k) {\n            return k.split(':')[2] || k.split(':')[1];\n        });\n        if (r.length != 1) {\n            return null;\n        }\n        return r[0];\n    }\n\n    function removeNamespacePrefix(json, nsPrefix) {\n        for (var key in json) {\n            if (json.hasOwnProperty(key)) {\n                if ((_typeof(json[key]) === 'object' || json[key] instanceof Object) && !Array.isArray(json[key])) {\n                    removeNamespacePrefix(json[key], nsPrefix);\n                } else if (Array.isArray(json[key])) {\n                    for (var i = 0; i < json[key].length; i++) {\n                        removeNamespacePrefix(json[key][i], nsPrefix);\n                    }\n                }\n                var newKey = key.slice(key.indexOf(nsPrefix) + nsPrefix.length + 1);\n                json[newKey] = json[key];\n                delete json[key];\n            }\n        }\n    }\n\n    // backgroundColor = background-color, convert from camelCase to dash.\n    function camelCaseToDash(key) {\n        return key.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n    }\n\n    // Convert an RGBA value written in Hex to rgba(v,v,v,a).\n    function convertHexToRGBA(rgba) {\n        // Get the hexadecimal value without the #.\n        var hex = rgba.slice(1);\n        // Separate the values in pairs.\n        var hexMatrice = hex.match(/.{2}/g);\n        // Convert the alpha value in decimal between 0 and 1.\n        var alpha = parseFloat(parseInt(parseInt(hexMatrice[3], 16) / 255 * 1000, 10) / 1000);\n        // Get the standard RGB value.\n        var rgb = hexMatrice.slice(0, 3).map(function (i) {\n            return parseInt(i, 16);\n        });\n        // Return the RGBA value for CSS.\n        return 'rgba(' + rgb.join(',') + ',' + alpha + ');';\n    }\n\n    // Return whether or not an array contains a certain text\n    function arrayContains(text, array) {\n        for (var i = 0; i < array.length; i++) {\n            if (array[i].indexOf(text) > -1) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    // Return the whole value that contains \"text\"\n    function getPropertyFromArray(text, array) {\n        for (var i = 0; i < array.length; i++) {\n            if (array[i].indexOf(text) > -1) {\n                return array[i];\n            }\n        }\n        return null;\n    }\n\n    // Delete a a property from an array.\n    function deletePropertyFromArray(property, array) {\n        array.splice(array.indexOf(getPropertyFromArray(property, array)), 1);\n    }\n\n    function mergeArrays(primeArray, arrayToAdd) {\n        for (var i = 0; i < primeArray.length; i++) {\n            for (var j = 0; j < arrayToAdd.length; j++) {\n                // Take only the name of the property\n                if (primeArray[i]) {\n                    if (primeArray[i].split(':')[0].indexOf(arrayToAdd[j].split(':')[0]) > -1) {\n                        primeArray.splice(i, 1);\n                    }\n                }\n            }\n        }\n        return primeArray.concat(arrayToAdd);\n    }\n\n    /**\n     * Processing of styling information:\n     * - processStyle: return an array of strings with the cue style under a CSS style form.\n     * - findStyleFromID: Return the unprocessed style from TTMLStyling corresponding to the ID researched.\n     * - getProcessedStyle: Return the processed style(s) from the ID(s) received in entry.\n     * **/\n\n    // Compute the style properties to return an array with the cleaned properties.\n    function processStyle(cueStyle, cellUnit, includeRegionStyles) {\n        var properties = [];\n\n        // Clean up from the xml2json parsing:\n        for (var key in cueStyle) {\n            if (cueStyle.hasOwnProperty(key)) {\n                //Clean the properties from the parsing.\n                var newKey = key.replace('ebutts:', '');\n                newKey = newKey.replace('xml:', '');\n                newKey = newKey.replace('tts:', '');\n\n                // Clean the properties' names.\n                newKey = camelCaseToDash(newKey);\n                cueStyle[newKey] = cueStyle[key];\n                delete cueStyle[key];\n            }\n        }\n\n        // Line padding is computed from the cellResolution.\n        if ('line-padding' in cueStyle) {\n            var valuePadding = parseFloat(cueStyle['line-padding'].slice(cueStyle['line-padding'].indexOf(':') + 1, cueStyle['line-padding'].indexOf('c')));\n            if ('id' in cueStyle) {\n                linePadding[cueStyle.id] = valuePadding;\n            }\n            var valuePaddingInPx = valuePadding * cellUnit[0] + 'px;';\n            properties.push('padding-left:' + valuePaddingInPx);\n            properties.push('padding-right:' + valuePaddingInPx);\n        }\n        // Font size is computed from the cellResolution.\n        if ('font-size' in cueStyle) {\n            var valueFtSize = parseFloat(cueStyle['font-size'].slice(cueStyle['font-size'].indexOf(':') + 1, cueStyle['font-size'].indexOf('%')));\n            if ('id' in cueStyle) {\n                fontSize[cueStyle.id] = valueFtSize;\n            }\n            var valueFtSizeInPx = valueFtSize / 100 * cellUnit[1] + 'px;';\n            properties.push('font-size:' + valueFtSizeInPx);\n        }\n        // Line height is computed from the cellResolution.\n        if ('line-height' in cueStyle) {\n            if (cueStyle['line-height'] === 'normal') {\n                properties.push('line-height: normal;');\n            } else {\n                var valueLHSize = parseFloat(cueStyle['line-height'].slice(cueStyle['line-height'].indexOf(':') + 1, cueStyle['line-height'].indexOf('%')));\n                if ('id' in cueStyle) {\n                    lineHeight[cueStyle.id] = valueLHSize;\n                }\n                var valueLHSizeInPx = valueLHSize / 100 * cellUnit[1] + 'px;';\n                properties.push('line-height' + ':' + valueLHSizeInPx);\n            }\n        }\n        // Font-family can be specified by a generic family name or a custom family name.\n        if ('font-family' in cueStyle) {\n            if (cueStyle['font-family'] in fontFamilies) {\n                properties.push(fontFamilies[cueStyle['font-family']]);\n            } else {\n                properties.push('font-family:' + cueStyle['font-family'] + ';');\n            }\n        }\n        // Text align needs to be set from two properties:\n        // The standard text-align CSS property.\n        // The justify-content property as we use flex boxes.\n        if ('text-align' in cueStyle) {\n            if (cueStyle['text-align'] in textAlign) {\n                properties.push(textAlign[cueStyle['text-align']][0]);\n                properties.push(textAlign[cueStyle['text-align']][1]);\n            }\n        }\n        // Multi Row align is set only by the text-align property.\n        // TODO: TO CHECK\n        if ('multi-row-align' in cueStyle) {\n            if (arrayContains('text-align', properties) && cueStyle['multi-row-align'] != 'auto') {\n                deletePropertyFromArray('text-align', properties);\n            }\n            if (cueStyle['multi-row-align'] in multiRowAlign) {\n                properties.push(multiRowAlign[cueStyle['multi-row-align']]);\n            }\n        }\n        // Background color can be specified from hexadecimal (RGB or RGBA) value.\n        var rgbaValue;\n        if ('background-color' in cueStyle) {\n            if (cueStyle['background-color'].indexOf('#') > -1 && cueStyle['background-color'].length - 1 === 8) {\n                rgbaValue = convertHexToRGBA(cueStyle['background-color']);\n                properties.push('background-color: ' + rgbaValue);\n            } else {\n                properties.push('background-color:' + cueStyle['background-color'] + ';');\n            }\n        }\n        // Color can be specified from hexadecimal (RGB or RGBA) value.\n        if ('color' in cueStyle) {\n            if (cueStyle.color.indexOf('#') > -1 && cueStyle.color.length - 1 === 8) {\n                rgbaValue = convertHexToRGBA(cueStyle.color);\n                properties.push('color: ' + rgbaValue);\n            } else {\n                properties.push('color:' + cueStyle.color + ';');\n            }\n        }\n        // Wrap option is determined by the white-space CSS property.\n        if ('wrap-option' in cueStyle) {\n            if (cueStyle['wrap-option'] in wrapOption) {\n                properties.push(wrapOption[cueStyle['wrap-option']]);\n            } else {\n                properties.push('white-space:' + cueStyle['wrap-option']);\n            }\n        }\n        // Unicode bidi is determined by the unicode-bidi CSS property.\n        if ('unicode-bidi' in cueStyle) {\n            if (cueStyle['unicode-bidi'] in unicodeBidi) {\n                properties.push(unicodeBidi[cueStyle['unicode-bidi']]);\n            } else {\n                properties.push('unicode-bidi:' + cueStyle['unicode-bidi']);\n            }\n        }\n\n        // Standard properties identical to CSS.\n\n        if ('font-style' in cueStyle) {\n            properties.push('font-style:' + cueStyle['font-style'] + ';');\n        }\n        if ('font-weight' in cueStyle) {\n            properties.push('font-weight:' + cueStyle['font-weight'] + ';');\n        }\n        if ('direction' in cueStyle) {\n            properties.push('direction:' + cueStyle.direction + ';');\n        }\n        if ('text-decoration' in cueStyle) {\n            properties.push('text-decoration:' + cueStyle['text-decoration'] + ';');\n        }\n\n        if (includeRegionStyles) {\n            properties = properties.concat(processRegion(cueStyle, cellUnit));\n        }\n\n        // Handle white-space preserve\n        if (ttml.tt.hasOwnProperty('xml:space')) {\n            if (ttml.tt['xml:space'] === 'preserve') {\n                properties.push('white-space: pre;');\n            }\n        }\n\n        return properties;\n    }\n\n    // Find the style set by comparing the style IDs available.\n    // Return null if no style is found\n    function findStyleFromID(ttmlStyling, cueStyleID) {\n        // For every styles available, search the corresponding style in ttmlStyling.\n        for (var j = 0; j < ttmlStyling.length; j++) {\n            var currStyle = ttmlStyling[j];\n            if (currStyle['xml:id'] === cueStyleID || currStyle.id === cueStyleID) {\n                // Return the style corresponding to the ID in parameter.\n                return currStyle;\n            }\n        }\n        return null;\n    }\n    // Return the computed style from a certain ID.\n    function getProcessedStyle(reference, cellUnit, includeRegionStyles) {\n        var styles = [];\n        var ids = reference.match(/\\S+/g);\n        ids.forEach(function (id) {\n            // Find the style for each id received.\n            var cueStyle = findStyleFromID(ttmlStyling, id);\n            if (cueStyle) {\n                // Process the style for the cue in CSS form.\n                // Send a copy of the style object, so it does not modify the original by cleaning it.\n                var stylesFromId = processStyle(JSON.parse(JSON.stringify(cueStyle)), cellUnit, includeRegionStyles);\n                styles = styles.concat(stylesFromId);\n            }\n        });\n        return styles;\n    }\n\n    // Calculate relative left, top, width, height from extent and origin in percent.\n    // Return object with {left, top, width, height} as numbers in percent or null.\n    function getRelativePositioning(element, ttExtent) {\n\n        var pairRe = /([\\d\\.]+)(%|px)\\s+([\\d\\.]+)(%|px)/;\n\n        if ('tts:extent' in element && 'tts:origin' in element) {\n            var extentParts = pairRe.exec(element['tts:extent']);\n            var originParts = pairRe.exec(element['tts:origin']);\n            if (extentParts === null || originParts === null) {\n                console.log('Bad extent or origin: ' + element['tts:extent'] + ' ' + element['tts:origin']);\n                return null;\n            }\n            var width = parseFloat(extentParts[1]);\n            var height = parseFloat(extentParts[3]);\n            var left = parseFloat(originParts[1]);\n            var top = parseFloat(originParts[3]);\n\n            if (ttExtent) {\n                // Should give overall scale in pixels\n                var ttExtentParts = pairRe.exec(ttExtent);\n                if (ttExtentParts === null || ttExtentParts[2] !== 'px' || ttExtentParts[4] !== 'px') {\n                    console.log('Bad tt.extent: ' + ttExtent);\n                    return null;\n                }\n                var exWidth = parseFloat(ttExtentParts[1]);\n                var exHeight = parseFloat(ttExtentParts[3]);\n                if (extentParts[2] === 'px') {\n                    width = width / exWidth * 100;\n                }\n                if (extentParts[4] === 'px') {\n                    height = height / exHeight * 100;\n                }\n                if (originParts[2] === 'px') {\n                    left = left / exWidth * 100;\n                }\n                if (originParts[4] === 'px') {\n                    top = top / exHeight * 100;\n                }\n            }\n            return { 'left': left, 'top': top, 'width': width, 'height': height };\n        } else {\n            return null;\n        }\n    }\n\n    /**\n     * Processing of layout information:\n     * - processRegion: return an array of strings with the cue region under a CSS style form.\n     * - findRegionFromID: Return the unprocessed region from TTMLLayout corresponding to the ID researched.\n     * - getProcessedRegion: Return the processed region(s) from the ID(s) received in entry.\n     ***/\n\n    // Compute the region properties to return an array with the cleaned properties.\n    function processRegion(cueRegion, cellUnit) {\n        var properties = [];\n\n        // Clean up from the xml2json parsing:\n        for (var key in cueRegion) {\n            //Clean the properties from the parsing.\n            var newKey = key.replace('tts:', '');\n            newKey = newKey.replace('xml:', '');\n\n            // Clean the properties' names.\n            newKey = camelCaseToDash(newKey);\n            cueRegion[newKey] = cueRegion[key];\n            if (newKey !== key) {\n                delete cueRegion[key];\n            }\n        }\n        // Extent property corresponds to width and height\n        if ('extent' in cueRegion) {\n            var coordsExtent = cueRegion.extent.split(/\\s/);\n            properties.push('width: ' + coordsExtent[0] + ';');\n            properties.push('height: ' + coordsExtent[1] + ';');\n        }\n        // Origin property corresponds to top and left\n        if ('origin' in cueRegion) {\n            var coordsOrigin = cueRegion.origin.split(/\\s/);\n            properties.push('left: ' + coordsOrigin[0] + ';');\n            properties.push('top: ' + coordsOrigin[1] + ';');\n        }\n        // DisplayAlign property corresponds to vertical-align\n        if ('display-align' in cueRegion) {\n            properties.push(displayAlign[cueRegion['display-align']]);\n        }\n        // WritingMode is not yet implemented (for CSS3, to come)\n        if ('writing-mode' in cueRegion) {\n            properties.push(writingMode[cueRegion['writing-mode']]);\n        }\n        // Style will give to the region the style properties from the style selected\n        if ('style' in cueRegion) {\n            var styleFromID = getProcessedStyle(cueRegion.style, cellUnit, true);\n            properties = properties.concat(styleFromID);\n        }\n\n        // Standard properties identical to CSS.\n\n        if ('padding' in cueRegion) {\n            properties.push('padding:' + cueRegion.padding + ';');\n        }\n        if ('overflow' in cueRegion) {\n            properties.push('overflow:' + cueRegion.overflow + ';');\n        }\n        if ('show-background' in cueRegion) {\n            properties.push('show-background:' + cueRegion['show-background'] + ';');\n        }\n        if ('id' in cueRegion) {\n            properties.push('regionID:' + cueRegion.id + ';');\n        }\n\n        return properties;\n    }\n\n    // Find the region set by comparing the region IDs available.\n    // Return null if no region is found\n    function findRegionFromID(ttmlLayout, cueRegionID) {\n        // For every region available, search the corresponding style in ttmlLayout.\n        for (var j = 0; j < ttmlLayout.length; j++) {\n            var currReg = ttmlLayout[j];\n            if (currReg['xml:id'] === cueRegionID || currReg.id === cueRegionID) {\n                // Return the region corresponding to the ID in parameter.\n                return currReg;\n            }\n        }\n        return null;\n    }\n\n    // Return the computed region from a certain ID.\n    function getProcessedRegion(reference, cellUnit) {\n        var regions = [];\n        var ids = reference.match(/\\S+/g);\n        ids.forEach(function (id) {\n            // Find the region for each id received.\n            var cueRegion = findRegionFromID(ttmlLayout, id);\n            if (cueRegion) {\n                // Process the region for the cue in CSS form.\n                // Send a copy of the style object, so it does not modify the original by cleaning it.\n                var regionsFromId = processRegion(JSON.parse(JSON.stringify(cueRegion)), cellUnit);\n                regions = regions.concat(regionsFromId);\n            }\n        });\n        return regions;\n    }\n\n    //Return the cellResolution defined by the TTML document.\n    function getCellResolution() {\n        var defaultCellResolution = [32, 15]; // Default cellResolution.\n        if (ttml.tt.hasOwnProperty('ttp:cellResolution')) {\n            return ttml.tt['ttp:cellResolution'].split(' ').map(parseFloat);\n        } else {\n            return defaultCellResolution;\n        }\n    }\n\n    // Return the cue wrapped into a span specifying its linePadding.\n    function applyLinePadding(cueHTML, cueStyle) {\n        // Extract the linePadding property from cueStyleProperties.\n        var linePaddingLeft = getPropertyFromArray('padding-left', cueStyle);\n        var linePaddingRight = getPropertyFromArray('padding-right', cueStyle);\n        var linePadding = linePaddingLeft.concat(' ' + linePaddingRight + ' ');\n\n        // Declaration of the HTML elements to be used in the cue innerHTML construction.\n        var outerHTMLBeforeBr = '';\n        var outerHTMLAfterBr = '';\n        var cueInnerHTML = '';\n\n        // List all the nodes of the subtitle.\n        var nodeList = Array.prototype.slice.call(cueHTML.children);\n        // Take a br element as reference.\n        var brElement = cueHTML.getElementsByClassName('lineBreak')[0];\n        // First index of the first br element.\n        var idx = nodeList.indexOf(brElement);\n        // array of all the br element indices\n        var indices = [];\n        // Find all the indices of the br elements.\n        while (idx != -1) {\n            indices.push(idx);\n            idx = nodeList.indexOf(brElement, idx + 1);\n        }\n\n        // Strings for the cue innerHTML construction.\n        var spanStringEnd = '<\\/span>';\n        var br = '<br>';\n        var clonePropertyString = '<span' + ' class=\"spanPadding\" ' + 'style=\"-webkit-box-decoration-break: clone; box-decoration-break: clone; ';\n\n        // If br elements are found:\n        if (indices.length) {\n            // For each index of a br element we compute the HTML coming before and/or after it.\n            indices.forEach(function (i, index) {\n                // If this is the first line break, we compute the HTML of the element coming before.\n                if (index === 0) {\n                    var styleBefore = '';\n                    // for each element coming before the line break, we add its HTML.\n                    for (var j = 0; j < i; j++) {\n                        outerHTMLBeforeBr += nodeList[j].outerHTML;\n                        // If this is the first element, we add its style to the wrapper.\n                        if (j === 0) {\n                            styleBefore = linePadding.concat(nodeList[j].style.cssText);\n                        }\n                    }\n                    // The before element will comprises the clone property (for line wrapping), the style that\n                    // need to be applied (ex: background-color) and the rest og the HTML.\n                    outerHTMLBeforeBr = clonePropertyString + styleBefore + '\">' + outerHTMLBeforeBr;\n                }\n                // For every element of the list, we compute the element coming after the line break.s\n                var styleAfter = '';\n                // for each element coming after the line break, we add its HTML.\n                for (var k = i + 1; k < nodeList.length; k++) {\n                    outerHTMLAfterBr += nodeList[k].outerHTML;\n                    // If this is the last element, we add its style to the wrapper.\n                    if (k === nodeList.length - 1) {\n                        styleAfter += linePadding.concat(nodeList[k].style.cssText);\n                    }\n                }\n\n                // The before element will comprises the clone property (for line wrapping), the style that\n                // need to be applied (ex: background-color) and the rest og the HTML.\n                outerHTMLAfterBr = clonePropertyString + styleAfter + '\">' + outerHTMLAfterBr;\n\n                // For each line break we must add the before and/or after element to the final cue as well as\n                // the line break when needed.\n                if (outerHTMLBeforeBr && outerHTMLAfterBr && index === indices.length - 1) {\n                    cueInnerHTML += outerHTMLBeforeBr + spanStringEnd + br + outerHTMLAfterBr + spanStringEnd;\n                } else if (outerHTMLBeforeBr && outerHTMLAfterBr && index !== indices.length - 1) {\n                    cueInnerHTML += outerHTMLBeforeBr + spanStringEnd + br + outerHTMLAfterBr + spanStringEnd + br;\n                } else if (outerHTMLBeforeBr && !outerHTMLAfterBr) {\n                    cueInnerHTML += outerHTMLBeforeBr + spanStringEnd;\n                } else if (!outerHTMLBeforeBr && outerHTMLAfterBr && index === indices.length - 1) {\n                    cueInnerHTML += outerHTMLAfterBr + spanStringEnd;\n                } else if (!outerHTMLBeforeBr && outerHTMLAfterBr && index !== indices.length - 1) {\n                    cueInnerHTML += outerHTMLAfterBr + spanStringEnd + br;\n                }\n            });\n        } else {\n            // If there is no line break in the subtitle, we simply wrap cue in a span indicating the linePadding.\n            var style = '';\n            for (var k = 0; k < nodeList.length; k++) {\n                style += nodeList[k].style.cssText;\n            }\n            cueInnerHTML = clonePropertyString + linePadding + style + '\">' + cueHTML.innerHTML + spanStringEnd;\n        }\n        return cueInnerHTML;\n    }\n\n    /*\n    * Create the cue element\n     * I. The cues are text only:\n     *      i) The cue contains a 'br' element\n     *      ii) The cue contains a span element\n     *      iii) The cue contains text\n     */\n\n    function constructCue(cueElements, cellUnit) {\n        var cue = document.createElement('div');\n        cueElements.forEach(function (el) {\n            // If metadata is present, do not process.\n            if (el.hasOwnProperty('metadata')) {\n                return;\n            }\n\n            /**\n             * If the p element contains spans: create the span elements.\n             */\n            if (el.hasOwnProperty('span')) {\n\n                // Stock the span subtitles in an array (in case there are only one value).\n                var spanElements = el.span.__children;\n\n                // Create the span element.\n                var spanHTMLElement = document.createElement('span');\n                // Extract the style of the span.\n                if (el.span.hasOwnProperty('style')) {\n                    var spanStyle = getProcessedStyle(el.span.style, cellUnit);\n                    spanHTMLElement.className = 'spanPadding ' + el.span.style;\n                    spanHTMLElement.style.cssText = spanStyle.join(' ');\n                }\n\n                // if the span has more than one element, we check for each of them their nature (br or text).\n                spanElements.forEach(function (spanEl) {\n                    // If metadata is present, do not process.\n                    if (spanElements.hasOwnProperty('metadata')) {\n                        return;\n                    }\n                    // If the element is a string\n                    if (spanEl.hasOwnProperty('#text')) {\n                        var textNode = document.createTextNode(spanEl['#text']);\n                        spanHTMLElement.appendChild(textNode);\n                        // If the element is a 'br' tag\n                    } else if ('br' in spanEl) {\n                        // To handle br inside span we need to add the current span\n                        // to the cue and then create a br and add that the cue\n                        // then create a new span that we use for the next line of\n                        // text, that is a copy of the current span\n\n                        // Add the current span to the cue, only if it has childNodes (text)\n                        if (spanHTMLElement.hasChildNodes()) {\n                            cue.appendChild(spanHTMLElement);\n                        }\n\n                        // Create a br and add that to the cue\n                        var brEl = document.createElement('br');\n                        brEl.className = 'lineBreak';\n                        cue.appendChild(brEl);\n\n                        // Create an replacement span and copy the style and classname from the old one\n                        var newSpanHTMLElement = document.createElement('span');\n                        newSpanHTMLElement.className = spanHTMLElement.className;\n                        newSpanHTMLElement.style.cssText = spanHTMLElement.style.cssText;\n\n                        // Replace the current span with the one we just created\n                        spanHTMLElement = newSpanHTMLElement;\n                    }\n                });\n                // We append the element to the cue container.\n                cue.appendChild(spanHTMLElement);\n            }\n\n            /**\n             * Create a br element if there is one in the cue.\n             */\n            else if (el.hasOwnProperty('br')) {\n                    // We append the line break to the cue container.\n                    var brEl = document.createElement('br');\n                    brEl.className = 'lineBreak';\n                    cue.appendChild(brEl);\n                }\n\n                /**\n                 * Add the text that is not in any inline element\n                 */\n                else if (el.hasOwnProperty('#text')) {\n                        // Add the text to an individual span element (to add line padding if it is defined).\n                        var textNode = document.createElement('span');\n                        textNode.textContent = el['#text'];\n\n                        // We append the element to the cue container.\n                        cue.appendChild(textNode);\n                    }\n        });\n        return cue;\n    }\n\n    function constructCueRegion(cue, div, cellUnit) {\n        var cueRegionProperties = []; // properties to be put in the \"captionRegion\" HTML element\n        // Obtain the region ID(s) assigned to the cue.\n        var pRegionID = cue.region;\n        // If div has a region.\n        var divRegionID = div.region;\n\n        var divRegion;\n        var pRegion;\n\n        // If the div element reference a region.\n        if (divRegionID) {\n            divRegion = getProcessedRegion(divRegionID, cellUnit);\n        }\n        // If the p element reference a region.\n        if (pRegionID) {\n            pRegion = cueRegionProperties.concat(getProcessedRegion(pRegionID, cellUnit));\n            if (divRegion) {\n                cueRegionProperties = mergeArrays(divRegion, pRegion);\n            } else {\n                cueRegionProperties = pRegion;\n            }\n        } else if (divRegion) {\n            cueRegionProperties = divRegion;\n        }\n\n        // Add initial/default values to what's not defined in the layout:\n        applyDefaultProperties(cueRegionProperties, defaultLayoutProperties);\n\n        return cueRegionProperties;\n    }\n\n    function constructCueStyle(cue, cellUnit) {\n        var cueStyleProperties = []; // properties to be put in the \"paragraph\" HTML element\n        // Obtain the style ID(s) assigned to the cue.\n        var pStyleID = cue.style;\n        // If body has a style.\n        var bodyStyleID = ttml.tt.body.style;\n        // If div has a style.\n        var divStyleID = ttml.tt.body.div.style;\n\n        var bodyStyle;\n        var divStyle;\n        var pStyle;\n        var styleIDs = '';\n\n        // If the body element reference a style.\n        if (bodyStyleID) {\n            bodyStyle = getProcessedStyle(bodyStyleID, cellUnit);\n            styleIDs = 'paragraph ' + bodyStyleID;\n        }\n\n        // If the div element reference a style.\n        if (divStyleID) {\n            divStyle = getProcessedStyle(divStyleID, cellUnit);\n            if (bodyStyle) {\n                divStyle = mergeArrays(bodyStyle, divStyle);\n                styleIDs += ' ' + divStyleID;\n            } else {\n                styleIDs = 'paragraph ' + divStyleID;\n            }\n        }\n\n        // If the p element reference a style.\n        if (pStyleID) {\n            pStyle = getProcessedStyle(pStyleID, cellUnit);\n            if (bodyStyle && divStyle) {\n                cueStyleProperties = mergeArrays(divStyle, pStyle);\n                styleIDs += ' ' + pStyleID;\n            } else if (bodyStyle) {\n                cueStyleProperties = mergeArrays(bodyStyle, pStyle);\n                styleIDs += ' ' + pStyleID;\n            } else if (divStyle) {\n                cueStyleProperties = mergeArrays(divStyle, pStyle);\n                styleIDs += ' ' + pStyleID;\n            } else {\n                cueStyleProperties = pStyle;\n                styleIDs = 'paragraph ' + pStyleID;\n            }\n        } else if (bodyStyle && !divStyle) {\n            cueStyleProperties = bodyStyle;\n        } else if (!bodyStyle && divStyle) {\n            cueStyleProperties = divStyle;\n        }\n\n        // Add initial/default values to what's not defined in the styling:\n        applyDefaultProperties(cueStyleProperties, defaultStyleProperties);\n\n        return [cueStyleProperties, styleIDs];\n    }\n\n    function applyDefaultProperties(array, defaultProperties) {\n        for (var key in defaultProperties) {\n            if (defaultProperties.hasOwnProperty(key)) {\n                if (!arrayContains(key, array)) {\n                    array.push(key + ':' + defaultProperties[key]);\n                }\n            }\n        }\n    }\n\n    instance = {\n        parse: parse,\n        setConfig: setConfig\n    };\n\n    setup();\n    return instance;\n}\nTTMLParser.__h5player_factory_name = 'TTMLParser';\nexports.default = _FactoryMaker2.default.getSingletonFactory(TTMLParser);\n\n},{\"13\":13,\"43\":43}],38:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _FactoryMaker = _dereq_(13);\n\nvar _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\n//import Debug from '../../core/Debug';\n\nfunction VTTParser() {\n    var context = this.context;\n    var log = console.log; //Debug(context).getInstance().log;\n\n    var instance = void 0,\n        regExNewLine = void 0,\n        regExToken = void 0,\n        regExWhiteSpace = void 0,\n        regExWhiteSpaceWordBoundary = void 0;\n\n    function setup() {\n        regExNewLine = /(?:\\r\\n|\\r|\\n)/gm;\n        regExToken = /-->/;\n        regExWhiteSpace = /(^[\\s]+|[\\s]+$)/g;\n        regExWhiteSpaceWordBoundary = /\\s\\b/g;\n    }\n\n    function parse(data) {\n        var captionArray = [];\n        var len, lastStartTime;\n\n        data = data.split(regExNewLine);\n        len = data.length;\n        lastStartTime = -1;\n\n        for (var i = 0; i < len; i++) {\n            var item = data[i];\n\n            if (item.length > 0 && item !== 'WEBVTT') {\n                if (item.match(regExToken)) {\n                    var attributes = parseItemAttributes(item);\n                    var cuePoints = attributes.cuePoints;\n                    var styles = attributes.styles;\n                    var text = getSublines(data, i + 1);\n                    var startTime = convertCuePointTimes(cuePoints[0].replace(regExWhiteSpace, ''));\n                    var endTime = convertCuePointTimes(cuePoints[1].replace(regExWhiteSpace, ''));\n\n                    if (!isNaN(startTime) && !isNaN(endTime) && startTime >= lastStartTime && endTime > startTime) {\n                        if (text !== '') {\n                            lastStartTime = startTime;\n                            //TODO Make VO external so other parsers can use.\n                            captionArray.push({\n                                start: startTime,\n                                end: endTime,\n                                data: text,\n                                styles: styles\n                            });\n                        } else {\n                            log('Skipping cue due to empty/malformed cue text');\n                        }\n                    } else {\n                        log('Skipping cue due to incorrect cue timing');\n                    }\n                }\n            }\n        }\n\n        return captionArray;\n    }\n\n    function convertCuePointTimes(time) {\n        var timeArray = time.split(':');\n        var len = timeArray.length - 1;\n\n        time = parseInt(timeArray[len - 1], 10) * 60 + parseFloat(timeArray[len]);\n\n        if (len === 2) {\n            time += parseInt(timeArray[0], 10) * 3600;\n        }\n\n        return time;\n    }\n\n    function parseItemAttributes(data) {\n        var vttCuePoints = data.split(regExToken);\n        var arr = vttCuePoints[1].split(regExWhiteSpaceWordBoundary);\n        arr.shift(); //remove first array index it is empty...\n        vttCuePoints[1] = arr[0];\n        arr.shift();\n        return { cuePoints: vttCuePoints, styles: getCaptionStyles(arr) };\n    }\n\n    function getCaptionStyles(arr) {\n        var styleObject = {};\n        arr.forEach(function (element) {\n            if (element.split(/:/).length > 1) {\n                var val = element.split(/:/)[1];\n                if (val && val.search(/%/) != -1) {\n                    val = parseInt(val.replace(/%/, ''), 10);\n                }\n                if (element.match(/align/) || element.match(/A/)) {\n                    styleObject.align = val;\n                }\n                if (element.match(/line/) || element.match(/L/)) {\n                    styleObject.line = val;\n                }\n                if (element.match(/position/) || element.match(/P/)) {\n                    styleObject.position = val;\n                }\n                if (element.match(/size/) || element.match(/S/)) {\n                    styleObject.size = val;\n                }\n            }\n        });\n\n        return styleObject;\n    }\n\n    /*\n    * VTT can have multiple lines to display per cuepoint.\n    */\n    function getSublines(data, idx) {\n        var i = idx;\n\n        var subline = '';\n        var lineData = '';\n        var lineCount;\n\n        while (data[i] !== '' && i < data.length) {\n            i++;\n        }\n\n        lineCount = i - idx;\n        if (lineCount > 1) {\n            for (var j = 0; j < lineCount; j++) {\n                lineData = data[idx + j];\n                if (!lineData.match(regExToken)) {\n                    subline += lineData;\n                    if (j !== lineCount - 1) {\n                        subline += '\\n';\n                    }\n                } else {\n                    // caption text should not have '-->' in it\n                    subline = '';\n                    break;\n                }\n            }\n        } else {\n            lineData = data[idx];\n            if (!lineData.match(regExToken)) subline = lineData;\n        }\n        return decodeURI(subline);\n    }\n\n    instance = {\n        parse: parse\n    };\n\n    setup();\n    return instance;\n} /**\n   * The copyright in this software is being made available under the BSD License,\n   * included below. This software may be subject to other third party and contributor\n   * rights, including patent rights, and no such rights are granted under this license.\n   *\n   * Copyright (c) 2013, Dash Industry Forum.\n   * All rights reserved.\n   *\n   * Redistribution and use in source and binary forms, with or without modification,\n   * are permitted provided that the following conditions are met:\n   *  * Redistributions of source code must retain the above copyright notice, this\n   *  list of conditions and the following disclaimer.\n   *  * Redistributions in binary form must reproduce the above copyright notice,\n   *  this list of conditions and the following disclaimer in the documentation and/or\n   *  other materials provided with the distribution.\n   *  * Neither the name of Dash Industry Forum nor the names of its\n   *  contributors may be used to endorse or promote products derived from this software\n   *  without specific prior written permission.\n   *\n   *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY\n   *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n   *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n   *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n   *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n   *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n   *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n   *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n   *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n   *  POSSIBILITY OF SUCH DAMAGE.\n   */\n\nVTTParser.__h5player_factory_name = 'VTTParser';\nexports.default = _FactoryMaker2.default.getSingletonFactory(VTTParser);\n\n},{\"13\":13}],39:[function(_dereq_,module,exports){\n'use strict';\n\n/**\n * The copyright in this software is being made available under the BSD License,\n * included below. This software may be subject to other third party and contributor\n * rights, including patent rights, and no such rights are granted under this license.\n *\n * Copyright (c) 2015-2016, DASH Industry Forum.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *  1. Redistributions of source code must retain the above copyright notice, this\n *  list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright notice,\n *  this list of conditions and the following disclaimer in the documentation and/or\n *  other materials provided with the distribution.\n *  2. Neither the name of Dash Industry Forum nor the names of its\n *  contributors may be used to endorse or promote products derived from this software\n *  without specific prior written permission.\n *\n *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY\n *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n *  POSSIBILITY OF SUCH DAMAGE.\n */\n\n(function (exports) {\n\n    \"use strict\";\n\n    /**\n     *  Exceptions from regular ASCII. CodePoints are mapped to UTF-16 codes\n     */\n\n    var specialCea608CharsCodes = {\n        0x2a: 0xe1, // lowercase a, acute accent\n        0x5c: 0xe9, // lowercase e, acute accent\n        0x5e: 0xed, // lowercase i, acute accent\n        0x5f: 0xf3, // lowercase o, acute accent\n        0x60: 0xfa, // lowercase u, acute accent\n        0x7b: 0xe7, // lowercase c with cedilla\n        0x7c: 0xf7, // division symbol\n        0x7d: 0xd1, // uppercase N tilde\n        0x7e: 0xf1, // lowercase n tilde\n        0x7f: 0x2588, // Full block\n        // THIS BLOCK INCLUDES THE 16 EXTENDED (TWO-BYTE) LINE 21 CHARACTERS\n        // THAT COME FROM HI BYTE=0x11 AND LOW BETWEEN 0x30 AND 0x3F\n        // THIS MEANS THAT \\x50 MUST BE ADDED TO THE VALUES\n        0x80: 0xae, // Registered symbol (R)\n        0x81: 0xb0, // degree sign\n        0x82: 0xbd, // 1/2 symbol\n        0x83: 0xbf, // Inverted (open) question mark\n        0x84: 0x2122, // Trademark symbol (TM)\n        0x85: 0xa2, // Cents symbol\n        0x86: 0xa3, // Pounds sterling\n        0x87: 0x266a, // Music 8'th note\n        0x88: 0xe0, // lowercase a, grave accent\n        0x89: 0x20, // transparent space (regular)\n        0x8a: 0xe8, // lowercase e, grave accent\n        0x8b: 0xe2, // lowercase a, circumflex accent\n        0x8c: 0xea, // lowercase e, circumflex accent\n        0x8d: 0xee, // lowercase i, circumflex accent\n        0x8e: 0xf4, // lowercase o, circumflex accent\n        0x8f: 0xfb, // lowercase u, circumflex accent\n        // THIS BLOCK INCLUDES THE 32 EXTENDED (TWO-BYTE) LINE 21 CHARACTERS\n        // THAT COME FROM HI BYTE=0x12 AND LOW BETWEEN 0x20 AND 0x3F\n        0x90: 0xc1, // capital letter A with acute\n        0x91: 0xc9, // capital letter E with acute\n        0x92: 0xd3, // capital letter O with acute\n        0x93: 0xda, // capital letter U with acute\n        0x94: 0xdc, // capital letter U with diaresis\n        0x95: 0xfc, // lowercase letter U with diaeresis\n        0x96: 0x2018, // opening single quote\n        0x97: 0xa1, // inverted exclamation mark\n        0x98: 0x2a, // asterisk\n        0x99: 0x2019, // closing single quote\n        0x9a: 0x2501, // box drawings heavy horizontal\n        0x9b: 0xa9, // copyright sign\n        0x9c: 0x2120, // Service mark\n        0x9d: 0x2022, // (round) bullet\n        0x9e: 0x201c, // Left double quotation mark\n        0x9f: 0x201d, // Right double quotation mark\n        0xa0: 0xc0, // uppercase A, grave accent\n        0xa1: 0xc2, // uppercase A, circumflex\n        0xa2: 0xc7, // uppercase C with cedilla\n        0xa3: 0xc8, // uppercase E, grave accent\n        0xa4: 0xca, // uppercase E, circumflex\n        0xa5: 0xcb, // capital letter E with diaresis\n        0xa6: 0xeb, // lowercase letter e with diaresis\n        0xa7: 0xce, // uppercase I, circumflex\n        0xa8: 0xcf, // uppercase I, with diaresis\n        0xa9: 0xef, // lowercase i, with diaresis\n        0xaa: 0xd4, // uppercase O, circumflex\n        0xab: 0xd9, // uppercase U, grave accent\n        0xac: 0xf9, // lowercase u, grave accent\n        0xad: 0xdb, // uppercase U, circumflex\n        0xae: 0xab, // left-pointing double angle quotation mark\n        0xaf: 0xbb, // right-pointing double angle quotation mark\n        // THIS BLOCK INCLUDES THE 32 EXTENDED (TWO-BYTE) LINE 21 CHARACTERS\n        // THAT COME FROM HI BYTE=0x13 AND LOW BETWEEN 0x20 AND 0x3F\n        0xb0: 0xc3, // Uppercase A, tilde\n        0xb1: 0xe3, // Lowercase a, tilde\n        0xb2: 0xcd, // Uppercase I, acute accent\n        0xb3: 0xcc, // Uppercase I, grave accent\n        0xb4: 0xec, // Lowercase i, grave accent\n        0xb5: 0xd2, // Uppercase O, grave accent\n        0xb6: 0xf2, // Lowercase o, grave accent\n        0xb7: 0xd5, // Uppercase O, tilde\n        0xb8: 0xf5, // Lowercase o, tilde\n        0xb9: 0x7b, // Open curly brace\n        0xba: 0x7d, // Closing curly brace\n        0xbb: 0x5c, // Backslash\n        0xbc: 0x5e, // Caret\n        0xbd: 0x5f, // Underscore\n        0xbe: 0x7c, // Pipe (vertical line)\n        0xbf: 0x223c, // Tilde operator\n        0xc0: 0xc4, // Uppercase A, umlaut\n        0xc1: 0xe4, // Lowercase A, umlaut\n        0xc2: 0xd6, // Uppercase O, umlaut\n        0xc3: 0xf6, // Lowercase o, umlaut\n        0xc4: 0xdf, // Esszett (sharp S)\n        0xc5: 0xa5, // Yen symbol\n        0xc6: 0xa4, // Generic currency sign\n        0xc7: 0x2503, // Box drawings heavy vertical\n        0xc8: 0xc5, // Uppercase A, ring\n        0xc9: 0xe5, // Lowercase A, ring\n        0xca: 0xd8, // Uppercase O, stroke\n        0xcb: 0xf8, // Lowercase o, strok\n        0xcc: 0x250f, // Box drawings heavy down and right\n        0xcd: 0x2513, // Box drawings heavy down and left\n        0xce: 0x2517, // Box drawings heavy up and right\n        0xcf: 0x251b // Box drawings heavy up and left\n    };\n\n    /**\n     * Get Unicode Character from CEA-608 byte code\n     */\n    var getCharForByte = function getCharForByte(byte) {\n        var charCode = byte;\n        if (specialCea608CharsCodes.hasOwnProperty(byte)) {\n            charCode = specialCea608CharsCodes[byte];\n        }\n        return String.fromCharCode(charCode);\n    };\n\n    var NR_ROWS = 15,\n        NR_COLS = 32;\n    // Tables to look up row from PAC data\n    var rowsLowCh1 = { 0x11: 1, 0x12: 3, 0x15: 5, 0x16: 7, 0x17: 9, 0x10: 11, 0x13: 12, 0x14: 14 };\n    var rowsHighCh1 = { 0x11: 2, 0x12: 4, 0x15: 6, 0x16: 8, 0x17: 10, 0x13: 13, 0x14: 15 };\n    var rowsLowCh2 = { 0x19: 1, 0x1A: 3, 0x1D: 5, 0x1E: 7, 0x1F: 9, 0x18: 11, 0x1B: 12, 0x1C: 14 };\n    var rowsHighCh2 = { 0x19: 2, 0x1A: 4, 0x1D: 6, 0x1E: 8, 0x1F: 10, 0x1B: 13, 0x1C: 15 };\n\n    var backgroundColors = ['white', 'green', 'blue', 'cyan', 'red', 'yellow', 'magenta', 'black', 'transparent'];\n\n    /**\n     * Simple logger class to be able to write with time-stamps and filter on level.\n     */\n    var logger = {\n        //verboseFilter : {'DATA' : 3, 'DEBUG' : 3, 'INFO' : 2, 'WARNING' : 2, 'TEXT' : 1, 'ERROR' : 0},\n        verboseFilter: { 'DATA': 4, 'DEBUG': 4, 'INFO': 4, 'WARNING': 2, 'TEXT': 1, 'ERROR': 0 },\n        time: null,\n        verboseLevel: 0, // Only write errors\n        setTime: function setTime(newTime) {\n            this.time = newTime;\n        },\n        log: function log(severity, msg) {\n            var minLevel = this.verboseFilter[severity];\n            if (this.verboseLevel >= minLevel) {\n                console.log(this.time + \" [\" + severity + \"] \" + msg);\n            }\n        },\n\n        setLogLevel: function setLogLevel(level) {\n            this.verboseLevel = level;\n        }\n    };\n\n    var numArrayToHexArray = function numArrayToHexArray(numArray) {\n        var hexArray = [];\n        for (var j = 0; j < numArray.length; j++) {\n            hexArray.push(numArray[j].toString(16));\n        }\n        return hexArray;\n    };\n\n    /**\n     * State of CEA-608 pen or character\n     * @constructor\n     */\n    var PenState = function PenState(foreground, underline, italics, background, flash) {\n        this.foreground = foreground || \"white\";\n        this.underline = underline || false;\n        this.italics = italics || false;\n        this.background = background || \"black\";\n        this.flash = flash || false;\n    };\n\n    PenState.prototype = {\n\n        reset: function reset() {\n            this.foreground = \"white\";\n            this.underline = false;\n            this.italics = false;\n            this.background = \"black\";\n            this.flash = false;\n        },\n\n        setStyles: function setStyles(styles) {\n            var attribs = [\"foreground\", \"underline\", \"italics\", \"background\", \"flash\"];\n            for (var i = 0; i < attribs.length; i++) {\n                var style = attribs[i];\n                if (styles.hasOwnProperty(style)) {\n                    this[style] = styles[style];\n                }\n            }\n        },\n\n        isDefault: function isDefault() {\n            return this.foreground === \"white\" && !this.underline && !this.italics && this.background === \"black\" && !this.flash;\n        },\n\n        equals: function equals(other) {\n            return this.foreground === other.foreground && this.underline === other.underline && this.italics === other.italics && this.background === other.background && this.flash === other.flash;\n        },\n\n        copy: function copy(newPenState) {\n            this.foreground = newPenState.foreground;\n            this.underline = newPenState.underline;\n            this.italics = newPenState.italics;\n            this.background = newPenState.background;\n            this.flash = newPenState.flash;\n        },\n\n        toString: function toString() {\n            return \"color=\" + this.foreground + \", underline=\" + this.underline + \", italics=\" + this.italics + \", background=\" + this.background + \", flash=\" + this.flash;\n        }\n    };\n\n    /**\n     * Unicode character with styling and background.\n     * @constructor\n     */\n    var StyledUnicodeChar = function StyledUnicodeChar(uchar, foreground, underline, italics, background, flash) {\n        this.uchar = uchar || ' '; // unicode character\n        this.penState = new PenState(foreground, underline, italics, background, flash);\n    };\n\n    StyledUnicodeChar.prototype = {\n\n        reset: function reset() {\n            this.uchar = ' ';\n            this.penState.reset();\n        },\n\n        setChar: function setChar(uchar, newPenState) {\n            this.uchar = uchar;\n            this.penState.copy(newPenState);\n        },\n\n        setPenState: function setPenState(newPenState) {\n            this.penState.copy(newPenState);\n        },\n\n        equals: function equals(other) {\n            return this.uchar === other.uchar && this.penState.equals(other.penState);\n        },\n\n        copy: function copy(newChar) {\n            this.uchar = newChar.uchar;\n            this.penState.copy(newChar.penState);\n        },\n\n        isEmpty: function isEmpty() {\n            return this.uchar === ' ' && this.penState.isDefault();\n        }\n    };\n\n    /**\n     * CEA-608 row consisting of NR_COLS instances of StyledUnicodeChar.\n     * @constructor\n     */\n    var Row = function Row() {\n        this.chars = [];\n        for (var i = 0; i < NR_COLS; i++) {\n            this.chars.push(new StyledUnicodeChar());\n        }\n        this.pos = 0;\n        this.currPenState = new PenState();\n    };\n\n    Row.prototype = {\n\n        equals: function equals(other) {\n            var equal = true;\n            for (var i = 0; i < NR_COLS; i++) {\n                if (!this.chars[i].equals(other.chars[i])) {\n                    equal = false;\n                    break;\n                }\n            }\n            return equal;\n        },\n\n        copy: function copy(other) {\n            for (var i = 0; i < NR_COLS; i++) {\n                this.chars[i].copy(other.chars[i]);\n            }\n        },\n\n        isEmpty: function isEmpty() {\n            var empty = true;\n            for (var i = 0; i < NR_COLS; i++) {\n                if (!this.chars[i].isEmpty()) {\n                    empty = false;\n                    break;\n                }\n            }\n            return empty;\n        },\n\n        /**\n         *  Set the cursor to a valid column.\n         */\n        setCursor: function setCursor(absPos) {\n            if (this.pos !== absPos) {\n                this.pos = absPos;\n            }\n            if (this.pos < 0) {\n                logger.log(\"ERROR\", \"Negative cursor position \" + this.pos);\n                this.pos = 0;\n            } else if (this.pos > NR_COLS) {\n                logger.log(\"ERROR\", \"Too large cursor position \" + this.pos);\n                this.pos = NR_COLS;\n            }\n        },\n\n        /** \n         * Move the cursor relative to current position.\n         */\n        moveCursor: function moveCursor(relPos) {\n            var newPos = this.pos + relPos;\n            if (relPos > 1) {\n                for (var i = this.pos + 1; i < newPos + 1; i++) {\n                    this.chars[i].setPenState(this.currPenState);\n                }\n            }\n            this.setCursor(newPos);\n        },\n\n        /**\n         * Backspace, move one step back and clear character.\n         */\n        backSpace: function backSpace() {\n            this.moveCursor(-1);\n            this.chars[this.pos].setChar(' ', this.currPenState);\n        },\n\n        insertChar: function insertChar(byte) {\n            if (byte >= 0x90) {\n                //Extended char\n                this.backSpace();\n            }\n            var char = getCharForByte(byte);\n            if (this.pos >= NR_COLS) {\n                logger.log(\"ERROR\", \"Cannot insert \" + byte.toString(16) + \" (\" + char + \") at position \" + this.pos + \". Skipping it!\");\n                return;\n            }\n            this.chars[this.pos].setChar(char, this.currPenState);\n            this.moveCursor(1);\n        },\n\n        clearFromPos: function clearFromPos(startPos) {\n            var i;\n            for (i = startPos; i < NR_COLS; i++) {\n                this.chars[i].reset();\n            }\n        },\n\n        clear: function clear() {\n            this.clearFromPos(0);\n            this.pos = 0;\n            this.currPenState.reset();\n        },\n\n        clearToEndOfRow: function clearToEndOfRow() {\n            this.clearFromPos(this.pos);\n        },\n\n        getTextString: function getTextString() {\n            var chars = [];\n            var empty = true;\n            for (var i = 0; i < NR_COLS; i++) {\n                var char = this.chars[i].uchar;\n                if (char !== \" \") {\n                    empty = false;\n                }\n                chars.push(char);\n            }\n            if (empty) {\n                return \"\";\n            } else {\n                return chars.join(\"\");\n            }\n        },\n\n        setPenStyles: function setPenStyles(styles) {\n            this.currPenState.setStyles(styles);\n            var currChar = this.chars[this.pos];\n            currChar.setPenState(this.currPenState);\n        }\n    };\n\n    /**\n     * Keep a CEA-608 screen of 32x15 styled characters\n     * @constructor\n    */\n    var CaptionScreen = function CaptionScreen() {\n\n        this.rows = [];\n        for (var i = 0; i < NR_ROWS; i++) {\n            this.rows.push(new Row()); // Note that we use zero-based numbering (0-14)\n        }\n        this.currRow = NR_ROWS - 1;\n        this.nrRollUpRows = null;\n        this.reset();\n    };\n\n    CaptionScreen.prototype = {\n\n        reset: function reset() {\n            for (var i = 0; i < NR_ROWS; i++) {\n                this.rows[i].clear();\n            }\n            this.currRow = NR_ROWS - 1;\n        },\n\n        equals: function equals(other) {\n            var equal = true;\n            for (var i = 0; i < NR_ROWS; i++) {\n                if (!this.rows[i].equals(other.rows[i])) {\n                    equal = false;\n                    break;\n                }\n            }\n            return equal;\n        },\n\n        copy: function copy(other) {\n            for (var i = 0; i < NR_ROWS; i++) {\n                this.rows[i].copy(other.rows[i]);\n            }\n        },\n\n        isEmpty: function isEmpty() {\n            var empty = true;\n            for (var i = 0; i < NR_ROWS; i++) {\n                if (!this.rows[i].isEmpty()) {\n                    empty = false;\n                    break;\n                }\n            }\n            return empty;\n        },\n\n        backSpace: function backSpace() {\n            var row = this.rows[this.currRow];\n            row.backSpace();\n        },\n\n        clearToEndOfRow: function clearToEndOfRow() {\n            var row = this.rows[this.currRow];\n            row.clearToEndOfRow();\n        },\n\n        /**\n         * Insert a character (without styling) in the current row.\n         */\n        insertChar: function insertChar(char) {\n            var row = this.rows[this.currRow];\n            row.insertChar(char);\n        },\n\n        setPen: function setPen(styles) {\n            var row = this.rows[this.currRow];\n            row.setPenStyles(styles);\n        },\n\n        moveCursor: function moveCursor(relPos) {\n            var row = this.rows[this.currRow];\n            row.moveCursor(relPos);\n        },\n\n        setCursor: function setCursor(absPos) {\n            logger.log(\"INFO\", \"setCursor: \" + absPos);\n            var row = this.rows[this.currRow];\n            row.setCursor(absPos);\n        },\n\n        setPAC: function setPAC(pacData) {\n            logger.log(\"INFO\", \"pacData = \" + JSON.stringify(pacData));\n            var newRow = pacData.row - 1;\n            if (this.nrRollUpRows && newRow < this.nrRollUpRows - 1) {\n                newRow = this.nrRollUpRows - 1;\n            }\n            this.currRow = newRow;\n            var row = this.rows[this.currRow];\n            if (pacData.indent !== null) {\n                var indent = pacData.indent;\n                var prevPos = Math.max(indent - 1, 0);\n                row.setCursor(pacData.indent);\n                pacData.color = row.chars[prevPos].penState.foreground;\n            }\n            var styles = { foreground: pacData.color, underline: pacData.underline, italics: pacData.italics, background: 'black', flash: false };\n            this.setPen(styles);\n        },\n\n        /**\n         * Set background/extra foreground, but first do back_space, and then insert space (backwards compatibility).\n         */\n        setBkgData: function setBkgData(bkgData) {\n\n            logger.log(\"INFO\", \"bkgData = \" + JSON.stringify(bkgData));\n            this.backSpace();\n            this.setPen(bkgData);\n            this.insertChar(0x20); //Space\n        },\n\n        setRollUpRows: function setRollUpRows(nrRows) {\n            this.nrRollUpRows = nrRows;\n        },\n\n        rollUp: function rollUp() {\n            if (this.nrRollUpRows === null) {\n                logger.log(\"DEBUG\", \"roll_up but nrRollUpRows not set yet\");\n                return; //Not properly setup\n            }\n            logger.log(\"TEXT\", this.getDisplayText());\n            var topRowIndex = this.currRow + 1 - this.nrRollUpRows;\n            var topRow = this.rows.splice(topRowIndex, 1)[0];\n            topRow.clear();\n            this.rows.splice(this.currRow, 0, topRow);\n            logger.log(\"INFO\", \"Rolling up\");\n            //logger.log(\"TEXT\", this.get_display_text())\n        },\n\n        /**\n         * Get all non-empty rows with as unicode text. \n         */\n        getDisplayText: function getDisplayText(asOneRow) {\n            asOneRow = asOneRow || false;\n            var displayText = [];\n            var text = \"\";\n            var rowNr = -1;\n            for (var i = 0; i < NR_ROWS; i++) {\n                var rowText = this.rows[i].getTextString();\n                if (rowText) {\n                    rowNr = i + 1;\n                    if (asOneRow) {\n                        displayText.push(\"Row \" + rowNr + ': \"' + rowText + '\"');\n                    } else {\n                        displayText.push(rowText.trim());\n                    }\n                }\n            }\n            if (displayText.length > 0) {\n                if (asOneRow) {\n                    text = \"[\" + displayText.join(\" | \") + \"]\";\n                } else {\n                    text = displayText.join(\"\\n\");\n                }\n            }\n            return text;\n        },\n\n        getTextAndFormat: function getTextAndFormat() {\n            return this.rows;\n        }\n    };\n\n    /**\n     * Handle a CEA-608 channel and send decoded data to outputFilter\n     * @constructor\n     * @param {Number} channelNumber (1 or 2)\n     * @param {CueHandler} outputFilter Output from channel1 newCue(startTime, endTime, captionScreen)\n    */\n    var Cea608Channel = function Cea608Channel(channelNumber, outputFilter) {\n\n        this.chNr = channelNumber;\n        this.outputFilter = outputFilter;\n        this.mode = null;\n        this.verbose = 0;\n        this.displayedMemory = new CaptionScreen();\n        this.nonDisplayedMemory = new CaptionScreen();\n        this.lastOutputScreen = new CaptionScreen();\n        this.currRollUpRow = this.displayedMemory.rows[NR_ROWS - 1];\n        this.writeScreen = this.displayedMemory;\n        this.mode = null;\n        this.cueStartTime = null; // Keeps track of where a cue started.\n    };\n\n    Cea608Channel.prototype = {\n\n        modes: [\"MODE_ROLL-UP\", \"MODE_POP-ON\", \"MODE_PAINT-ON\", \"MODE_TEXT\"],\n\n        reset: function reset() {\n            this.mode = null;\n            this.displayedMemory.reset();\n            this.nonDisplayedMemory.reset();\n            this.lastOutputScreen.reset();\n            this.currRollUpRow = this.displayedMemory.rows[NR_ROWS - 1];\n            this.writeScreen = this.displayedMemory;\n            this.mode = null;\n            this.cueStartTime = null;\n            this.lastCueEndTime = null;\n        },\n\n        getHandler: function getHandler() {\n            return this.outputFilter;\n        },\n\n        setHandler: function setHandler(newHandler) {\n            this.outputFilter = newHandler;\n        },\n\n        setPAC: function setPAC(pacData) {\n            this.writeScreen.setPAC(pacData);\n        },\n\n        setBkgData: function setBkgData(bkgData) {\n            this.writeScreen.setBkgData(bkgData);\n        },\n\n        setMode: function setMode(newMode) {\n            if (newMode === this.mode) {\n                return;\n            }\n            this.mode = newMode;\n            logger.log(\"INFO\", \"MODE=\" + newMode);\n            if (this.mode == \"MODE_POP-ON\") {\n                this.writeScreen = this.nonDisplayedMemory;\n            } else {\n                this.writeScreen = this.displayedMemory;\n                this.writeScreen.reset();\n            }\n            if (this.mode !== \"MODE_ROLL-UP\") {\n                this.displayedMemory.nrRollUpRows = null;\n                this.nonDisplayedMemory.nrRollUpRows = null;\n            }\n            this.mode = newMode;\n        },\n\n        insertChars: function insertChars(chars) {\n            for (var i = 0; i < chars.length; i++) {\n                this.writeScreen.insertChar(chars[i]);\n            }\n            var screen = this.writeScreen === this.displayedMemory ? \"DISP\" : \"NON_DISP\";\n            logger.log(\"INFO\", screen + \": \" + this.writeScreen.getDisplayText(true));\n            if (this.mode === \"MODE_PAINT-ON\" || this.mode === \"MODE_ROLL-UP\") {\n                logger.log(\"TEXT\", \"DISPLAYED: \" + this.displayedMemory.getDisplayText(true));\n                this.outputDataUpdate();\n            }\n        },\n\n        cc_RCL: function cc_RCL() {\n            // Resume Caption Loading (switch mode to Pop On)\n            logger.log(\"INFO\", \"RCL - Resume Caption Loading\");\n            this.setMode(\"MODE_POP-ON\");\n        },\n        cc_BS: function cc_BS() {\n            // BackSpace\n            logger.log(\"INFO\", \"BS - BackSpace\");\n            if (this.mode === \"MODE_TEXT\") {\n                return;\n            }\n            this.writeScreen.backSpace();\n            if (this.writeScreen === this.displayedMemory) {\n                this.outputDataUpdate();\n            }\n        },\n        cc_AOF: function cc_AOF() {\n            // Reserved (formerly Alarm Off)\n            return;\n        },\n        cc_AON: function cc_AON() {\n            // Reserved (formerly Alarm On)\n            return;\n        },\n        cc_DER: function cc_DER() {\n            // Delete to End of Row\n            logger.log(\"INFO\", \"DER- Delete to End of Row\");\n            this.writeScreen.clearToEndOfRow();\n            this.outputDataUpdate();\n        },\n        cc_RU: function cc_RU(nrRows) {\n            //Roll-Up Captions-2,3,or 4 Rows\n            logger.log(\"INFO\", \"RU(\" + nrRows + \") - Roll Up\");\n            this.writeScreen = this.displayedMemory;\n            this.setMode(\"MODE_ROLL-UP\");\n            this.writeScreen.setRollUpRows(nrRows);\n        },\n        cc_FON: function cc_FON() {\n            //Flash On\n            logger.log(\"INFO\", \"FON - Flash On\");\n            this.writeScreen.setPen({ flash: true });\n        },\n        cc_RDC: function cc_RDC() {\n            // Resume Direct Captioning (switch mode to PaintOn)\n            logger.log(\"INFO\", \"RDC - Resume Direct Captioning\");\n            this.setMode(\"MODE_PAINT-ON\");\n        },\n        cc_TR: function cc_TR() {\n            // Text Restart in text mode (not supported, however)\n            logger.log(\"INFO\", \"TR\");\n            this.setMode(\"MODE_TEXT\");\n        },\n        cc_RTD: function cc_RTD() {\n            // Resume Text Display in Text mode (not supported, however)\n            logger.log(\"INFO\", \"RTD\");\n            this.setMode(\"MODE_TEXT\");\n        },\n        cc_EDM: function cc_EDM() {\n            // Erase Displayed Memory\n            logger.log(\"INFO\", \"EDM - Erase Displayed Memory\");\n            this.displayedMemory.reset();\n            this.outputDataUpdate();\n        },\n        cc_CR: function cc_CR() {\n            // Carriage Return\n            logger.log(\"CR - Carriage Return\");\n            this.writeScreen.rollUp();\n            this.outputDataUpdate();\n        },\n        cc_ENM: function cc_ENM() {\n            //Erase Non-Displayed Memory\n            logger.log(\"INFO\", \"ENM - Erase Non-displayed Memory\");\n            this.nonDisplayedMemory.reset();\n        },\n        cc_EOC: function cc_EOC() {\n            //End of Caption (Flip Memories)\n            logger.log(\"INFO\", \"EOC - End Of Caption\");\n            if (this.mode === \"MODE_POP-ON\") {\n                var tmp = this.displayedMemory;\n                this.displayedMemory = this.nonDisplayedMemory;\n                this.nonDisplayedMemory = tmp;\n                this.writeScreen = this.nonDisplayedMemory;\n                logger.log(\"TEXT\", \"DISP: \" + this.displayedMemory.getDisplayText());\n            }\n            this.outputDataUpdate();\n        },\n        cc_TO: function cc_TO(nrCols) {\n            // Tab Offset 1,2, or 3 columns\n            logger.log(\"INFO\", \"TO(\" + nrCols + \") - Tab Offset\");\n            this.writeScreen.moveCursor(nrCols);\n        },\n        cc_MIDROW: function cc_MIDROW(secondByte) {\n            // Parse MIDROW command\n            var styles = { flash: false };\n            styles.underline = secondByte % 2 === 1;\n            styles.italics = secondByte >= 0x2e;\n            if (!styles.italics) {\n                var colorIndex = Math.floor(secondByte / 2) - 0x10;\n                var colors = [\"white\", \"green\", \"blue\", \"cyan\", \"red\", \"yellow\", \"magenta\"];\n                styles.foreground = colors[colorIndex];\n            } else {\n                styles.foreground = \"white\";\n            }\n            logger.log(\"INFO\", \"MIDROW: \" + JSON.stringify(styles));\n            this.writeScreen.setPen(styles);\n        },\n\n        outputDataUpdate: function outputDataUpdate() {\n            var t = logger.time;\n            if (t === null) {\n                return;\n            }\n            if (this.outputFilter) {\n                if (this.outputFilter.updateData) {\n                    this.outputFilter.updateData(t, this.displayedMemory);\n                }\n                if (this.cueStartTime === null && !this.displayedMemory.isEmpty()) {\n                    // Start of a new cue\n                    this.cueStartTime = t;\n                } else {\n                    if (!this.displayedMemory.equals(this.lastOutputScreen)) {\n                        if (this.outputFilter.newCue) {\n                            this.outputFilter.newCue(this.cueStartTime, t, this.lastOutputScreen);\n                        }\n                        this.cueStartTime = this.displayedMemory.isEmpty() ? null : t;\n                    }\n                }\n                this.lastOutputScreen.copy(this.displayedMemory);\n            }\n        },\n\n        cueSplitAtTime: function cueSplitAtTime(t) {\n            if (this.outputFilter) {\n                if (!this.displayedMemory.isEmpty()) {\n                    if (this.outputFilter.newCue) {\n                        this.outputFilter.newCue(this.cueStartTime, t, this.displayedMemory);\n                    }\n                    this.cueStartTime = t;\n                }\n            }\n        }\n    };\n\n    /**\n     * Parse CEA-608 data and send decoded data to out1 and out2.\n     * @constructor\n     * @param {Number} field  CEA-608 field (1 or 2)\n     * @param {CueHandler} out1 Output from channel1 newCue(startTime, endTime, captionScreen)\n     * @param {CueHandler} out2 Output from channel2 newCue(startTime, endTime, captionScreen)\n     */\n    var Cea608Parser = function Cea608Parser(field, out1, out2) {\n        this.field = field || 1;\n        this.outputs = [out1, out2];\n        this.channels = [new Cea608Channel(1, out1), new Cea608Channel(2, out2)];\n        this.currChNr = -1; // Will be 1 or 2\n        this.lastCmdA = null; // First byte of last command\n        this.lastCmdB = null; // Second byte of last command\n        this.bufferedData = [];\n        this.startTime = null;\n        this.lastTime = null;\n        this.dataCounters = { 'padding': 0, 'char': 0, 'cmd': 0, 'other': 0 };\n    };\n\n    Cea608Parser.prototype = {\n\n        getHandler: function getHandler(index) {\n            return this.channels[index].getHandler();\n        },\n\n        setHandler: function setHandler(index, newHandler) {\n            this.channels[index].setHandler(newHandler);\n        },\n\n        /**\n         * Add data for time t in forms of list of bytes (unsigned ints). The bytes are treated as pairs.\n         */\n        addData: function addData(t, byteList) {\n            var cmdFound,\n                a,\n                b,\n                charsFound = false;\n\n            this.lastTime = t;\n            logger.setTime(t);\n\n            for (var i = 0; i < byteList.length; i += 2) {\n                a = byteList[i] & 0x7f;\n                b = byteList[i + 1] & 0x7f;\n                if (a === 0 && b === 0) {\n                    this.dataCounters.padding += 2;\n                    continue;\n                } else {\n                    logger.log(\"DATA\", \"[\" + numArrayToHexArray([byteList[i], byteList[i + 1]]) + \"] -> (\" + numArrayToHexArray([a, b]) + \")\");\n                }\n                cmdFound = this.parseCmd(a, b);\n                if (!cmdFound) {\n                    cmdFound = this.parseMidrow(a, b);\n                }\n                if (!cmdFound) {\n                    cmdFound = this.parsePAC(a, b);\n                }\n                if (!cmdFound) {\n                    cmdFound = this.parseBackgroundAttributes(a, b);\n                }\n                if (!cmdFound) {\n                    charsFound = this.parseChars(a, b);\n                    if (charsFound) {\n                        if (this.currChNr && this.currChNr >= 0) {\n                            var channel = this.channels[this.currChNr - 1];\n                            channel.insertChars(charsFound);\n                        } else {\n                            logger.log(\"WARNING\", \"No channel found yet. TEXT-MODE?\");\n                        }\n                    }\n                }\n                if (cmdFound) {\n                    this.dataCounters.cmd += 2;\n                } else if (charsFound) {\n                    this.dataCounters.char += 2;\n                } else {\n                    this.dataCounters.other += 2;\n                    logger.log(\"WARNING\", \"Couldn't parse cleaned data \" + numArrayToHexArray([a, b]) + \" orig: \" + numArrayToHexArray([byteList[i], byteList[i + 1]]));\n                }\n            }\n        },\n\n        /**\n         * Parse Command.\n         * @returns {Boolean} Tells if a command was found\n         */\n        parseCmd: function parseCmd(a, b) {\n            var chNr = null;\n\n            var cond1 = (a === 0x14 || a === 0x1C) && 0x20 <= b && b <= 0x2F;\n            var cond2 = (a === 0x17 || a === 0x1F) && 0x21 <= b && b <= 0x23;\n            if (!(cond1 || cond2)) {\n                return false;\n            }\n\n            if (a === this.lastCmdA && b === this.lastCmdB) {\n                this.lastCmdA = null;\n                this.lastCmdB = null; // Repeated commands are dropped (once)\n                logger.log(\"DEBUG\", \"Repeated command (\" + numArrayToHexArray([a, b]) + \") is dropped\");\n                return true;\n            }\n\n            if (a === 0x14 || a === 0x17) {\n                chNr = 1;\n            } else {\n                chNr = 2; // (a === 0x1C || a=== 0x1f)\n            }\n\n            var channel = this.channels[chNr - 1];\n\n            if (a === 0x14 || a === 0x1C) {\n                if (b === 0x20) {\n                    channel.cc_RCL();\n                } else if (b === 0x21) {\n                    channel.cc_BS();\n                } else if (b === 0x22) {\n                    channel.cc_AOF();\n                } else if (b === 0x23) {\n                    channel.cc_AON();\n                } else if (b === 0x24) {\n                    channel.cc_DER();\n                } else if (b === 0x25) {\n                    channel.cc_RU(2);\n                } else if (b === 0x26) {\n                    channel.cc_RU(3);\n                } else if (b === 0x27) {\n                    channel.cc_RU(4);\n                } else if (b === 0x28) {\n                    channel.cc_FON();\n                } else if (b === 0x29) {\n                    channel.cc_RDC();\n                } else if (b === 0x2A) {\n                    channel.cc_TR();\n                } else if (b === 0x2B) {\n                    channel.cc_RTD();\n                } else if (b === 0x2C) {\n                    channel.cc_EDM();\n                } else if (b === 0x2D) {\n                    channel.cc_CR();\n                } else if (b === 0x2E) {\n                    channel.cc_ENM();\n                } else if (b === 0x2F) {\n                    channel.cc_EOC();\n                }\n            } else {\n                //a == 0x17 || a == 0x1F\n                channel.cc_TO(b - 0x20);\n            }\n            this.lastCmdA = a;\n            this.lastCmdB = b;\n            this.currChNr = chNr;\n            return true;\n        },\n\n        /**\n         * Parse midrow styling command\n         * @returns {Boolean}\n         */\n        parseMidrow: function parseMidrow(a, b) {\n            var chNr = null;\n\n            if ((a === 0x11 || a === 0x19) && 0x20 <= b && b <= 0x2f) {\n                if (a === 0x11) {\n                    chNr = 1;\n                } else {\n                    chNr = 2;\n                }\n                if (chNr !== this.currChNr) {\n                    logger.log(\"ERROR\", \"Mismatch channel in midrow parsing\");\n                    return false;\n                }\n                var channel = this.channels[chNr - 1];\n                channel.cc_MIDROW(b);\n                logger.log(\"DEBUG\", \"MIDROW (\" + numArrayToHexArray([a, b]) + \")\");\n                return true;\n            }\n            return false;\n        },\n        /**\n         * Parse Preable Access Codes (Table 53).\n         * @returns {Boolean} Tells if PAC found\n         */\n        parsePAC: function parsePAC(a, b) {\n\n            var chNr = null;\n            var row = null;\n\n            var case1 = (0x11 <= a && a <= 0x17 || 0x19 <= a && a <= 0x1F) && 0x40 <= b && b <= 0x7F;\n            var case2 = (a === 0x10 || a === 0x18) && 0x40 <= b && b <= 0x5F;\n            if (!(case1 || case2)) {\n                return false;\n            }\n\n            if (a === this.lastCmdA && b === this.lastCmdB) {\n                this.lastCmdA = null;\n                this.lastCmdB = null;\n                return true; // Repeated commands are dropped (once)\n            }\n\n            chNr = a <= 0x17 ? 1 : 2;\n\n            if (0x40 <= b && b <= 0x5F) {\n                row = chNr === 1 ? rowsLowCh1[a] : rowsLowCh2[a];\n            } else {\n                // 0x60 <= b <= 0x7F\n                row = chNr === 1 ? rowsHighCh1[a] : rowsHighCh2[a];\n            }\n            var pacData = this.interpretPAC(row, b);\n            var channel = this.channels[chNr - 1];\n            channel.setPAC(pacData);\n            this.lastCmdA = a;\n            this.lastCmdB = b;\n            this.currChNr = chNr;\n            return true;\n        },\n\n        /**\n         * Interpret the second byte of the pac, and return the information.\n         * @returns {Object} pacData with style parameters.\n         */\n        interpretPAC: function interpretPAC(row, byte) {\n            var pacIndex = byte;\n            var pacData = { color: null, italics: false, indent: null, underline: false, row: row };\n\n            if (byte > 0x5F) {\n                pacIndex = byte - 0x60;\n            } else {\n                pacIndex = byte - 0x40;\n            }\n            pacData.underline = (pacIndex & 1) === 1;\n            if (pacIndex <= 0xd) {\n                pacData.color = ['white', 'green', 'blue', 'cyan', 'red', 'yellow', 'magenta', 'white'][Math.floor(pacIndex / 2)];\n            } else if (pacIndex <= 0xf) {\n                pacData.italics = true;\n                pacData.color = 'white';\n            } else {\n                pacData.indent = Math.floor((pacIndex - 0x10) / 2) * 4;\n            }\n            return pacData; // Note that row has zero offset. The spec uses 1.\n        },\n\n        /**\n         * Parse characters.\n         * @returns An array with 1 to 2 codes corresponding to chars, if found. null otherwise.\n         */\n        parseChars: function parseChars(a, b) {\n\n            var channelNr = null,\n                charCodes = null,\n                charCode1 = null;\n            //charCode2 = null;\n\n            if (a >= 0x19) {\n                channelNr = 2;\n                charCode1 = a - 8;\n            } else {\n                channelNr = 1;\n                charCode1 = a;\n            }\n            if (0x11 <= charCode1 && charCode1 <= 0x13) {\n                // Special character\n                var oneCode = b;\n                if (charCode1 === 0x11) {\n                    oneCode = b + 0x50;\n                } else if (charCode1 === 0x12) {\n                    oneCode = b + 0x70;\n                } else {\n                    oneCode = b + 0x90;\n                }\n                logger.log(\"INFO\", \"Special char '\" + getCharForByte(oneCode) + \"' in channel \" + channelNr);\n                charCodes = [oneCode];\n            } else if (0x20 <= a && a <= 0x7f) {\n                charCodes = b === 0 ? [a] : [a, b];\n            }\n            if (charCodes) {\n                var hexCodes = numArrayToHexArray(charCodes);\n                logger.log(\"DEBUG\", \"Char codes =  \" + hexCodes.join(\",\"));\n                this.lastCmdA = null;\n                this.lastCmdB = null;\n            }\n            return charCodes;\n        },\n\n        /**\n        * Parse extended background attributes as well as new foreground color black.\n        * @returns{Boolean} Tells if background attributes are found\n        */\n        parseBackgroundAttributes: function parseBackgroundAttributes(a, b) {\n            var bkgData, index, chNr, channel;\n\n            var case1 = (a === 0x10 || a === 0x18) && 0x20 <= b && b <= 0x2f;\n            var case2 = (a === 0x17 || a === 0x1f) && 0x2d <= b && b <= 0x2f;\n            if (!(case1 || case2)) {\n                return false;\n            }\n            bkgData = {};\n            if (a === 0x10 || a === 0x18) {\n                index = Math.floor((b - 0x20) / 2);\n                bkgData.background = backgroundColors[index];\n                if (b % 2 === 1) {\n                    bkgData.background = bkgData.background + \"_semi\";\n                }\n            } else if (b === 0x2d) {\n                bkgData.background = \"transparent\";\n            } else {\n                bkgData.foreground = \"black\";\n                if (b === 0x2f) {\n                    bkgData.underline = true;\n                }\n            }\n            chNr = a < 0x18 ? 1 : 2;\n            channel = this.channels[chNr - 1];\n            channel.setBkgData(bkgData);\n            this.lastCmdA = null;\n            this.lastCmdB = null;\n            return true;\n        },\n\n        /**\n         * Reset state of parser and its channels.\n         */\n        reset: function reset() {\n            for (var i = 0; i < this.channels.length; i++) {\n                if (this.channels[i]) {\n                    this.channels[i].reset();\n                }\n            }\n            this.lastCmdA = null;\n            this.lastCmdB = null;\n        },\n\n        /**\n         * Trigger the generation of a cue, and the start of a new one if displayScreens are not empty.\n         */\n        cueSplitAtTime: function cueSplitAtTime(t) {\n            for (var i = 0; i < this.channels.length; i++) {\n                if (this.channels[i]) {\n                    this.channels[i].cueSplitAtTime(t);\n                }\n            }\n        }\n    };\n\n    /**\n     * Find ranges corresponding to SEA CEA-608 NALUS in sizeprepended NALU array.\n     * @param {raw} dataView of binary data\n     * @param {startPos} start position in raw\n     * @param {size} total size of data in raw to consider\n     * @returns \n     */\n    var findCea608Nalus = function findCea608Nalus(raw, startPos, size) {\n        var nalSize = 0,\n            cursor = startPos,\n            nalType = 0,\n            cea608NaluRanges = [],\n\n\n        // Check SEI data according to ANSI-SCTE 128\n        isCEA608SEI = function isCEA608SEI(payloadType, payloadSize, raw, pos) {\n            if (payloadType !== 4 || payloadSize < 8) {\n                return null;\n            }\n            var countryCode = raw.getUint8(pos);\n            var providerCode = raw.getUint16(pos + 1);\n            var userIdentifier = raw.getUint32(pos + 3);\n            var userDataTypeCode = raw.getUint8(pos + 7);\n            return countryCode == 0xB5 && providerCode == 0x31 && userIdentifier == 0x47413934 && userDataTypeCode == 0x3;\n        };\n        while (cursor < startPos + size) {\n            nalSize = raw.getUint32(cursor);\n            nalType = raw.getUint8(cursor + 4) & 0x1F;\n            //console.log(time + \"  NAL \" + nalType);\n            if (nalType === 6) {\n                // SEI NAL Unit. The NAL header is the first byte\n                //console.log(\"SEI NALU of size \" + nalSize + \" at time \" + time);\n                var pos = cursor + 5;\n                var payloadType = -1;\n                while (pos < cursor + 4 + nalSize - 1) {\n                    // The last byte should be rbsp_trailing_bits\n                    payloadType = 0;\n                    var b = 0xFF;\n                    while (b === 0xFF) {\n                        b = raw.getUint8(pos);\n                        payloadType += b;\n                        pos++;\n                    }\n                    var payloadSize = 0;\n                    b = 0xFF;\n                    while (b === 0xFF) {\n                        b = raw.getUint8(pos);\n                        payloadSize += b;\n                        pos++;\n                    }\n                    if (isCEA608SEI(payloadType, payloadSize, raw, pos)) {\n                        //console.log(\"CEA608 SEI \" + time + \" \" + payloadSize);\n                        cea608NaluRanges.push([pos, payloadSize]);\n                    }\n                    pos += payloadSize;\n                }\n            }\n            cursor += nalSize + 4;\n        }\n        return cea608NaluRanges;\n    };\n\n    var extractCea608DataFromRange = function extractCea608DataFromRange(raw, cea608Range) {\n        var pos = cea608Range[0];\n        var fieldData = [[], []];\n\n        pos += 8; // Skip the identifier up to userDataTypeCode\n        var ccCount = raw.getUint8(pos) & 0x1f;\n        pos += 2; // Advance 1 and skip reserved byte\n\n        for (var i = 0; i < ccCount; i++) {\n            var byte = raw.getUint8(pos);\n            var ccValid = byte & 0x4;\n            var ccType = byte & 0x3;\n            pos++;\n            var ccData1 = raw.getUint8(pos); // Keep parity bit\n            pos++;\n            var ccData2 = raw.getUint8(pos); // Keep parity bit\n            pos++;\n            if (ccValid && (ccData1 & 0x7f) + (ccData2 & 0x7f) !== 0) {\n                //Check validity and non-empty data\n                if (ccType === 0) {\n                    fieldData[0].push(ccData1);\n                    fieldData[0].push(ccData2);\n                } else if (ccType === 1) {\n                    fieldData[1].push(ccData1);\n                    fieldData[1].push(ccData2);\n                }\n            }\n        }\n        return fieldData;\n    };\n\n    exports.logger = logger;\n    exports.PenState = PenState;\n    exports.CaptionScreen = CaptionScreen;\n    exports.Cea608Parser = Cea608Parser;\n    exports.findCea608Nalus = findCea608Nalus;\n    exports.extractCea608DataFromRange = extractCea608DataFromRange;\n})(typeof exports === 'undefined' ? undefined.cea608parser = {} : exports);\n\n},{}],40:[function(_dereq_,module,exports){\n\"use strict\";\n\n(function (exports) {\n    \"use strict\";\n\n    var C0_SET_START_CODE_CEA_708 = 0x0;\n    var C0_SET_END_CODE_CEA_708 = 0x1F;\n    var C0_SET_EXT_CODE_CEA_708 = 0x10;\n    var C0_SET_P10_CODE_CEA_708 = 0x18;\n    var C1_SET_START_CODE_CEA_708 = 0x80;\n    var C1_SET_Mid_CODE_CEA_708 = 0x8F;\n    var C1_SET_END_CODE_CEA_708 = 0x9F;\n\n    var G0_G2_SET_START_CODE_CEA_708 = 0x20;\n    var G0_G2_SET_END_CODE_CEA_708 = 0x7F;\n\n    var G1_G3_SET_START_CODE_CEA_708 = 0xA0;\n    //var G1_G3_SET_END_CODE_CEA_708 = 0xFF;\n    var ASCII_SPACE_CHAR = \" \";\n\n    var CC_DF0 = 0x98,\n        CC_DF7 = 0x9F,\n        CC_CW0 = 0x80,\n        CC_CW7 = 0x87,\n        CC_CLW = 0x88,\n        CC_DSW = 0x89,\n        CC_HDW = 0x8A,\n        CC_TGW = 0x8B,\n        CC_DLW = 0x8C,\n        CC_DLY = 0x8D,\n        CC_DLC = 0x8E,\n        CC_RET = 0x8F,\n        CC_SPA = 0x90,\n        CC_SPC = 0x91,\n        CC_SPL = 0x92,\n        CC_SWA = 0x97;\n\n    var NR_ROWS = 15,\n        NR_COLS = 32,\n        CC_WINDOWS = 8;\n\n    var CC708RGB_TIMESCALE = 85,\n\n    ///<255/3\n    COUNT_G2G3_CHARACTER = 0x1B,\n        CC_MAX_SERVICE_BLOCK_SIZE = 0x3F,\n        CC_MAX_SERVICE_NUM = 6;\n\n    if (typeof print_scrollDirection === 'undefined') {\n        var print_sDirection = {\n            LEFT_TO_RIGHT: 0,\n            RIGHT_TO_LEFT: 1,\n            TOP_TO_BOTTOM: 2,\n            BOTTOM_TO_TOP: 3\n        };\n    }\n\n    var ExtendedG2G3CodeMap = [[0x20, 0x20], [0x21, 0x20], [0x25, 0x2026], ///<Ellipsis\n    [0x2A, 0x0160], ///<\n    [0x2C, 0x0152], [0x30, 0x2588], ///<solid block\n    [0x31, 0x2018], [0x32, 0x2019], [0x33, 0x201C], [0x34, 0x201D], [0x35, 0x2022], [0x39, 0x2122], [0x3A, 0x0161], [0x3C, 0x0153], [0x3D, 0x2120], [0x3F, 0x0178], [0x76, 0x215B], [0x77, 0x215C], [0x78, 0x215D], [0x79, 0x215E], [0x7A, 0x2014], [0x7B, 0x2309], [0x7C, 0x230A], [0x7D, 0x2014], [0x7E, 0x230B], [0x7F, 0x2308], [0xA0, 0x201D]];\n\n    var PresetWinAttri = [[0x00, 0x00, 0x0C, 0x00], [0xC0, 0x00, 0x0C, 0x00], [0x00, 0x00, 0x0E, 0x00], [0x00, 0x00, 0x4C, 0x00], [0xC0, 0x00, 0x4C, 0x00], [0x00, 0x00, 0x4E, 0x00], [0x00, 0x00, 0x24, 0x00]];\n\n    var PresetPenAttri = [[0x05, 0x00], [0x05, 0x01], [0x05, 0x02], [0x05, 0x03], [0x05, 0x04], [0x05, 0x1B], [0x05, 0x1C]];\n\n    var PresetPenColor = [[0x2A, 0x00, 0x00], [0x2A, 0x00, 0x00], [0x2A, 0x00, 0x00], [0x2A, 0x00, 0x00], [0x2A, 0x00, 0x00], [0x2A, 0x30, 0x00], [0x2A, 0x30, 0x00]];\n\n    var R1B7 = function R1B7(d) {\n        return d >> 7;\n    };\n    var R1B6 = function R1B6(d) {\n        return d >> 6 & 0x01;\n    };\n    var R1B5 = function R1B5(d) {\n        return d >> 5 & 0x01;\n    };\n    var R1B4 = function R1B4(d) {\n        return d >> 4 & 0x01;\n    };\n    var R1B3 = function R1B3(d) {\n        return d >> 3 & 0x01;\n    };\n    // var R1B2 = function (d) {\n    //     return (d >> 2) & 0x01;\n    // };\n    // var R1B1 = function (d) {\n    //     return (d >> 1) & 0x01;\n    // };\n    //\n    // //\n    // var R1B0 = function (d) {\n    //     return d & 0x01;\n    // };\n    var R2B7 = function R2B7(d) {\n        return d >> 6;\n    };\n    // var R2B6 = function(d) {\n    //     return ((d >> 5) & 0x03);\n    // };\n    var R2B5 = function R2B5(d) {\n        return d >> 4 & 0x03;\n    };\n    // var R2B4 = function(d){\n    //     return ((d >> 3) & 0x03);\n    // };\n    var R2B3 = function R2B3(d) {\n        return d >> 2 & 0x03;\n    };\n    // var  R2B2 = function(d) {\n    //     return ((d >> 1) & 0x03);\n    // };\n    var R2B1 = function R2B1(d) {\n        return d & 0x03;\n    };\n\n    //\n    var R3B7 = function R3B7(d) {\n        return d >> 5;\n    };\n    // var R3B6 = function(d) {\n    //     return ((d >> 4) & 0x07);\n    // };\n    var R3B5 = function R3B5(d) {\n        return d >> 3 & 0x07;\n    };\n    // var R3B4 = function(d) {\n    //     return ((d >> 2) & 0x07);\n    // };\n    // var R3B3 = function(d) {\n    //     return ((d >> 1) & 0x07);\n    // };\n    var R3B2 = function R3B2(d) {\n        return d & 0x07;\n    };\n\n    //\n    var R4B7 = function R4B7(d) {\n        return d >> 4;\n    };\n    // var R4B6 = function(d) {\n    //     return ((d >> 3) & 0x0f);\n    // };\n    // var R4B5 = function(d) {\n    //     return ((d >> 2) & 0x0f);\n    // };\n    // var R4B4 = function(d) {\n    //     return ((d >> 1) & 0x0f);\n    // };\n    var R4B3 = function R4B3(d) {\n        return d & 0x0f;\n    };\n\n    //\n    // var R5B7 = function(d) {\n    //     return (d >> 3);\n    // };\n    // var R5B6 = function(d) {\n    //     return ((d >> 2) & 0x1f);\n    // };\n    // var R5B5 = function(d) {\n    //     return ((d >> 1) & 0x1f);\n    // };\n    var R5B4 = function R5B4(d) {\n        return d & 0x1f;\n    };\n\n    //\n    // var R6B7 = function(d) {\n    //     return (d >> 2);\n    // };\n    // var R6B6 = function(d) {\n    //     return ((d >> 1) & 0x3f);\n    // };\n    var R6B5 = function R6B5(d) {\n        return d & 0x3f;\n    };\n\n    //\n    // var R7B7 = function(d) {\n    //     return (d >> 1);\n    // };\n    var R7B6 = function R7B6(d) {\n        return d & 0x7f;\n    };\n\n    /**\n     * Simple logger class to be able to write with time-stamps and filter on level.\n     */\n    var logger = {\n        verboseFilter: { 'DATA': 3, 'DEBUG': 4, 'INFO': 2, 'WARNING': 2, 'TEXT': 1, 'ERROR': 0 },\n        time: null,\n        verboseLevel: 0, // Only write errors\n        setTime: function setTime(newTime) {\n            this.time = newTime;\n        },\n        log: function log(severity, msg) {\n            var minLevel = this.verboseFilter[severity];\n            if (this.verboseLevel >= minLevel) {\n                console.log(this.time + \" [\" + severity + \"] \" + msg);\n            }\n        },\n        setLogLevel: function setLogLevel(level) {\n            this.verboseLevel = level;\n        }\n    };\n\n    var numArrayToHexArray = function numArrayToHexArray(numArray) {\n        var hexArray = [];\n        for (var j = 0; j < numArray.length; j++) {\n            hexArray.push(numArray[j].toString(16));\n        }\n        return hexArray;\n    };\n\n    var isAttriValid = function isAttriValid(value, attri) {\n        return value.hasOwnProperty(attri);\n    };\n\n    var updateAttribute = function updateAttribute(attris, newValue, oldValue) {\n        for (var i = 0; i < attris.length; i++) {\n            var style = attris[i];\n            if (isAttriValid(newValue, style)) {\n                oldValue[style] = newValue[style];\n            }\n        }\n        return oldValue;\n    };\n\n    var TranslateRowNoToPos = function TranslateRowNoToPos(nRowNo, bSafeArea) {\n        bSafeArea = typeof bSafeArea == 'undefined' ? true : bSafeArea;\n        if (nRowNo > NR_ROWS) {\n            logger.log(\"ClosedCaption Error:Error nRowNo\");\n            return 0;\n        }\n        var Pos = nRowNo * 5;\n\n        if (bSafeArea) {\n            return Pos + 10;\n        }\n        return Pos;\n    };\n\n    var TranslatePosToRowNo = function TranslatePosToRowNo(nPos, bSafeArea) {\n        bSafeArea = typeof bSafeArea == 'undefined' ? true : bSafeArea;\n        var nRowNo = 0;\n        if (bSafeArea) {\n            nPos -= 10;\n        }\n        if (nPos === 0) {\n            return nRowNo;\n        }\n\n        nRowNo = nPos / 5;\n        return nRowNo;\n    };\n\n    var TranslateColNoToPos = function TranslateColNoToPos(nColumnNo, bSafeArea) {\n        bSafeArea = typeof bSafeArea == 'undefined' ? true : bSafeArea;\n        if (nColumnNo > 33) //to match isColumnNo is 32,and right col is 32+1;task 19956\n            {\n                logger.log(\"ClosedCaption Error:Error nColumnNo\");\n                return 0;\n            }\n        var Pos = parseInt(nColumnNo * 25 / 10);\n\n        if (bSafeArea) {\n            return Pos + 10;\n        }\n        return Pos;\n    };\n\n    // var TranslatePosToColNo = function(nPos, bSafeArea){\n    //     bSafeArea = typeof(bSafeArea) == 'undefined' ? true : bSafeArea;\n    //     var nColNo = 0;\n    //     if (bSafeArea)\n    //     {\n    //         nPos -= 10;\n    //     }\n    //     if (nPos === 0)\n    //     {\n    //         return 0;\n    //     }\n    //\n    //     nColNo = parseInt(nPos*10/25) + ((parseInt((nPos*10) % 25) === 0) ? 0 : 1);\n    //     return nColNo;\n    // };\n\n    var setRectPos = function setRectPos(rect, nMinRow, nMaxRow, nMinCol, nMaxCol, bSafeArea) {\n        bSafeArea = typeof bSafeArea == 'undefined' ? true : bSafeArea;\n\n        if (nMinRow < NR_ROWS) {\n            rect.Top = TranslateRowNoToPos(nMinRow, bSafeArea);\n        }\n        if (nMaxRow < NR_ROWS) {\n            rect.Bottom = TranslateRowNoToPos(nMaxRow + 1, bSafeArea);\n        }\n\n        if (nMinCol < NR_COLS) {\n            rect.Left = TranslateColNoToPos(nMinCol, bSafeArea);\n        }\n        if (nMaxCol < NR_COLS) {\n            rect.Right = TranslateColNoToPos(nMaxCol + 1, bSafeArea);\n        }\n        return rect;\n    };\n\n    var Color = function Color(red, green, blue, trans) {\n        this.Red = red || 0xFF;\n        this.Green = green || 0xFF;\n        this.Blue = blue || 0xFF;\n        this.Trans = trans || 0xFF;\n    };\n\n    Color.prototype = {\n        reset: function reset() {\n            //white\n            this.Red = 0xFF;\n            this.Green = 0xFF;\n            this.Blue = 0xFF;\n            this.Trans = 0xFF;\n        },\n\n        isDefault: function isDefault() {\n            return this.Red === 0xFF && this.Green === 0xFF && this.Blue === 0xFF && this.Trans === 0xFF;\n        },\n\n        setColor: function setColor(newColor) {\n            if (!newColor) {\n                return false;\n            }\n            // logger.log(\"DEBUG\", \"Color:\" + \"R:\" + newColor.Red + \" G:\" + newColor.Green + \" B:\" + newColor.Blue);\n            var attris = [\"Red\", \"Green\", \"Blue\", \"Trans\"];\n            updateAttribute(attris, newColor, this);\n            return true;\n        },\n        equals: function equals(other) {\n            return this.Red === other.Red && this.Green === other.Green && this.Blue === other.Blue && this.Trans === other.Trans;\n        }\n    };\n\n    var RectDisplayEffect = function RectDisplayEffect(effectType, effectDirection, effectSpeed) {\n        this.EffectType = effectType; ///<Refer to VOEFFECTTYPE\n        this.EffectDirection = effectDirection; ///<Refer to VOEFFECTDIRECTION\n        this.EffectSpeed = effectSpeed; ///<second\n    };\n\n    RectDisplayEffect.prototype = {\n        reset: function reset() {\n            this.EffectType = 0;\n            this.EffectDirection = 0;\n            this.EffectSpeed = 0;\n        },\n\n        setRectDisplayEffect: function setRectDisplayEffect(newRectDisplayEffect) {\n            if (!newRectDisplayEffect) {\n                return;\n            }\n            var attris = [\"EffectType\", \"EffectDirection\", \"EffectSpeed\"];\n            updateAttribute(attris, newRectDisplayEffect, this);\n        },\n\n        isDefault: function isDefault() {\n            return 0 === this.EffectType && 0 === this.EffectDirection && 0 === this.EffectSpeed;\n        }\n    };\n\n    var RectPos = function RectPos(top, left, bottom, right) {\n        this.Top = top || 0xFFFFFFFF; ///<0xFFFFFFFF indicates the default value\n        this.Left = left || 0xFFFFFFFF; ///<0xFFFFFFFF indicates the default value\n        this.Bottom = bottom || 0xFFFFFFFF; ///<0xFFFFFFFF indicates the default value\n        this.Right = right || 0xFFFFFFFF;\n    };\n\n    RectPos.prototype = {\n        reset: function reset() {\n            this.Top = 0xFFFFFFFF;\n            this.Left = 0xFFFFFFFF;\n            this.Bottom = 0xFFFFFFFF;\n            this.Right = 0xFFFFFFFF;\n        },\n\n        copy: function copy(newRect) {\n            this.Top = newRect.Top;\n            this.Left = newRect.Left;\n            this.Bottom = newRect.Bottom;\n            this.Right = newRect.Right;\n        },\n\n        setRect: function setRect(newRect) {\n            if (!newRect) {\n                return;\n            }\n\n            var attris = [\"Top\", \"Left\", \"Bottom\", \"Right\"];\n            updateAttribute(attris, newRect, this);\n\n            logger.log(\"DEBUG\", \"[setRect]\" + \", T:\" + this.Top + \"，L：\" + this.Left + \", B:\" + this.Bottom + \", R:\" + this.Right);\n        },\n\n        isDefault: function isDefault() {\n            return this.Top === 0xFFFFFFFF && this.Left === 0xFFFFFFFF && this.Bottom === 0xFFFFFFFF && this.Right === 0xFFFFFFFF;\n        }\n    };\n\n    var RectInfo = function RectInfo(bt, ZOrder) {\n        this.RectBorderType = bt; ///<Refer to VORECTBORDERTYPE\n        this.RectZOrder = ZOrder;\n        this.Rect = new RectPos();\n        this.RectBorderColor = new Color();\n        this.RectFillColor = new Color();\n        this.RectDisplayEffect = new RectDisplayEffect();\n    };\n\n    RectInfo.prototype = {\n        reset: function reset() {\n            this.RectBorderType = 0;\n            this.RectZOrder = 0;\n            this.Rect.reset();\n            this.RectBorderColor.reset();\n            this.RectFillColor.reset();\n            this.RectDisplayEffect.reset();\n        },\n\n        setRectInfo: function setRectInfo(newRectInfo) {\n            if (!newRectInfo) {\n                return;\n            }\n\n            if (isAttriValid(newRectInfo, \"RectBorderType\")) {\n                this.RectBorderType = newRectInfo.RectBorderType;\n            }\n            if (isAttriValid(newRectInfo, \"RectZOrder\")) {\n                this.RectZOrder = newRectInfo.RectZOrder;\n            }\n\n            if (isAttriValid(newRectInfo, \"Rect\")) {\n                this.Rect.setRect(newRectInfo.Rect);\n            }\n            if (isAttriValid(newRectInfo, \"RectBorderColor\")) {\n                this.RectBorderColor.setColor(newRectInfo.RectBorderColor);\n            }\n            if (isAttriValid(newRectInfo, \"RectFillColor\")) {\n                this.RectFillColor.setColor(newRectInfo.RectFillColor);\n            }\n            if (isAttriValid(newRectInfo, \"RectDisplayEffect\")) {\n                this.RectDisplayEffect.setRectDisplayEffect(newRectInfo.RectDisplayEffect);\n            }\n        },\n        isDefault: function isDefault() {\n            return 0 === this.RectBorderType && 0 === this.RectZOrder && this.Rect.isDefault() && this.RectBorderColor.isDefault() && this.RectFillColor.isDefault() && this.RectDisplayEffect.isDefault();\n        }\n\n    };\n\n    var FontEffectInfo = function FontEffectInfo(Italic, Underline, EdgeType, TxtTag, Offset) {\n        this.Italic = Italic || false;\n        this.Underline = Underline || false;\n        this.EdgeType = EdgeType;\n        this.TextTag = TxtTag;\n        this.Offset = Offset;\n        this.EdgeColor = new Color();\n    };\n\n    FontEffectInfo.prototype = {\n        reset: function reset() {\n            this.Italic = false;\n            this.Underline = false;\n            this.EdgeType = 0;\n            this.TextTag = 0;\n            this.Offset = 0;\n            this.EdgeColor.reset();\n        },\n\n        isDefault: function isDefault() {\n            return this.EdgeColor.isDefault() && !this.Underline && !this.Italic && this.EdgeType === 0 && this.TextTag === 0 && this.Offset === 0;\n        },\n\n        setFontEffectInfo: function setFontEffectInfo(NewFontEffectInfo) {\n            if (!NewFontEffectInfo) {\n                return false;\n            }\n            //logger.log(\"DEBUG\", \"[FontEffectInfo: setFontEffectInfo]\");\n            var attris = [\"Italic\", \"Underline\", \"EdgeType\", \"TxtTag\", \"Offset\"];\n            updateAttribute(attris, NewFontEffectInfo, this);\n            if (isAttriValid(NewFontEffectInfo, \"EdgeColor\")) {\n                this.EdgeColor.setColor(NewFontEffectInfo.EdgeColor);\n            }\n            return true;\n        },\n\n        equals: function equals(other) {\n            return this.Italic === other.Italic && this.Underline === other.Underline && this.EdgeType === other.EdgeType && this.TextTag === other.TextTag && this.Offset === other.Offset && this.EdgeColor.equals(other);\n        }\n    };\n\n    var FontInfo = function FontInfo(FontSize, FontStyle) {\n        this.FontSize = FontSize || 0;\n        this.FontStyle = FontStyle || 0;\n        this.FontColor = new Color();\n    };\n\n    FontInfo.prototype = {\n        reset: function reset() {\n            this.FontSize = 0;\n            this.FontStyle = 0;\n            this.FontColor.reset();\n        },\n\n        isDefault: function isDefault() {\n            return this.FontColor.isDefault() && this.FontSize === 0 && this.FontStyle === 0;\n        },\n\n        setFontInfo: function setFontInfo(NewFontInfo) {\n            if (!NewFontInfo) {\n                return false;\n            }\n            // logger.log(\"DEBUG\", \"[FontInfo: setFontInfo]\" + \" fontsize:\" + NewFontInfo.FonSize +\n            //     \" fontstyle:\" + NewFontInfo.FontStyle);\n            if (isAttriValid(NewFontInfo, \"FontSize\")) {\n                this.FontSize = NewFontInfo.FontSize;\n            }\n            if (isAttriValid(NewFontInfo, \"FontStyle\")) {\n                this.FontStyle = NewFontInfo.FontStyle;\n            }\n            if (isAttriValid(NewFontInfo, \"FontColor\")) {\n                this.FontColor.setColor(NewFontInfo.FontColor);\n            }\n            return true;\n        },\n\n        equals: function equals(other) {\n            return this.FontSize === other.FontSize && this.FontStyle === other.FontStyle && this.FontColor.equals(other.FontColor);\n        }\n    };\n\n    var CharInfo = function CharInfo(fontInfo, fontEffectInfo) {\n        this.FontInfo = new FontInfo(fontInfo);\n        this.FontEffectInfo = new FontEffectInfo(fontEffectInfo);\n    };\n\n    CharInfo.prototype = {\n        reset: function reset() {\n            this.FontInfo.reset();\n            this.FontEffectInfo.reset();\n        },\n\n        isDefault: function isDefault() {\n            return this.FontInfo.isDefault() && this.FontEffectInfo.isDefault();\n        },\n\n        setCharInfo: function setCharInfo(newCharInfo) {\n            if (!newCharInfo) {\n                return;\n            }\n            // logger.log(\"DEBUG\", \"[CharInfo: setCharInfo]\");\n            if (isAttriValid(newCharInfo, \"FontInfo\")) {\n                this.FontInfo.setFontInfo(newCharInfo.FontInfo);\n            }\n            if (isAttriValid(newCharInfo, \"FontEffectInfo\")) {\n                this.FontEffectInfo.setFontEffectInfo(newCharInfo.FontEffectInfo);\n            }\n        },\n\n        equals: function equals(other) {\n            return this.FontInfo.equals(other.FontInfo) && this.FontEffectInfo.equals(other.FontEffectInfo);\n        }\n    };\n\n    /**\n     * Unicode character with styling and background.\n     * @constructor\n     */\n    var StyledUnicodeChar = function StyledUnicodeChar(uchar, charInfo) {\n        this.uchar = uchar || ASCII_SPACE_CHAR; // unicode character\n        this.CharInfo = new CharInfo(charInfo);\n    };\n\n    StyledUnicodeChar.prototype = {\n\n        reset: function reset() {\n            this.uchar = ASCII_SPACE_CHAR;\n            this.CharInfo.reset();\n        },\n\n        setChar: function setChar(uchar, newCharInfo) {\n            this.uchar = uchar;\n            this.CharInfo.setCharInfo(newCharInfo);\n        },\n\n        setCharInfo: function setCharInfo(newCharInfo) {\n            this.CharInfo.setCharInfo(newCharInfo);\n        },\n\n        getCharInfo: function getCharInfo() {\n            return this.CharInfo;\n        },\n\n        equals: function equals(other) {\n            return this.uchar === other.uchar && this.CharInfo.equals(other.CharInfo);\n        },\n\n        // copy: function(newChar) {\n        //     this.uchar = newChar.uchar;\n        //     this.CharInfo.UpdateCharInfo(newChar.CharInfo);\n        // },\n\n        isEmpty: function isEmpty() {\n            return this.uchar === ASCII_SPACE_CHAR && this.CharInfo.isDefault();\n        }\n    };\n\n    var textDes = function textDes(hj, vj, pd) {\n        this.dataBox = new RectInfo();\n        this.hj = hj || 0;\n        this.vj = vj || 0;\n        this.pd = pd || 0;\n    };\n\n    textDes.prototype = {\n        reset: function reset() {\n            this.dataBox.reset();\n            this.hj = 0;\n            this.vj = 0;\n            this.pd = 0;\n        },\n        setTextDes: function setTextDes(newTextDes) {\n            if (!newTextDes) {\n                return false;\n            }\n            if (isAttriValid(newTextDes, \"dataBox\")) {\n                this.dataBox.setRectInfo(newTextDes.dataBox);\n            }\n\n            var attris = [\"hj\", \"vj\", \"pd\"];\n            updateAttribute(attris, newTextDes, this);\n\n            return true;\n        },\n\n        isDefault: function isDefault() {\n            return this.dataBox.isDefault() && 0 === this.hj && 0 === this.vj && 0 === this.pd;\n        }\n    };\n\n    var Cea708PenColor = function Cea708PenColor() {\n        this.fo = 0;\n        this.fr = 0;\n        this.fg = 0;\n        this.fb = 0;\n\n        this.bo = 0;\n        this.br = 0;\n        this.bg = 0;\n        this.bb = 0;\n\n        this.er = 0;\n        this.eg = 0;\n        this.eb = 0;\n    };\n    Cea708PenColor.prototype = {\n        load: function load(Arr, Size) {\n            if (3 > Size) {\n                logger.log(\"ERROR\", \"708ClosedCaption Error:PenColor less para\");\n                return 0;\n            }\n            this.fo = R2B7(Arr[0]);\n            this.fr = R2B5(Arr[0]);\n            this.fg = R2B3(Arr[0]);\n            this.fb = R2B1(Arr[0]);\n\n            this.bo = R2B7(Arr[1]);\n            this.br = R2B5(Arr[1]);\n            this.bg = R2B3(Arr[1]);\n            this.bb = R2B1(Arr[1]);\n\n            this.er = R2B5(Arr[2]);\n            this.eg = R2B3(Arr[2]);\n            this.eb = R2B1(Arr[2]);\n            return 3;\n        }\n\n    };\n\n    var Cea708PenAttri = function Cea708PenAttri() {\n        this.tt = 0;\n        this.o = 0;\n        this.s = 0;\n        this.i = 0;\n        this.u = 0;\n        this.et = 0;\n        this.fs = 0;\n    };\n\n    Cea708PenAttri.prototype = {\n        load: function load(Arr, Size) {\n            if (2 > Size) {\n                console.log(\"ERROR\", \"708 ClosedCaption Error:PenAttri less para\");\n                return 0;\n            }\n            this.tt = R4B7(Arr[0]);\n            this.o = R2B3(Arr[0]);\n            this.s = R2B1(Arr[0]);\n\n            this.i = R1B7(Arr[1]);\n            this.u = R1B6(Arr[1]);\n            this.et = R3B5(Arr[1]);\n            this.fs = R3B2(Arr[1]);\n            return 2;\n        }\n\n    };\n\n    var Cea708WinAttri = function Cea708WinAttri() {\n        this.fo = 0;\n        this.fr = 0;\n        this.fg = 0;\n        this.fb = 0;\n\n        this.bt0 = 0;\n        this.br = 0;\n        this.bg = 0;\n        this.bb = 0;\n\n        this.bt2 = 0;\n        this.ww = 0;\n        this.pd = 0;\n        this.sd = 0;\n        this.j = 0;\n\n        this.es = 0;\n        this.ed = 0;\n        this.de = 0;\n    };\n\n    Cea708WinAttri.prototype = {\n\n        load: function load(Arr, Size) {\n            if (4 > Size) {\n                logger.log(\"ERROR\", \"708 ClosedCaption Error:WindAttri less para\");\n                return 0;\n            }\n\n            this.fo = R2B7(Arr[0]);\n            this.fr = R2B5(Arr[0]);\n            this.fg = R2B3(Arr[0]);\n            this.fb = R2B1(Arr[0]);\n\n            this.bt0 = R2B7(Arr[1]);\n            this.br = R2B5(Arr[1]);\n            this.bg = R2B3(Arr[1]);\n            this.bb = R2B1(Arr[1]);\n\n            this.bt2 = R1B7(Arr[2]);\n            this.ww = R1B6(Arr[2]);\n            this.pd = R2B5(Arr[2]);\n            this.sd = R2B3(Arr[2]);\n            this.j = R2B1(Arr[2]);\n\n            this.es = R4B7(Arr[3]);\n            this.ed = R2B3(Arr[3]);\n            this.de = R2B1(Arr[3]);\n            return 4;\n        }\n    };\n\n    var lineInfo = function lineInfo(columnCnt) {\n        this.columnCnt = columnCnt || NR_COLS;\n        this.pos = 0;\n        this.text = [];\n        for (var i = 0; i < this.columnCnt; i++) {\n            this.text.push(new StyledUnicodeChar());\n        }\n        this.textDes = new textDes();\n    };\n    lineInfo.prototype = {\n        reset: function reset() {\n            this.pos = 0;\n            for (var i = 0; i < this.columnCnt; i++) {\n                this.text[i].reset();\n            }\n            this.textDes.reset();\n        },\n        isEmpty: function isEmpty() {\n            var empty = true;\n            for (var i = 0; i < this.columnCnt; i++) {\n                if (!this.text[i].isEmpty()) {\n                    empty = false;\n                    break;\n                }\n            }\n            return empty;\n        },\n\n        setTextDes: function setTextDes(newTextDes) {\n            this.textDes.setTextDes(newTextDes);\n        },\n\n        getTextDes: function getTextDes() {\n            return this.textDes;\n        },\n\n        insertTextInfo: function insertTextInfo(byte, strInfo) {\n            if (this.pos + byte.length > this.columnCnt) {\n                return false;\n            }\n\n            var char = String.fromCharCode(byte);\n            if (this.pos >= this.columnCnt) {\n                logger.log(\"ERROR\", \"Cannot insert \" + byte.toString(16) + \" (\" + char + \") at position \" + this.pos + \". Skipping it!\");\n                return false;\n            }\n            //console.log(\"textInfo len:%d, pos:%d\", this.text.length, this.pos);\n\n            this.text[this.pos].setChar(char, strInfo);\n            //console.log(\"textInfo char:\" + this.textInfo[this.pos].char + \", ori char:\" + char);\n            this.moveCursor(1);\n\n            return true;\n        },\n\n        moveAbsCursor: function moveAbsCursor(absPos) {\n            var relPos = absPos - this.pos;\n            this.moveCursor(relPos);\n        },\n\n        moveCursor: function moveCursor(relPos, bDel) {\n            bDel = typeof bDel === 'undefined' ? false : bDel;\n            var newPos = this.pos + relPos;\n            if (newPos > this.columnCnt) {\n                return 1;\n            }\n            if (0 === relPos) {\n                return 0;\n            }\n\n            if (relPos > 1) {\n                for (var i = this.pos + 1; i < newPos + 1; i++) {\n                    this.text[i].setChar(ASCII_SPACE_CHAR, this.text[this.pos].getCharInfo());\n                }\n            }\n            this.setCursor(newPos);\n        },\n\n        /**\n         *  Set the cursor to a valid column.\n         */\n        setCursor: function setCursor(absPos) {\n            if (this.pos !== absPos) {\n                this.pos = absPos;\n            }\n            if (this.pos < 0) {\n                logger.log(\"ERROR\", \"Negative cursor position \" + this.pos);\n                this.pos = 0;\n            } else if (this.pos > this.columnCnt) {\n                logger.log(\"ERROR\", \"Too large cursor position \" + this.pos);\n                this.pos = this.columnCnt;\n            }\n        },\n\n        getCursor: function getCursor() {\n            return this.pos;\n        },\n\n        clearFromPos: function clearFromPos(startPos) {\n            var i;\n            for (i = startPos; i < this.columnCnt; i++) {\n                this.text[i].uchar = ASCII_SPACE_CHAR;\n                this.text[i].CharInfo.reset();\n            }\n        },\n\n        clear: function clear() {\n            this.clearFromPos(0);\n            this.pos = 0;\n        },\n        getTextString: function getTextString() {\n            var chars = [];\n            var empty = true;\n            if (0 === this.pos) {\n                return \"\";\n            }\n            for (var i = 0; i < this.columnCnt; i++) {\n                var char = ' ';\n                if (this.text[i]) {\n                    char = this.text[i].uchar;\n                }\n                if (char !== \" \") {\n                    empty = false;\n                }\n                chars.push(char);\n            }\n            if (empty) {\n                return \"\";\n            } else {\n                return chars.join(\"\");\n            }\n        },\n\n        isEqual: function isEqual(other, pos) {\n            return this.textInfos[pos].char == other.textInfos[pos].char && this.textInfos[pos].stringInfo == other.textInfos[pos].stringInfo;\n        },\n\n        equals: function equals(other) {\n            var equal = true;\n            for (var i = 0; i < this.columnCnt; i++) {\n                if (!this.isEqual(other, i)) {\n                    equal = false;\n                    break;\n                }\n            }\n            return equal;\n        }\n    };\n\n    var textDescriptor = function textDescriptor(wrap, sd) {\n        this.wrap = wrap || 0;\n        this.sd = sd || 0;\n    };\n\n    textDescriptor.prototype = {\n        reset: function reset() {\n            this.wrap = 0;\n            this.sd = 0;\n        },\n\n        setTextDescriptor: function setTextDescriptor(newTextDes) {\n            var attris = [\"wrap\", \"sd\"];\n            updateAttribute(attris, newTextDes, this);\n        }\n    };\n\n    var Cea708Window = function Cea708Window(WindID, rowCnt, columnCnt) {\n        this.WindID = -1;\n        this.visible = false;\n        this.rl = 0;\n        this.cl = 0;\n        this.priority = 0;\n        this.rp = 0;\n        this.av = 0;\n        this.ah = 0;\n        this.ap = 0;\n        this.rc = 0;\n        this.cc = 0;\n        this.ws = 0;\n        this.ps = 0;\n        this.penColor = new Cea708PenColor();\n        this.penAttri = new Cea708PenAttri();\n        this.windAttri = new Cea708WinAttri();\n        this.update = false;\n\n        this.bAdjustRowFlag = false;\n        this.currRow = -1;\n        this.rowCnt = rowCnt || NR_ROWS;\n        this.columnCnt = columnCnt || NR_COLS;\n\n        this.rectInfo = new RectInfo();\n        this.textDisplayInfo = new textDescriptor();\n        this.curCharInfo = new CharInfo();\n        this.rowTextInfos = [];\n        for (var i = 0; i < this.rowCnt; i++) {\n            this.rowTextInfos.push(new lineInfo(this.columnCnt)); // Note that we use zero-based numbering (0-14)\n        }\n    };\n\n    Cea708Window.prototype = {\n\n        reset: function reset() {\n            this.WindID = -1;\n            this.visible = false;\n            this.update = false;\n\n            this.bAdjustRowFlag = false;\n            this.currRow = -1;\n            this.textDisplayInfo.reset();\n            this.resetTextInfo();\n        },\n        resetTextInfo: function resetTextInfo(bCLW) {\n            bCLW = typeof bCLW === 'undefined' ? false : bCLW;\n            for (var i = 0; i < this.rowTextInfos.length; i++) {\n                this.rowTextInfos[i].reset();\n            }\n            this.curCharInfo.reset();\n            if (!bCLW) {\n                this.rectInfo.reset();\n                this.rectInfo.RectBorderColor.Trans = 0;\n                this.rectInfo.RectFillColor.Trans = 0;\n            }\n        },\n\n        setCurrRow: function setCurrRow(row) {\n            if (!this.isRowValid(row)) {\n                return false;\n            }\n            logger.log(\"DEBUG\", \"[Cea708Window] \" + \"[setCurrRow] \" + row);\n            this.currRow = row;\n            return true;\n        },\n\n        getCurrRow: function getCurrRow() {\n            logger.log(\"DEBUG\", \"[Cea708Window] \" + \"[getCurrRow] \" + this.currRow);\n            return this.currRow;\n        },\n\n        isRowValid: function isRowValid(row) {\n            if (0 > row || this.rowCnt <= row) {\n                return false;\n            }\n            return true;\n        },\n\n        setRectInfo: function setRectInfo(newRectInfo) {\n            if (!newRectInfo) {\n                return;\n            }\n            console.log(\"[setRectInfo] windID:%d\", this.WindID);\n            this.rectInfo.setRectInfo(newRectInfo);\n        },\n\n        getRectInfo: function getRectInfo() {\n            console.log(\"[getRectInfo] windID:%d\", this.WindID);\n            return this.rectInfo;\n        },\n\n        setRowDes: function setRowDes(rowDes) {\n            for (var i = 0; i < this.rowCnt; i++) {\n                this.rowTextInfos[i].setTextDes(rowDes);\n            }\n        },\n\n        setTextDisplayInfo: function setTextDisplayInfo(newTextDisplayInfo) {\n            if (!newTextDisplayInfo) {\n                return;\n            }\n            this.textDisplayInfo.setTextDescriptor(newTextDisplayInfo);\n        },\n\n        setCharInfo: function setCharInfo(newCharInfo) {\n            if (!newCharInfo) {\n                return;\n            }\n            this.curCharInfo.setCharInfo(newCharInfo);\n        },\n\n        insertChars: function insertChars(chars) {\n            if (!this.isRowValid(this.currRow)) {\n                return false;\n            }\n            var rowInfo = this.rowTextInfos[this.currRow];\n            logger.log(\"DEBUG\", \"[window:insertChar] row:\" + this.currRow);\n            for (var i = 0; i < chars.length; i++) {\n                rowInfo.insertTextInfo(chars[i], this.curCharInfo);\n            }\n\n            this.UpdateWindInfo(true);\n\n            logger.log(\"DEBUG\", \"[cea708window: insertChars] chars:\" + this.getDisplayText(true));\n\n            // if(this.update){\n            //     logger.log(\"TEXT\", \"DISPLAYED: \" + this.getDisplayText(true));\n            //     this.outputDataUpdate();\n            // }\n            return true;\n        },\n\n        UpdateWindInfo: function UpdateWindInfo(bForce) {\n            bForce = typeof bForce == 'undefined' ? false : bForce;\n            if (this.visible || bForce) {\n                this.update = true;\n            }\n        },\n\n        cc_BS: function cc_BS() {\n            logger.log(\"708 Info: BS\");\n\n            if (this.isRowValid(this.currRow)) {\n                var pos = this.rowTextInfos[this.currRow].pos;\n                if (pos > 0) {\n                    this.rowTextInfos[this.currRow].moveCursor(-1);\n                }\n            }\n        },\n\n        cc_CR: function cc_CR() {\n            // Carriage Return\n            logger.log(\"708 CR - Carriage Return\");\n            // this.writeScreen.rollUp();\n            // this.outputDataUpdate();\n            if (!this.isRowValid(this.currRow)) {\n                return;\n            }\n\n            var winTopNo = TranslatePosToRowNo(this.rectInfo.Rect.Top);\n            var winBottomNo = TranslatePosToRowNo(this.rectInfo.Rect.Bottom) - 1;\n            // console.log(\"[708 CR - Carriage Return] CR, WinTop:%d, WinBottom:%d, CurRow:%d\",\n            //     winTopNo, winBottomNo, this.currRow);\n\n            if (winBottomNo >= this.getCurrRow() + 1) {\n                this.parseCRNonRollup();\n            } else {\n                this.parseCRRollup(winTopNo);\n            }\n        },\n\n        cc_HCR: function cc_HCR() {\n            //HCR\n            logger.log(\"708 HCR\");\n            if (this.isRowValid(this.currRow)) {\n                this.rowTextInfos[this.currRow].moveAbsCursor(0);\n            }\n            //this.outputDataUpdate();\n        },\n\n        parseCRNonRollup: function parseCRNonRollup() {\n            //console.log(\"[ParseCRNonRollup] pd:%d, sd:%d\", this.windAttri.pd, this.windAttri.sd);\n            switch (this.windAttri.pd) {\n                case print_sDirection.LEFT_TO_RIGHT:\n                    {\n                        if (print_sDirection.BOTTOM_TO_TOP == this.windAttri.sd) {\n                            this.setCurrRow(this.getCurrRow() + 1);\n                        } else if (print_sDirection.TOP_TO_BOTTOM == this.windAttri.sd) {\n                            this.setCurrRow(this.getCurrRow() - 1);\n                        }\n                        //console.log(\"row:%d, info:%p\", this.currRow, this.rowTextInfos[this.currRow]);\n                        this.rowTextInfos[this.currRow].moveAbsCursor(0);\n                        break;\n                    }\n                case print_sDirection.RIGHT_TO_LEFT:\n                    {\n                        if (print_sDirection.BOTTOM_TO_TOP == this.windAttri.sd) {\n                            this.setCurrRow(this.getCurrRow() + 1);\n                        } else if (print_sDirection.TOP_TO_BOTTOM == this.windAttri.sd) {\n                            this.setCurrRow(this.getCurrRow() - 1);\n                        }\n                        this.rowTextInfos[this.getCurrRow()].moveAbsCursor(TranslateColNoToPos(this.rectInfo.Rect.Right - 1));\n                        break;\n                    }\n                case print_sDirection.TOP_TO_BOTTOM:\n                    {\n                        if (print_sDirection.LEFT_TO_RIGHT == this.windAttri.sd) {\n                            this.rowTextInfos[this.currRow].moveCursor(-1);\n                        } else if (print_sDirection.RIGHT_TO_LEFT == this.windAttri.sd) {\n                            this.rowTextInfos[this.currRow].moveCursor(1);\n                        }\n                        this.setCurrRow(this.rectInfo.Rect.Top);\n                        break;\n                    }\n                case print_sDirection.BOTTOM_TO_TOP:\n                    {\n                        if (print_sDirection.LEFT_TO_RIGHT == this.windAttri.sd) {\n                            this.rowTextInfos[this.currRow].moveCursor(-1);\n                        } else if (print_sDirection.RIGHT_TO_LEFT == this.windAttri.sd) {\n                            this.rowTextInfos[this.currRow].moveCursor(1);\n                        }\n                        this.setCurrRow(this.rectInfo.Rect.Bottom - 1);\n                        break;\n                    }\n                default:\n                    break;\n            }\n        },\n\n        parseCRRollup: function parseCRRollup(winTopNo) {\n            winTopNo += 1;\n            if (this.isRowValid(this.currRow)) {\n                if (this.bAdjustRowFlag) {\n                    this.adjustRowWhenNoSPLCmd(this.getCurrRow());\n                } else {\n                    while (winTopNo <= this.getCurrRow()) {\n                        this.copyChar(winTopNo, winTopNo - 1);\n                        winTopNo++;\n                    }\n                }\n            }\n        },\n\n        adjustRowWhenNoSPLCmd: function adjustRowWhenNoSPLCmd(CurRowNo) {\n            var nWinMaxRow = TranslatePosToRowNo(this.rectInfo.Rect.Bottom) - 1;\n            // console.log(\"[adjustRowWhenNoSPLCmd] Flag:%d, CurRowNo:%d, nWinMaxRow:%d\", this.bAdjustRowFlag, CurRowNo, nWinMaxRow);\n\n            if (CurRowNo >= nWinMaxRow || 3 <= CurRowNo) {\n                this.setCurrRow(0);\n                for (var i = 0; i <= CurRowNo; i++) {\n                    if (this.rowTextInfos[i]) {\n                        this.rowTextInfos[i].moveAbsCursor(0);\n                    }\n                }\n            } else {\n                this.setCurrRow(CurRowNo + 1);\n                if (this.rowTextInfos[this.currRow]) {\n                    this.rowTextInfos[this.currRow].moveAbsCursor(0);\n                }\n            }\n        },\n\n        copyChar: function copyChar(srcRow, desRow) {\n            // console.log(\"[CopyChar] srcRow:%d, desRow:%d, m_RowCnt:%d, Charcnt:%d\",\n            //     srcRow, desRow, this.rowCnt, this.rowTextInfos[srcRow].pos);\n            if (srcRow >= this.rowCnt || desRow >= this.rowCnt || !this.rowTextInfos[srcRow].pos) {\n                return;\n            }\n\n            this.rowTextInfos[desRow].textInfos = this.rowTextInfos[srcRow].textInfos;\n            this.rowTextInfos[desRow].pos = this.rowTextInfos[srcRow].pos;\n            this.rowTextInfos[srcRow].pos = 0;\n        },\n\n        setAdjustRowFlag: function setAdjustRowFlag(bAdjustFlag) {\n            this.bAdjustRowFlag = bAdjustFlag;\n        },\n\n        /**\n         * Get all non-empty rows with as unicode text.\n         */\n        getDisplayText: function getDisplayText(asOneRow) {\n            asOneRow = asOneRow || false;\n            var displayText = [];\n            var text = \"\";\n            var rowNr = -1;\n            for (var i = 0; i < this.rowCnt; i++) {\n                var rowText = this.rowTextInfos[i].getTextString();\n                if (rowText) {\n                    rowNr = i;\n                    if (asOneRow) {\n                        displayText.push(\"Row \" + rowNr + ': \"' + rowText + '\"');\n                    } else {\n                        displayText.push(rowText.trim());\n                    }\n                }\n            }\n            if (displayText.length > 0) {\n                if (asOneRow) {\n                    text = \"[\" + displayText.join(\"|\") + \"]\";\n                } else {\n                    text = displayText.join(\"\\n\");\n                }\n            }\n            return text;\n        },\n\n        SetWindowRectInfo: function SetWindowRectInfo(nAnchorID, bRelPos, nAnchorVer, nAnchorHor, nRowCnt, nColCnt) {\n            var nMinRow = 0,\n                nMaxRow = 0,\n                nMinCol = 0,\n                nMaxCol = 0;\n            if (bRelPos) {\n                nMinRow = parseInt(nAnchorVer * NR_ROWS / 100);\n                nMinCol = parseInt(nAnchorHor * NR_COLS / 100);\n            } else {\n                nMinRow = parseInt(nAnchorVer / 5);\n                nMinCol = parseInt(nAnchorHor / 5);\n            }\n\n            if (1 === parseInt(nAnchorID / 3)) {\n                if (nMinRow >= parseInt(nRowCnt / 2)) {\n                    nMinRow = nMinRow - parseInt(nRowCnt / 2);\n                }\n            } else if (2 === parseInt(nAnchorID / 3)) {\n                if (nMinRow >= nRowCnt - 1) {\n                    nMinRow = nMinRow - (nRowCnt - 1);\n                }\n            }\n\n            if (parseInt(nAnchorID % 3) == 1) {\n                if (nMinCol >= parseInt(nColCnt / 2)) {\n                    nMinCol = nMinCol - parseInt(nColCnt / 2);\n                }\n            } else if (parseInt(nAnchorID % 3) == 2) {\n                if (nMinCol >= nColCnt - 1) {\n                    nMinCol = nMinCol - (nColCnt - 1);\n                }\n            }\n\n            nMaxRow = nMinRow + (nRowCnt - 1);\n            nMaxCol = nMinCol + (nColCnt - 1);\n\n            nMinRow = nMinRow > NR_ROWS - 1 ? NR_ROWS - 1 : nMinRow;\n            nMaxRow = nMaxRow > NR_ROWS - 1 ? NR_ROWS - 1 : nMaxRow;\n\n            nMinCol = nMinCol > NR_COLS - 1 ? NR_COLS - 1 : nMinCol;\n            nMaxCol = nMaxCol > NR_COLS - 1 ? NR_COLS - 1 : nMaxCol;\n\n            var rect = new RectPos();\n            if (!rect) {\n                return;\n            }\n            setRectPos(rect, nMinRow, nMaxRow, nMinCol, nMaxCol);\n            var rectInfo = { Rect: rect };\n            this.setRectInfo(rectInfo);\n        },\n\n        MapColor2RGB: function MapColor2RGB(uRed, uGreen, uBlue) {\n            if (uRed > 3 || uGreen > 3 || uBlue > 3) {\n                return null;\n            }\n            var voRGBValue = new Color();\n            voRGBValue.Red = uRed * CC708RGB_TIMESCALE;\n            voRGBValue.Green = uGreen * CC708RGB_TIMESCALE;\n            voRGBValue.Blue = uBlue * CC708RGB_TIMESCALE;\n            return voRGBValue;\n        },\n\n        SetWindowAttri: function SetWindowAttri(WinAttri, Arr, Size) {\n            var ret = WinAttri.load(Arr, Size);\n            var rowDes = { hj: parseInt(WinAttri.j % 3), pd: WinAttri.pd };\n            this.setRowDes(rowDes);\n\n            var rectBorderColor = this.MapColor2RGB(this.windAttri.br, this.windAttri.bg, this.windAttri.bb);\n            rectBorderColor.Trans = 0;\n            var rectFillColor = this.MapColor2RGB(this.windAttri.fr, this.windAttri.fg, this.windAttri.fb);\n            rectFillColor.Trans = 0;\n            switch (this.windAttri.fo) {\n                case 0:\n                case 1:\n                    rectFillColor.Trans = 0xFF; ///<100%\n                    break;\n                case 2:\n                    rectFillColor.Trans = 0xBF; ///<75%\n                    break;\n                case 3:\n                    rectFillColor.Trans = 0x0; ///<0%\n                    break;\n                default:\n                    break;\n            }\n\n            var rectInfo = { RectBorderType: this.windAttri.bt2 << 3 | this.windAttri.bt0,\n                RectBorderColor: rectBorderColor, RectFillColor: rectFillColor,\n                RectDisplayEffect: { EffectType: this.windAttri.de, EffectSpeed: this.windAttri.es,\n                    EffectDirection: this.windAttri.ed } };\n\n            this.setRectInfo(rectInfo);\n            this.setTextDisplayInfo({ wrap: this.windAttri.ww, sd: this.windAttri.sd });\n            this.UpdateWindInfo();\n            return ret;\n        },\n\n        SetPenAtti: function SetPenAtti(PenAttri, Arr, Size) {\n            var ret = PenAttri.load(Arr, Size);\n            var fontEffectInfo = { Italic: this.penAttri.i, Underline: this.penAttri.u,\n                EdgeType: this.penAttri.et, TextTag: this.penAttri.tt,\n                offSet: this.penAttri.o };\n            var fontInfo = { FontSize: this.penAttri.s, FontStyle: this.penAttri.fs };\n            var charInfo = { FontInfo: fontInfo, FontEffectInfo: fontEffectInfo };\n            this.setCharInfo(charInfo);\n\n            this.UpdateWindInfo();\n            //this.outputDataUpdate();\n            logger.log(\"DEBUG\", \"[wind: SetPenAtti]\");\n            return ret;\n        },\n\n        SetPenColor: function SetPenColor(PenColor, Arr, Size) {\n            var ret = PenColor.load(Arr, Size);\n\n            var fontColor = this.MapColor2RGB(this.penColor.fr, this.penColor.fb, this.penColor.fg);\n            if (0 === this.penColor.fo || 1 === this.penColor.fo) {\n                fontColor.Trans = 0xFF;\n            } else if (2 === this.penColor.fo) {\n                fontColor.Trans = 0xBF;\n            } else {\n                fontColor.Trans = 0x0;\n            }\n            var edgeColor = this.MapColor2RGB(this.penColor.er, this.penColor.eg, this.penColor.eb);\n            edgeColor.Trans = fontColor.Trans;\n            var charInfo = { FontInfo: { FontColor: fontColor }, FontEffectInfo: { EdgeColor: edgeColor } };\n            this.setCharInfo(charInfo);\n\n            var rectFillColor = this.MapColor2RGB(this.penColor.br, this.penColor.bg, this.penColor.bb);\n            if (this.penColor.bo === 0 || this.penColor.bo === 1) {\n                rectFillColor.Trans = 0xFF;\n            } else if (this.penColor.bo === 2) {\n                rectFillColor.Trans = 0xBF;\n            } else {\n                rectFillColor.Trans = 0x0;\n            }\n            var txtDes = new textDes();\n            txtDes.dataBox.RectFillColor = rectFillColor;\n            //this.setRowDes(txtDes);\n            this.setRowDes({ dataBox: { RectFillColor: rectFillColor } });\n\n            this.UpdateWindInfo();\n            //this.outputDataUpdate();\n            logger.log(\"DEBUG\", \"[wind: SetPenColor]\");\n            return ret;\n        },\n\n        load: function load(Arr, Size) {\n            if (7 > Size) {\n                logger.log(\"ERROR\", \"ClosedCaption Error:DFCommandPara less para\");\n                return Size;\n            }\n            this.WindID = R3B2(Arr[0]);\n            this.setVisible(R1B5(Arr[1]));\n            logger.log(\"DEBUG\", \"[wind: load] windID:\" + this.WindID, \", visible:\" + R1B5(Arr[1]));\n            this.rl = R1B4(Arr[1]);\n            this.cl = R1B3(Arr[1]);\n            this.priority = R3B2(Arr[1]);\n            //priority handle???\n\n            this.rp = R1B7(Arr[2]);\n            this.av = R7B6(Arr[2]);\n            this.ah = Arr[3];\n            this.ap = R4B7(Arr[4]);\n            this.rc = R4B3(Arr[4]);\n            this.rc += 1;\n\n            this.cc = R6B5(Arr[5]);\n            this.cc += 1;\n\n            this.SetWindowRectInfo(this.ap, this.rp, this.av, this.ah, this.rc, this.cc);\n            this.ws = R3B5(Arr[6]);\n            if (!this.ws) {\n                this.ws = 1;\n            }\n            this.ps = R3B2(Arr[6]);\n            if (!this.ps) {\n                this.ps = 1;\n            }\n\n            if (this.ws) {\n                this.SetWindowAttri(this.windAttri, PresetWinAttri[this.ws - 1], 4);\n            }\n\n            if (this.ps) {\n                this.SetPenAtti(this.penAttri, PresetPenAttri[this.ps - 1], 2);\n                this.SetPenColor(this.penColor, PresetPenColor[this.ps - 1], 3);\n            }\n\n            var currRectInfo = this.getRectInfo();\n            var winMinRow = TranslatePosToRowNo(currRectInfo.Rect.Top, true);\n            var winMaxRow = TranslatePosToRowNo(currRectInfo.Rect.Bottom, true) - 1;\n            var currRow = this.getCurrRow();\n            //console.log(\"load currRow:%d, minRow:%d, maxRow:%d\", currRow, winMinRow, winMaxRow);\n            if (this.isRowValid(currRow) && (currRow < winMinRow || currRow > winMaxRow)) {\n                var row = 0;\n                while (row < winMinRow) {\n                    this.rowTextInfos[currRow].clear();\n                    row++;\n                }\n                row = winMaxRow + 1;\n                while (row < this.rowCnt) {\n                    this.rowTextInfos[currRow].clear();\n                    row++;\n                }\n\n                this.setCurrRow(winMinRow);\n                if (3 === this.windAttri.sd) {\n                    this.setCurrRow(winMaxRow);\n                }\n            }\n            //this.outputDataUpdate();\n            return 7;\n        },\n\n        setVisible: function setVisible(bVisible) {\n            logger.log(\"DEBUG\", \"[setVisible]\" + \"this.visible:\" + this.visible + \", bVisible:\" + bVisible);\n            if (bVisible !== this.visible) {\n                this.UpdateWindInfo(true);\n                this.visible = bVisible;\n            }\n        },\n\n        isEmpty: function isEmpty() {\n            var empty = true;\n            for (var i = 0; i < this.rowCnt; i++) {\n                if (!this.rowTextInfos[i]) {\n                    continue;\n                }\n                if (!this.rowTextInfos[i].isEmpty()) {\n                    empty = false;\n                    break;\n                }\n            }\n            return empty;\n        },\n\n        equals: function equals(other) {\n            var equal = true;\n            for (var i = 0; i < this.rowCnt; i++) {\n                if (!this.rowTextInfos[i].equals(other.rowTextInfos[i])) {\n                    equal = false;\n                    break;\n                }\n            }\n            return equal;\n        },\n\n        getSubtitleData: function getSubtitleData() {\n            var subtitleDate = [];\n            var textInfo = [];\n            var row = TranslatePosToRowNo(this.getRectInfo().Rect.Top);\n            var maxRow = TranslatePosToRowNo(this.getRectInfo().Rect.Bottom) - 1;\n            maxRow = maxRow <= this.rowCnt - 1 ? maxRow : this.rowCnt - 1;\n            row = row <= maxRow ? row : 0;\n\n            while (row <= maxRow) {\n                if (!this.rowTextInfos[row].pos) {\n                    row++;\n                    continue;\n                }\n\n                textInfo.push(this.rowTextInfos[row]);\n                row++;\n            }\n\n            subtitleDate.push({\n                rectInfo: this.rectInfo,\n                TextRowInfo: textInfo,\n                TextDisplayInfo: this.TextDisplayInfo\n            });\n            return subtitleDate;\n        }\n    };\n\n    var captionScreen = function captionScreen(arr) {\n        this.captionArray = arr || null;\n        this.is708cc = true;\n    };\n\n    captionScreen.prototype = {\n        reset: function reset() {\n            for (var i = 0; i < this.captionArray.length; i++) {\n                this.captionArray[i].reset();\n            }\n        },\n\n        getDisplayText: function getDisplayText(asOneRow) {\n            asOneRow = asOneRow || false;\n            var displayText = [];\n            var text = \"\";\n            var winNr = -1;\n            if (!this.captionArray) {\n                return text;\n            }\n            for (var i = 0; i < this.captionArray.length; i++) {\n                if (!this.captionArray[i]) {\n                    continue;\n                }\n                var winText = this.captionArray[i].getDisplayText(asOneRow);\n                if (winText) {\n                    winNr = this.captionArray[i].WindID;\n                    if (asOneRow) {\n                        displayText.push(\"Window \" + winNr + ': \"' + winText + '\"');\n                    } else {\n                        displayText.push(winText.trim());\n                    }\n                }\n            }\n            if (displayText.length > 0) {\n                if (asOneRow) {\n                    text = \"[\" + displayText.join(\"|\") + \"]\";\n                } else {\n                    text = displayText.join(\"\\n\");\n                }\n            }\n            return text;\n        },\n        isEmpty: function isEmpty() {\n            var empty = true;\n            if (this.captionArray) {\n                for (var i = 0; i < this.captionArray.length; i++) {\n                    if (this.captionArray[i]) {\n                        if (!this.captionArray[i].isEmpty()) {\n                            empty = false;\n                            break;\n                        }\n                    }\n                }\n            }\n            return empty;\n        }\n    };\n\n    var outputData_Null = new Cea708Window();\n    outputData_Null.reset();\n    var rectInfo = { 'Rect': { 'Top': 0, 'Left': 0, 'Bottom': 14, 'Right': 31 } };\n    outputData_Null.setRectInfo(rectInfo);\n    outputData_Null.rectInfo.RectBorderColor.Trans = 0;\n    outputData_Null.rectInfo.RectFillColor.Trans = 0;\n    var Cea708parser = function Cea708parser(out) {\n        this.windows = [];\n        this.outputFilter = out;\n        for (var i = 0; i < CC_WINDOWS; i++) {\n            this.windows.push(new Cea708Window(i));\n        }\n        this.CurrWindID = -1;\n        this.bClearScreen = false;\n        this.cueStartTime = null; // Keeps track of where a cue started.\n        this.captionScreen = null;\n        this.startTime = null;\n        this.lastTime = null;\n        this.dataCounters = { 'padding': 0, 'char': 0, 'cmd': 0, 'other': 0 };\n    };\n\n    Cea708parser.prototype = {\n        reset: function reset() {\n            this.CurrWindID = -1;\n            this.bClearScreen = false;\n            this.cueStartTime = null;\n            for (var i = 0; i < this.windows.length; i++) {\n                if (this.windows[i]) {\n                    this.windows[i].reset();\n                }\n            }\n        },\n\n        getHandler: function getHandler() {\n            return this.outputFilter;\n        },\n\n        setHandler: function setHandler(newHandler) {\n            this.outputFilter = newHandler;\n        },\n\n        outputDataUpdate: function outputDataUpdate() {\n            this.captionScreen = new captionScreen(this.setOutputScreen());\n            console.log(\"captionText:\" + this.captionScreen.getDisplayText(true));\n\n            var t = logger.time;\n            if (t === null) {\n                logger.log(\"ERROR\", \"[outputDataUpdate]\" + \"t is null.\" + \", logger time:\" + logger.time);\n                return;\n            }\n\n            if (this.outputFilter) {\n                if (this.outputFilter.updateData) {\n                    this.outputFilter.updateData(t, this.captionScreen);\n                }\n                if (this.cueStartTime === null && !this.captionScreen.isEmpty()) {\n                    // Start of a new cue\n                    this.cueStartTime = t;\n                } else {\n                    if (this.outputFilter.newCue) {\n                        logger.log(\"DEBUG\", \"[outputDataUpdate]\" + \", startime:\" + this.cueStartTime + \", time:\" + t);\n                        this.outputFilter.newCue(this.cueStartTime, t, this.captionScreen);\n                    }\n                    this.cueStartTime = this.captionScreen.isEmpty() ? null : t;\n                }\n            }\n        },\n\n        cueSplitAtTime: function cueSplitAtTime(t) {\n            logger.log(\"DEBUG\", \"cueSplitAtTime: \" + t);\n            if (this.outputFilter) {\n                if (this.outputFilter.newCue) {\n                    this.outputFilter.newCue(this.cueStartTime, t, this.captionScreen);\n                }\n                this.cueStartTime = t;\n            }\n        },\n\n        setOutputScreen: function setOutputScreen() {\n            var captionArray = null; //[];\n            var bUpdate = false;\n            var i = 0;\n            for (i = 0; i < this.windows.length; i++) {\n                if (!this.windows[i]) {\n                    continue;\n                }\n                logger.log(\"DEBUG\", \"[setOutputScreen]\" + \"windID:\" + this.windows[i].WindID + \", update:\" + this.windows[i].update + \", visible:\" + this.windows[i].visible);\n                if (-1 != this.windows[i].WindID && this.windows[i].update) {\n                    bUpdate = true;\n                    break;\n                }\n            }\n            if (this.bClearScreen) {\n                this.bClearScreen = false;\n                captionArray = outputData_Null;\n            } else if (bUpdate) {\n                captionArray = this.getWindowsInfo();\n            } else {\n                captionArray = [null];\n            }\n\n            for (i = 0; i < this.windows.length; i++) {\n                if (this.windows[i] && this.windows[i].update) {\n                    this.windows[i].update = false;\n                }\n            }\n            return captionArray;\n        },\n\n        getWindInfo: function getWindInfo() {\n            var captionArray = [];\n            var empty = true;\n            for (var i = 0; i < this.windows.length; i++) {\n                if (!this.windows[i] || -1 === this.windows[i].WindID) {\n                    continue;\n                }\n                if (!this.windows[i].visible) {\n                    continue;\n                }\n                if (this.windows[i].isEmpty()) {\n                    continue;\n                }\n                empty = false;\n                var subtitleData = this.windows[i].getSubtitleData();\n                if (subtitleData.length) {\n                    captionArray.push(subtitleData);\n                    logger.log(\"DEBUG\", \"[getWindInfo]\" + \"wind:\" + this.windows[i].WindID + \", Text:\" + this.windows[i].getDisplayText(true));\n                }\n            }\n            if (empty) {\n                captionArray.push(outputData_Null);\n            }\n            return captionArray;\n        },\n\n        getWindowsInfo: function getWindowsInfo() {\n            var captionArray = [];\n            var empty = true;\n            for (var i = 0; i < this.windows.length; i++) {\n                if (!this.windows[i] || -1 === this.windows[i].WindID) {\n                    continue;\n                }\n                if (!this.windows[i].visible) {\n                    continue;\n                }\n                if (this.windows[i].isEmpty()) {\n                    continue;\n                }\n                empty = false;\n                // var subtitleData = this.windows[i].getSubtitleData();\n                if (ASCII_SPACE_CHAR != this.windows[i].getDisplayText(true)) {\n                    captionArray.push(this.windows[i]);\n                    //var text = captionArray[0].getDisplayText(true);\n                    logger.log(\"DEBUG\", \"[getWindInfo]\" + \"wind:\" + this.windows[i].WindID + \", Text:\" + this.windows[i].getDisplayText(true));\n                }\n            }\n            // if(empty){\n            //     captionArray.push(outputData_Null);\n            // }\n            return captionArray;\n        },\n\n        FindWindByID: function FindWindByID(windID) {\n            if (0 > windID || 7 < windID) {\n                return null;\n            }\n            if (windID === this.windows[windID].WindID) {\n                return this.windows[windID];\n            }\n        },\n\n        addData: function addData(t, byteList) {\n            this.lastTime = t;\n            logger.setTime(t);\n\n            var i = 0;\n            console.log(\"[ Cea708Parser:addData]:\" + \"time: \" + t);\n            // for(var j = 0; j < byteList.length; j ++){\n            //     console.log(\"%d(%s)\",  byteList[j], byteList[j].toString(16));\n            // }\n            while (i < byteList.length) {\n                var bExtCode = false;\n                if (C0_SET_EXT_CODE_CEA_708 === byteList[i]) {\n                    bExtCode = true;\n                    i += 1;\n                }\n                if (0 === byteList[i]) {\n                    this.dataCounters.padding += 1;\n                    i += 1;\n                    continue;\n                }\n                // else {\n                //     //logger.log(\"DATA\", \"[\" + numArrayToHexArray([byteList[i], byteList[i+1]]) +\"] -> (\" + numArrayToHexArray([a, b]) + \")\");\n                // }\n\n                if (G0_G2_SET_START_CODE_CEA_708 <= byteList[i] && G0_G2_SET_END_CODE_CEA_708 >= byteList[i] || G1_G3_SET_START_CODE_CEA_708 <= byteList[i]) {\n                    this.parseStandardChar(byteList[i], 1, bExtCode);\n                    this.dataCounters.char += 1;\n                    i += 1;\n                } else if (C0_SET_START_CODE_CEA_708 <= byteList[i] && C0_SET_END_CODE_CEA_708 >= byteList[i] || C1_SET_START_CODE_CEA_708 <= byteList[i] && C1_SET_END_CODE_CEA_708 >= byteList[i]) {\n                    var Tmpchar = byteList.slice(i);\n                    var DataSize = this.parseNonStandardChar(Tmpchar, byteList.length - i, bExtCode);\n                    i += DataSize;\n                    this.dataCounters.cmd += DataSize;\n                } else {\n                    this.dataCounters.other += 1;\n                    // console.log(\"Couldn't parse cleaned data[%d]:%d\", i, byteList[i]);\n                    //logger.log(\"WARNING\", \"Couldn't parse cleaned data \" + byteList[i]);\n                    // logger.log(\"WARNING\", \"Couldn't parse cleaned data \" +\n                    //     \" orig: \" + numArrayToHexArray([byteList[i], byteList[i+1]]));\n                    i += 1;\n                }\n            }\n            this.outputDataUpdate();\n        },\n\n        parseNonStandardChar: function parseNonStandardChar(Arr, size, ExtCode) {\n            logger.log(\"INFO\", \"[parseNonStandardChar] byte:\" + Arr[0].toString(16) + \"(\" + Arr[0] + \")\" + \", size:\" + size + \", ExtCode:\" + ExtCode);\n            var ret = 0;\n            if (C0_SET_START_CODE_CEA_708 <= Arr[0] && C0_SET_END_CODE_CEA_708 >= Arr[0]) {\n                if (ExtCode) {\n                    return Arr[0] / 8 + 1;\n                } else {\n                    ret = this.parseC0Code(Arr, size);\n                }\n            } else if (C1_SET_START_CODE_CEA_708 <= Arr[0] && C1_SET_END_CODE_CEA_708 >= Arr[0]) {\n                if (ExtCode) {\n                    if (C1_SET_Mid_CODE_CEA_708 >= Arr[0]) {\n                        return (Arr[0] - C1_SET_START_CODE_CEA_708) / 8 + 5;\n                    } else {\n                        if (2 > size) {\n                            logger.log(\"ERROR\", \"ClosedCaption Error:ParserC1 EXT Code size <2:%d\", size);\n                            return size;\n                        } else {\n                            return (Arr[1] & 0x1F) + 2;\n                        }\n                    }\n                } else {\n                    ret = this.parseC1Code(Arr, size);\n                }\n            }\n            //this.outputDataUpdate();\n            return ret;\n        },\n\n        parseC0Code: function parseC0Code(Arr, size) {\n            var ret = 1;\n            if (C0_SET_EXT_CODE_CEA_708 <= Arr[0] && C0_SET_P10_CODE_CEA_708 > Arr[0]) {\n                ret = 2;\n            } else if (C0_SET_P10_CODE_CEA_708 <= Arr[0] && C0_SET_END_CODE_CEA_708 >= Arr[0]) {\n                ret = 3;\n            } else if (size < ret) {\n                logger.log(\"ERROR\", \"ClosedCaption Error:ParserC0Code cbInputData < ret:%d:%d\", size, ret);\n                return size;\n            }\n\n            if (0 <= this.CurrWindID && 7 >= this.CurrWindID) {\n                var CurrWind = this.FindWindByID(this.CurrWindID);\n                if (!CurrWind) {\n                    return ret;\n                }\n\n                CurrWind.UpdateWindInfo(false);\n\n                switch (Arr[0]) {\n                    case 0x3:\n                        {\n                            //ETX\n                            break;\n                        }\n                    case 0x8:\n                        {\n                            //BS\n                            CurrWind.cc_BS();\n                            break;\n                        }\n                    case 0xC:\n                        {\n                            CurrWind.resetTextInfo(true);\n                            var currRectInfo = CurrWind.getRectInfo();\n                            var windowTopNo = TranslatePosToRowNo(currRectInfo.Rect.Top, true);\n                            CurrWind.setCurrRow(windowTopNo);\n                            break;\n                        }\n                    case 0xD:\n                        {\n                            //CR\n                            CurrWind.cc_CR();\n                            break;\n                        }\n                    case 0xE:\n                        {\n                            //HCR\n                            CurrWind.cc_HCR();\n                            break;\n                        }\n                    case 0x10:\n                        {\n                            logger.log(\"DEBUG\", \"ClosedCaption Error:EXT1 should not exist here\");\n                            break;\n                        }\n                    case 0x18:\n                        {\n                            logger.log(\"DEBUG\", \"ClosedCaption Error:not supported P16\");\n                            break;\n                        }\n                    default:\n                        break;\n                }\n            }\n\n            return ret;\n        },\n\n        parseC1Code: function parseC1Code(Arr, size) {\n            var ret = 0;\n            if (CC_DF0 <= Arr[0] && CC_DF7 >= Arr[0]) {\n                this.CurrWindID = Arr[0] - CC_DF0;\n                var CurrWind = this.windows[this.CurrWindID];\n                if (!CurrWind) {\n                    return ret;\n                }\n                CurrWind.reset();\n                ret = CurrWind.load(Arr, size);\n            } else if (CC_CW0 <= Arr[0] && CC_CW7 >= Arr[0]) {\n                this.CurrWindID = Arr[0] - CC_CW0;\n                ret = 1;\n            } else {\n                switch (Arr[0]) {\n                    case CC_CLW:\n                        {\n                            ret = this.parseCLWCode(Arr, size);\n                        }\n                        break;\n                    case CC_DSW:\n                        {\n                            ret = this.parseDSWCode(Arr, size);\n                        }\n                        break;\n                    case CC_HDW:\n                        {\n                            ret = this.parseHDWCode(Arr, size);\n                        }\n                        break;\n                    case CC_TGW:\n                        {\n                            ret = this.parseTGWCode(Arr, size);\n                        }\n                        break;\n                    case CC_DLW:\n                        {\n                            ret = this.parseDLWCode(Arr, size);\n                        }\n                        break;\n                    case CC_DLY:\n                        {\n                            ret = 2;\n                        }\n                        break;\n                    case CC_DLC:\n                        {\n                            ret = 1;\n                        }\n                        break;\n                    case CC_RET:\n                        {\n                            logger.log(\"DEBUG\", \"[CC_RET] CurrWindID:\" + this.CurrWindID);\n                            var wind = this.FindWindByID(this.CurrWindID);\n                            if (wind) {\n                                wind.reset();\n                            }\n\n                            ret = 1;\n                        }\n                        break;\n                    case CC_SPA:\n                        {\n                            ret = this.parseSPACode(Arr, size);\n                        }\n                        break;\n                    case CC_SPC:\n                        {\n                            ret = this.parseSPCCode(Arr, size);\n                        }\n                        break;\n                    case CC_SPL:\n                        {\n                            ret = this.parseSPLCode(Arr, size);\n                        }\n                        break;\n                    case CC_SWA:\n                        {\n                            ret = this.parseSWACode(Arr, size);\n                        }\n                        break;\n                    default:\n                        {\n                            ///<0x93~0x96\n                            ret = 1;\n                        }\n                        break;\n                }\n            }\n            return ret;\n        },\n\n        parseCLWCode: function parseCLWCode(Arr, size) {\n            var dwWinID = 0,\n                bitValue = 1;\n            if (2 > size) {\n                logger.log(\"ERROR\", \"ClosedCaption Error:CLW less para\");\n                return size;\n            }\n            while (8 > dwWinID) {\n                if (Arr[1] & bitValue) {\n                    var wind = this.FindWindByID(dwWinID);\n                    if (!wind) {\n                        return 2;\n                    }\n                    wind.resetTextInfo(true);\n                    wind.UpdateWindInfo();\n                    var currRectInfo = wind.getRectInfo();\n                    var windowTopNo = TranslatePosToRowNo(currRectInfo.Rect.Top, true);\n                    wind.setCurrRow(windowTopNo);\n                }\n                bitValue *= 2;\n                dwWinID++;\n            }\n            return 2;\n        },\n\n        parseDSWCode: function parseDSWCode(Arr, size) {\n            if (2 > size) {\n                logger.log(\"ERROR\", \"ClosedCaption Error:DSW less para\");\n                return size;\n            }\n            var dwWinID = 0,\n                bitValue = 1;\n            while (8 > dwWinID) {\n                if (Arr[1] & bitValue) {\n                    var CurWin = this.FindWindByID(dwWinID);\n                    if (CurWin) {\n                        CurWin.setVisible(true);\n                    }\n                }\n                bitValue *= 2;\n                dwWinID++;\n            }\n            return 2;\n        },\n\n        parseHDWCode: function parseHDWCode(Arr, size) {\n            if (2 > size) {\n                logger.log(\"ERROR\", \"ClosedCaption Error:HDW less para\");\n                return size;\n            }\n            var dwWinID = 0,\n                bitValue = 1;\n            while (8 > dwWinID) {\n                if (Arr[1] & bitValue) {\n                    var CurWin = this.FindWindByID(dwWinID);\n                    if (CurWin) {\n                        CurWin.setVisible(false);\n                    }\n                }\n                bitValue *= 2;\n                dwWinID++;\n            }\n            return 2;\n        },\n\n        parseTGWCode: function parseTGWCode(Arr, size) {\n            if (2 > size) {\n                logger.log(\"ERROR\", \"ClosedCaption Error:TGW less para\");\n                return size;\n            }\n            var dwWinID = 0,\n                bitValue = 1;\n            while (8 > dwWinID) {\n                if (Arr[1] & bitValue) {\n                    var CurWin = this.FindWindByID(dwWinID);\n                    if (CurWin) {\n                        CurWin.setVisible((CurWin.visible + 1) % 2);\n                    }\n                }\n                bitValue *= 2;\n                dwWinID++;\n            }\n            return 2;\n        },\n\n        parseDLWCode: function parseDLWCode(Arr, size) {\n            if (2 > size) {\n                logger.log(\"ERROR\", \"ClosedCaption Error:DLW less para\");\n                return size;\n            }\n            var dwWinID = 0,\n                bitValue = 1;\n            while (8 > dwWinID) {\n                if (Arr[1] & bitValue) {\n                    if (dwWinID == this.CurrWindID) {\n                        this.windows[this.CurrWindID].reset();\n                        this.CurrWindID = -1;\n                        this.bClearScreen = true;\n                    }\n                }\n                bitValue *= 2;\n                dwWinID++;\n            }\n            return 2;\n        },\n\n        parseSPACode: function parseSPACode(Arr, size) {\n            if (3 > size) {\n                logger.log(\"ERROR\", \"ClosedCaption Error:SPA less para\");\n                return size;\n            }\n\n            var CurWin = this.FindWindByID(this.CurrWindID);\n            if (CurWin) {\n                var newArr = Arr.slice(1);\n                CurWin.SetPenAtti(CurWin.penAttri, newArr, size - 1);\n            }\n            return 3;\n        },\n\n        parseSPCCode: function parseSPCCode(Arr, size) {\n            if (4 > size) {\n                logger.log(\"ERROR\", \"ClosedCaption Error:SPC less para\");\n                return size;\n            }\n\n            var curWin = this.FindWindByID(this.CurrWindID);\n            if (curWin) {\n                var newArr = Arr.slice(1);\n                curWin.SetPenColor(curWin.penColor, newArr, size - 1);\n            }\n            return 4;\n        },\n\n        parseSPLCode: function parseSPLCode(Arr, size) {\n            if (2 > size) {\n                logger.log(\"ERROR\", \"ClosedCaption Error:SPL less para\");\n                return size;\n            }\n\n            var curWind = this.FindWindByID(this.CurrWindID);\n            if (!curWind) {\n                return size > 2 ? 3 : 2;\n            }\n\n            var nWindowTopNo = TranslatePosToRowNo(curWind.getRectInfo().Rect.Top);\n            var nCurRelRow = R4B3(Arr[1]);\n            curWind.setCurrRow(nWindowTopNo + nCurRelRow);\n            var colNo = 0;\n            if (2 < size) colNo = R6B5(Arr[2]);\n\n            var curRow = curWind.getCurrRow();\n            if (curWind.isRowValid(curRow)) {\n                if (curWind.rowTextInfos[curRow].pos > 0) {\n                    curWind.rowTextInfos[curRow].moveAbsCursor(colNo);\n                } else {\n                    curWind.rowTextInfos[curRow].setCursor(colNo);\n                }\n            }\n            curWind.UpdateWindInfo(false);\n            return size > 2 ? 3 : 2;\n        },\n\n        parseSWACode: function parseSWACode(Arr, size) {\n            if (5 > size) {\n                logger.log(\"ERROR\", \"ClosedCaption Error:SWA less para\");\n                return size;\n            }\n            var curWind = this.FindWindByID(this.CurrWindID);\n            if (curWind) {\n                var newArr = Arr.slice(1);\n                curWind.SetWindowAttri(curWind.windAttri, newArr, size - 1);\n            }\n            return 5;\n        },\n\n        parseStandardChar: function parseStandardChar(char, size, ExtCode) {\n            logger.log(\"INFO\", \"[parseStandardChar] byte:\" + char.toString(16) + \"(\" + char + \")\" + \", size:\" + size + \", ExtCode:\" + ExtCode + \", curWindID:\" + this.CurrWindID);\n            var nUniCode = char,\n                charCodes = null;\n            if (ExtCode) {\n                var nSpeCharCnt = 0;\n                for (; nSpeCharCnt < COUNT_G2G3_CHARACTER; nSpeCharCnt++) {\n                    if (nUniCode == ExtendedG2G3CodeMap[nSpeCharCnt][0]) {\n                        nUniCode = ExtendedG2G3CodeMap[nSpeCharCnt][1];\n                        break;\n                    }\n                }\n                if (COUNT_G2G3_CHARACTER == nSpeCharCnt) {\n                    nUniCode = 0x5F;\n                }\n            } else if (nUniCode == 0x7F) {\n                nUniCode = 0x266A;\n            }\n            charCodes = [nUniCode];\n            if (charCodes) {\n                var hexCodes = numArrayToHexArray(charCodes);\n                logger.log(\"DEBUG\", \"708 Char codes =  \" + hexCodes.join(\",\"));\n\n                if (this.CurrWindID >= 0) {\n                    var wind = this.FindWindByID(this.CurrWindID);\n                    if (wind) {\n                        if (-1 === wind.getCurrRow()) {\n                            var rectInfo = wind.getRectInfo();\n                            if (rectInfo) {\n                                var windTop = TranslatePosToRowNo(rectInfo.Rect.Top);\n                                wind.setCurrRow(windTop);\n                                wind.setAdjustRowFlag(true);\n                            }\n                        }\n                        wind.insertChars(charCodes);\n                        //this.outputDataUpdate();\n                    }\n                } else {\n                    logger.log(\"WARNING\", \"No window found yet.\");\n                }\n                return true;\n            }\n\n            return false;\n        }\n    };\n\n    var serviceData = function serviceData() {\n        this.serData = [];\n        this.serDataSize = 0;\n    };\n    serviceData.prototype = {\n        reset: function reset() {\n            this.serDataSize = 0;\n            this.serData = [];\n        },\n        saveSerDate: function saveSerDate(data) {\n            this.serData = this.serData.concat(data);\n        }\n    };\n\n    var Cea708ServiceBlock = function Cea708ServiceBlock() {\n        this.allserDataSize = 0;\n        this.serData = [];\n        for (var i = 1; i <= CC_MAX_SERVICE_NUM; i++) {\n            this.serData[i] = new serviceData();\n        }\n    };\n\n    Cea708ServiceBlock.prototype = {\n        reset: function reset() {\n            for (var i = 1; i < this.serData.length; i++) {\n                this.serData[i].reset();\n            }\n            this.allserDataSize = 0;\n        },\n\n        extractCea708DataFromService: function extractCea708DataFromService(serviceData, len) {\n            this.reset();\n            var tmpSize = len;\n            var tmpDataIndex = 0;\n            while (tmpSize > 0) {\n                var serviceNo = R3B7(serviceData[tmpDataIndex]);\n                var blockSize = R5B4(serviceData[tmpDataIndex]);\n                tmpSize--;\n                tmpDataIndex++;\n                if (0 === serviceNo) {\n                    if (0 !== blockSize) {\n                        logger.log(\"ERROR\", \"[extractCea708DataFromService] Error:serviceNo is 0,but blockSize is not 0\");\n                    }\n                    return this.allserDataSize; ///<once NULL service block,there are no more service block need to be processed\n                }\n                if (7 == serviceNo && 0 < blockSize) {\n                    serviceNo = R6B5(serviceData[tmpDataIndex]);\n                    tmpSize--;\n                    tmpDataIndex++;\n                }\n\n                if (blockSize > len - tmpDataIndex) {\n                    blockSize = len - tmpDataIndex;\n                    logger.log(\"DEBUG\", \"[extractCea708DataFromService] ServiceBlock Packet size bigger than nBlockSize\");\n                }\n                if (this.allserDataSize + blockSize > CC_MAX_SERVICE_BLOCK_SIZE) {\n                    logger.log(\"DEBUG\", \"[extractCea708DataFromService] ServiceBlock Packet Out of Memory\");\n                    blockSize = 63 - this.allserDataSize;\n                }\n                var tmpBuffer = serviceData.slice(tmpDataIndex, blockSize + tmpDataIndex);\n                if (this.serData[serviceNo]) {\n                    this.serData[serviceNo].saveSerDate(tmpBuffer);\n                    this.serData[serviceNo].serDataSize += blockSize;\n                    this.allserDataSize += blockSize;\n                }\n\n                tmpDataIndex += blockSize;\n                tmpSize -= blockSize;\n            }\n            return this.allserDataSize;\n        }\n    };\n\n    var Cea708PacketParser = function Cea708PacketParser() {\n        this.seqNo = -1;\n        this.packetSize = 0;\n        this.serviceBlock = new Cea708ServiceBlock();\n        this.lastSeqNo = -1;\n        this.serNoSetting = 1;\n    };\n\n    Cea708PacketParser.prototype = {\n        reset: function reset() {\n            this.seqNo = -1;\n            this.packetSize = 0;\n            this.serviceBlok.reset();\n            this.lastSeqNo = -1;\n            this.serNoSetting = 1;\n        },\n\n        extractCea708DataFromPacket: function extractCea708DataFromPacket(ccData) {\n            this.seqNo = R2B7(ccData[0]);\n            if (this.lastSeqNo != -1 && this.seqNo != (this.lastSeqNo + 1) % 4) {\n                logger.log(\"DEBUG\", \"[extractCea708DataFromPacket] Error:DTVCCCaption Packet lost.\" + \" lastSeqNo: \" + this.lastSeqNo + \" SeqNo: \" + this.seqNo); ///<we should add packet lost handle\n            }\n            this.lastSeqNo = this.seqNo;\n            this.packetSize = R6B5(ccData[0]);\n            if (!this.packetSize) {\n                this.packetSize = 128;\n            } else {\n                this.packetSize = this.packetSize * 2 - 1;\n            }\n            if (this.packetSize > ccData.length - 1) {\n                this.packetSize = ccData.length - 1;\n                logger.log(\"DEBUG\", \"[extractCea708DataFromPacket] Error:DTVCCCaption Packet size bigger than nPacketSize\");\n            }\n            var tmpData = ccData.slice(1);\n            return this.serviceBlock.extractCea708DataFromService(tmpData, this.packetSize);\n        }\n    };\n\n    exports.logger = logger;\n    exports.Cea708parser = Cea708parser;\n    exports.Cea708PacketParser = Cea708PacketParser;\n    exports.setRectPos = setRectPos;\n    exports.RectPos = RectPos;\n})(typeof exports === 'undefined' ? undefined.cea708parser = {} : exports);\n\n},{}],41:[function(_dereq_,module,exports){\n'use strict';\n\n//import cea608parser from 'cea608-parser';\n//import cea708parser from 'cea708-parser';\n//import cea608parser from 'E:/xampp/htdocs/dash.js/externals/cea608-parser';\n//import cea608parser from './cea608-parser';\n\nvar cea608Parser = _dereq_(39);\nvar cea708Parser = _dereq_(40);\n//var cea708Parser = require('./cea708-parser - v1');\n(function (exports) {\n\n    // if(typeof cc_Type === \"undefined\") {\n    //     var cc_Type = {\n    //         CEA_NO708AND608: 0x00,\n    //         CEA_608: 0x02,\n    //         CEA_708: 0x04,\n    //         CEA_708AND608: 0x06\n    //     };\n    // }\n    //\n    // if(typeof caption_Type === \"undefined\") {\n    //     var caption_Type = {\n    //         VO_CAPTION_TYPE_EIA608: 0,\n    //         VO_CAPTION_TYPE_EIA708: 1,\n    //         VO_CAPTION_TYPE_DEFAULT_608: 2,\n    //         VO_CAPTION_TYPE_DEFAULT_708: 3,\n    //         VO_CAPTION_TYPE_ARIB: 4\n    //     };\n    // }\n    var CEA_NO708AND608 = 0x00,\n        CEA_608 = 0x02,\n        CEA_708 = 0x04,\n        CEA_708AND608 = 0x06,\n        VO_CAPTION_TYPE_EIA608 = 0,\n        VO_CAPTION_TYPE_EIA708 = 1,\n        VO_CAPTION_TYPE_DEFAULT_608 = 2,\n        VO_CAPTION_TYPE_DEFAULT_708 = 3;\n    //VO_CAPTION_TYPE_ARIB = 4;\n\n    var INVALID_608CC_VALUE = 0x80;\n    // MAX_FIELD_NUM = 2;\n\n    var logger = {\n        verboseFilter: { 'DATA': 3, 'DEBUG': 3, 'INFO': 2, 'WARNING': 2, 'TEXT': 1, 'ERROR': 0 },\n        time: null,\n        verboseLevel: 0, // Only write errors\n        setTime: function setTime(newTime) {\n            this.time = newTime;\n        },\n        log: function log(severity, msg) {\n            var minLevel = this.verboseFilter[severity];\n            if (this.verboseLevel >= minLevel) {\n                console.log(this.time + \" [\" + severity + \"] \" + msg);\n            }\n        },\n        setLogLevel: function setLogLevel(level) {\n            this.verboseLevel = level;\n        }\n    };\n\n    //var numArrayToHexArray = function(numArray) {\n    //    var hexArray = [];\n    //    for (var j = 0; j < numArray.length; j++) {\n    //        hexArray.push(numArray[j].toString(16));\n    //    }\n    //    return hexArray;\n    //};\n\n    var ccParserType = CEA_NO708AND608,\n        allCCType = CEA_NO708AND608;\n\n    var ceaParserManager = function ceaParserManager(trackID, out1, out2) {\n        this.trackID = trackID;\n        this.outputs = [out1, out2];\n        this.ceaParserType = VO_CAPTION_TYPE_EIA608;\n        this.ceaParser = null;\n    };\n\n    ceaParserManager.prototype = {\n        reset: function reset() {\n            this.ceaParserType = VO_CAPTION_TYPE_EIA608;\n            this.ceaParser.reset();\n        },\n\n        getHandler: function getHandler() {\n            return this.ceaParser.getHandler();\n        },\n\n        setHandler: function setHandler(newHandler) {\n            this.ceaParser.setHandler(newHandler);\n        },\n\n        setCeaParserType: function setCeaParserType(type) {\n            if (this.ceaParserType != type) {\n                this.ceaParserType = type;\n            }\n            //console.log(\"INFO\", \"setCeaParserType\" + \" this.ceaParserType:\" + this.ceaParserType +\n            //\" ccParserType:\" + type);\n        },\n\n        CreateCeaParser: function CreateCeaParser(trackID, out1, out2) {\n            if ('608_1' == trackID) {\n                this.ceaParser = new cea608Parser.Cea608Parser(0, out1, out2);\n                if (!this.ceaParser) {\n                    return false;\n                }\n                //disable output the log message except the error message\n                cea608Parser.logger.setLogLevel(0);\n            } else if ('608_3' == trackID) {\n                this.ceaParser = new cea608Parser.Cea608Parser(1, out1, out2);\n                if (!this.ceaParser) {\n                    return false;\n                }\n                // cea608Parser.logger.setLogLevel(3);\n            } else {\n                this.ceaParser = new cea708Parser.Cea708parser(out1);\n                if (!this.ceaParser) {\n                    return false;\n                }\n                //disable output the log message except the error message\n                cea708Parser.logger.setLogLevel(0);\n            }\n            return true;\n        },\n\n        addData: function addData(t, byteList) {\n            //console.log(\"ceaParserManager addData trackID:\" + this.trackID +\n            //    \",byte:\" + numArrayToHexArray(byteList).join(\",\"));\n\n            if (!this.ceaParser) {\n                this.CreateCeaParser(this.trackID, this.outputs[0], this.outputs[1]);\n            }\n            if (this.ceaParser) {\n                this.ceaParser.addData(t, byteList);\n            }\n        },\n\n        cueSplitAtTime: function cueSplitAtTime(t) {\n            if (this.ceaParser) {\n                this.ceaParser.cueSplitAtTime(t);\n            }\n        }\n    };\n\n    /**\n     * Find ranges corresponding to SEA CEA-608 NALUS in sizeprepended NALU array.\n     * @param {raw} dataView of binary data\n     * @param {startPos} start position in raw\n     * @param {size} total size of data in raw to consider\n     * @returns\n     */\n    var findCeaNalus = function findCeaNalus(raw, startPos, size) {\n        var nalSize = 0,\n            cursor = startPos,\n            nalType = 0,\n            cea608NaluRanges = [],\n\n\n        // Check SEI data according to ANSI-SCTE 128\n        isCEA608SEI = function isCEA608SEI(payloadType, payloadSize, raw, pos) {\n            if (payloadType !== 4 || payloadSize < 8) {\n                return null;\n            }\n            var countryCode = raw.getUint8(pos);\n            var providerCode = raw.getUint16(pos + 1);\n            var userIdentifier = raw.getUint32(pos + 3);\n            var userDataTypeCode = raw.getUint8(pos + 7);\n            return countryCode == 0xB5 && providerCode == 0x31 && userIdentifier == 0x47413934 && userDataTypeCode == 0x3;\n        };\n        while (cursor < startPos + size) {\n            nalSize = raw.getUint32(cursor);\n            nalType = raw.getUint8(cursor + 4) & 0x1F;\n            //console.log(time + \"  NAL \" + nalType);\n            if (nalType === 6) {\n                // SEI NAL Unit. The NAL header is the first byte\n                //console.log(\"SEI NALU of size \" + nalSize + \" cursor:\" + cursor);\n                var pos = cursor + 5;\n                var payloadType = -1;\n                while (pos < cursor + 4 + nalSize - 1) {\n                    // The last byte should be rbsp_trailing_bits\n                    payloadType = 0;\n                    var b = 0xFF;\n                    while (b === 0xFF) {\n                        b = raw.getUint8(pos);\n                        payloadType += b;\n                        pos++;\n                    }\n                    var payloadSize = 0;\n                    b = 0xFF;\n                    while (b === 0xFF) {\n                        b = raw.getUint8(pos);\n                        payloadSize += b;\n                        pos++;\n                    }\n                    if (isCEA608SEI(payloadType, payloadSize, raw, pos)) {\n                        //console.log(\"CEA608 SEI \" + time + \" \" + payloadSize);\n                        // console.log(\"[findCeaNalus] pos:%d, payloadsize:%d, nalType:%d, nalSize:%d, cursor:%d\",\n                        //     pos, payloadSize, nalType, nalSize, cursor);\n                        // console.log(\" nal data:\" + raw.getUint8(cursor).toString(16), raw.getUint8(cursor + 1).toString(16),\n                        //     raw.getUint8(cursor + 2).toString(16),raw.getUint8(cursor + 3).toString(16),\n                        // raw.getUint8(cursor + 4).toString(16));\n                        //remove the 8 byte userDataTypeCode\n                        cea608NaluRanges.push([pos + 8, payloadSize - 8]);\n                    }\n                    pos += payloadSize;\n                }\n            }\n            cursor += nalSize + 4;\n        }\n        return cea608NaluRanges;\n    };\n\n    var packetData = [];\n    var packetParser = new cea708Parser.Cea708PacketParser();\n    var extractCeaDataFromRange = function extractCeaDataFromRange(raw, cea608Range) {\n        var pos = cea608Range[0];\n        var fieldData = [[], [], [], [], [], [], [], []],\n            isValid608Data = function isValid608Data(valid, data1, data2, ccType) {\n            if (0 === valid) {\n                return false;\n            }\n            if (0 !== ccType && 1 !== ccType) {\n                return false;\n            }\n            if (INVALID_608CC_VALUE == data1 && INVALID_608CC_VALUE == data2 || 0x0 === data1 && 0x0 === data2 || (data1 & 0x7f) + (data2 & 0x7f) === 0) {\n                return false;\n            }\n            return true;\n        },\n            isValid708Data = function isValid708Data(valid, data1, data2, ccType) {\n            if (0 === valid) {\n                return false;\n            }\n            if (2 !== ccType && 3 !== ccType) {\n                return false;\n            }\n            if (0x0 === data1 && 0x0 === data2) {\n                return false;\n            }\n            return true;\n        },\n            whatCCDataTypeHave = function whatCCDataTypeHave(type, ccType, ccValid, data1, data2) {\n            if (isValid608Data(ccValid, data1, data2, ccType)) {\n                return type | CEA_608;\n            }\n\n            if (isValid708Data(ccValid, data1, data2, ccType)) {\n                return type | CEA_708;\n            }\n\n            return type;\n        },\n            setParserType = function setParserType(type) {\n            //console.log(\"setParserType type:%d\", type);\n            var b608Valid = false,\n                b708Valid = false;\n            switch (type) {\n                case CEA_NO708AND608:\n                    {\n                        b608Valid = false;\n                        b708Valid = false;\n                        break;\n                    }\n                case CEA_708:\n                    {\n                        b708Valid = true;\n                        break;\n                    }\n                case CEA_608:\n                    {\n                        b608Valid = true;\n                        break;\n                    }\n                case CEA_708AND608:\n                    {\n                        b608Valid = true;\n                        b708Valid = true;\n                        break;\n                    }\n                default:\n                    {\n                        b608Valid = false;\n                        b708Valid = false;\n                        break;\n                    }\n            }\n\n            if (!b608Valid && !b708Valid) {\n                return false;\n            }\n            if (ccParserType == VO_CAPTION_TYPE_EIA608) {\n                if (b708Valid) {\n                    ccParserType = VO_CAPTION_TYPE_EIA708;\n                }\n            } else if (ccParserType == VO_CAPTION_TYPE_EIA708) {\n                if (!b708Valid && b608Valid) {\n                    ccParserType = VO_CAPTION_TYPE_EIA608;\n                }\n            } else if (ccParserType == VO_CAPTION_TYPE_DEFAULT_608) {\n                if (b608Valid) {\n                    ccParserType = VO_CAPTION_TYPE_EIA608;\n                } else ccParserType = VO_CAPTION_TYPE_EIA708;\n            } else if (ccParserType == VO_CAPTION_TYPE_DEFAULT_708) {\n                if (b708Valid) {\n                    ccParserType = VO_CAPTION_TYPE_EIA708;\n                } else ccParserType = VO_CAPTION_TYPE_EIA608;\n            }\n\n            return true;\n        },\n            CheckCCDataType = function CheckCCDataType(type) {\n            if (allCCType != type) {\n                if (CEA_708AND608 != allCCType) {\n                    allCCType = allCCType | type;\n                }\n            }\n            //console.log(\"[CheckCCDataType] allCCType:%d, type:%d\", allCCType, type);\n            setParserType(allCCType);\n        },\n            reset = function reset() {\n            packetData = [];\n        },\n            is708End = function is708End(len, ccType, ccValid) {\n            if (len > 0 && (ccType === 3 && ccValid === 1 || ccValid === 0)) {\n                return true;\n            }\n            return false;\n        },\n            get708CCData = function get708CCData() {\n            //console.log(\"[get708CCData] len:\" + packetData.length + \", packetData:\" + numArrayToHexArray(packetData));\n            var dataSize = packetParser.extractCea708DataFromPacket(packetData);\n            if (dataSize) {\n                for (var serviceNO = 1; serviceNO < packetParser.serviceBlock.serData.length; serviceNO++) {\n                    if (packetParser.serviceBlock.serData[serviceNO].serData.length) {\n                        fieldData[serviceNO + 1] = fieldData[serviceNO + 1].concat(packetParser.serviceBlock.serData[serviceNO].serData);\n                        // console.log(\"[get708CCData] ccData:\" + numArrayToHexArray(fieldData[serviceNO + 1]) +\n                        //     \", len:\" + fieldData[serviceNO + 1].length + \", serviceNO:\" + serviceNO);\n                    }\n                }\n            }\n        },\n            restructCCData = function restructCCData(srcData) {\n            var arr = [];\n            for (var i = 0; i < srcData.length; i++) {\n                if (0 < srcData[i].length) {\n                    if (0 === i) {\n                        arr.push([\"608_1\", srcData[i]]);\n                    } else if (1 == i) {\n                        arr.push([\"608_3\", srcData[i]]);\n                    } else {\n                        arr.push([\"708_\" + (i - 1).toString(), srcData[i]]);\n                    }\n                }\n            }\n            return arr;\n        };\n        //pos += 8; // Skip the identifier up to userDataTypeCode\n        var ccCount = raw.getUint8(pos) & 0x1f;\n        pos += 2; // Advance 1 and skip reserved byte\n        var type = 0;\n        for (var i = 0; i < ccCount; i++) {\n            var byte = raw.getUint8(pos);\n            var ccValid = (byte & 0x4) >> 2;\n            var ccType = byte & 0x3;\n\n            pos++;\n            var ccData1 = raw.getUint8(pos); // Keep parity bit\n            pos++;\n            var ccData2 = raw.getUint8(pos); // Keep parity bit\n            pos++;\n            //console.log(\" [extractCeaDataFromRange]count:%d, ccType:%d, i:%d,valid:%d\", ccCount, ccType, i, ccValid);\n            //console.log(\"[extractCeaDataFromRange] data1:\" + ccData1.toString(16) + \" data2:\" + ccData2.toString(16));\n            var typeTmp = whatCCDataTypeHave(type, ccType, ccValid, ccData1, ccData2);\n            type = typeTmp;\n            if (isValid608Data(ccValid, ccData1, ccData2, ccType)) {\n                //Check validity and non-empty data\n                if (ccType === 0) {\n                    fieldData[0].push(ccData1);\n                    fieldData[0].push(ccData2);\n                } else if (ccType === 1) {\n                    fieldData[1].push(ccData1);\n                    fieldData[1].push(ccData2);\n                }\n            } else if (ccType === 2 || ccType === 3) {\n                if (is708End(packetData.length, ccType, ccValid)) {\n                    get708CCData();\n                    reset();\n                    i--;\n                    pos -= 3;\n                } else if (isValid708Data(ccValid, ccData1, ccData2, ccType)) {\n                    packetData.push(ccData1);\n                    packetData.push(ccData2);\n                }\n            }\n        }\n        CheckCCDataType(type);\n        var ccData = restructCCData(fieldData);\n        return ccData;\n    };\n\n    exports.logger = logger;\n    exports.ceaParserManager = ceaParserManager;\n    exports.findCeaNalus = findCeaNalus;\n    exports.extractCeaDataFromRange = extractCeaDataFromRange;\n})(typeof exports === 'undefined' ? undefined.ceaParserManager = {} : exports);\n\n},{\"39\":39,\"40\":40}],42:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.test_cea608 = test_cea608;\n\nvar _FactoryMaker = _dereq_(13);\n\nvar _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);\n\nvar _BoxParser = _dereq_(34);\n\nvar _BoxParser2 = _interopRequireDefault(_BoxParser);\n\nvar _ceaParserManager = _dereq_(41);\n\nvar _ceaParserManager2 = _interopRequireDefault(_ceaParserManager);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar context = window;\nvar boxParser = (0, _BoxParser2.default)(context).getInstance();\n\nfunction extractCeaData(data) {\n  /* Insert [time, data] pairs in order into array. */\n  var insertInOrder = function insertInOrder(arr, time, data) {\n    var len = arr.length;\n    if (len > 0) {\n      if (time >= arr[len - 1][0]) {\n        arr.push([time, data]);\n      } else {\n        for (var pos = len - 1; pos >= 0; pos--) {\n          if (time < arr[pos][0]) {\n            arr.splice(pos, 0, [time, data]);\n            break;\n          }\n        }\n      }\n    } else {\n      arr.push([time, data]);\n    }\n  };\n\n  var saveCCData = function saveCCData(arr, time, data) {\n    if (0 === data.length || 'undefined' === data[0] || 'undefined' === data[1]) {\n      return;\n    }\n    var bFound = false;\n    for (var i = 0; i < arr.length; i++) {\n      if (arr[i][0] == data[0]) {\n        arr[i].push([time, data[1]]);\n        bFound = true;\n        break;\n      }\n    }\n    if (!bFound) {\n      arr.push([data[0], [time, data[1]]]);\n    }\n  };\n\n  var isoFile = boxParser.parse(data);\n  var moof = isoFile.getBox('moof');\n  var tfdt = isoFile.getBox('tfdt');\n  var tfhd = isoFile.getBox('tfhd'); //Can have a base_data_offset and other default values\n  //log(\"tfhd: \" + tfhd);\n  //var saio = isoFile.getBox('saio'); // Offset possibly\n  //var saiz = isoFile.getBox('saiz'); // Possible sizes\n  var truns = isoFile.getBoxes('trun'); //\n  var trun = null;\n\n  if (truns.length === 0) {\n    return null;\n  }\n  trun = truns[0];\n  if (truns.length > 1) {\n    log('Warning: Too many truns');\n  }\n  var baseOffset = moof.offset + trun.data_offset;\n  //Doublecheck that trun.offset == moof.size + 8\n  var sampleCount = trun.sample_count;\n  var startPos = baseOffset;\n  var baseSampleTime = tfdt.baseMediaDecodeTime;\n  var raw = new DataView(data);\n  var allCcData = { 'StartTime': null, 'EndTime': null, fields: [] };\n  var allCeaNalus = [];\n  var accDuration = 0;\n  for (var i = 0; i < sampleCount; i++) {\n    var sample = trun.samples[i];\n\n    var test = 'Index: ' + i.toString() + ', BaseSampleTime: ' + baseSampleTime;\n    if (accDuration == 0) {\n      test += ', ActualDuration: ' + accDuration + ' (Error, actual duration cannot be 0)';\n    } else {\n      test += ', ActualDuration: ' + accDuration;\n    }\n    if (sample.sample_duration === undefined) {\n      if (tfhd.default_sample_duration === undefined) {\n        sample.sample_duration = 0;\n      } else {\n        sample.sample_duration = tfhd.default_sample_duration;\n      }\n      test += ', Duration: ' + sample.sample_duration;\n    } else {\n      test += ', Duration: ' + sample.sample_duration;\n    }\n    if (sample.sample_size === undefined) {\n      sample.sample_size = tfhd.default_sample_size;\n    }\n\n    if (sample.sample_composition_time_offset === undefined) {\n      test += ', CompositionTime: 0';\n      sample.sample_composition_time_offset = 0;\n    } else {\n      test += ', CompositionTime: ' + sample.sample_composition_time_offset;\n    }\n\n    var sampleTime = baseSampleTime + accDuration + sample.sample_composition_time_offset;\n    test += ', SampleTime: ' + sampleTime;\n\n    var cea608Ranges = _ceaParserManager2.default.findCeaNalus(raw, startPos, sample.sample_size);\n    if (0 < cea608Ranges.length) {\n      insertInOrder(allCeaNalus, sampleTime, cea608Ranges);\n    }\n\n    accDuration += sample.sample_duration;\n    startPos += sample.sample_size;\n  }\n\n  for (var i = 0; i < allCeaNalus.length; i++) {\n    if ('undefined' === allCeaNalus[i][0] || 'undefined' === allCeaNalus[i][1]) {\n      continue;\n    }\n    for (var j = 0; j < allCeaNalus[i][1].length; j++) {\n      //console.debug('[extractCeaData] i:' + i + ', j:' + j );\n      var ccData = _ceaParserManager2.default.extractCeaDataFromRange(raw, allCeaNalus[i][1][j]);\n      for (var k = 0; k < ccData.length; k++) {\n        if (ccData[k].length > 0) {\n          saveCCData(allCcData.fields, allCeaNalus[i][0], ccData[k]);\n        }\n      }\n    }\n  }\n\n  var endSampleTime = baseSampleTime + accDuration;\n  allCcData.startTime = baseSampleTime;\n  allCcData.endTime = endSampleTime;\n  return allCcData;\n}\n\nvar ccParsers = new Map();\n\nfunction createCcParser(type) {\n  var makeCueAdderForIndex = function makeCueAdderForIndex(self, type) {\n    function newCue(startTime, endTime, captionScreen) {\n      var text = captionScreen.getDisplayText();\n      console.log(type + ': startTime: ' + startTime + ', endTime: ' + endTime + ', ' + text);\n    }\n    return newCue;\n  };\n  var handler = makeCueAdderForIndex(this, type);\n  return new _ceaParserManager2.default.ceaParserManager(type, { 'newCue': handler }, null);\n}\n\nfunction mytest2(bytes) {\n  // init parsers\n  ccParsers.set('608_1', createCcParser('608_1'));\n  ccParsers.set('608_2', createCcParser('608_2'));\n  ccParsers.set('608_3', createCcParser('608_3'));\n  ccParsers.set('608_4', createCcParser('608_4'));\n  ccParsers.set('708_1', createCcParser('708_1'));\n  ccParsers.set('708_2', createCcParser('708_2'));\n  ccParsers.set('708_3', createCcParser('708_3'));\n  ccParsers.set('708_4', createCcParser('708_4'));\n  ccParsers.set('708_5', createCcParser('708_5'));\n  ccParsers.set('708_6', createCcParser('708_6'));\n\n  var embeddedTimescale = 90000;\n\n  var allCcData = extractCeaData(bytes);\n  for (var i = 0; i < allCcData.fields.length; i++) {\n    var ccData = allCcData.fields[i];\n\n    var type = ccData[0];\n    var parser = ccParsers.get(type);\n\n    for (var j = 1; j < ccData.length; j++) {\n      var a1 = ccData[j][0];\n      var a2 = ccData[j][1];\n      parser.addData(ccData[j][0] / embeddedTimescale, ccData[j][1]);\n    }\n  }\n}\n\nfunction test_cea608() {\n  console.log('--------test_cea608--------');\n\n  var xhttp = new XMLHttpRequest();\n  xhttp.responseType = 'arraybuffer';\n\n  xhttp.onload = function () {\n    if (this.status == 200) {\n      mytest2(this.response);\n    }\n  };\n\n  xhttp.open(\"GET\", \"http://localhost/2/mydash/subtitles/608_0/V300_with_cc1_and_cc3/1.m4s\", true);\n  xhttp.send();\n}\n\n},{\"13\":13,\"34\":34,\"41\":41}],43:[function(_dereq_,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n/*\n Copyright 2011 Abdulla Abdurakhmanov\n Original sources are available at https://code.google.com/p/x2js/\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n */\n\n/*\n Modified to keep track of children nodes in order in attribute __children.\n*/\n\nfunction X2JS(matchers, attrPrefix, ignoreRoot) {\n\tif (attrPrefix === null || attrPrefix === undefined) {\n\t\tattrPrefix = \"_\";\n\t}\n\n\tif (ignoreRoot === null || ignoreRoot === undefined) {\n\t\tignoreRoot = false;\n\t}\n\n\tvar VERSION = \"1.0.11\";\n\tvar escapeMode = false;\n\n\tvar DOMNodeTypes = {\n\t\tELEMENT_NODE: 1,\n\t\tTEXT_NODE: 3,\n\t\tCDATA_SECTION_NODE: 4,\n\t\tCOMMENT_NODE: 8,\n\t\tDOCUMENT_NODE: 9\n\t};\n\n\tfunction getNodeLocalName(node) {\n\t\tvar nodeLocalName = node.localName;\n\t\tif (nodeLocalName == null) // Yeah, this is IE!! \n\t\t\tnodeLocalName = node.baseName;\n\t\tif (nodeLocalName == null || nodeLocalName == \"\") // ==\"\" is IE too\n\t\t\tnodeLocalName = node.nodeName;\n\t\treturn nodeLocalName;\n\t}\n\n\tfunction getNodePrefix(node) {\n\t\treturn node.prefix;\n\t}\n\n\tfunction escapeXmlChars(str) {\n\t\tif (typeof str == \"string\") return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#x27;').replace(/\\//g, '&#x2F;');else return str;\n\t}\n\n\tfunction unescapeXmlChars(str) {\n\t\treturn str.replace(/&amp;/g, '&').replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&quot;/g, '\"').replace(/&#x27;/g, \"'\").replace(/&#x2F;/g, '\\/');\n\t}\n\n\tfunction parseDOMChildren(node) {\n\t\tif (node.nodeType == DOMNodeTypes.DOCUMENT_NODE) {\n\t\t\tvar result,\n\t\t\t    child = node.firstChild,\n\t\t\t    i,\n\t\t\t    len;\n\n\t\t\t// get the first node that isn't a comment\n\t\t\tfor (i = 0, len = node.childNodes.length; i < len; i += 1) {\n\t\t\t\tif (node.childNodes[i].nodeType !== DOMNodeTypes.COMMENT_NODE) {\n\t\t\t\t\tchild = node.childNodes[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (ignoreRoot) {\n\t\t\t\tresult = parseDOMChildren(child);\n\t\t\t} else {\n\t\t\t\tresult = {};\n\t\t\t\tvar childName = getNodeLocalName(child);\n\t\t\t\tresult[childName] = parseDOMChildren(child);\n\t\t\t}\n\n\t\t\treturn result;\n\t\t} else if (node.nodeType == DOMNodeTypes.ELEMENT_NODE) {\n\t\t\tvar result = new Object();\n\t\t\tresult.__cnt = 0;\n\n\t\t\tvar children = [];\n\n\t\t\tvar nodeChildren = node.childNodes;\n\n\t\t\t// Children nodes\n\t\t\tfor (var cidx = 0; cidx < nodeChildren.length; cidx++) {\n\t\t\t\tvar child = nodeChildren.item(cidx); // nodeChildren[cidx];\n\t\t\t\tvar childName = getNodeLocalName(child);\n\n\t\t\t\tresult.__cnt++;\n\t\t\t\tif (result[childName] == null) {\n\t\t\t\t\tvar c = parseDOMChildren(child);\n\t\t\t\t\tif (childName != \"#text\" || /[^\\s]/.test(c)) {\n\t\t\t\t\t\tvar o = {};\n\t\t\t\t\t\to[childName] = c;\n\t\t\t\t\t\tchildren.push(o);\n\t\t\t\t\t}\n\t\t\t\t\tresult[childName] = c;\n\t\t\t\t\tresult[childName + \"_asArray\"] = new Array(1);\n\t\t\t\t\tresult[childName + \"_asArray\"][0] = result[childName];\n\t\t\t\t} else {\n\t\t\t\t\tif (result[childName] != null) {\n\t\t\t\t\t\tif (!(result[childName] instanceof Array)) {\n\t\t\t\t\t\t\tvar tmpObj = result[childName];\n\t\t\t\t\t\t\tresult[childName] = new Array();\n\t\t\t\t\t\t\tresult[childName][0] = tmpObj;\n\n\t\t\t\t\t\t\tresult[childName + \"_asArray\"] = result[childName];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar aridx = 0;\n\t\t\t\t\twhile (result[childName][aridx] != null) {\n\t\t\t\t\t\taridx++;\n\t\t\t\t\t}var c = parseDOMChildren(child);\n\t\t\t\t\tif (childName != \"#text\" || /[^\\s]/.test(c)) {\n\t\t\t\t\t\t// Don't add white-space text nodes\n\t\t\t\t\t\tvar o = {};\n\t\t\t\t\t\to[childName] = c;\n\t\t\t\t\t\tchildren.push(o);\n\t\t\t\t\t}\n\t\t\t\t\tresult[childName][aridx] = c;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tresult.__children = children;\n\n\t\t\t// Attributes\n\t\t\tfor (var aidx = 0; aidx < node.attributes.length; aidx++) {\n\t\t\t\tvar attr = node.attributes.item(aidx); // [aidx];\n\t\t\t\tresult.__cnt++;\n\n\t\t\t\tvar value2 = attr.value;\n\t\t\t\tfor (var m = 0, ml = matchers.length; m < ml; m++) {\n\t\t\t\t\tvar matchobj = matchers[m];\n\t\t\t\t\tif (matchobj.test(attr)) {\n\t\t\t\t\t\tvalue2 = matchobj.converter(attr.value);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tresult[attrPrefix + attr.name] = value2;\n\t\t\t}\n\n\t\t\t// Node namespace prefix\n\t\t\tvar nodePrefix = getNodePrefix(node);\n\t\t\tif (nodePrefix != null && nodePrefix != \"\") {\n\t\t\t\tresult.__cnt++;\n\t\t\t\tresult.__prefix = nodePrefix;\n\t\t\t}\n\n\t\t\tif (result.__cnt == 1 && result[\"#text\"] != null) {\n\t\t\t\tresult = result[\"#text\"];\n\t\t\t}\n\n\t\t\tif (result[\"#text\"] != null) {\n\t\t\t\tresult.__text = result[\"#text\"];\n\t\t\t\tif (escapeMode) result.__text = unescapeXmlChars(result.__text);\n\t\t\t\tdelete result[\"#text\"];\n\t\t\t\tdelete result[\"#text_asArray\"];\n\t\t\t}\n\t\t\tif (result[\"#cdata-section\"] != null) {\n\t\t\t\tresult.__cdata = result[\"#cdata-section\"];\n\t\t\t\tdelete result[\"#cdata-section\"];\n\t\t\t\tdelete result[\"#cdata-section_asArray\"];\n\t\t\t}\n\n\t\t\tif (result.__text != null || result.__cdata != null) {\n\t\t\t\tresult.toString = function () {\n\t\t\t\t\treturn (this.__text != null ? this.__text : '') + (this.__cdata != null ? this.__cdata : '');\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn result;\n\t\t} else if (node.nodeType == DOMNodeTypes.TEXT_NODE || node.nodeType == DOMNodeTypes.CDATA_SECTION_NODE) {\n\t\t\treturn node.nodeValue;\n\t\t} else if (node.nodeType == DOMNodeTypes.COMMENT_NODE) {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tfunction startTag(jsonObj, element, attrList, closed) {\n\t\tvar resultStr = \"<\" + (jsonObj != null && jsonObj.__prefix != null ? jsonObj.__prefix + \":\" : \"\") + element;\n\t\tif (attrList != null) {\n\t\t\tfor (var aidx = 0; aidx < attrList.length; aidx++) {\n\t\t\t\tvar attrName = attrList[aidx];\n\t\t\t\tvar attrVal = jsonObj[attrName];\n\t\t\t\tresultStr += \" \" + attrName.substr(1) + \"='\" + attrVal + \"'\";\n\t\t\t}\n\t\t}\n\t\tif (!closed) resultStr += \">\";else resultStr += \"/>\";\n\t\treturn resultStr;\n\t}\n\n\tfunction endTag(jsonObj, elementName) {\n\t\treturn \"</\" + (jsonObj.__prefix != null ? jsonObj.__prefix + \":\" : \"\") + elementName + \">\";\n\t}\n\n\tfunction endsWith(str, suffix) {\n\t\treturn str.indexOf(suffix, str.length - suffix.length) !== -1;\n\t}\n\n\tfunction jsonXmlSpecialElem(jsonObj, jsonObjField) {\n\t\tif (endsWith(jsonObjField.toString(), \"_asArray\") || jsonObjField.toString().indexOf(\"_\") == 0 || jsonObj[jsonObjField] instanceof Function) return true;else return false;\n\t}\n\n\tfunction jsonXmlElemCount(jsonObj) {\n\t\tvar elementsCnt = 0;\n\t\tif (jsonObj instanceof Object) {\n\t\t\tfor (var it in jsonObj) {\n\t\t\t\tif (jsonXmlSpecialElem(jsonObj, it)) continue;\n\t\t\t\telementsCnt++;\n\t\t\t}\n\t\t}\n\t\treturn elementsCnt;\n\t}\n\n\tfunction parseJSONAttributes(jsonObj) {\n\t\tvar attrList = [];\n\t\tif (jsonObj instanceof Object) {\n\t\t\tfor (var ait in jsonObj) {\n\t\t\t\tif (ait.toString().indexOf(\"__\") == -1 && ait.toString().indexOf(\"_\") == 0) {\n\t\t\t\t\tattrList.push(ait);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn attrList;\n\t}\n\n\tfunction parseJSONTextAttrs(jsonTxtObj) {\n\t\tvar result = \"\";\n\n\t\tif (jsonTxtObj.__cdata != null) {\n\t\t\tresult += \"<![CDATA[\" + jsonTxtObj.__cdata + \"]]>\";\n\t\t}\n\n\t\tif (jsonTxtObj.__text != null) {\n\t\t\tif (escapeMode) result += escapeXmlChars(jsonTxtObj.__text);else result += jsonTxtObj.__text;\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction parseJSONTextObject(jsonTxtObj) {\n\t\tvar result = \"\";\n\n\t\tif (jsonTxtObj instanceof Object) {\n\t\t\tresult += parseJSONTextAttrs(jsonTxtObj);\n\t\t} else if (jsonTxtObj != null) {\n\t\t\tif (escapeMode) result += escapeXmlChars(jsonTxtObj);else result += jsonTxtObj;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tfunction parseJSONArray(jsonArrRoot, jsonArrObj, attrList) {\n\t\tvar result = \"\";\n\t\tif (jsonArrRoot.length == 0) {\n\t\t\tresult += startTag(jsonArrRoot, jsonArrObj, attrList, true);\n\t\t} else {\n\t\t\tfor (var arIdx = 0; arIdx < jsonArrRoot.length; arIdx++) {\n\t\t\t\tresult += startTag(jsonArrRoot[arIdx], jsonArrObj, parseJSONAttributes(jsonArrRoot[arIdx]), false);\n\t\t\t\tresult += parseJSONObject(jsonArrRoot[arIdx]);\n\t\t\t\tresult += endTag(jsonArrRoot[arIdx], jsonArrObj);\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction parseJSONObject(jsonObj) {\n\t\tvar result = \"\";\n\n\t\tvar elementsCnt = jsonXmlElemCount(jsonObj);\n\n\t\tif (elementsCnt > 0) {\n\t\t\tfor (var it in jsonObj) {\n\n\t\t\t\tif (jsonXmlSpecialElem(jsonObj, it)) continue;\n\n\t\t\t\tvar subObj = jsonObj[it];\n\n\t\t\t\tvar attrList = parseJSONAttributes(subObj);\n\n\t\t\t\tif (subObj == null || subObj == undefined) {\n\t\t\t\t\tresult += startTag(subObj, it, attrList, true);\n\t\t\t\t} else if (subObj instanceof Object) {\n\n\t\t\t\t\tif (subObj instanceof Array) {\n\t\t\t\t\t\tresult += parseJSONArray(subObj, it, attrList);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar subObjElementsCnt = jsonXmlElemCount(subObj);\n\t\t\t\t\t\tif (subObjElementsCnt > 0 || subObj.__text != null || subObj.__cdata != null) {\n\t\t\t\t\t\t\tresult += startTag(subObj, it, attrList, false);\n\t\t\t\t\t\t\tresult += parseJSONObject(subObj);\n\t\t\t\t\t\t\tresult += endTag(subObj, it);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult += startTag(subObj, it, attrList, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tresult += startTag(subObj, it, attrList, false);\n\t\t\t\t\tresult += parseJSONTextObject(subObj);\n\t\t\t\t\tresult += endTag(subObj, it);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tresult += parseJSONTextObject(jsonObj);\n\n\t\treturn result;\n\t}\n\n\tthis.parseXmlString = function (xmlDocStr) {\n\t\tvar xmlDoc, parser, ns;\n\n\t\tif (window.DOMParser) {\n\t\t\tparser = new window.DOMParser();\n\n\t\t\ttry {\n\t\t\t\tns = parser.parseFromString('<', 'text/xml').getElementsByTagName(\"parsererror\")[0].namespaceURI;\n\t\t\t} catch (e) {\n\t\t\t\t// IE11 will definitely throw SyntaxError here\n\t\t\t\t// ns will be undefined\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\txmlDoc = parser.parseFromString(xmlDocStr, \"text/xml\");\n\n\t\t\t\tif (ns) {\n\t\t\t\t\tif (xmlDoc.getElementsByTagNameNS(ns, 'parsererror').length) {\n\t\t\t\t\t\txmlDoc = undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t// IE11 may throw SyntaxError here if xmlDocStr is\n\t\t\t\t// not well formed. xmlDoc will be undefined\n\t\t\t}\n\t\t} else {\n\t\t\t// IE :(\n\t\t\tif (xmlDocStr.indexOf(\"<?\") == 0) {\n\t\t\t\txmlDocStr = xmlDocStr.substr(xmlDocStr.indexOf(\"?>\") + 2);\n\t\t\t}\n\t\t\txmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\");\n\t\t\txmlDoc.async = \"false\";\n\t\t\txmlDoc.loadXML(xmlDocStr);\n\t\t}\n\t\treturn xmlDoc;\n\t};\n\n\tthis.xml2json = function (xmlDoc) {\n\t\treturn parseDOMChildren(xmlDoc);\n\t};\n\n\tthis.xml_str2json = function (xmlDocStr) {\n\t\tvar xmlDoc = this.parseXmlString(xmlDocStr);\n\t\treturn xmlDoc ? this.xml2json(xmlDoc) : undefined;\n\t};\n\n\tthis.json2xml_str = function (jsonObj) {\n\t\treturn parseJSONObject(jsonObj);\n\t};\n\n\tthis.json2xml = function (jsonObj) {\n\t\tvar xmlDocStr = this.json2xml_str(jsonObj);\n\t\treturn this.parseXmlString(xmlDocStr);\n\t};\n\n\tthis.getVersion = function () {\n\t\treturn VERSION;\n\t};\n\n\tthis.escapeMode = function (enabled) {\n\t\tescapeMode = enabled;\n\t};\n}\nexports.default = X2JS;\n\n},{}],44:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _FactoryMaker = _dereq_(13);\n\nvar _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);\n\nvar _EventBus = _dereq_(12);\n\nvar _EventBus2 = _interopRequireDefault(_EventBus);\n\nvar _common_utils = _dereq_(47);\n\nvar _common_utils2 = _interopRequireDefault(_common_utils);\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nvar Cue = window.VTTCue || window.TextTrackCue;\n\nvar TextEngine = function TextEngine(media) {\n    this.media = media;\n};\n\nTextEngine.prototype.clearCurrentCues = function (track) {\n    if (track && track.cues) {\n        while (track.cues.length > 0) {\n            track.removeCue(track.cues[0]);\n        }\n    }\n};\n\nTextEngine.prototype.addTextTrack = function () {\n    // method1\n    // let textTrack = media.addTextTrack('subtitles', 'English', 'eng');\n    // textTrack.myId = 'test1';\n    // textTrack.mode = 'showing';\n    // method2\n    var textTrack = document.createElement('track');\n    textTrack.id = 'test1';\n    textTrack.kind = 'subtitle';\n    textTrack.label = 'English';\n    textTrack.srclang = 'eng';\n    media.appendChild(textTrack);\n    textTrack = media.textTracks[0];\n    textTrack.mode = 'showing';\n\n    // BD\n    console.log('begin add first cue');\n    var cue = new Cue(10, 15, 'This is a placeholder text');\n    textTrack.addCue(cue);\n    console.log('after add first cue');\n\n    this.clearCurrentCues(textTrack);\n\n    console.log('begin add second cue');\n    var cue1 = new Cue(0, 12, 'This is a placeholder text1');\n    textTrack.addCue(cue1);\n    console.log('after add second cue');\n\n    var a = 2;\n    var b = a;\n    // ED\n\n    return;\n\n    //\n    // let cue = new Cue(0, 100, 'This is a placeholder text');\n    // textTrack.addCue(cue);\n\n    //for (let i = 0; i <= 10; i ++) {\n    //  let cue = new Cue(i, i+1, 'current time: ' + i.toString());\n\n    //// test1\n    //let n = 5;\n    //if (i % n == 0) {\n    //  cue.align = \"start\"; \n    //} else if (i % n == 1) {\n    //  cue.align = \"center\";\n    //} else if (i % n == 2) {\n    //  cue.align = \"end\";\n    //} else if (i % n == 3) {\n    //  cue.align = \"left\";\n    //} else if (i % n == 4) {\n    //  cue.align = \"right\";\n    //}\n\n\n    // test2, text在哪一行\n    //cue.lineAlign = \"start\";\n    //cue.line = i;\n\n    // test3\n    //cue.positionAlign = \"start\";\n    //cue.position = i*10;\n\n    // chrome\n    //cue.align = \"start\";\n    //cue.line = 0;\n    //cue.lineAlign = \"start\";\n    //cue.position = \"auto\";\n    //cue.size = 100;\n    //cue.snapToLines = false;\n\n    // firefox47\n    //cue.align = \"start\";\n    //cue.line = 0;\n    //cue.lineAlign = \"start\";\n    //cue.position = 10;\n    //cue.positionAlign = \"end\";\n    //cue.size = 100;\n    //cue.snapToLines = false;\n\n    // firefox53\n    //cue.position = 'auto';\n    //cue.positionAlign = 'center';\n\n    //  textTrack.addCue(cue);\n    //}\n};\n\nTextEngine.prototype.setTextTrackHidden = function () {\n    var inUseTracks = media ? media.textTracks : [];\n    for (var i = 0; i < inUseTracks.length; i++) {\n        var track = inUseTracks[i];\n        // Track mode was defined by html textTrack element.\n        track.mode = 'hidden';\n    }\n};\n\nTextEngine.prototype.setCueAlign = function (align) {\n    var textTrack = media.textTracks[0];\n\n    for (var i = 0; i < textTrack.cues.length; i++) {\n        var cue = textTrack.cues[i];\n        cue.align = align;\n    }\n};\n\nTextEngine.prototype.setCueLine = function (line) {\n    var textTrack = media.textTracks[0];\n\n    for (var i = 0; i < textTrack.cues.length; i++) {\n        var cue = textTrack.cues[i];\n        cue.line = line;\n    }\n};\n\nTextEngine.prototype.setCueLineAlign = function (lineAlign) {};\n\nexports.default = TextEngine;\n\n////\n//function TextEngine()\n//{\n//  let instance;\n//  let media;\n\n//  function setup() {\n//    media = null;\n//  }\n\n//  function setMedia(param_media) {\n//    media = param_media;\n//  }\n\n//function clearCurrentCues(track) {\n//  if (track && track.cues) {\n//    while (track.cues.length > 0) {\n//      track.removeCue(track.cues[0]);\n//    }\n//  }\n//}\n\n//  function addTextTrack() {\n//    // method1\n//    let textTrack = media.addTextTrack('subtitles', 'English', 'eng');\n//    textTrack.mode = 'showing';\n//    //// method2\n//    //let textTrack = document.createElement('track');\n//    //textTrack.kind = 'subtitle';\n//    //textTrack.label = 'English';\n//    //textTrack.srclang = 'eng';\n//    //media.appendChild(textTrack);\n\n//    //textTrack = media.textTracks[0];\n//    //textTrack.mode = 'showing';\n\n//    // BD\n//    console.log('begin add first cue');\n//    let cue = new Cue(10, 15, 'This is a placeholder text');\n//    textTrack.addCue(cue);\n//    console.log('after add first cue');\n\n//    clearCurrentCues(textTrack);\n\n//    console.log('begin add second cue');\n//    let cue1 = new Cue(0, 12, 'This is a placeholder text1');\n//    textTrack.addCue(cue1);\n//    console.log('after add second cue');\n\n//    let a=2;\n//    let b=a;\n//    // ED\n\n//    return;\n\n//    //\n//    // let cue = new Cue(0, 100, 'This is a placeholder text');\n//    // textTrack.addCue(cue);\n\n//    //for (let i = 0; i <= 10; i ++) {\n//    //  let cue = new Cue(i, i+1, 'current time: ' + i.toString());\n\n//      //// test1\n//      //let n = 5;\n//      //if (i % n == 0) {\n//      //  cue.align = \"start\"; \n//      //} else if (i % n == 1) {\n//      //  cue.align = \"center\";\n//      //} else if (i % n == 2) {\n//      //  cue.align = \"end\";\n//      //} else if (i % n == 3) {\n//      //  cue.align = \"left\";\n//      //} else if (i % n == 4) {\n//      //  cue.align = \"right\";\n//      //}\n\n\n//      // test2, text在哪一行\n//      //cue.lineAlign = \"start\";\n//      //cue.line = i;\n\n//      // test3\n//      //cue.positionAlign = \"start\";\n//      //cue.position = i*10;\n\n//      // chrome\n//      //cue.align = \"start\";\n//      //cue.line = 0;\n//      //cue.lineAlign = \"start\";\n//      //cue.position = \"auto\";\n//      //cue.size = 100;\n//      //cue.snapToLines = false;\n\n//      // firefox47\n//      //cue.align = \"start\";\n//      //cue.line = 0;\n//      //cue.lineAlign = \"start\";\n//      //cue.position = 10;\n//      //cue.positionAlign = \"end\";\n//      //cue.size = 100;\n//      //cue.snapToLines = false;\n\n//      // firefox53\n//      //cue.position = 'auto';\n//      //cue.positionAlign = 'center';\n\n//    //  textTrack.addCue(cue);\n//    //}\n//  }\n\n//  function setTextTrackHidden() {\n//    const inUseTracks = media ? media.textTracks : [];\n//    for(let i = 0; i < inUseTracks.length; i ++) {\n//      let track = inUseTracks[i];\n//      // Track mode was defined by html textTrack element.\n//      track.mode = 'hidden';\n//    }\n//  }\n\n//  function setCueAlign(align) {\n//    let textTrack = media.textTracks[0];\n\n//    for (let i=0; i < textTrack.cues.length; i ++) {\n//      let cue = textTrack.cues[i];\n//      cue.align = align;\n//    }\n//  }\n\n//  function setCueLine(line) {\n//    let textTrack = media.textTracks[0];\n\n//    for (let i=0; i < textTrack.cues.length; i ++) {\n//      let cue = textTrack.cues[i];\n//      cue.line = line;\n//    }\n//  }\n\n//  function setCueLineAlign(lineAlign) {\n\n//  }\n\n//  instance = {\n//    setMedia: setMedia,\n//    addTextTrack: addTextTrack,\n//    setTextTrackHidden: setTextTrackHidden,\n//    setCueAlign: setCueAlign,\n//    setCueLine: setCueLine,\n//    setCueLineAlign: setCueLineAlign,\n//  };\n\n//  setup();\n\n//  return instance;\n//}\n\n\n//TextEngine.__h5player_factory_name = 'TextEngine';\n//export default FactoryMaker.getSingletonFactory(TextEngine);\n\n},{\"12\":12,\"13\":13,\"47\":47}],45:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar UIEngine = function UIEngine(cfg) {\n    this.cfg_ = cfg;\n    this.playerContainer_ = document.getElementById(this.cfg_.playerContainer);\n    this.video_ = null;\n    this.videoContainer_ = null;\n    this.adContainer_ = null;\n\n    this.initUIElement();\n};\n\nUIEngine.prototype.initUIStyle = function () {\n    var style = document.createElement('style');\n    style.type = 'text/css';\n    style.innerHTML = 'body{margin:0px;background-color:lightgray;}.player{position:relative;width:640px;height:360px;margin:16px;}.html5-video-player{width:100%;height:100%;}.h5p-autohide{cursor:none}.h5p-video-container,.h5p-video-ads{position:absolute;width:100%;height:100%;background-color:black;}.h5p-video{width:100%;height:100%;}.h5p-shade{position:absolute;width:100%;height:100%;z-index:100;}.h5p-shade:not(.h5p-shade-test1){}.h5p-gradient-bottom{width:100%;position:absolute;background-repeat:repeat-x;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==);-moz-transition:opacity .25s cubic-bezier(0.0,0.0,0.2,1);-webkit-transition:opacity .25s cubic-bezier(0.0,0.0,0.2,1);transition:opacity .25s cubic-bezier(0.0,0.0,0.2,1);pointer-events:none}.h5p-gradient-bottom{height:49px;padding-top:49px;bottom:0;z-index:22;background-position:bottom}.h5p-chrome-bottom{position:absolute;text-shadow:0 0 2px rgba(0,0,0,.5)}.h5p-chrome-bottom{bottom:0;height:41px;z-index:60;text-align:left;direction:ltr;left:12px;right:12px;}.h5p-chrome-bottom{-moz-transition:opacity .25s cubic-bezier(0.0,0.0,0.2,1);-webkit-transition:opacity .25s cubic-bezier(0.0,0.0,0.2,1);transition:opacity .25s cubic-bezier(0.0,0.0,0.2,1)}.h5p-autohide .h5p-chrome-bottom{opacity:0;-moz-transition:opacity .25s cubic-bezier(0.0,0.0,0.2,1);-webkit-transition:opacity .25s cubic-bezier(0.0,0.0,0.2,1);transition:opacity .25s cubic-bezier(0.0,0.0,0.2,1);}.h5p-progress-bar{width:100%;height:5px;background-color:orange;}.h5p-controls{width:100%;height:36px;}.h5p-left-controls{height:100%;float:left;}.h5p-right-controls{float:right;}.h5p-button{width:36px;height:100%;border:none;color:inherit;background-color:transparent;padding:0;text-align:inherit;font-size:100%;font-family:inherit;cursor:default;line-height:inherit}.h5p-button:focus,.h5p-button{outline:0}.h5p-button::-moz-focus-inner{padding:0;border:0}.h5p-time-display{float:left;}.h5p-time-text{color:white;position:absolute;top:50%;transform:translateY(-50%);}.h5p-svg-shadow{stroke:#000;stroke-opacity:.15;stroke-width:2px;fill:none}.h5p-svg-fill{fill:#fff}.h5p-play-button{float:left;cursor:pointer;}.h5p-autohide .h5p-play-button{cursor:none;}.h5p-play-button::before{content:\"\";display:block;height:100%;width:12px;position:absolute;top:0;left:-12px;}.h5p-ads-container{position:absolute;top:0px;left:0px;width:100%;height:100%;}#idBtnController{position:relative;}#idBufferingContainer{position:absolute;background-color:lightgreen;margin:auto;width:200px;height:200px;top:0;left:0;bottom:0;right:0;}.spinnerSvg{position:absolute;width:100%;height:100%;top:0;bottom:0;left:0;right:0;margin:auto;animation:rotate 2s linear infinite;transform-origin:center center;}.spinnerPath{stroke:#d62d20;stroke-dasharray:20,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite,color 6s ease-in-out infinite;stroke-linecap:round;}@keyframes rotate{100%{transform:rotate(360deg);}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0;}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px;}100%{stroke-dasharray:89,200;stroke-dashoffset:-124px;}}@keyframes color{100%,0%{stroke:#d62d20;}40%{stroke:#0057e7;}66%{stroke:#008744;}80%,90%{stroke:#ffa700;}}.spinner{position:absolute;width:300px;height:301px;background-image:url(\"assets/buffering7.png\");-webkit-animation:spin 1s infinite linear;top:50%;left:50%;display:block;}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);}100%{-webkit-transform:rotate(-360deg);}}';\n\n    document.getElementsByTagName('HEAD').item(0).appendChild(style);\n};\n\nUIEngine.prototype.initUIElement = function () {\n    // create video element here\n    this.video_ = document.createElement('video');\n    this.video_.setAttribute('class', 'h5p-video');\n    this.video_.setAttribute('playsinline', 'false');\n\n    this.videoContainer_ = document.createElement('div');\n    this.videoContainer_.setAttribute('class', 'h5p-video-container');\n    this.videoContainer_.appendChild(this.video_);\n\n    this.playerContainer_.appendChild(this.videoContainer_);\n\n    // create ads container\n    if (this.cfg_.advertising) {\n        this.adContainer_ = document.createElement('div');\n        this.adContainer_.setAttribute('class', 'h5p-ads-container');\n\n        this.playerContainer_.appendChild(this.adContainer_);\n    }\n};\n\nUIEngine.prototype.getVideo = function () {\n    return this.video_;\n};\n\nUIEngine.prototype.getVideoContainer = function () {\n    return this.videoContainer_;\n};\n\nUIEngine.prototype.getAdContainer = function () {\n    return this.adContainer_;\n};\n\nexports.default = UIEngine;\n\n},{}],46:[function(_dereq_,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n/**\n * The copyright in this software is being made available under the BSD License,\n * included below. This software may be subject to other third party and contributor\n * rights, including patent rights, and no such rights are granted under this license.\n *\n * Copyright (c) 2013, Dash Industry Forum.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *  * Redistributions of source code must retain the above copyright notice, this\n *  list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright notice,\n *  this list of conditions and the following disclaimer in the documentation and/or\n *  other materials provided with the distribution.\n *  * Neither the name of Dash Industry Forum nor the names of its\n *  contributors may be used to endorse or promote products derived from this software\n *  without specific prior written permission.\n *\n *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY\n *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n *  POSSIBILITY OF SUCH DAMAGE.\n */\n/**\n * @class\n * @ignore\n */\nvar Error = function Error(code, message, data) {\n  _classCallCheck(this, Error);\n\n  this.code = code || null;\n  this.message = message || null;\n  this.data = data || null;\n};\n\nexports.default = Error;\n\n},{}],47:[function(_dereq_,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar CommonUtils = {};\n\n/** \n * return IE,IE6,IE7,IE8,IE9,Chrome,Firefox,Opera,WebKit,Safari,Others \n */\nCommonUtils.getBrowserName = function () {\n  var sys = {};\n  var ua = navigator.userAgent.toLowerCase();\n  var s;\n  var s;\n  if (s = ua.match(/edge\\/([\\d.]+)/)) {\n    sys.edge = s[1];\n  } else if (s = ua.match(/rv:([\\d.]+)\\) like gecko/)) {\n    sys.ie = s[1];\n  } else if (s = ua.match(/msie ([\\d.]+)/)) {\n    sys.ie = s[1];\n  } else if (s = ua.match(/firefox\\/([\\d.]+)/)) {\n    sys.firefox = s[1];\n  } else if (s = ua.match(/chrome\\/([\\d.]+)/)) {\n    sys.chrome = s[1];\n  } else if (s = ua.match(/opera.([\\d.]+)/)) {\n    sys.opera = s[1];\n  } else if (s = ua.match(/version\\/([\\d.]+).*safari/)) {\n    sys.safari = s[1];\n  }\n\n  if (sys.edge) return { browser: \"Edge\", version: sys.edge };\n  if (sys.ie) return { browser: \"IE\", version: sys.ie };\n  if (sys.firefox) return { browser: \"Firefox\", version: sys.firefox };\n  if (sys.chrome) return { browser: \"Chrome\", version: sys.chrome };\n  if (sys.opera) return { browser: \"Opera\", version: sys.opera };\n  if (sys.safari) return { browser: \"Safari\", version: sys.safari };\n\n  return { browser: \"\", version: \"0\" };\n};\n\nCommonUtils.isSafari = function () {\n  if (CommonUtils.getBrowserName().browser === 'Safari') {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nCommonUtils.isFirefox = function () {\n  if (CommonUtils.getBrowserName().browser === 'Firefox') {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nCommonUtils.isChrome = function () {\n  if (CommonUtils.getBrowserName().browser === 'Chrome') {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nCommonUtils.isChromecast = function () {\n  if (window.cast && window.cast.__platform__) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nCommonUtils.isEdge = function () {\n  var userAgent = navigator.userAgent;\n  var isEdge = userAgent.indexOf(\"Edge\") > -1;\n  return isEdge;\n};\n\nCommonUtils.isIE = function () {\n  if (!!window.ActiveXObject || \"ActiveXObject\" in window) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nCommonUtils.getOSVersion = function () {\n  var os, osVersion;\n\n  // system\n  var nAgt = navigator.userAgent;\n  var nVer = navigator.appVersion;\n\n  os = 'unknown';\n  osVersion = 'unknown';\n  var clientStrings = [{ s: 'Windows 10', r: /(Windows 10.0|Windows NT 10.0)/ }, { s: 'Windows 8.1', r: /(Windows 8.1|Windows NT 6.3)/ }, { s: 'Windows 8', r: /(Windows 8|Windows NT 6.2)/ }, { s: 'Windows 7', r: /(Windows 7|Windows NT 6.1)/ }, { s: 'Windows Vista', r: /Windows NT 6.0/ }, { s: 'Windows Server 2003', r: /Windows NT 5.2/ }, { s: 'Windows XP', r: /(Windows NT 5.1|Windows XP)/ }, { s: 'Windows 2000', r: /(Windows NT 5.0|Windows 2000)/ }, { s: 'Windows ME', r: /(Win 9x 4.90|Windows ME)/ }, { s: 'Windows 98', r: /(Windows 98|Win98)/ }, { s: 'Windows 95', r: /(Windows 95|Win95|Windows_95)/ }, { s: 'Windows NT 4.0', r: /(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/ }, { s: 'Windows CE', r: /Windows CE/ }, { s: 'Windows 3.11', r: /Win16/ }, { s: 'Android', r: /Android/ }, { s: 'Open BSD', r: /OpenBSD/ }, { s: 'Sun OS', r: /SunOS/ }, { s: 'Linux', r: /(Linux|X11)/ }, { s: 'iOS', r: /(iPhone|iPad|iPod)/ }, { s: 'Mac OS X', r: /Mac OS X/ }, { s: 'Mac OS', r: /(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/ }, { s: 'QNX', r: /QNX/ }, { s: 'UNIX', r: /UNIX/ }, { s: 'BeOS', r: /BeOS/ }, { s: 'OS/2', r: /OS\\/2/ }, { s: 'Search Bot', r: /(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\\/Teoma|ia_archiver)/ }];\n  for (var id in clientStrings) {\n    var cs = clientStrings[id];\n    if (cs.r.test(nAgt)) {\n      os = cs.s;\n      break;\n    }\n  }\n\n  if (/Windows/.test(os)) {\n    osVersion = /Windows (.*)/.exec(os)[1];\n    os = 'Windows';\n  }\n\n  switch (os) {\n    case 'Mac OS X':\n      osVersion = /Mac OS X (10[\\.\\_\\d]+)/.exec(nAgt)[1];\n      break;\n\n    case 'Android':\n      osVersion = /Android ([\\.\\_\\d]+)/.exec(nAgt)[1];\n      break;\n\n    case 'iOS':\n      osVersion = /OS (\\d+)_(\\d+)_?(\\d+)?/.exec(nVer);\n      osVersion = osVersion[1] + '.' + osVersion[2] + '.' + (osVersion[3] | 0);\n      break;\n  }\n\n  console.log('nAgt: ' + nAgt);\n  console.log('nVer: ' + nVer);\n  console.log('os: ' + os);\n  console.log('osVersion: ' + osVersion);\n\n  var pattern = 'Linux';\n  var ua = 'Mozilla/5.0 (X11; Linux armv7l) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.17 Safari/537.36 CrKey/1.28.100555';\n  var arrOSV = RegExp('\\\\b' + pattern + '(?:/[\\\\d.]+|[ \\\\w.]*)', 'i').exec(ua);\n  var osv = arrOSV[0];\n  var patternLen = pattern.length;\n  console.log('pattern length: ' + patternLen);\n  osv.indexOf(pattern);\n\n  var out = osv.slice(patternLen + 1);\n  console.log('out: ' + out);\n\n  var a = 2;\n  var b = a;\n};\n\nCommonUtils.isMobilePlatform = function () {\n  return navigator.userAgent.match(/(iPod|iPhone|iPad)/) || navigator.userAgent.toLowerCase().indexOf('android') > -1;\n};\n\n/////////////////////////////////////////////////////////////\nCommonUtils.init = function () {\n  // Add startsWith prototype method to String object\n  if (!String.prototype.startsWith) {\n    // Add prototype methods for Number object\n    if (!Number.isInteger) {\n      Number.isInteger = function (num) {\n        return (num ^ 0) === num;\n      };\n    }\n\n    // Add prototype methods for String object\n    if (!String.prototype.startsWith) {\n      String.prototype.startsWith = function (searchString, position) {\n        position = position || 0;\n        return this.indexOf(searchString, position) === position;\n      };\n    }\n  }\n};\n\n//////////////////////////////////////////////\nCommonUtils.getFormatTime = function () {\n  var message = '';\n  var d = null;\n\n  d = new Date();\n  message += '[' + ('0' + (d.getMonth() + 1)).slice(-2) + '-' + ('0' + d.getDate()).slice(-2) + ' ' + ('0' + d.getHours()).slice(-2) + ':' + ('0' + d.getMinutes()).slice(-2) + ':' + ('0' + d.getSeconds()).slice(-2) + '.' + ('0' + d.getMilliseconds()).slice(-3) + ']';\n\n  return message;\n};\n\nCommonUtils.timeToString = function (value) {\n  function formatTimeUnit(time) {\n    return time < 10 ? '0' + time.toString() : time.toString();\n  }\n\n  value = Math.max(value, 0);\n  var h = Math.floor(value / 3600);\n  var m = Math.floor(value % 3600 / 60);\n  var s = Math.floor(value % 3600 % 60);\n  return (h === 0 ? '' : formatTimeUnit(h) + ':') + formatTimeUnit(m) + ':' + formatTimeUnit(s);\n};\n\n//\nCommonUtils.test1 = function (aa) {\n  CommonUtils.init();\n\n  var s1 = \"aaabbcder\";\n  var ret = s1.startsWith('aaa', 0);\n  var ret2 = s1.startsWith('abc', 0);\n  console.log('startsWith ret: ' + ret);\n  console.log('startsWith ret2: ' + ret2);\n\n  var b1 = Number.isInteger(123);\n  var b2 = Number.isInteger(123.123);\n  var b3 = Number.isInteger(undefined);\n  console.log('b1: ' + b1);\n  console.log('b2: ' + b2);\n  console.log('b3: ' + b3);\n};\n\nexports.default = CommonUtils;\n\n},{}],48:[function(_dereq_,module,exports){\n'use strict';\n\nvar StringUtils = {\n\n    // ArrayBuffer转为字符串，参数为ArrayBuffer对象\n    ab2str: function ab2str(buf) {\n        return String.fromCharCode.apply(null, new Uint16Array(buf));\n    },\n    // 字符串转为ArrayBuffer对象，参数为字符串\n    str2ab: function str2ab(str) {\n        var buf = new ArrayBuffer(str.length * 2); // 每个字符占用2个字节\n        var bufView = new Uint16Array(buf);\n        for (var i = 0, strLen = str.length; i < strLen; i++) {\n            bufView[i] = str.charCodeAt(i);\n        }\n        return buf;\n    },\n    ab2str_v1: function ab2str_v1(buf) {\n        return String.fromCharCode.apply(null, new Uint8Array(buf));\n    },\n    // 字符串转为ArrayBuffer对象，参数为字符串\n    str2ab_v1: function str2ab_v1(str) {\n        var buf = new ArrayBuffer(str.length); // 每个字符占用1个字节\n        var bufView = new Uint8Array(buf);\n        for (var i = 0, strLen = str.length; i < strLen; i++) {\n            bufView[i] = str.charCodeAt(i);\n        }\n        return buf;\n    },\n    u8arrToB64: function u8arrToB64(u8arr) {\n        return btoa(String.fromCharCode.apply(null, u8arr)).replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=*$/, '');\n    },\n    b64ToU8arr: function b64ToU8arr(encoded) {\n        return new Uint8Array(atob(encoded).split('').map(function (c) {\n            return c.charCodeAt(0);\n        }));\n    }\n};\n\nmodule.exports = StringUtils;\n\n},{}],49:[function(_dereq_,module,exports){\n'use strict';\n\n/**\n *  TimeRanges to string helper\n */\n\nvar TimeRanges = {\n  toString: function toString(r) {\n    var log = '',\n        len = r.length;\n    for (var i = 0; i < len; i++) {\n      var beg = r.start(i);\n      var end = r.end(i);\n\n      //console.log('start: ' + beg + ', end: ' + end);\n      log += '[' + r.start(i) + ',' + r.end(i) + ']';\n    }\n    return log;\n  }\n};\n\nmodule.exports = TimeRanges;\n\n},{}],50:[function(_dereq_,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n// Study Site:\n// 1. https://segmentfault.com/a/1190000004322487\n\n\nvar XHRLoader = function XHRLoader(config) {\n  this.config_ = config || {\n    remainingAttempts: 1,\n    retryInterval: 4000\n  };\n\n  // for debug\n  this.printlog = false;\n};\n\nXHRLoader.prototype.loadInternal = function () {};\n\nXHRLoader.prototype.load = function (request) {\n  if (this.printlog) {\n    console.log('begin load time: ' + new Date().getTime() / 1000);\n  }\n\n  this.request_ = request;\n  console.log(this.request_.url + ', remainingAttempts_: ' + this.config_.remainingAttempts);\n\n  this.needFailureReport_ = true;\n\n  this.xhr_ = new XMLHttpRequest();\n\n  if (this.printlog) {\n    console.log('--before open--, readyState: ' + this.xhr_.readyState);\n  }\n\n  this.xhr_.open('GET', this.request_.url);\n  this.xhr_.responseType = 'arraybuffer';\n  if (this.request_.rangeEnd) {\n    this.xhr_.setRequestHeader('Range', 'bytes=' + this.request_.rangeStart + '-' + (this.request_.rangeEnd - 1));\n  }\n\n  this.xhr_.onloadstart = function () {\n    console.log('--onloadstart--');\n  };\n\n  var onload = function onload(ev) {\n    if (this.printlog) {\n      console.log('--onload--, status: ' + this.xhr_.status);\n    }\n\n    if (this.printlog) {\n      console.debug(\"response length: \" + this.xhr_.response.byteLength);\n    }\n\n    if (this.xhr_.status >= 200 && this.xhr_.status <= 299) {\n      this.request_.cbSuccess(this.xhr_.response);\n      this.needFailureReport_ = false;\n    }\n  };\n\n  var onloadend = function onloadend() {\n    if (this.printlog) {\n      console.log('--onloadend--, remainingAttempts_: ' + this.config_.remainingAttempts);\n      console.log('--------------------------------------------------------------');\n    }\n\n    if (this.needFailureReport_) {\n      if (this.config_.remainingAttempts > 0) {\n        this.config_.remainingAttempts--;\n\n        // BD, test retry counts\n        // if (this.config_.remainingAttempts === 0) {\n        //   this.request_.url = 'http://localhost/1/tmp/test.txt';\n        // }\n        // // ED\n\n        if (this.printlog) {\n          console.log('begin load timeout: ' + new Date().getTime() / 1000);\n        }\n\n        //setTimeout(retryFunc, this.config_.retryInterval);\n        setTimeout(this.load.bind(this, this.request_), this.config_.retryInterval);\n      }\n    }\n  };\n\n  this.xhr_.onprogress = function (ev) {\n    if (this.printlog) {\n      console.log('--onprogress--, loaded:' + ev.loaded + ', total:' + ev.total);\n    }\n  };\n\n  this.xhr_.ontimeout = function () {\n    console.log('--ontimeout--');\n  };\n\n  this.xhr_.onabort = function () {\n    console.log('--onabort--');\n  };\n\n  this.xhr_.onerror = function () {\n    console.log('--onerror--');\n  };\n\n  this.xhr_.onreadystatechange = function (ev) {\n    if (this.printlog) {\n      console.log('--onreadystatechange--, readystate: ' + this.readyState);\n    }\n  };\n\n  this.xhr_.onload = onload.bind(this);\n  this.xhr_.onloadend = onloadend.bind(this);\n\n  console.log('--before send--, readyState: ' + this.xhr_.readyState);\n  this.xhr_.send();\n};\n\nexports.default = XHRLoader;\n\n},{}]},{},[20])\n//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9ncnVudC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvY29kZW0taXNvYm94ZXIvZGlzdC9pc29fYm94ZXIuanMiLCJzcmNcXFBsYXllci5qcyIsInNyY1xcU291cmNlQnVmZmVyV3JhcHBlci5qcyIsInNyY1xcVGVzdEZlYXR1cmUuanMiLCJzcmNcXFV0aWxzXFxGaWxlU2F2ZXIuanMiLCJzcmNcXGFkc1xcYWRzX2VuZ2luZS5qcyIsInNyY1xcY2FzdFxcY2FzdF9yZWNlaXZlci5qcyIsInNyY1xcY2FzdFxcY2FzdF9zZW5kZXIuanMiLCJzcmNcXGNhc3RcXGNhc3RfdXRpbHMuanMiLCJzcmNcXGNvcmVcXENvcmVFdmVudHMuanMiLCJzcmNcXGNvcmVcXERlYnVnLmpzIiwic3JjXFxjb3JlXFxFdmVudEJ1cy5qcyIsInNyY1xcY29yZVxcRmFjdG9yeU1ha2VyLmpzIiwic3JjXFxjcnlwdFxcYWVzLWNyeXB0by5qcyIsInNyY1xcY3J5cHRcXGFlcy1kZWNyeXB0b3IuanMiLCJzcmNcXGNyeXB0XFxkZWNyeXB0ZXIuanMiLCJzcmNcXGNyeXB0XFxmYXN0LWFlcy1rZXkuanMiLCJzcmNcXGRybV9lbmdpbmUuanMiLCJzcmNcXGV4dGVybmFsc1xcYmFzZTY0LmpzIiwic3JjXFxzcmNcXGluZGV4LmpzIiwic3JjXFxtZWRpYV9lbmdpbmUuanMiLCJzcmNcXG1lZGlhX3NvdXJjZV9lbmdpbmUuanMiLCJzcmNcXHByb3RlY3Rpb25cXGNvbnRyb2xsZXJcXFByb3RlY3Rpb25LZXlDb250cm9sbGVyLmpzIiwic3JjXFxwcm90ZWN0aW9uXFxkcm1cXEtleVN5c3RlbUNDUGxheVJlYWR5LmpzIiwic3JjXFxwcm90ZWN0aW9uXFxkcm1cXEtleVN5c3RlbUNsZWFyS2V5LmpzIiwic3JjXFxwcm90ZWN0aW9uXFxkcm1cXEtleVN5c3RlbVBsYXlSZWFkeS5qcyIsInNyY1xccHJvdGVjdGlvblxcZHJtXFxLZXlTeXN0ZW1XaWRldmluZS5qcyIsInNyY1xccHJvdGVjdGlvblxcbW9kZWxzXFxQcm90ZWN0aW9uTW9kZWxfMjFKYW4yMDE1LmpzIiwic3JjXFxwcm90ZWN0aW9uXFxtb2RlbHNcXFByb3RlY3Rpb25Nb2RlbF8zRmViMjAxNC5qcyIsInNyY1xccHJvdGVjdGlvblxcdm9cXENvbW1vbkVuY3J5cHRpb24uanMiLCJzcmNcXHByb3RlY3Rpb25cXHZvXFxLU1V0aWxzLmpzIiwic3JjXFxwcm90ZWN0aW9uXFx2b1xcS2V5U3lzdGVtQ29uZmlndXJhdGlvbi5qcyIsInNyY1xccHJvdGVjdGlvblxcdm9cXE1lZGlhQ2FwYWJpbGl0eS5qcyIsInNyY1xcdGVzdFxcQm94UGFyc2VyLmpzIiwic3JjXFx0ZXN0XFxJc29Cb3guanMiLCJzcmNcXHRlc3RcXElzb0ZpbGUuanMiLCJzcmNcXHRlc3RcXFRUTUxQYXJzZXIuanMiLCJzcmNcXHRlc3RcXFZUVFBhcnNlci5qcyIsInNyY1xcdGVzdFxcY2VhNjA4LXBhcnNlci5qcyIsInNyY1xcdGVzdFxcY2VhNzA4LXBhcnNlci5qcyIsInNyY1xcdGVzdFxcY2VhUGFyc2VyTWFuYWdlci5qcyIsInNyY1xcdGVzdFxcdGVzdGNjLmpzIiwic3JjXFx0ZXN0XFx4bWwyanNvbi5qcyIsInNyY1xcdGV4dF9lbmdpbmUuanMiLCJzcmNcXHVpXFx1aV9lbmdpbmUuanMiLCJzcmNcXHV0aWxzXFxFcnJvci5qcyIsInNyY1xcdXRpbHNcXGNvbW1vbl91dGlscy5qcyIsInNyY1xcdXRpbHNcXHN0cmluZ191dGlscy5qcyIsInNyY1xcdXRpbHNcXHRpbWVSYW5nZXMuanMiLCJzcmNcXHV0aWxzXFx4aHJfbG9hZGVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVB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QUFoR0g7O2tCLEFBa0dlIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qISBjb2RlbS1pc29ib3hlciB2MC4yLjIgaHR0cHM6Ly9naXRodWIuY29tL21hZGVieWhpcm8vY29kZW0taXNvYm94ZXIvYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQgKi9cbnZhciBJU09Cb3hlciA9IHt9O1xuXG5JU09Cb3hlci5wYXJzZUJ1ZmZlciA9IGZ1bmN0aW9uKGFycmF5QnVmZmVyKSB7XG4gIHJldHVybiBuZXcgSVNPRmlsZShhcnJheUJ1ZmZlcikucGFyc2UoKTtcbn07XG5cbklTT0JveGVyLlV0aWxzID0ge307XG5JU09Cb3hlci5VdGlscy5kYXRhVmlld1RvU3RyaW5nID0gZnVuY3Rpb24oZGF0YVZpZXcsIGVuY29kaW5nKSB7XG4gIHZhciBpbXBsaWVkRW5jb2RpbmcgPSBlbmNvZGluZyB8fCAndXRmLTgnXG4gIGlmICh0eXBlb2YgVGV4dERlY29kZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG5ldyBUZXh0RGVjb2RlcihpbXBsaWVkRW5jb2RpbmcpLmRlY29kZShkYXRhVmlldyk7XG4gIH1cbiAgdmFyIGEgPSBbXTtcbiAgdmFyIGkgPSAwO1xuICBcbiAgaWYgKGltcGxpZWRFbmNvZGluZyA9PT0gJ3V0Zi04Jykge1xuICAgIC8qIFRoZSBmb2xsb3dpbmcgYWxnb3JpdGhtIGlzIGVzc2VudGlhbGx5IGEgcmV3cml0ZSBvZiB0aGUgVVRGOC5kZWNvZGUgYXQgXG4gICAgaHR0cDovL2Jhbm5pc3Rlci51cy93ZWJsb2cvMjAwNy9zaW1wbGUtYmFzZTY0LWVuY29kZWRlY29kZS1qYXZhc2NyaXB0L1xuICAgICovXG4gIFxuICAgIHdoaWxlIChpIDwgZGF0YVZpZXcuYnl0ZUxlbmd0aCkge1xuICAgICAgdmFyIGMgPSBkYXRhVmlldy5nZXRVaW50OChpKyspO1xuICAgICAgaWYgKGMgPCAweDgwKSB7XG4gICAgICAgIC8vIDEtYnl0ZSBjaGFyYWN0ZXIgKDcgYml0cylcbiAgICAgIH0gZWxzZSBpZiAoYyA8IDB4ZTApIHtcbiAgICAgICAgLy8gMi1ieXRlIGNoYXJhY3RlciAoMTEgYml0cylcbiAgICAgICAgYyA9IChjICYgMHgxZikgPDwgNjtcbiAgICAgICAgYyB8PSAoZGF0YVZpZXcuZ2V0VWludDgoaSsrKSAmIDB4M2YpO1xuICAgICAgfSBlbHNlIGlmIChjIDwgMHhmMCkge1xuICAgICAgICAvLyAzLWJ5dGUgY2hhcmFjdGVyICgxNiBiaXRzKVxuICAgICAgICBjID0gKGMgJiAweGYpIDw8IDEyO1xuICAgICAgICBjIHw9IChkYXRhVmlldy5nZXRVaW50OChpKyspICYgMHgzZikgPDwgNjtcbiAgICAgICAgYyB8PSAoZGF0YVZpZXcuZ2V0VWludDgoaSsrKSAmIDB4M2YpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gNC1ieXRlIGNoYXJhY3RlciAoMjEgYml0cylcbiAgICAgICAgYyA9IChjICYgMHg3KSA8PCAxODtcbiAgICAgICAgYyB8PSAoZGF0YVZpZXcuZ2V0VWludDgoaSsrKSAmIDB4M2YpIDw8IDEyO1xuICAgICAgICBjIHw9IChkYXRhVmlldy5nZXRVaW50OChpKyspICYgMHgzZikgPDwgNjtcbiAgICAgICAgYyB8PSAoZGF0YVZpZXcuZ2V0VWludDgoaSsrKSAmIDB4M2YpO1xuICAgICAgfVxuICAgICAgYS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoYykpO1xuICAgIH1cbiAgfSBlbHNlIHsgLy8gSnVzdCBtYXAgYnl0ZS1ieS1ieXRlIChwcm9iYWJseSB3cm9uZylcbiAgICB3aGlsZSAoaSA8IGRhdGFWaWV3LmJ5dGVMZW5ndGgpIHtcbiAgICAgIGEucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGRhdGFWaWV3LmdldFVpbnQ4KGkrKykpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGEuam9pbignJyk7ICBcbn07XG5cbmlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgZXhwb3J0cy5wYXJzZUJ1ZmZlciA9IElTT0JveGVyLnBhcnNlQnVmZmVyO1xuICBleHBvcnRzLlV0aWxzICAgICAgID0gSVNPQm94ZXIuVXRpbHM7XG59O1xuSVNPQm94ZXIuQ3Vyc29yID0gZnVuY3Rpb24oaW5pdGlhbE9mZnNldCkge1xuICB0aGlzLm9mZnNldCA9ICh0eXBlb2YgaW5pdGlhbE9mZnNldCA9PSAndW5kZWZpbmVkJyA/IDAgOiBpbml0aWFsT2Zmc2V0KTtcbn07XG52YXIgSVNPRmlsZSA9IGZ1bmN0aW9uKGFycmF5QnVmZmVyKSB7XG4gIHRoaXMuX3JhdyA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlcik7XG4gIHRoaXMuX2N1cnNvciA9IG5ldyBJU09Cb3hlci5DdXJzb3IoKTtcbiAgdGhpcy5ib3hlcyA9IFtdO1xufVxuXG5JU09GaWxlLnByb3RvdHlwZS5mZXRjaCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIHJlc3VsdCA9IHRoaXMuZmV0Y2hBbGwodHlwZSwgdHJ1ZSk7XG4gIHJldHVybiAocmVzdWx0Lmxlbmd0aCA/IHJlc3VsdFswXSA6IG51bGwpO1xufVxuXG5JU09GaWxlLnByb3RvdHlwZS5mZXRjaEFsbCA9IGZ1bmN0aW9uKHR5cGUsIHJldHVybkVhcmx5KSB7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgSVNPRmlsZS5fc3dlZXAuY2FsbCh0aGlzLCB0eXBlLCByZXN1bHQsIHJldHVybkVhcmx5KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuSVNPRmlsZS5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fY3Vyc29yLm9mZnNldCA9IDA7XG4gIHRoaXMuYm94ZXMgPSBbXTtcbiAgd2hpbGUgKHRoaXMuX2N1cnNvci5vZmZzZXQgPCB0aGlzLl9yYXcuYnl0ZUxlbmd0aCkge1xuICAgIHZhciBib3ggPSBJU09Cb3gucGFyc2UodGhpcyk7XG5cbiAgICAvLyBCb3ggY291bGQgbm90IGJlIHBhcnNlZFxuICAgIGlmICh0eXBlb2YgYm94LnR5cGUgPT09ICd1bmRlZmluZWQnKSBicmVhaztcblxuICAgIHRoaXMuYm94ZXMucHVzaChib3gpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG5JU09GaWxlLl9zd2VlcCA9IGZ1bmN0aW9uKHR5cGUsIHJlc3VsdCwgcmV0dXJuRWFybHkpIHtcbiAgaWYgKHRoaXMudHlwZSAmJiB0aGlzLnR5cGUgPT0gdHlwZSkgcmVzdWx0LnB1c2godGhpcyk7XG4gIGZvciAodmFyIGJveCBpbiB0aGlzLmJveGVzKSB7XG4gICAgaWYgKHJlc3VsdC5sZW5ndGggJiYgcmV0dXJuRWFybHkpIHJldHVybjtcbiAgICBJU09GaWxlLl9zd2VlcC5jYWxsKHRoaXMuYm94ZXNbYm94XSwgdHlwZSwgcmVzdWx0LCByZXR1cm5FYXJseSk7XG4gIH1cbn07XG52YXIgSVNPQm94ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2N1cnNvciA9IG5ldyBJU09Cb3hlci5DdXJzb3IoKTtcbn1cblxuSVNPQm94LnBhcnNlID0gZnVuY3Rpb24ocGFyZW50KSB7XG4gIHZhciBuZXdCb3ggPSBuZXcgSVNPQm94KCk7XG4gIG5ld0JveC5fb2Zmc2V0ID0gcGFyZW50Ll9jdXJzb3Iub2Zmc2V0O1xuICBuZXdCb3guX3Jvb3QgPSAocGFyZW50Ll9yb290ID8gcGFyZW50Ll9yb290IDogcGFyZW50KTtcbiAgbmV3Qm94Ll9yYXcgPSBwYXJlbnQuX3JhdztcbiAgbmV3Qm94Ll9wYXJlbnQgPSBwYXJlbnQ7XG4gIG5ld0JveC5fcGFyc2VCb3goKTtcbiAgcGFyZW50Ll9jdXJzb3Iub2Zmc2V0ID0gbmV3Qm94Ll9yYXcuYnl0ZU9mZnNldCArIG5ld0JveC5fcmF3LmJ5dGVMZW5ndGg7XG4gIHJldHVybiBuZXdCb3g7XG59XG5cbklTT0JveC5wcm90b3R5cGUuX3JlYWRJbnQgPSBmdW5jdGlvbihzaXplKSB7XG4gIHZhciByZXN1bHQgPSBudWxsO1xuICBzd2l0Y2goc2l6ZSkge1xuICBjYXNlIDg6XG4gICAgcmVzdWx0ID0gdGhpcy5fcmF3LmdldEludDgodGhpcy5fY3Vyc29yLm9mZnNldCAtIHRoaXMuX3Jhdy5ieXRlT2Zmc2V0KTtcbiAgICBicmVhaztcbiAgY2FzZSAxNjpcbiAgICByZXN1bHQgPSB0aGlzLl9yYXcuZ2V0SW50MTYodGhpcy5fY3Vyc29yLm9mZnNldCAtIHRoaXMuX3Jhdy5ieXRlT2Zmc2V0KTtcbiAgICBicmVhaztcbiAgY2FzZSAzMjpcbiAgICByZXN1bHQgPSB0aGlzLl9yYXcuZ2V0SW50MzIodGhpcy5fY3Vyc29yLm9mZnNldCAtIHRoaXMuX3Jhdy5ieXRlT2Zmc2V0KTtcbiAgICBicmVhaztcbiAgY2FzZSA2NDpcbiAgICAvLyBXYXJuaW5nOiBKYXZhU2NyaXB0IGNhbm5vdCBoYW5kbGUgNjQtYml0IGludGVnZXJzIG5hdGl2ZWx5LlxuICAgIC8vIFRoaXMgd2lsbCBnaXZlIHVuZXhwZWN0ZWQgcmVzdWx0cyBmb3IgaW50ZWdlcnMgPj0gMl41M1xuICAgIHZhciBzMSA9IHRoaXMuX3Jhdy5nZXRJbnQzMih0aGlzLl9jdXJzb3Iub2Zmc2V0IC0gdGhpcy5fcmF3LmJ5dGVPZmZzZXQpO1xuICAgIHZhciBzMiA9IHRoaXMuX3Jhdy5nZXRJbnQzMih0aGlzLl9jdXJzb3Iub2Zmc2V0IC0gdGhpcy5fcmF3LmJ5dGVPZmZzZXQgKyA0KTtcbiAgICByZXN1bHQgPSAoczEgKiBNYXRoLnBvdygyLDMyKSkgKyBzMjtcbiAgICBicmVhaztcbiAgfVxuICB0aGlzLl9jdXJzb3Iub2Zmc2V0ICs9IChzaXplID4+IDMpO1xuICByZXR1cm4gcmVzdWx0OyAgICAgICAgXG59XG5cbklTT0JveC5wcm90b3R5cGUuX3JlYWRVaW50ID0gZnVuY3Rpb24oc2l6ZSkge1xuICB2YXIgcmVzdWx0ID0gbnVsbDtcbiAgc3dpdGNoKHNpemUpIHtcbiAgY2FzZSA4OlxuICAgIHJlc3VsdCA9IHRoaXMuX3Jhdy5nZXRVaW50OCh0aGlzLl9jdXJzb3Iub2Zmc2V0IC0gdGhpcy5fcmF3LmJ5dGVPZmZzZXQpO1xuICAgIGJyZWFrO1xuICBjYXNlIDE2OlxuICAgIHJlc3VsdCA9IHRoaXMuX3Jhdy5nZXRVaW50MTYodGhpcy5fY3Vyc29yLm9mZnNldCAtIHRoaXMuX3Jhdy5ieXRlT2Zmc2V0KTtcbiAgICBicmVhaztcbiAgY2FzZSAyNDpcbiAgICB2YXIgczEgPSB0aGlzLl9yYXcuZ2V0VWludDE2KHRoaXMuX2N1cnNvci5vZmZzZXQgLSB0aGlzLl9yYXcuYnl0ZU9mZnNldCk7XG4gICAgdmFyIHMyID0gdGhpcy5fcmF3LmdldFVpbnQ4KHRoaXMuX2N1cnNvci5vZmZzZXQgLSB0aGlzLl9yYXcuYnl0ZU9mZnNldCArIDIpO1xuICAgIHJlc3VsdCA9IChzMSA8PCA4KSArIHMyO1xuICAgIGJyZWFrO1xuICBjYXNlIDMyOlxuICAgIHJlc3VsdCA9IHRoaXMuX3Jhdy5nZXRVaW50MzIodGhpcy5fY3Vyc29yLm9mZnNldCAtIHRoaXMuX3Jhdy5ieXRlT2Zmc2V0KTtcbiAgICBicmVhaztcbiAgY2FzZSA2NDpcbiAgICAvLyBXYXJuaW5nOiBKYXZhU2NyaXB0IGNhbm5vdCBoYW5kbGUgNjQtYml0IGludGVnZXJzIG5hdGl2ZWx5LlxuICAgIC8vIFRoaXMgd2lsbCBnaXZlIHVuZXhwZWN0ZWQgcmVzdWx0cyBmb3IgaW50ZWdlcnMgPj0gMl41M1xuICAgIHZhciBzMSA9IHRoaXMuX3Jhdy5nZXRVaW50MzIodGhpcy5fY3Vyc29yLm9mZnNldCAtIHRoaXMuX3Jhdy5ieXRlT2Zmc2V0KTtcbiAgICB2YXIgczIgPSB0aGlzLl9yYXcuZ2V0VWludDMyKHRoaXMuX2N1cnNvci5vZmZzZXQgLSB0aGlzLl9yYXcuYnl0ZU9mZnNldCArIDQpO1xuICAgIHJlc3VsdCA9IChzMSAqIE1hdGgucG93KDIsMzIpKSArIHMyO1xuICAgIGJyZWFrO1xuICB9XG4gIHRoaXMuX2N1cnNvci5vZmZzZXQgKz0gKHNpemUgPj4gMyk7XG4gIHJldHVybiByZXN1bHQ7ICAgICAgICBcbn1cblxuSVNPQm94LnByb3RvdHlwZS5fcmVhZFN0cmluZyA9IGZ1bmN0aW9uKGxlbmd0aCkge1xuICB2YXIgc3RyID0gJyc7XG4gIGZvciAodmFyIGMgPSAwOyBjIDwgbGVuZ3RoOyBjKyspIHtcbiAgICB2YXIgY2hhciA9IHRoaXMuX3JlYWRVaW50KDgpO1xuICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoYXIpO1xuICB9XG4gIHJldHVybiBzdHI7ICAgIFxufVxuXG5JU09Cb3gucHJvdG90eXBlLl9yZWFkVGVybWluYXRlZFN0cmluZyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgc3RyID0gJyc7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgdmFyIGNoYXIgPSB0aGlzLl9yZWFkVWludCg4KTtcbiAgICBpZiAoY2hhciA9PSAwKSBicmVhaztcbiAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyKTtcbiAgfVxuICByZXR1cm4gc3RyO1xufVxuXG5JU09Cb3gucHJvdG90eXBlLl9yZWFkVGVtcGxhdGUgPSBmdW5jdGlvbihzaXplKSB7XG4gIHZhciBwcmUgPSB0aGlzLl9yZWFkVWludChzaXplIC8gMik7XG4gIHZhciBwb3N0ID0gdGhpcy5fcmVhZFVpbnQoc2l6ZSAvIDIpO1xuICByZXR1cm4gcHJlICsgKHBvc3QgLyBNYXRoLnBvdygyLCBzaXplIC8gMikpO1xufVxuXG5JU09Cb3gucHJvdG90eXBlLl9wYXJzZUJveCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jdXJzb3Iub2Zmc2V0ID0gdGhpcy5fb2Zmc2V0O1xuICBcbiAgLy8gcmV0dXJuIGltbWVkaWF0ZWx5IGlmIHRoZXJlIGFyZSBub3QgZW5vdWdoIGJ5dGVzIHRvIHJlYWQgdGhlIGhlYWRlclxuICBpZiAodGhpcy5fb2Zmc2V0ICsgOCA+IHRoaXMuX3Jhdy5idWZmZXIuYnl0ZUxlbmd0aCkge1xuICAgIHRoaXMuX3Jvb3QuX2luY29tcGxldGUgPSB0cnVlO1xuICAgIHJldHVybjtcbiAgfVxuICBcbiAgdGhpcy5zaXplID0gdGhpcy5fcmVhZFVpbnQoMzIpO1xuICB0aGlzLnR5cGUgPSB0aGlzLl9yZWFkU3RyaW5nKDQpO1xuXG4gIGlmICh0aGlzLnNpemUgPT0gMSkgICAgICB7IHRoaXMubGFyZ2VzaXplID0gdGhpcy5fcmVhZFVpbnQoNjQpOyB9XG4gIGlmICh0aGlzLnR5cGUgPT0gJ3V1aWQnKSB7IHRoaXMudXNlcnR5cGUgPSB0aGlzLl9yZWFkU3RyaW5nKDE2KTsgfVxuXG4gIHN3aXRjaCh0aGlzLnNpemUpIHtcbiAgY2FzZSAwOlxuICAgIHRoaXMuX3JhdyA9IG5ldyBEYXRhVmlldyh0aGlzLl9yYXcuYnVmZmVyLCB0aGlzLl9vZmZzZXQsICh0aGlzLl9yYXcuYnl0ZUxlbmd0aCAtIHRoaXMuX2N1cnNvci5vZmZzZXQpKTtcbiAgICBicmVhaztcbiAgY2FzZSAxOlxuICAgIGlmICh0aGlzLl9vZmZzZXQgKyB0aGlzLnNpemUgPiB0aGlzLl9yYXcuYnVmZmVyLmJ5dGVMZW5ndGgpIHtcbiAgICAgIHRoaXMuX2luY29tcGxldGUgPSB0cnVlO1xuICAgICAgdGhpcy5fcm9vdC5faW5jb21wbGV0ZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3JhdyA9IG5ldyBEYXRhVmlldyh0aGlzLl9yYXcuYnVmZmVyLCB0aGlzLl9vZmZzZXQsIHRoaXMubGFyZ2VzaXplKTsgICAgICBcbiAgICB9XG4gICAgYnJlYWs7XG4gIGRlZmF1bHQ6XG4gICAgaWYgKHRoaXMuX29mZnNldCArIHRoaXMuc2l6ZSA+IHRoaXMuX3Jhdy5idWZmZXIuYnl0ZUxlbmd0aCkge1xuICAgICAgdGhpcy5faW5jb21wbGV0ZSA9IHRydWU7XG4gICAgICB0aGlzLl9yb290Ll9pbmNvbXBsZXRlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcmF3ID0gbmV3IERhdGFWaWV3KHRoaXMuX3Jhdy5idWZmZXIsIHRoaXMuX29mZnNldCwgdGhpcy5zaXplKTsgICAgICBcbiAgICB9XG4gIH1cblxuICAvLyBhZGRpdGlvbmFsIHBhcnNpbmdcbiAgaWYgKCF0aGlzLl9pbmNvbXBsZXRlICYmIHRoaXMuX2JveFBhcnNlcnNbdGhpcy50eXBlXSkgdGhpcy5fYm94UGFyc2Vyc1t0aGlzLnR5cGVdLmNhbGwodGhpcyk7ICAgIFxufVxuXG5JU09Cb3gucHJvdG90eXBlLl9wYXJzZUZ1bGxCb3ggPSBmdW5jdGlvbigpIHtcbiAgdGhpcy52ZXJzaW9uID0gdGhpcy5fcmVhZFVpbnQoOCk7XG4gIHRoaXMuZmxhZ3MgPSB0aGlzLl9yZWFkVWludCgyNCk7XG59XG5cbklTT0JveC5wcm90b3R5cGUuX2JveFBhcnNlcnMgPSB7fTs7XG4vLyBTaW1wbGUgY29udGFpbmVyIGJveGVzLCBhbGwgZnJvbSBJU08vSUVDIDE0NDk2LTEyOjIwMTIgZXhjZXB0IHZ0dGMgd2hpY2ggaXMgZnJvbSAxNDQ5Ni0zMC5cbltcbiAgJ21vb3YnLCAndHJhaycsICd0cmVmJywgJ21kaWEnLCAnbWluZicsICdzdGJsJywgJ2VkdHMnLCAnZGluZicsXG4gICdtdmV4JywgJ21vb2YnLCAndHJhZicsICdtZnJhJywgJ3VkdGEnLCAnbWVjbycsICdzdHJrJywgJ3Z0dGMnXG5dLmZvckVhY2goZnVuY3Rpb24oYm94VHlwZSkge1xuICBJU09Cb3gucHJvdG90eXBlLl9ib3hQYXJzZXJzW2JveFR5cGVdID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5ib3hlcyA9IFtdO1xuICAgIHdoaWxlICh0aGlzLl9jdXJzb3Iub2Zmc2V0IC0gdGhpcy5fcmF3LmJ5dGVPZmZzZXQgPCB0aGlzLl9yYXcuYnl0ZUxlbmd0aCkge1xuICAgICAgdGhpcy5ib3hlcy5wdXNoKElTT0JveC5wYXJzZSh0aGlzKSk7XG4gICAgfSAgXG4gIH0gIFxufSlcbjtcbi8vIElTTy9JRUMgMTQ0OTYtMTI6MjAxMiAtIDguNi42IEVkaXQgTGlzdCBCb3hcbklTT0JveC5wcm90b3R5cGUuX2JveFBhcnNlcnNbJ2Vsc3QnXSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9wYXJzZUZ1bGxCb3goKTtcbiAgdGhpcy5lbnRyeV9jb3VudCA9IHRoaXMuX3JlYWRVaW50KDMyKTtcbiAgdGhpcy5lbnRyaWVzID0gW107XG4gIFxuICBmb3IgKHZhciBpPTE7IGkgPD0gdGhpcy5lbnRyeV9jb3VudDsgaSsrKSB7XG4gICAgdmFyIGVudHJ5ID0ge307XG4gICAgaWYgKHRoaXMudmVyc2lvbiA9PSAxKSB7XG4gICAgICBlbnRyeS5zZWdtZW50X2R1cmF0aW9uICA9IHRoaXMuX3JlYWRVaW50KDY0KTtcbiAgICAgIGVudHJ5Lm1lZGlhX3RpbWUgICAgICAgID0gdGhpcy5fcmVhZEludCg2NCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVudHJ5LnNlZ21lbnRfZHVyYXRpb24gID0gdGhpcy5fcmVhZFVpbnQoMzIpO1xuICAgICAgZW50cnkubWVkaWFfdGltZSAgICAgICAgPSB0aGlzLl9yZWFkSW50KDMyKTtcbiAgICB9XG4gICAgZW50cnkubWVkaWFfcmF0ZV9pbnRlZ2VyICA9IHRoaXMuX3JlYWRJbnQoMTYpO1xuICAgIGVudHJ5Lm1lZGlhX3JhdGVfZnJhY3Rpb24gPSB0aGlzLl9yZWFkSW50KDE2KTtcbiAgICB0aGlzLmVudHJpZXMucHVzaChlbnRyeSk7XG4gIH1cbn07XG4vLyBJU08vSUVDIDIzMDA5LTE6MjAxNCAtIDUuMTAuMy4zIEV2ZW50IE1lc3NhZ2UgQm94XG5JU09Cb3gucHJvdG90eXBlLl9ib3hQYXJzZXJzWydlbXNnJ10gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fcGFyc2VGdWxsQm94KCk7XG4gIHRoaXMuc2NoZW1lX2lkX3VyaSAgICAgICAgICAgPSB0aGlzLl9yZWFkVGVybWluYXRlZFN0cmluZygpO1xuICB0aGlzLnZhbHVlICAgICAgICAgICAgICAgICAgID0gdGhpcy5fcmVhZFRlcm1pbmF0ZWRTdHJpbmcoKTtcbiAgdGhpcy50aW1lc2NhbGUgICAgICAgICAgICAgICA9IHRoaXMuX3JlYWRVaW50KDMyKTtcbiAgdGhpcy5wcmVzZW50YXRpb25fdGltZV9kZWx0YSA9IHRoaXMuX3JlYWRVaW50KDMyKTtcbiAgdGhpcy5ldmVudF9kdXJhdGlvbiAgICAgICAgICA9IHRoaXMuX3JlYWRVaW50KDMyKTtcbiAgdGhpcy5pZCAgICAgICAgICAgICAgICAgICAgICA9IHRoaXMuX3JlYWRVaW50KDMyKTtcbiAgdGhpcy5tZXNzYWdlX2RhdGEgICAgICAgICAgICA9IG5ldyBEYXRhVmlldyh0aGlzLl9yYXcuYnVmZmVyLCB0aGlzLl9jdXJzb3Iub2Zmc2V0LCB0aGlzLl9yYXcuYnl0ZUxlbmd0aCAtICh0aGlzLl9jdXJzb3Iub2Zmc2V0IC0gdGhpcy5fb2Zmc2V0KSk7XG59O1xuLy8gSVNPL0lFQyAxNDQ5Ni0xMjoyMDEyIC0gOC4xLjIgRnJlZSBTcGFjZSBCb3hcbklTT0JveC5wcm90b3R5cGUuX2JveFBhcnNlcnNbJ2ZyZWUnXSA9IElTT0JveC5wcm90b3R5cGUuX2JveFBhcnNlcnNbJ3NraXAnXSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmRhdGEgPSBuZXcgRGF0YVZpZXcodGhpcy5fcmF3LmJ1ZmZlciwgdGhpcy5fY3Vyc29yLm9mZnNldCwgdGhpcy5fcmF3LmJ5dGVMZW5ndGggLSAodGhpcy5fY3Vyc29yLm9mZnNldCAtIHRoaXMuX29mZnNldCkpO1xufTtcbi8vIElTTy9JRUMgMTQ0OTYtMTI6MjAxMiAtIDQuMyBGaWxlIFR5cGUgQm94IC8gOC4xNi4yIFNlZ21lbnQgVHlwZSBCb3hcbklTT0JveC5wcm90b3R5cGUuX2JveFBhcnNlcnNbJ2Z0eXAnXSA9IElTT0JveC5wcm90b3R5cGUuX2JveFBhcnNlcnNbJ3N0eXAnXSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLm1ham9yX2JyYW5kID0gdGhpcy5fcmVhZFN0cmluZyg0KTtcbiAgdGhpcy5taW5vcl92ZXJzaW9ucyA9IHRoaXMuX3JlYWRVaW50KDMyKTtcbiAgdGhpcy5jb21wYXRpYmxlX2JyYW5kcyA9IFtdO1xuICBcbiAgd2hpbGUgKHRoaXMuX2N1cnNvci5vZmZzZXQgLSB0aGlzLl9yYXcuYnl0ZU9mZnNldCA8IHRoaXMuX3Jhdy5ieXRlTGVuZ3RoKSB7XG4gICAgdGhpcy5jb21wYXRpYmxlX2JyYW5kcy5wdXNoKHRoaXMuX3JlYWRTdHJpbmcoNCkpO1xuICB9XG59O1xuLy8gSVNPL0lFQyAxNDQ5Ni0xMjoyMDEyIC0gOC40LjMgSGFuZGxlciBSZWZlcmVuY2UgQm94XG5JU09Cb3gucHJvdG90eXBlLl9ib3hQYXJzZXJzWydoZGxyJ10gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fcGFyc2VGdWxsQm94KCk7XG4gIHRoaXMucHJlX2RlZmluZWQgPSB0aGlzLl9yZWFkVWludCgzMik7XG4gIHRoaXMuaGFuZGxlcl90eXBlID0gdGhpcy5fcmVhZFN0cmluZyg0KTtcbiAgdGhpcy5yZXNlcnZlZCA9IFt0aGlzLl9yZWFkVWludCgzMiksIHRoaXMuX3JlYWRVaW50KDMyKSwgdGhpcy5fcmVhZFVpbnQoMzIpXVxuICB0aGlzLm5hbWUgPSB0aGlzLl9yZWFkVGVybWluYXRlZFN0cmluZygpXG59O1xuLy8gSVNPL0lFQyAxNDQ5Ni0xMjoyMDEyIC0gOC4xLjEgTWVkaWEgRGF0YSBCb3hcbklTT0JveC5wcm90b3R5cGUuX2JveFBhcnNlcnNbJ21kYXQnXSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmRhdGEgPSBuZXcgRGF0YVZpZXcodGhpcy5fcmF3LmJ1ZmZlciwgdGhpcy5fY3Vyc29yLm9mZnNldCwgdGhpcy5fcmF3LmJ5dGVMZW5ndGggLSAodGhpcy5fY3Vyc29yLm9mZnNldCAtIHRoaXMuX29mZnNldCkpO1xufTtcbi8vIElTTy9JRUMgMTQ0OTYtMTI6MjAxMiAtIDguNC4yIE1lZGlhIEhlYWRlciBCb3hcbklTT0JveC5wcm90b3R5cGUuX2JveFBhcnNlcnNbJ21kaGQnXSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9wYXJzZUZ1bGxCb3goKTtcbiAgaWYgKHRoaXMudmVyc2lvbiA9PSAxKSB7XG4gICAgdGhpcy5jcmVhdGlvbl90aW1lID0gdGhpcy5fcmVhZFVpbnQoNjQpO1xuICAgIHRoaXMubW9kaWZpY2F0aW9uX3RpbWUgPSB0aGlzLl9yZWFkVWludCg2NCk7XG4gICAgdGhpcy50aW1lc2NhbGUgPSB0aGlzLl9yZWFkVWludCgzMik7XG4gICAgdGhpcy5kdXJhdGlvbiA9IHRoaXMuX3JlYWRVaW50KDY0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmNyZWF0aW9uX3RpbWUgPSB0aGlzLl9yZWFkVWludCgzMik7XG4gICAgdGhpcy5tb2RpZmljYXRpb25fdGltZSA9IHRoaXMuX3JlYWRVaW50KDMyKTtcbiAgICB0aGlzLnRpbWVzY2FsZSA9IHRoaXMuX3JlYWRVaW50KDMyKTtcbiAgICB0aGlzLmR1cmF0aW9uID0gdGhpcy5fcmVhZFVpbnQoMzIpO1xuICB9XG4gIHZhciBsYW5ndWFnZSA9IHRoaXMuX3JlYWRVaW50KDE2KTtcbiAgdGhpcy5wYWQgPSAobGFuZ3VhZ2UgPj4gMTUpO1xuICB0aGlzLmxhbmd1YWdlID0gU3RyaW5nLmZyb21DaGFyQ29kZShcbiAgICAoKGxhbmd1YWdlID4+IDEwKSAmIDB4MUYpICsgMHg2MCxcbiAgICAoKGxhbmd1YWdlID4+IDUpICYgMHgxRikgKyAweDYwLFxuICAgIChsYW5ndWFnZSAmIDB4MUYpICsgMHg2MFxuICApO1xuICB0aGlzLnByZV9kZWZpbmVkID0gdGhpcy5fcmVhZFVpbnQoMTYpO1xufTtcbi8vIElTTy9JRUMgMTQ0OTYtMTI6MjAxMiAtIDguOC41IE1vdmllIEZyYWdtZW50IEhlYWRlciBCb3hcbklTT0JveC5wcm90b3R5cGUuX2JveFBhcnNlcnNbJ21maGQnXSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9wYXJzZUZ1bGxCb3goKTtcbiAgdGhpcy5zZXF1ZW5jZV9udW1iZXIgPSB0aGlzLl9yZWFkVWludCgzMik7XG59O1xuLy8gSVNPL0lFQyAxNDQ5Ni0xMjoyMDEyIC0gOC4yLjIgTW92aWUgSGVhZGVyIEJveFxuSVNPQm94LnByb3RvdHlwZS5fYm94UGFyc2Vyc1snbXZoZCddID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3BhcnNlRnVsbEJveCgpO1xuICBcbiAgaWYgKHRoaXMudmVyc2lvbiA9PSAxKSB7XG4gICAgdGhpcy5jcmVhdGlvbl90aW1lICAgICA9IHRoaXMuX3JlYWRVaW50KDY0KTtcbiAgICB0aGlzLm1vZGlmaWNhdGlvbl90aW1lID0gdGhpcy5fcmVhZFVpbnQoNjQpO1xuICAgIHRoaXMudGltZXNjYWxlICAgICAgICAgPSB0aGlzLl9yZWFkVWludCgzMik7XG4gICAgdGhpcy5kdXJhdGlvbiAgICAgICAgICA9IHRoaXMuX3JlYWRVaW50KDY0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmNyZWF0aW9uX3RpbWUgICAgID0gdGhpcy5fcmVhZFVpbnQoMzIpO1xuICAgIHRoaXMubW9kaWZpY2F0aW9uX3RpbWUgPSB0aGlzLl9yZWFkVWludCgzMik7XG4gICAgdGhpcy50aW1lc2NhbGUgICAgICAgICA9IHRoaXMuX3JlYWRVaW50KDMyKTtcbiAgICB0aGlzLmR1cmF0aW9uICAgICAgICAgID0gdGhpcy5fcmVhZFVpbnQoMzIpOyAgICAgIFxuICB9XG4gIFxuICB0aGlzLnJhdGUgICAgICA9IHRoaXMuX3JlYWRUZW1wbGF0ZSgzMik7XG4gIHRoaXMudm9sdW1lICAgID0gdGhpcy5fcmVhZFRlbXBsYXRlKDE2KTtcbiAgdGhpcy5yZXNlcnZlZDEgPSB0aGlzLl9yZWFkVWludCgxNik7XG4gIHRoaXMucmVzZXJ2ZWQyID0gWyB0aGlzLl9yZWFkVWludCgzMiksIHRoaXMuX3JlYWRVaW50KDMyKSBdO1xuICB0aGlzLm1hdHJpeCA9IFtdO1xuICBmb3IgKHZhciBpPTA7IGk8OTsgaSsrKSB7XG4gICAgdGhpcy5tYXRyaXgucHVzaCh0aGlzLl9yZWFkVGVtcGxhdGUoMzIpKTtcbiAgfVxuICB0aGlzLnByZV9kZWZpbmVkID0gW107XG4gIGZvciAodmFyIGk9MDsgaTw2OyBpKyspIHtcbiAgICB0aGlzLnByZV9kZWZpbmVkLnB1c2godGhpcy5fcmVhZFVpbnQoMzIpKTtcbiAgfVxuICB0aGlzLm5leHRfdHJhY2tfSUQgPSB0aGlzLl9yZWFkVWludCgzMik7XG59O1xuLy8gSVNPL0lFQyAxNDQ5Ni0zMDoyMDE0IC0gV2ViVlRUIEN1ZSBQYXlsb2FkIEJveC5cbklTT0JveC5wcm90b3R5cGUuX2JveFBhcnNlcnNbJ3BheWwnXSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY3VlX3RleHRfcmF3ID0gbmV3IERhdGFWaWV3KHRoaXMuX3Jhdy5idWZmZXIsIHRoaXMuX2N1cnNvci5vZmZzZXQsIHRoaXMuX3Jhdy5ieXRlTGVuZ3RoIC0gKHRoaXMuX2N1cnNvci5vZmZzZXQgLSB0aGlzLl9vZmZzZXQpKTtcbiAgdGhpcy5jdWVfdGV4dCA9IElTT0JveGVyLlV0aWxzLmRhdGFWaWV3VG9TdHJpbmcoY3VlX3RleHRfcmF3KTtcbn1cbjtcbi8vIElTTy9JRUMgMTQ0OTYtMTI6MjAxMiAtIDguMTYuMyBTZWdtZW50IEluZGV4IEJveFxuSVNPQm94LnByb3RvdHlwZS5fYm94UGFyc2Vyc1snc2lkeCddID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3BhcnNlRnVsbEJveCgpO1xuICB0aGlzLnJlZmVyZW5jZV9JRCA9IHRoaXMuX3JlYWRVaW50KDMyKTtcbiAgdGhpcy50aW1lc2NhbGUgPSB0aGlzLl9yZWFkVWludCgzMik7XG4gIGlmICh0aGlzLnZlcnNpb24gPT0gMCkge1xuICAgIHRoaXMuZWFybGllc3RfcHJlc2VudGF0aW9uX3RpbWUgPSB0aGlzLl9yZWFkVWludCgzMik7XG4gICAgdGhpcy5maXJzdF9vZmZzZXQgPSB0aGlzLl9yZWFkVWludCgzMik7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5lYXJsaWVzdF9wcmVzZW50YXRpb25fdGltZSA9IHRoaXMuX3JlYWRVaW50KDY0KTtcbiAgICB0aGlzLmZpcnN0X29mZnNldCA9IHRoaXMuX3JlYWRVaW50KDY0KTsgICAgXG4gIH1cbiAgdGhpcy5yZXNlcnZlZCA9IHRoaXMuX3JlYWRVaW50KDE2KTtcbiAgdGhpcy5yZWZlcmVuY2VfY291bnQgPSB0aGlzLl9yZWFkVWludCgxNik7XG4gIHRoaXMucmVmZXJlbmNlcyA9IFtdO1xuICBmb3IgKHZhciBpPTA7IGk8dGhpcy5yZWZlcmVuY2VfY291bnQ7IGkrKykge1xuICAgIHZhciByZWYgPSB7fTtcbiAgICB2YXIgcmVmZXJlbmNlID0gdGhpcy5fcmVhZFVpbnQoMzIpO1xuICAgIHJlZi5yZWZlcmVuY2VfdHlwZSA9IChyZWZlcmVuY2UgPj4gMzEpICYgMHgxO1xuICAgIHJlZi5yZWZlcmVuY2VkX3NpemUgPSByZWZlcmVuY2UgJiAweDdGRkZGRkZGO1xuICAgIHJlZi5zdWJzZWdtZW50X2R1cmF0aW9uID0gdGhpcy5fcmVhZFVpbnQoMzIpO1xuICAgIHZhciBzYXAgPSB0aGlzLl9yZWFkVWludCgzMik7XG4gICAgcmVmLnN0YXJ0c193aXRoX1NBUCA9IChzYXAgPj4gMzEpICYgMHgxO1xuICAgIHJlZi5TQVBfdHlwZSA9IChzYXAgPj4gMjgpICYgMHg3O1xuICAgIHJlZi5TQVBfZGVsdGFfdGltZSA9IHNhcCAmIDB4RkZGRkZGRjtcbiAgICB0aGlzLnJlZmVyZW5jZXMucHVzaChyZWYpO1xuICB9XG59O1xuLy8gSVNPL0lFQyAxNDQ5Ni0xMjoyMDEyIC0gOC4xNi40IFN1YnNlZ21lbnQgSW5kZXggQm94XG5JU09Cb3gucHJvdG90eXBlLl9ib3hQYXJzZXJzWydzc2l4J10gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fcGFyc2VGdWxsQm94KCk7XG4gIHRoaXMuc3Vic2VnbWVudF9jb3VudCA9IHRoaXMuX3JlYWRVaW50KDMyKTtcbiAgdGhpcy5zdWJzZWdtZW50cyA9IFtdO1xuXG4gIGZvciAodmFyIGk9MDsgaTx0aGlzLnN1YnNlZ21lbnRfY291bnQ7IGkrKykge1xuICAgIHZhciBzdWJzZWdtZW50ID0ge307XG4gICAgc3Vic2VnbWVudC5yYW5nZXNfY291bnQgPSB0aGlzLl9yZWFkVWludCgzMik7XG4gICAgc3Vic2VnbWVudC5yYW5nZXMgPSBbXTtcbiAgICBcbiAgICBmb3IgKHZhciBqPTA7IGo8c3Vic2VnbWVudC5yYW5nZXNfY291bnQ7IGorKykge1xuICAgICAgdmFyIHJhbmdlID0ge307XG4gICAgICByYW5nZS5sZXZlbCA9IHRoaXMuX3JlYWRVaW50KDgpO1xuICAgICAgcmFuZ2UucmFuZ2Vfc2l6ZSA9IHRoaXMuX3JlYWRVaW50KDI0KTtcbiAgICAgIHN1YnNlZ21lbnQucmFuZ2VzLnB1c2gocmFuZ2UpO1xuICAgIH1cbiAgICB0aGlzLnN1YnNlZ21lbnRzLnB1c2goc3Vic2VnbWVudCk7XG4gIH1cbn07XG4vLyBJU08vSUVDIDE0NDk2LTEyOjIwMTIgLSA4LjguMTIgVHJhY2sgRnJhZ21uZW50IERlY29kZSBUaW1lXG5JU09Cb3gucHJvdG90eXBlLl9ib3hQYXJzZXJzWyd0ZmR0J10gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fcGFyc2VGdWxsQm94KCk7XG4gIGlmICh0aGlzLnZlcnNpb24gPT0gMSkge1xuICAgIHRoaXMuYmFzZU1lZGlhRGVjb2RlVGltZSA9IHRoaXMuX3JlYWRVaW50KDY0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmJhc2VNZWRpYURlY29kZVRpbWUgPSB0aGlzLl9yZWFkVWludCgzMik7ICAgIFxuICB9XG59O1xuLy8gSVNPL0lFQyAxNDQ5Ni0xMjoyMDEyIC0gOC44LjcgVHJhY2sgRnJhZ21lbnQgSGVhZGVyIEJveFxuSVNPQm94LnByb3RvdHlwZS5fYm94UGFyc2Vyc1sndGZoZCddID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3BhcnNlRnVsbEJveCgpO1xuICB0aGlzLnRyYWNrX0lEID0gdGhpcy5fcmVhZFVpbnQoMzIpO1xuICBpZiAodGhpcy5mbGFncyAmIDB4MSkgdGhpcy5iYXNlX2RhdGFfb2Zmc2V0ID0gdGhpcy5fcmVhZFVpbnQoNjQpO1xuICBpZiAodGhpcy5mbGFncyAmIDB4MikgdGhpcy5zYW1wbGVfZGVzY3JpcHRpb25fb2Zmc2V0ID0gdGhpcy5fcmVhZFVpbnQoMzIpO1xuICBpZiAodGhpcy5mbGFncyAmIDB4OCkgdGhpcy5kZWZhdWx0X3NhbXBsZV9kdXJhdGlvbiA9IHRoaXMuX3JlYWRVaW50KDMyKTtcbiAgaWYgKHRoaXMuZmxhZ3MgJiAweDEwKSB0aGlzLmRlZmF1bHRfc2FtcGxlX3NpemUgPSB0aGlzLl9yZWFkVWludCgzMik7XG4gIGlmICh0aGlzLmZsYWdzICYgMHgyMCkgdGhpcy5kZWZhdWx0X3NhbXBsZV9mbGFncyA9IHRoaXMuX3JlYWRVaW50KDMyKTtcbn07XG4vLyBJU08vSUVDIDE0NDk2LTEyOjIwMTIgLSA4LjMuMiBUcmFjayBIZWFkZXIgQm94XG5JU09Cb3gucHJvdG90eXBlLl9ib3hQYXJzZXJzWyd0a2hkJ10gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fcGFyc2VGdWxsQm94KCk7XG4gIFxuICBpZiAodGhpcy52ZXJzaW9uID09IDEpIHtcbiAgICB0aGlzLmNyZWF0aW9uX3RpbWUgICAgID0gdGhpcy5fcmVhZFVpbnQoNjQpO1xuICAgIHRoaXMubW9kaWZpY2F0aW9uX3RpbWUgPSB0aGlzLl9yZWFkVWludCg2NCk7XG4gICAgdGhpcy50cmFja19JRCAgICAgICAgICA9IHRoaXMuX3JlYWRVaW50KDMyKTtcbiAgICB0aGlzLnJlc2VydmVkMSAgICAgICAgID0gdGhpcy5fcmVhZFVpbnQoMzIpO1xuICAgIHRoaXMuZHVyYXRpb24gICAgICAgICAgPSB0aGlzLl9yZWFkVWludCg2NCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5jcmVhdGlvbl90aW1lICAgICA9IHRoaXMuX3JlYWRVaW50KDMyKTtcbiAgICB0aGlzLm1vZGlmaWNhdGlvbl90aW1lID0gdGhpcy5fcmVhZFVpbnQoMzIpO1xuICAgIHRoaXMudHJhY2tfSUQgICAgICAgICAgPSB0aGlzLl9yZWFkVWludCgzMik7XG4gICAgdGhpcy5yZXNlcnZlZDEgICAgICAgICA9IHRoaXMuX3JlYWRVaW50KDMyKTtcbiAgICB0aGlzLmR1cmF0aW9uICAgICAgICAgID0gdGhpcy5fcmVhZFVpbnQoMzIpO1xuICB9XG4gIFxuICB0aGlzLnJlc2VydmVkMiA9IFtcbiAgICB0aGlzLl9yZWFkVWludCgzMiksXG4gICAgdGhpcy5fcmVhZFVpbnQoMzIpXG4gIF07XG4gIHRoaXMubGF5ZXIgPSB0aGlzLl9yZWFkVWludCgxNik7XG4gIHRoaXMuYWx0ZXJuYXRlX2dyb3VwID0gdGhpcy5fcmVhZFVpbnQoMTYpO1xuICB0aGlzLnZvbHVtZSA9IHRoaXMuX3JlYWRUZW1wbGF0ZSgxNik7XG4gIHRoaXMucmVzZXJ2ZWQzID0gdGhpcy5fcmVhZFVpbnQoMTYpO1xuICB0aGlzLm1hdHJpeCA9IFtdO1xuICBmb3IgKHZhciBpPTA7IGk8OTsgaSsrKSB7XG4gICAgdGhpcy5tYXRyaXgucHVzaCh0aGlzLl9yZWFkVGVtcGxhdGUoMzIpKTtcbiAgfVxuICB0aGlzLndpZHRoID0gdGhpcy5fcmVhZFVpbnQoMzIpO1xuICB0aGlzLmhlaWdodCA9IHRoaXMuX3JlYWRVaW50KDMyKTtcbn07XG4vLyBJU08vSUVDIDE0NDk2LTEyOjIwMTIgLSA4LjguOCBUcmFjayBSdW4gQm94XG4vLyBOb3RlOiB0aGUgJ3RydW4nIGJveCBoYXMgYSBkaXJlY3QgcmVsYXRpb24gdG8gdGhlICd0ZmhkJyBib3ggZm9yIGRlZmF1bHRzLlxuLy8gVGhlc2UgZGVmYXVsdHMgYXJlIG5vdCBzZXQgZXhwbGljaXRseSBoZXJlLCBidXQgYXJlIGxlZnQgdG8gcmVzb2x2ZSBmb3IgdGhlIHVzZXIuXG5JU09Cb3gucHJvdG90eXBlLl9ib3hQYXJzZXJzWyd0cnVuJ10gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fcGFyc2VGdWxsQm94KCk7XG4gIHRoaXMuc2FtcGxlX2NvdW50ID0gdGhpcy5fcmVhZFVpbnQoMzIpO1xuICBpZiAodGhpcy5mbGFncyAmIDB4MSkgdGhpcy5kYXRhX29mZnNldCA9IHRoaXMuX3JlYWRJbnQoMzIpO1xuICBpZiAodGhpcy5mbGFncyAmIDB4NCkgdGhpcy5maXJzdF9zYW1wbGVfZmxhZ3MgPSB0aGlzLl9yZWFkVWludCgzMik7XG4gIHRoaXMuc2FtcGxlcyA9IFtdO1xuICBmb3IgKHZhciBpPTA7IGk8dGhpcy5zYW1wbGVfY291bnQ7IGkrKykge1xuICAgIHZhciBzYW1wbGUgPSB7fTtcbiAgICBpZiAodGhpcy5mbGFncyAmIDB4MTAwKSBzYW1wbGUuc2FtcGxlX2R1cmF0aW9uID0gdGhpcy5fcmVhZFVpbnQoMzIpO1xuICAgIGlmICh0aGlzLmZsYWdzICYgMHgyMDApIHNhbXBsZS5zYW1wbGVfc2l6ZSA9IHRoaXMuX3JlYWRVaW50KDMyKTtcbiAgICBpZiAodGhpcy5mbGFncyAmIDB4NDAwKSBzYW1wbGUuc2FtcGxlX2ZsYWdzID0gdGhpcy5fcmVhZFVpbnQoMzIpO1xuICAgIGlmICh0aGlzLmZsYWdzICYgMHg4MDApIHtcbiAgICAgIGlmICh0aGlzLnZlcnNpb24gPT0gMCkge1xuICAgICAgICBzYW1wbGUuc2FtcGxlX2NvbXBvc2l0aW9uX3RpbWVfb2Zmc2V0ID0gdGhpcy5fcmVhZFVpbnQoMzIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2FtcGxlLnNhbXBsZV9jb21wb3NpdGlvbl90aW1lX29mZnNldCA9IHRoaXMuX3JlYWRJbnQoMzIpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnNhbXBsZXMucHVzaChzYW1wbGUpO1xuICB9XG59O1xuLy8gSVNPL0lFQyAxNDQ5Ni0zMDoyMDE0IC0gV2ViVlRUIFNvdXJjZSBMYWJlbCBCb3hcbklTT0JveC5wcm90b3R5cGUuX2JveFBhcnNlcnNbJ3ZsYWInXSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgc291cmNlX2xhYmVsX3JhdyA9IG5ldyBEYXRhVmlldyh0aGlzLl9yYXcuYnVmZmVyLCB0aGlzLl9jdXJzb3Iub2Zmc2V0LCB0aGlzLl9yYXcuYnl0ZUxlbmd0aCAtICh0aGlzLl9jdXJzb3Iub2Zmc2V0IC0gdGhpcy5fb2Zmc2V0KSk7XG4gIHRoaXMuc291cmNlX2xhYmVsID0gSVNPQm94ZXIuVXRpbHMuZGF0YVZpZXdUb1N0cmluZyhzb3VyY2VfbGFiZWxfcmF3KTtcbn1cbjtcbi8vIElTTy9JRUMgMTQ0OTYtMzA6MjAxNCAtIFdlYlZUVCBDb25maWd1cmF0aW9uIEJveFxuSVNPQm94LnByb3RvdHlwZS5fYm94UGFyc2Vyc1sndnR0QyddID0gZnVuY3Rpb24oKSB7XG4gIHZhciBjb25maWdfcmF3ID0gbmV3IERhdGFWaWV3KHRoaXMuX3Jhdy5idWZmZXIsIHRoaXMuX2N1cnNvci5vZmZzZXQsIHRoaXMuX3Jhdy5ieXRlTGVuZ3RoIC0gKHRoaXMuX2N1cnNvci5vZmZzZXQgLSB0aGlzLl9vZmZzZXQpKTtcbiAgdGhpcy5jb25maWcgPSBJU09Cb3hlci5VdGlscy5kYXRhVmlld1RvU3RyaW5nKGNvbmZpZ19yYXcpO1xufVxuO1xuLy8gSVNPL0lFQyAxNDQ5Ni0zMDoyMDE0IC0gV2ViVlRUIEVtcHR5IFNhbXBsZSBCb3hcbklTT0JveC5wcm90b3R5cGUuX2JveFBhcnNlcnNbJ3Z0dGUnXSA9IGZ1bmN0aW9uKCkge1xuICAvLyBOb3RoaW5nIHNob3VsZCBoYXBwZW4gaGVyZS5cbn1cbiIsIu+7vyd1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgRmFjdG9yeU1ha2VyIGZyb20gJy4vY29yZS9GYWN0b3J5TWFrZXInO1xuaW1wb3J0IEV2ZW50QnVzIGZyb20gJy4vY29yZS9FdmVudEJ1cyc7XG5pbXBvcnQgRXZlbnRzIGZyb20gJy4vY29yZS9Db3JlRXZlbnRzJztcbmltcG9ydCBEZWJ1ZyBmcm9tICcuL2NvcmUvRGVidWcnO1xuXG5pbXBvcnQgVUlFbmdpbmUgZnJvbSAnLi91aS91aV9lbmdpbmUnO1xuaW1wb3J0IE1lZGlhU291cmNlRW5naW5lIGZyb20gJy4vbWVkaWFfc291cmNlX2VuZ2luZSc7XG5pbXBvcnQgVGV4dEVuZ2luZSBmcm9tICcuL3RleHRfZW5naW5lJztcbmltcG9ydCBNZWRpYUVuZ2luZSBmcm9tICcuL21lZGlhX2VuZ2luZSc7XG5pbXBvcnQgRFJNRW5naW5lIGZyb20gJy4vZHJtX2VuZ2luZSc7XG5pbXBvcnQgQWRzRW5naW5lIGZyb20gJy4vYWRzL2Fkc19lbmdpbmUnO1xuXG5pbXBvcnQgVGltZVJhbmdlcyBmcm9tICcuL3V0aWxzL3RpbWVSYW5nZXMnO1xuaW1wb3J0IFhIUkxvYWRlciBmcm9tICcuL3V0aWxzL3hocl9sb2FkZXInO1xuaW1wb3J0IENvbW1vblV0aWxzIGZyb20gJy4vdXRpbHMvY29tbW9uX3V0aWxzJztcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5mdW5jdGlvbiBQbGF5ZXIoY2ZnKSB7XG4gICAgbGV0IGNmZ18gPSBjZmc7XG4gICAgbGV0IGNvbnRleHRfID0ge307XG5cbiAgICBsZXQgdWlFbmdpbmVfO1xuICAgIGxldCBtZWRpYV87XG5cbiAgICBsZXQgYXVkaW9JbmRleF8gPSAwO1xuICAgIGxldCB2aWRlb0luZGV4XyA9IDA7XG4gICAgbGV0IHN0cmVhbUluZm9fID0gbnVsbDtcblxuICAgIGxldCBldmVudEJ1c187XG4gICAgbGV0IGRlYnVnXztcbiAgICBsZXQgeGhyTG9hZGVyXztcbiAgICBsZXQgbWVkaWFFbmdpbmVfO1xuICAgIGxldCB0ZXh0RW5naW5lXztcbiAgICBsZXQgbXNlRW5naW5lXztcbiAgICBsZXQgZHJtRW5naW5lXztcblxuICAgIC8vIGFkcyBwYXJ0XG4gICAgbGV0IGFkc0VuZ2luZV87XG5cbiAgICBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICAgICAgaW5pdENvbXBvbmVudCgpO1xuICAgICAgICBpbml0RGF0YSgpO1xuICAgICAgICBhZGRFdmVudExpc3RlbmVycygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9wZW4oaW5mbykge1xuICAgICAgICBzdHJlYW1JbmZvXyA9IGluZm87XG4gICAgICAgIGRlYnVnXy5sb2coJ1BsYXllciwgK29wZW4nKTtcbiAgICAgICAgaWYgKDApIHtcbiAgICAgICAgICAgIGlmIChpbmZvLmF1ZGlvQ29kZWMpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Z18ubG9nKCdQbGF5ZXIsICtvcGVuOiAnICsgaW5mby5hdWRpb0NvZGVjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbmZvLnZpZGVvQ29kZWMpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Z18ubG9nKCdQbGF5ZXIsICtvcGVuOiAnICsgaW5mby52aWRlb0NvZGVjKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGluZm8uYXVkaW9Db2RlYyAmJiBNZWRpYVNvdXJjZSAmJiAhTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGluZm8uYXVkaW9Db2RlYykpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Z18ubG9nKCdEb25cXCd0IHN1cHBvcnQ6ICcgKyBpbmZvLmF1ZGlvQ29kZWMpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGluZm8udmlkZW9Db2RlYyAmJiBNZWRpYVNvdXJjZSAmJiAhTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKGluZm8udmlkZW9Db2RlYykpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Z18ubG9nKCdEb25cXCd0IHN1cHBvcnQ6ICcgKyBpbmZvLnZpZGVvQ29kZWMpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbXNlRW5naW5lXy5vcGVuKHN0cmVhbUluZm9fKTtcblxuICAgICAgICAgICAgbGV0IG9ialVSTCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG1zZUVuZ2luZV8uZ2V0TWVkaWFTb3VyY2UoKSk7XG4gICAgICAgICAgICBtZWRpYUVuZ2luZV8uc2V0U3JjKG9ialVSTCk7XG4gICAgICAgICAgICBkcm1FbmdpbmVfLnNldERybUluZm8oc3RyZWFtSW5mb18pO1xuICAgICAgICB9XG5cbiAgICAgICAgYWRkUEQoKTtcblxuICAgICAgICBkZWJ1Z18ubG9nKCdQbGF5ZXIsIC1vcGVuJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgIGlmIChhZHNFbmdpbmVfKSB7XG4gICAgICAgICAgICBhZHNFbmdpbmVfLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lZGlhRW5naW5lXykge1xuICAgICAgICAgICAgbWVkaWFFbmdpbmVfLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1zZUVuZ2luZV8pIHtcbiAgICAgICAgICAgIG1zZUVuZ2luZV8uY2xvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF1ZGlvSW5kZXhfID0gMDtcbiAgICAgICAgdmlkZW9JbmRleF8gPSAwO1xuICAgICAgICBzdHJlYW1JbmZvXyA9IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVsbEFsbCgpIHtcbiAgICAgICAgbXNlRW5naW5lXy5yZW1vdmVCdWZmZXIoKTtcbiAgICB9XG5cbiAgICBcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIGZ1bmN0aW9uIGFkZEEoKSB7XG4gICAgICAgIGlmIChhdWRpb0luZGV4XyA+PSBzdHJlYW1JbmZvXy5hQ29udGVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBkZWJ1Z18ubG9nKCdUaGVyZSBkb25cXCd0IGhhdmUgbW9yZSBjb250ZW50IHRvIGFkZC4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB1cmwgPSBzdHJlYW1JbmZvXy5hQ29udGVudHNbYXVkaW9JbmRleF9dO1xuXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgZnVuY3Rpb24gY2JTdWNjZXNzKGJ5dGVzKSB7XG4gICAgICAgICAgICAvL2RlYnVnXy5sb2coJ2JlZm9yZSBteSBhcHBlbmRCdWZmZXInKTtcbiAgICAgICAgICAgIG1zZUVuZ2luZV8uYXBwZW5kQnVmZmVyKCdhdWRpbycsIGJ5dGVzKTtcblxuICAgICAgICAgICAgYXVkaW9JbmRleF8rKztcbiAgICAgICAgICAgIC8vZGVidWdfLmxvZygnYWZ0ZXIgbXkgYXBwZW5kQnVmZmVyJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdCA9IHtcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgY2JTdWNjZXNzOiBjYlN1Y2Nlc3MuYmluZChzZWxmKVxuICAgICAgICB9O1xuICAgICAgICB4aHJMb2FkZXJfLmxvYWQocmVxdWVzdCk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGFkZFYoKSB7XG4gICAgICAgIGlmICh2aWRlb0luZGV4XyA+PSBzdHJlYW1JbmZvXy52Q29udGVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBkZWJ1Z18ubG9nKCdUaGVyZSBkb25cXCd0IGhhdmUgbW9yZSBjb250ZW50IHRvIGFkZC4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB1cmwgPSBzdHJlYW1JbmZvXy52Q29udGVudHNbdmlkZW9JbmRleF9dO1xuXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgZnVuY3Rpb24gY2JTdWNjZXNzKGJ5dGVzKSB7XG4gICAgICAgICAgICAvL2RlYnVnXy5sb2coJ2JlZm9yZSBteSBhcHBlbmRCdWZmZXInKTtcbiAgICAgICAgICAgIG1zZUVuZ2luZV8uYXBwZW5kQnVmZmVyKCd2aWRlbycsIGJ5dGVzKTtcbiAgICAgICAgICAgIHZpZGVvSW5kZXhfKys7XG4gICAgICAgICAgICAvL2RlYnVnXy5sb2coJ2FmdGVyIG15IGFwcGVuZEJ1ZmZlcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3QgPSB7XG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIGNiU3VjY2VzczogY2JTdWNjZXNzLmJpbmQoc2VsZilcbiAgICAgICAgfTtcbiAgICAgICAgeGhyTG9hZGVyXy5sb2FkKHJlcXVlc3QpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBhZGRQRCgpIHtcbiAgICAgICAgZGVidWdfLmxvZygnK2FkZFBELCBwZENvbnRlbnQ6ICcgKyBzdHJlYW1JbmZvXy5wZENvbnRlbnQpO1xuICAgICAgICBsZXQgdXJsID0gc3RyZWFtSW5mb18ucGRDb250ZW50O1xuXG4gICAgICAgIGxldCBtZXRob2QgPSAxO1xuICAgICAgICBpZiAobWV0aG9kID09PSAxKSB7XG4gICAgICAgICAgICBtZWRpYV8uc3JjID0gc3RyZWFtSW5mb18ucGRDb250ZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgZnVuY3Rpb24gY2JTdWNjZXNzKGJ5dGVzKSB7XG4gICAgICAgICAgICAgICAgbXNlRW5naW5lXy5hcHBlbmRCdWZmZXIoJ3ZpZGVvJywgYnl0ZXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcmVxdWVzdCA9IHtcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICBjYlN1Y2Nlc3M6IGNiU3VjY2Vzcy5iaW5kKHNlbGYpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgeGhyTG9hZGVyXy5sb2FkKHJlcXVlc3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFkc0VuZ2luZV8pIHtcbiAgICAgICAgICAgIGFkc0VuZ2luZV8ub3BlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVidWdfLmxvZygnLWFkZFBEJyk7XG4gICAgfTtcblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyDmk43kvZxBUElcbiAgICBmdW5jdGlvbiBvbih0eXBlLCBsaXN0ZW5lciwgc2NvcGUpIHtcbiAgICAgICAgZXZlbnRCdXNfLm9uKHR5cGUsIGxpc3RlbmVyLCBzY29wZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb2ZmKHR5cGUsIGxpc3RlbmVyLCBzY29wZSkge1xuICAgICAgICBldmVudEJ1c18ub2ZmKHR5cGUsIGxpc3RlbmVyLCBzY29wZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICAgICAgaWYgKGFkc0VuZ2luZV8gJiYgYWRzRW5naW5lXy5pc1BsYXlpbmdBZCgpICYmIGFkc0VuZ2luZV8uaXNMaW5lYXJBZCgpKSB7XG4gICAgICAgICAgICBhZHNFbmdpbmVfLnBsYXkoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghbWVkaWFFbmdpbmVfKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWVkaWFFbmdpbmVfLnBsYXkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgICBpZiAoYWRzRW5naW5lXyAmJiBhZHNFbmdpbmVfLmlzUGxheWluZ0FkKCkgJiYgYWRzRW5naW5lXy5pc0xpbmVhckFkKCkpIHtcbiAgICAgICAgICAgIGFkc0VuZ2luZV8ucGF1c2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghbWVkaWFFbmdpbmVfKSB7IHJldHVybjsgfVxuICAgICAgICAgICAgbWVkaWFFbmdpbmVfLnBhdXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1BhdXNlZCgpIHtcbiAgICAgICAgaWYgKGFkc0VuZ2luZV8gJiYgYWRzRW5naW5lXy5pc1BsYXlpbmdBZCgpICYmIGFkc0VuZ2luZV8uaXNMaW5lYXJBZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gYWRzRW5naW5lXy5pc1BhdXNlZCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFtZWRpYUVuZ2luZV8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWVkaWFFbmdpbmVfLmlzUGF1c2VkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjdXJyZW50VGltZSgpIHtcbiAgICAgICAgaWYgKCFtZWRpYUVuZ2luZV8pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVkaWFFbmdpbmVfLmN1cnJlbnRUaW1lKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZHVyYXRpb24oKSB7XG4gICAgICAgIGlmICghbWVkaWFFbmdpbmVfKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lZGlhRW5naW5lXy5kdXJhdGlvbigpO1xuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBpc0VuZGVkKCkge1xuICAgICAgICBpZiAoYWRzRW5naW5lXyAmJiBhZHNFbmdpbmVfLmlzUGxheWluZ0FkKCkgJiYgYWRzRW5naW5lXy5pc0xpbmVhckFkKCkpIHt9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFtZWRpYUVuZ2luZV8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZWRpYUVuZ2luZV8uaXNFbmRlZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbXV0ZSgpIHtcbiAgICAgICAgaWYgKGFkc0VuZ2luZV8gJiYgYWRzRW5naW5lXy5pc1BsYXlpbmdBZCgpKSB7XG4gICAgICAgICAgICBhZHNFbmdpbmVfLm11dGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghbWVkaWFFbmdpbmVfKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWVkaWFFbmdpbmVfLm11dGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVubXV0ZSgpIHtcbiAgICAgICAgaWYgKGFkc0VuZ2luZV8gJiYgYWRzRW5naW5lXy5pc1BsYXlpbmdBZCgpKSB7XG4gICAgICAgICAgICBhZHNFbmdpbmVfLnVubXV0ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFtZWRpYUVuZ2luZV8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZWRpYUVuZ2luZV8udW5tdXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc011dGVkKCkge1xuICAgICAgICBpZiAoYWRzRW5naW5lXyAmJiBhZHNFbmdpbmVfLmlzUGxheWluZ0FkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBhZHNFbmdpbmVfLmlzTXV0ZWQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghbWVkaWFFbmdpbmVfKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1lZGlhRW5naW5lXy5pc011dGVkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZWVrKHNlY3MpIHtcbiAgICAgICAgbWVkaWFfLmN1cnJlbnRUaW1lID0gc2VjcztcbiAgICB9XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBFdmVudHMgQVBJXG4gICAgZnVuY3Rpb24gY2FzdCgpIHt9O1xuXG4gICAgZnVuY3Rpb24gc2lnbmFsRW5kT2ZTdHJlYW0oKSB7XG4gICAgICAgIGlmIChtc2VFbmdpbmVfKSB7XG4gICAgICAgICAgICBtc2VFbmdpbmVfLnNpZ25hbEVuZE9mU3RyZWFtKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBCZWdpbiAtIFRleHRFbmdpbmVcbiAgICBmdW5jdGlvbiBhZGRUZXh0VHJhY2soKSB7XG4gICAgICAgIHRleHRFbmdpbmVfLmFkZFRleHRUcmFjaygpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiByZW1vdmVUZXh0VHJhY2soKSB7fTtcblxuICAgIGZ1bmN0aW9uIHNldFRleHRUcmFja0hpZGRlbigpIHtcbiAgICAgICAgdGV4dEVuZ2luZV8uc2V0VGV4dFRyYWNrSGlkZGVuKCk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHNldEN1ZUFsaWduKGFsaWduKSB7XG4gICAgICAgIHRleHRFbmdpbmVfLnNldEN1ZUFsaWduKGFsaWduKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc2V0Q3VlTGluZShsaW5lKSB7XG4gICAgICAgIHRleHRFbmdpbmVfLnNldEN1ZUxpbmUobGluZSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHNldEN1ZUxpbmVBbGlnbihsaW5lQWxpZ24pIHtcbiAgICAgICAgdGV4dEVuZ2luZV8uc2V0Q3VlTGluZUFsaWduKGxpbmVBbGlnbik7XG4gICAgfTtcbiAgICAvLyBFbmQgLSBUZXh0RW5naW5lXG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBwcml2YXRlIGZ1bmN0aW9uc1xuICAgIGZ1bmN0aW9uIGluaXRDb21wb25lbnQoKSB7XG4gICAgICAgIC8vIHVpIGNvbXBvbmVudFxuICAgICAgICB1aUVuZ2luZV8gPSBuZXcgVUlFbmdpbmUoY2ZnXyk7XG4gICAgICAgIG1lZGlhXyA9IHVpRW5naW5lXy5nZXRWaWRlbygpO1xuICAgICAgICBpZiAoY2ZnXy5wb3N0ZXIpIHtcbiAgICAgICAgICAgIG1lZGlhXy5wb3N0ZXIgPSBjZmdfLnBvc3RlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVuZ2luZyBjb21wb25lbnRcbiAgICAgICAgZXZlbnRCdXNfID0gRXZlbnRCdXMob2xkbXRuKS5nZXRJbnN0YW5jZSgpO1xuICAgICAgICBkZWJ1Z18gPSBEZWJ1ZyhvbGRtdG4pLmdldEluc3RhbmNlKCk7XG4gICAgICAgIHhockxvYWRlcl8gPSBuZXcgWEhSTG9hZGVyKCk7XG4gICAgICAgIG1lZGlhRW5naW5lXyA9IG5ldyBNZWRpYUVuZ2luZShtZWRpYV8pO1xuICAgICAgICB0ZXh0RW5naW5lXyA9IG5ldyBUZXh0RW5naW5lKG1lZGlhXyk7XG4gICAgICAgIG1zZUVuZ2luZV8gPSBuZXcgTWVkaWFTb3VyY2VFbmdpbmUoKTtcbiAgICAgICAgZHJtRW5naW5lXyA9IG5ldyBEUk1FbmdpbmUobWVkaWFfKTtcbiAgICAgICAgaWYgKGNmZ18uYWR2ZXJ0aXNpbmcpIHtcbiAgICAgICAgICAgIGxldCBhZENvbnRhaW5lciA9IHVpRW5naW5lXy5nZXRBZENvbnRhaW5lcigpO1xuICAgICAgICAgICAgYWRzRW5naW5lXyA9IG5ldyBBZHNFbmdpbmUoYWRDb250YWluZXIsIG1lZGlhXywgY2ZnXy5hZHZlcnRpc2luZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0RGF0YSgpIHtcbiAgICAgICAgYXVkaW9JbmRleF8gPSAwO1xuICAgICAgICB2aWRlb0luZGV4XyA9IDA7XG4gICAgICAgIHN0cmVhbUluZm9fID0gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgZnVuY3Rpb24gb25GdWxsc2NyZWVuQ2hhbmdlKGUpIHtcbiAgICAgICAgICAgIGRlYnVnXy5sb2coJ29uRnVsbHNjcmVlbkNoYW5nZScpO1xuICAgICAgICAgICAgaWYgKGFkc0VuZ2luZV8pIHtcbiAgICAgICAgICAgICAgICBhZHNFbmdpbmVfLnJlc2l6ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJmdWxsc2NyZWVuY2hhbmdlXCIsIG9uRnVsbHNjcmVlbkNoYW5nZSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3pmdWxsc2NyZWVuY2hhbmdlXCIsIG9uRnVsbHNjcmVlbkNoYW5nZSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCIsIG9uRnVsbHNjcmVlbkNoYW5nZSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtc2Z1bGxzY3JlZW5jaGFuZ2VcIiwgb25GdWxsc2NyZWVuQ2hhbmdlKTtcblxuICAgICAgICBldmVudEJ1c18ub24ob2xkbXRuLkV2ZW50cy5NU0VfT1BFTkVELCBvbk1TRU9wZW5lZCwge30pO1xuXG4gICAgICAgIGV2ZW50QnVzXy5vbihvbGRtdG4uRXZlbnRzLk1FRElBX0RVUkFUSU9OX0NIQU5HRUQsIG9uTWVkaWFEdXJhdGlvbkNoYW5nZWQsIHt9KTtcbiAgICAgICAgZXZlbnRCdXNfLm9uKG9sZG10bi5FdmVudHMuTUVESUFfRU5ERUQsIG9uTWVkaWFFbmRlZCwge30pO1xuXG4gICAgICAgIGV2ZW50QnVzXy5vbihvbGRtdG4uRXZlbnRzLlNCX1VQREFURV9FTkRFRCwgb25TYlVwZGF0ZUVuZGVkLCB7fSlcblxuICAgICAgICBldmVudEJ1c18ub24ob2xkbXRuLkV2ZW50cy5BRF9DT01QTEVURSwgb25BZENvbXBsZXRlLCB7fSk7XG4gICAgICAgIGV2ZW50QnVzXy5vbihvbGRtdG4uRXZlbnRzLkFEX0NPTlRFTlRfUEFVU0VfUkVRVUVTVEVELCBvbkFkQ29udGVudFBhdXNlUmVxdWVzdGVkLCB7fSk7XG4gICAgICAgIGV2ZW50QnVzXy5vbihvbGRtdG4uRXZlbnRzLkFEX0NPTlRFTlRfUkVTVU1FX1JFUVVFU1RFRCwgb25BZENvbnRlbnRSZXN1bWVSZXF1ZXN0ZWQsIHt9KTtcbiAgICAgICAgZXZlbnRCdXNfLm9uKG9sZG10bi5FdmVudHMuQURfU1RBUlRFRCwgb25BZFN0YXJ0ZWQsIHt9KTtcbiAgICB9O1xuXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gQmVnaW4gLS0gaW50ZXJuYWwgZXZlbnRzIGxpc3RlbmVyIGZ1bmN0aW9uc1xuICAgIGZ1bmN0aW9uIG9uTVNFT3BlbmVkKCkge1xuICAgICAgICBtZWRpYUVuZ2luZV8ucmV2b2tlU3JjKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NZWRpYUR1cmF0aW9uQ2hhbmdlZCgpIHt9XG5cbiAgICBmdW5jdGlvbiBvbk1lZGlhRW5kZWQoKSB7XG4gICAgICAgIGlmIChhZHNFbmdpbmVfKSB7XG4gICAgICAgICAgICBhZHNFbmdpbmVfLm9uTWVkaWFFbmRlZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25TYlVwZGF0ZUVuZGVkKCkge1xuICAgICAgICAvLyBOZWVkIHRvIHNpZ25hbCBlbmQgb2Ygc3RyZWFtIHdoZW4gYWRkIHBkIHRvIG1zZVxuICAgICAgICBpZiAoYWRzRW5naW5lXykge1xuICAgICAgICAgICAgbXNlRW5naW5lXy5zaWduYWxFbmRPZlN0cmVhbSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25BZENvbnRlbnRQYXVzZVJlcXVlc3RlZCgpIHtcbiAgICAgICAgbWVkaWFFbmdpbmVfLnBhdXNlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25BZENvbnRlbnRSZXN1bWVSZXF1ZXN0ZWQoKSB7XG4gICAgICAgIGlmICghbWVkaWFFbmdpbmVfLmlzRW5kZWQoKSkge1xuICAgICAgICAgICAgbWVkaWFFbmdpbmVfLnBsYXkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uQWRTdGFydGVkKGUpIHtcbiAgICAgICAgbGV0IGFkID0gZS5hZDtcblxuICAgICAgICBsZXQgc2VsZWN0aW9uQ3JpdGVyaWEgPSBuZXcgZ29vZ2xlLmltYS5Db21wYW5pb25BZFNlbGVjdGlvblNldHRpbmdzKCk7XG4gICAgICAgIHNlbGVjdGlvbkNyaXRlcmlhLnJlc291cmNlVHlwZSA9IGdvb2dsZS5pbWEuQ29tcGFuaW9uQWRTZWxlY3Rpb25TZXR0aW5ncy5SZXNvdXJjZVR5cGUuU1RBVElDO1xuICAgICAgICBzZWxlY3Rpb25Dcml0ZXJpYS5jcmVhdGl2ZVR5cGUgPSBnb29nbGUuaW1hLkNvbXBhbmlvbkFkU2VsZWN0aW9uU2V0dGluZ3MuQ3JlYXRpdmVUeXBlLklNQUdFO1xuICAgICAgICBzZWxlY3Rpb25Dcml0ZXJpYS5zaXplQ3JpdGVyaWEgPSBnb29nbGUuaW1hLkNvbXBhbmlvbkFkU2VsZWN0aW9uU2V0dGluZ3MuU2l6ZUNyaXRlcmlhLklHTk9SRTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNmZ18uYWR2ZXJ0aXNpbmcuY29tcGFuaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNvbXBhbmlvbiA9IGNmZ18uYWR2ZXJ0aXNpbmcuY29tcGFuaW9uc1tpXTtcbiAgICAgICAgICAgIC8vIEdldCBhIGxpc3Qgb2YgY29tcGFuaW9uIGFkcyBmb3IgYW4gYWQgc2xvdCBzaXplIGFuZCBDb21wYW5pb25BZFNlbGVjdGlvblNldHRpbmdzXG4gICAgICAgICAgICBsZXQgY29tcGFuaW9uQWRzID0gYWQuZ2V0Q29tcGFuaW9uQWRzKGNvbXBhbmlvbi53aWR0aCwgY29tcGFuaW9uLmhlaWdodCwgc2VsZWN0aW9uQ3JpdGVyaWEpO1xuICAgICAgICAgICAgaWYgKGNvbXBhbmlvbkFkcyAmJiBjb21wYW5pb25BZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBjb21wYW5pb25BZCA9IGNvbXBhbmlvbkFkc1swXTtcbiAgICAgICAgICAgICAgICAvLyBHZXQgSFRNTCBjb250ZW50IGZyb20gdGhlIGNvbXBhbmlvbiBhZC5cbiAgICAgICAgICAgICAgICBsZXQgY29udGVudCA9IGNvbXBhbmlvbkFkLmdldENvbnRlbnQoKTtcbiAgICAgICAgICAgICAgICAvLyBXcml0ZSB0aGUgY29udGVudCB0byB0aGUgY29tcGFuaW9uIGFkIHNsb3QuXG4gICAgICAgICAgICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbXBhbmlvbi5pZCk7XG4gICAgICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IGNvbnRlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkFkQ29tcGxldGUoKSB7fVxuXG4gICAgLy8gRW5kIC0tIGludGVybmFsIGV2ZW50cyBsaXN0ZW5lciBmdW5jdGlvbnNcblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIC8vZnVuY3Rpb24gb25UZXN0TXNnKCkge1xuICAgIGZ1bmN0aW9uIG9uVGVzdE1zZygpIHtcbiAgICAgICAgY29uc29sZS5sb2coJytvblRlc3RNc2cnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0ZXN0KCkge1xuICAgICAgICAvL2Fkc0VuZ2luZV8uaW5pdGlhbFVzZXJBY3Rpb24oKTtcbiAgICAgICAgYWRzRW5naW5lXy5jbG9zZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3QyKCkge1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGF0dHJpYnV0ZSgpIHtcbiAgICAgICAgbGV0IG1lZGlhID0gbWVkaWFfO1xuICAgICAgICBkZWJ1Z18ubG9nKGBtZWRpYS5idWZmZXJlZCA6ICR7VGltZVJhbmdlcy50b1N0cmluZyhtZWRpYS5idWZmZXJlZCl9YCk7XG4gICAgICAgIGRlYnVnXy5sb2coYG1lZGlhLnNlZWthYmxlOiAke1RpbWVSYW5nZXMudG9TdHJpbmcobWVkaWEuc2Vla2FibGUpfWApO1xuXG4gICAgICAgIG1zZUVuZ2luZV8uc2V0RHVyYXRpb24oMjAwKTtcblxuICAgICAgICBsZXQgYSA9IDI7XG4gICAgICAgIGxldCBiID0gYTtcbiAgICB9XG5cbiAgICBsZXQgaW5zdGFuY2UgPSB7XG4gICAgICAgIG9wZW46IG9wZW4sXG4gICAgICAgIGNsb3NlOiBjbG9zZSxcbiAgICAgICAgYWRkQTogYWRkQSxcbiAgICAgICAgYWRkVjogYWRkVixcbiAgICAgICAgYWRkUEQ6IGFkZFBELFxuICAgICAgICBvbjogb24sXG4gICAgICAgIG9mZjogb2ZmLFxuICAgICAgICBwbGF5OiBwbGF5LFxuICAgICAgICBwYXVzZTogcGF1c2UsXG4gICAgICAgIGlzUGF1c2VkOiBpc1BhdXNlZCxcbiAgICAgICAgY3VycmVudFRpbWU6IGN1cnJlbnRUaW1lLFxuICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgIGlzRW5kZWQ6IGlzRW5kZWQsXG4gICAgICAgIG11dGU6IG11dGUsXG4gICAgICAgIHVubXV0ZTogdW5tdXRlLFxuICAgICAgICBpc011dGVkOiBpc011dGVkLFxuICAgICAgICBzZWVrOiBzZWVrLFxuICAgICAgICB0ZXN0OiB0ZXN0LFxuICAgICAgICB0ZXN0MjogdGVzdDJcbiAgICB9O1xuICAgIFxuICAgIHNldHVwKCk7XG4gICAgXG4gICAgcmV0dXJuIGluc3RhbmNlO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUGxheWVyOyIsImltcG9ydCBGYWN0b3J5TWFrZXIgZnJvbSAnLi9jb3JlL0ZhY3RvcnlNYWtlcic7XHJcbmltcG9ydCBFdmVudEJ1cyBmcm9tICcuL2NvcmUvRXZlbnRCdXMnO1xyXG5pbXBvcnQgVGltZVJhbmdlcyBmcm9tICcuL3V0aWxzL3RpbWVSYW5nZXMnO1xyXG5pbXBvcnQgRXZlbnRzIGZyb20gJy4vY29yZS9Db3JlRXZlbnRzJztcclxuXHJcbnZhciBTb3VyY2VCdWZmZXJXcmFwcGVyID0gZnVuY3Rpb24gKG1pbWVUeXBlKSB7XHJcbiAgdGhpcy5taW1lVHlwZV8gPSBtaW1lVHlwZTtcclxuICB0aGlzLm1lZGlhXyA9IG51bGw7XHJcbiAgdGhpcy5tZWRpYVNyY18gPSBudWxsO1xyXG4gIHRoaXMuYnVmZmVyXyA9IG51bGw7XHJcblxyXG4gIHRoaXMuZXZlbnRCdXNfID0gRXZlbnRCdXMob2xkbXRuKS5nZXRJbnN0YW5jZSgpO1xyXG59O1xyXG5cclxuU291cmNlQnVmZmVyV3JhcHBlci5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uIChtZWRpYVNvdXJjZSkge1xyXG4gIHRoaXMubWVkaWFTcmNfID0gbWVkaWFTb3VyY2U7XHJcblxyXG4gIHRoaXMuYnVmZmVyXyA9IG1lZGlhU291cmNlLmFkZFNvdXJjZUJ1ZmZlcih0aGlzLm1pbWVUeXBlXyk7XHJcblxyXG4gIHRoaXMuYnVmZmVyXy5hZGRFdmVudExpc3RlbmVyKCd1cGRhdGVzdGFydCcsIHRoaXMuc291cmNlQnVmZmVyX3VwZGF0ZXN0YXJ0LmJpbmQodGhpcykpO1xyXG4gIHRoaXMuYnVmZmVyXy5hZGRFdmVudExpc3RlbmVyKCd1cGRhdGUnLCB0aGlzLnNvdXJjZUJ1ZmZlcl91cGRhdGUuYmluZCh0aGlzKSk7XHJcbiAgdGhpcy5idWZmZXJfLmFkZEV2ZW50TGlzdGVuZXIoJ3VwZGF0ZWVuZCcsIHRoaXMuc291cmNlQnVmZmVyX3VwZGF0ZWVuZC5iaW5kKHRoaXMpKTtcclxuICB0aGlzLmJ1ZmZlcl8uYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLnNvdXJjZUJ1ZmZlcl9lcnJvci5iaW5kKHRoaXMpKTtcclxuICB0aGlzLmJ1ZmZlcl8uYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCB0aGlzLnNvdXJjZUJ1ZmZlcl9hYm9ydC5iaW5kKHRoaXMpKTtcclxuXHJcbiAgcmV0dXJuIHRoaXMuYnVmZmVyXztcclxufTtcclxuXHJcblNvdXJjZUJ1ZmZlcldyYXBwZXIucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xyXG4gIHRyeSB7XHJcbiAgICB0aGlzLmJ1ZmZlcl8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigndXBkYXRlc3RhcnQnLCB0aGlzLnNvdXJjZUJ1ZmZlcl91cGRhdGVzdGFydC5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMuYnVmZmVyXy5yZW1vdmVFdmVudExpc3RlbmVyKCd1cGRhdGUnLCB0aGlzLnNvdXJjZUJ1ZmZlcl91cGRhdGUuYmluZCh0aGlzKSk7XHJcbiAgICB0aGlzLmJ1ZmZlcl8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigndXBkYXRlZW5kJywgdGhpcy5zb3VyY2VCdWZmZXJfdXBkYXRlZW5kLmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5idWZmZXJfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5zb3VyY2VCdWZmZXJfZXJyb3IuYmluZCh0aGlzKSk7XHJcbiAgICB0aGlzLmJ1ZmZlcl8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCB0aGlzLnNvdXJjZUJ1ZmZlcl9hYm9ydC5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICB0aGlzLm1lZGlhU3JjXy5yZW1vdmVTb3VyY2VCdWZmZXIodGhpcy5idWZmZXJfKTtcclxuICB9IGNhdGNoIChleCkge1xyXG4gICAgY29uc29sZS5sb2coYENhdWdodCBleGNlcHRpb24gd2hlbiByZW1vdmUgc2IgZXZlbnQgbGlzdGVuZXJgKTtcclxuICB9XHJcbn07XHJcblxyXG5Tb3VyY2VCdWZmZXJXcmFwcGVyLnByb3RvdHlwZS5hcHBlbmRCdWZmZXIgPSBmdW5jdGlvbiAoYnl0ZXMpIHtcclxuICBpZiAodGhpcy5idWZmZXJfKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICB0aGlzLmJ1ZmZlcl8uYXBwZW5kQnVmZmVyKGJ5dGVzKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmxvZyhgZXJyb3Igd2hpbGUgdHJ5aW5nIHRvIGFwcGVuZCBidWZmZXI6JHtlcnIubWVzc2FnZX1gKTtcclxuICAgIH1cclxuICB9XHJcbn07XHJcblxyXG5Tb3VyY2VCdWZmZXJXcmFwcGVyLnByb3RvdHlwZS5yZW1vdmVCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgY29uc29sZS5sb2coJy0tc291cmNlQnVmZmVyX3JlbW92ZS0tJyk7XHJcblxyXG4gIGxldCBidWZTdGFydDtcclxuICBsZXQgYnVmRW5kO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5idWZmZXJfLmJ1ZmZlcmVkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBidWZTdGFydCA9IHRoaXMuYnVmZmVyXy5idWZmZXJlZC5zdGFydChpKTtcclxuICAgIGJ1ZkVuZCA9IHRoaXMuYnVmZmVyXy5idWZmZXJlZC5lbmQoaSk7XHJcblxyXG4gICAgdGhpcy5idWZmZXJfLnJlbW92ZShidWZTdGFydCwgYnVmRW5kKTtcclxuICB9XHJcbn07XHJcblxyXG5Tb3VyY2VCdWZmZXJXcmFwcGVyLnByb3RvdHlwZS5zb3VyY2VCdWZmZXJfdXBkYXRlc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgbGV0IGEgPSB0aGlzO1xyXG4gIGNvbnNvbGUubG9nKCctLXNvdXJjZUJ1ZmZlcl91cGRhdGVzdGFydC0tJyk7XHJcbn07XHJcblxyXG5Tb3VyY2VCdWZmZXJXcmFwcGVyLnByb3RvdHlwZS5zb3VyY2VCdWZmZXJfdXBkYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gIGxldCBhID0gdGhpcztcclxuICBjb25zb2xlLmxvZygnLS1zb3VyY2VCdWZmZXJfdXBkYXRlLS0nKTtcclxufTtcclxuXHJcblNvdXJjZUJ1ZmZlcldyYXBwZXIucHJvdG90eXBlLnNvdXJjZUJ1ZmZlcl91cGRhdGVlbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgbGV0IGEgPSB0aGlzO1xyXG5cclxuICAvLyBjb25zb2xlLmxvZygnLS1zb3VyY2VCdWZmZXJfdXBkYXRlZW5kLS0sIGNsaWVudFdpZHRoOiAnICsgbWVkaWFfLmNsaWVudFdpZHRoICsgJywgY2xpZW50SGVpZ2h0OiAnICsgbWVkaWFfLmNsaWVudEhlaWdodCk7XHJcbiAgLy8gY29uc29sZS5sb2coJy0tc291cmNlQnVmZmVyX3VwZGF0ZWVuZC0tLCB3aWR0aDogJyArIG1lZGlhXy53aWR0aCArICcsIGhlaWdodDogJyArIG1lZGlhXy5oZWlnaHQpO1xyXG4gIC8vIGNvbnNvbGUubG9nKCctLXNvdXJjZUJ1ZmZlcl91cGRhdGVlbmQtLSwgdmlkZW9XaWR0aDogJyArIG1lZGlhXy52aWRlb1dpZHRoICsgJywgdmlkZW9IZWlnaHQ6ICcgKyBtZWRpYV8udmlkZW9IZWlnaHQpO1xyXG5cclxuICAvL1xyXG4gIC8vY29uc29sZS5sb2coYG1haW4gYnVmZmVyZWQgOiAke1RpbWVSYW5nZXMudG9TdHJpbmcobWVkaWFfLmJ1ZmZlcmVkKX1gICsgJywgY3VycmVudFRpbWU6ICcgKyBtZWRpYV8uY3VycmVudFRpbWUpO1xyXG5cclxuICB0aGlzLmV2ZW50QnVzXy50cmlnZ2VyKEV2ZW50cy5TQl9VUERBVEVfRU5ERUQsIHt9KTtcclxufTtcclxuXHJcblNvdXJjZUJ1ZmZlcldyYXBwZXIucHJvdG90eXBlLnNvdXJjZUJ1ZmZlcl9lcnJvciA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgbGV0IGEgPSB0aGlzO1xyXG5cclxuICBjb25zb2xlLmxvZygnLS1zb3VyY2VCdWZmZXJfZXJyb3ItLScsIGUpO1xyXG59O1xyXG5cclxuU291cmNlQnVmZmVyV3JhcHBlci5wcm90b3R5cGUuc291cmNlQnVmZmVyX2Fib3J0ID0gZnVuY3Rpb24gKCkge1xyXG4gIGxldCBhID0gdGhpcztcclxuXHJcbiAgY29uc29sZS5sb2coJy0tc291cmNlQnVmZmVyX2Fib3J0LS0nKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNvdXJjZUJ1ZmZlcldyYXBwZXI7XHJcblxyXG5cclxuIiwi77u/J3VzZSBzdHJpY3QnXHJcblxyXG5pbXBvcnQgRmFjdG9yeU1ha2VyIGZyb20gJy4vY29yZS9GYWN0b3J5TWFrZXIuanMnO1xyXG5pbXBvcnQgRXZlbnRCdXMgZnJvbSAnLi9jb3JlL0V2ZW50QnVzJztcclxuXHJcbmltcG9ydCBWVFRQYXJzZXIgZnJvbSAnLi90ZXN0L1ZUVFBhcnNlci5qcyc7XHJcbmltcG9ydCBUVE1MUGFyc2VyIGZyb20gJy4vdGVzdC9UVE1MUGFyc2VyLmpzJztcclxuXHJcbmltcG9ydCB7IHRlc3RfY2VhNjA4IH0gZnJvbSAnLi90ZXN0L3Rlc3RjYyc7XHJcbmltcG9ydCBEZWNyeXB0ZXIgZnJvbSAnLi9jcnlwdC9kZWNyeXB0ZXInO1xyXG5cclxuaW1wb3J0IGNvbW1vblV0aWwgZnJvbSAnLi91dGlscy9jb21tb25fdXRpbHMnXHJcblxyXG5pbXBvcnQgWEhSTG9hZGVyIGZyb20gJy4vdXRpbHMveGhyX2xvYWRlcic7XHJcblxyXG5pbXBvcnQgc2F2ZUFzIGZyb20gJy4vVXRpbHMvRmlsZVNhdmVyLmpzJztcclxudmFyIG15U2F2ZUFzID0gc2F2ZUFzO1xyXG5cclxudmFyIGNvbnRleHQgPSB3aW5kb3c7XHJcblxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbmZ1bmN0aW9uIFRlc3RGZWF0dXJlKCkge1xyXG4gIGxldCBjb250ZXh0XyA9IHRoaXMuY29udGV4dDtcclxuICBsZXQgaW5zdGFuY2U7XHJcbiAgbGV0IHhockxvYWRlcjtcclxuXHJcbiAgZnVuY3Rpb24gc2V0dXAoKSB7XHJcbiAgICB4aHJMb2FkZXIgPSBYSFJMb2FkZXIoY29udGV4dF8pLmNyZWF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gb24xMDAxQ29tcGxldGVkKCkge1xyXG4gICAgY29uc29sZS5kZWJ1ZygnLS1vbjEwMDFDb21wbGV0ZWQtLScpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gb24xMDAxQ29tcGxldGVkMigpIHtcclxuICAgIGNvbnNvbGUuZGVidWcoJy0tb24xMDAxQ29tcGxldGVkMi0tJyk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB0ZXN0RXZlbnQoKSB7XHJcbiAgICBjb25zdCBldmVudEJ1cyA9IEV2ZW50QnVzKGNvbnRleHQpLmdldEluc3RhbmNlKCk7XHJcblxyXG4gICAgZXZlbnRCdXMub24oMTAwMSwgb24xMDAxQ29tcGxldGVkLCBpbnN0YW5jZSk7XHJcbiAgICBldmVudEJ1cy5vbigxMDAxLCBvbjEwMDFDb21wbGV0ZWQyLCBpbnN0YW5jZSk7XHJcblxyXG4gICAgZXZlbnRCdXMudHJpZ2dlcigxMDAxLCB7fSk7XHJcbiAgICBldmVudEJ1cy5vZmYoMTAwMSwgb24xMDAxQ29tcGxldGVkLCBpbnN0YW5jZSk7XHJcbiAgICBldmVudEJ1cy5vZmYoMTAwMSwgb24xMDAxQ29tcGxldGVkMiwgaW5zdGFuY2UpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gdGVzdEZvckVhY2goKSB7XHJcbiAgICB2YXIgYXJyMDEgPSBbXTtcclxuICAgIGFycjAxLnB1c2goJ2FhYScpO1xyXG4gICAgYXJyMDEucHVzaCgnYmJiYicpO1xyXG4gICAgYXJyMDEucHVzaCgnYycpO1xyXG4gICAgYXJyMDEucHVzaCgnZGQnKTtcclxuICAgICAgICAgIFxyXG4gICAgYXJyMDEuZm9yRWFjaCgoZWxlKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUuZGVidWcoZWxlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gdGVzdDEoKSB7XHJcbiAgICBjb25zb2xlLmxvZygnYmVnaW4gdGVzdDEtLScpO1xyXG4gICAgLy9jb21tb25VdGlsLnRlc3QxKCcyMTMxMzEzJyk7XHJcbiAgICBjb21tb25VdGlsLnRlc3QxKCk7XHJcbiAgICBjb25zb2xlLmxvZygnZW5kIHRlc3QxLS0nKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHRlc3RfcmVhZGZpbGUoKSB7XHJcbiAgICAgICAgXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB0ZXN0X3Z0dCgpIHtcclxuICAgIGNvbnNvbGUuZGVidWcoJ3Rlc3RfdnR0IHdhcyBjYWxsZWQgaGVyZS4nKTtcclxuXHJcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICB2YXIgcGFyc2VyID0gVlRUUGFyc2VyKGNvbnRleHQpLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgdmFyIGNhcHRpb25BcnJheSA9IHBhcnNlci5wYXJzZSh0aGlzLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgY2FwdGlvbkFycmF5Lmxlbmd0aDsgaSArKykge1xyXG4gICAgICAgICAgY29uc29sZS5kZWJ1ZygnWycgKyBjYXB0aW9uQXJyYXlbaV0uc3RhcnQgKyAnLCcgKyBjYXB0aW9uQXJyYXlbaV0uZW5kICsgJ10gJyArIGNhcHRpb25BcnJheVtpXS5kYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgeGhyLm9wZW4oXCJHRVRcIiwgXCJodHRwOi8vbG9jYWxob3N0L3RtcC9maWxlU2VxdWVuY2UwLndlYnZ0dFwiLCB0cnVlKTtcclxuICAgIHhoci5zZW5kKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgZnVuY3Rpb24gdGVzdF90dG1sKCkge1xyXG4gICAgY29uc29sZS5kZWJ1ZygndGVzdF90dG1sIHdhcyBjYWxsZWQgaGVyZS4nKTtcclxuXHJcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgICAgdmFyIHBhcnNlciA9IFRUTUxQYXJzZXIoY29udGV4dCkuZ2V0SW5zdGFuY2UoKTtcclxuICAgICAgICBwYXJzZXIucGFyc2UodGhpcy5yZXNwb25zZVRleHQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHhoci5vcGVuKFwiR0VUXCIsIFwiaHR0cDovL2xvY2FsaG9zdC90bXAvc3ViX2VuZ19zaG9ydC54bWxcIiwgdHJ1ZSk7XHJcbiAgICB4aHIuc2VuZCgpO1xyXG4gIH1cclxuXHJcbiAgdmFyIGluZGV4ID0gMDtcclxuICBmdW5jdGlvbiB0ZXN0X2FlczEyOCgpIHtcclxuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xyXG5cclxuICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1cyA9PSAyMDApIHtcclxuXHJcbiAgICAgICAgLy8gXHJcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLnJlc3BvbnNlO1xyXG5cclxuICAgICAgICB2YXIgZGVjcnlwdGVyID0gbmV3IERlY3J5cHRlcih7ZW5hYmxlU29mdHdhcmVBRVM6IHRydWV9KTtcclxuICAgICAgICB2YXIga2V5ID0gWzB4RjUsIDB4NzEsIDB4QkYsIDB4RUMsIDB4RkQsIDB4MUEsIDB4QjksIDB4QUQsIDB4QjAsIDB4NUMsIDB4RTYsIDB4RkEsIDB4MDMsIDB4MEUsIDB4RkQsIDB4ODFdO1xyXG4gICAgICAgIHZhciBrZXlfdTggPSBuZXcgVWludDhBcnJheShrZXkpO1xyXG4gICAgICAgIHZhciBrZXlfYnVmZmVyID0ga2V5X3U4LmJ1ZmZlcjtcclxuICAgICAgICB2YXIgaXYgPSAgWzB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDBdO1xyXG4gICAgICAgIHZhciBpdl91OCA9IG5ldyBVaW50OEFycmF5KGl2KTtcclxuICAgICAgICB2YXIgaXZfYnVmZmVyID0gaXZfdTguYnVmZmVyO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGRlY3J5cHRlci5kZWNyeXB0KGRhdGEsIGtleV9idWZmZXIsIGl2X2J1ZmZlciwgZnVuY3Rpb24gKGRlY3J5cHRlZERhdGEpIHtcclxuICAgICAgICAgIC8vdmFyIGVuZFRpbWU7XHJcbiAgICAgICAgICAvL3RyeSB7XHJcbiAgICAgICAgICAvLyAgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgICAgICAgLy99IGNhdGNoKGVycm9yKSB7XHJcbiAgICAgICAgICAvLyAgZW5kVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAvL31cclxuICAgICAgICAgIC8vbG9jYWx0aGlzLm9ic2VydmVyLnRyaWdnZXIoRXZlbnQuRlJBR19ERUNSWVBURUQsIHsgc3RhdHM6IHsgdHN0YXJ0OiBzdGFydFRpbWUsIHRkZWNyeXB0OiBlbmRUaW1lIH0gfSk7XHJcbiAgICAgICAgICAvL2xvY2FsdGhpcy5wdXNoRGVjcnlwdGVkKG5ldyBVaW50OEFycmF5KGRlY3J5cHRlZERhdGEpLCBkZWNyeXB0ZGF0YSwgbmV3IFVpbnQ4QXJyYXkoaW5pdFNlZ21lbnQpLCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCB0aW1lT2Zmc2V0LCBkaXNjb250aW51aXR5LCB0cmFja1N3aXRjaCwgY29udGlndW91cywgZHVyYXRpb24sIGFjY3VyYXRlVGltZU9mZnNldCxkZWZhdWx0SW5pdFBUUyk7XHJcblxyXG4gICAgICAgICAgLy8gc2F2ZSB0cyB0byBsb2NhbFxyXG4gICAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoZGVjcnlwdGVkRGF0YSldLCB7dHlwZTogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSd9KTtcclxuICAgICAgICAgIHZhciBmaWxlTmFtZSA9IGluZGV4LnRvU3RyaW5nKCkgKyAnLnRzJztcclxuICAgICAgICAgIG15U2F2ZUFzLnNhdmVBcyhibG9iLCBmaWxlTmFtZSk7XHJcbiAgICAgICAgICBpbmRleCArKztcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB4aHIub3BlbihcIkdFVFwiLCBcImh0dHA6Ly9sb2NhbGhvc3QvMi9teWhscy9kcm0vYWVzL29jZWFuc19hZXMtYXVkaW89NjUwMDAtdmlkZW89NTcxMDAwLTEudHNcIiwgdHJ1ZSk7XHJcbiAgICB4aHIuc2VuZCgpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gdGVzdF94aHJsb2FkZXIoKSB7XHJcbiAgICBsZXQgY29udGVudCA9IHt1cmw6ICdodHRwOi8vMTAuMi42OC41MS83L2hscy92MTAvZ2Vhci9nZWFyMS9tYWluLnRzJywgcmFuZ2VTdGFydDogMCwgcmFuZ2VFbmQ6IDMyNjc0NH07XHJcblxyXG4gICAgZnVuY3Rpb24gb25TdWNjZXNzKGJ5dGVzKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCd0ZXN0X3hocmxvYWRlciwgb25TdWNjZXNzLCBieXRlczogJyArIGJ5dGVzLmJ5dGVMZW5ndGgpO1xyXG4gICAgfVxyXG5cclxuICAgIHhockxvYWRlci5sb2FkKGNvbnRlbnQsIG9uU3VjY2Vzcyk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB0ZXN0X2hsc3BhcnNlcigpIHtcclxuICAgIFxyXG4gIH1cclxuXHJcbiAgaW5zdGFuY2UgPSB7XHJcbiAgICB0ZXN0MTogdGVzdDEsXHJcbiAgICB0ZXN0X3JlYWRmaWxlOiB0ZXN0X3JlYWRmaWxlLFxyXG4gICAgdGVzdF92dHQ6IHRlc3RfdnR0LFxyXG4gICAgdGVzdF9jZWE2MDg6IHRlc3RfY2VhNjA4LFxyXG4gICAgdGVzdF9hZXMxMjg6IHRlc3RfYWVzMTI4LFxyXG4gICAgdGVzdF94aHJsb2FkZXI6IHRlc3RfeGhybG9hZGVyLFxyXG4gICAgdGVzdF9obHNwYXJzZXI6IHRlc3RfaGxzcGFyc2VyXHJcbiAgfTtcclxuXHJcbiAgc2V0dXAoKTtcclxuICByZXR1cm4gaW5zdGFuY2U7XHJcbn1cclxuXHJcblRlc3RGZWF0dXJlLl9faDVwbGF5ZXJfZmFjdG9yeV9uYW1lID0gJ1Rlc3RGZWF0dXJlJztcclxubGV0IGZhY3RvcnkgPSBGYWN0b3J5TWFrZXIuZ2V0Q2xhc3NGYWN0b3J5KFRlc3RGZWF0dXJlKTtcclxuZXhwb3J0IGRlZmF1bHQgZmFjdG9yeTtcclxuXHJcbiIsIi8qIEZpbGVTYXZlci5qc1xyXG4gKiBBIHNhdmVBcygpIEZpbGVTYXZlciBpbXBsZW1lbnRhdGlvbi5cclxuICogMS4zLjJcclxuICogMjAxNi0wNi0xNiAxODoyNToxOVxyXG4gKlxyXG4gKiBCeSBFbGkgR3JleSwgaHR0cDovL2VsaWdyZXkuY29tXHJcbiAqIExpY2Vuc2U6IE1JVFxyXG4gKiAgIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9GaWxlU2F2ZXIuanMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxyXG4gKi9cclxuXHJcbi8qZ2xvYmFsIHNlbGYgKi9cclxuLypqc2xpbnQgYml0d2lzZTogdHJ1ZSwgaW5kZW50OiA0LCBsYXhicmVhazogdHJ1ZSwgbGF4Y29tbWE6IHRydWUsIHNtYXJ0dGFiczogdHJ1ZSwgcGx1c3BsdXM6IHRydWUgKi9cclxuXHJcbi8qISBAc291cmNlIGh0dHA6Ly9wdXJsLmVsaWdyZXkuY29tL2dpdGh1Yi9GaWxlU2F2ZXIuanMvYmxvYi9tYXN0ZXIvRmlsZVNhdmVyLmpzICovXHJcblxyXG52YXIgc2F2ZUFzID0gc2F2ZUFzIHx8IChmdW5jdGlvbiAodmlldykge1xyXG4gIFwidXNlIHN0cmljdFwiO1xyXG4gIC8vIElFIDwxMCBpcyBleHBsaWNpdGx5IHVuc3VwcG9ydGVkXHJcbiAgaWYgKHR5cGVvZiB2aWV3ID09PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiYgL01TSUUgWzEtOV1cXC4vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgdmFyXHJcbiAgICAgIGRvYyA9IHZpZXcuZG9jdW1lbnRcclxuICAgICAgLy8gb25seSBnZXQgVVJMIHdoZW4gbmVjZXNzYXJ5IGluIGNhc2UgQmxvYi5qcyBoYXNuJ3Qgb3ZlcnJpZGRlbiBpdCB5ZXRcclxuICAgICwgZ2V0X1VSTCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIHZpZXcuVVJMIHx8IHZpZXcud2Via2l0VVJMIHx8IHZpZXc7XHJcbiAgICB9XHJcbiAgICAsIHNhdmVfbGluayA9IGRvYy5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsIFwiYVwiKVxyXG4gICAgLCBjYW5fdXNlX3NhdmVfbGluayA9IFwiZG93bmxvYWRcIiBpbiBzYXZlX2xpbmtcclxuICAgICwgY2xpY2sgPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICB2YXIgZXZlbnQgPSBuZXcgTW91c2VFdmVudChcImNsaWNrXCIpO1xyXG4gICAgICBub2RlLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xyXG4gICAgfVxyXG4gICAgLCBpc19zYWZhcmkgPSAvY29uc3RydWN0b3IvaS50ZXN0KHZpZXcuSFRNTEVsZW1lbnQpIHx8IHZpZXcuc2FmYXJpXHJcbiAgICAsIGlzX2Nocm9tZV9pb3MgPSAvQ3JpT1NcXC9bXFxkXSsvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudClcclxuICAgICwgdGhyb3dfb3V0c2lkZSA9IGZ1bmN0aW9uIChleCkge1xyXG4gICAgICAodmlldy5zZXRJbW1lZGlhdGUgfHwgdmlldy5zZXRUaW1lb3V0KShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhyb3cgZXg7XHJcbiAgICAgIH0sIDApO1xyXG4gICAgfVxyXG4gICAgLCBmb3JjZV9zYXZlYWJsZV90eXBlID0gXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIlxyXG4gICAgLy8gdGhlIEJsb2IgQVBJIGlzIGZ1bmRhbWVudGFsbHkgYnJva2VuIGFzIHRoZXJlIGlzIG5vIFwiZG93bmxvYWRmaW5pc2hlZFwiIGV2ZW50IHRvIHN1YnNjcmliZSB0b1xyXG4gICAgLCBhcmJpdHJhcnlfcmV2b2tlX3RpbWVvdXQgPSAxMDAwICogNDAgLy8gaW4gbXNcclxuICAgICwgcmV2b2tlID0gZnVuY3Rpb24gKGZpbGUpIHtcclxuICAgICAgdmFyIHJldm9rZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmaWxlID09PSBcInN0cmluZ1wiKSB7IC8vIGZpbGUgaXMgYW4gb2JqZWN0IFVSTFxyXG4gICAgICAgICAgZ2V0X1VSTCgpLnJldm9rZU9iamVjdFVSTChmaWxlKTtcclxuICAgICAgICB9IGVsc2UgeyAvLyBmaWxlIGlzIGEgRmlsZVxyXG4gICAgICAgICAgZmlsZS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIHNldFRpbWVvdXQocmV2b2tlciwgYXJiaXRyYXJ5X3Jldm9rZV90aW1lb3V0KTtcclxuICAgIH1cclxuICAgICwgZGlzcGF0Y2ggPSBmdW5jdGlvbiAoZmlsZXNhdmVyLCBldmVudF90eXBlcywgZXZlbnQpIHtcclxuICAgICAgZXZlbnRfdHlwZXMgPSBbXS5jb25jYXQoZXZlbnRfdHlwZXMpO1xyXG4gICAgICB2YXIgaSA9IGV2ZW50X3R5cGVzLmxlbmd0aDtcclxuICAgICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgIHZhciBsaXN0ZW5lciA9IGZpbGVzYXZlcltcIm9uXCIgKyBldmVudF90eXBlc1tpXV07XHJcbiAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsaXN0ZW5lci5jYWxsKGZpbGVzYXZlciwgZXZlbnQgfHwgZmlsZXNhdmVyKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgIHRocm93X291dHNpZGUoZXgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLCBhdXRvX2JvbSA9IGZ1bmN0aW9uIChibG9iKSB7XHJcbiAgICAgIC8vIHByZXBlbmQgQk9NIGZvciBVVEYtOCBYTUwgYW5kIHRleHQvKiB0eXBlcyAoaW5jbHVkaW5nIEhUTUwpXHJcbiAgICAgIC8vIG5vdGU6IHlvdXIgYnJvd3NlciB3aWxsIGF1dG9tYXRpY2FsbHkgY29udmVydCBVVEYtMTYgVStGRUZGIHRvIEVGIEJCIEJGXHJcbiAgICAgIGlmICgvXlxccyooPzp0ZXh0XFwvXFxTKnxhcHBsaWNhdGlvblxcL3htbHxcXFMqXFwvXFxTKlxcK3htbClcXHMqOy4qY2hhcnNldFxccyo9XFxzKnV0Zi04L2kudGVzdChibG9iLnR5cGUpKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCbG9iKFtTdHJpbmcuZnJvbUNoYXJDb2RlKDB4RkVGRiksIGJsb2JdLCB7IHR5cGU6IGJsb2IudHlwZSB9KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gYmxvYjtcclxuICAgIH1cclxuICAgICwgRmlsZVNhdmVyID0gZnVuY3Rpb24gKGJsb2IsIG5hbWUsIG5vX2F1dG9fYm9tKSB7XHJcbiAgICAgIGlmICghbm9fYXV0b19ib20pIHtcclxuICAgICAgICBibG9iID0gYXV0b19ib20oYmxvYik7XHJcbiAgICAgIH1cclxuICAgICAgLy8gRmlyc3QgdHJ5IGEuZG93bmxvYWQsIHRoZW4gd2ViIGZpbGVzeXN0ZW0sIHRoZW4gb2JqZWN0IFVSTHNcclxuICAgICAgdmFyXHJcbiAgICAgIGZpbGVzYXZlciA9IHRoaXNcclxuICAgICAgICAsIHR5cGUgPSBibG9iLnR5cGVcclxuICAgICAgICAsIGZvcmNlID0gdHlwZSA9PT0gZm9yY2Vfc2F2ZWFibGVfdHlwZVxyXG4gICAgICAgICwgb2JqZWN0X3VybFxyXG4gICAgICAgICwgZGlzcGF0Y2hfYWxsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgZGlzcGF0Y2goZmlsZXNhdmVyLCBcIndyaXRlc3RhcnQgcHJvZ3Jlc3Mgd3JpdGUgd3JpdGVlbmRcIi5zcGxpdChcIiBcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBvbiBhbnkgZmlsZXN5cyBlcnJvcnMgcmV2ZXJ0IHRvIHNhdmluZyB3aXRoIG9iamVjdCBVUkxzXHJcbiAgICAgICAgLCBmc19lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGlmICgoaXNfY2hyb21lX2lvcyB8fCAoZm9yY2UgJiYgaXNfc2FmYXJpKSkgJiYgdmlldy5GaWxlUmVhZGVyKSB7XHJcbiAgICAgICAgICAgIC8vIFNhZmFyaSBkb2Vzbid0IGFsbG93IGRvd25sb2FkaW5nIG9mIGJsb2IgdXJsc1xyXG4gICAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICB2YXIgdXJsID0gaXNfY2hyb21lX2lvcyA/IHJlYWRlci5yZXN1bHQgOiByZWFkZXIucmVzdWx0LnJlcGxhY2UoL15kYXRhOlteO10qOy8sICdkYXRhOmF0dGFjaG1lbnQvZmlsZTsnKTtcclxuICAgICAgICAgICAgICB2YXIgcG9wdXAgPSB2aWV3Lm9wZW4odXJsLCAnX2JsYW5rJyk7XHJcbiAgICAgICAgICAgICAgaWYgKCFwb3B1cCkgdmlldy5sb2NhdGlvbi5ocmVmID0gdXJsO1xyXG4gICAgICAgICAgICAgIHVybCA9IHVuZGVmaW5lZDsgLy8gcmVsZWFzZSByZWZlcmVuY2UgYmVmb3JlIGRpc3BhdGNoaW5nXHJcbiAgICAgICAgICAgICAgZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcclxuICAgICAgICAgICAgICBkaXNwYXRjaF9hbGwoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XHJcbiAgICAgICAgICAgIGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLklOSVQ7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIGRvbid0IGNyZWF0ZSBtb3JlIG9iamVjdCBVUkxzIHRoYW4gbmVlZGVkXHJcbiAgICAgICAgICBpZiAoIW9iamVjdF91cmwpIHtcclxuICAgICAgICAgICAgb2JqZWN0X3VybCA9IGdldF9VUkwoKS5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoZm9yY2UpIHtcclxuICAgICAgICAgICAgdmlldy5sb2NhdGlvbi5ocmVmID0gb2JqZWN0X3VybDtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBvcGVuZWQgPSB2aWV3Lm9wZW4ob2JqZWN0X3VybCwgXCJfYmxhbmtcIik7XHJcbiAgICAgICAgICAgIGlmICghb3BlbmVkKSB7XHJcbiAgICAgICAgICAgICAgLy8gQXBwbGUgZG9lcyBub3QgYWxsb3cgd2luZG93Lm9wZW4sIHNlZSBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9zYWZhcmkvZG9jdW1lbnRhdGlvbi9Ub29scy9Db25jZXB0dWFsL1NhZmFyaUV4dGVuc2lvbkd1aWRlL1dvcmtpbmd3aXRoV2luZG93c2FuZFRhYnMvV29ya2luZ3dpdGhXaW5kb3dzYW5kVGFicy5odG1sXHJcbiAgICAgICAgICAgICAgdmlldy5sb2NhdGlvbi5ocmVmID0gb2JqZWN0X3VybDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcclxuICAgICAgICAgIGRpc3BhdGNoX2FsbCgpO1xyXG4gICAgICAgICAgcmV2b2tlKG9iamVjdF91cmwpO1xyXG4gICAgICAgIH1cclxuICAgICAgO1xyXG4gICAgICBmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5JTklUO1xyXG5cclxuICAgICAgaWYgKGNhbl91c2Vfc2F2ZV9saW5rKSB7XHJcbiAgICAgICAgb2JqZWN0X3VybCA9IGdldF9VUkwoKS5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBzYXZlX2xpbmsuaHJlZiA9IG9iamVjdF91cmw7XHJcbiAgICAgICAgICBzYXZlX2xpbmsuZG93bmxvYWQgPSBuYW1lO1xyXG4gICAgICAgICAgY2xpY2soc2F2ZV9saW5rKTtcclxuICAgICAgICAgIGRpc3BhdGNoX2FsbCgpO1xyXG4gICAgICAgICAgcmV2b2tlKG9iamVjdF91cmwpO1xyXG4gICAgICAgICAgZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZzX2Vycm9yKCk7XHJcbiAgICB9XHJcbiAgICAsIEZTX3Byb3RvID0gRmlsZVNhdmVyLnByb3RvdHlwZVxyXG4gICAgLCBzYXZlQXMgPSBmdW5jdGlvbiAoYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pIHtcclxuICAgICAgcmV0dXJuIG5ldyBGaWxlU2F2ZXIoYmxvYiwgbmFtZSB8fCBibG9iLm5hbWUgfHwgXCJkb3dubG9hZFwiLCBub19hdXRvX2JvbSk7XHJcbiAgICB9XHJcbiAgO1xyXG4gIC8vIElFIDEwKyAobmF0aXZlIHNhdmVBcylcclxuICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChibG9iLCBuYW1lLCBub19hdXRvX2JvbSkge1xyXG4gICAgICBuYW1lID0gbmFtZSB8fCBibG9iLm5hbWUgfHwgXCJkb3dubG9hZFwiO1xyXG5cclxuICAgICAgaWYgKCFub19hdXRvX2JvbSkge1xyXG4gICAgICAgIGJsb2IgPSBhdXRvX2JvbShibG9iKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IoYmxvYiwgbmFtZSk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgRlNfcHJvdG8uYWJvcnQgPSBmdW5jdGlvbiAoKSB7IH07XHJcbiAgRlNfcHJvdG8ucmVhZHlTdGF0ZSA9IEZTX3Byb3RvLklOSVQgPSAwO1xyXG4gIEZTX3Byb3RvLldSSVRJTkcgPSAxO1xyXG4gIEZTX3Byb3RvLkRPTkUgPSAyO1xyXG5cclxuICBGU19wcm90by5lcnJvciA9XHJcbiAgRlNfcHJvdG8ub253cml0ZXN0YXJ0ID1cclxuICBGU19wcm90by5vbnByb2dyZXNzID1cclxuICBGU19wcm90by5vbndyaXRlID1cclxuICBGU19wcm90by5vbmFib3J0ID1cclxuICBGU19wcm90by5vbmVycm9yID1cclxuICBGU19wcm90by5vbndyaXRlZW5kID1cclxuICAgIG51bGw7XHJcblxyXG4gIHJldHVybiBzYXZlQXM7XHJcbn0oXHJcbiAgICAgdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZlxyXG4gIHx8IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93XHJcbiAgfHwgdGhpcy5jb250ZW50XHJcbikpO1xyXG4vLyBgc2VsZmAgaXMgdW5kZWZpbmVkIGluIEZpcmVmb3ggZm9yIEFuZHJvaWQgY29udGVudCBzY3JpcHQgY29udGV4dFxyXG4vLyB3aGlsZSBgdGhpc2AgaXMgbnNJQ29udGVudEZyYW1lTWVzc2FnZU1hbmFnZXJcclxuLy8gd2l0aCBhbiBhdHRyaWJ1dGUgYGNvbnRlbnRgIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHdpbmRvd1xyXG5cclxuaWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlLmV4cG9ydHMpIHtcclxuICBtb2R1bGUuZXhwb3J0cy5zYXZlQXMgPSBzYXZlQXM7XHJcbn0gZWxzZSBpZiAoKHR5cGVvZiBkZWZpbmUgIT09IFwidW5kZWZpbmVkXCIgJiYgZGVmaW5lICE9PSBudWxsKSAmJiAoZGVmaW5lLmFtZCAhPT0gbnVsbCkpIHtcclxuICBkZWZpbmUoXCJGaWxlU2F2ZXIuanNcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHNhdmVBcztcclxuICB9KTtcclxufVxyXG4iLCJpbXBvcnQgRXZlbnRCdXMgZnJvbSAnLi4vY29yZS9FdmVudEJ1cyc7XG5pbXBvcnQgRXZlbnRzIGZyb20gJy4uL2NvcmUvQ29yZUV2ZW50cyc7XG5pbXBvcnQgRGVidWcgZnJvbSAnLi4vY29yZS9EZWJ1Zyc7XG5cbmZ1bmN0aW9uIGZvcm1hdEFkc1RpbWVPZmZzZXQob2Zmc2V0KSB7XG4gICAgdmFyIGhvdXIgPSBwYXJzZUludChvZmZzZXQgLyAzNjAwKTtcbiAgICB2YXIgbWluID0gcGFyc2VJbnQocGFyc2VJbnQoKG9mZnNldCAlIDM2MDApKSAvIDYwKTtcbiAgICB2YXIgc2VjID0gcGFyc2VJbnQocGFyc2VJbnQoKG9mZnNldCAlIDM2MDApKSAlIDYwKTtcblxuICAgIHJldHVybiBob3VyLnRvU3RyaW5nKCkgKyAnOicgKyBtaW4udG9TdHJpbmcoKSArICc6JyArIHNlYy50b1N0cmluZygpICsgJy4wMDAnO1xufVxuXG5mdW5jdGlvbiBnZXRWTUFQSXRlbShicmVha0lkLCBvZmZzZXQsIHRhZykge1xuICAgIHZhciBicmVha1R5cGUgPSAnbGluZWFyLG5vbmxpbmVhcic7XG4gICAgdmFyIGJyZWFrSWQgPSBicmVha0lkO1xuICAgIHZhciB0aW1lT2Zmc2V0ID0gZm9ybWF0QWRzVGltZU9mZnNldChvZmZzZXQpO1xuICAgIHZhciB1cmwgPSB0YWc7XG5cbiAgICB2YXIgaXRlbSA9ICc8dm1hcDpBZEJyZWFrIGJyZWFrVHlwZT1cIl90eXBlX1wiIGJyZWFrSWQ9XCJfYWRicmVha25hbWVfXCIgdGltZU9mZnNldD1cIl9vZmZzZXRfXCI+PHZtYXA6QWRTb3VyY2UgYWxsb3dNdWx0aXBsZUFkcz1cInRydWVcIiBmb2xsb3dSZWRpcmVjdHM9XCJ0cnVlXCIgaWQ9XCJfYWRicmVha25hbWVfLWFkLTFcIj48dm1hcDpBZFRhZ1VSST48IVtDREFUQVtfdXJsX11dPjwvdm1hcDpBZFRhZ1VSST48L3ZtYXA6QWRTb3VyY2U+PC92bWFwOkFkQnJlYWs+Jy5yZXBsYWNlKC9fdHlwZV8vZywgYnJlYWtUeXBlKS5yZXBsYWNlKC9fYWRicmVha25hbWVfL2csIGJyZWFrSWQpLnJlcGxhY2UoL19vZmZzZXRfL2csIHRpbWVPZmZzZXQpLnJlcGxhY2UoL191cmxfL2csIHVybCk7XG4gICAgcmV0dXJuIGl0ZW07XG59XG5cbmZ1bmN0aW9uIEFkc0VuZ2luZShhZENvbnRhaW5lciwgdmlkZW9QbGF5ZXIsIGFkdmVydGlzaW5nKSB7XG4gICAgbGV0IGV2ZW50QnVzXyA9IEV2ZW50QnVzKG9sZG10bikuZ2V0SW5zdGFuY2UoKTtcbiAgICBsZXQgZGVidWdfID0gRGVidWcob2xkbXRuKS5nZXRJbnN0YW5jZSgpO1xuICAgIGxldCBhZENvbnRhaW5lcl8gPSBhZENvbnRhaW5lcjtcbiAgICBsZXQgbWVkaWFfID0gdmlkZW9QbGF5ZXI7XG4gICAgbGV0IGFkdmVydGlzaW5nXyA9IGFkdmVydGlzaW5nO1xuXG4gICAgLy8gSU1BIFNESyBOZWVkc1xuICAgIGxldCBhZERpc3BsYXlDb250YWluZXJfID0gbnVsbDtcbiAgICBsZXQgYWRzTG9hZGVyXyA9IG51bGw7XG4gICAgbGV0IGFkc01hbmFnZXJfID0gbnVsbDtcblxuICAgIC8vXG4gICAgbGV0IGN1ZVBvaW50c18gPSBudWxsO1xuXG4gICAgLy9cbiAgICBsZXQgd2lkdGhfO1xuICAgIGxldCBoZWlnaHRfO1xuXG4gICAgLy8gZmxhZ1xuICAgIGxldCBpc1BsYXlpbmdBZF8gPSBmYWxzZTtcbiAgICBsZXQgaXNMaW5lYXJBZF8gPSBmYWxzZTtcbiAgICBsZXQgaXNQYXVzZWRfID0gZmFsc2U7XG5cbiAgICBsZXQgYWRzTG9hZGVkXyA9IGZhbHNlO1xuICAgIGxldCBjb250ZW50SW5pdGlhbGl6ZWRfID0gZmFsc2U7XG5cbiAgICBsZXQgY291bnRkb3duVGltZXJfID0gbnVsbDtcbiAgICBsZXQgZHVyYXRpb25fO1xuICAgIGxldCBwb3NpdGlvbl87XG5cbiAgICBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICAgICAgaWYgKGFkdmVydGlzaW5nXy52cGFpZG1vZGUpIHtcbiAgICAgICAgICAgIGxldCBtb2RlID0gLTE7XG4gICAgICAgICAgICBpZiAoYWR2ZXJ0aXNpbmdfLnZwYWlkbW9kZSA9PT0gJ2Rpc2FibGVkJykge1xuICAgICAgICAgICAgICAgIG1vZGUgPSBnb29nbGUuaW1hLkltYVNka1NldHRpbmdzLlZwYWlkTW9kZS5ESVNBQkxFRDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYWR2ZXJ0aXNpbmdfLnZwYWlkbW9kZSA9PT0gJ2VuYWJsZWQnKSB7XG4gICAgICAgICAgICAgICAgbW9kZSA9IGdvb2dsZS5pbWEuSW1hU2RrU2V0dGluZ3MuVnBhaWRNb2RlLkVOQUJMRUQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFkdmVydGlzaW5nXy52cGFpZG1vZGUgPT09ICdpbnNlY3VyZScpIHtcbiAgICAgICAgICAgICAgICBtb2RlID0gZ29vZ2xlLmltYS5JbWFTZGtTZXR0aW5ncy5WcGFpZE1vZGUuSU5TRUNVUkU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW9kZSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBnb29nbGUuaW1hLnNldHRpbmdzLnNldFZwYWlkTW9kZShtb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhZHZlcnRpc2luZ18ubG9jYWxlKSB7XG4gICAgICAgICAgICBnb29nbGUuaW1hLnNldHRpbmdzLnNldExvY2FsZShhZHZlcnRpc2luZ18ubG9jYWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFkRGlzcGxheUNvbnRhaW5lcl8gPVxuICAgICAgICAgICAgbmV3IGdvb2dsZS5pbWEuQWREaXNwbGF5Q29udGFpbmVyKFxuICAgICAgICAgICAgICAgIGFkQ29udGFpbmVyXyxcbiAgICAgICAgICAgICAgICBtZWRpYV8sXG4gICAgICAgICAgICAgICAgYWR2ZXJ0aXNpbmdfLmNvbXBhbmlvbiA/IGFkdmVydGlzaW5nXy5jb21wYW5pb24uZGl2IDogbnVsbCk7XG5cbiAgICAgICAgYWRzTG9hZGVyXyA9IG5ldyBnb29nbGUuaW1hLkFkc0xvYWRlcihhZERpc3BsYXlDb250YWluZXJfKTtcbiAgICAgICAgLy8gTW9iaWxlIFNraXBwYWJsZSBBZHNcbiAgICAgICAgLy8gc2VlOiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9pbnRlcmFjdGl2ZS1tZWRpYS1hZHMvZG9jcy9zZGtzL2h0bWw1L3NraXBwYWJsZS1hZHNcbiAgICAgICAgYWRzTG9hZGVyXy5nZXRTZXR0aW5ncygpLnNldERpc2FibGVDdXN0b21QbGF5YmFja0ZvcklPUzEwUGx1cyh0cnVlKTtcbiAgICAgICAgYWRzTG9hZGVyXy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgZ29vZ2xlLmltYS5BZHNNYW5hZ2VyTG9hZGVkRXZlbnQuVHlwZS5BRFNfTUFOQUdFUl9MT0FERUQsXG4gICAgICAgICAgICBvbkFkc01hbmFnZXJMb2FkZWQsXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIHRoaXMpO1xuICAgICAgICBhZHNMb2FkZXJfLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICBnb29nbGUuaW1hLkFkRXJyb3JFdmVudC5UeXBlLkFEX0VSUk9SLFxuICAgICAgICAgICAgb25BZEVycm9yLFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICB0aGlzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgICBhZHNMb2FkZWRfID0gZmFsc2U7XG4gICAgICAgIGNvbnRlbnRJbml0aWFsaXplZF8gPSBmYWxzZTtcblxuICAgICAgICBldmVudEJ1c18ub24ob2xkbXRuLkV2ZW50cy5NRURJQV9MT0FERURNRVRBREFUQSwgb25NZWRpYUxvYWRlZE1ldGFkYXRhLCB0aGlzKTtcblxuICAgICAgICBpbml0aWFsVXNlckFjdGlvbigpO1xuICAgICAgICByZXF1ZXN0QWRzKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgIGlmIChjb3VudGRvd25UaW1lcl8pIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY291bnRkb3duVGltZXJfKTtcbiAgICAgICAgICAgIGNvdW50ZG93blRpbWVyXyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFkc01hbmFnZXJfKSB7XG4gICAgICAgICAgICBhZHNNYW5hZ2VyXy5kZXN0cm95KCk7XG4gICAgICAgICAgICBhZHNNYW5hZ2VyXyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0aWFsVXNlckFjdGlvbigpIHtcbiAgICAgICAgLy8gT24gaU9TIGFuZCBBbmRyb2lkIGRldmljZXMsIHZpZGVvIHBsYXliYWNrIG11c3QgYmVnaW4gaW4gYSB1c2VyIGFjdGlvbi5cbiAgICAgICAgLy8gQWREaXNwbGF5Q29udGFpbmVyIHByb3ZpZGVzIGEgaW5pdGlhbGl6ZSgpIEFQSSB0byBiZSBjYWxsZWQgYXQgYXBwcm9wcmlhdGVcbiAgICAgICAgLy8gdGltZS5cbiAgICAgICAgLy8gc2VlOiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9pbnRlcmFjdGl2ZS1tZWRpYS1hZHMvZG9jcy9zZGtzL2h0bWw1L21vYmlsZV92aWRlb1xuICAgICAgICBhZERpc3BsYXlDb250YWluZXJfLmluaXRpYWxpemUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXF1ZXN0QWRzKCkge1xuICAgICAgICB3aWR0aF8gPSBhZENvbnRhaW5lcl8uY2xpZW50V2lkdGg7XG4gICAgICAgIGhlaWdodF8gPSBhZENvbnRhaW5lcl8uY2xpZW50SGVpZ2h0O1xuICAgICAgICAvLyB2YXIgaXRlbSA9IGdldFZNQVBJdGVtKCdteUFkcycsIGFkdmVydGlzaW5nXy5vZmZzZXQsIGFkdmVydGlzaW5nXy50YWcpO1xuICAgICAgICAvLyB2YXIgYWRzID0gJzx2bWFwOlZNQVAgeG1sbnM6dm1hcD1cImh0dHA6Ly93d3cuaWFiLm5ldC92aWRlb3N1aXRlL3ZtYXBcIiB2ZXJzaW9uPVwiMS4wXCI+JyArIGl0ZW0gKyBcIjwvdm1hcDpWTUFQPlwiXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhZHM6ICcgKyBhZHMpO1xuXG4gICAgICAgIGRlYnVnXy5sb2coJ2FkdmVydGlzaW5nXy50YWc6ICcgKyBhZHZlcnRpc2luZ18udGFnKTtcbiAgICAgICAgdmFyIGFkc1JlcXVlc3QgPSBuZXcgZ29vZ2xlLmltYS5BZHNSZXF1ZXN0KCk7XG4gICAgICAgIGFkc1JlcXVlc3QuYWRUYWdVcmwgPSBhZHZlcnRpc2luZ18udGFnO1xuICAgICAgICBhZHNSZXF1ZXN0LmxpbmVhckFkU2xvdFdpZHRoID0gd2lkdGhfO1xuICAgICAgICBhZHNSZXF1ZXN0LmxpbmVhckFkU2xvdEhlaWdodCA9IGhlaWdodF87XG4gICAgICAgIGFkc1JlcXVlc3Qubm9uTGluZWFyQWRTbG90V2lkdGggPSB3aWR0aF87XG4gICAgICAgIGFkc1JlcXVlc3Qubm9uTGluZWFyQWRTbG90SGVpZ2h0ID0gaGVpZ2h0XztcblxuICAgICAgICBpZiAoYWR2ZXJ0aXNpbmdfLmZvcmNlTm9uTGluZWFyRnVsbFNsb3QpIHtcbiAgICAgICAgICAgIGFkc1JlcXVlc3QuZm9yY2VOb25MaW5lYXJGdWxsU2xvdCA9IGFkdmVydGlzaW5nXy5mb3JjZU5vbkxpbmVhckZ1bGxTbG90O1xuICAgICAgICB9XG5cbiAgICAgICAgLypcbiAgICAgICAgIEluIHNvbWUgY2lyY3Vtc3RhbmNlcyB5b3UgbWF5IHdhbnQgdG8gcHJldmVudCB0aGUgU0RLIGZyb20gcGxheWluZyBhZCBicmVha3MgdW50aWwgeW91J3JlIHJlYWR5IGZvciB0aGVtLlxuICAgICAgICAgSW4gdGhpcyBzY2VuYXJpbywgeW91IGNhbiBkaXNhYmxlIGF1dG9tYXRpYyBwbGF5YmFjayBvZiBhZCBicmVha3MgaW4gZmF2b3Igb2YgbGV0dGluZyB0aGUgU0RLIGtub3cgd2hlbiB5b3UncmUgcmVhZHkgZm9yIGFuIGFkIGJyZWFrIHRvIHBsYXkuXG4gICAgICAgICBXaXRoIHRoaXMgY29uZmlndXJhdGlvbiwgb25jZSB0aGUgU0RLIGhhcyBsb2FkZWQgYW4gYWQgYnJlYWssIGl0IHdpbGwgZmlyZSBhbiBBRF9CUkVBS19SRUFEWSBldmVudC5cbiAgICAgICAgIFdoZW4geW91ciBwbGF5ZXIgaXMgcmVhZHkgZm9yIHRoZSBhZCBicmVhayB0byBzdGFydCwgeW91IGNhbiBjYWxsIGFkc01hbmFnZXIuc3RhcnQoKTpcbiAgICAgICAgKi9cbiAgICAgICAgYWRzTG9hZGVyXy5nZXRTZXR0aW5ncygpLnNldEF1dG9QbGF5QWRCcmVha3MoZmFsc2UpO1xuXG4gICAgICAgIGFkc0xvYWRlcl8ucmVxdWVzdEFkcyhhZHNSZXF1ZXN0KTtcbiAgICB9O1xuXG4gICAgLy8gQWRzRW5naW5lIHB1YmxpYyBmdW5jdGlvbnNcbiAgICBmdW5jdGlvbiBzdGFydEFkcygpIHtcbiAgICAgICAgZGVidWdfLmxvZygnK0Fkc0VuZ2luZS5zdGFydEFkcycpO1xuXG4gICAgICAgIC8vIHNvbWV0aW1lcywgcmVxdWVzdEFkcyBtYXkgYmUgY2F1Z2h0IGFuIGVycm9yLCBzbyB3ZSByZXR1cm4gaGVyZSBkaXJlY3RseS5cbiAgICAgICAgaWYgKCFhZHNNYW5hZ2VyXykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVidWdfLmxvZygnd2lkdGhfOiAnICsgd2lkdGhfICsgJywgaGVpZ2h0XzogJyArIGhlaWdodF8pO1xuICAgICAgICBhZHNNYW5hZ2VyXy5pbml0KHdpZHRoXywgaGVpZ2h0XywgZ29vZ2xlLmltYS5WaWV3TW9kZS5OT1JNQUwpO1xuICAgICAgICBhZHNNYW5hZ2VyXy5zdGFydCgpO1xuXG4gICAgICAgIGRlYnVnXy5sb2coJy1BZHNFbmdpbmUuc3RhcnRBZHMnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1BhdXNlZCgpIHtcbiAgICAgICAgcmV0dXJuIGlzUGF1c2VkXztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1BsYXlpbmdBZCgpIHtcbiAgICAgICAgcmV0dXJuIGlzUGxheWluZ0FkXztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0xpbmVhckFkKCkge1xuICAgICAgICByZXR1cm4gaXNMaW5lYXJBZF87XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNNdXRlZCgpIHtcbiAgICAgICAgaWYgKGFkc01hbmFnZXJfLmdldFZvbHVtZSgpID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG11dGUoKSB7XG4gICAgICAgIGFkc01hbmFnZXJfLnNldFZvbHVtZSgwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1bm11dGUoKSB7XG4gICAgICAgIGFkc01hbmFnZXJfLnNldFZvbHVtZSgxKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwbGF5KCkge1xuICAgICAgICBpZiAoYWRzTWFuYWdlcl8pIHtcbiAgICAgICAgICAgIGFkc01hbmFnZXJfLnJlc3VtZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgICAgIGlmIChhZHNNYW5hZ2VyXykge1xuICAgICAgICAgICAgYWRzTWFuYWdlcl8ucGF1c2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2l6ZSgpIHtcbiAgICAgICAgaWYgKGFkc01hbmFnZXJfKSB7XG4gICAgICAgICAgICBhZHNNYW5hZ2VyXy5yZXNpemUoXG4gICAgICAgICAgICAgICAgYWRDb250YWluZXJfLmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgICAgIGFkQ29udGFpbmVyXy5jbGllbnRIZWlnaHQsXG4gICAgICAgICAgICAgICAgZ29vZ2xlLmltYS5WaWV3TW9kZS5GVUxMU0NSRUVOKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIGZ1bmN0aW9uIG9uQWRzTWFuYWdlckxvYWRlZChhZHNNYW5hZ2VyTG9hZGVkRXZlbnQpIHtcbiAgICAgICAgZGVidWdfLmxvZygnK29uQWRzTWFuYWdlckxvYWRlZCcpO1xuXG4gICAgICAgIHZhciBhZHNSZW5kZXJpbmdTZXR0aW5ncyA9IG5ldyBnb29nbGUuaW1hLkFkc1JlbmRlcmluZ1NldHRpbmdzKCk7XG4gICAgICAgIGlmIChhZHZlcnRpc2luZ18uZW5hYmxlUHJlbG9hZGluZykge1xuICAgICAgICAgICAgYWRzUmVuZGVyaW5nU2V0dGluZ3MuZW5hYmxlUHJlbG9hZGluZyA9IGFkdmVydGlzaW5nXy5lbmFibGVQcmVsb2FkaW5nO1xuICAgICAgICB9XG4gICAgICAgIGFkc1JlbmRlcmluZ1NldHRpbmdzLnJlc3RvcmVDdXN0b21QbGF5YmFja1N0YXRlT25BZEJyZWFrQ29tcGxldGUgPSB0cnVlO1xuXG4gICAgICAgIGFkc01hbmFnZXJfID0gYWRzTWFuYWdlckxvYWRlZEV2ZW50LmdldEFkc01hbmFnZXIoXG4gICAgICAgICAgICAgICAgbWVkaWFfLCBhZHNSZW5kZXJpbmdTZXR0aW5ncyk7XG5cbiAgICAgICAgLy8gQXR0YWNoIHRoZSBwYXVzZS9yZXN1bWUgZXZlbnRzLlxuICAgICAgICAvLyBIYW5kbGUgZXJyb3JzLlxuICAgICAgICBhZHNNYW5hZ2VyXy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgZ29vZ2xlLmltYS5BZEVycm9yRXZlbnQuVHlwZS5BRF9FUlJPUixcbiAgICAgICAgICAgIG9uQWRFcnJvcixcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgdGhpcyk7XG4gICAgICAgIHZhciBldmVudHMgPSBbXG4gICAgICAgICAgICAvLyBGb3Igbm9uLWF1dG8gYWQgYnJlYWtzLCBsaXN0ZW4gZm9yIGFkIGJyZWFrIHJlYWR5XG4gICAgICAgICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5BRF9CUkVBS19SRUFEWSxcbiAgICAgICAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkFEX01FVEFEQVRBLFxuICAgICAgICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuQUxMX0FEU19DT01QTEVURUQsXG4gICAgICAgICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5DTElDSyxcbiAgICAgICAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkNPTlRFTlRfUEFVU0VfUkVRVUVTVEVELFxuICAgICAgICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuQ09OVEVOVF9SRVNVTUVfUkVRVUVTVEVELFxuICAgICAgICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuQ09NUExFVEUsXG4gICAgICAgICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5EVVJBVElPTl9DSEFOR0UsXG4gICAgICAgICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5GSVJTVF9RVUFSVElMRSxcbiAgICAgICAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkxPQURFRCxcbiAgICAgICAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLk1JRFBPSU5ULFxuICAgICAgICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuUEFVU0VELFxuICAgICAgICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuUkVTVU1FRCxcbiAgICAgICAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLlNLSVBQRUQsXG4gICAgICAgICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5TVEFSVEVELFxuICAgICAgICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuVEhJUkRfUVVBUlRJTEUsXG4gICAgICAgICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5WT0xVTUVfQ0hBTkdFRF07XG4gICAgICAgIGZvciAodmFyIGluZGV4IGluIGV2ZW50cykge1xuICAgICAgICAgICAgYWRzTWFuYWdlcl8uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICBldmVudHNbaW5kZXhdLFxuICAgICAgICAgICAgICAgIG9uQWRFdmVudCxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFkc0xvYWRlZF8gPSB0cnVlO1xuICAgICAgICBpZiAoY29udGVudEluaXRpYWxpemVkXykge1xuICAgICAgICAvL2lmICgxKSB7XG4gICAgICAgICAgICBkZWJ1Z18ubG9nKCdzdGFydEFkcyB3aGVuIGNvbnRlbnRJbml0aWFsaXplZF8nKTtcbiAgICAgICAgICAgIHN0YXJ0QWRzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBkZWJ1Z18ubG9nKCctb25BZHNNYW5hZ2VyTG9hZGVkJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25BZEVycm9yKGFkRXJyb3JFdmVudCkge1xuICAgICAgICBkZWJ1Z18ubG9nKCctLW9uQWRFdmVudC0tOiAnICsgYWRFcnJvckV2ZW50LmdldEVycm9yKCkudG9TdHJpbmcoKSk7XG4gICAgICAgIGxldCBlcnIgPSBhZEVycm9yRXZlbnQuZ2V0RXJyb3IoKTtcbiAgICAgICAgLy8gZGVzZXJpYWxpemUsIGdldEVycm9yQ29kZSwgZ2V0SW5uZXJFcnJvciwgZ2V0TWVzc2FnZSwgZ2V0VHlwZSwgZ2V0VmFzdEVycm9yQ29kZSwgc2VyaWFsaXplLCB0b1N0cmluZ1xuICAgICAgICBjb25zb2xlLmxvZygnYWQgZXJyOiAnLCBlcnIpO1xuXG4gICAgICAgIGxldCBlcnJDb2RlID0gZXJyLmdldEVycm9yQ29kZSgpO1xuICAgICAgICBsZXQgZXJyTXNnID0gZXJyLmdldE1lc3NhZ2UoKTtcblxuICAgICAgICBpZiAoYWRzTWFuYWdlcl8pIHtcbiAgICAgICAgICAgIGFkc01hbmFnZXJfLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICAvL2FwcGxpY2F0aW9uXy5yZXN1bWVBZnRlckFkKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25BZEV2ZW50KGFkRXZlbnQpIHtcbiAgICAgICAgZGVidWdfLmxvZygnLS1vbkFkRXZlbnQtLTogJyArIGFkRXZlbnQudHlwZSk7XG4gICAgICAgIGxldCBhZCA9IGFkRXZlbnQuZ2V0QWQoKTtcblxuICAgICAgICBzd2l0Y2ggKGFkRXZlbnQudHlwZSkge1xuICAgICAgICBjYXNlIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkFEX0JSRUFLX1JFQURZOiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnYWRFdmVudC5vLmFkQnJlYWtUaW1lOiAnICsgYWRFdmVudC5vLmFkQnJlYWtUaW1lKTtcblxuICAgICAgICAgICAgbGV0IHNraXAgPSBJc1NraXBBZEJyZWFrKGFkRXZlbnQuby5hZEJyZWFrVGltZSk7XG4gICAgICAgICAgICAvLyBPbmNlIHdlJ3JlIHJlYWR5IHRvIHBsYXkgYWRzLiBUbyBza2lwIHRoaXMgYWQgYnJlYWssIHNpbXBseSByZXR1cm5cbiAgICAgICAgICAgIC8vIGZyb20gdGhpcyBoYW5kbGVyIHdpdGhvdXQgY2FsbGluZyBhZHNNYW5hZ2VyLnN0YXJ0KCkuXG4gICAgICAgICAgICBpZiAoIXNraXApIHtcbiAgICAgICAgICAgICAgICBhZHNNYW5hZ2VyXy5zdGFydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9hZHNNYW5hZ2VyXy5zdGFydCgpO1xuICAgICAgICB9IGJyZWFrO1xuICAgICAgICBjYXNlIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkFEX01FVEFEQVRBOiB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSBpbiBhZEV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBRF9NRVRBREFUQTogJyArIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdWVQb2ludHNfID0gYWRFdmVudC5nZXRBZEN1ZVBvaW50cygpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjdWUgcG9pbnRzOiAnICsgY3VlUG9pbnRzXy5oLmpvaW4oXCIsXCIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkNMSUNLOiB7XG4gICAgICAgICAgICAgICAgLy9hcHBsaWNhdGlvbl8uYWRDbGlja2VkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5DT01QTEVURToge1xuICAgICAgICAgICAgICAgIGlzUGxheWluZ0FkXyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChjb3VudGRvd25UaW1lcl8pIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjb3VudGRvd25UaW1lcl8pO1xuICAgICAgICAgICAgICAgICAgICBjb3VudGRvd25UaW1lcl8gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwb3NpdGlvbl8gPSBkdXJhdGlvbl87XG4gICAgICAgICAgICAgICAgZXZlbnRCdXNfLnRyaWdnZXIoRXZlbnRzLkFEX1RJTUVVUERBVEUsIHsgZHVyYXRpb246IGR1cmF0aW9uXywgcG9zaXRpb246IHBvc2l0aW9uX30pO1xuICAgICAgICAgICAgICAgIGV2ZW50QnVzXy50cmlnZ2VyKEV2ZW50cy5BRF9DT01QTEVURSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5DT05URU5UX1BBVVNFX1JFUVVFU1RFRDoge1xuICAgICAgICAgICAgICAgIGV2ZW50QnVzXy50cmlnZ2VyKEV2ZW50cy5BRF9DT05URU5UX1BBVVNFX1JFUVVFU1RFRCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5DT05URU5UX1JFU1VNRV9SRVFVRVNURUQ6IHtcbiAgICAgICAgICAgICAgICBldmVudEJ1c18udHJpZ2dlcihFdmVudHMuQURfQ09OVEVOVF9SRVNVTUVfUkVRVUVTVEVEKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkRVUkFUSU9OX0NIQU5HRToge31cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkxPQURFRDoge1xuICAgICAgICAgICAgICAgIGlmICghYWQuaXNMaW5lYXIoKSkge1xuICAgICAgICAgICAgICAgICAgICBldmVudEJ1c18udHJpZ2dlcihFdmVudHMuQURfQ09OVEVOVF9SRVNVTUVfUkVRVUVTVEVEKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5QQVVTRUQ6IHtcbiAgICAgICAgICAgICAgICBpc1BhdXNlZF8gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuUkVTVU1FRDoge1xuICAgICAgICAgICAgICAgIGlzUGF1c2VkXyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuU0tJUFBFRDoge1xuICAgICAgICAgICAgICAgIC8vIGZvciBcInNraXBwYWJsZSBhZHNcIiwgaWYgd2Ugc2tpcCBpdCwgd2Ugd29uJ3QgcmVjZWl2ZSBDT01QTEVURUQgZXZlbnQsIGJ1dCBvbmx5IHJlY2VpdmUgU0tJUFBFRCBldmVudC5cbiAgICAgICAgICAgICAgICBpc1BsYXlpbmdBZF8gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLlNUQVJURUQ6IHtcbiAgICAgICAgICAgICAgICBpc1BsYXlpbmdBZF8gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlzTGluZWFyQWRfID0gYWQuaXNMaW5lYXIoKTtcblxuICAgICAgICAgICAgICAgIGV2ZW50QnVzXy50cmlnZ2VyKEV2ZW50cy5BRF9TVEFSVEVELCB7IGFkOiBhZCB9KTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbl8gPSAwO1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uXyA9IGFkLmdldER1cmF0aW9uKCk7XG4gICAgICAgICAgICAgICAgY291bnRkb3duVGltZXJfID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0aW1lUmVtYWluaW5nID0gYWRzTWFuYWdlcl8uZ2V0UmVtYWluaW5nVGltZSgpO1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbl8gPSBkdXJhdGlvbl8gLSB0aW1lUmVtYWluaW5nO1xuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgVUkgd2l0aCB0aW1lUmVtYWluaW5nXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QnVzXy50cmlnZ2VyKEV2ZW50cy5BRF9USU1FVVBEQVRFLCB7IGR1cmF0aW9uOiBkdXJhdGlvbl8sIHBvc2l0aW9uOiBwb3NpdGlvbl99KTtcbiAgICAgICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgICAgICBldmVudEJ1c18udHJpZ2dlcihFdmVudHMuQURfVElNRVVQREFURSwgeyBkdXJhdGlvbjogZHVyYXRpb25fLCBwb3NpdGlvbjogcG9zaXRpb25ffSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5WT0xVTUVfQ0hBTkdFRDoge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhZCB2b2x1bWU6ICcgKyBhZHNNYW5hZ2VyXy5nZXRWb2x1bWUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTWVkaWFMb2FkZWRNZXRhZGF0YSgpIHtcbiAgICAgICAgZXZlbnRCdXNfLm9mZihvbGRtdG4uRXZlbnRzLk1FRElBX0xPQURFRE1FVEFEQVRBLCBvbk1lZGlhTG9hZGVkTWV0YWRhdGEsIHRoaXMpO1xuICAgICAgICBkZWJ1Z18ubG9nKCcrb25NZWRpYUxvYWRlZE1ldGFkYXRhJyk7XG4gICAgICAgIGNvbnRlbnRJbml0aWFsaXplZF8gPSB0cnVlO1xuICAgICAgICBpZiAoYWRzTG9hZGVkXykge1xuICAgICAgICAgICAgZGVidWdfLmxvZygnc3RhcnRBZHMgd2hlbiBhZHNMb2FkZWRfJyk7XG4gICAgICAgICAgICBzdGFydEFkcygpO1xuICAgICAgICB9XG4gICAgICAgIGRlYnVnXy5sb2coJy1vbk1lZGlhTG9hZGVkTWV0YWRhdGEnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1lZGlhRW5kZWQoKSB7XG4gICAgICAgIGFkc0xvYWRlcl8uY29udGVudENvbXBsZXRlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gSXNTa2lwQWRCcmVhayhhZEJyZWFrVGltZSkge1xuICAgICAgICBsZXQgc2tpcCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChtZWRpYV8uc2Vla2luZykge1xuICAgICAgICAgICAgc2tpcCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2tpcDtcbiAgICB9XG5cbiAgICBsZXQgaW5zdGFuY2UgPSB7XG4gICAgICAgIG9wZW46IG9wZW4sXG4gICAgICAgIGNsb3NlOiBjbG9zZSxcbiAgICAgICAgaXNQbGF5aW5nQWQ6IGlzUGxheWluZ0FkLFxuICAgICAgICBpc0xpbmVhckFkOiBpc0xpbmVhckFkLFxuICAgICAgICBwbGF5OiBwbGF5LFxuICAgICAgICBwYXVzZTogcGF1c2UsXG4gICAgICAgIGlzUGF1c2VkOiBpc1BhdXNlZCxcbiAgICAgICAgbXV0ZTogbXV0ZSxcbiAgICAgICAgdW5tdXRlOiB1bm11dGUsXG4gICAgICAgIGlzTXV0ZWQ6IGlzTXV0ZWQsXG4gICAgICAgIHJlc2l6ZTogcmVzaXplLFxuICAgICAgICBvbk1lZGlhRW5kZWQ6IG9uTWVkaWFFbmRlZCxcbiAgICAgICAgcmVxdWVzdEFkczogcmVxdWVzdEFkc1xuICAgIH07XG5cbiAgICBzZXR1cCgpO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQWRzRW5naW5lO1xuIiwiJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0IENhc3RVdGlscyBmcm9tICcuL2Nhc3RfdXRpbHMnO1xyXG5cclxudmFyIGV2SGFuZGxlcnMgPSB7fTtcclxuXHJcbnZhciBDYXN0UmVjZWl2ZXIgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gIGNvbnNvbGUubG9nKCdyZWNlaXZlciwgY29uc3RydWN0b3InKTtcclxuXHJcbiAgdGhpcy5lbGVtZW50XyA9IGVsZW1lbnQ7XHJcbiAgdGhpcy5jYXN0Q29udGV4dF8gPSBjYXN0LmZyYW1ld29yay5DYXN0UmVjZWl2ZXJDb250ZXh0LmdldEluc3RhbmNlKCk7XHJcblxyXG5cclxuICBcclxuXHJcbn07XHJcblxyXG5DYXN0UmVjZWl2ZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gIHRoaXMuY2FzdENvbnRleHRfLnN0YXJ0KCk7XHJcbn07XHJcblxyXG5DYXN0UmVjZWl2ZXIucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXYsIGNiKSB7XHJcbiAgZXZIYW5kbGVyc1tldl0gPSBjYjtcclxufTtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBDYXN0UmVjZWl2ZXI7XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuLy8gb2xkXHJcbi8vIHZhciBldkhhbmRsZXJzID0ge307XHJcbi8vIHZhciBDYXN0UmVjZWl2ZXIgPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcbi8vICAgY29uc29sZS5sb2coJ3JlY2VpdmVyLCBjb25zdHJ1Y3RvcicpO1xyXG5cclxuLy8gICBjYXN0LnBsYXllci5hcGkuc2V0TG9nZ2VyTGV2ZWwoY2FzdC5wbGF5ZXIuYXBpLkxvZ2dlckxldmVsLkRFQlVHKTtcclxuLy8gICBjYXN0LnJlY2VpdmVyLmxvZ2dlci5zZXRMZXZlbFZhbHVlKGNhc3QucmVjZWl2ZXIuTG9nZ2VyTGV2ZWwuREVCVUcpO1xyXG5cclxuLy8gICB0aGlzLmVsZW1lbnRfID0gZWxlbWVudDtcclxuXHJcbi8vICAgLy8gSW5pdCBWaWRlbyBFbGVtZW50XHJcbi8vICAgdGhpcy5tZWRpYUVsZW1lbnRfID0gKHRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvcigndmlkZW8nKSk7XHJcbi8vICAgLy8gdGhpcy5tZWRpYUVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5vbkVycm9yXy5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbi8vICAgLy8gdGhpcy5tZWRpYUVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXlpbmcnLCB0aGlzLm9uUGxheWluZ18uYmluZCh0aGlzKSxcclxuLy8gICAvLyAgICAgZmFsc2UpO1xyXG4vLyAgIC8vIHRoaXMubWVkaWFFbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKCdwYXVzZScsIHRoaXMub25QYXVzZV8uYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4vLyAgIC8vIHRoaXMubWVkaWFFbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHRoaXMub25FbmRlZF8uYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4vLyAgIC8vIHRoaXMubWVkaWFFbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMub25BYm9ydF8uYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4vLyAgIHRoaXMubWVkaWFFbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgdGhpcy5vblRpbWV1cGRhdGUuYmluZCh0aGlzKSxcclxuLy8gICAgICAgIGZhbHNlKTtcclxuLy8gICAvLyB0aGlzLm1lZGlhRWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcignc2Vla2luZycsIHRoaXMub25TZWVrU3RhcnRfLmJpbmQodGhpcyksXHJcbi8vICAgLy8gICAgIGZhbHNlKTtcclxuLy8gICAvLyB0aGlzLm1lZGlhRWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcignc2Vla2VkJywgdGhpcy5vblNlZWtFbmRfLmJpbmQodGhpcyksXHJcbi8vICAgLy8gICAgIGZhbHNlKTtcclxuXHJcbi8vICAgLy8gSW5pdCBNZWRpYW1hbmFnZXJcclxuLy8gICB0aGlzLm1lZGlhTWFuYWdlcl8gPSBuZXcgY2FzdC5yZWNlaXZlci5NZWRpYU1hbmFnZXIodGhpcy5tZWRpYUVsZW1lbnRfKTtcclxuLy8gICB0aGlzLm9uTG9hZE9yaWdfID1cclxuLy8gICAgICAgdGhpcy5tZWRpYU1hbmFnZXJfLm9uTG9hZC5iaW5kKHRoaXMubWVkaWFNYW5hZ2VyXyk7XHJcbi8vICAgdGhpcy5tZWRpYU1hbmFnZXJfLm9uTG9hZCA9IHRoaXMub25Mb2FkXy5iaW5kKHRoaXMpO1xyXG5cclxuLy8gICB0aGlzLm9uR2V0U3RhdHVzT3JpZ18gPVxyXG4vLyAgICAgICB0aGlzLm1lZGlhTWFuYWdlcl8ub25HZXRTdGF0dXMuYmluZCh0aGlzLm1lZGlhTWFuYWdlcl8pO1xyXG4vLyAgIHRoaXMubWVkaWFNYW5hZ2VyXy5vbkdldFN0YXR1cyA9IHRoaXMub25HZXRTdGF0dXNfLmJpbmQodGhpcyk7XHJcblxyXG4vLyAgIHRoaXMub25NZXRhZGF0YUxvYWRlZE9yaWdfID1cclxuLy8gICAgICAgdGhpcy5tZWRpYU1hbmFnZXJfLm9uTWV0YWRhdGFMb2FkZWQuYmluZCh0aGlzLm1lZGlhTWFuYWdlcl8pO1xyXG4vLyAgIHRoaXMubWVkaWFNYW5hZ2VyXy5vbk1ldGFkYXRhTG9hZGVkID0gdGhpcy5vbk1ldGFkYXRhTG9hZGVkXy5iaW5kKHRoaXMpO1xyXG5cclxuLy8gICB0aGlzLm9uU3RvcE9yaWdfID1cclxuLy8gICAgICAgdGhpcy5tZWRpYU1hbmFnZXJfLm9uU3RvcC5iaW5kKHRoaXMubWVkaWFNYW5hZ2VyXyk7XHJcbi8vICAgdGhpcy5tZWRpYU1hbmFnZXJfLm9uU3RvcCA9IHRoaXMub25TdG9wXy5iaW5kKHRoaXMpO1xyXG4gIFxyXG4vLyAgIHRoaXMub25Mb2FkTWV0YWRhdGFFcnJvck9yaWdfID1cclxuLy8gICAgICAgdGhpcy5tZWRpYU1hbmFnZXJfLm9uTG9hZE1ldGFkYXRhRXJyb3IuYmluZCh0aGlzLm1lZGlhTWFuYWdlcl8pO1xyXG4vLyAgIHRoaXMubWVkaWFNYW5hZ2VyXy5vbkxvYWRNZXRhZGF0YUVycm9yID0gdGhpcy5vbkxvYWRNZXRhZGF0YUVycm9yXy5iaW5kKHRoaXMpO1xyXG4gIFxyXG4vLyAgIHRoaXMub25FcnJvck9yaWdfID0gdGhpcy5tZWRpYU1hbmFnZXJfLm9uRXJyb3IuYmluZCh0aGlzLm1lZGlhTWFuYWdlcl8pO1xyXG4vLyAgIHRoaXMubWVkaWFNYW5hZ2VyXy5vbkVycm9yID0gdGhpcy5vbkVycm9yXy5iaW5kKHRoaXMpO1xyXG5cclxuLy8gICAvLyBJbml0IENhc3RSZWNlaXZlck1hbmFnZXJcclxuLy8gICB0aGlzLnJlY2VpdmVyTWFuYWdlcl8gPSBjYXN0LnJlY2VpdmVyLkNhc3RSZWNlaXZlck1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuLy8gICB0aGlzLnJlY2VpdmVyTWFuYWdlcl8ub25SZWFkeSA9IHRoaXMub25SZWFkeV8uYmluZCh0aGlzKTtcclxuLy8gICB0aGlzLnJlY2VpdmVyTWFuYWdlcl8ub25TZW5kZXJEaXNjb25uZWN0ZWQgPVxyXG4vLyAgICAgICB0aGlzLm9uU2VuZGVyRGlzY29ubmVjdGVkXy5iaW5kKHRoaXMpO1xyXG4vLyAgIHRoaXMucmVjZWl2ZXJNYW5hZ2VyXy5vblZpc2liaWxpdHlDaGFuZ2VkID1cclxuLy8gICAgICAgdGhpcy5vblZpc2liaWxpdHlDaGFuZ2VkXy5iaW5kKHRoaXMpO1xyXG5cclxuLy8gICAvLyB0aGlzLmdlbmVyaWNCdXNfID0gdGhpcy5yZWNlaXZlck1hbmFnZXJfLmdldENhc3RNZXNzYWdlQnVzKFxyXG4vLyAgIC8vICAgICBDYXN0VXRpbHMuR0VORVJJQ19NRVNTQUdFX05BTUVTUEFDRSk7XHJcbi8vICAgLy8gdGhpcy5nZW5lcmljQnVzXy5vbk1lc3NhZ2UgPSB0aGlzLm9uR2VuZXJpY01lc3NhZ2VfLmJpbmQodGhpcyk7XHJcblxyXG4vLyAgIHRoaXMub2xkbXRuQnVzXyA9IHRoaXMucmVjZWl2ZXJNYW5hZ2VyXy5nZXRDYXN0TWVzc2FnZUJ1cyhcclxuLy8gICAgICAgQ2FzdFV0aWxzLm9sZG10bl9NRVNTQUdFX05BTUVTUEFDRSk7XHJcbi8vICAgdGhpcy5vbGRtdG5CdXNfLm9uTWVzc2FnZSA9IHRoaXMub25vbGRtdG5NZXNzYWdlXy5iaW5kKHRoaXMpO1xyXG4vLyB9O1xyXG5cclxuLy8gLy9cclxuLy8gQ2FzdFJlY2VpdmVyLnByb3RvdHlwZS5nZXRNZWRpYUVsZW1lbnQgPSBmdW5jdGlvbigpIHtcclxuLy8gICByZXR1cm4gdGhpcy5tZWRpYUVsZW1lbnRfO1xyXG4vLyB9O1xyXG5cclxuLy8gQ2FzdFJlY2VpdmVyLnByb3RvdHlwZS5nZXRNZWRpYU1hbmFnZXIgPSBmdW5jdGlvbigpIHtcclxuLy8gICByZXR1cm4gdGhpcy5tZWRpYU1hbmFnZXJfO1xyXG4vLyB9O1xyXG5cclxuLy8gQ2FzdFJlY2VpdmVyLnByb3RvdHlwZS5nZXRQbGF5ZXIgPSBmdW5jdGlvbigpIHtcclxuLy8gICByZXR1cm4gdGhpcy5wbGF5ZXJfO1xyXG4vLyB9O1xyXG5cclxuLy8gQ2FzdFJlY2VpdmVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgIHRoaXMucmVjZWl2ZXJNYW5hZ2VyXy5zdGFydCgpO1xyXG4vLyB9O1xyXG5cclxuLy8gQ2FzdFJlY2VpdmVyLnByb3RvdHlwZS5vblJlYWR5XyA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgIGNvbnNvbGUubG9nKCdvblJlYWR5Jyk7XHJcbi8vIH07XHJcblxyXG4vLyBDYXN0UmVjZWl2ZXIucHJvdG90eXBlLm9uU2VuZGVyRGlzY29ubmVjdGVkXyA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbi8vICAgY29uc29sZS5sb2coJ29uU2VuZGVyRGlzY29ubmVjdGVkJyk7XHJcbi8vICAgLy8gV2hlbiB0aGUgbGFzdCBvciBvbmx5IHNlbmRlciBpcyBjb25uZWN0ZWQgdG8gYSByZWNlaXZlcixcclxuLy8gICAvLyB0YXBwaW5nIERpc2Nvbm5lY3Qgc3RvcHMgdGhlIGFwcCBydW5uaW5nIG9uIHRoZSByZWNlaXZlci5cclxuLy8gICBpZiAodGhpcy5yZWNlaXZlck1hbmFnZXJfLmdldFNlbmRlcnMoKS5sZW5ndGggPT09IDAgJiZcclxuLy8gICAgICAgZXZlbnQucmVhc29uID09PVxyXG4vLyAgICAgICAgICAgY2FzdC5yZWNlaXZlci5zeXN0ZW0uRGlzY29ubmVjdFJlYXNvbi5SRVFVRVNURURfQllfU0VOREVSKSB7XHJcbi8vICAgICB0aGlzLnJlY2VpdmVyTWFuYWdlcl8uc3RvcCgpO1xyXG4vLyAgIH1cclxuLy8gfTtcclxuXHJcbi8vIENhc3RSZWNlaXZlci5wcm90b3R5cGUub25FcnJvcl8gPSBmdW5jdGlvbihlcnJvcikge1xyXG4vLyAgIGNvbnNvbGUubG9nKCdvbkVycm9yJyk7XHJcbi8vICAgdGhpcy5vbkVycm9yT3JpZ18oZXJyb3IpO1xyXG4vLyB9O1xyXG5cclxuLy8gQ2FzdFJlY2VpdmVyLnByb3RvdHlwZS5vblBsYXlpbmdfID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgY29uc29sZS5sb2coJ29uUGxheWluZycpO1xyXG4vLyB9O1xyXG5cclxuLy8gQ2FzdFJlY2VpdmVyLnByb3RvdHlwZS5vblBhdXNlXyA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgIGNvbnNvbGUubG9nKCdvblBhdXNlJyk7XHJcbi8vIH07XHJcblxyXG4vLyBDYXN0UmVjZWl2ZXIucHJvdG90eXBlLm9uU3RvcF8gPSBmdW5jdGlvbihldmVudCkge1xyXG4vLyAgIGNvbnNvbGUubG9nKCdvblN0b3AnKTtcclxuLy8gICB0aGlzLm9uU3RvcE9yaWdfKGV2ZW50KTtcclxuLy8gfTtcclxuXHJcbi8vIENhc3RSZWNlaXZlci5wcm90b3R5cGUub25FbmRlZF8gPSBmdW5jdGlvbigpIHtcclxuLy8gICBjb25zb2xlLmxvZygnb25FbmRlZCcpO1xyXG4vLyB9O1xyXG5cclxuLy8gQ2FzdFJlY2VpdmVyLnByb3RvdHlwZS5vbkFib3J0XyA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgIGNvbnNvbGUubG9nKCdvbkFib3J0Jyk7XHJcbi8vIH07XHJcblxyXG4vLyBDYXN0UmVjZWl2ZXIucHJvdG90eXBlLm9uVGltZXVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgIHZhciBjdXJUaW1lID0gdGhpcy5tZWRpYUVsZW1lbnRfLmN1cnJlbnRUaW1lO1xyXG4vLyAgIHZhciB0b3RhbFRpbWUgPSB0aGlzLm1lZGlhRWxlbWVudF8uZHVyYXRpb247XHJcblxyXG4vLyAgIC8vY29uc29sZS5sb2coJ29uVGltZXVwZGF0ZSwgJyArIGN1clRpbWUgKyAnLycgKyB0b3RhbFRpbWUpO1xyXG5cclxuLy8gICAvLyB1cGRhdGUgbG9jYWxcclxuLy8gICBldkhhbmRsZXJzWyd0aW1ldXBkYXRlJ10oY3VyVGltZSwgdG90YWxUaW1lKTtcclxuXHJcbi8vICAgLy8gc2VuZCBtZXNzYWdlIHRvIHNlbmRlclxyXG4vLyAgIHRoaXMuc2VuZE1lc3NhZ2VfKHtcclxuLy8gICAgIHR5cGU6ICd0aW1ldXBkYXRlJyxcclxuLy8gICAgIGRhdGE6IHtcclxuLy8gICAgICAgY3VyVGltZTogY3VyVGltZSxcclxuLy8gICAgICAgdG90YWxUaW1lOiB0b3RhbFRpbWVcclxuLy8gICAgIH1cclxuLy8gICB9LCB0aGlzLm9sZG10bkJ1c18pO1xyXG4vLyB9O1xyXG5cclxuLy8gQ2FzdFJlY2VpdmVyLnByb3RvdHlwZS5vblNlZWtTdGFydF8gPSBmdW5jdGlvbigpIHtcclxuLy8gICBjb25zb2xlLmxvZygnb25TZWVrU3RhcnQnKTtcclxuLy8gfTtcclxuXHJcbi8vIENhc3RSZWNlaXZlci5wcm90b3R5cGUub25TZWVrRW5kXyA9IGZ1bmN0aW9uKCkge1xyXG4vLyAgIGNvbnNvbGUubG9nKCdvblNlZWtFbmQnKTtcclxuLy8gfTtcclxuXHJcbi8vIENhc3RSZWNlaXZlci5wcm90b3R5cGUub25WaXNpYmlsaXR5Q2hhbmdlZF8gPSBmdW5jdGlvbihldmVudCkge1xyXG4vLyAgIGNvbnNvbGUubG9nKCdvblZpc2liaWxpdHlDaGFuZ2VkJyk7XHJcbi8vICAgaWYgKCFldmVudC5pc1Zpc2libGUpIHtcclxuLy8gICAgIHRoaXMubWVkaWFFbGVtZW50Xy5wYXVzZSgpO1xyXG4vLyAgICAgdGhpcy5tZWRpYU1hbmFnZXJfLmJyb2FkY2FzdFN0YXR1cyhmYWxzZSk7XHJcbi8vICAgfVxyXG4vLyB9O1xyXG5cclxuLy8gQ2FzdFJlY2VpdmVyLnByb3RvdHlwZS5vbkdlbmVyaWNNZXNzYWdlXyA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbi8vICAgLy8gY29uc29sZS5sb2coJytvbkdlbmVyaWNNZXNzYWdlXywgdHlwZTogJyArIGV2ZW50LnR5cGUgKyAnLCBzZW5kZXJJZDogJyArIGV2ZW50LnNlbmRlcklkKTtcclxuLy8gICAvLyBjb25zb2xlLmxvZygndHlwZTogJyArIGV2ZW50LmRhdGEudHlwZSk7XHJcbi8vICAgLy8gY29uc29sZS5sb2coJ3JlcXVlc3RJZDogJyArIGV2ZW50LmRhdGEucmVxdWVzdElkKTtcclxuLy8gICAvLyBjb25zb2xlLmxvZygnbmFtZXNwYWNlOiAnICsgZXZlbnQubmFtZXNwYWNlKTtcclxuLy8gICAvLyBjb25zb2xlLmxvZygnc2VuZGVySWQ6ICcgKyBldmVudC5zZW5kZXJJZCk7XHJcblxyXG4vLyAgIC8vIHZhciBtZXNzYWdlID0gQ2FzdFV0aWxzLmRlc2VyaWFsaXplKGV2ZW50LmRhdGEpO1xyXG4vLyAgIC8vIGNvbnNvbGUubG9nKCcrb25HZW5lcmljTWVzc2FnZV86ICcgKyBtZXNzYWdlWyd0eXBlJ10pO1xyXG5cclxuLy8gICAvLyBUT0RPKGlzbWVuYSk6IGVycm9yIG1lc3NhZ2Ugb24gZHVwbGljYXRlIHJlcXVlc3QgaWQgZnJvbSB0aGUgc2FtZSBzZW5kZXJcclxuLy8gICAvL3N3aXRjaCAobWVzc2FnZVsndHlwZSddKSB7XHJcbi8vICAgICBzd2l0Y2ggKGV2ZW50LmRhdGEudHlwZSkge1xyXG4vLyAgICAgY2FzZSAnUExBWSc6IHtcclxuLy8gICAgICAgdGhpcy5tZWRpYUVsZW1lbnRfLnBsYXkoKTtcclxuLy8gICAgIH0gYnJlYWs7XHJcbi8vICAgICBjYXNlICdQQVVTRSc6IHtcclxuLy8gICAgICAgdGhpcy5tZWRpYUVsZW1lbnRfLnBhdXNlKCk7XHJcbi8vICAgICB9IGJyZWFrO1xyXG4vLyAgICAgY2FzZSAnTE9BRCc6IHtcclxuLy8gICAgICAgdmFyIG1lZGlhSW5mbyA9IGV2ZW50LmRhdGEubWVkaWE7XHJcbi8vICAgICAgIHZhciBjb250ZW50SWQgPSBtZWRpYUluZm9bJ2NvbnRlbnRJZCddO1xyXG4vLyAgICAgICB2YXIgbWFuaWZlc3RVcmkgPSBjb250ZW50SWQ7XHJcblxyXG4vLyAgICAgICAvLyB2YXIgbWVkaWFJbmZvID0gbWVzc2FnZVsnbWVkaWEnXTtcclxuLy8gICAgICAgLy8gdmFyIGNvbnRlbnRJZCA9IG1lZGlhSW5mb1snY29udGVudElkJ107XHJcbi8vICAgICAgIC8vIHZhciBjdXJyZW50VGltZSA9IG1lc3NhZ2VbJ2N1cnJlbnRUaW1lJ107XHJcbi8vICAgICAgIC8vIHZhciBtYW5pZmVzdFVyaSA9IGNvbnRlbnRJZDtcclxuLy8gLy8gc2FtcGxlXHJcbi8vIC8vIGNvbnRlbnRJZDogXCJodHRwOi8vMTAuMi43Mi4xMDQvNy9obHMvdjgvZ2VhcjEvdGVzdC5tM3U4XCJcclxuLy8gLy8gY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vZGFzaCt4bWxcIlxyXG4vLyAvLyBtZXRhZGF0YTogT2JqZWN0XHJcbi8vIC8vIHN0cmVhbVR5cGU6IFwiQlVGRkVSRURcIlxyXG4vLyAgICAgICAvLyB2YXIgcHJvdG9jb2xGdW5jID0gQ2FzdFJlY2VpdmVyLmdldFByb3RvY29sRnVuY3Rpb25fKG1lZGlhSW5mbyk7XHJcbi8vICAgICAgIC8vIHZhciBob3N0ID0gbmV3IGNhc3QucGxheWVyLmFwaS5Ib3N0KHtcclxuLy8gICAgICAgLy8gICAndXJsJzogbWFuaWZlc3RVcmksXHJcbi8vICAgICAgIC8vICAgJ21lZGlhRWxlbWVudCc6IHRoaXMubWVkaWFFbGVtZW50X1xyXG4vLyAgICAgICAvLyB9KTtcclxuLy8gICAgICAgLy8gdGhpcy5wbGF5ZXJfID0gbmV3IGNhc3QucGxheWVyLmFwaS5QbGF5ZXIoaG9zdCk7XHJcbi8vICAgICAgIC8vIHRoaXMucGxheWVyXy5sb2FkKHByb3RvY29sRnVuYyhob3N0KSk7XHJcbi8vICAgICB9IGJyZWFrO1xyXG4vLyAgICAgZGVmYXVsdDpcclxuLy8gICAgICAgYnJlYWs7XHJcbi8vICAgfVxyXG4vLyB9XHJcblxyXG4vLyBDYXN0UmVjZWl2ZXIucHJvdG90eXBlLm9ub2xkbXRuTWVzc2FnZV8gPSBmdW5jdGlvbihldmVudCkge1xyXG4vLyAgIHZhciBtZXNzYWdlID0gQ2FzdFV0aWxzLmRlc2VyaWFsaXplKGV2ZW50LmRhdGEpO1xyXG4vLyAgIC8vY29uc29sZS5sb2coJytvbm9sZG10bk1lc3NhZ2VfLCB0eXBlOiAnICsgbWVzc2FnZVsndHlwZSddICsgJywgdGFyZ2V0TmFtZTogJyArIG1lc3NhZ2VbdGFyZ2V0TmFtZV0gKyAnLCBtZXRob2ROYW1lOiAnICsgbWVzc2FnZVttZXRob2ROYW1lXSk7XHJcblxyXG4vLyAgIHRoaXMub2xkbXRuQnVzXy5icm9hZGNhc3QoXCJhYmNkMTIzNFwiKTtcclxuLy8gfTtcclxuXHJcbi8vIENhc3RSZWNlaXZlci5wcm90b3R5cGUuc2VuZE1lc3NhZ2VfID1cclxuLy8gICAgIGZ1bmN0aW9uKG1lc3NhZ2UsIGJ1cywgb3B0X3NlbmRlcklkKSB7XHJcbi8vICAgLy8gQ3V0cyBsb2cgc3BhbSB3aGVuIGRlYnVnZ2luZyB0aGUgcmVjZWl2ZXIgVUkgaW4gQ2hyb21lLlxyXG4vLyAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZF8pIHJldHVybjtcclxuXHJcbi8vICAgdmFyIHNlcmlhbGl6ZWQgPSBDYXN0VXRpbHMuc2VyaWFsaXplKG1lc3NhZ2UpO1xyXG4vLyAgIGlmIChvcHRfc2VuZGVySWQpIHtcclxuLy8gICAgIGJ1cy5nZXRDYXN0Q2hhbm5lbChvcHRfc2VuZGVySWQpLnNlbmQoc2VyaWFsaXplZCk7XHJcbi8vICAgfSBlbHNlIHtcclxuLy8gICAgIGJ1cy5icm9hZGNhc3Qoc2VyaWFsaXplZCk7XHJcbi8vICAgfVxyXG4vLyB9O1xyXG5cclxuLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vLyAvLyBcclxuLy8gQ2FzdFJlY2VpdmVyLnByb3RvdHlwZS5vbkxvYWRfID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuLy8gICBjb25zb2xlLmxvZygnb25Mb2FkXycpO1xyXG5cclxuLy8gICBpZiAodGhpcy5wbGF5ZXJfKSB7XHJcbi8vICAgICB0aGlzLnBsYXllcl8udW5sb2FkKCk7XHJcbi8vICAgICB0aGlzLnBsYXllcl8gPSBudWxsO1xyXG4vLyAgIH1cclxuXHJcbi8vICAgdmFyIGluZm8gPSBuZXcgY2FzdC5yZWNlaXZlci5NZWRpYU1hbmFnZXIuTG9hZEluZm8oZXZlbnQuZGF0YSwgZXZlbnQuc2VuZGVySWQpO1xyXG5cclxuLy8gICB2YXIgdXJsID0gaW5mby5tZXNzYWdlLm1lZGlhLmNvbnRlbnRJZDtcclxuLy8gICB2YXIgcHJvdG9jb2xGdW5jID0gQ2FzdFJlY2VpdmVyLmdldFByb3RvY29sRnVuY3Rpb25fKGluZm8ubWVzc2FnZS5tZWRpYSk7XHJcbi8vICAgdmFyIGhvc3QgPSBuZXcgY2FzdC5wbGF5ZXIuYXBpLkhvc3Qoe1xyXG4vLyAgICAgJ3VybCc6IHVybCxcclxuLy8gICAgICdtZWRpYUVsZW1lbnQnOiB0aGlzLm1lZGlhRWxlbWVudF9cclxuLy8gICB9KTtcclxuLy8gICB0aGlzLnBsYXllcl8gPSBuZXcgY2FzdC5wbGF5ZXIuYXBpLlBsYXllcihob3N0KTtcclxuLy8gICB0aGlzLnBsYXllcl8ubG9hZChwcm90b2NvbEZ1bmMoaG9zdCkpO1xyXG4vLyB9O1xyXG5cclxuLy8gQ2FzdFJlY2VpdmVyLnByb3RvdHlwZS5vbkdldFN0YXR1c18gPSBmdW5jdGlvbihldmVudCkge1xyXG4vLyAgIGNvbnNvbGUubG9nKCctLW9uR2V0U3RhdHVzXy0tJywgZXZlbnQpO1xyXG4vLyB9O1xyXG5cclxuLy8gQ2FzdFJlY2VpdmVyLnByb3RvdHlwZS5vbk1ldGFkYXRhTG9hZGVkXyA9IGZ1bmN0aW9uKGluZm8pIHtcclxuLy8gICBjb25zb2xlLmxvZygnb25NZXRhZGF0YUxvYWRlZCcpO1xyXG4gIFxyXG4vLyAgIHZhciB0b3RhbFRpbWUgPSB0aGlzLm1lZGlhRWxlbWVudF8uZHVyYXRpb247XHJcbi8vICAgY29uc29sZS5sb2coJ3RvdGFsIHRpbWU6ICcgKyB0b3RhbFRpbWUpO1xyXG5cclxuLy8gICB0aGlzLm9uTWV0YWRhdGFMb2FkZWRPcmlnXyhpbmZvKTtcclxuLy8gfTtcclxuXHJcbi8vIENhc3RSZWNlaXZlci5wcm90b3R5cGUub25Mb2FkTWV0YWRhdGFFcnJvcl8gPSBmdW5jdGlvbihldmVudCkge1xyXG4vLyAgIGNvbnNvbGUubG9nKCdvbkxvYWRNZXRhZGF0YUVycm9yXycpO1xyXG4vLyAgIHRoaXMub25Mb2FkTWV0YWRhdGFFcnJvck9yaWdfKGV2ZW50KTtcclxuLy8gfTtcclxuXHJcbi8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuLy8gLy8gb2JqZWN0IGZ1bmN0aW9uXHJcbi8vIENhc3RSZWNlaXZlci5nZXRQcm90b2NvbEZ1bmN0aW9uXyA9IGZ1bmN0aW9uKG1lZGlhSW5mb3JtYXRpb24pIHtcclxuLy8gICB2YXIgdXJsID0gbWVkaWFJbmZvcm1hdGlvbi5jb250ZW50SWQ7XHJcbi8vICAgdmFyIHR5cGUgPSBtZWRpYUluZm9ybWF0aW9uLmNvbnRlbnRUeXBlIHx8ICcnO1xyXG4vLyAgIHZhciBwYXRoID0gQ2FzdFJlY2VpdmVyLmdldFBhdGhfKHVybCkgfHwgJyc7XHJcbi8vICAgaWYgKENhc3RSZWNlaXZlci5nZXRFeHRlbnNpb25fKHBhdGgpID09PSAnbTN1OCcgfHxcclxuLy8gICAgICAgICAgIHR5cGUgPT09ICdhcHBsaWNhdGlvbi94LW1wZWd1cmwnIHx8XHJcbi8vICAgICAgICAgICB0eXBlID09PSAnYXBwbGljYXRpb24vdm5kLmFwcGxlLm1wZWd1cmwnKSB7XHJcbi8vICAgICByZXR1cm4gY2FzdC5wbGF5ZXIuYXBpLkNyZWF0ZUhsc1N0cmVhbWluZ1Byb3RvY29sO1xyXG4vLyAgIH0gZWxzZSBpZiAoQ2FzdFJlY2VpdmVyLmdldEV4dGVuc2lvbl8ocGF0aCkgPT09ICdtcGQnIHx8XHJcbi8vICAgICAgICAgICB0eXBlID09PSAnYXBwbGljYXRpb24vZGFzaCt4bWwnKSB7XHJcbi8vICAgICByZXR1cm4gY2FzdC5wbGF5ZXIuYXBpLkNyZWF0ZURhc2hTdHJlYW1pbmdQcm90b2NvbDtcclxuLy8gICB9IGVsc2UgaWYgKHBhdGguaW5kZXhPZignLmlzbScpID4gLTEgfHxcclxuLy8gICAgICAgICAgIHR5cGUgPT09ICdhcHBsaWNhdGlvbi92bmQubXMtc3N0cit4bWwnKSB7XHJcbi8vICAgICByZXR1cm4gY2FzdC5wbGF5ZXIuYXBpLkNyZWF0ZVNtb290aFN0cmVhbWluZ1Byb3RvY29sO1xyXG4vLyAgIH1cclxuLy8gICByZXR1cm4gbnVsbDtcclxuLy8gfTtcclxuXHJcbi8vIENhc3RSZWNlaXZlci5mb3JtYXREdXJhdGlvbl8gPSBmdW5jdGlvbihkdXIpIHtcclxuLy8gICBkdXIgPSBNYXRoLmZsb29yKGR1cik7XHJcbi8vICAgZnVuY3Rpb24gZGlnaXQobikgeyByZXR1cm4gKCcwMCcgKyBNYXRoLnJvdW5kKG4pKS5zbGljZSgtMik7IH1cclxuLy8gICB2YXIgaHIgPSBNYXRoLmZsb29yKGR1ciAvIDM2MDApO1xyXG4vLyAgIHZhciBtaW4gPSBNYXRoLmZsb29yKGR1ciAvIDYwKSAlIDYwO1xyXG4vLyAgIHZhciBzZWMgPSBkdXIgJSA2MDtcclxuLy8gICBpZiAoIWhyKSB7XHJcbi8vICAgICByZXR1cm4gZGlnaXQobWluKSArICc6JyArIGRpZ2l0KHNlYyk7XHJcbi8vICAgfSBlbHNlIHtcclxuLy8gICAgIHJldHVybiBkaWdpdChocikgKyAnOicgKyBkaWdpdChtaW4pICsgJzonICsgZGlnaXQoc2VjKTtcclxuLy8gICB9XHJcbi8vIH07XHJcblxyXG4vLyAvKipcclxuLy8gICogVXRpbGl0eSBmdW5jdGlvbiB0byBnZXQgdGhlIGV4dGVuc2lvbiBvZiBhIFVSTCBmaWxlIHBhdGguXHJcbi8vICAqXHJcbi8vICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgdGhlIFVSTFxyXG4vLyAgKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBleHRlbnNpb24gb3IgXCJcIiBpZiBub25lXHJcbi8vICAqIEBwcml2YXRlXHJcbi8vICAqL1xyXG4vLyBDYXN0UmVjZWl2ZXIuZ2V0RXh0ZW5zaW9uXyA9IGZ1bmN0aW9uKHVybCkge1xyXG4vLyAgIHZhciBwYXJ0cyA9IHVybC5zcGxpdCgnLicpO1xyXG4vLyAgIC8vIEhhbmRsZSBmaWxlcyB3aXRoIG5vIGV4dGVuc2lvbnMgYW5kIGhpZGRlbiBmaWxlcyB3aXRoIG5vIGV4dGVuc2lvblxyXG4vLyAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDEgfHwgKHBhcnRzWzBdID09PSAnJyAmJiBwYXJ0cy5sZW5ndGggPT09IDIpKSB7XHJcbi8vICAgICByZXR1cm4gJyc7XHJcbi8vICAgfVxyXG4vLyAgIHJldHVybiBwYXJ0cy5wb3AoKS50b0xvd2VyQ2FzZSgpO1xyXG4vLyB9O1xyXG5cclxuLy8gLyoqXHJcbi8vICAqIFJldHVybnMgdGhlIFVSTCBwYXRoLlxyXG4vLyAgKlxyXG4vLyAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkxcclxuLy8gICogQHJldHVybiB7c3RyaW5nfSBUaGUgVVJMIHBhdGguXHJcbi8vICAqIEBwcml2YXRlXHJcbi8vICAqL1xyXG4vLyBDYXN0UmVjZWl2ZXIuZ2V0UGF0aF8gPSBmdW5jdGlvbih1cmwpIHtcclxuLy8gICB2YXIgaHJlZiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuLy8gICBocmVmLmhyZWYgPSB1cmw7XHJcbi8vICAgcmV0dXJuIGhyZWYucGF0aG5hbWUgfHwgJyc7XHJcbi8vIH07XHJcblxyXG5cclxuLy8gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vLyAvLyBCZWdpbiBldmVudFxyXG4vLyBDYXN0UmVjZWl2ZXIucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXYsIGNiKSB7XHJcbi8vICAgZXZIYW5kbGVyc1tldl0gPSBjYjtcclxuLy8gfTtcclxuXHJcblxyXG4vLyBleHBvcnQgZGVmYXVsdCBDYXN0UmVjZWl2ZXI7XHJcbiIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCBDYXN0VXRpbHMgZnJvbSAnLi9jYXN0X3V0aWxzJ1xyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vLyBSZW1vdGVQbGF5ZXJIYW5kbGVyXHJcbnZhciBSZW1vdGVQbGF5ZXJIYW5kbGVyID0gZnVuY3Rpb24oKSB7fTtcclxuXHJcblJlbW90ZVBsYXllckhhbmRsZXIucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbihyZW1vdGVQbGF5ZXIsIHJlbW90ZVBsYXllckNvbnRyb2xsZXIpIHtcclxuICAgIHRoaXMucmVtb3RlUGxheWVyID0gcmVtb3RlUGxheWVyO1xyXG4gICAgdGhpcy5yZW1vdGVQbGF5ZXJDb250cm9sbGVyID0gcmVtb3RlUGxheWVyQ29udHJvbGxlcjtcclxuXHJcbiAgICB0aGlzLnJlbW90ZVBsYXllckNvbnRyb2xsZXIuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAgICAgY2FzdC5mcmFtZXdvcmsuUmVtb3RlUGxheWVyRXZlbnRUeXBlLklTX01VVEVEX0NIQU5HRUQsXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJtdXRlZDogXCIgKyB0aGlzLnJlbW90ZVBsYXllci5pc011dGVkKTtcclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICB0aGlzLnJlbW90ZVBsYXllckNvbnRyb2xsZXIuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICBjYXN0LmZyYW1ld29yay5SZW1vdGVQbGF5ZXJFdmVudFR5cGUuVk9MVU1FX0xFVkVMX0NIQU5HRUQsXHJcbiAgICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBuZXdWb2x1bWUgPSB0aGlzLnJlbW90ZVBsYXllci52b2x1bWVMZXZlbDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ25ld1ZvbHVtZSBpczogJyArIG5ld1ZvbHVtZSk7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpXHJcbiAgICApO1xyXG59O1xyXG5cclxuUmVtb3RlUGxheWVySGFuZGxlci5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKHRoaXMucmVtb3RlUGxheWVyLmlzUGF1c2VkKSB7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXJDb250cm9sbGVyLnBsYXlPclBhdXNlKCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5SZW1vdGVQbGF5ZXJIYW5kbGVyLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKCF0aGlzLnJlbW90ZVBsYXllci5pc1BhdXNlZCkge1xyXG4gICAgICAgIHRoaXMucmVtb3RlUGxheWVyQ29udHJvbGxlci5wbGF5T3JQYXVzZSgpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuUmVtb3RlUGxheWVySGFuZGxlci5wcm90b3R5cGUuc2V0Vm9sdW1lID0gZnVuY3Rpb24odm9sdW1lKSB7XHJcbiAgICB0aGlzLnJlbW90ZVBsYXllci52b2x1bWVMZXZlbCA9IHZvbHVtZTtcclxuICAgIHRoaXMucmVtb3RlUGxheWVyQ29udHJvbGxlci5zZXRWb2x1bWVMZXZlbCgpO1xyXG5cclxuICAgIC8vIG9yXHJcbiAgICAvL3RoaXMuc2Vzc2lvbl8uc2V0Vm9sdW1lKDEuMCk7XHJcbn07XHJcblxyXG5SZW1vdGVQbGF5ZXJIYW5kbGVyLnByb3RvdHlwZS5nZXRWb2x1bWUgPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzLnJlbW90ZVBsYXllci52b2x1bWVMZXZlbDtcclxufTtcclxuXHJcblJlbW90ZVBsYXllckhhbmRsZXIucHJvdG90eXBlLnNlZWsgPSBmdW5jdGlvbih0aW1lKSB7XHJcbiAgICB0aGlzLnJlbW90ZVBsYXllci5jdXJyZW50VGltZSA9IHRpbWU7XHJcbiAgICB0aGlzLnJlbW90ZVBsYXllckNvbnRyb2xsZXIuc2VlaygpO1xyXG59O1xyXG5cclxuUmVtb3RlUGxheWVySGFuZGxlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5yZW1vdGVQbGF5ZXJDb250cm9sbGVyLnN0b3AoKTtcclxufTtcclxuXHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuLy8gQ2FzdFNlbmRlclxyXG52YXIgQ2FzdFNlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMucmVtb3RlUGxheWVyID0gbnVsbDtcclxuICAgIHRoaXMucmVtb3RlUGxheWVyQ29udHJvbGxlciA9IG51bGw7XHJcbiAgICB0aGlzLmNhc3RDb250ZXh0XyA9IG51bGw7XHJcbiAgICB0aGlzLnNlc3Npb25fID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLnJlbW90ZVBsYXllckhhbmRsZXIgPSBuZXcgUmVtb3RlUGxheWVySGFuZGxlcigpO1xyXG59O1xyXG5cclxuQ2FzdFNlbmRlci5wcm90b3R5cGUub25Db25uZWN0ZWRDaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc29sZS5sb2coJ2Nhc3QsICtvbkNvbm5lY3RlZENoYW5nZWQsIHJlbW90ZVBsYXllci5pc0Nvbm5lY3RlZDogJyArIHRoaXMucmVtb3RlUGxheWVyLmlzQ29ubmVjdGVkKTtcclxuXHJcbiAgICB0aGlzLnNlc3Npb25fID0gY2FzdC5mcmFtZXdvcmsuQ2FzdENvbnRleHQuZ2V0SW5zdGFuY2UoKS5nZXRDdXJyZW50U2Vzc2lvbigpO1xyXG4gICAgaWYgKHRoaXMuc2Vzc2lvbl8pIHtcclxuICAgIHRoaXMuc2Vzc2lvbl8uYWRkTWVzc2FnZUxpc3RlbmVyKENhc3RVdGlscy5PTERNVE5fTUVTU0FHRV9OQU1FU1BBQ0UsXHJcbiAgICAgICAgdGhpcy5vbk1lc3NhZ2VSZWNlaXZlZF8uYmluZCh0aGlzKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdjYXN0LCB0aGlzLnNlc3Npb25fIGlzIG51bGwnKTtcclxuICAgIH1cclxufTtcclxuXHJcbkNhc3RTZW5kZXIucHJvdG90eXBlLm9uTWVkaWFMb2FkZWRDaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc29sZS5sb2coJy0tb25NZWRpYUxvYWRlZENoYW5nZWQtLScpO1xyXG59O1xyXG5cclxuQ2FzdFNlbmRlci5wcm90b3R5cGUubG9hZE1lZGlhX1N1Y2Nlc3NDYiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnNvbGUubG9nKCctLWxvYWRNZWRpYV9TdWNjZXNzQ2ItLScpO1xyXG59O1xyXG5cclxuQ2FzdFNlbmRlci5wcm90b3R5cGUubG9hZE1lZGlhX0Vycm9yQ2IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zb2xlLmxvZygnLS1sb2FkTWVkaWFfRXJyb3JDYi0tJyk7XHJcbn1cclxuXHJcbkNhc3RTZW5kZXIucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAocmVjZWl2ZXJBcHBJZCkge1xyXG4gICAgY29uc29sZS5sb2coJ2Nhc3QsIGluaXQnKTtcclxuXHJcbiAgICB2YXIgb3B0aW9ucyA9IHt9O1xyXG5cclxuICAgIC8vIFNldCB0aGUgcmVjZWl2ZXIgYXBwbGljYXRpb24gSUQgdG8geW91ciBvd24gKGNyZWF0ZWQgaW4gdGhlXHJcbiAgICAvLyBHb29nbGUgQ2FzdCBEZXZlbG9wZXIgQ29uc29sZSksIG9yIG9wdGlvbmFsbHlcclxuICAgIC8vIHVzZSB0aGUgY2hyb21lLmNhc3QubWVkaWEuREVGQVVMVF9NRURJQV9SRUNFSVZFUl9BUFBfSURcclxuICAgIG9wdGlvbnMucmVjZWl2ZXJBcHBsaWNhdGlvbklkID0gcmVjZWl2ZXJBcHBJZDtcclxuXHJcbiAgICAvLyBBdXRvIGpvaW4gcG9saWN5IGNhbiBiZSBvbmUgb2YgdGhlIGZvbGxvd2luZyB0aHJlZTpcclxuICAgIC8vIE9SSUdJTl9TQ09QRUQgLSBBdXRvIGNvbm5lY3QgZnJvbSBzYW1lIGFwcElkIGFuZCBwYWdlIG9yaWdpblxyXG4gICAgLy8gVEFCX0FORF9PUklHSU5fU0NPUEVEIC0gQXV0byBjb25uZWN0IGZyb20gc2FtZSBhcHBJZCwgcGFnZSBvcmlnaW4sIGFuZCB0YWJcclxuICAgIC8vIFBBR0VfU0NPUEVEIC0gTm8gYXV0byBjb25uZWN0XHJcbiAgICBvcHRpb25zLmF1dG9Kb2luUG9saWN5ID0gY2hyb21lLmNhc3QuQXV0b0pvaW5Qb2xpY3kuT1JJR0lOX1NDT1BFRDtcclxuICAgIHRoaXMuY2FzdENvbnRleHRfID0gY2FzdC5mcmFtZXdvcmsuQ2FzdENvbnRleHQuZ2V0SW5zdGFuY2UoKTtcclxuICAgIHRoaXMuY2FzdENvbnRleHRfLnNldE9wdGlvbnMob3B0aW9ucyk7XHJcblxyXG4gICAgdGhpcy5jYXN0Q29udGV4dF8uYWRkRXZlbnRMaXN0ZW5lcihjYXN0LmZyYW1ld29yay5DYXN0Q29udGV4dEV2ZW50VHlwZS5DQVNUX1NUQVRFX0NIQU5HRUQsXHJcbiAgICAgICAgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY2FzdCwgY2FzdCBzdGF0ZTogJywgZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgdGhpcy5jYXN0Q29udGV4dF8uYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICBjYXN0LmZyYW1ld29yay5DYXN0Q29udGV4dEV2ZW50VHlwZS5TRVNTSU9OX1NUQVRFX0NIQU5HRUQsXHJcbiAgICAgICAgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2Nhc3QsIHNlc3Npb25TdGF0ZTogJyArIGV2ZW50LnNlc3Npb25TdGF0ZSk7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQuc2Vzc2lvblN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIGNhc3QuZnJhbWV3b3JrLlNlc3Npb25TdGF0ZS5TRVNTSU9OX1NUQVJURUQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIGNhc3QuZnJhbWV3b3JrLlNlc3Npb25TdGF0ZS5TRVNTSU9OX1JFU1VNRUQ6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgY2FzdC5mcmFtZXdvcmsuU2Vzc2lvblN0YXRlLlNFU1NJT05fRU5ERUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnQ2FzdENvbnRleHQ6IENhc3RTZXNzaW9uIGRpc2Nvbm5lY3RlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBsb2NhbGx5IGFzIG5lY2Vzc2FyeVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMucmVtb3RlUGxheWVyID0gbmV3IGNhc3QuZnJhbWV3b3JrLlJlbW90ZVBsYXllcigpO1xyXG4gICAgdGhpcy5yZW1vdGVQbGF5ZXJDb250cm9sbGVyID0gbmV3IGNhc3QuZnJhbWV3b3JrLlJlbW90ZVBsYXllckNvbnRyb2xsZXIodGhpcy5yZW1vdGVQbGF5ZXIpO1xyXG4gICAgdGhpcy5yZW1vdGVQbGF5ZXJDb250cm9sbGVyLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgY2FzdC5mcmFtZXdvcmsuUmVtb3RlUGxheWVyRXZlbnRUeXBlLklTX0NPTk5FQ1RFRF9DSEFOR0VELFxyXG4gICAgICAgIHRoaXMub25Db25uZWN0ZWRDaGFuZ2VkLmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5yZW1vdGVQbGF5ZXJDb250cm9sbGVyLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgY2FzdC5mcmFtZXdvcmsuUmVtb3RlUGxheWVyRXZlbnRUeXBlLklTX01FRElBX0xPQURFRF9DSEFOR0VELFxyXG4gICAgICAgIHRoaXMub25NZWRpYUxvYWRlZENoYW5nZWQpO1xyXG5cclxuICAgIC8vIFxyXG4gICAgdGhpcy5yZW1vdGVQbGF5ZXJIYW5kbGVyLmluaXQodGhpcy5yZW1vdGVQbGF5ZXIsIHRoaXMucmVtb3RlUGxheWVyQ29udHJvbGxlcik7XHJcbn07XHJcblxyXG4vLyBPcGVucyB0aGUgY2FzdCBzZWxlY3Rpb24gVUksIHRvIGFsbG93IHVzZXIgdG8gc3RhcnQgb3Igc3RvcCBzZXNzaW9uLlxyXG5DYXN0U2VuZGVyLnByb3RvdHlwZS5yZXF1ZXN0U2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICghdGhpcy5jYXN0Q29udGV4dF8pIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ2Nhc3QsIHlvdSBzaG91bGQgY2FsbCBpbml0IGZpcnN0LicpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNhc3RDb250ZXh0Xy5yZXF1ZXN0U2Vzc2lvbigpO1xyXG59O1xyXG5cclxuQ2FzdFNlbmRlci5wcm90b3R5cGUuZW5kU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICghdGhpcy5jYXN0Q29udGV4dF8pIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGNhc3RTZXNzaW9uID0gdGhpcy5jYXN0Q29udGV4dF8uZ2V0Q3VycmVudFNlc3Npb24oKTtcclxuICAgIC8vIEVuZCB0aGUgc2Vzc2lvbiBhbmQgcGFzcyAndHJ1ZScgdG8gaW5kaWNhdGVcclxuICAgIC8vIHRoYXQgcmVjZWl2ZXIgYXBwbGljYXRpb24gc2hvdWxkIGJlIHN0b3BwZWQuXHJcbiAgICBjYXN0U2Vzc2lvbi5lbmRTZXNzaW9uKHRydWUpO1xyXG59O1xyXG5cclxuQ2FzdFNlbmRlci5wcm90b3R5cGUubG9hZE1lZGlhID0gZnVuY3Rpb24gKHVybCwgdHlwZSkge1xyXG4gICAgY29uc29sZS5sb2coJytsb2FkTWVkaWEnKTtcclxuXHJcbiAgICBpZiAoY2FzdCAmJiBjYXN0LmZyYW1ld29yayAmJiB0aGlzLnJlbW90ZVBsYXllci5pc0Nvbm5lY3RlZCkge1xyXG4gICAgICAgIHZhciBtZWRpYUluZm8gPSBuZXcgY2hyb21lLmNhc3QubWVkaWEuTWVkaWFJbmZvKHVybCwgdHlwZSk7XHJcblxyXG4gICAgICAgIG1lZGlhSW5mby5tZXRhZGF0YSA9IG5ldyBjaHJvbWUuY2FzdC5tZWRpYS5HZW5lcmljTWVkaWFNZXRhZGF0YSgpO1xyXG4gICAgICAgIG1lZGlhSW5mby5tZXRhZGF0YS5tZXRhZGF0YVR5cGUgPSBjaHJvbWUuY2FzdC5tZWRpYS5NZXRhZGF0YVR5cGUuR0VORVJJQztcclxuXHJcbiAgICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgY2hyb21lLmNhc3QubWVkaWEuTG9hZFJlcXVlc3QobWVkaWFJbmZvKTtcclxuXHJcbiAgICAgICAgLy8gRm9yIGNhc3QgdG8gdm9SZWNlaXZlclxyXG4gICAgICAgIC8vcmVxdWVzdC5jdXN0b21EYXRhID0geyBkcm1JbmZvTGlzdDogbnVsbCB9O1xyXG5cclxuICAgICAgICB0aGlzLnNlc3Npb25fLmxvYWRNZWRpYShyZXF1ZXN0LCB0aGlzLmxvYWRNZWRpYV9TdWNjZXNzQ2IsIHRoaXMubG9hZE1lZGlhX0Vycm9yQ2IpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnJlbW90ZVBsYXllciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXJDb250cm9sbGVyID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZygnLWxvYWRNZWRpYScpO1xyXG59O1xyXG5cclxuQ2FzdFNlbmRlci5wcm90b3R5cGUub25NZXNzYWdlUmVjZWl2ZWRfID0gZnVuY3Rpb24obmFtZXNwYWNlLCBzZXJpYWxpemVkKSB7XHJcbiAgICBjb25zb2xlLmxvZygncmVjZWl2ZSBtc2csIG5hbWVzcGFjZTogJyArIG5hbWVzcGFjZSk7XHJcbiAgICBjb25zb2xlLmxvZygncmVjZWl2ZSBtc2csIHNlcmlhbGl6ZWQ6ICcgKyBzZXJpYWxpemVkKTtcclxuXHJcbiAgICB2YXIgbWVzc2FnZSA9IENhc3RVdGlscy5kZXNlcmlhbGl6ZShzZXJpYWxpemVkKTtcclxuICAgIHN3aXRjaCAobWVzc2FnZS50eXBlKSB7XHJcbiAgICAgICAgY2FzZSAndGltZXVwZGF0ZSc6XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgdGltZXVwZGF0ZTogY3VyVGltZTogJHttZXNzYWdlLmRhdGEuY3VyVGltZX0vJHttZXNzYWdlLmRhdGEudG90YWxUaW1lfWApO1xyXG4gICAgICAgIH0gYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxufTtcclxuXHJcbkNhc3RTZW5kZXIucHJvdG90eXBlLnBsYXkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLnJlbW90ZVBsYXllckhhbmRsZXIucGxheSgpO1xyXG59O1xyXG5cclxuQ2FzdFNlbmRlci5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLnJlbW90ZVBsYXllckhhbmRsZXIucGF1c2UoKTtcclxufTtcclxuXHJcbkNhc3RTZW5kZXIucHJvdG90eXBlLmFkZFZvbHVtZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB2b2x1bWUgPSB0aGlzLlJlbW90ZVBsYXllckhhbmRsZXIuZ2V0Vm9sdW1lKCkgKyAwLjE7XHJcblxyXG4gICAgdGhpcy5yZW1vdGVQbGF5ZXJIYW5kbGVyLnNldFZvbHVtZSh2b2x1bWUpO1xyXG59O1xyXG5cclxuQ2FzdFNlbmRlci5wcm90b3R5cGUuZGVsVm9sdW1lID0gZnVuY3Rpb24gKHZvbHVtZSkge1xyXG4gICAgdmFyIHZvbHVtZSA9IHRoaXMuUmVtb3RlUGxheWVySGFuZGxlci5nZXRWb2x1bWUoKSAtIDAuMTtcclxuICAgIHRoaXMucmVtb3RlUGxheWVySGFuZGxlci5zZXRWb2x1bWUodm9sdW1lKTtcclxufTtcclxuXHJcbkNhc3RTZW5kZXIucHJvdG90eXBlLnNldFZvbHVtZSA9IGZ1bmN0aW9uICh2b2x1bWUpIHtcclxuICAgIHRoaXMucmVtb3RlUGxheWVySGFuZGxlci5zZXRWb2x1bWUodm9sdW1lKTtcclxufTtcclxuXHJcbkNhc3RTZW5kZXIucHJvdG90eXBlLmlzQ29ubmVjdGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucmVtb3RlUGxheWVyICYmIHRoaXMucmVtb3RlUGxheWVyLmlzQ29ubmVjdGVkO1xyXG59O1xyXG5cclxuQ2FzdFNlbmRlci5wcm90b3R5cGUuc2VlayA9IGZ1bmN0aW9uICh0aW1lKSB7XHJcbiAgICB0aGlzLnJlbW90ZVBsYXllckhhbmRsZXIuc2VlayhwYXJzZUZsb2F0KHRpbWUpKTtcclxufTtcclxuXHJcbkNhc3RTZW5kZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLnJlbW90ZVBsYXllckhhbmRsZXIuc3RvcCgpO1xyXG59O1xyXG5cclxuQ2FzdFNlbmRlci5wcm90b3R5cGUuYXR0cmlidXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICBjb25zb2xlLmxvZygncmVtb3RlIHBsYXllciB0aW1lOiAnICsgdGhpcy5yZW1vdGVQbGF5ZXIuY3VycmVudFRpbWUpO1xyXG4gICAgaWYgKHRoaXMucmVtb3RlUGxheWVyLnNhdmVkUGxheWVyU3RhdGUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygncmVtb3RlUGxheWVyLnNhdmVkUGxheWVyU3RhdGUuY3VycmVudFRpbWU6ICcgKyB0aGlzLnJlbW90ZVBsYXllci5zYXZlZFBsYXllclN0YXRlLmN1cnJlbnRUaW1lKTtcclxuICAgIH1cclxufTtcclxuXHJcbkNhc3RTZW5kZXIucHJvdG90eXBlLnRlc3QgPSBmdW5jdGlvbigpIHtcclxuICAgIC8vY29uc29sZS5sb2coJy0tdGVzdC0tJyk7XHJcblxyXG4gICAgdGhpcy5jYXN0Q29udGV4dF8ucmVxdWVzdFNlc3Npb24oKTtcclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZygnYmVmb3JlIHJlbW90ZUNhbGxfJyk7XHJcbiAgICAvLyB0aGlzLnJlbW90ZUNhbGxfKFwiYWJjXCIsIFwiMTIzNFwiKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdhZnRlciByZW1vdGVDYWxsXycpO1xyXG59O1xyXG5cclxuQ2FzdFNlbmRlci5wcm90b3R5cGUucmVtb3RlQ2FsbF8gPSBmdW5jdGlvbih0YXJnZXROYW1lLCBtZXRob2ROYW1lKSB7XHJcbiAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xyXG4gIHRoaXMuc2VuZE1lc3NhZ2VfKHtcclxuICAgICAgICAndHlwZSc6ICdjYWxsJyxcclxuICAgICAgICAndGFyZ2V0TmFtZSc6IHRhcmdldE5hbWUsXHJcbiAgICAgICAgJ21ldGhvZE5hbWUnOiBtZXRob2ROYW1lLFxyXG4gICAgICAgICdhcmdzJzogYXJnc1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5DYXN0U2VuZGVyLnByb3RvdHlwZS5zZW5kTWVzc2FnZV8gPSBmdW5jdGlvbihtZXNzYWdlKSB7XHJcbiAgdmFyIHNlcmlhbGl6ZWQgPSBDYXN0VXRpbHMuc2VyaWFsaXplKG1lc3NhZ2UpO1xyXG4gIC8vIFRPRE86IGhhdmUgbmV2ZXIgc2VlbiB0aGlzIGZhaWwuICBXaGVuIHdvdWxkIGl0IGFuZCBob3cgc2hvdWxkIHdlIHJlYWN0P1xyXG4gIHRoaXMuc2Vzc2lvbl8uc2VuZE1lc3NhZ2UoQ2FzdFV0aWxzLk9MRE1UTl9NRVNTQUdFX05BTUVTUEFDRSxcclxuICAgIHNlcmlhbGl6ZWQsIGZ1bmN0aW9uKCkge30sICAvLyBzdWNjZXNzIGNhbGxiYWNrXHJcbiAgICBmdW5jdGlvbigpIHt9KTsgIC8vIGVycm9yIGNhbGxiYWNrXHJcbn07XHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhc3RTZW5kZXI7XHJcblxyXG4iLCJ2YXIgQ2FzdFV0aWxzID0gZnVuY3Rpb24gKCkge307XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuLy8gQmVnaW4gQ2FzdFV0aWxzXHJcbkNhc3RVdGlscy5HRU5FUklDX01FU1NBR0VfTkFNRVNQQUNFID0gJ3Vybjp4LWNhc3Q6Y29tLmdvb2dsZS5jYXN0Lm1lZGlhJztcclxuQ2FzdFV0aWxzLk9MRE1UTl9NRVNTQUdFX05BTUVTUEFDRSA9ICd1cm46eC1jYXN0OmNvbS5nb29nbGUub2xkbXRuLnYyJztcclxuXHJcbkNhc3RVdGlscy5zaW11bGF0ZVRpbWVSYW5nZXNfID0gZnVuY3Rpb24ob2JqKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGxlbmd0aDogb2JqLmxlbmd0aCxcclxuICAgIC8vIE5PVEU6IGEgbW9yZSBjb21wbGV0ZSBzaW11bGF0aW9uIHdvdWxkIHRocm93IHdoZW4gfGl8IHdhcyBvdXQgb2YgcmFuZ2UsXHJcbiAgICAvLyBidXQgZm9yIHNpbXBsaWNpdHkgd2Ugd2lsbCBhc3N1bWUgYSB3ZWxsLWJlaGF2ZWQgYXBwbGljYXRpb24gdGhhdCB1c2VzXHJcbiAgICAvLyBsZW5ndGggaW5zdGVhZCBvZiBjYXRjaCB0byBzdG9wIGl0ZXJhdGluZy5cclxuICAgIHN0YXJ0OiBmdW5jdGlvbihpKSB7IHJldHVybiBvYmouc3RhcnRbaV07IH0sXHJcbiAgICBlbmQ6IGZ1bmN0aW9uKGkpIHsgcmV0dXJuIG9iai5lbmRbaV07IH1cclxuICB9O1xyXG59O1xyXG5cclxuQ2FzdFV0aWxzLnNlcmlhbGl6ZSA9IGZ1bmN0aW9uKHRoaW5nKSB7XHJcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaW5nKTtcclxufTtcclxuXHJcbkNhc3RVdGlscy5kZXNlcmlhbGl6ZSA9IGZ1bmN0aW9uKHN0cikge1xyXG4gIHJldHVybiBKU09OLnBhcnNlKHN0ciwgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xyXG4gICAgaWYgKHZhbHVlID09ICdOYU4nKSB7XHJcbiAgICAgIHJldHVybiBOYU47XHJcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09ICctSW5maW5pdHknKSB7XHJcbiAgICAgIHJldHVybiAtSW5maW5pdHk7XHJcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09ICdJbmZpbml0eScpIHtcclxuICAgICAgcmV0dXJuIEluZmluaXR5O1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiZcclxuICAgICAgICAgICAgICAgdmFsdWVbJ19fdHlwZV9fJ10gPT0gJ1RpbWVSYW5nZXMnKSB7XHJcbiAgICAgIC8vIFRpbWVSYW5nZXMgb2JqZWN0cyBoYXZlIGJlZW4gdW5wYWNrZWQgYW5kIHNlbnQgYXMgcGxhaW4gZGF0YS5cclxuICAgICAgLy8gU2ltdWxhdGUgdGhlIG9yaWdpbmFsIFRpbWVSYW5nZXMgb2JqZWN0LlxyXG4gICAgICByZXR1cm4gQ2FzdFV0aWxzLnNpbXVsYXRlVGltZVJhbmdlc18odmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG4gIH0pO1xyXG59O1xyXG4vLyBFbmQgQ2FzdFV0aWxzXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2FzdFV0aWxzO1xyXG5cclxuIiwi77u/LyoqXHJcbiAqIEBjbGFzc1xyXG4gKlxyXG4gKi9cclxuY2xhc3MgQ29yZUV2ZW50cyB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVzY3JpcHRpb24gUHVibGljIGZhY2luZyBleHRlcm5hbCBldmVudHMgdG8gYmUgdXNlZCB3aGVuIGRldmVsb3BpbmcgYSBwbGF5ZXIgdGhhdCBpbXBsZW1lbnRzIGRhc2guanMuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yICgpIHtcclxuICAgICAgICAvLyBtc2UgZXZlbnRzXHJcbiAgICAgICAgdGhpcy5NU0VfT1BFTkVEID0gJ21zZU9wZW5lZCc7XHJcblxyXG4gICAgICAgIC8vIHNvdXJjZSBidWZmZXIgZXZlbnRzXHJcbiAgICAgICAgdGhpcy5TQl9VUERBVEVfRU5ERUQgPSAnc2JVcGRhdGVFbmRlZCc7XHJcblxyXG4gICAgICAgIC8vIG1lZGlhIGVsZW1lbnQgZXZlbnRzYVxyXG4gICAgICAgIHRoaXMuTUVESUFfRFVSQVRJT05fQ0hBTkdFRCA9ICdtZWRpYUR1cmF0aW9uQ2hhbmdlZCc7XHJcbiAgICAgICAgdGhpcy5NRURJQV9FTkRFRCA9ICdtZWRpYUVuZGVkJztcclxuICAgICAgICB0aGlzLk1FRElBX0xPQURFRE1FVEFEQVRBID0gJ21lZGlhTG9hZGVkTWV0YWRhdGEnO1xyXG4gICAgICAgIHRoaXMuTUVESUFfUEFVU0VEID0gJ21lZGlhUGF1c2VkJztcclxuICAgICAgICB0aGlzLk1FRElBX1BMQVlJTkcgPSAnbWVkaWFQbGF5aW5nJztcclxuICAgICAgICB0aGlzLk1FRElBX1NFRUtJTkcgPSAnbWVkaWFTZWVraW5nJztcclxuICAgICAgICB0aGlzLk1FRElBX1NFRUtFRCA9ICdtZWRpYVNlZWtlZCc7XHJcbiAgICAgICAgdGhpcy5NRURJQV9USU1FVVBEQVRFID0gJ21lZGlhVGltZXVwZGF0ZSc7XHJcbiAgICAgICAgdGhpcy5NRURJQV9XQUlUSU5HID0gJ21lZGlhV2FpdGluZyc7XHJcblxyXG4gICAgICAgIC8vIGFkcyBpbnRlcm5hbCBldmVudHNcclxuICAgICAgICB0aGlzLkFEX0VSUk9SID0gJ2FkRXJyb3InO1xyXG4gICAgICAgIHRoaXMuQURfU1RBUlRFRCA9ICdhZFN0YXJ0ZWQnO1xyXG4gICAgICAgIHRoaXMuQURfQ09NUExFVEUgPSAnYWRDb21wbGV0ZSc7XHJcbiAgICAgICAgdGhpcy5BRF9DT05URU5UX1BBVVNFX1JFUVVFU1RFRCA9ICdhZENvbnRlbnRQYXVzZVJlcXVlc3RlZCc7XHJcbiAgICAgICAgdGhpcy5BRF9DT05URU5UX1JFU1VNRV9SRVFVRVNURUQgPSAnYWRDb250ZW50UmVzdW1lUmVxdWVzdGVkJztcclxuICAgICAgICB0aGlzLkFEX0FEU19NQU5BR0VSX0xPQURFRCA9ICdhZEFkc01hbmFnZXJMb2FkZWQnO1xyXG4gICAgICAgIHRoaXMuQURfVElNRVVQREFURSA9ICdhZFRpbWVVcGRhdGUnO1xyXG5cclxuICAgICAgICAvLyBsb2cgZXZlbnRcclxuICAgICAgICB0aGlzLkxPRyA9ICdsb2cnO1xyXG5cclxuICAgICAgICB0aGlzLlRFU1RfTVNHID0gJ3Rlc3RNc2cnO1xyXG4gICAgfVxyXG59XHJcblxyXG5sZXQgY29yZUV2ZW50cyA9IG5ldyBDb3JlRXZlbnRzKCk7XHJcbmV4cG9ydCBkZWZhdWx0IGNvcmVFdmVudHM7XHJcbiIsIi8qKlxyXG4gKiBUaGUgY29weXJpZ2h0IGluIHRoaXMgc29mdHdhcmUgaXMgYmVpbmcgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIEJTRCBMaWNlbnNlLFxyXG4gKiBpbmNsdWRlZCBiZWxvdy4gVGhpcyBzb2Z0d2FyZSBtYXkgYmUgc3ViamVjdCB0byBvdGhlciB0aGlyZCBwYXJ0eSBhbmQgY29udHJpYnV0b3JcclxuICogcmlnaHRzLCBpbmNsdWRpbmcgcGF0ZW50IHJpZ2h0cywgYW5kIG5vIHN1Y2ggcmlnaHRzIGFyZSBncmFudGVkIHVuZGVyIHRoaXMgbGljZW5zZS5cclxuICpcclxuICogQ29weXJpZ2h0IChjKSAyMDEzLCBEYXNoIEluZHVzdHJ5IEZvcnVtLlxyXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLFxyXG4gKiBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XHJcbiAqICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpc1xyXG4gKiAgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXHJcbiAqICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcclxuICogIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yXHJcbiAqICBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxyXG4gKiAgKiBOZWl0aGVyIHRoZSBuYW1lIG9mIERhc2ggSW5kdXN0cnkgRm9ydW0gbm9yIHRoZSBuYW1lcyBvZiBpdHNcclxuICogIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmVcclxuICogIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxyXG4gKlxyXG4gKiAgVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBBUyBJUyBBTkQgQU5ZXHJcbiAqICBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEXHJcbiAqICBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuXHJcbiAqICBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULFxyXG4gKiAgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVFxyXG4gKiAgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxyXG4gKiAgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksXHJcbiAqICBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpXHJcbiAqICBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRVxyXG4gKiAgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXHJcbiAqL1xyXG5pbXBvcnQgRXZlbnRCdXMgZnJvbSAnLi9FdmVudEJ1cyc7XHJcbmltcG9ydCBFdmVudHMgZnJvbSAnLi9Db3JlRXZlbnRzJztcclxuaW1wb3J0IEZhY3RvcnlNYWtlciBmcm9tICcuL0ZhY3RvcnlNYWtlcic7XHJcblxyXG4vKipcclxuICogQG1vZHVsZSBEZWJ1Z1xyXG4gKi9cclxuZnVuY3Rpb24gRGVidWcoKSB7XHJcblxyXG4gICAgbGV0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XHJcbiAgICBsZXQgZXZlbnRCdXMgPSBFdmVudEJ1cyhjb250ZXh0KS5nZXRJbnN0YW5jZSgpO1xyXG5cclxuICAgIGxldCBpbnN0YW5jZSxcclxuICAgICAgICBsb2dUb0Jyb3dzZXJDb25zb2xlLFxyXG4gICAgICAgIHNob3dMb2dUaW1lc3RhbXAsXHJcbiAgICAgICAgc2hvd0NhbGxlZU5hbWUsXHJcbiAgICAgICAgc3RhcnRUaW1lO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldHVwKCkge1xyXG4gICAgICAgIGxvZ1RvQnJvd3NlckNvbnNvbGUgPSB0cnVlO1xyXG4gICAgICAgIHNob3dMb2dUaW1lc3RhbXAgPSB0cnVlO1xyXG4gICAgICAgIHNob3dDYWxsZWVOYW1lID0gdHJ1ZTtcclxuICAgICAgICBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFByZXBlbmRzIGEgdGltZXN0YW1wIGluIG1pbGxpc2Vjb25kcyB0byBlYWNoIGxvZyBtZXNzYWdlLlxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0byBzZWUgYSB0aW1lc3RhbXAgaW4gZWFjaCBsb2cgbWVzc2FnZS5cclxuICAgICAqIEBkZWZhdWx0IGZhbHNlXHJcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOkRlYnVnXHJcbiAgICAgKiBAaW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gc2V0TG9nVGltZXN0YW1wVmlzaWJsZSh2YWx1ZSkge1xyXG4gICAgICAgIHNob3dMb2dUaW1lc3RhbXAgPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUHJlcGVuZHMgdGhlIGNhbGxlZSBvYmplY3QgbmFtZSwgYW5kIG1lZGlhIHR5cGUgaWYgYXZhaWxhYmxlLCB0byBlYWNoIGxvZyBtZXNzYWdlLlxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0byBzZWUgdGhlIGNhbGxlZSBvYmplY3QgbmFtZSBhbmQgbWVkaWEgdHlwZSBpbiBlYWNoIGxvZyBtZXNzYWdlLlxyXG4gICAgICogQGRlZmF1bHQgZmFsc2VcclxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6RGVidWdcclxuICAgICAqIEBpbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzZXRDYWxsZWVOYW1lVmlzaWJsZSh2YWx1ZSkge1xyXG4gICAgICAgIHNob3dDYWxsZWVOYW1lID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRvZ2dsZXMgbG9nZ2luZyB0byB0aGUgYnJvd3NlcidzIGphdmFzY3JpcHQgY29uc29sZS4gIElmIHlvdSBzZXQgdG8gZmFsc2UgeW91IHdpbGwgc3RpbGwgcmVjZWl2ZSBhIGxvZyBldmVudCB3aXRoIHRoZSBzYW1lIG1lc3NhZ2UuXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIFNldCB0byBmYWxzZSBpZiB5b3Ugd2FudCB0byB0dXJuIG9mZiBsb2dnaW5nIHRvIHRoZSBicm93c2VyJ3MgY29uc29sZS5cclxuICAgICAqIEBkZWZhdWx0IHRydWVcclxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6RGVidWdcclxuICAgICAqIEBpbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzZXRMb2dUb0Jyb3dzZXJDb25zb2xlKHZhbHVlKSB7XHJcbiAgICAgICAgbG9nVG9Ccm93c2VyQ29uc29sZSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gZ2V0IHRoZSBzdGF0ZSBvZiBsb2dUb0Jyb3dzZXJDb25zb2xlLlxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRoZSBjdXJyZW50IHZhbHVlIG9mIGxvZ1RvQnJvd3NlckNvbnNvbGVcclxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6RGVidWdcclxuICAgICAqIEBpbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRMb2dUb0Jyb3dzZXJDb25zb2xlKCkge1xyXG4gICAgICAgIHJldHVybiBsb2dUb0Jyb3dzZXJDb25zb2xlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGFsbG93IHlvdSBzZW5kIGxvZyBtZXNzYWdlcyB0byBlaXRoZXIgdGhlIGJyb3dzZXIncyBjb25zb2xlIGFuZC9vciBkaXNwYXRjaCBhbiBldmVudCB0byBjYXB0dXJlIGF0IHRoZSBtZWRpYSBwbGF5ZXIgbGV2ZWwuXHJcbiAgICAgKiBAcGFyYW0gey4uLip9IGFyZ3VtZW50cyBUaGUgbWVzc2FnZSB5b3Ugd2FudCB0byBsb2cuIFRoZSBBcmd1bWVudHMgb2JqZWN0IGlzIHN1cHBvcnRlZCBmb3IgdGhpcyBtZXRob2Qgc28geW91IGNhbiBzZW5kIGluIGNvbW1hIHNlcGFyYXRlZCBsb2dnaW5nIGl0ZW1zLlxyXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpEZWJ1Z1xyXG4gICAgICogQGluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGxvZygpIHtcclxuXHJcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSAnJztcclxuICAgICAgICBsZXQgbG9nVGltZSA9IG51bGw7XHJcblxyXG4gICAgICAgIGlmIChzaG93TG9nVGltZXN0YW1wKSB7XHJcbiAgICAgICAgICAgIC8vIG9sZCBmcm9tIGRhc2hqc1xyXG4gICAgICAgICAgICAvL2xvZ1RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgLy9tZXNzYWdlICs9ICdbJyArIChsb2dUaW1lIC0gc3RhcnRUaW1lKSArICddJztcclxuICAgICAgICAgICAgLy8gbmV3IGJ5IG9sZG10blxyXG4gICAgICAgICAgICBsb2dUaW1lID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgbWVzc2FnZSArPSAnWycgKyAoJzAnICsgKGxvZ1RpbWUuZ2V0TW9udGgoKSArIDEpKS5zbGljZSgtMikgKyAnLScgK1xyXG4gICAgICAgICAgICAgICAgKCcwJyArIGxvZ1RpbWUuZ2V0RGF0ZSgpKS5zbGljZSgtMikgKyAnICcgK1xyXG4gICAgICAgICAgICAgICAgKCcwJyArIGxvZ1RpbWUuZ2V0SG91cnMoKSkuc2xpY2UoLTIpICsgJzonICtcclxuICAgICAgICAgICAgICAgICgnMCcgKyBsb2dUaW1lLmdldE1pbnV0ZXMoKSkuc2xpY2UoLTIpICsgJzonICtcclxuICAgICAgICAgICAgICAgICgnMCcgKyBsb2dUaW1lLmdldFNlY29uZHMoKSkuc2xpY2UoLTIpICsgJy4nICtcclxuICAgICAgICAgICAgICAgICgnMCcgKyBsb2dUaW1lLmdldE1pbGxpc2Vjb25kcygpKS5zbGljZSgtMykgKyAnXSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc2hvd0NhbGxlZU5hbWUgJiYgdGhpcyAmJiB0aGlzLmdldENsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICBtZXNzYWdlICs9ICdbJyArIHRoaXMuZ2V0Q2xhc3NOYW1lKCkgKyAnXSc7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gJ1snICsgdGhpcy5nZXRUeXBlKCkgKyAnXSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChtZXNzYWdlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbWVzc2FnZSArPSAnICc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBBcnJheS5hcHBseShudWxsLCBhcmd1bWVudHMpLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgbWVzc2FnZSArPSBpdGVtICsgJyAnO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAobG9nVG9Ccm93c2VyQ29uc29sZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV2ZW50QnVzLnRyaWdnZXIoRXZlbnRzLkxPRywge21lc3NhZ2U6IG1lc3NhZ2V9KTtcclxuICAgIH1cclxuXHJcbiAgICBpbnN0YW5jZSA9IHtcclxuICAgICAgICBsb2c6IGxvZyxcclxuICAgICAgICBzZXRMb2dUaW1lc3RhbXBWaXNpYmxlOiBzZXRMb2dUaW1lc3RhbXBWaXNpYmxlLFxyXG4gICAgICAgIHNldENhbGxlZU5hbWVWaXNpYmxlOiBzZXRDYWxsZWVOYW1lVmlzaWJsZSxcclxuICAgICAgICBzZXRMb2dUb0Jyb3dzZXJDb25zb2xlOiBzZXRMb2dUb0Jyb3dzZXJDb25zb2xlLFxyXG4gICAgICAgIGdldExvZ1RvQnJvd3NlckNvbnNvbGU6IGdldExvZ1RvQnJvd3NlckNvbnNvbGVcclxuICAgIH07XHJcblxyXG4gICAgc2V0dXAoKTtcclxuXHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbn1cclxuXHJcbkRlYnVnLl9faDVwbGF5ZXJfZmFjdG9yeV9uYW1lID0gJ0RlYnVnJztcclxuZXhwb3J0IGRlZmF1bHQgRmFjdG9yeU1ha2VyLmdldFNpbmdsZXRvbkZhY3RvcnkoRGVidWcpO1xyXG4iLCIvKipcclxuICogVGhlIGNvcHlyaWdodCBpbiB0aGlzIHNvZnR3YXJlIGlzIGJlaW5nIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSBCU0QgTGljZW5zZSxcclxuICogaW5jbHVkZWQgYmVsb3cuIFRoaXMgc29mdHdhcmUgbWF5IGJlIHN1YmplY3QgdG8gb3RoZXIgdGhpcmQgcGFydHkgYW5kIGNvbnRyaWJ1dG9yXHJcbiAqIHJpZ2h0cywgaW5jbHVkaW5nIHBhdGVudCByaWdodHMsIGFuZCBubyBzdWNoIHJpZ2h0cyBhcmUgZ3JhbnRlZCB1bmRlciB0aGlzIGxpY2Vuc2UuXHJcbiAqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxMywgRGFzaCBJbmR1c3RyeSBGb3J1bS5cclxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbixcclxuICogYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxyXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXNcclxuICogIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxyXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXHJcbiAqICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vclxyXG4gKiAgb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cclxuICogICogTmVpdGhlciB0aGUgbmFtZSBvZiBEYXNoIEluZHVzdHJ5IEZvcnVtIG5vciB0aGUgbmFtZXMgb2YgaXRzXHJcbiAqICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlXHJcbiAqICB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cclxuICpcclxuICogIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgQVMgSVMgQU5EIEFOWVxyXG4gKiAgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxyXG4gKiAgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELlxyXG4gKiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCxcclxuICogIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVRcclxuICogIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcclxuICogIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxyXG4gKiAgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKVxyXG4gKiAgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcclxuICogIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxyXG4gKi9cclxuaW1wb3J0IEZhY3RvcnlNYWtlciBmcm9tICcuL0ZhY3RvcnlNYWtlcic7XHJcblxyXG5jb25zdCBFVkVOVF9QUklPUklUWV9MT1cgPSAwO1xyXG5jb25zdCBFVkVOVF9QUklPUklUWV9ISUdIID0gNTAwMDtcclxuXHJcbmZ1bmN0aW9uIEV2ZW50QnVzKCkge1xyXG5cclxuICAgIGxldCBoYW5kbGVycyA9IHt9O1xyXG5cclxuICAgIGZ1bmN0aW9uIG9uKHR5cGUsIGxpc3RlbmVyLCBzY29wZSwgcHJpb3JpdHkgPSBFVkVOVF9QUklPUklUWV9MT1cpIHtcclxuXHJcbiAgICAgICAgaWYgKCF0eXBlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZXZlbnQgdHlwZSBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0eXBlb2YgKGxpc3RlbmVyKSAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbjogJyArIGxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChnZXRIYW5kbGVySWR4KHR5cGUsIGxpc3RlbmVyLCBzY29wZSkgPj0gMCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBoYW5kbGVyc1t0eXBlXSA9IGhhbmRsZXJzW3R5cGVdIHx8IFtdO1xyXG5cclxuICAgICAgICBjb25zdCBoYW5kbGVyID0ge1xyXG4gICAgICAgICAgICBjYWxsYmFjazogbGlzdGVuZXIsXHJcbiAgICAgICAgICAgIHNjb3BlOiBzY29wZSxcclxuICAgICAgICAgICAgcHJpb3JpdHk6IHByaW9yaXR5XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3QgaW5zZXJ0ZWQgPSBoYW5kbGVyc1t0eXBlXS5zb21lKChpdGVtICwgaWR4KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwcmlvcml0eSA+IGl0ZW0ucHJpb3JpdHkgKSB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyc1t0eXBlXS5zcGxpY2UoaWR4LCAwLCBoYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghaW5zZXJ0ZWQpIHtcclxuICAgICAgICAgICAgaGFuZGxlcnNbdHlwZV0ucHVzaChoYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb2ZmKHR5cGUsIGxpc3RlbmVyLCBzY29wZSkge1xyXG4gICAgICAgIGlmICghdHlwZSB8fCAhbGlzdGVuZXIgfHwgIWhhbmRsZXJzW3R5cGVdKSByZXR1cm47XHJcbiAgICAgICAgY29uc3QgaWR4ID0gZ2V0SGFuZGxlcklkeCh0eXBlLCBsaXN0ZW5lciwgc2NvcGUpO1xyXG4gICAgICAgIGlmIChpZHggPCAwKSByZXR1cm47XHJcbiAgICAgICAgaGFuZGxlcnNbdHlwZV0uc3BsaWNlKGlkeCwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdHJpZ2dlcih0eXBlLCBwYXlsb2FkKSB7XHJcbiAgICAgICAgaWYgKCF0eXBlIHx8ICFoYW5kbGVyc1t0eXBlXSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBwYXlsb2FkID0gcGF5bG9hZCB8fCB7fTtcclxuXHJcbiAgICAgICAgaWYgKHBheWxvYWQuaGFzT3duUHJvcGVydHkoJ3R5cGUnKSkgdGhyb3cgbmV3IEVycm9yKCdcXCd0eXBlXFwnIGlzIGEgcmVzZXJ2ZWQgd29yZCBmb3IgZXZlbnQgZGlzcGF0Y2hpbmcnKTtcclxuXHJcbiAgICAgICAgcGF5bG9hZC50eXBlID0gdHlwZTtcclxuXHJcbiAgICAgICAgaGFuZGxlcnNbdHlwZV0uZm9yRWFjaCggaGFuZGxlciA9PiBoYW5kbGVyLmNhbGxiYWNrLmNhbGwoaGFuZGxlci5zY29wZSwgcGF5bG9hZCkgKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRIYW5kbGVySWR4KHR5cGUsIGxpc3RlbmVyLCBzY29wZSkge1xyXG5cclxuICAgICAgICBsZXQgaWR4ID0gLTE7XHJcblxyXG4gICAgICAgIGlmICghaGFuZGxlcnNbdHlwZV0pIHJldHVybiBpZHg7XHJcblxyXG4gICAgICAgIGhhbmRsZXJzW3R5cGVdLnNvbWUoIChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaXRlbS5jYWxsYmFjayA9PT0gbGlzdGVuZXIgJiYgKCFzY29wZSB8fCBzY29wZSA9PT0gaXRlbS5zY29wZSkpIHtcclxuICAgICAgICAgICAgICAgIGlkeCA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gaWR4O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc2V0KCkge1xyXG4gICAgICAgIGhhbmRsZXJzID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaW5zdGFuY2UgPSB7XHJcbiAgICAgICAgb246IG9uLFxyXG4gICAgICAgIG9mZjogb2ZmLFxyXG4gICAgICAgIHRyaWdnZXI6IHRyaWdnZXIsXHJcbiAgICAgICAgcmVzZXQ6IHJlc2V0XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBpbnN0YW5jZTtcclxufVxyXG5cclxuRXZlbnRCdXMuX19oNXBsYXllcl9mYWN0b3J5X25hbWUgPSAnRXZlbnRCdXMnO1xyXG5jb25zdCBmYWN0b3J5ID0gRmFjdG9yeU1ha2VyLmdldFNpbmdsZXRvbkZhY3RvcnkoRXZlbnRCdXMpO1xyXG5mYWN0b3J5LkVWRU5UX1BSSU9SSVRZX0xPVyA9IEVWRU5UX1BSSU9SSVRZX0xPVztcclxuZmFjdG9yeS5FVkVOVF9QUklPUklUWV9ISUdIID0gRVZFTlRfUFJJT1JJVFlfSElHSDtcclxuZXhwb3J0IGRlZmF1bHQgZmFjdG9yeTsiLCIvKipcclxuICogVGhlIGNvcHlyaWdodCBpbiB0aGlzIHNvZnR3YXJlIGlzIGJlaW5nIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSBCU0QgTGljZW5zZSxcclxuICogaW5jbHVkZWQgYmVsb3cuIFRoaXMgc29mdHdhcmUgbWF5IGJlIHN1YmplY3QgdG8gb3RoZXIgdGhpcmQgcGFydHkgYW5kIGNvbnRyaWJ1dG9yXHJcbiAqIHJpZ2h0cywgaW5jbHVkaW5nIHBhdGVudCByaWdodHMsIGFuZCBubyBzdWNoIHJpZ2h0cyBhcmUgZ3JhbnRlZCB1bmRlciB0aGlzIGxpY2Vuc2UuXHJcbiAqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxMywgRGFzaCBJbmR1c3RyeSBGb3J1bS5cclxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbixcclxuICogYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxyXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXNcclxuICogIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxyXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXHJcbiAqICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vclxyXG4gKiAgb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cclxuICogICogTmVpdGhlciB0aGUgbmFtZSBvZiBEYXNoIEluZHVzdHJ5IEZvcnVtIG5vciB0aGUgbmFtZXMgb2YgaXRzXHJcbiAqICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlXHJcbiAqICB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cclxuICpcclxuICogIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgQVMgSVMgQU5EIEFOWVxyXG4gKiAgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxyXG4gKiAgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELlxyXG4gKiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCxcclxuICogIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVRcclxuICogIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcclxuICogIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxyXG4gKiAgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKVxyXG4gKiAgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcclxuICogIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxyXG4gKi9cclxuLyoqXHJcbiAqIEBtb2R1bGUgRmFjdG9yeU1ha2VyXHJcbiAqL1xyXG5sZXQgRmFjdG9yeU1ha2VyID0gKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICBsZXQgaW5zdGFuY2U7XHJcbiAgICBsZXQgZXh0ZW5zaW9ucyA9IFtdO1xyXG4gICAgbGV0IHNpbmdsZXRvbkNvbnRleHRzID0gW107XHJcblxyXG4gICAgZnVuY3Rpb24gZXh0ZW5kKG5hbWUsIGNoaWxkSW5zdGFuY2UsIG92ZXJyaWRlLCBjb250ZXh0KSB7XHJcbiAgICAgICAgbGV0IGV4dGVuc2lvbkNvbnRleHQgPSBnZXRFeHRlbnNpb25Db250ZXh0KGNvbnRleHQpO1xyXG4gICAgICAgIGlmICghZXh0ZW5zaW9uQ29udGV4dFtuYW1lXSAmJiBjaGlsZEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIGV4dGVuc2lvbkNvbnRleHRbbmFtZV0gPSB7aW5zdGFuY2U6IGNoaWxkSW5zdGFuY2UsIG92ZXJyaWRlOiBvdmVycmlkZX07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXNlIHRoaXMgbWV0aG9kIGZyb20geW91ciBleHRlbmRlZCBvYmplY3QuICB0aGlzLmZhY3RvcnkgaXMgaW5qZWN0ZWQgaW50byB5b3VyIG9iamVjdC5cclxuICAgICAqIHRoaXMuZmFjdG9yeS5nZXRTaW5nbGV0b25JbnN0YW5jZSh0aGlzLmNvbnRleHQsICdWaWRlb01vZGVsJylcclxuICAgICAqIHdpbGwgcmV0dXJuIHRoZSB2aWRlbyBtb2RlbCBmb3IgdXNlIGluIHRoZSBleHRlbmRlZCBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQgLSBpbmplY3RlZCBpbnRvIGV4dGVuZGVkIG9iamVjdCBhcyB0aGlzLmNvbnRleHRcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgLSBzdHJpbmcgbmFtZSBmb3VuZCBpbiBhbGwgZGFzaC5qcyBvYmplY3RzXHJcbiAgICAgKiB3aXRoIG5hbWUgX19oNXBsYXllcl9mYWN0b3J5X25hbWUgV2lsbCBiZSBhdCB0aGUgYm90dG9tLiBXaWxsIGJlIHRoZSBzYW1lIGFzIHRoZSBvYmplY3QncyBuYW1lLlxyXG4gICAgICogQHJldHVybnMgeyp9IENvbnRleHQgYXdhcmUgaW5zdGFuY2Ugb2Ygc3BlY2lmaWVkIHNpbmdsZXRvbiBuYW1lLlxyXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpGYWN0b3J5TWFrZXJcclxuICAgICAqIEBpbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRTaW5nbGV0b25JbnN0YW5jZShjb250ZXh0LCBjbGFzc05hbWUpIHtcclxuICAgICAgICBmb3IgKGxldCBpIGluIHNpbmdsZXRvbkNvbnRleHRzKSB7XHJcbiAgICAgICAgICAgIGxldCBvYmogPSBzaW5nbGV0b25Db250ZXh0c1tpXTtcclxuICAgICAgICAgICAgaWYgKG9iai5jb250ZXh0ID09PSBjb250ZXh0ICYmIG9iai5uYW1lID09PSBjbGFzc05hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvYmouaW5zdGFuY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gYWRkIGFuIHNpbmdsZXRvbiBpbnN0YW5jZSB0byB0aGUgc3lzdGVtLiAgVXNlZnVsIGZvciB1bml0IHRlc3RpbmcgdG8gbW9jayBvYmplY3RzIGV0Yy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlXHJcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOkZhY3RvcnlNYWtlclxyXG4gICAgICogQGluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHNldFNpbmdsZXRvbkluc3RhbmNlKGNvbnRleHQsIGNsYXNzTmFtZSwgaW5zdGFuY2UpIHtcclxuICAgICAgICBmb3IgKGxldCBpIGluIHNpbmdsZXRvbkNvbnRleHRzKSB7XHJcbiAgICAgICAgICAgIGxldCBvYmogPSBzaW5nbGV0b25Db250ZXh0c1tpXTtcclxuICAgICAgICAgICAgaWYgKG9iai5jb250ZXh0ID09PSBjb250ZXh0ICYmIG9iai5uYW1lID09PSBjbGFzc05hbWUpIHtcclxuICAgICAgICAgICAgICAgIHNpbmdsZXRvbkNvbnRleHRzW2ldLmluc3RhbmNlID0gaW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgc2luZ2xldG9uQ29udGV4dHMucHVzaCh7IG5hbWU6IGNsYXNzTmFtZSwgY29udGV4dDogY29udGV4dCwgaW5zdGFuY2U6IGluc3RhbmNlIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldENsYXNzRmFjdG9yeShjbGFzc0NvbnN0cnVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgIGlmIChjb250ZXh0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQgPSB7fTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGNyZWF0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXJnZShjbGFzc0NvbnN0cnVjdG9yLl9faDVwbGF5ZXJfZmFjdG9yeV9uYW1lLCBjbGFzc0NvbnN0cnVjdG9yLmFwcGx5KHsgY29udGV4dDogY29udGV4dCB9LCBhcmd1bWVudHMpLCBjb250ZXh0LCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0U2luZ2xldG9uRmFjdG9yeShjbGFzc0NvbnN0cnVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjb250ZXh0KSB7XHJcbiAgICAgICAgICAgIGxldCBpbnN0YW5jZTtcclxuICAgICAgICAgICAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dCA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBnZXRJbnN0YW5jZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYW4gaW5zdGFuY2UgeWV0IGNoZWNrIGZvciBvbmUgb24gdGhlIGNvbnRleHRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlID0gZ2V0U2luZ2xldG9uSW5zdGFuY2UoY29udGV4dCwgY2xhc3NDb25zdHJ1Y3Rvci5fX2g1cGxheWVyX2ZhY3RvcnlfbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gaW5zdGFuY2Ugb24gdGhlIGNvbnRleHQgdGhlbiBjcmVhdGUgb25lXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IG1lcmdlKGNsYXNzQ29uc3RydWN0b3IuX19oNXBsYXllcl9mYWN0b3J5X25hbWUsIGNsYXNzQ29uc3RydWN0b3IuYXBwbHkoeyBjb250ZXh0OiBjb250ZXh0IH0sIGFyZ3VtZW50cyksIGNvbnRleHQsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpbmdsZXRvbkNvbnRleHRzLnB1c2goeyBuYW1lOiBjbGFzc0NvbnN0cnVjdG9yLl9faDVwbGF5ZXJfZmFjdG9yeV9uYW1lLCBjb250ZXh0OiBjb250ZXh0LCBpbnN0YW5jZTogaW5zdGFuY2UgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1lcmdlKG5hbWUsIGNsYXNzQ29uc3RydWN0b3IsIGNvbnRleHQsIGFyZ3MpIHtcclxuICAgICAgICBsZXQgZXh0ZW5zaW9uQ29udGV4dCA9IGdldEV4dGVuc2lvbkNvbnRleHQoY29udGV4dCk7XHJcbiAgICAgICAgbGV0IGV4dGVuc2lvbk9iamVjdCA9IGV4dGVuc2lvbkNvbnRleHRbbmFtZV07XHJcbiAgICAgICAgaWYgKGV4dGVuc2lvbk9iamVjdCkge1xyXG4gICAgICAgICAgICBsZXQgZXh0ZW5zaW9uID0gZXh0ZW5zaW9uT2JqZWN0Lmluc3RhbmNlO1xyXG4gICAgICAgICAgICBpZiAoZXh0ZW5zaW9uT2JqZWN0Lm92ZXJyaWRlKSB7IC8vT3ZlcnJpZGUgcHVibGljIG1ldGhvZHMgaW4gcGFyZW50IGJ1dCBrZWVwIHBhcmVudC5cclxuICAgICAgICAgICAgICAgIGV4dGVuc2lvbiA9IGV4dGVuc2lvbi5hcHBseSh7IGNvbnRleHQ6IGNvbnRleHQsIGZhY3Rvcnk6IGluc3RhbmNlLCBwYXJlbnQ6IGNsYXNzQ29uc3RydWN0b3J9LCBhcmdzKTtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcHJvcCBpbiBleHRlbnNpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2xhc3NDb25zdHJ1Y3Rvci5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc0NvbnN0cnVjdG9yW3Byb3BdID0gZXh0ZW5zaW9uW3Byb3BdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHsgLy9yZXBsYWNlIHBhcmVudCBvYmplY3QgY29tcGxldGVseSB3aXRoIG5ldyBvYmplY3QuIFNhbWUgYXMgZGlqb24uXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXh0ZW5zaW9uLmFwcGx5KHsgY29udGV4dDogY29udGV4dCwgZmFjdG9yeTogaW5zdGFuY2V9LCBhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2xhc3NDb25zdHJ1Y3RvcjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRFeHRlbnNpb25Db250ZXh0KGNvbnRleHQpIHtcclxuICAgICAgICBsZXQgZXh0ZW5zaW9uQ29udGV4dDtcclxuICAgICAgICBleHRlbnNpb25zLmZvckVhY2goZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICBpZiAob2JqID09PSBjb250ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBleHRlbnNpb25Db250ZXh0ID0gb2JqO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKCFleHRlbnNpb25Db250ZXh0KSB7XHJcbiAgICAgICAgICAgIGV4dGVuc2lvbkNvbnRleHQgPSBleHRlbnNpb25zLnB1c2goY29udGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBleHRlbnNpb25Db250ZXh0O1xyXG4gICAgfVxyXG5cclxuICAgIGluc3RhbmNlID0ge1xyXG4gICAgICAgIGV4dGVuZDogZXh0ZW5kLFxyXG4gICAgICAgIGdldFNpbmdsZXRvbkluc3RhbmNlOiBnZXRTaW5nbGV0b25JbnN0YW5jZSxcclxuICAgICAgICBzZXRTaW5nbGV0b25JbnN0YW5jZTogc2V0U2luZ2xldG9uSW5zdGFuY2UsXHJcbiAgICAgICAgZ2V0U2luZ2xldG9uRmFjdG9yeTogZ2V0U2luZ2xldG9uRmFjdG9yeSxcclxuICAgICAgICBnZXRDbGFzc0ZhY3Rvcnk6IGdldENsYXNzRmFjdG9yeVxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcblxyXG59KCkpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRmFjdG9yeU1ha2VyO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBRVNDcnlwdG8ge1xyXG4gIGNvbnN0cnVjdG9yKHN1YnRsZSxpdikge1xyXG4gICAgdGhpcy5zdWJ0bGUgPSBzdWJ0bGU7XHJcbiAgICB0aGlzLmFlc0lWID0gaXY7XHJcbiAgfVxyXG5cclxuICBkZWNyeXB0KGRhdGEsIGtleSkge1xyXG4gICAgcmV0dXJuIHRoaXMuc3VidGxlLmRlY3J5cHQoe25hbWU6ICdBRVMtQ0JDJywgaXY6IHRoaXMuYWVzSVZ9LCBrZXksIGRhdGEpO1xyXG4gIH1cclxufVxyXG4iLCJjbGFzcyBBRVNEZWNyeXB0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgLy8gU3RhdGljIGFmdGVyIHJ1bm5pbmcgaW5pdFRhYmxlXHJcbiAgICB0aGlzLnJjb24gPSBbMHgwLCAweDEsIDB4MiwgMHg0LCAweDgsIDB4MTAsIDB4MjAsIDB4NDAsIDB4ODAsIDB4MWIsIDB4MzZdO1xyXG5cclxuICAgIHRoaXMuc3ViTWl4ID0gW107XHJcbiAgICB0aGlzLnN1Yk1peFswXSA9IG5ldyBVaW50MzJBcnJheSgyNTYpO1xyXG4gICAgdGhpcy5zdWJNaXhbMV0gPSBuZXcgVWludDMyQXJyYXkoMjU2KTtcclxuICAgIHRoaXMuc3ViTWl4WzJdID0gbmV3IFVpbnQzMkFycmF5KDI1Nik7XHJcbiAgICB0aGlzLnN1Yk1peFszXSA9IG5ldyBVaW50MzJBcnJheSgyNTYpO1xyXG5cclxuICAgIHRoaXMuaW52U3ViTWl4ID0gW107XHJcbiAgICB0aGlzLmludlN1Yk1peFswXSA9IG5ldyBVaW50MzJBcnJheSgyNTYpO1xyXG4gICAgdGhpcy5pbnZTdWJNaXhbMV0gPSBuZXcgVWludDMyQXJyYXkoMjU2KTtcclxuICAgIHRoaXMuaW52U3ViTWl4WzJdID0gbmV3IFVpbnQzMkFycmF5KDI1Nik7XHJcbiAgICB0aGlzLmludlN1Yk1peFszXSA9IG5ldyBVaW50MzJBcnJheSgyNTYpO1xyXG5cclxuICAgIHRoaXMuc0JveCA9IG5ldyBVaW50MzJBcnJheSgyNTYpO1xyXG4gICAgdGhpcy5pbnZTQm94ID0gbmV3IFVpbnQzMkFycmF5KDI1Nik7XHJcblxyXG4gICAgLy8gQ2hhbmdlcyBkdXJpbmcgcnVudGltZVxyXG4gICAgdGhpcy5rZXkgPSBuZXcgVWludDMyQXJyYXkoMCk7XHJcblxyXG4gICAgdGhpcy5pbml0VGFibGUoKTtcclxuICB9XHJcblxyXG4gIC8vIFVzaW5nIHZpZXcuZ2V0VWludDMyKCkgYWxzbyBzd2FwcyB0aGUgYnl0ZSBvcmRlci5cclxuICB1aW50OEFycmF5VG9VaW50MzJBcnJheV8oYXJyYXlCdWZmZXIpIHtcclxuICAgIGxldCB2aWV3ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyKTtcclxuICAgIGxldCBuZXdBcnJheSA9IG5ldyBVaW50MzJBcnJheSg0KTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3QXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgbmV3QXJyYXlbaV0gPSB2aWV3LmdldFVpbnQzMihpICogNCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3QXJyYXk7XHJcbiAgfVxyXG5cclxuICBpbml0VGFibGUoKSB7XHJcbiAgICBsZXQgc0JveCA9IHRoaXMuc0JveDtcclxuICAgIGxldCBpbnZTQm94ID0gdGhpcy5pbnZTQm94O1xyXG4gICAgbGV0IHN1Yk1peDAgPSB0aGlzLnN1Yk1peFswXTtcclxuICAgIGxldCBzdWJNaXgxID0gdGhpcy5zdWJNaXhbMV07XHJcbiAgICBsZXQgc3ViTWl4MiA9IHRoaXMuc3ViTWl4WzJdO1xyXG4gICAgbGV0IHN1Yk1peDMgPSB0aGlzLnN1Yk1peFszXTtcclxuICAgIGxldCBpbnZTdWJNaXgwID0gdGhpcy5pbnZTdWJNaXhbMF07XHJcbiAgICBsZXQgaW52U3ViTWl4MSA9IHRoaXMuaW52U3ViTWl4WzFdO1xyXG4gICAgbGV0IGludlN1Yk1peDIgPSB0aGlzLmludlN1Yk1peFsyXTtcclxuICAgIGxldCBpbnZTdWJNaXgzID0gdGhpcy5pbnZTdWJNaXhbM107XHJcblxyXG4gICAgbGV0IGQgPSBuZXcgVWludDMyQXJyYXkoMjU2KTtcclxuICAgIGxldCB4ID0gMDtcclxuICAgIGxldCB4aSA9IDA7XHJcbiAgICBsZXQgaSA9IDA7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcclxuICAgICAgaWYgKGkgPCAxMjgpIHtcclxuICAgICAgICBkW2ldID0gaSA8PCAxO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRbaV0gPSAoaSA8PCAxKSBeIDB4MTFiO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChpID0gMDsgaSA8IDI1NjsgaSsrKSB7XHJcbiAgICAgIGxldCBzeCA9IHhpIF4gKHhpIDw8IDEpIF4gKHhpIDw8IDIpIF4gKHhpIDw8IDMpIF4gKHhpIDw8IDQpO1xyXG4gICAgICBzeCA9IChzeCA+Pj4gOCkgXiAoc3ggJiAweGZmKSBeIDB4NjM7XHJcbiAgICAgIHNCb3hbeF0gPSBzeDtcclxuICAgICAgaW52U0JveFtzeF0gPSB4O1xyXG5cclxuICAgICAgLy8gQ29tcHV0ZSBtdWx0aXBsaWNhdGlvblxyXG4gICAgICBsZXQgeDIgPSBkW3hdO1xyXG4gICAgICBsZXQgeDQgPSBkW3gyXTtcclxuICAgICAgbGV0IHg4ID0gZFt4NF07XHJcblxyXG4gICAgICAvLyBDb21wdXRlIHN1Yi9pbnZTdWIgYnl0ZXMsIG1peCBjb2x1bW5zIHRhYmxlc1xyXG4gICAgICBsZXQgdCA9IChkW3N4XSAqIDB4MTAxKSBeIChzeCAqIDB4MTAxMDEwMCk7XHJcbiAgICAgIHN1Yk1peDBbeF0gPSAodCA8PCAyNCkgfCAodCA+Pj4gOCk7XHJcbiAgICAgIHN1Yk1peDFbeF0gPSAodCA8PCAxNikgfCAodCA+Pj4gMTYpO1xyXG4gICAgICBzdWJNaXgyW3hdID0gKHQgPDwgOCkgfCAodCA+Pj4gMjQpO1xyXG4gICAgICBzdWJNaXgzW3hdID0gdDtcclxuXHJcbiAgICAgIC8vIENvbXB1dGUgaW52IHN1YiBieXRlcywgaW52IG1peCBjb2x1bW5zIHRhYmxlc1xyXG4gICAgICB0ID0gKHg4ICogMHgxMDEwMTAxKSBeICh4NCAqIDB4MTAwMDEpIF4gKHgyICogMHgxMDEpIF4gKHggKiAweDEwMTAxMDApO1xyXG4gICAgICBpbnZTdWJNaXgwW3N4XSA9ICh0IDw8IDI0KSB8ICh0ID4+PiA4KTtcclxuICAgICAgaW52U3ViTWl4MVtzeF0gPSAodCA8PCAxNikgfCAodCA+Pj4gMTYpO1xyXG4gICAgICBpbnZTdWJNaXgyW3N4XSA9ICh0IDw8IDgpIHwgKHQgPj4+IDI0KTtcclxuICAgICAgaW52U3ViTWl4M1tzeF0gPSB0O1xyXG5cclxuICAgICAgLy8gQ29tcHV0ZSBuZXh0IGNvdW50ZXJcclxuICAgICAgaWYgKCF4KSB7XHJcbiAgICAgICAgeCA9IHhpID0gMTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB4ID0geDIgXiBkW2RbZFt4OCBeIHgyXV1dO1xyXG4gICAgICAgIHhpIF49IGRbZFt4aV1dO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBleHBhbmRLZXkoa2V5QnVmZmVyKSB7XHJcbiAgICAvLyBjb252ZXJ0IGtleUJ1ZmZlciB0byBVaW50MzJBcnJheVxyXG4gICAgbGV0IGtleSA9IHRoaXMudWludDhBcnJheVRvVWludDMyQXJyYXlfKGtleUJ1ZmZlcik7XHJcbiAgICBsZXQgc2FtZUtleSA9IHRydWU7XHJcbiAgICBsZXQgb2Zmc2V0ID0gMDtcclxuXHJcbiAgICB3aGlsZSAob2Zmc2V0IDwga2V5Lmxlbmd0aCAmJiBzYW1lS2V5KSB7XHJcbiAgICAgIHNhbWVLZXkgPSAoa2V5W29mZnNldF0gPT09IHRoaXMua2V5W29mZnNldF0pO1xyXG4gICAgICBvZmZzZXQrKztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2FtZUtleSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5rZXkgPSBrZXk7XHJcbiAgICBsZXQga2V5U2l6ZSA9IHRoaXMua2V5U2l6ZSA9IGtleS5sZW5ndGg7XHJcblxyXG4gICAgaWYgKGtleVNpemUgIT09IDQgJiYga2V5U2l6ZSAhPT0gNiAmJiBrZXlTaXplICE9PSA4KSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhZXMga2V5IHNpemU9JyArIGtleVNpemUpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBrc1Jvd3MgPSB0aGlzLmtzUm93cyA9IChrZXlTaXplICsgNiArIDEpICogNDtcclxuICAgIGxldCBrc1JvdztcclxuICAgIGxldCBpbnZLc1JvdztcclxuXHJcbiAgICBsZXQga2V5U2NoZWR1bGUgPSB0aGlzLmtleVNjaGVkdWxlID0gbmV3IFVpbnQzMkFycmF5KHRoaXMua3NSb3dzKTtcclxuICAgIGxldCBpbnZLZXlTY2hlZHVsZSA9IHRoaXMuaW52S2V5U2NoZWR1bGUgPSBuZXcgVWludDMyQXJyYXkodGhpcy5rc1Jvd3MpO1xyXG4gICAgbGV0IHNib3ggPSB0aGlzLnNCb3g7XHJcbiAgICBsZXQgcmNvbiA9IHRoaXMucmNvbjtcclxuXHJcbiAgICBsZXQgaW52U3ViTWl4MCA9IHRoaXMuaW52U3ViTWl4WzBdO1xyXG4gICAgbGV0IGludlN1Yk1peDEgPSB0aGlzLmludlN1Yk1peFsxXTtcclxuICAgIGxldCBpbnZTdWJNaXgyID0gdGhpcy5pbnZTdWJNaXhbMl07XHJcbiAgICBsZXQgaW52U3ViTWl4MyA9IHRoaXMuaW52U3ViTWl4WzNdO1xyXG5cclxuICAgIGxldCBwcmV2O1xyXG4gICAgbGV0IHQ7XHJcblxyXG4gICAgZm9yIChrc1JvdyA9IDA7IGtzUm93IDwga3NSb3dzOyBrc1JvdysrKSB7XHJcbiAgICAgIGlmIChrc1JvdyA8IGtleVNpemUpIHtcclxuICAgICAgICBwcmV2ID0ga2V5U2NoZWR1bGVba3NSb3ddID0ga2V5W2tzUm93XTtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG4gICAgICB0ID0gcHJldjtcclxuXHJcbiAgICAgIGlmIChrc1JvdyAlIGtleVNpemUgPT09IDApIHtcclxuICAgICAgICAvLyBSb3Qgd29yZFxyXG4gICAgICAgIHQgPSAodCA8PCA4KSB8ICh0ID4+PiAyNCk7XHJcblxyXG4gICAgICAgIC8vIFN1YiB3b3JkXHJcbiAgICAgICAgdCA9IChzYm94W3QgPj4+IDI0XSA8PCAyNCkgfCAoc2JveFsodCA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKHNib3hbKHQgPj4+IDgpICYgMHhmZl0gPDwgOCkgfCBzYm94W3QgJiAweGZmXTtcclxuXHJcbiAgICAgICAgLy8gTWl4IFJjb25cclxuICAgICAgICB0IF49IHJjb25bKGtzUm93IC8ga2V5U2l6ZSkgfCAwXSA8PCAyNDtcclxuICAgICAgfSBlbHNlIGlmIChrZXlTaXplID4gNiAmJiBrc1JvdyAlIGtleVNpemUgPT09IDQpICB7XHJcbiAgICAgICAgLy8gU3ViIHdvcmRcclxuICAgICAgICB0ID0gKHNib3hbdCA+Pj4gMjRdIDw8IDI0KSB8IChzYm94Wyh0ID4+PiAxNikgJiAweGZmXSA8PCAxNikgfCAoc2JveFsodCA+Pj4gOCkgJiAweGZmXSA8PCA4KSB8IHNib3hbdCAmIDB4ZmZdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBrZXlTY2hlZHVsZVtrc1Jvd10gPSBwcmV2ID0gKGtleVNjaGVkdWxlW2tzUm93IC0ga2V5U2l6ZV0gXiB0KSA+Pj4gMDtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGludktzUm93ID0gMDsgaW52S3NSb3cgPCBrc1Jvd3M7IGludktzUm93KyspIHtcclxuICAgICAga3NSb3cgPSBrc1Jvd3MgLSBpbnZLc1JvdztcclxuICAgICAgaWYgKGludktzUm93ICYgMykge1xyXG4gICAgICAgIHQgPSBrZXlTY2hlZHVsZVtrc1Jvd107XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdCA9IGtleVNjaGVkdWxlW2tzUm93IC0gNF07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChpbnZLc1JvdyA8IDQgfHwga3NSb3cgPD0gNCkge1xyXG4gICAgICAgIGludktleVNjaGVkdWxlW2ludktzUm93XSA9IHQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaW52S2V5U2NoZWR1bGVbaW52S3NSb3ddID0gaW52U3ViTWl4MFtzYm94W3QgPj4+IDI0XV0gXiBpbnZTdWJNaXgxW3Nib3hbKHQgPj4+IDE2KSAmIDB4ZmZdXSBeIGludlN1Yk1peDJbc2JveFsodCA+Pj4gOCkgJiAweGZmXV0gXiBpbnZTdWJNaXgzW3Nib3hbdCAmIDB4ZmZdXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaW52S2V5U2NoZWR1bGVbaW52S3NSb3ddID0gaW52S2V5U2NoZWR1bGVbaW52S3NSb3ddID4+PiAwO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQWRkaW5nIHRoaXMgYXMgYSBtZXRob2QgZ3JlYXRseSBpbXByb3ZlcyBwZXJmb3JtYW5jZS5cclxuICBuZXR3b3JrVG9Ib3N0T3JkZXJTd2FwKHdvcmQpIHtcclxuICAgIHJldHVybiAod29yZCA8PCAyNCkgfCAoKHdvcmQgJiAweGZmMDApIDw8IDgpIHwgKCh3b3JkICYgMHhmZjAwMDApID4+IDgpIHwgKHdvcmQgPj4+IDI0KTtcclxuICB9XHJcblxyXG4gIGRlY3J5cHQoaW5wdXRBcnJheUJ1ZmZlciwgb2Zmc2V0LCBhZXNJVikge1xyXG4gICAgbGV0IG5Sb3VuZHMgPSB0aGlzLmtleVNpemUgKyA2O1xyXG4gICAgbGV0IGludktleVNjaGVkdWxlID0gdGhpcy5pbnZLZXlTY2hlZHVsZTtcclxuICAgIGxldCBpbnZTQk9YID0gdGhpcy5pbnZTQm94O1xyXG5cclxuICAgIGxldCBpbnZTdWJNaXgwID0gdGhpcy5pbnZTdWJNaXhbMF07XHJcbiAgICBsZXQgaW52U3ViTWl4MSA9IHRoaXMuaW52U3ViTWl4WzFdO1xyXG4gICAgbGV0IGludlN1Yk1peDIgPSB0aGlzLmludlN1Yk1peFsyXTtcclxuICAgIGxldCBpbnZTdWJNaXgzID0gdGhpcy5pbnZTdWJNaXhbM107XHJcblxyXG4gICAgbGV0IGluaXRWZWN0b3IgPSB0aGlzLnVpbnQ4QXJyYXlUb1VpbnQzMkFycmF5XyhhZXNJVik7XHJcbiAgICBsZXQgaW5pdFZlY3RvcjAgPSBpbml0VmVjdG9yWzBdO1xyXG4gICAgbGV0IGluaXRWZWN0b3IxID0gaW5pdFZlY3RvclsxXTtcclxuICAgIGxldCBpbml0VmVjdG9yMiA9IGluaXRWZWN0b3JbMl07XHJcbiAgICBsZXQgaW5pdFZlY3RvcjMgPSBpbml0VmVjdG9yWzNdO1xyXG5cclxuICAgIGxldCBpbnB1dEludDMyID0gbmV3IEludDMyQXJyYXkoaW5wdXRBcnJheUJ1ZmZlcik7XHJcbiAgICBsZXQgb3V0cHV0SW50MzIgPSBuZXcgSW50MzJBcnJheShpbnB1dEludDMyLmxlbmd0aCk7XHJcblxyXG4gICAgbGV0IHQwLCB0MSwgdDIsIHQzO1xyXG4gICAgbGV0IHMwLCBzMSwgczIsIHMzO1xyXG4gICAgbGV0IGlucHV0V29yZHMwLCBpbnB1dFdvcmRzMSwgaW5wdXRXb3JkczIsIGlucHV0V29yZHMzO1xyXG5cclxuICAgIHZhciBrc1JvdywgaTtcclxuXHJcbiAgICB3aGlsZSAob2Zmc2V0IDwgaW5wdXRJbnQzMi5sZW5ndGgpIHtcclxuICAgICAgaW5wdXRXb3JkczAgPSB0aGlzLm5ldHdvcmtUb0hvc3RPcmRlclN3YXAoaW5wdXRJbnQzMltvZmZzZXRdKTtcclxuICAgICAgaW5wdXRXb3JkczEgPSB0aGlzLm5ldHdvcmtUb0hvc3RPcmRlclN3YXAoaW5wdXRJbnQzMltvZmZzZXQgKyAxXSk7XHJcbiAgICAgIGlucHV0V29yZHMyID0gdGhpcy5uZXR3b3JrVG9Ib3N0T3JkZXJTd2FwKGlucHV0SW50MzJbb2Zmc2V0ICsgMl0pO1xyXG4gICAgICBpbnB1dFdvcmRzMyA9IHRoaXMubmV0d29ya1RvSG9zdE9yZGVyU3dhcChpbnB1dEludDMyW29mZnNldCArIDNdKTtcclxuXHJcbiAgICAgIHMwID0gaW5wdXRXb3JkczAgXiBpbnZLZXlTY2hlZHVsZVswXTtcclxuICAgICAgczEgPSBpbnB1dFdvcmRzMyBeIGludktleVNjaGVkdWxlWzFdO1xyXG4gICAgICBzMiA9IGlucHV0V29yZHMyIF4gaW52S2V5U2NoZWR1bGVbMl07XHJcbiAgICAgIHMzID0gaW5wdXRXb3JkczEgXiBpbnZLZXlTY2hlZHVsZVszXTtcclxuXHJcbiAgICAgIGtzUm93ID0gNDtcclxuXHJcbiAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCB0aGUgcm91bmRzIG9mIGRlY3J5cHRpb25cclxuICAgICAgZm9yIChpID0gMTsgaSA8IG5Sb3VuZHM7IGkrKykge1xyXG4gICAgICAgIHQwID0gaW52U3ViTWl4MFtzMCA+Pj4gMjRdIF4gaW52U3ViTWl4MVsoczEgPj4gMTYpICYgMHhmZl0gXiBpbnZTdWJNaXgyWyhzMiA+PiA4KSAmIDB4ZmZdIF4gaW52U3ViTWl4M1tzMyAmIDB4ZmZdIF4gaW52S2V5U2NoZWR1bGVba3NSb3ddO1xyXG4gICAgICAgIHQxID0gaW52U3ViTWl4MFtzMSA+Pj4gMjRdIF4gaW52U3ViTWl4MVsoczIgPj4gMTYpICYgMHhmZl0gXiBpbnZTdWJNaXgyWyhzMyA+PiA4KSAmIDB4ZmZdIF4gaW52U3ViTWl4M1tzMCAmIDB4ZmZdIF4gaW52S2V5U2NoZWR1bGVba3NSb3cgKyAxXTtcclxuICAgICAgICB0MiA9IGludlN1Yk1peDBbczIgPj4+IDI0XSBeIGludlN1Yk1peDFbKHMzID4+IDE2KSAmIDB4ZmZdIF4gaW52U3ViTWl4MlsoczAgPj4gOCkgJiAweGZmXSBeIGludlN1Yk1peDNbczEgJiAweGZmXSBeIGludktleVNjaGVkdWxlW2tzUm93ICsgMl07XHJcbiAgICAgICAgdDMgPSBpbnZTdWJNaXgwW3MzID4+PiAyNF0gXiBpbnZTdWJNaXgxWyhzMCA+PiAxNikgJiAweGZmXSBeIGludlN1Yk1peDJbKHMxID4+IDgpICYgMHhmZl0gXiBpbnZTdWJNaXgzW3MyICYgMHhmZl0gXiBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDNdO1xyXG4gICAgICAgIC8vIFVwZGF0ZSBzdGF0ZVxyXG4gICAgICAgIHMwID0gdDA7XHJcbiAgICAgICAgczEgPSB0MTtcclxuICAgICAgICBzMiA9IHQyO1xyXG4gICAgICAgIHMzID0gdDM7XHJcblxyXG4gICAgICAgIGtzUm93ID0ga3NSb3cgKyA0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTaGlmdCByb3dzLCBzdWIgYnl0ZXMsIGFkZCByb3VuZCBrZXlcclxuICAgICAgdDAgPSAoKGludlNCT1hbczAgPj4+IDI0XSA8PCAyNCkgXiAoaW52U0JPWFsoczEgPj4gMTYpICYgMHhmZl0gPDwgMTYpIF4gKGludlNCT1hbKHMyID4+IDgpICYgMHhmZl0gPDwgOCkgXiBpbnZTQk9YW3MzICYgMHhmZl0pIF4gaW52S2V5U2NoZWR1bGVba3NSb3ddO1xyXG4gICAgICB0MSA9ICgoaW52U0JPWFtzMSA+Pj4gMjRdIDw8IDI0KSBeIChpbnZTQk9YWyhzMiA+PiAxNikgJiAweGZmXSA8PCAxNikgXiAoaW52U0JPWFsoczMgPj4gOCkgJiAweGZmXSA8PCA4KSBeIGludlNCT1hbczAgJiAweGZmXSkgXiBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDFdO1xyXG4gICAgICB0MiA9ICgoaW52U0JPWFtzMiA+Pj4gMjRdIDw8IDI0KSBeIChpbnZTQk9YWyhzMyA+PiAxNikgJiAweGZmXSA8PCAxNikgXiAoaW52U0JPWFsoczAgPj4gOCkgJiAweGZmXSA8PCA4KSBeIGludlNCT1hbczEgJiAweGZmXSkgXiBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDJdO1xyXG4gICAgICB0MyA9ICgoaW52U0JPWFtzMyA+Pj4gMjRdIDw8IDI0KSBeIChpbnZTQk9YWyhzMCA+PiAxNikgJiAweGZmXSA8PCAxNikgXiAoaW52U0JPWFsoczEgPj4gOCkgJiAweGZmXSA8PCA4KSBeIGludlNCT1hbczIgJiAweGZmXSkgXiBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDNdO1xyXG4gICAgICBrc1JvdyA9IGtzUm93ICsgMztcclxuXHJcbiAgICAgIC8vIFdyaXRlXHJcbiAgICAgIG91dHB1dEludDMyW29mZnNldF0gPSB0aGlzLm5ldHdvcmtUb0hvc3RPcmRlclN3YXAodDAgXiBpbml0VmVjdG9yMCk7XHJcbiAgICAgIG91dHB1dEludDMyW29mZnNldCArIDFdID0gdGhpcy5uZXR3b3JrVG9Ib3N0T3JkZXJTd2FwKHQzIF4gaW5pdFZlY3RvcjEpO1xyXG4gICAgICBvdXRwdXRJbnQzMltvZmZzZXQgKyAyXSA9IHRoaXMubmV0d29ya1RvSG9zdE9yZGVyU3dhcCh0MiBeIGluaXRWZWN0b3IyKTtcclxuICAgICAgb3V0cHV0SW50MzJbb2Zmc2V0ICsgM10gPSB0aGlzLm5ldHdvcmtUb0hvc3RPcmRlclN3YXAodDEgXiBpbml0VmVjdG9yMyk7XHJcblxyXG4gICAgICAvLyByZXNldCBpbml0VmVjdG9yIHRvIGxhc3QgNCB1bnNpZ25lZCBpbnRcclxuICAgICAgaW5pdFZlY3RvcjAgPSBpbnB1dFdvcmRzMDtcclxuICAgICAgaW5pdFZlY3RvcjEgPSBpbnB1dFdvcmRzMTtcclxuICAgICAgaW5pdFZlY3RvcjIgPSBpbnB1dFdvcmRzMjtcclxuICAgICAgaW5pdFZlY3RvcjMgPSBpbnB1dFdvcmRzMztcclxuXHJcbiAgICAgIG9mZnNldCA9IG9mZnNldCArIDQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG91dHB1dEludDMyLmJ1ZmZlcjtcclxuICB9XHJcblxyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLmtleSA9IHVuZGVmaW5lZDtcclxuICAgIHRoaXMua2V5U2l6ZSA9IHVuZGVmaW5lZDtcclxuICAgIHRoaXMua3NSb3dzID0gdW5kZWZpbmVkO1xyXG5cclxuICAgIHRoaXMuc0JveCA9IHVuZGVmaW5lZDtcclxuICAgIHRoaXMuaW52U0JveCA9IHVuZGVmaW5lZDtcclxuICAgIHRoaXMuc3ViTWl4ID0gdW5kZWZpbmVkO1xyXG4gICAgdGhpcy5pbnZTdWJNaXggPSB1bmRlZmluZWQ7XHJcbiAgICB0aGlzLmtleVNjaGVkdWxlID0gdW5kZWZpbmVkO1xyXG4gICAgdGhpcy5pbnZLZXlTY2hlZHVsZSA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICB0aGlzLnJjb24gPSB1bmRlZmluZWQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBBRVNEZWNyeXB0b3I7XHJcbiIsImltcG9ydCBBRVNDcnlwdG8gZnJvbSAnLi9hZXMtY3J5cHRvJztcclxuaW1wb3J0IEZhc3RBRVNLZXkgZnJvbSAnLi9mYXN0LWFlcy1rZXknO1xyXG5pbXBvcnQgQUVTRGVjcnlwdG9yIGZyb20gJy4vYWVzLWRlY3J5cHRvcic7XHJcblxyXG4vL2ltcG9ydCB7RXJyb3JUeXBlcywgRXJyb3JEZXRhaWxzfSBmcm9tICcuLi9lcnJvcnMnO1xyXG4vL2ltcG9ydCB7bG9nZ2VyfSBmcm9tICcuLi91dGlscy9sb2dnZXInO1xyXG5cclxuLypnbG9iYWxzIHNlbGY6IGZhbHNlICovXHJcblxyXG5jbGFzcyBEZWNyeXB0ZXIge1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xyXG4gICAgLy90aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XHJcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcclxuICAgIHRoaXMubG9nRW5hYmxlZCA9IHRydWU7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBicm93c2VyQ3J5cHRvID0gY3J5cHRvID8gY3J5cHRvIDogc2VsZi5jcnlwdG87XHJcbiAgICAgIHRoaXMuc3VidGxlID0gYnJvd3NlckNyeXB0by5zdWJ0bGUgfHwgYnJvd3NlckNyeXB0by53ZWJraXRTdWJ0bGU7XHJcbiAgICB9IGNhdGNoIChlKSB7fVxyXG4gICAgdGhpcy5kaXNhYmxlV2ViQ3J5cHRvID0gIXRoaXMuc3VidGxlO1xyXG4gIH1cclxuXHJcbiAgaXNTeW5jKCkge1xyXG4gICAgcmV0dXJuICh0aGlzLmRpc2FibGVXZWJDcnlwdG8gJiYgdGhpcy5jb25maWcuZW5hYmxlU29mdHdhcmVBRVMpO1xyXG4gIH1cclxuXHJcbiAgZGVjcnlwdChkYXRhLCBrZXksIGl2LCBjYWxsYmFjaykge1xyXG4gICAgaWYgKHRoaXMuZGlzYWJsZVdlYkNyeXB0byAmJiB0aGlzLmNvbmZpZy5lbmFibGVTb2Z0d2FyZUFFUykge1xyXG4gICAgICBpZiAodGhpcy5sb2dFbmFibGVkKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0pTIEFFUyBkZWNyeXB0Jyk7XHJcbiAgICAgICAgdGhpcy5sb2dFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgbGV0IGRlY3J5cHRvciA9IHRoaXMuZGVjcnlwdG9yO1xyXG4gICAgICBpZiAoIWRlY3J5cHRvcikge1xyXG4gICAgICAgIHRoaXMuZGVjcnlwdG9yID0gZGVjcnlwdG9yID0gbmV3IEFFU0RlY3J5cHRvcigpO1xyXG4gICAgICB9XHJcbiAgICAgIGRlY3J5cHRvci5leHBhbmRLZXkoa2V5KTtcclxuICAgICAgY2FsbGJhY2soZGVjcnlwdG9yLmRlY3J5cHQoZGF0YSwgMCwgaXYpKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy5sb2dFbmFibGVkKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1dlYkNyeXB0byBBRVMgZGVjcnlwdCcpO1xyXG4gICAgICAgIHRoaXMubG9nRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHN1YnRsZSA9IHRoaXMuc3VidGxlO1xyXG4gICAgICBpZiAodGhpcy5rZXkgIT09IGtleSkge1xyXG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xyXG4gICAgICAgIHRoaXMuZmFzdEFlc0tleSA9IG5ldyBGYXN0QUVTS2V5KHN1YnRsZSxrZXkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLmZhc3RBZXNLZXkuZXhwYW5kS2V5KCkuXHJcbiAgICAgICAgdGhlbigoYWVzS2V5KSA9PiB7XHJcbiAgICAgICAgICAvLyBkZWNyeXB0IHVzaW5nIHdlYiBjcnlwdG9cclxuICAgICAgICAgIGxldCBjcnlwdG8gPSBuZXcgQUVTQ3J5cHRvKHN1YnRsZSxpdik7XHJcbiAgICAgICAgICBjcnlwdG8uZGVjcnlwdChkYXRhLCBhZXNLZXkpLlxyXG4gICAgICAgICAgY2F0Y2ggKChlcnIpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5vbldlYkNyeXB0b0Vycm9yKGVyciwgZGF0YSwga2V5LCBpdiwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgfSkuXHJcbiAgICAgICAgICB0aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgY2FsbGJhY2socmVzdWx0KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pLlxyXG4gICAgICAgIGNhdGNoICgoZXJyKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLm9uV2ViQ3J5cHRvRXJyb3IoZXJyLCBkYXRhLCBrZXksIGl2LCBjYWxsYmFjayk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbldlYkNyeXB0b0Vycm9yKGVyciwgZGF0YSwga2V5LCBpdiwgY2FsbGJhY2spIHtcclxuICAgIGlmICh0aGlzLmNvbmZpZy5lbmFibGVTb2Z0d2FyZUFFUykge1xyXG4gICAgICBjb25zb2xlLmxvZygnV2ViQ3J5cHRvIEVycm9yLCBkaXNhYmxlIFdlYkNyeXB0byBBUEknKTtcclxuICAgICAgdGhpcy5kaXNhYmxlV2ViQ3J5cHRvID0gdHJ1ZTtcclxuICAgICAgdGhpcy5sb2dFbmFibGVkID0gdHJ1ZTtcclxuICAgICAgdGhpcy5kZWNyeXB0KGRhdGEsIGtleSwgaXYsIGNhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBkZWNyeXB0aW5nIGVycm9yIDogJHtlcnIubWVzc2FnZX1gKTtcclxuICAgICAgLy90aGlzLm9ic2VydmVyLnRyaWdnZXIoRXZlbnQuRVJST1IsIHt0eXBlIDogRXJyb3JUeXBlcy5NRURJQV9FUlJPUiwgZGV0YWlscyA6IEVycm9yRGV0YWlscy5GUkFHX0RFQ1JZUFRfRVJST1IsIGZhdGFsIDogdHJ1ZSwgcmVhc29uIDogZXJyLm1lc3NhZ2V9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICBsZXQgZGVjcnlwdG9yID0gdGhpcy5kZWNyeXB0b3I7XHJcbiAgICBpZiAoZGVjcnlwdG9yKSB7XHJcbiAgICAgIGRlY3J5cHRvci5kZXN0cm95KCk7XHJcbiAgICAgIHRoaXMuZGVjcnlwdG9yID0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGVjcnlwdGVyO1xyXG4iLCJjbGFzcyBGYXN0QUVTS2V5IHtcclxuICBjb25zdHJ1Y3RvcihzdWJ0bGUsa2V5KSB7XHJcbiAgICB0aGlzLnN1YnRsZSA9IHN1YnRsZTtcclxuICAgIHRoaXMua2V5ID0ga2V5O1xyXG4gIH1cclxuXHJcbiAgZXhwYW5kS2V5KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuc3VidGxlLmltcG9ydEtleSgncmF3JywgdGhpcy5rZXksIHtuYW1lOiAnQUVTLUNCQyd9LCBmYWxzZSwgWydlbmNyeXB0JywgJ2RlY3J5cHQnXSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGYXN0QUVTS2V5O1xyXG4iLCLvu79pbXBvcnQgRmFjdG9yeU1ha2VyIGZyb20gJy4vY29yZS9GYWN0b3J5TWFrZXInO1xyXG5pbXBvcnQgRXZlbnRCdXMgZnJvbSAnLi9jb3JlL0V2ZW50QnVzJztcclxuXHJcbmltcG9ydCBQcm90ZWN0aW9uS2V5Q29udHJvbGxlciBmcm9tICcuL3Byb3RlY3Rpb24vY29udHJvbGxlci9Qcm90ZWN0aW9uS2V5Q29udHJvbGxlcic7XHJcbmltcG9ydCBQcm90ZWN0aW9uTW9kZWxfMjFKYW4yMDE1IGZyb20gJy4vcHJvdGVjdGlvbi9tb2RlbHMvUHJvdGVjdGlvbk1vZGVsXzIxSmFuMjAxNSc7XHJcbmltcG9ydCBQcm90ZWN0aW9uTW9kZWxfM0ZlYjIwMTQgZnJvbSAnLi9wcm90ZWN0aW9uL21vZGVscy9Qcm90ZWN0aW9uTW9kZWxfM0ZlYjIwMTQnO1xyXG5cclxuLy9cclxudmFyIERSTUVuZ2luZSA9IGZ1bmN0aW9uIChtZWRpYSkge1xyXG4gICAgdGhpcy5tZWRpYV8gPSBtZWRpYTtcclxuICAgIHRoaXMucHJvdGVjdGlvbk1vZGVsXyA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5wcm90ZWN0aW9uS2V5Q29udHJvbGxlcl8gPSBQcm90ZWN0aW9uS2V5Q29udHJvbGxlcih0aGlzKS5nZXRJbnN0YW5jZSgpO1xyXG5cclxuICAgIHRoaXMucHJvdGVjdGlvbk1vZGVsXyA9IHRoaXMuZ2V0UHJvdGVjdGlvbk1vZGVsKHRoaXMubWVkaWFfKTtcclxuICAgIHRoaXMucHJvdGVjdGlvbk1vZGVsXy5hdHRhY2hNZWRpYSh0aGlzLm1lZGlhXyk7XHJcbn07XHJcblxyXG5EUk1FbmdpbmUucHJvdG90eXBlLmdldFByb3RlY3Rpb25Nb2RlbCA9IGZ1bmN0aW9uIChtZWRpYSkge1xyXG4gICAgaWYgKG1lZGlhLm9uZW5jcnlwdGVkICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICBtZWRpYS5tZWRpYUtleXMgIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgIG5hdmlnYXRvci5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MgIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgIHR5cGVvZiBuYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1VzZXIgQWdlbnQgc3VwcG9ydCBQcm90ZWN0aW9uTW9kZWxfMjFKYW4yMDE1Jyk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm90ZWN0aW9uTW9kZWxfMjFKYW4yMDE1KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIEFnZW50IHN1cHBvcnQgUHJvdGVjdGlvbk1vZGVsXzNGZWIyMDE0Jyk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm90ZWN0aW9uTW9kZWxfM0ZlYjIwMTQoKTtcclxuICAgIH1cclxufTtcclxuXHJcbkRSTUVuZ2luZS5wcm90b3R5cGUuc2V0RHJtSW5mbyA9IGZ1bmN0aW9uIChpbmZvKSB7XHJcbiAgICBpZiAoIWluZm8uZHJtIHx8ICFpbmZvLmRybS50eXBlKSB7IHJldHVybjsgfVxyXG5cclxuICAgIGxldCBrZXlTeXN0ZW0gPSB0aGlzLnByb3RlY3Rpb25LZXlDb250cm9sbGVyXy5nZXRLZXlTeXN0ZW1CeVN5c3RlbVN0cmluZyhpbmZvLmRybS50eXBlKTtcclxuICAgIGNvbnNvbGUubG9nKCdINVBsYXllciwgcmVxdWVzdCBzeXN0ZW1TdHJpbmc6ICcgKyBrZXlTeXN0ZW0uc3lzdGVtU3RyaW5nKTtcclxuICAgIHRoaXMucHJvdGVjdGlvbk1vZGVsXy5zZXRLZXlTeXN0ZW0oa2V5U3lzdGVtKTtcclxuICAgIHRoaXMucHJvdGVjdGlvbk1vZGVsXy5zZXREcm1JbmZvKGluZm8pO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRFJNRW5naW5lO1xyXG4iLCIvKiAkRGF0ZTogMjAwNy0wNi0xMiAxODowMjozMSAkICovXG5cbi8vIGZyb206IGh0dHA6Ly9iYW5uaXN0ZXIudXMvd2VibG9nLzIwMDcvMDYvMDkvc2ltcGxlLWJhc2U2NC1lbmNvZGVkZWNvZGUtamF2YXNjcmlwdC9cbi8vIEhhbmRsZXMgZW5jb2RlL2RlY29kZSBvZiBBU0NJSSBhbmQgVW5pY29kZSBzdHJpbmdzLlxuXG52YXIgVVRGOCA9IHt9O1xuVVRGOC5lbmNvZGUgPSBmdW5jdGlvbihzKSB7XG4gICAgdmFyIHUgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGMgPSBzLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgICAgICAgdS5wdXNoKGMpO1xuICAgICAgICB9IGVsc2UgaWYgKGMgPCAweDgwMCkge1xuICAgICAgICAgICAgdS5wdXNoKDB4QzAgfCAoYyA+PiA2KSk7XG4gICAgICAgICAgICB1LnB1c2goMHg4MCB8ICg2MyAmIGMpKTtcbiAgICAgICAgfSBlbHNlIGlmIChjIDwgMHgxMDAwMCkge1xuICAgICAgICAgICAgdS5wdXNoKDB4RTAgfCAoYyA+PiAxMikpO1xuICAgICAgICAgICAgdS5wdXNoKDB4ODAgfCAoNjMgJiAoYyA+PiA2KSkpO1xuICAgICAgICAgICAgdS5wdXNoKDB4ODAgfCAoNjMgJiBjKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1LnB1c2goMHhGMCB8IChjID4+IDE4KSk7XG4gICAgICAgICAgICB1LnB1c2goMHg4MCB8ICg2MyAmIChjID4+IDEyKSkpO1xuICAgICAgICAgICAgdS5wdXNoKDB4ODAgfCAoNjMgJiAoYyA+PiA2KSkpO1xuICAgICAgICAgICAgdS5wdXNoKDB4ODAgfCAoNjMgJiBjKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHU7XG59O1xuVVRGOC5kZWNvZGUgPSBmdW5jdGlvbih1KSB7XG4gICAgdmFyIGEgPSBbXTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCB1Lmxlbmd0aCkge1xuICAgICAgICB2YXIgdiA9IHVbaSsrXTtcbiAgICAgICAgaWYgKHYgPCAweDgwKSB7XG4gICAgICAgICAgICAvLyBubyBuZWVkIHRvIG1hc2sgYnl0ZVxuICAgICAgICB9IGVsc2UgaWYgKHYgPCAweEUwKSB7XG4gICAgICAgICAgICB2ID0gKDMxICYgdikgPDwgNjtcbiAgICAgICAgICAgIHYgfD0gKDYzICYgdVtpKytdKTtcbiAgICAgICAgfSBlbHNlIGlmICh2IDwgMHhGMCkge1xuICAgICAgICAgICAgdiA9ICgxNSAmIHYpIDw8IDEyO1xuICAgICAgICAgICAgdiB8PSAoNjMgJiB1W2krK10pIDw8IDY7XG4gICAgICAgICAgICB2IHw9ICg2MyAmIHVbaSsrXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2ID0gKDcgJiB2KSA8PCAxODtcbiAgICAgICAgICAgIHYgfD0gKDYzICYgdVtpKytdKSA8PCAxMjtcbiAgICAgICAgICAgIHYgfD0gKDYzICYgdVtpKytdKSA8PCA2O1xuICAgICAgICAgICAgdiB8PSAoNjMgJiB1W2krK10pO1xuICAgICAgICB9XG4gICAgICAgIGEucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKHYpKTtcbiAgICB9XG4gICAgcmV0dXJuIGEuam9pbignJyk7XG59O1xuXG52YXIgQkFTRTY0ID0ge307XG4oZnVuY3Rpb24oVCl7XG4gICAgdmFyIGVuY29kZUFycmF5ID0gZnVuY3Rpb24odSkge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciBhID0gW107XG4gICAgICAgIHZhciBuID0gMCB8ICh1Lmxlbmd0aCAvIDMpO1xuICAgICAgICB3aGlsZSAoMCA8IG4tLSkge1xuICAgICAgICAgICAgdmFyIHYgPSAodVtpXSA8PCAxNikgKyAodVtpKzFdIDw8IDgpICsgdVtpKzJdO1xuICAgICAgICAgICAgaSArPSAzO1xuICAgICAgICAgICAgYS5wdXNoKFQuY2hhckF0KDYzICYgKHYgPj4gMTgpKSk7XG4gICAgICAgICAgICBhLnB1c2goVC5jaGFyQXQoNjMgJiAodiA+PiAxMikpKTtcbiAgICAgICAgICAgIGEucHVzaChULmNoYXJBdCg2MyAmICh2ID4+IDYpKSk7XG4gICAgICAgICAgICBhLnB1c2goVC5jaGFyQXQoNjMgJiB2KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKDIgPT0gKHUubGVuZ3RoIC0gaSkpIHtcbiAgICAgICAgICAgIHZhciB2ID0gKHVbaV0gPDwgMTYpICsgKHVbaSsxXSA8PCA4KTtcbiAgICAgICAgICAgIGEucHVzaChULmNoYXJBdCg2MyAmICh2ID4+IDE4KSkpO1xuICAgICAgICAgICAgYS5wdXNoKFQuY2hhckF0KDYzICYgKHYgPj4gMTIpKSk7XG4gICAgICAgICAgICBhLnB1c2goVC5jaGFyQXQoNjMgJiAodiA+PiA2KSkpO1xuICAgICAgICAgICAgYS5wdXNoKCc9Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAoMSA9PSAodS5sZW5ndGggLSBpKSkge1xuICAgICAgICAgICAgdmFyIHYgPSAodVtpXSA8PCAxNik7XG4gICAgICAgICAgICBhLnB1c2goVC5jaGFyQXQoNjMgJiAodiA+PiAxOCkpKTtcbiAgICAgICAgICAgIGEucHVzaChULmNoYXJBdCg2MyAmICh2ID4+IDEyKSkpO1xuICAgICAgICAgICAgYS5wdXNoKCc9PScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhLmpvaW4oJycpO1xuICAgIH1cbiAgICB2YXIgUiA9IChmdW5jdGlvbigpe1xuICAgICAgICB2YXIgYSA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGk8VC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgYVtULmNoYXJDb2RlQXQoaSldID0gaTtcbiAgICAgICAgfVxuICAgICAgICBhWyc9Jy5jaGFyQ29kZUF0KDApXSA9IDA7XG4gICAgICAgIHJldHVybiBhO1xuICAgIH0pKCk7XG4gICAgdmFyIGRlY29kZUFycmF5ID0gZnVuY3Rpb24ocykge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHZhciB1ID0gW107XG4gICAgICAgIHZhciBuID0gMCB8IChzLmxlbmd0aCAvIDQpO1xuICAgICAgICB3aGlsZSAoMCA8IG4tLSkge1xuICAgICAgICAgICAgdmFyIHYgPSAoUltzLmNoYXJDb2RlQXQoaSldIDw8IDE4KSArIChSW3MuY2hhckNvZGVBdChpKzEpXSA8PCAxMikgKyAoUltzLmNoYXJDb2RlQXQoaSsyKV0gPDwgNikgKyBSW3MuY2hhckNvZGVBdChpKzMpXTtcbiAgICAgICAgICAgIHUucHVzaCgyNTUgJiAodiA+PiAxNikpO1xuICAgICAgICAgICAgdS5wdXNoKDI1NSAmICh2ID4+IDgpKTtcbiAgICAgICAgICAgIHUucHVzaCgyNTUgJiB2KTtcbiAgICAgICAgICAgIGkgKz0gNDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodSkge1xuICAgICAgICAgICAgaWYgKCc9JyA9PSBzLmNoYXJBdChpLTIpKSB7XG4gICAgICAgICAgICAgICAgdS5wb3AoKTtcbiAgICAgICAgICAgICAgICB1LnBvcCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgnPScgPT0gcy5jaGFyQXQoaS0xKSkge1xuICAgICAgICAgICAgICAgIHUucG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHU7XG4gICAgfVxuICAgIHZhciBBU0NJSSA9IHt9O1xuICAgIEFTQ0lJLmVuY29kZSA9IGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgdmFyIHUgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGk8cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdS5wdXNoKHMuY2hhckNvZGVBdChpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHU7XG4gICAgfTtcbiAgICBBU0NJSS5kZWNvZGUgPSBmdW5jdGlvbih1KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpPHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGFbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGFbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhLmpvaW4oJycpO1xuICAgIH07XG4gICAgQkFTRTY0LmRlY29kZUFycmF5ID0gZnVuY3Rpb24ocykge1xuICAgICAgICB2YXIgdSA9IGRlY29kZUFycmF5KHMpO1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkodSk7XG4gICAgfTtcbiAgICBCQVNFNjQuZW5jb2RlQVNDSUkgPSBmdW5jdGlvbihzKSB7XG4gICAgICAgIHZhciB1ID0gQVNDSUkuZW5jb2RlKHMpO1xuICAgICAgICByZXR1cm4gZW5jb2RlQXJyYXkodSk7XG4gICAgfTtcbiAgICBCQVNFNjQuZGVjb2RlQVNDSUkgPSBmdW5jdGlvbihzKSB7XG4gICAgICAgIHZhciBhID0gZGVjb2RlQXJyYXkocyk7XG4gICAgICAgIHJldHVybiBBU0NJSS5kZWNvZGUoYSk7XG4gICAgfTtcbiAgICBCQVNFNjQuZW5jb2RlID0gZnVuY3Rpb24ocykge1xuICAgICAgICB2YXIgdSA9IFVURjguZW5jb2RlKHMpO1xuICAgICAgICByZXR1cm4gZW5jb2RlQXJyYXkodSk7XG4gICAgfTtcbiAgICBCQVNFNjQuZGVjb2RlID0gZnVuY3Rpb24ocykge1xuICAgICAgICB2YXIgdSA9IGRlY29kZUFycmF5KHMpO1xuICAgICAgICByZXR1cm4gVVRGOC5kZWNvZGUodSk7XG4gICAgfTtcbn0pKFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiKTtcblxuLypUaGUgZm9sbG93aW5nIHBvbHlmaWxscyBhcmUgbm90IHVzZWQgaW4gZGFzaC5qcyBidXQgaGF2ZSBjYXVzZWQgbXVsdGlwbGF5ZXIgaW50ZWdyYXRpb24gaXNzdWVzLlxuIFRoZXJlZm9yZSBjb21tZW50aW5nIHRoZW0gb3V0LlxuaWYgKHVuZGVmaW5lZCA9PT0gYnRvYSkge1xuICAgIHZhciBidG9hID0gQkFTRTY0LmVuY29kZTtcbn1cbmlmICh1bmRlZmluZWQgPT09IGF0b2IpIHtcbiAgICB2YXIgYXRvYiA9IEJBU0U2NC5kZWNvZGU7XG59XG4qL1xuXG5pZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZXhwb3J0cy5kZWNvZGUgPSBCQVNFNjQuZGVjb2RlO1xuICAgIGV4cG9ydHMuZGVjb2RlQXJyYXkgPSBCQVNFNjQuZGVjb2RlQXJyYXk7XG59XG4iLCLvu79pbXBvcnQgRXZlbnRzIGZyb20gJy4vY29yZS9Db3JlRXZlbnRzJztcclxuaW1wb3J0IFBsYXllciBmcm9tICcuL1BsYXllcic7XHJcbmltcG9ydCBUZXN0RmVhdHVyZSBmcm9tICcuL1Rlc3RGZWF0dXJlJztcclxuaW1wb3J0IENhc3RTZW5kZXIgZnJvbSAnLi9jYXN0L2Nhc3Rfc2VuZGVyJztcclxuaW1wb3J0IENhc3RSZWNlaXZlciBmcm9tICcuL2Nhc3QvY2FzdF9yZWNlaXZlcic7XHJcblxyXG5pbXBvcnQgQ29tbW9uVXRpbHMgZnJvbSAnLi91dGlscy9jb21tb25fdXRpbHMnO1xyXG5cclxuLy8gU2hvdmUgYm90aCBvZiB0aGVzZSBpbnRvIHRoZSBnbG9iYWwgc2NvcGVcclxudmFyIGNvbnRleHQgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93KSB8fCBnbG9iYWw7XHJcblxyXG52YXIgb2xkbXRuID0gY29udGV4dC5vbGRtdG47XHJcbmlmICghb2xkbXRuKSB7XHJcbiAgICBvbGRtdG4gPSBjb250ZXh0Lm9sZG10biA9IHt9O1xyXG59XHJcblxyXG5vbGRtdG4uUGxheWVyID0gUGxheWVyO1xyXG5vbGRtdG4uRXZlbnRzID0gRXZlbnRzO1xyXG5vbGRtdG4uVGVzdEZlYXR1cmUgPSBUZXN0RmVhdHVyZTtcclxub2xkbXRuLkNhc3RTZW5kZXIgPSBDYXN0U2VuZGVyO1xyXG5vbGRtdG4uQ2FzdFJlY2VpdmVyID0gQ2FzdFJlY2VpdmVyO1xyXG5cclxub2xkbXRuLkNvbW1vblV0aWxzID0gQ29tbW9uVXRpbHM7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgb2xkbXRuO1xyXG5cclxuXHJcbiIsIu+7v2ltcG9ydCBGYWN0b3J5TWFrZXIgZnJvbSAnLi9jb3JlL0ZhY3RvcnlNYWtlcic7XHJcbmltcG9ydCBFdmVudEJ1cyBmcm9tICcuL2NvcmUvRXZlbnRCdXMnO1xyXG5pbXBvcnQgRXZlbnRzIGZyb20gJy4vY29yZS9Db3JlRXZlbnRzJztcclxuaW1wb3J0IERlYnVnIGZyb20gJy4vY29yZS9EZWJ1Zyc7XHJcbmltcG9ydCBUaW1lUmFuZ2VzIGZyb20gJy4vdXRpbHMvdGltZVJhbmdlcyc7XHJcblxyXG5cclxuLyogRHVyaW5nIHRoZSBsb2FkaW5nIHByb2Nlc3Mgb2YgYW4gYXVkaW8vdmlkZW8sIHRoZSBmb2xsb3dpbmcgZXZlbnRzIG9jY3VyLCBpbiB0aGlzIG9yZGVyOlxyXG5sb2Fkc3RhcnRcclxuZHVyYXRpb25jaGFuZ2VcclxubG9hZGVkbWV0YWRhdGFcclxubG9hZGVkZGF0YVxyXG5wcm9ncmVzc1xyXG5jYW5wbGF5XHJcbmNhbnBsYXl0aHJvdWdoXHJcbiovXHJcblxyXG52YXIgTWVkaWFFbmdpbmUgPSBmdW5jdGlvbiAobWVkaWEpIHtcclxuICB0aGlzLm1lZGlhXyA9IG1lZGlhO1xyXG4gIHRoaXMuZXZlbnRCdXNfID0gRXZlbnRCdXMob2xkbXRuKS5nZXRJbnN0YW5jZSgpO1xyXG4gIHRoaXMuZGVidWdfID0gRGVidWcob2xkbXRuKS5nZXRJbnN0YW5jZSgpO1xyXG4gIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcclxufTtcclxuXHJcbi8vIEJlZ2luIC0tIHB1YmxpYyBmdW5jdGlvbnNcclxuTWVkaWFFbmdpbmUucHJvdG90eXBlLmN1cnJlbnRUaW1lID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiB0aGlzLm1lZGlhXy5jdXJyZW50VGltZTtcclxufTtcclxuXHJcbk1lZGlhRW5naW5lLnByb3RvdHlwZS5kdXJhdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gdGhpcy5tZWRpYV8uZHVyYXRpb247XHJcbn07XHJcblxyXG5NZWRpYUVuZ2luZS5wcm90b3R5cGUuc2Vla2luZyA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gdGhpcy5tZWRpYV8uc2Vla2luZztcclxufTtcclxuXHJcbk1lZGlhRW5naW5lLnByb3RvdHlwZS5pc0VuZGVkID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiB0aGlzLm1lZGlhXy5lbmRlZDtcclxufTtcclxuXHJcbk1lZGlhRW5naW5lLnByb3RvdHlwZS5pc011dGVkID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiB0aGlzLm1lZGlhXy5tdXRlZDtcclxufTtcclxuXHJcbk1lZGlhRW5naW5lLnByb3RvdHlwZS5pc1BhdXNlZCA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gdGhpcy5tZWRpYV8ucGF1c2VkO1xyXG59O1xyXG5cclxuTWVkaWFFbmdpbmUucHJvdG90eXBlLm11dGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdGhpcy5tZWRpYV8ubXV0ZWQgPSB0cnVlO1xyXG59O1xyXG5cclxuTWVkaWFFbmdpbmUucHJvdG90eXBlLnBsYXkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdGhpcy5tZWRpYV8ucGxheSgpO1xyXG59O1xyXG5cclxuTWVkaWFFbmdpbmUucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKCkge1xyXG4gIHRoaXMubWVkaWFfLnBhdXNlKCk7XHJcbn07XHJcblxyXG5NZWRpYUVuZ2luZS5wcm90b3R5cGUudW5tdXRlID0gZnVuY3Rpb24gKCkge1xyXG4gIHRoaXMubWVkaWFfLm11dGVkID0gZmFsc2U7XHJcbn07XHJcblxyXG4vLyBFbmQgLS0gcHVibGljIGZ1bmN0aW9uc1xyXG5cclxuLy8gQmVnaW4gLSBwcml2YXRlIGZ1bmN0aW9uIFxyXG5NZWRpYUVuZ2luZS5wcm90b3R5cGUub25NZWRpYUNhbnBsYXkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgLy9UaGUgY2FucGxheSBldmVudCBvY2N1cnMgd2hlbiB0aGUgYnJvd3NlciBjYW4gc3RhcnQgcGxheWluZyB0aGUgc3BlY2lmaWVkIGF1ZGlvL3ZpZGVvICh3aGVuIGl0IGhhcyBidWZmZXJlZCBlbm91Z2ggdG8gYmVnaW4pLlxyXG4gIHRoaXMuZGVidWdfLmxvZygnK29uTWVkaWFDYW5wbGF5Jyk7XHJcbn07XHJcblxyXG5NZWRpYUVuZ2luZS5wcm90b3R5cGUub25NZWRpYUNhbnBsYXlUaHJvdWdoID0gZnVuY3Rpb24gKCkge1xyXG4gIHRoaXMuZGVidWdfLmxvZygnK29uTWVkaWFDYW5wbGF5VGhyb3VnaCcpO1xyXG59O1xyXG5cclxuTWVkaWFFbmdpbmUucHJvdG90eXBlLm9uTWVkaWFEdXJhdGlvbkNoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdGhpcy5kZWJ1Z18ubG9nKCcrb25NZWRpYUR1cmF0aW9uQ2hhbmdlZCcgK1xyXG4gICAgJywgY3VycmVudFRpbWU6ICcgKyB0aGlzLm1lZGlhXy5jdXJyZW50VGltZSArXHJcbiAgICAnLCBkdXJhdGlvbjogJyArIHRoaXMubWVkaWFfLmR1cmF0aW9uKTtcclxuICB0aGlzLmV2ZW50QnVzXy50cmlnZ2VyKEV2ZW50cy5NRURJQV9EVVJBVElPTl9DSEFOR0VEKTtcclxufTtcclxuXHJcbk1lZGlhRW5naW5lLnByb3RvdHlwZS5vbk1lZGlhRW5kZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdGhpcy5ldmVudEJ1c18udHJpZ2dlcihFdmVudHMuTUVESUFfRU5ERUQpO1xyXG59O1xyXG5cclxuTWVkaWFFbmdpbmUucHJvdG90eXBlLm9uTWVkaWFMb2FkZWREYXRhID0gZnVuY3Rpb24gKCkge1xyXG4gIHRoaXMuZGVidWdfLmxvZygnK29uTWVkaWFMb2FkZWREYXRhJyk7XHJcbn07XHJcblxyXG5NZWRpYUVuZ2luZS5wcm90b3R5cGUub25NZWRpYUxvYWRlZE1ldGFkYXRhID0gZnVuY3Rpb24gKCkge1xyXG4gIHRoaXMuZGVidWdfLmxvZygnK29uTWVkaWFNZXRhZGF0YScgK1xyXG4gICAgJywgd2lkdGg6ICcgKyB0aGlzLm1lZGlhXy53aWR0aCArXHJcbiAgICAnLCBoZWlnaHQ6ICcgKyB0aGlzLm1lZGlhXy5oZWlnaHQgK1xyXG4gICAgJywgZHVyYXRpb246ICcgKyB0aGlzLm1lZGlhXy5kdXJhdGlvbik7XHJcbiAgdGhpcy5ldmVudEJ1c18udHJpZ2dlcihFdmVudHMuTUVESUFfTE9BREVETUVUQURBVEEpO1xyXG59O1xyXG5cclxuTWVkaWFFbmdpbmUucHJvdG90eXBlLm9uTWVkaWFMb2FkU3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdGhpcy5kZWJ1Z18ubG9nKCcrb25NZWRpYUxvYWRTdGFydCcpO1xyXG59O1xyXG5cclxuTWVkaWFFbmdpbmUucHJvdG90eXBlLm9uTWVkaWFQYXVzZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdGhpcy5kZWJ1Z18ubG9nKCcrb25NZWRpYVBhdXNlZCcpO1xyXG4gIHRoaXMuZXZlbnRCdXNfLnRyaWdnZXIoRXZlbnRzLk1FRElBX1BBVVNFRCk7XHJcbn07XHJcblxyXG5NZWRpYUVuZ2luZS5wcm90b3R5cGUub25NZWRpYVBsYXkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdGhpcy5kZWJ1Z18ubG9nKCcrb25NZWRpYVBsYXknKTtcclxufTtcclxuXHJcbk1lZGlhRW5naW5lLnByb3RvdHlwZS5vbk1lZGlhUGxheWluZyA9IGZ1bmN0aW9uICgpIHtcclxuICB0aGlzLmRlYnVnXy5sb2coJytvbk1lZGlhUGxheWluZycpO1xyXG4gIHRoaXMuZXZlbnRCdXNfLnRyaWdnZXIoRXZlbnRzLk1FRElBX1BMQVlJTkcpO1xyXG59O1xyXG5cclxuTWVkaWFFbmdpbmUucHJvdG90eXBlLm9uTWVkaWFQcm9ncmVzcyA9IGZ1bmN0aW9uICgpIHtcclxuICB0aGlzLmRlYnVnXy5sb2coJytvbk1lZGlhUHJvZ3Jlc3MnKTtcclxufTtcclxuXHJcbk1lZGlhRW5naW5lLnByb3RvdHlwZS5vbk1lZGlhUmVhZHlTdGF0ZSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgdGhpcy5kZWJ1Z18ubG9nKCcrb25NZWRpYVJlYWR5U3RhdGUnKTtcclxufTtcclxuXHJcbk1lZGlhRW5naW5lLnByb3RvdHlwZS5vbk1lZGlhU2Vla2luZyA9IGZ1bmN0aW9uICgpIHtcclxuICB0aGlzLmV2ZW50QnVzXy50cmlnZ2VyKEV2ZW50cy5NRURJQV9TRUVLSU5HKTtcclxufTtcclxuXHJcbk1lZGlhRW5naW5lLnByb3RvdHlwZS5vbk1lZGlhU2Vla2VkID0gZnVuY3Rpb24gKCkge1xyXG4gIHRoaXMuZXZlbnRCdXNfLnRyaWdnZXIoRXZlbnRzLk1FRElBX1NFRUtFRCk7XHJcbn07XHJcblxyXG5NZWRpYUVuZ2luZS5wcm90b3R5cGUub25NZWRpYVRpbWVVcGRhdGVkID0gZnVuY3Rpb24gKGUpIHtcclxuICB0aGlzLmV2ZW50QnVzXy50cmlnZ2VyKEV2ZW50cy5NRURJQV9USU1FVVBEQVRFKTtcclxuICAvL3RoaXMuZGVidWdfLmxvZyhgbWFpbiBidWZmZXJlZCA6ICR7VGltZVJhbmdlcy50b1N0cmluZyhtZWRpYS5idWZmZXJlZCl9YCArICcsIGN1cnJlbnRUaW1lOiAnICsgbWVkaWEuY3VycmVudFRpbWUpO1xyXG59O1xyXG5cclxuTWVkaWFFbmdpbmUucHJvdG90eXBlLm9uTWVkaWFXYWl0aW5nID0gZnVuY3Rpb24gKCkge1xyXG4gIHRoaXMuZGVidWdfLmxvZygnK29uTWVkaWFXYWl0aW5nJyk7XHJcbiAgdGhpcy5ldmVudEJ1c18udHJpZ2dlcihFdmVudHMuTUVESUFfV0FJVElORyk7XHJcbn07XHJcbi8vIEVuZFxyXG5cclxuLy8gcHVibGljIGZ1bmN0aW9uXHJcbk1lZGlhRW5naW5lLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcclxuICB0aGlzLm1lZGlhXy5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5vbk1lZGlhQ2FucGxheS5iaW5kKHRoaXMpKTtcclxuICB0aGlzLm1lZGlhXy5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMub25NZWRpYUNhbnBsYXlUaHJvdWdoLmJpbmQodGhpcykpO1xyXG4gIHRoaXMubWVkaWFfLmFkZEV2ZW50TGlzdGVuZXIoJ2R1cmF0aW9uY2hhbmdlJywgdGhpcy5vbk1lZGlhRHVyYXRpb25DaGFuZ2VkLmJpbmQodGhpcykpO1xyXG4gIHRoaXMubWVkaWFfLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgdGhpcy5vbk1lZGlhRW5kZWQuYmluZCh0aGlzKSk7XHJcbiAgdGhpcy5tZWRpYV8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkZGF0YScsIHRoaXMub25NZWRpYUxvYWRlZERhdGEuYmluZCh0aGlzKSk7XHJcbiAgdGhpcy5tZWRpYV8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCB0aGlzLm9uTWVkaWFMb2FkZWRNZXRhZGF0YS5iaW5kKHRoaXMpKTtcclxuICB0aGlzLm1lZGlhXy5hZGRFdmVudExpc3RlbmVyKCdsb2Fkc3RhcnQnLCB0aGlzLm9uTWVkaWFMb2FkU3RhcnQuYmluZCh0aGlzKSk7XHJcbiAgdGhpcy5tZWRpYV8uYWRkRXZlbnRMaXN0ZW5lcigncGF1c2UnLCB0aGlzLm9uTWVkaWFQYXVzZWQuYmluZCh0aGlzKSk7XHJcbiAgdGhpcy5tZWRpYV8uYWRkRXZlbnRMaXN0ZW5lcigncGxheScsIHRoaXMub25NZWRpYVBsYXkuYmluZCh0aGlzKSk7XHJcbiAgdGhpcy5tZWRpYV8uYWRkRXZlbnRMaXN0ZW5lcigncGxheWluZycsIHRoaXMub25NZWRpYVBsYXlpbmcuYmluZCh0aGlzKSk7XHJcbiAgdGhpcy5tZWRpYV8uYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLm9uTWVkaWFQcm9ncmVzcy5iaW5kKHRoaXMpKTtcclxuICB0aGlzLm1lZGlhXy5hZGRFdmVudExpc3RlbmVyKCdyZWFkeVN0YXRlJywgdGhpcy5vbk1lZGlhUmVhZHlTdGF0ZS5iaW5kKHRoaXMpKTtcclxuICB0aGlzLm1lZGlhXy5hZGRFdmVudExpc3RlbmVyKCdzZWVraW5nJywgdGhpcy5vbk1lZGlhU2Vla2luZy5iaW5kKHRoaXMpKTtcclxuICB0aGlzLm1lZGlhXy5hZGRFdmVudExpc3RlbmVyKCdzZWVrZWQnLCB0aGlzLm9uTWVkaWFTZWVrZWQuYmluZCh0aGlzKSk7XHJcbiAgdGhpcy5tZWRpYV8uYWRkRXZlbnRMaXN0ZW5lcigndGltZXVwZGF0ZScsIHRoaXMub25NZWRpYVRpbWVVcGRhdGVkLmJpbmQodGhpcykpO1xyXG4gIHRoaXMubWVkaWFfLmFkZEV2ZW50TGlzdGVuZXIoJ3dhaXRpbmcnLCB0aGlzLm9uTWVkaWFXYWl0aW5nLmJpbmQodGhpcykpO1xyXG59O1xyXG5cclxuTWVkaWFFbmdpbmUucHJvdG90eXBlLnJlbW92ZUV2ZW50c0xpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcclxuICB0aGlzLm1lZGlhXy5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5vbk1lZGlhQ2FucGxheS5iaW5kKHRoaXMpKTtcclxuICB0aGlzLm1lZGlhXy5yZW1vdmVFdmVudExpc3RlbmVyKCdkdXJhdGlvbmNoYW5nZScsIHRoaXMub25NZWRpYUR1cmF0aW9uQ2hhbmdlZC5iaW5kKHRoaXMpKTtcclxuICB0aGlzLm1lZGlhXy5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIHRoaXMub25NZWRpYUVuZGVkLmJpbmQodGhpcykpO1xyXG4gIHRoaXMubWVkaWFfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWRlZGRhdGEnLCB0aGlzLm9uTWVkaWFMb2FkZWREYXRhLmJpbmQodGhpcykpO1xyXG4gIHRoaXMubWVkaWFfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgdGhpcy5vbk1lZGlhTWV0YWRhdGEuYmluZCh0aGlzKSk7XHJcbiAgdGhpcy5tZWRpYV8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZHN0YXJ0JywgdGhpcy5vbk1lZGlhTG9hZFN0YXJ0LmJpbmQodGhpcykpO1xyXG4gIHRoaXMubWVkaWFfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BhdXNlJywgdGhpcy5vbk1lZGlhUGF1c2VkLmJpbmQodGhpcykpO1xyXG4gIHRoaXMubWVkaWFfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BsYXknLCB0aGlzLm9uTWVkaWFQbGF5LmJpbmQodGhpcykpO1xyXG4gIHRoaXMubWVkaWFfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BsYXlpbmcnLCB0aGlzLm9uTWVkaWFQbGF5aW5nLmJpbmQodGhpcykpO1xyXG4gIHRoaXMubWVkaWFfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5vbk1lZGlhUHJvZ3Jlc3MuYmluZCh0aGlzKSk7XHJcbiAgdGhpcy5tZWRpYV8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVhZHlTdGF0ZScsIHRoaXMub25NZWRpYVJlYWR5U3RhdGUuYmluZCh0aGlzKSk7XHJcbiAgdGhpcy5tZWRpYV8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Vla2luZycsIHRoaXMub25NZWRpYVNlZWtpbmcuYmluZCh0aGlzKSk7XHJcbiAgdGhpcy5tZWRpYV8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Vla2VkJywgdGhpcy5vbk1lZGlhU2Vla2VkLmJpbmQodGhpcykpO1xyXG4gIHRoaXMubWVkaWFfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCB0aGlzLm9uTWVkaWFUaW1lVXBkYXRlZC5iaW5kKHRoaXMpKTtcclxuICB0aGlzLm1lZGlhXy5yZW1vdmVFdmVudExpc3RlbmVyKCd3YWl0aW5nJywgdGhpcy5vbk1lZGlhV2FpdGluZy5iaW5kKHRoaXMpKTtcclxufTtcclxuXHJcbk1lZGlhRW5naW5lLnByb3RvdHlwZS5zZXRTcmMgPSBmdW5jdGlvbiAob2JqVVJMKSB7XHJcbiAgdGhpcy5tZWRpYV8uc3JjID0gb2JqVVJMO1xyXG59O1xyXG5cclxuTWVkaWFFbmdpbmUucHJvdG90eXBlLmdldFNyYyA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gdGhpcy5tZWRpYV8uc3JjO1xyXG59O1xyXG5cclxuTWVkaWFFbmdpbmUucHJvdG90eXBlLnJldm9rZVNyYyA9IGZ1bmN0aW9uKCkge1xyXG4gIFVSTC5yZXZva2VPYmplY3RVUkwodGhpcy5tZWRpYV8uc3JjKTtcclxufTtcclxuXHJcbk1lZGlhRW5naW5lLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcclxuICAvLyBEZXRhY2ggcHJvcGVybHkgdGhlIE1lZGlhU291cmNlIGZyb20gdGhlIEhUTUxNZWRpYUVsZW1lbnQgYXNcclxuICAvLyBzdWdnZXN0ZWQgaW4gaHR0cHM6Ly9naXRodWIuY29tL3czYy9tZWRpYS1zb3VyY2UvaXNzdWVzLzUzXHJcbiAgaWYgKHRoaXMubWVkaWFfKSB7XHJcbiAgICB0aGlzLm1lZGlhXy5yZW1vdmVBdHRyaWJ1dGUoJ3NyYycpO1xyXG4gICAgdGhpcy5tZWRpYV8ubG9hZCgpO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1lZGlhRW5naW5lO1xyXG5cclxuIiwi77u/aW1wb3J0IEV2ZW50QnVzIGZyb20gJy4vY29yZS9FdmVudEJ1cyc7XG5pbXBvcnQgRXZlbnRzIGZyb20gJy4vY29yZS9Db3JlRXZlbnRzJztcbmltcG9ydCBEZWJ1ZyBmcm9tICcuL2NvcmUvRGVidWcnO1xuaW1wb3J0IFNvdXJjZUJ1ZmZlcldyYXBwZXIgZnJvbSAnLi9Tb3VyY2VCdWZmZXJXcmFwcGVyJztcblxudmFyIE1lZGlhU291cmNlRW5naW5lID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmV2ZW50QnVzXyA9IEV2ZW50QnVzKG9sZG10bikuZ2V0SW5zdGFuY2UoKTtcbiAgdGhpcy5kZWJ1Z18gPSBEZWJ1ZyhvbGRtdG4pLmdldEluc3RhbmNlKCk7XG4gIHRoaXMubWVkaWFTcmNfID0gbnVsbDtcbiAgdGhpcy5zdHJlYW1JbmZvXyA9IG51bGw7XG4gIHRoaXMuc291cmNlQnVmZmVyc18gPSB7fTtcblxuICB0aGlzLmRlYnVnXy5sb2coJ01lZGlhU291cmNlRW5naW5lLCBjb25zdHJ1Y3RvcicpO1xufTtcblxuTWVkaWFTb3VyY2VFbmdpbmUucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbiAoc3RyZWFtSW5mbykge1xuICAgIHRoaXMuZGVidWdfLmxvZygnTWVkaWFTb3VyY2VFbmdpbmUsICtvcGVuJyk7XG5cbiAgICB0aGlzLnN0cmVhbUluZm9fID0gc3RyZWFtSW5mbztcblxuICAgIGlmICh0aGlzLnN0cmVhbUluZm9fLmF1ZGlvQ29kZWMpIHtcbiAgICAgIHRoaXMuc291cmNlQnVmZmVyc19bJ2F1ZGlvJ10gPSBuZXcgU291cmNlQnVmZmVyV3JhcHBlcih0aGlzLnN0cmVhbUluZm9fLmF1ZGlvQ29kZWMpO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdHJlYW1JbmZvXy52aWRlb0NvZGVjKSB7XG4gICAgICB0aGlzLnNvdXJjZUJ1ZmZlcnNfWyd2aWRlbyddID0gbmV3IFNvdXJjZUJ1ZmZlcldyYXBwZXIodGhpcy5zdHJlYW1JbmZvXy52aWRlb0NvZGVjKTtcbiAgICB9XG5cbiAgICAvL1xuICAgIHZhciBoYXNXZWJLaXQgPSAoJ1dlYktpdE1lZGlhU291cmNlJyBpbiB3aW5kb3cpO1xuICAgIHZhciBoYXNNZWRpYVNvdXJjZSA9ICgnTWVkaWFTb3VyY2UnIGluIHdpbmRvdyk7XG5cbiAgICBpZiAoaGFzTWVkaWFTb3VyY2UpIHtcbiAgICAgIHRoaXMubWVkaWFTcmNfID0gbmV3IE1lZGlhU291cmNlKCk7XG4gICAgICB0aGlzLm1lZGlhU3JjXy5hZGRFdmVudExpc3RlbmVyKCdzb3VyY2VvcGVuJywgdGhpcy5vbk1lZGlhU291cmNlT3Blbi5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gICAgICB0aGlzLm1lZGlhU3JjXy5hZGRFdmVudExpc3RlbmVyKCdzb3VyY2VlbmRlZCcsIHRoaXMub25NZWRpYVNvdXJjZUVuZGVkLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICAgIHRoaXMubWVkaWFTcmNfLmFkZEV2ZW50TGlzdGVuZXIoJ3NvdXJjZWNsb3NlJywgdGhpcy5vbk1lZGlhU291cmNlQ2xvc2UuYmluZCh0aGlzKSwgZmFsc2UpO1xuICAgIH0gZWxzZSBpZiAoaGFzV2ViS2l0KSB7XG4gICAgICB0aGlzLm1lZGlhU3JjXyA9IG5ldyBXZWJLaXRNZWRpYVNvdXJjZSgpO1xuICAgICAgdGhpcy5tZWRpYVNyY18uYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0c291cmNlb3BlbicsIHRoaXMub25NZWRpYVNvdXJjZU9wZW4uYmluZCh0aGlzKSwgZmFsc2UpO1xuICAgIH1cblxuICAgIHRoaXMuZGVidWdfLmxvZygnTWVkaWFTb3VyY2VFbmdpbmUsIC1vcGVuJyk7XG59O1xuXG5NZWRpYVNvdXJjZUVuZ2luZS5wcm90b3R5cGUub25NZWRpYVNvdXJjZU9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuZGVidWdfLmxvZygnK01lZGlhU291cmNlT3BlbicpO1xuXG4gIHRoaXMubWVkaWFTcmNfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NvdXJjZW9wZW4nLCB0aGlzLm9uTWVkaWFTb3VyY2VPcGVuLmJpbmQodGhpcykpO1xuICB0aGlzLm1lZGlhU3JjXy5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJraXRzb3VyY2VvcGVuJywgdGhpcy5vbk1lZGlhU291cmNlT3Blbi5iaW5kKHRoaXMpKTtcblxuICBpZiAodGhpcy5zb3VyY2VCdWZmZXJzX1snYXVkaW8nXSkge1xuICAgIHRoaXMuc291cmNlQnVmZmVyc19bJ2F1ZGlvJ10uaW5pdCh0aGlzLm1lZGlhU3JjXyk7XG4gIH1cblxuICBpZiAodGhpcy5zb3VyY2VCdWZmZXJzX1sndmlkZW8nXSkge1xuICAgIHRoaXMuc291cmNlQnVmZmVyc19bJ3ZpZGVvJ10uaW5pdCh0aGlzLm1lZGlhU3JjXyk7XG4gIH1cblxuICB0aGlzLmV2ZW50QnVzXy50cmlnZ2VyKEV2ZW50cy5NU0VfT1BFTkVELCB7fSk7XG59O1xuXG5NZWRpYVNvdXJjZUVuZ2luZS5wcm90b3R5cGUub25NZWRpYVNvdXJjZUVuZGVkID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG5NZWRpYVNvdXJjZUVuZ2luZS5wcm90b3R5cGUub25NZWRpYVNvdXJjZUNsb3NlID0gZnVuY3Rpb24gKCkge1xuXG59O1xuXG5NZWRpYVNvdXJjZUVuZ2luZS5wcm90b3R5cGUuc2V0RHVyYXRpb24gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgaWYgKHRoaXMubWVkaWFTcmNfLmR1cmF0aW9uICE9IHZhbHVlKSB7XG4gICAgdGhpcy5tZWRpYVNyY18uZHVyYXRpb24gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLm1lZGlhU3JjXy5kdXJhdGlvbjtcbn07XG5cbk1lZGlhU291cmNlRW5naW5lLnByb3RvdHlwZS5zaWduYWxFbmRPZlN0cmVhbSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5tZWRpYVNyY18uZW5kT2ZTdHJlYW0oKTtcbn07XG5cbk1lZGlhU291cmNlRW5naW5lLnByb3RvdHlwZS5nZXRNZWRpYVNvdXJjZSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMubWVkaWFTcmNfO1xufTtcblxuTWVkaWFTb3VyY2VFbmdpbmUucHJvdG90eXBlLmFwcGVuZEJ1ZmZlciA9IGZ1bmN0aW9uIChjb250ZW50VHlwZSwgYnVmZmVyKSB7XG4gIHRoaXMuc291cmNlQnVmZmVyc19bY29udGVudFR5cGVdLmFwcGVuZEJ1ZmZlcihidWZmZXIpO1xufTtcblxuTWVkaWFTb3VyY2VFbmdpbmUucHJvdG90eXBlLnJlbW92ZUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuc291cmNlQnVmZmVyc19bJ2F1ZGlvJ10pIHtcbiAgICB0aGlzLnNvdXJjZUJ1ZmZlcnNfWydhdWRpbyddLnJlbW92ZUJ1ZmZlcigpO1xuICB9XG4gIGlmICh0aGlzLnNvdXJjZUJ1ZmZlcnNfWyd2aWRlbyddKSB7XG4gICAgdGhpcy5zb3VyY2VCdWZmZXJzX1sndmlkZW8nXS5yZW1vdmVCdWZmZXIoKTtcbiAgfVxuXG4gIHRoaXMuc291cmNlQnVmZmVyc19bJ2F1ZGlvJ10gPSBudWxsO1xuICB0aGlzLnNvdXJjZUJ1ZmZlcnNfWyd2aWRlbyddID0gbnVsbDtcbn07XG5cbk1lZGlhU291cmNlRW5naW5lLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuc291cmNlQnVmZmVyc19bJ2F1ZGlvJ10pIHtcbiAgICB0aGlzLnNvdXJjZUJ1ZmZlcnNfWydhdWRpbyddLnJlbW92ZUJ1ZmZlcigpO1xuICB9XG4gIGlmICh0aGlzLnNvdXJjZUJ1ZmZlcnNfWyd2aWRlbyddKSB7XG4gICAgdGhpcy5zb3VyY2VCdWZmZXJzX1sndmlkZW8nXS5yZW1vdmVCdWZmZXIoKTtcbiAgfVxuXG4gIHRoaXMuc291cmNlQnVmZmVyc18gPSB7fTtcbiAgdGhpcy5tZWRpYVNyY18gPSBudWxsO1xuICB0aGlzLnN0cmVhbUluZm9fID0gbnVsbDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE1lZGlhU291cmNlRW5naW5lO1xuXG5cblxuXG4iLCJpbXBvcnQgRmFjdG9yeU1ha2VyIGZyb20gJy4uLy4uL2NvcmUvRmFjdG9yeU1ha2VyJztcclxuXHJcbmltcG9ydCBLZXlTeXN0ZW1DbGVhcktleSBmcm9tICcuLy4uL2RybS9LZXlTeXN0ZW1DbGVhcktleSc7XHJcbmltcG9ydCBLZXlTeXN0ZW1XaWRldmluZSBmcm9tICcuLy4uL2RybS9LZXlTeXN0ZW1XaWRldmluZSc7XHJcbmltcG9ydCBLZXlTeXN0ZW1QbGF5UmVhZHkgZnJvbSAnLi8uLi9kcm0vS2V5U3lzdGVtUGxheVJlYWR5JztcclxuaW1wb3J0IEtleVN5c3RlbUNDUGxheVJlYWR5IGZyb20gJy4vLi4vZHJtL0tleVN5c3RlbUNDUGxheVJlYWR5JztcclxuXHJcblxyXG5mdW5jdGlvbiBQcm90ZWN0aW9uS2V5Q29udHJvbGxlcigpIHtcclxuICAgIGxldCBjb250ZXh0XyA9IHRoaXMuY29udGV4dDtcclxuXHJcbiAgICBsZXQgaW5zdGFuY2VfO1xyXG4gICAgbGV0IGtleVN5c3RlbXNfO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XHJcbiAgICAgICAga2V5U3lzdGVtc18gPSBbXTtcclxuXHJcbiAgICAgICAgdmFyIGtleVN5c3RlbTtcclxuXHJcbiAgICAgICAgLy8gQ2xlYXJLZXlcclxuICAgICAgICBrZXlTeXN0ZW0gPSBLZXlTeXN0ZW1DbGVhcktleShjb250ZXh0XykuZ2V0SW5zdGFuY2UoKTtcclxuICAgICAgICBrZXlTeXN0ZW1zXy5wdXNoKGtleVN5c3RlbSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUGxheVJlYWR5XHJcbiAgICAgICAga2V5U3lzdGVtID0gS2V5U3lzdGVtUGxheVJlYWR5KGNvbnRleHRfKS5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGtleVN5c3RlbXNfLnB1c2goa2V5U3lzdGVtKTtcclxuXHJcbiAgICAgICAgLy8gV2lkZXZpbmVcclxuICAgICAgICBrZXlTeXN0ZW0gPSBLZXlTeXN0ZW1XaWRldmluZShjb250ZXh0XykuZ2V0SW5zdGFuY2UoKTtcclxuICAgICAgICBrZXlTeXN0ZW1zXy5wdXNoKGtleVN5c3RlbSk7XHJcblxyXG4gICAgICAgIC8vIENocm9tZWNhc3QgUGxheVJlYWR5XHJcbiAgICAgICAga2V5U3lzdGVtID0gS2V5U3lzdGVtQ0NQbGF5UmVhZHkoY29udGV4dF8pLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAga2V5U3lzdGVtc18ucHVzaChrZXlTeXN0ZW0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldEtleVN5c3RlbXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIGtleVN5c3RlbXM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0S2V5U3lzdGVtQnlTeXN0ZW1TdHJpbmcoc3lzdGVtU3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5jYXN0ICYmIHdpbmRvdy5jYXN0Ll9fcGxhdGZvcm1fXykge1xyXG4gICAgICAgICAgICBpZiAoc3lzdGVtU3RyaW5nID09PSAnY29tLm1pY3Jvc29mdC5wbGF5cmVhZHknKSB7XHJcbiAgICAgICAgICAgICAgICBzeXN0ZW1TdHJpbmcgPSAnY29tLmNocm9tZWNhc3QucGxheXJlYWR5JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleVN5c3RlbXNfLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChrZXlTeXN0ZW1zX1tpXS5zeXN0ZW1TdHJpbmcgPT09IHN5c3RlbVN0cmluZykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleVN5c3RlbXNfW2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGluc3RhbmNlXyA9IHtcclxuICAgICAgICBnZXRLZXlTeXN0ZW1zOiBnZXRLZXlTeXN0ZW1zLFxyXG4gICAgICAgIGdldEtleVN5c3RlbUJ5U3lzdGVtU3RyaW5nOiBnZXRLZXlTeXN0ZW1CeVN5c3RlbVN0cmluZ1xyXG4gICAgfTtcclxuXHJcbiAgICBpbml0aWFsaXplKCk7XHJcbiAgICByZXR1cm4gaW5zdGFuY2VfO1xyXG59XHJcblxyXG5Qcm90ZWN0aW9uS2V5Q29udHJvbGxlci5fX2g1cGxheWVyX2ZhY3RvcnlfbmFtZSA9ICdQcm90ZWN0aW9uS2V5Q29udHJvbGxlcic7XHJcbmV4cG9ydCBkZWZhdWx0IEZhY3RvcnlNYWtlci5nZXRTaW5nbGV0b25GYWN0b3J5KFByb3RlY3Rpb25LZXlDb250cm9sbGVyKTtcclxuIiwiLyoqXG4gKiBUaGUgY29weXJpZ2h0IGluIHRoaXMgc29mdHdhcmUgaXMgYmVpbmcgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIEJTRCBMaWNlbnNlLFxuICogaW5jbHVkZWQgYmVsb3cuIFRoaXMgc29mdHdhcmUgbWF5IGJlIHN1YmplY3QgdG8gb3RoZXIgdGhpcmQgcGFydHkgYW5kIGNvbnRyaWJ1dG9yXG4gKiByaWdodHMsIGluY2x1ZGluZyBwYXRlbnQgcmlnaHRzLCBhbmQgbm8gc3VjaCByaWdodHMgYXJlIGdyYW50ZWQgdW5kZXIgdGhpcyBsaWNlbnNlLlxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxMywgRGFzaCBJbmR1c3RyeSBGb3J1bS5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbixcbiAqIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcbiAqICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpc1xuICogIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICogICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yXG4gKiAgb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgRGFzaCBJbmR1c3RyeSBGb3J1bSBub3IgdGhlIG5hbWVzIG9mIGl0c1xuICogIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmVcbiAqICB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqXG4gKiAgVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBBUyBJUyBBTkQgQU5ZXG4gKiAgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxuICogIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC5cbiAqICBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULFxuICogIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVRcbiAqICBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXG4gKiAgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksXG4gKiAgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKVxuICogIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFXG4gKiAgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKi9cblxuLyoqXG4gKiBNaWNyb3NvZnQgUGxheVJlYWR5IERSTVxuICpcbiAqIEBjbGFzc1xuICogQGltcGxlbWVudHMgS2V5U3lzdGVtXG4gKi9cbmltcG9ydCBDb21tb25FbmNyeXB0aW9uIGZyb20gJy4uL3ZvL0NvbW1vbkVuY3J5cHRpb24nO1xuaW1wb3J0IEVycm9yIGZyb20gJy4uLy4uL3V0aWxzL0Vycm9yJztcblxuaW1wb3J0IEZhY3RvcnlNYWtlciBmcm9tICcuLi8uLi9jb3JlL0ZhY3RvcnlNYWtlcic7XG5pbXBvcnQgQkFTRTY0IGZyb20gJy4uLy4uL2V4dGVybmFscy9iYXNlNjQnO1xuXG5jb25zdCB1dWlkID0gJzlhMDRmMDc5LTk4NDAtNDI4Ni1hYjkyLWU2NWJlMDg4NWY5NSc7XG5jb25zdCBzeXN0ZW1TdHJpbmcgPSAnY29tLmNocm9tZWNhc3QucGxheXJlYWR5JztcbmNvbnN0IHNjaGVtZUlkVVJJID0gJ3Vybjp1dWlkOicgKyB1dWlkO1xuXG5mdW5jdGlvbiBLZXlTeXN0ZW1DQ1BsYXlSZWFkeSgpIHtcblxuICAgIGxldCBpbnN0YW5jZV87XG4gICAgbGV0IG1lc3NhZ2VGb3JtYXQgPSAndXRmMTYnO1xuXG4gICAgZnVuY3Rpb24gZ2V0UmVxdWVzdEhlYWRlcnNGcm9tTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHZhciBoZWFkZXJzID0ge307XG4gICAgICAgIGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gJ3RleHQveG1sOyBjaGFyc2V0PXV0Zi04JztcbiAgICAgICAgaGVhZGVyc1snU09BUEFjdGlvbiddID0gJ2h0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vRFJNLzIwMDcvMDMvcHJvdG9jb2xzL0FjcXVpcmVMaWNlbnNlJztcbiAgICAgICAgcmV0dXJuIGhlYWRlcnM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0TGljZW5zZVJlcXVlc3RGcm9tTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdEUk06IGNjLCBnZXRMaWNlbnNlUmVxdWVzdEZyb21NZXNzYWdlJyk7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShtZXNzYWdlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRMaWNlbnNlU2VydmVyVVJMRnJvbUluaXREYXRhKGluaXREYXRhKSB7XG4gICAgICAgIGlmIChpbml0RGF0YSkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBuZXcgRGF0YVZpZXcoaW5pdERhdGEpO1xuICAgICAgICAgICAgdmFyIG51bVJlY29yZHMgPSBkYXRhLmdldFVpbnQxNig0LCB0cnVlKTtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSA2O1xuICAgICAgICAgICAgdmFyIHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1SZWNvcmRzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvLyBQYXJzZSB0aGUgUGxheVJlYWR5IFJlY29yZCBoZWFkZXJcbiAgICAgICAgICAgICAgICB2YXIgcmVjb3JkVHlwZSA9IGRhdGEuZ2V0VWludDE2KG9mZnNldCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDI7XG4gICAgICAgICAgICAgICAgdmFyIHJlY29yZExlbmd0aCA9IGRhdGEuZ2V0VWludDE2KG9mZnNldCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDI7XG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZFR5cGUgIT09IDB4MDAwMSkge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gcmVjb3JkTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAvLyBWTyBCRUdJTiAtIGh0dHBzOi8vc2gudmlzdWFsb24uY29tL25vZGUvNjQyMjVcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldCA+PSBkYXRhLmJ5dGVMZW5ndGggLSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBWTyBFTkRcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHJlY29yZERhdGEgPSBpbml0RGF0YS5zbGljZShvZmZzZXQsIG9mZnNldCArIHJlY29yZExlbmd0aCk7XG4gICAgICAgICAgICAgICAgdmFyIHJlY29yZCA9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQxNkFycmF5KHJlY29yZERhdGEpKTtcbiAgICAgICAgICAgICAgICB2YXIgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhyZWNvcmQsICdhcHBsaWNhdGlvbi94bWwnKTtcblxuICAgICAgICAgICAgICAgIC8vIEZpcnN0IHRyeSA8TEFfVVJMPlxuICAgICAgICAgICAgICAgIGlmICh4bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ0xBX1VSTCcpWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsYVVSTCA9IHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnTEFfVVJMJylbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYVVSTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxhVVJMO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gT3B0aW9uYWxseSwgdHJ5IDxMVUlfVVJMPlxuICAgICAgICAgICAgICAgIGlmICh4bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ0xVSV9VUkwnKVswXSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbHVpdXJsID0geG1sRG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdMVUlfVVJMJylbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsdWl1cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsdWl1cmw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRJbml0RGF0YShjcERhdGEpIHtcbiAgICAgICAgLy8gKiBkZXNjQCBnZXRJbml0RGF0YVxuICAgICAgICAvLyAqICAgZ2VuZXJhdGUgUFNTSCBkYXRhIGZyb20gUFJPSGVhZGVyIGRlZmluZWQgaW4gTVBEIGZpbGVcbiAgICAgICAgLy8gKiAgIFBTU0ggZm9ybWF0OlxuICAgICAgICAvLyAqICAgc2l6ZSAoNClcbiAgICAgICAgLy8gKiAgIGJveCB0eXBlKFBTU0gpICg4KVxuICAgICAgICAvLyAqICAgUHJvdGVjdGlvbiBTeXN0ZW1JRCAoMTYpXG4gICAgICAgIC8vICogICBwcm90ZWN0aW9uIHN5c3RlbSBkYXRhIHNpemUgKDQpIC0gbGVuZ3RoIG9mIGRlY29kZWQgUFJPSGVhZGVyXG4gICAgICAgIC8vICogICBkZWNvZGVkIFBST0hlYWRlciBkYXRhIGZyb20gTVBEIGZpbGVcbiAgICAgICAgdmFyIFBTU0hCb3hUeXBlID0gbmV3IFVpbnQ4QXJyYXkoWzB4NzAsIDB4NzMsIDB4NzMsIDB4NjgsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDBdKTsgLy8nUFNTSCcgOCBieXRlc1xuICAgICAgICB2YXIgcGxheXJlYWR5U3lzdGVtSUQgPSBuZXcgVWludDhBcnJheShbMHg5YSwgMHgwNCwgMHhmMCwgMHg3OSwgMHg5OCwgMHg0MCwgMHg0MiwgMHg4NiwgMHhhYiwgMHg5MiwgMHhlNiwgMHg1YiwgMHhlMCwgMHg4OCwgMHg1ZiwgMHg5NV0pO1xuXG4gICAgICAgIHZhciBieXRlQ3Vyc29yID0gMDtcbiAgICAgICAgdmFyIHVpbnQ4YXJyYXlkZWNvZGVkUFJPSGVhZGVyID0gbnVsbDtcblxuICAgICAgICB2YXIgUFJPU2l6ZSxcbiAgICAgICAgICAgIFBTU0hTaXplLFxuICAgICAgICAgICAgUFNTSEJveEJ1ZmZlcixcbiAgICAgICAgICAgIFBTU0hCb3gsXG4gICAgICAgICAgICBQU1NIRGF0YTtcblxuICAgICAgICAvLyBIYW5kbGUgY29tbW9uIGVuY3J5cHRpb24gUFNTSFxuICAgICAgICBpZiAoJ3Bzc2gnIGluIGNwRGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIENvbW1vbkVuY3J5cHRpb24ucGFyc2VJbml0RGF0YUZyb21Db250ZW50UHJvdGVjdGlvbihjcERhdGEpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhhbmRsZSBuYXRpdmUgTVMgUGxheVJlYWR5IENvbnRlbnRQcm90ZWN0aW9uIGVsZW1lbnRzXG4gICAgICAgIGlmICgncHJvJyBpbiBjcERhdGEpIHtcbiAgICAgICAgICAgIHVpbnQ4YXJyYXlkZWNvZGVkUFJPSGVhZGVyID0gQkFTRTY0LmRlY29kZUFycmF5KGNwRGF0YS5wcm8uX190ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgncHJoZWFkZXInIGluIGNwRGF0YSkge1xuICAgICAgICAgICAgdWludDhhcnJheWRlY29kZWRQUk9IZWFkZXIgPSBCQVNFNjQuZGVjb2RlQXJyYXkoY3BEYXRhLnByaGVhZGVyLl9fdGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIFBST1NpemUgPSB1aW50OGFycmF5ZGVjb2RlZFBST0hlYWRlci5sZW5ndGg7XG4gICAgICAgIFBTU0hTaXplID0gMHg0ICsgUFNTSEJveFR5cGUubGVuZ3RoICsgcGxheXJlYWR5U3lzdGVtSUQubGVuZ3RoICsgMHg0ICsgUFJPU2l6ZTtcblxuICAgICAgICBQU1NIQm94QnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKFBTU0hTaXplKTtcblxuICAgICAgICBQU1NIQm94ID0gbmV3IFVpbnQ4QXJyYXkoUFNTSEJveEJ1ZmZlcik7XG4gICAgICAgIFBTU0hEYXRhID0gbmV3IERhdGFWaWV3KFBTU0hCb3hCdWZmZXIpO1xuXG4gICAgICAgIFBTU0hEYXRhLnNldFVpbnQzMihieXRlQ3Vyc29yLCBQU1NIU2l6ZSk7XG4gICAgICAgIGJ5dGVDdXJzb3IgKz0gMHg0O1xuXG4gICAgICAgIFBTU0hCb3guc2V0KFBTU0hCb3hUeXBlLCBieXRlQ3Vyc29yKTtcbiAgICAgICAgYnl0ZUN1cnNvciArPSBQU1NIQm94VHlwZS5sZW5ndGg7XG5cbiAgICAgICAgUFNTSEJveC5zZXQocGxheXJlYWR5U3lzdGVtSUQsIGJ5dGVDdXJzb3IpO1xuICAgICAgICBieXRlQ3Vyc29yICs9IHBsYXlyZWFkeVN5c3RlbUlELmxlbmd0aDtcblxuICAgICAgICBQU1NIRGF0YS5zZXRVaW50MzIoYnl0ZUN1cnNvciwgUFJPU2l6ZSk7XG4gICAgICAgIGJ5dGVDdXJzb3IgKz0gMHg0O1xuXG4gICAgICAgIFBTU0hCb3guc2V0KHVpbnQ4YXJyYXlkZWNvZGVkUFJPSGVhZGVyLCBieXRlQ3Vyc29yKTtcbiAgICAgICAgYnl0ZUN1cnNvciArPSBQUk9TaXplO1xuXG4gICAgICAgIHJldHVybiBQU1NIQm94LmJ1ZmZlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdCBzZWVtcyB0aGF0IHNvbWUgUGxheVJlYWR5IGltcGxlbWVudGF0aW9ucyByZXR1cm4gdGhlaXIgWE1MLWJhc2VkIENETVxuICAgICAqIG1lc3NhZ2VzIHVzaW5nIFVURjE2LCB3aGlsZSBvdGhlcnMgcmV0dXJuIHRoZW0gYXMgVVRGOC4gIFVzZSB0aGlzIGZ1bmN0aW9uXG4gICAgICogdG8gbW9kaWZ5IHRoZSBtZXNzYWdlIGZvcm1hdCB0byBleHBlY3Qgd2hlbiBwYXJzaW5nIENETSBtZXNzYWdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtYXQgdGhlIGV4cGVjdGVkIG1lc3NhZ2UgZm9ybWF0LiAgRWl0aGVyIFwidXRmOFwiIG9yIFwidXRmMTZcIi5cbiAgICAgKiBAdGhyb3dzIHtFcnJvcn0gU3BlY2lmaWVkIG1lc3NhZ2UgZm9ybWF0IGlzIG5vdCBvbmUgb2YgXCJ1dGY4XCIgb3IgXCJ1dGYxNlwiXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0UGxheVJlYWR5TWVzc2FnZUZvcm1hdChmb3JtYXQpIHtcbiAgICAgICAgaWYgKGZvcm1hdCAhPT0gJ3V0ZjgnICYmIGZvcm1hdCAhPT0gJ3V0ZjE2Jykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbGxlZ2FsIFBsYXlSZWFkeSBtZXNzYWdlIGZvcm1hdCEgLS0gJyArIGZvcm1hdCk7XG4gICAgICAgIH1cbiAgICAgICAgbWVzc2FnZUZvcm1hdCA9IGZvcm1hdDtcbiAgICB9XG5cbiAgICBpbnN0YW5jZV8gPSB7XG4gICAgICAgIHV1aWQ6IHV1aWQsXG4gICAgICAgIHNjaGVtZUlkVVJJOiBzY2hlbWVJZFVSSSxcbiAgICAgICAgc3lzdGVtU3RyaW5nOiBzeXN0ZW1TdHJpbmcsXG4gICAgICAgIGdldEluaXREYXRhOiBnZXRJbml0RGF0YSxcbiAgICAgICAgZ2V0UmVxdWVzdEhlYWRlcnNGcm9tTWVzc2FnZTogZ2V0UmVxdWVzdEhlYWRlcnNGcm9tTWVzc2FnZSxcbiAgICAgICAgZ2V0TGljZW5zZVJlcXVlc3RGcm9tTWVzc2FnZTogZ2V0TGljZW5zZVJlcXVlc3RGcm9tTWVzc2FnZSxcbiAgICAgICAgZ2V0TGljZW5zZVNlcnZlclVSTEZyb21Jbml0RGF0YTogZ2V0TGljZW5zZVNlcnZlclVSTEZyb21Jbml0RGF0YSxcbiAgICAgICAgc2V0UGxheVJlYWR5TWVzc2FnZUZvcm1hdDogc2V0UGxheVJlYWR5TWVzc2FnZUZvcm1hdFxuICAgIH07XG5cbiAgICByZXR1cm4gaW5zdGFuY2VfO1xufVxuXG5LZXlTeXN0ZW1DQ1BsYXlSZWFkeS5fX2g1cGxheWVyX2ZhY3RvcnlfbmFtZSA9ICdLZXlTeXN0ZW1DQ1BsYXlSZWFkeSc7XG5leHBvcnQgZGVmYXVsdCBGYWN0b3J5TWFrZXIuZ2V0U2luZ2xldG9uRmFjdG9yeShLZXlTeXN0ZW1DQ1BsYXlSZWFkeSk7XG4iLCIvKipcclxuICogVGhlIGNvcHlyaWdodCBpbiB0aGlzIHNvZnR3YXJlIGlzIGJlaW5nIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSBCU0QgTGljZW5zZSxcclxuICogaW5jbHVkZWQgYmVsb3cuIFRoaXMgc29mdHdhcmUgbWF5IGJlIHN1YmplY3QgdG8gb3RoZXIgdGhpcmQgcGFydHkgYW5kIGNvbnRyaWJ1dG9yXHJcbiAqIHJpZ2h0cywgaW5jbHVkaW5nIHBhdGVudCByaWdodHMsIGFuZCBubyBzdWNoIHJpZ2h0cyBhcmUgZ3JhbnRlZCB1bmRlciB0aGlzIGxpY2Vuc2UuXHJcbiAqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxMywgRGFzaCBJbmR1c3RyeSBGb3J1bS5cclxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbixcclxuICogYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxyXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXNcclxuICogIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxyXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXHJcbiAqICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vclxyXG4gKiAgb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cclxuICogICogTmVpdGhlciB0aGUgbmFtZSBvZiBEYXNoIEluZHVzdHJ5IEZvcnVtIG5vciB0aGUgbmFtZXMgb2YgaXRzXHJcbiAqICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlXHJcbiAqICB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cclxuICpcclxuICogIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgQVMgSVMgQU5EIEFOWVxyXG4gKiAgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxyXG4gKiAgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELlxyXG4gKiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCxcclxuICogIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVRcclxuICogIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcclxuICogIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxyXG4gKiAgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKVxyXG4gKiAgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcclxuICogIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxyXG4gKi9cclxuXHJcbmltcG9ydCBGYWN0b3J5TWFrZXIgZnJvbSAnLi4vLi4vY29yZS9GYWN0b3J5TWFrZXInO1xyXG5cclxuY29uc3QgdXVpZCA9ICcxMDc3ZWZlYy1jMGIyLTRkMDItYWNlMy0zYzFlNTJlMmZiNGInO1xyXG5jb25zdCBzeXN0ZW1TdHJpbmcgPSAnb3JnLnczLmNsZWFya2V5JztcclxuY29uc3Qgc2NoZW1lSWRVUkkgPSAndXJuOnV1aWQ6JyArIHV1aWQ7XHJcblxyXG5mdW5jdGlvbiBLZXlTeXN0ZW1DbGVhcktleSgpIHtcclxuXHJcbiAgICBsZXQgaW5zdGFuY2U7XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgZGVzaXJlZCBjbGVhcmtleXMgKGFzIHNwZWNpZmllZCBpbiB0aGUgQ0RNIG1lc3NhZ2UpIGZyb20gcHJvdGVjdGlvbiBkYXRhXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtQcm90ZWN0aW9uRGF0YX0gcHJvdGVjdGlvbkRhdGEgdGhlIHByb3RlY3Rpb24gZGF0YVxyXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gbWVzc2FnZSB0aGUgQ2xlYXJLZXkgQ0RNIG1lc3NhZ2VcclxuICAgICAqIEByZXR1cm5zIHtDbGVhcktleUtleVNldH0gdGhlIGtleSBzZXQgb3IgbnVsbCBpZiBub25lIGZvdW5kXHJcbiAgICAgKiBAdGhyb3dzIHtFcnJvcn0gaWYgYSBrZXlJRCBzcGVjaWZpZWQgaW4gdGhlIENETSBtZXNzYWdlIHdhcyBub3QgZm91bmQgaW4gdGhlXHJcbiAgICAgKiBwcm90ZWN0aW9uIGRhdGFcclxuICAgICAqIEBtZW1iZXJvZiBLZXlTeXN0ZW1DbGVhcktleVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRDbGVhcktleXNGcm9tUHJvdGVjdGlvbkRhdGEocHJvdGVjdGlvbkRhdGEsIG1lc3NhZ2UpIHtcclxuICAgICAgICB2YXIgY2xlYXJrZXlTZXQgPSBudWxsO1xyXG4gICAgICAgIC8vIGlmIChwcm90ZWN0aW9uRGF0YSkge1xyXG4gICAgICAgIC8vICAgICAvLyBDbGVhcktleSBpcyB0aGUgb25seSBzeXN0ZW0gdGhhdCBkb2VzIG5vdCByZXF1aXJlIGEgbGljZW5zZSBzZXJ2ZXIgVVJMLCBzbyB3ZVxyXG4gICAgICAgIC8vICAgICAvLyBoYW5kbGUgaXQgaGVyZSB3aGVuIGtleXMgYXJlIHNwZWNpZmllZCBpbiBwcm90ZWN0aW9uIGRhdGFcclxuICAgICAgICAvLyAgICAgdmFyIGpzb25Nc2cgPSBKU09OLnBhcnNlKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkobWVzc2FnZSkpKTtcclxuICAgICAgICAvLyAgICAgdmFyIGtleVBhaXJzID0gW107XHJcbiAgICAgICAgLy8gICAgIGZvciAodmFyIGkgPSAwOyBpIDwganNvbk1zZy5raWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gICAgICAgICB2YXIgY2xlYXJrZXlJRCA9IGpzb25Nc2cua2lkc1tpXTtcclxuICAgICAgICAvLyAgICAgICAgIHZhciBjbGVhcmtleSA9IChwcm90ZWN0aW9uRGF0YS5jbGVhcmtleXMuaGFzT3duUHJvcGVydHkoY2xlYXJrZXlJRCkpID8gcHJvdGVjdGlvbkRhdGEuY2xlYXJrZXlzW2NsZWFya2V5SURdIDogbnVsbDtcclxuICAgICAgICAvLyAgICAgICAgIGlmICghY2xlYXJrZXkpIHtcclxuICAgICAgICAvLyAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RSTTogQ2xlYXJLZXkga2V5SUQgKCcgKyBjbGVhcmtleUlEICsgJykgaXMgbm90IGtub3duIScpO1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICAgICAgLy8gS2V5SURzIGZyb20gQ0RNIGFyZSBub3QgYmFzZTY0IHBhZGRlZC4gIEtleXMgbWF5IG9yIG1heSBub3QgYmUgcGFkZGVkXHJcbiAgICAgICAgLy8gICAgICAgICBrZXlQYWlycy5wdXNoKG5ldyBLZXlQYWlyKGNsZWFya2V5SUQsIGNsZWFya2V5KSk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyAgICAgY2xlYXJrZXlTZXQgPSBuZXcgQ2xlYXJLZXlLZXlTZXQoa2V5UGFpcnMpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICByZXR1cm4gY2xlYXJrZXlTZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0SW5pdERhdGEoY3ApIHtcclxuICAgICAgICByZXR1cm4gQ29tbW9uRW5jcnlwdGlvbi5wYXJzZUluaXREYXRhRnJvbUNvbnRlbnRQcm90ZWN0aW9uKGNwKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRSZXF1ZXN0SGVhZGVyc0Zyb21NZXNzYWdlKC8qbWVzc2FnZSovKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0TGljZW5zZVJlcXVlc3RGcm9tTWVzc2FnZShtZXNzYWdlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KG1lc3NhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldExpY2Vuc2VTZXJ2ZXJVUkxGcm9tSW5pdERhdGEoLyppbml0RGF0YSovKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaW5zdGFuY2UgPSB7XHJcbiAgICAgICAgdXVpZDogdXVpZCxcclxuICAgICAgICBzY2hlbWVJZFVSSTogc2NoZW1lSWRVUkksXHJcbiAgICAgICAgc3lzdGVtU3RyaW5nOiBzeXN0ZW1TdHJpbmcsXHJcbiAgICAgICAgZ2V0SW5pdERhdGE6IGdldEluaXREYXRhLFxyXG4gICAgICAgIGdldFJlcXVlc3RIZWFkZXJzRnJvbU1lc3NhZ2U6IGdldFJlcXVlc3RIZWFkZXJzRnJvbU1lc3NhZ2UsXHJcbiAgICAgICAgZ2V0TGljZW5zZVJlcXVlc3RGcm9tTWVzc2FnZTogZ2V0TGljZW5zZVJlcXVlc3RGcm9tTWVzc2FnZSxcclxuICAgICAgICBnZXRMaWNlbnNlU2VydmVyVVJMRnJvbUluaXREYXRhOiBnZXRMaWNlbnNlU2VydmVyVVJMRnJvbUluaXREYXRhLFxyXG4gICAgICAgIGdldENsZWFyS2V5c0Zyb21Qcm90ZWN0aW9uRGF0YTogZ2V0Q2xlYXJLZXlzRnJvbVByb3RlY3Rpb25EYXRhXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBpbnN0YW5jZTtcclxufVxyXG5cclxuS2V5U3lzdGVtQ2xlYXJLZXkuX19oNXBsYXllcl9mYWN0b3J5X25hbWUgPSAnS2V5U3lzdGVtQ2xlYXJLZXknO1xyXG5leHBvcnQgZGVmYXVsdCBGYWN0b3J5TWFrZXIuZ2V0U2luZ2xldG9uRmFjdG9yeShLZXlTeXN0ZW1DbGVhcktleSk7XHJcbiIsIi8qKlxuICogVGhlIGNvcHlyaWdodCBpbiB0aGlzIHNvZnR3YXJlIGlzIGJlaW5nIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSBCU0QgTGljZW5zZSxcbiAqIGluY2x1ZGVkIGJlbG93LiBUaGlzIHNvZnR3YXJlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZCBjb250cmlidXRvclxuICogcmlnaHRzLCBpbmNsdWRpbmcgcGF0ZW50IHJpZ2h0cywgYW5kIG5vIHN1Y2ggcmlnaHRzIGFyZSBncmFudGVkIHVuZGVyIHRoaXMgbGljZW5zZS5cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMsIERhc2ggSW5kdXN0cnkgRm9ydW0uXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sXG4gKiBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXNcbiAqICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbiAqICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vclxuICogIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKiAgKiBOZWl0aGVyIHRoZSBuYW1lIG9mIERhc2ggSW5kdXN0cnkgRm9ydW0gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbiAqICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlXG4gKiAgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgQVMgSVMgQU5EIEFOWVxuICogIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcbiAqICBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuXG4gKiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCxcbiAqICBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUXG4gKiAgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxuICogIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxuICogIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcbiAqICBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRVxuICogIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG5cbi8qKlxuICogTWljcm9zb2Z0IFBsYXlSZWFkeSBEUk1cbiAqXG4gKiBAY2xhc3NcbiAqIEBpbXBsZW1lbnRzIEtleVN5c3RlbVxuICovXG5pbXBvcnQgQ29tbW9uRW5jcnlwdGlvbiBmcm9tICcuLi92by9Db21tb25FbmNyeXB0aW9uJztcbmltcG9ydCBFcnJvciBmcm9tICcuLi8uLi91dGlscy9FcnJvcic7XG5cbmltcG9ydCBGYWN0b3J5TWFrZXIgZnJvbSAnLi4vLi4vY29yZS9GYWN0b3J5TWFrZXInO1xuaW1wb3J0IEJBU0U2NCBmcm9tICcuLi8uLi9leHRlcm5hbHMvYmFzZTY0JztcblxuY29uc3QgdXVpZCA9ICc5YTA0ZjA3OS05ODQwLTQyODYtYWI5Mi1lNjViZTA4ODVmOTUnO1xuY29uc3Qgc3lzdGVtU3RyaW5nID0gJ2NvbS5taWNyb3NvZnQucGxheXJlYWR5JztcbmNvbnN0IHNjaGVtZUlkVVJJID0gJ3Vybjp1dWlkOicgKyB1dWlkO1xuXG5mdW5jdGlvbiBLZXlTeXN0ZW1QbGF5UmVhZHkoKSB7XG5cbiAgICBsZXQgaW5zdGFuY2VfO1xuICAgIGxldCBtZXNzYWdlRm9ybWF0ID0gJ3V0ZjE2JztcblxuICAgIGZ1bmN0aW9uIGdldFJlcXVlc3RIZWFkZXJzRnJvbU1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICB2YXIgbXNnLFxuICAgICAgICAgICAgeG1sRG9jO1xuICAgICAgICB2YXIgaGVhZGVycyA9IHt9O1xuICAgICAgICB2YXIgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgICB2YXIgZGF0YXZpZXcgPSAobWVzc2FnZUZvcm1hdCA9PT0gJ3V0ZjE2JykgPyBuZXcgVWludDE2QXJyYXkobWVzc2FnZSkgOiBuZXcgVWludDhBcnJheShtZXNzYWdlKTtcblxuICAgICAgICBtc2cgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGRhdGF2aWV3KTtcbiAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhtc2csICdhcHBsaWNhdGlvbi94bWwnKTtcblxuICAgICAgICB2YXIgaGVhZGVyTmFtZUxpc3QgPSB4bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ25hbWUnKTtcbiAgICAgICAgdmFyIGhlYWRlclZhbHVlTGlzdCA9IHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgndmFsdWUnKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWFkZXJOYW1lTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaGVhZGVyc1toZWFkZXJOYW1lTGlzdFtpXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZV0gPSBoZWFkZXJWYWx1ZUxpc3RbaV0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc29tZSB2ZXJzaW9ucyBvZiB0aGUgUGxheVJlYWR5IENETSByZXR1cm4gJ0NvbnRlbnQnIGluc3RlYWQgb2YgJ0NvbnRlbnQtVHlwZScuXG4gICAgICAgIC8vIHRoaXMgaXMgTk9UIHczYyBjb25mb3JtIGFuZCBsaWNlbnNlIHNlcnZlcnMgbWF5IHJlamVjdCB0aGUgcmVxdWVzdCFcbiAgICAgICAgLy8gLT4gcmVuYW1lIGl0IHRvIHByb3BlciB3M2MgZGVmaW5pdGlvbiFcbiAgICAgICAgaWYgKGhlYWRlcnMuaGFzT3duUHJvcGVydHkoJ0NvbnRlbnQnKSkge1xuICAgICAgICAgICAgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSBoZWFkZXJzLkNvbnRlbnQ7XG4gICAgICAgICAgICBkZWxldGUgaGVhZGVycy5Db250ZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoZWFkZXJzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldExpY2Vuc2VSZXF1ZXN0RnJvbU1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICB2YXIgbXNnLFxuICAgICAgICAgICAgeG1sRG9jO1xuICAgICAgICB2YXIgbGljZW5zZVJlcXVlc3QgPSBudWxsO1xuICAgICAgICB2YXIgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgICB2YXIgZGF0YXZpZXcgPSAobWVzc2FnZUZvcm1hdCA9PT0gJ3V0ZjE2JykgPyBuZXcgVWludDE2QXJyYXkobWVzc2FnZSkgOiBuZXcgVWludDhBcnJheShtZXNzYWdlKTtcblxuICAgICAgICBtc2cgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGRhdGF2aWV3KTtcbiAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhtc2csICdhcHBsaWNhdGlvbi94bWwnKTtcblxuICAgICAgICBpZiAoeG1sRG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdDaGFsbGVuZ2UnKVswXSkge1xuICAgICAgICAgICAgdmFyIENoYWxsZW5nZSA9IHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnQ2hhbGxlbmdlJylbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWU7XG4gICAgICAgICAgICBpZiAoQ2hhbGxlbmdlKSB7XG4gICAgICAgICAgICAgICAgbGljZW5zZVJlcXVlc3QgPSBCQVNFNjQuZGVjb2RlKENoYWxsZW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpY2Vuc2VSZXF1ZXN0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldExpY2Vuc2VTZXJ2ZXJVUkxGcm9tSW5pdERhdGEoaW5pdERhdGEpIHtcbiAgICAgICAgaWYgKGluaXREYXRhKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IG5ldyBEYXRhVmlldyhpbml0RGF0YSk7XG4gICAgICAgICAgICB2YXIgbnVtUmVjb3JkcyA9IGRhdGEuZ2V0VWludDE2KDQsIHRydWUpO1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IDY7XG4gICAgICAgICAgICB2YXIgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bVJlY29yZHM7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIFBhcnNlIHRoZSBQbGF5UmVhZHkgUmVjb3JkIGhlYWRlclxuICAgICAgICAgICAgICAgIHZhciByZWNvcmRUeXBlID0gZGF0YS5nZXRVaW50MTYob2Zmc2V0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gMjtcbiAgICAgICAgICAgICAgICB2YXIgcmVjb3JkTGVuZ3RoID0gZGF0YS5nZXRVaW50MTYob2Zmc2V0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gMjtcbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkVHlwZSAhPT0gMHgwMDAxKSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSByZWNvcmRMZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIC8vIFZPIEJFR0lOIC0gaHR0cHM6Ly9zaC52aXN1YWxvbi5jb20vbm9kZS82NDIyNVxuICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0ID49IGRhdGEuYnl0ZUxlbmd0aCAtIDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFZPIEVORFxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgcmVjb3JkRGF0YSA9IGluaXREYXRhLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgcmVjb3JkTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVjb3JkID0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDE2QXJyYXkocmVjb3JkRGF0YSkpO1xuICAgICAgICAgICAgICAgIHZhciB4bWxEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHJlY29yZCwgJ2FwcGxpY2F0aW9uL3htbCcpO1xuXG4gICAgICAgICAgICAgICAgLy8gRmlyc3QgdHJ5IDxMQV9VUkw+XG4gICAgICAgICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnTEFfVVJMJylbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhVVJMID0geG1sRG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdMQV9VUkwnKVswXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhVVJMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFVUkw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBPcHRpb25hbGx5LCB0cnkgPExVSV9VUkw+XG4gICAgICAgICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnTFVJX1VSTCcpWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsdWl1cmwgPSB4bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ0xVSV9VUkwnKVswXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGx1aXVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGx1aXVybDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEluaXREYXRhKGNwRGF0YSkge1xuICAgICAgICAvLyAqIGRlc2NAIGdldEluaXREYXRhXG4gICAgICAgIC8vICogICBnZW5lcmF0ZSBQU1NIIGRhdGEgZnJvbSBQUk9IZWFkZXIgZGVmaW5lZCBpbiBNUEQgZmlsZVxuICAgICAgICAvLyAqICAgUFNTSCBmb3JtYXQ6XG4gICAgICAgIC8vICogICBzaXplICg0KVxuICAgICAgICAvLyAqICAgYm94IHR5cGUoUFNTSCkgKDgpXG4gICAgICAgIC8vICogICBQcm90ZWN0aW9uIFN5c3RlbUlEICgxNilcbiAgICAgICAgLy8gKiAgIHByb3RlY3Rpb24gc3lzdGVtIGRhdGEgc2l6ZSAoNCkgLSBsZW5ndGggb2YgZGVjb2RlZCBQUk9IZWFkZXJcbiAgICAgICAgLy8gKiAgIGRlY29kZWQgUFJPSGVhZGVyIGRhdGEgZnJvbSBNUEQgZmlsZVxuICAgICAgICB2YXIgUFNTSEJveFR5cGUgPSBuZXcgVWludDhBcnJheShbMHg3MCwgMHg3MywgMHg3MywgMHg2OCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMF0pOyAvLydQU1NIJyA4IGJ5dGVzXG4gICAgICAgIHZhciBwbGF5cmVhZHlTeXN0ZW1JRCA9IG5ldyBVaW50OEFycmF5KFsweDlhLCAweDA0LCAweGYwLCAweDc5LCAweDk4LCAweDQwLCAweDQyLCAweDg2LCAweGFiLCAweDkyLCAweGU2LCAweDViLCAweGUwLCAweDg4LCAweDVmLCAweDk1XSk7XG5cbiAgICAgICAgdmFyIGJ5dGVDdXJzb3IgPSAwO1xuICAgICAgICB2YXIgdWludDhhcnJheWRlY29kZWRQUk9IZWFkZXIgPSBudWxsO1xuXG4gICAgICAgIHZhciBQUk9TaXplLFxuICAgICAgICAgICAgUFNTSFNpemUsXG4gICAgICAgICAgICBQU1NIQm94QnVmZmVyLFxuICAgICAgICAgICAgUFNTSEJveCxcbiAgICAgICAgICAgIFBTU0hEYXRhO1xuXG4gICAgICAgIC8vIEhhbmRsZSBjb21tb24gZW5jcnlwdGlvbiBQU1NIXG4gICAgICAgIGlmICgncHNzaCcgaW4gY3BEYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29tbW9uRW5jcnlwdGlvbi5wYXJzZUluaXREYXRhRnJvbUNvbnRlbnRQcm90ZWN0aW9uKGNwRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGFuZGxlIG5hdGl2ZSBNUyBQbGF5UmVhZHkgQ29udGVudFByb3RlY3Rpb24gZWxlbWVudHNcbiAgICAgICAgaWYgKCdwcm8nIGluIGNwRGF0YSkge1xuICAgICAgICAgICAgdWludDhhcnJheWRlY29kZWRQUk9IZWFkZXIgPSBCQVNFNjQuZGVjb2RlQXJyYXkoY3BEYXRhLnByby5fX3RleHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCdwcmhlYWRlcicgaW4gY3BEYXRhKSB7XG4gICAgICAgICAgICB1aW50OGFycmF5ZGVjb2RlZFBST0hlYWRlciA9IEJBU0U2NC5kZWNvZGVBcnJheShjcERhdGEucHJoZWFkZXIuX190ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgUFJPU2l6ZSA9IHVpbnQ4YXJyYXlkZWNvZGVkUFJPSGVhZGVyLmxlbmd0aDtcbiAgICAgICAgUFNTSFNpemUgPSAweDQgKyBQU1NIQm94VHlwZS5sZW5ndGggKyBwbGF5cmVhZHlTeXN0ZW1JRC5sZW5ndGggKyAweDQgKyBQUk9TaXplO1xuXG4gICAgICAgIFBTU0hCb3hCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoUFNTSFNpemUpO1xuXG4gICAgICAgIFBTU0hCb3ggPSBuZXcgVWludDhBcnJheShQU1NIQm94QnVmZmVyKTtcbiAgICAgICAgUFNTSERhdGEgPSBuZXcgRGF0YVZpZXcoUFNTSEJveEJ1ZmZlcik7XG5cbiAgICAgICAgUFNTSERhdGEuc2V0VWludDMyKGJ5dGVDdXJzb3IsIFBTU0hTaXplKTtcbiAgICAgICAgYnl0ZUN1cnNvciArPSAweDQ7XG5cbiAgICAgICAgUFNTSEJveC5zZXQoUFNTSEJveFR5cGUsIGJ5dGVDdXJzb3IpO1xuICAgICAgICBieXRlQ3Vyc29yICs9IFBTU0hCb3hUeXBlLmxlbmd0aDtcblxuICAgICAgICBQU1NIQm94LnNldChwbGF5cmVhZHlTeXN0ZW1JRCwgYnl0ZUN1cnNvcik7XG4gICAgICAgIGJ5dGVDdXJzb3IgKz0gcGxheXJlYWR5U3lzdGVtSUQubGVuZ3RoO1xuXG4gICAgICAgIFBTU0hEYXRhLnNldFVpbnQzMihieXRlQ3Vyc29yLCBQUk9TaXplKTtcbiAgICAgICAgYnl0ZUN1cnNvciArPSAweDQ7XG5cbiAgICAgICAgUFNTSEJveC5zZXQodWludDhhcnJheWRlY29kZWRQUk9IZWFkZXIsIGJ5dGVDdXJzb3IpO1xuICAgICAgICBieXRlQ3Vyc29yICs9IFBST1NpemU7XG5cbiAgICAgICAgcmV0dXJuIFBTU0hCb3guYnVmZmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0IHNlZW1zIHRoYXQgc29tZSBQbGF5UmVhZHkgaW1wbGVtZW50YXRpb25zIHJldHVybiB0aGVpciBYTUwtYmFzZWQgQ0RNXG4gICAgICogbWVzc2FnZXMgdXNpbmcgVVRGMTYsIHdoaWxlIG90aGVycyByZXR1cm4gdGhlbSBhcyBVVEY4LiAgVXNlIHRoaXMgZnVuY3Rpb25cbiAgICAgKiB0byBtb2RpZnkgdGhlIG1lc3NhZ2UgZm9ybWF0IHRvIGV4cGVjdCB3aGVuIHBhcnNpbmcgQ0RNIG1lc3NhZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZvcm1hdCB0aGUgZXhwZWN0ZWQgbWVzc2FnZSBmb3JtYXQuICBFaXRoZXIgXCJ1dGY4XCIgb3IgXCJ1dGYxNlwiLlxuICAgICAqIEB0aHJvd3Mge0Vycm9yfSBTcGVjaWZpZWQgbWVzc2FnZSBmb3JtYXQgaXMgbm90IG9uZSBvZiBcInV0ZjhcIiBvciBcInV0ZjE2XCJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRQbGF5UmVhZHlNZXNzYWdlRm9ybWF0KGZvcm1hdCkge1xuICAgICAgICBpZiAoZm9ybWF0ICE9PSAndXRmOCcgJiYgZm9ybWF0ICE9PSAndXRmMTYnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgUGxheVJlYWR5IG1lc3NhZ2UgZm9ybWF0ISAtLSAnICsgZm9ybWF0KTtcbiAgICAgICAgfVxuICAgICAgICBtZXNzYWdlRm9ybWF0ID0gZm9ybWF0O1xuICAgIH1cblxuICAgIGluc3RhbmNlXyA9IHtcbiAgICAgICAgdXVpZDogdXVpZCxcbiAgICAgICAgc2NoZW1lSWRVUkk6IHNjaGVtZUlkVVJJLFxuICAgICAgICBzeXN0ZW1TdHJpbmc6IHN5c3RlbVN0cmluZyxcbiAgICAgICAgZ2V0SW5pdERhdGE6IGdldEluaXREYXRhLFxuICAgICAgICBnZXRSZXF1ZXN0SGVhZGVyc0Zyb21NZXNzYWdlOiBnZXRSZXF1ZXN0SGVhZGVyc0Zyb21NZXNzYWdlLFxuICAgICAgICBnZXRMaWNlbnNlUmVxdWVzdEZyb21NZXNzYWdlOiBnZXRMaWNlbnNlUmVxdWVzdEZyb21NZXNzYWdlLFxuICAgICAgICBnZXRMaWNlbnNlU2VydmVyVVJMRnJvbUluaXREYXRhOiBnZXRMaWNlbnNlU2VydmVyVVJMRnJvbUluaXREYXRhLFxuICAgICAgICBzZXRQbGF5UmVhZHlNZXNzYWdlRm9ybWF0OiBzZXRQbGF5UmVhZHlNZXNzYWdlRm9ybWF0XG4gICAgfTtcblxuICAgIHJldHVybiBpbnN0YW5jZV87XG59XG5cbktleVN5c3RlbVBsYXlSZWFkeS5fX2g1cGxheWVyX2ZhY3RvcnlfbmFtZSA9ICdLZXlTeXN0ZW1QbGF5UmVhZHknO1xuZXhwb3J0IGRlZmF1bHQgRmFjdG9yeU1ha2VyLmdldFNpbmdsZXRvbkZhY3RvcnkoS2V5U3lzdGVtUGxheVJlYWR5KTtcbiIsIlxyXG5pbXBvcnQgQ29tbW9uRW5jcnlwdGlvbiBmcm9tICcuLi92by9Db21tb25FbmNyeXB0aW9uJztcclxuaW1wb3J0IEZhY3RvcnlNYWtlciBmcm9tICcuLi8uLi9jb3JlL0ZhY3RvcnlNYWtlcic7XHJcblxyXG5jb25zdCB1dWlkID0gJ2VkZWY4YmE5LTc5ZDYtNGFjZS1hM2M4LTI3ZGNkNTFkMjFlZCc7XHJcbmNvbnN0IHN5c3RlbVN0cmluZyA9ICdjb20ud2lkZXZpbmUuYWxwaGEnO1xyXG5jb25zdCBzY2hlbWVJZFVSSSA9ICd1cm46dXVpZDonICsgdXVpZDtcclxuXHJcbmZ1bmN0aW9uIEtleVN5c3RlbVdpZGV2aW5lKCkge1xyXG5cclxuICAgIGxldCBpbnN0YW5jZV87XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0SW5pdERhdGEoY3ApIHtcclxuICAgICAgICByZXR1cm4gQ29tbW9uRW5jcnlwdGlvbi5wYXJzZUluaXREYXRhRnJvbUNvbnRlbnRQcm90ZWN0aW9uKGNwKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRSZXF1ZXN0SGVhZGVyc0Zyb21NZXNzYWdlKC8qbWVzc2FnZSovKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0TGljZW5zZVJlcXVlc3RGcm9tTWVzc2FnZShtZXNzYWdlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KG1lc3NhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldExpY2Vuc2VTZXJ2ZXJVUkxGcm9tSW5pdERhdGEoLyppbml0RGF0YSovKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaW5zdGFuY2VfID0ge1xyXG4gICAgICAgIHV1aWQ6IHV1aWQsXHJcbiAgICAgICAgc2NoZW1lSWRVUkk6IHNjaGVtZUlkVVJJLFxyXG4gICAgICAgIHN5c3RlbVN0cmluZzogc3lzdGVtU3RyaW5nLFxyXG4gICAgICAgIGdldEluaXREYXRhOiBnZXRJbml0RGF0YSxcclxuICAgICAgICBnZXRSZXF1ZXN0SGVhZGVyc0Zyb21NZXNzYWdlOiBnZXRSZXF1ZXN0SGVhZGVyc0Zyb21NZXNzYWdlLFxyXG4gICAgICAgIGdldExpY2Vuc2VSZXF1ZXN0RnJvbU1lc3NhZ2U6IGdldExpY2Vuc2VSZXF1ZXN0RnJvbU1lc3NhZ2UsXHJcbiAgICAgICAgZ2V0TGljZW5zZVNlcnZlclVSTEZyb21Jbml0RGF0YTogZ2V0TGljZW5zZVNlcnZlclVSTEZyb21Jbml0RGF0YSxcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGluc3RhbmNlXztcclxufVxyXG5cclxuS2V5U3lzdGVtV2lkZXZpbmUuX19oNXBsYXllcl9mYWN0b3J5X25hbWUgPSAnS2V5U3lzdGVtV2lkZXZpbmUnO1xyXG5leHBvcnQgZGVmYXVsdCBGYWN0b3J5TWFrZXIuZ2V0U2luZ2xldG9uRmFjdG9yeShLZXlTeXN0ZW1XaWRldmluZSk7IiwiaW1wb3J0IEZhY3RvcnlNYWtlciBmcm9tICcuLi8uLi9jb3JlL0ZhY3RvcnlNYWtlcic7XHJcbmltcG9ydCBTdHJpbmdVdGlscyBmcm9tICcuLi8uLi91dGlscy9zdHJpbmdfdXRpbHMnO1xyXG5pbXBvcnQgQ29tbW9uRW5jcnlwdGlvbiBmcm9tICcuLi92by9Db21tb25FbmNyeXB0aW9uJztcclxuaW1wb3J0IE1lZGlhQ2FwYWJpbGl0eSBmcm9tICcuLi92by9NZWRpYUNhcGFiaWxpdHknO1xyXG5pbXBvcnQgS2V5U3lzdGVtQ29uZmlndXJhdGlvbiBmcm9tICcuLi92by9LZXlTeXN0ZW1Db25maWd1cmF0aW9uJztcclxuXHJcbmltcG9ydCBLZXlTeXN0ZW1XaWRldmluZSBmcm9tICcuLi9kcm0vS2V5U3lzdGVtV2lkZXZpbmUnO1xyXG5cclxuXHJcbi8vIFRoaXMgdGFrZXMgdGhlIHBsYWNlIG9mIGEgbGljZW5zZSBzZXJ2ZXIuXHJcbi8vIGtpZHMgaXMgYW4gYXJyYXkgb2YgYmFzZTY0LWVuY29kZWQga2V5IElEc1xyXG4vLyBrZXlzIGlzIGFuIGFycmF5IG9mIGJhc2U2NC1lbmNvZGVkIGtleXNcclxuZnVuY3Rpb24gZ2VuZXJhdGVMaWNlbnNlKG1lc3NhZ2UsIGtleSkge1xyXG4gICAgLy8gUGFyc2UgdGhlIGNsZWFya2V5IGxpY2Vuc2UgcmVxdWVzdC5cclxuICAgIHZhciByZXF1ZXN0ID0gSlNPTi5wYXJzZShuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUobWVzc2FnZSkpO1xyXG4gICAgLy8gV2Ugb25seSBrbm93IG9uZSBrZXksIHNvIHRoZXJlIHNob3VsZCBvbmx5IGJlIG9uZSBrZXkgSUQuXHJcbiAgICAvLyBBIHJlYWwgbGljZW5zZSBzZXJ2ZXIgY291bGQgZWFzaWx5IHNlcnZlIG11bHRpcGxlIGtleXMuXHJcbiAgICBjb25zb2xlLmFzc2VydChyZXF1ZXN0LmtpZHMubGVuZ3RoID09PSAxKTtcclxuXHJcbiAgICB2YXIga2V5T2JqID0ge1xyXG4gICAgICAgIGt0eTogJ29jdCcsXHJcbiAgICAgICAgLy9hbGc6ICdBMTI4S1cnLFxyXG4gICAgICAgIGtpZDogcmVxdWVzdC5raWRzWzBdLFxyXG4gICAgICAgIGs6IFN0cmluZ1V0aWxzLnU4YXJyVG9CNjQoa2V5KVxyXG4gICAgfTtcclxuICAgIHJldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGtleXM6IFtrZXlPYmpdXHJcbiAgICB9KSk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBkdW1wS1NDb25maWcoa3NTdHJpbmcsIGtzQ29uZmlnKSB7XHJcbiAgICBjb25zb2xlLmxvZygnSDVQbGF5ZXIsIHJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2Vzcywga2V5U3lzdGVtXyA9ICcgKyBrc1N0cmluZyk7XHJcbiAgICBjb25zb2xlLmxvZygnSDVQbGF5ZXIsIHJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcywgY29uZmlnLCBpbml0RGF0YVR5cGVzOiAnICsga3NDb25maWcuaW5pdERhdGFUeXBlc1swXSk7XHJcbiAgICBjb25zb2xlLmxvZygnSDVQbGF5ZXIsIHJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcywgY29uZmlnLCBkaXN0aW5jdGl2ZUlkZW50aWZpZXI6ICcgKyBrc0NvbmZpZy5kaXN0aW5jdGl2ZUlkZW50aWZpZXIpO1xyXG4gICAgY29uc29sZS5sb2coJ0g1UGxheWVyLCByZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MsIGNvbmZpZywgcGVyc2lzdGVudFN0YXRlOiAnICsga3NDb25maWcucGVyc2lzdGVudFN0YXRlKTtcclxuICAgIGNvbnNvbGUubG9nKCdINVBsYXllciwgcmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzLCBjb25maWcsIHNlc3Npb25UeXBlczogJyArIGtzQ29uZmlnLnNlc3Npb25UeXBlc1swXSk7XHJcbiAgICBjb25zb2xlLmxvZygnSDVQbGF5ZXIsIHJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcywgY29uZmlnLCB2aWRlb0NhcGFiaWxpdGllc1swXS5jb250ZW50VHlwZTogJyArIGtzQ29uZmlnLnZpZGVvQ2FwYWJpbGl0aWVzWzBdLmNvbnRlbnRUeXBlKTtcclxuICAgIGNvbnNvbGUubG9nKCdINVBsYXllciwgcmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzLCBjb25maWcsIHZpZGVvQ2FwYWJpbGl0aWVzWzBdLnJvYnVzdG5lc3M6ICcgKyBrc0NvbmZpZy52aWRlb0NhcGFiaWxpdGllc1swXS5yb2J1c3RuZXNzKTtcclxuXHJcbi8vIGxpdGVINVBsYXllci5kZWJ1Zy5qczozNTU4IEg1UGxheWVyLCByZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MsIGtleVN5c3RlbV8gPSBjb20uY2hyb21lY2FzdC5wbGF5cmVhZHlcclxuLy8gbGl0ZUg1UGxheWVyLmRlYnVnLmpzOjM1NTkgSDVQbGF5ZXIsIHJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcywgY29uZmlnLCBpbml0RGF0YVR5cGVzOiBjZW5jXHJcbi8vIGxpdGVINVBsYXllci5kZWJ1Zy5qczozNTYwIEg1UGxheWVyLCByZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MsIGNvbmZpZywgZGlzdGluY3RpdmVJZGVudGlmaWVyOiBvcHRpb25hbFxyXG4vLyBsaXRlSDVQbGF5ZXIuZGVidWcuanM6MzU2MSBINVBsYXllciwgcmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzLCBjb25maWcsIHBlcnNpc3RlbnRTdGF0ZTogb3B0aW9uYWxcclxuLy8gbGl0ZUg1UGxheWVyLmRlYnVnLmpzOjM1NjIgSDVQbGF5ZXIsIHJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcywgY29uZmlnLCBzZXNzaW9uVHlwZXM6IHRlbXBvcmFyeVxyXG4vLyBsaXRlSDVQbGF5ZXIuZGVidWcuanM6MzU2MyBINVBsYXllciwgcmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzLCBjb25maWcsIHZpZGVvQ2FwYWJpbGl0aWVzWzBdLmNvbnRlbnRUeXBlOiB2aWRlby9tcDQ7IGNvZGVjcz1cImF2YzEuNDJDMDE0XCJcclxuLy8gbGl0ZUg1UGxheWVyLmRlYnVnLmpzOjM1NjQgSDVQbGF5ZXIsIHJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcywgY29uZmlnLCB2aWRlb0NhcGFiaWxpdGllc1swXS5yb2J1c3RuZXNzOiBcclxuXHJcbi8vIHNoYWthLXBsYXllci5jb21waWxlZC5kZWJ1Zy5qczoxMDAgRFJNOiBxdWVyeU1lZGlhS2V5c18sIGtleVN5c3RlbTogY29tLmNocm9tZWNhc3QucGxheXJlYWR5XHJcbi8vIHNoYWthLXBsYXllci5jb21waWxlZC5kZWJ1Zy5qczoxMDAgRFJNOiBxdWVyeU1lZGlhS2V5c18sIHZpZGVvQ2FwYWJpbGl0aWVzID0gW29iamVjdCBPYmplY3RdXHJcbi8vIHNoYWthLXBsYXllci5jb21waWxlZC5kZWJ1Zy5qczoxMDAgRFJNOiBxdWVyeU1lZGlhS2V5c18sIGRpc3RpbmN0aXZlSWRlbnRpZmllciA9IG9wdGlvbmFsXHJcbi8vIHNoYWthLXBsYXllci5jb21waWxlZC5kZWJ1Zy5qczoxMDAgRFJNOiBxdWVyeU1lZGlhS2V5c18sIHBlcnNpc3RlbnRTdGF0ZSA9IG9wdGlvbmFsXHJcbi8vIHNoYWthLXBsYXllci5jb21waWxlZC5kZWJ1Zy5qczoxMDAgRFJNOiBxdWVyeU1lZGlhS2V5c18sIHNlc3Npb25UeXBlcyA9IHRlbXBvcmFyeVxyXG4vLyBzaGFrYS1wbGF5ZXIuY29tcGlsZWQuZGVidWcuanM6MTAwIERSTTogcXVlcnlNZWRpYUtleXNfLCBsYWJlbCA9IGNvbS5jaHJvbWVjYXN0LnBsYXlyZWFkeVxyXG4vLyBzaGFrYS1wbGF5ZXIuY29tcGlsZWQuZGVidWcuanM6MTAwIERSTTogcXVlcnlNZWRpYUtleXNfLCBkcm1JbmZvcyA9IFtvYmplY3QgT2JqZWN0XVxyXG4vLyBzaGFrYS1wbGF5ZXIuY29tcGlsZWQuZGVidWcuanM6MTAwIERSTTogcXVlcnlNZWRpYUtleXNfLCB2aWRlb0NhcGFiaWxpdGllc1swXS5jb250ZW50VHlwZSB2aWRlby9tcDQ7IGNvZGVjcz1cImF2YzEuNDJDMDE0XCJcclxuLy8gc2hha2EtcGxheWVyLmNvbXBpbGVkLmRlYnVnLmpzOjEwMCBEUk06IHF1ZXJ5TWVkaWFLZXlzXywgdmlkZW9DYXBhYmlsaXRpZXNbMF0ucm9idXN0bmVzcyBcclxuXHJcbiAgICAgICAgLy8gZm9yICh2YXIgaSBpbiBrc0NvbmZpZykge1xyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnSDVQbGF5ZXIsICcgKyBpICsgJyA9ICcgKyBrc0NvbmZpZ1tpXSk7XHJcbiAgICAgICAgLy8gfVxyXG59XHJcblxyXG4vKipcclxuICogTW9zdCByZWNlbnQgRU1FIGltcGxlbWVudGF0aW9uXHJcbiAqXHJcbiAqIEltcGxlbWVudGVkIGJ5IEdvb2dsZSBDaHJvbWUgdjM2KyAoV2luZG93cywgT1NYLCBMaW51eCksIEVkZ2VcclxuICovXHJcblxyXG52YXIgUHJvdGVjdGlvbk1vZGVsXzIxSmFuMjAxNSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMubWVkaWFfID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLmluaXREYXRhVHlwZV8gPSBudWxsO1xyXG4gICAgdGhpcy5pbml0RGF0YV8gPSBudWxsO1xyXG4gICAgdGhpcy5rZXlTeXN0ZW1fID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLnN0cmVhbUluZm9fID0gbnVsbDtcclxuXHJcbiAgICB0aGlzLnByb21pc2VBY3Rpb25fID0gbnVsbDtcclxufTtcclxuXHJcblByb3RlY3Rpb25Nb2RlbF8yMUphbjIwMTUucHJvdG90eXBlLmF0dGFjaE1lZGlhID0gZnVuY3Rpb24gKG1lZGlhKSB7XHJcbiAgICB0aGlzLm1lZGlhXyA9IG1lZGlhO1xyXG4gICAgdGhpcy5tZWRpYV8uYWRkRXZlbnRMaXN0ZW5lcignZW5jcnlwdGVkJywgdGhpcy5vbk5lZWRLZXkuYmluZCh0aGlzKSwgZmFsc2UpO1xyXG59O1xyXG5cclxuUHJvdGVjdGlvbk1vZGVsXzIxSmFuMjAxNS5wcm90b3R5cGUuZGV0YWNoTWVkaWEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAodGhpcy5tZWRpYV8pIHtcclxuICAgICAgICB0aGlzLm1lZGlhXy5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmNyeXB0ZWQnLCB0aGlzLm9uTmVlZEtleS5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5tZWRpYV8gPSBudWxsO1xyXG4gICAgfVxyXG59O1xyXG5cclxuUHJvdGVjdGlvbk1vZGVsXzIxSmFuMjAxNS5wcm90b3R5cGUuc2V0S2V5U3lzdGVtID0gZnVuY3Rpb24gKGtleVN5c3RlbSkge1xyXG4gICAgdGhpcy5rZXlTeXN0ZW1fID0ga2V5U3lzdGVtO1xyXG59O1xyXG5cclxuLy8gZXYuaW5pdERhdGE6IGl0IGlzIHBzc2ggZGF0YSBoaWRkZW4gaW4gbXA0IHBzc2ggYm94XHJcblByb3RlY3Rpb25Nb2RlbF8yMUphbjIwMTUucHJvdG90eXBlLm9uTmVlZEtleSA9IGZ1bmN0aW9uIChldikge1xyXG4gICAgY29uc29sZS5sb2coJ29uTmVlZEtleSwgaW5pdERhdGFUeXBlOiAnICsgIGV2LmluaXREYXRhVHlwZSk7XHJcbiAgICBjb25zb2xlLmxvZygnb25OZWVkS2V5LCBpbml0RGF0YSBsZW5ndGg6ICcgKyAgZXYuaW5pdERhdGEuYnl0ZUxlbmd0aCk7XHJcbiAgICBjb25zb2xlLmxvZygnb25OZWVkS2V5LCBpbml0RGF0YScsIFN0cmluZ1V0aWxzLmFiMnN0cl92MShldi5pbml0RGF0YSkpO1xyXG5cclxuICAgIC8vIFxyXG4gICAgaWYgKHRoaXMuc3RyZWFtSW5mb18uZHJtLmluaXREYXRhVHlwZSAmJiB0aGlzLnN0cmVhbUluZm9fLmRybS5pbml0RGF0YSkge1xyXG4gICAgICAgIHRoaXMuaW5pdERhdGFUeXBlXyA9IHRoaXMuc3RyZWFtSW5mb18uZHJtLmluaXREYXRhVHlwZTtcclxuICAgICAgICB0aGlzLmluaXREYXRhXyA9IHRoaXMuc3RyZWFtSW5mb18uZHJtLmluaXREYXRhO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmluaXREYXRhVHlwZV8gPSBldi5pbml0RGF0YVR5cGU7XHJcbiAgICAgICAgdGhpcy5pbml0RGF0YV8gPSBldi5pbml0RGF0YTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBCRFxyXG4gICAgLy8gdmFyIHBzc2ggPSBDb21tb25FbmNyeXB0aW9uLnBhcnNlUFNTSExpc3QoZXYuaW5pdERhdGEpO1xyXG4gICAgLy8gbGV0IGExID0gU3RyaW5nVXRpbHMuYWIyc3RyX3YxKHBzc2hbJ2VkZWY4YmE5LTc5ZDYtNGFjZS1hM2M4LTI3ZGNkNTFkMjFlZCddKTtcclxuICAgIC8vIGxldCBhMiA9IFN0cmluZ1V0aWxzLmFiMnN0cl92MShwc3NoWyc5YTA0ZjA3OS05ODQwLTQyODYtYWI5Mi1lNjViZTA4ODVmOTUnXSk7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnRFJNLCBhMTogJyArIGExKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdEUk0sIGEyOiAnICsgYTIpO1xyXG4gICAgLy8gRURcclxuXHJcbiAgICB0aGlzLnJlcXVlc3RLZXlTeXN0ZW1BY2Nlc3MoKTtcclxufTtcclxuXHJcblByb3RlY3Rpb25Nb2RlbF8yMUphbjIwMTUucHJvdG90eXBlLm9uU2Vzc2lvbk1lc3NhZ2UgPSBmdW5jdGlvbiAoZXYpIHtcclxuICAgIGNvbnNvbGUubG9nKCdtZXNzYWdlIGV2ZW50OiAnLCBldik7XHJcbiAgICAvLyBJZiB5b3UgaGFkIGEgbGljZW5zZSBzZXJ2ZXIsIHlvdSB3b3VsZCBtYWtlIGFuIGFzeW5jaHJvbm91cyBYTUxIdHRwUmVxdWVzdFxyXG4gICAgLy8gd2l0aCBldmVudC5tZXNzYWdlIGFzIHRoZSBib2R5LiAgVGhlIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlciwgYXMgYVxyXG4gICAgLy8gVWludDhBcnJheSwgd291bGQgdGhlbiBiZSBwYXNzZWQgdG8gc2Vzc2lvbi51cGRhdGUoKS5cclxuICAgIC8vIEluc3RlYWQsIHdlIHdpbGwgZ2VuZXJhdGUgdGhlIGxpY2Vuc2Ugc3luY2hyb25vdXNseSBvbiB0aGUgY2xpZW50LCB1c2luZ1xyXG4gICAgLy8gdGhlIGhhcmQtY29kZWQgS0VZIGF0IHRoZSB0b3AuXHJcblxyXG4gICAgY29uc29sZS5sb2coJ3Nlc3Npb24gbWVzc2FnZSwgbGVuZ3RoOiAnICsgZXYubWVzc2FnZS5ieXRlTGVuZ3RoKTtcclxuICAgIGNvbnNvbGUubG9nKCdzZXNzaW9uIG1lc3NhZ2UsIGRhdGE6JywgU3RyaW5nVXRpbHMuYWIyc3RyX3YxKGV2Lm1lc3NhZ2UpKTtcclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgbGljZW5zZSBzZXJ2ZXIgVVJMXHJcbiAgICBsZXQgbGFVcmwgPSB0aGlzLnN0cmVhbUluZm9fLmRybS5sYVVybDtcclxuXHJcbiAgICBpZiAoIWxhVXJsKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0RSTTogbm8gbGljZW5zZSB1cmwnKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RyZWFtSW5mb18uZHJtLnR5cGUgPT09ICdvcmcudzMuY2xlYXJrZXknKSB7XHJcbiAgICAgICAgICAgIGxldCBsaWNlbnNlID0gZ2VuZXJhdGVMaWNlbnNlKGV2ZW50Lm1lc3NhZ2UsIHRoaXMuc3RyZWFtSW5mb18uZHJtLmtleSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsaWNlbnNlOiAnLCBsaWNlbnNlKTtcclxuICAgICAgICAgICAgbGV0IHNlc3Npb24gPSBldi50YXJnZXQ7XHJcbiAgICAgICAgICAgIHNlc3Npb24udXBkYXRlKGxpY2Vuc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgLy9cclxuICAgIC8vIEFsbCByZW1haW5pbmcga2V5IHN5c3RlbSBzY2VuYXJpb3MgcmVxdWlyZSBhIHJlcXVlc3QgdG8gYSByZW1vdGUgbGljZW5zZSBzZXJ2ZXJcclxuICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHJcbiAgICB4aHIub3BlbignUE9TVCcsIGxhVXJsLCB0cnVlKTtcclxuICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xyXG4gICAgeGhyLnRpbWVvdXQgPSAwO1xyXG4gICAgeGhyLndpdGhDcmVkZW50aWFscyA9IGZhbHNlO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCdEUk06IG9wZW4gbWV0aG9kOiBQT1NUJyk7XHJcbiAgICBjb25zb2xlLmxvZygnRFJNOiB0aW1lb3V0OiAnICsgeGhyLnRpbWVvdXQpO1xyXG4gICAgY29uc29sZS5sb2coJ0RSTTogd2l0aENyZWRlbnRpYWxzOiAnICsgeGhyLndpdGhDcmVkZW50aWFscyk7XHJcbiAgICBjb25zb2xlLmxvZygnRFJNOiBtZXNzYWdlOiAnICsgU3RyaW5nVXRpbHMuYWIyc3RyX3YxKGV2Lm1lc3NhZ2UpKTtcclxuICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PSAyMDApIHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSB0aGlzLnJlc3BvbnNlO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0RSTTogcmVxdWVzdCByZXNwb25zZSBsZW5ndGg6ICcgKyBkYXRhLmJ5dGVMZW5ndGgpO1xyXG4gICAgICAgICAgICBzZWxmLnNlc3Npb25fLnVwZGF0ZShuZXcgVWludDhBcnJheSh0aGlzLnJlc3BvbnNlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHhoci5vbmFib3J0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2xpY2Vuc2UgcmVxdWVzdCBhYm9ydCcpO1xyXG4gICAgfTtcclxuICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2xpY2Vuc2UgcmVxdWVzdCBlcnJvcicpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBCRFxyXG4gICAgdmFyIHVwZGF0ZUhlYWRlcnMgPSBmdW5jdGlvbiAoaGVhZGVycykge1xyXG4gICAgICAgIHZhciBrZXk7XHJcbiAgICAgICAgaWYgKGhlYWRlcnMpIHtcclxuICAgICAgICAgICAgZm9yIChrZXkgaW4gaGVhZGVycykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0RSTToga2V5OiAnICsga2V5ICsgJywgdmFsdWU6ICcgKyBoZWFkZXJzW2tleV0pO1xyXG4gICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCBoZWFkZXJzW2tleV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB1cGRhdGVIZWFkZXJzKHRoaXMuc3RyZWFtSW5mb18uZHJtLmhlYWRlcnMpO1xyXG4gICAgLy8gRURcclxuXHJcbiAgICAvL3hoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAndGV4dC94bWw7IGNoYXJzZXQ9dXRmLTgnKTtcclxuICAgIC8veGhyLnNldFJlcXVlc3RIZWFkZXIoJ1NPQVBBY3Rpb24nLCAnXFxcImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vRFJNLzIwMDcvMDMvcHJvdG9jb2xzL0FjcXVpcmVMaWNlbnNlXFxcIicpO1xyXG4gICAgbGV0IGJvZHkgPSB0aGlzLmtleVN5c3RlbV8uZ2V0TGljZW5zZVJlcXVlc3RGcm9tTWVzc2FnZShldi5tZXNzYWdlKTtcclxuICAgIGNvbnNvbGUubG9nKCdib2R5OiAnLCBib2R5KTtcclxuICAgIHhoci5zZW5kKGJvZHkpO1xyXG59O1xyXG5cclxuUHJvdGVjdGlvbk1vZGVsXzIxSmFuMjAxNS5wcm90b3R5cGUub25TZXNzaW9uQ2hhbmdlID0gZnVuY3Rpb24gKGV2KSB7XHJcbiAgICBsZXQgYT0yO1xyXG4gICAgbGV0IGI9YTtcclxufTtcclxuXHJcblByb3RlY3Rpb25Nb2RlbF8yMUphbjIwMTUucHJvdG90eXBlLnNldERybUluZm8gPSBmdW5jdGlvbiAoc3RyZWFtSW5mbykge1xyXG4gICAgY29uc29sZS5sb2coJy0tc2V0RHJtSW5mbyBpbiAyMUphbjIwMTUtLScpO1xyXG4gICAgdGhpcy5zdHJlYW1JbmZvXyA9IHN0cmVhbUluZm87XHJcbn07XHJcblxyXG5Qcm90ZWN0aW9uTW9kZWxfMjFKYW4yMDE1LnByb3RvdHlwZS5yZXF1ZXN0S2V5U3lzdGVtQWNjZXNzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IGF1ZGlvQ2FwYWJpbGl0aWVzID0gW107XHJcbiAgICBsZXQgdmlkZW9DYXBhYmlsaXRpZXMgPSBbXTtcclxuICAgIGxldCByb2J1c3RuZXNzTGV2ZWwgPSAnJzsgLy8gU1dfU0VDVVJFX0NSWVBUT1xyXG4gICAgaWYgKHRoaXMuc3RyZWFtSW5mb18uYXVkaW9Db2RlYykge1xyXG4gICAgICAgIGF1ZGlvQ2FwYWJpbGl0aWVzLnB1c2gobmV3IE1lZGlhQ2FwYWJpbGl0eSh0aGlzLnN0cmVhbUluZm9fLmF1ZGlvQ29kZWMsIHJvYnVzdG5lc3NMZXZlbCkpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuc3RyZWFtSW5mb18udmlkZW9Db2RlYykge1xyXG4gICAgICAgIHZpZGVvQ2FwYWJpbGl0aWVzLnB1c2gobmV3IE1lZGlhQ2FwYWJpbGl0eSh0aGlzLnN0cmVhbUluZm9fLnZpZGVvQ29kZWMsIHJvYnVzdG5lc3NMZXZlbCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBrc0NvbmZpZyA9IG5ldyBLZXlTeXN0ZW1Db25maWd1cmF0aW9uKFxyXG4gICAgICAgIGF1ZGlvQ2FwYWJpbGl0aWVzLCB2aWRlb0NhcGFiaWxpdGllcywgJ29wdGlvbmFsJywgJ29wdGlvbmFsJywgWyd0ZW1wb3JhcnknXSk7XHJcblxyXG4gICAgbGV0IGNvbmZpZ3NfID0gW107XHJcbiAgICBjb25maWdzXy5wdXNoKGtzQ29uZmlnKTtcclxuXHJcbiAgICAvLyBCRFxyXG4gICAgLy9kdW1wS1NDb25maWcodGhpcy5rZXlTeXN0ZW1fLnN5c3RlbVN0cmluZywga3NDb25maWcpO1xyXG4gICAgLy8gRURcclxuXHJcbiAgICBpZiAodGhpcy5wcm9taXNlQWN0aW9uXykgeyByZXR1cm47IH1cclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB0aGlzLnByb21pc2VBY3Rpb25fID0gbmF2aWdhdG9yLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcyhzZWxmLmtleVN5c3RlbV8uc3lzdGVtU3RyaW5nLCBjb25maWdzX1xyXG4gICAgKS50aGVuKGZ1bmN0aW9uKGtleVN5c3RlbUFjY2Vzcykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSDVQbGF5ZXIsIHJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcyBpcyBvaycpO1xyXG4gICAgICAgICAgICByZXR1cm4ga2V5U3lzdGVtQWNjZXNzLmNyZWF0ZU1lZGlhS2V5cygpO1xyXG4gICAgICAgIH1cclxuICAgICkudGhlbihmdW5jdGlvbihtZWRpYUtleXMpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnSDVQbGF5ZXIsIGNyZWF0ZU1lZGlhS2V5cyBpcyBvaywgbWVkaWFLZXlzOiAnICsgbWVkaWFLZXlzKTtcclxuICAgICAgICBsZXQgcmV0ID0gc2VsZi5tZWRpYV8uc2V0TWVkaWFLZXlzKG1lZGlhS2V5cyk7XHJcbiAgICAgICAgcmV0dXJuIHJldDtcclxuICAgIH0pLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gY3JlYXRlIHNlc3Npb25cclxuICAgICAgICBsZXQgbWVkaWFLZXlzID0gc2VsZi5tZWRpYV8ubWVkaWFLZXlzO1xyXG4gICAgICAgIHNlbGYuc2Vzc2lvbl8gPSBtZWRpYUtleXMuY3JlYXRlU2Vzc2lvbigndGVtcG9yYXJ5Jyk7XHJcbiAgICAgICAgc2VsZi5zZXNzaW9uXy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgc2VsZi5vblNlc3Npb25NZXNzYWdlLmJpbmQoc2VsZiksIGZhbHNlKTtcclxuICAgICAgICBzZWxmLnNlc3Npb25fLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXN0YXR1c2VzY2hhbmdlJywgc2VsZi5vblNlc3Npb25DaGFuZ2UuYmluZChzZWxmKSwgZmFsc2UpO1xyXG4gICAgICAgIHNlbGYuc2Vzc2lvbl8uZ2VuZXJhdGVSZXF1ZXN0KHNlbGYuaW5pdERhdGFUeXBlXywgc2VsZi5pbml0RGF0YV8pLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZ2VuZXJhdGVSZXF1ZXN0IGlzIG9rJyk7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdnZW5lcmF0ZVJlcXVlc3QgZmFpbGVkIGF0OiAnLCBlcnJvcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzZXQgdXAgTWVkaWFLZXlzJywgZXJyb3IpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBQcm90ZWN0aW9uTW9kZWxfMjFKYW4yMDE1O1xyXG5cclxuIiwiaW1wb3J0IEZhY3RvcnlNYWtlciBmcm9tICcuLi8uLi9jb3JlL0ZhY3RvcnlNYWtlcic7XHJcbmltcG9ydCBTdHJpbmdVdGlscyBmcm9tICcuLi8uLi91dGlscy9zdHJpbmdfdXRpbHMnO1xyXG5cclxuaW1wb3J0IE1lZGlhQ2FwYWJpbGl0eSBmcm9tICcuLi92by9NZWRpYUNhcGFiaWxpdHknO1xyXG5pbXBvcnQgS2V5U3lzdGVtQ29uZmlndXJhdGlvbiBmcm9tICcuLi92by9LZXlTeXN0ZW1Db25maWd1cmF0aW9uJztcclxuaW1wb3J0IEtTVXRpbHMgZnJvbSAnLi4vdm8vS1NVdGlscyc7XHJcbmltcG9ydCBDb21tb25FbmNyeXB0aW9uIGZyb20gJy4uL3ZvL0NvbW1vbkVuY3J5cHRpb24nO1xyXG5pbXBvcnQgQkFTRTY0IGZyb20gJy4uLy4uL2V4dGVybmFscy9iYXNlNjQnO1xyXG5cclxuaW1wb3J0IEtleVN5c3RlbVBsYXlSZWFkeSBmcm9tICcuLi9kcm0vS2V5U3lzdGVtUGxheVJlYWR5JztcclxuXHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiBNb3N0IHJlY2VudCBFTUUgaW1wbGVtZW50YXRpb25cclxuICpcclxuICogSW1wbGVtZW50ZWQgYnkgSUUxMVxyXG4gKi9cclxuZnVuY3Rpb24gUHJvdGVjdGlvbk1vZGVsXzNGZWIyMDE0KG1lZGlhKSB7XHJcbiAgICBsZXQgY29udGV4dF8gPSB0aGlzLmNvbnRleHQ7XHJcbiAgICBsZXQgaW5zdGFuY2VfID0gbnVsbDtcclxuICAgIGxldCBtZWRpYV8gPSBudWxsO1xyXG4gICAgbGV0IHN0cmVhbUluZm9fID0gbnVsbDtcclxuICAgIGxldCBzZXNzaW9uXyA9IG51bGw7XHJcbiAgICBsZXQga2V5U3lzdGVtXyA9IG51bGw7XHJcbiAgICBsZXQgbWVkaWFLZXlzXyA9IG51bGw7XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGF0dGFjaE1lZGlhKG1lZGlhKSB7XHJcbiAgICAgICAgbWVkaWFfID0gbWVkaWE7XHJcblxyXG4gICAgICAgIG1lZGlhXy5hZGRFdmVudExpc3RlbmVyKCdtc25lZWRrZXknLCBvbk5lZWRLZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRldGFjaE1lZGlhKCkge1xyXG4gICAgICAgIGlmIChtZWRpYV8pIHtcclxuICAgICAgICAgICAgbWVkaWFfLmFkZEV2ZW50TGlzdGVuZXIoJ21zbmVlZGtleScsIG9uTmVlZEtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldEtleVN5c3RlbShrZXlTeXN0ZW0pIHtcclxuICAgICAgICBrZXlTeXN0ZW1fID0ga2V5U3lzdGVtO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldERybUluZm8oc3RyZWFtSW5mbykge1xyXG4gICAgICAgIHN0cmVhbUluZm9fID0gc3RyZWFtSW5mbztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvbk5lZWRLZXkoZXYpIHtcclxuICAgICAgICBsZXQgaW5pdERhdGFUeXBlID0gJ2NlbmMnO1xyXG4gICAgICAgIC8vIFNvbWUgYnJvd3NlcnMgcmV0dXJuIGluaXREYXRhIGFzIFVpbnQ4QXJyYXkgKElFKSwgc29tZSBhcyBBcnJheUJ1ZmZlciAoQ2hyb21lKS5cclxuICAgICAgICAvLyBDb252ZXJ0IHRvIEFycmF5QnVmZmVyXHJcbiAgICAgICAgdmFyIGFiSW5pdERhdGEgPSBldi5pbml0RGF0YTtcclxuICAgICAgICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGFiSW5pdERhdGEpKSB7XHJcbiAgICAgICAgICAgIGFiSW5pdERhdGEgPSBhYkluaXREYXRhLmJ1ZmZlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBwc3NoID0gQ29tbW9uRW5jcnlwdGlvbi5wYXJzZVBTU0hMaXN0KGFiSW5pdERhdGEpO1xyXG4gICAgICAgIGxldCB1dWlkID0gS1NVdGlscy5HZXRLU1VVSUQoc3RyZWFtSW5mb18uZHJtLnR5cGUpO1xyXG5cclxuICAgICAgICBsZXQgYWN0dWFsSW5pdERhdGEgPSBwc3NoW3V1aWRdO1xyXG5cclxuICAgICAgICAvLyBzZWxlY3Qga2V5IHN5c3RlbVxyXG4gICAgICAgIGlmIChtZWRpYV8ucmVhZHlTdGF0ZSA+PSAxKSB7XHJcbiAgICAgICAgICAgIG1lZGlhS2V5c18gPSBuZXcgd2luZG93Lk1TTWVkaWFLZXlzKGtleVN5c3RlbV8uc3lzdGVtU3RyaW5nKTtcclxuICAgICAgICAgICAgbWVkaWFfLm1zU2V0TWVkaWFLZXlzKG1lZGlhS2V5c18pO1xyXG5cclxuICAgICAgICAgICAgc2Vzc2lvbl8gPSBtZWRpYUtleXNfLmNyZWF0ZVNlc3Npb24oc3RyZWFtSW5mb18udmlkZW9Db2RlYywgbmV3IFVpbnQ4QXJyYXkoYWJJbml0RGF0YSkpO1xyXG4gICAgICAgICAgICBzZXNzaW9uXy5hZGRFdmVudExpc3RlbmVyKCdtc2tleWVycm9yJywgb25TZXNzaW9uRXJyb3IpO1xyXG4gICAgICAgICAgICBzZXNzaW9uXy5hZGRFdmVudExpc3RlbmVyKCdtc2tleW1lc3NhZ2UnLCBvblNlc3Npb25NZXNzYWdlKTtcclxuICAgICAgICAgICAgc2Vzc2lvbl8uYWRkRXZlbnRMaXN0ZW5lcignbXNrZXlhZGRlZCcsIG9uU2Vzc2lvbkFkZGVkKTtcclxuICAgICAgICAgICAgc2Vzc2lvbl8uYWRkRXZlbnRMaXN0ZW5lcignbXNrZXljbG9zZScsIG9uU2Vzc2lvbkNsb3NlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25TZXNzaW9uRXJyb3IoZXYpIHtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvblNlc3Npb25NZXNzYWdlKGV2KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJEUk06IEtleSBNZXNzYWdlXCIpO1xyXG5cclxuICAgICAgICBsZXQgYWJNZXNzYWdlID0gZXYubWVzc2FnZTtcclxuICAgICAgICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KGFiTWVzc2FnZSkpIHtcclxuICAgICAgICAgICAgYWJNZXNzYWdlID0gYWJNZXNzYWdlLmJ1ZmZlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGxpY2Vuc2UgcmVxdWVzdCBoZXJlXHJcbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgIHhoci5vcGVuKCdQT1NUJywgc3RyZWFtSW5mb18uZHJtLmxhVXJsLCB0cnVlKTtcclxuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcclxuICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICBzZXNzaW9uXy51cGRhdGUobmV3IFVpbnQ4QXJyYXkodGhpcy5yZXNwb25zZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHhoci5vbmFib3J0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEUk06IHhociBhYm9ydCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0RSTTogeGhyIGVycm9yJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBcclxuICAgICAgICBsZXQgaGVhZGVycyA9IGtleVN5c3RlbV8uZ2V0UmVxdWVzdEhlYWRlcnNGcm9tTWVzc2FnZShhYk1lc3NhZ2UpO1xyXG4gICAgICAgIGZvciAobGV0IGtleSBpbiBoZWFkZXJzKSB7XHJcbiAgICAgICAgICAgIGlmICgnYXV0aG9yaXphdGlvbicgPT09IGtleS50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIGhlYWRlcnNba2V5XSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB4aHIuc2VuZChrZXlTeXN0ZW1fLmdldExpY2Vuc2VSZXF1ZXN0RnJvbU1lc3NhZ2UoYWJNZXNzYWdlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25TZXNzaW9uQWRkZWQoZXYpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnRFJNOiBLZXkgYWRkZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvblNlc3Npb25DbG9zZShldikge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZXF1ZXN0S2V5U3lzdGVtQWNjZXNzKCkge1xyXG4gICAgICAgIGxldCBrc1N0cmluZyA9IEtTVXRpbHMuR2V0S1NTdHJpbmcoc3RyZWFtSW5mb18uZHJtLnR5cGUpO1xyXG5cclxuICAgICAgICBsZXQgYXVkaW9DYXBhYmlsaXRpZXMgPSBbXTtcclxuICAgICAgICBsZXQgdmlkZW9DYXBhYmlsaXRpZXMgPSBbXTtcclxuICAgICAgICBsZXQgcm9idXN0bmVzc0xldmVsID0gJyc7XHJcbiAgICAgICAgaWYgKHN0cmVhbUluZm9fLmF1ZGlvQ29kZWMpIHtcclxuICAgICAgICAgICAgYXVkaW9DYXBhYmlsaXRpZXMucHVzaChuZXcgTWVkaWFDYXBhYmlsaXR5KHN0cmVhbUluZm9fLmF1ZGlvQ29kZWMsIHJvYnVzdG5lc3NMZXZlbCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3RyZWFtSW5mb18udmlkZW9Db2RlYykge1xyXG4gICAgICAgICAgICB2aWRlb0NhcGFiaWxpdGllcy5wdXNoKG5ldyBNZWRpYUNhcGFiaWxpdHkoc3RyZWFtSW5mb18udmlkZW9Db2RlYywgcm9idXN0bmVzc0xldmVsKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQga3NDb25maWcgPSBuZXcgS2V5U3lzdGVtQ29uZmlndXJhdGlvbihcclxuICAgICAgICAgIGF1ZGlvQ2FwYWJpbGl0aWVzLCB2aWRlb0NhcGFiaWxpdGllcywgJ29wdGlvbmFsJywgJ29wdGlvbmFsJywgWyd0ZW1wb3JhcnknXSk7XHJcblxyXG4gICAgICAgIGxldCBjb25maWdzXyA9IFtdO1xyXG4gICAgICAgIGNvbmZpZ3NfLnB1c2goa3NDb25maWcpO1xyXG5cclxuICAgICAgICAvLyBjaGVjayBpcyBzdXBwb3J0ZWQ/XHJcbiAgICAgICAgZm9yIChsZXQgY29uZmlnSWR4ID0gMDsgY29uZmlnSWR4IDwgY29uZmlnc18ubGVuZ3RoOyBjb25maWdJZHggKyspIHtcclxuICAgICAgICAgICAgbGV0IHZpZGVvcyA9IGNvbmZpZ3NfW2NvbmZpZ0lkeF0udmlkZW9DYXBhYmlsaXRpZXM7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBMb29rIGZvciBzdXBwb3J0ZWQgdmlkZW8gY29udGFpbmVyL2NvZGVjc1xyXG4gICAgICAgICAgICBpZiAodmlkZW9zICYmIHZpZGVvcy5sZW5ndGggIT09IDApIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IHZpZGVvSWR4ID0gMDsgdmlkZW9JZHggPCB2aWRlb3MubGVuZ3RoOyB2aWRlb0lkeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvd1snTVNNZWRpYUtleXMnXS5pc1R5cGVTdXBwb3J0ZWQoa3NTdHJpbmcsIHZpZGVvc1t2aWRlb0lkeF0uY29udGVudFR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gXHJcbiAgICAgICAgc2VsZWN0S2V5U3lzdGVtKGtzU3RyaW5nKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZWxlY3RLZXlTeXN0ZW0oa3NTdHJpbmcpIHtcclxuICAgICAgICBsZXQgbWVkaWFLZXlzID0gbmV3IHdpbmRvd1snTVNNZWRpYUtleXMnXShrc1N0cmluZyk7XHJcblxyXG4gICAgICAgIGlmIChtZWRpYV8ucmVhZHlTdGF0ZSA+PSAxKSB7XHJcbiAgICAgICAgICAgIG1lZGlhXy5tc1NldE1lZGlhS2V5cyhtZWRpYUtleXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVLZXlTZXNzaW9uKGluaXREYXRhKSB7XHJcbiAgICB9XHJcblxyXG4gICAgaW5zdGFuY2VfID0ge1xyXG4gICAgICAgIGF0dGFjaE1lZGlhOiBhdHRhY2hNZWRpYSxcclxuICAgICAgICBkZXRhY2hNZWRpYTogZGV0YWNoTWVkaWEsXHJcbiAgICAgICAgc2V0S2V5U3lzdGVtOiBzZXRLZXlTeXN0ZW0sXHJcbiAgICAgICAgc2V0RHJtSW5mbzogc2V0RHJtSW5mb1xyXG4gICAgfTtcclxuICAgIHJldHVybiBpbnN0YW5jZV87XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBQcm90ZWN0aW9uTW9kZWxfM0ZlYjIwMTQ7XHJcblxyXG4iLCIvKipcbiAqIFRoZSBjb3B5cmlnaHQgaW4gdGhpcyBzb2Z0d2FyZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsXG4gKiBpbmNsdWRlZCBiZWxvdy4gVGhpcyBzb2Z0d2FyZSBtYXkgYmUgc3ViamVjdCB0byBvdGhlciB0aGlyZCBwYXJ0eSBhbmQgY29udHJpYnV0b3JcbiAqIHJpZ2h0cywgaW5jbHVkaW5nIHBhdGVudCByaWdodHMsIGFuZCBubyBzdWNoIHJpZ2h0cyBhcmUgZ3JhbnRlZCB1bmRlciB0aGlzIGxpY2Vuc2UuXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLCBEYXNoIEluZHVzdHJ5IEZvcnVtLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLFxuICogYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICogICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXG4gKiAgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gKiAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3JcbiAqICBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICogICogTmVpdGhlciB0aGUgbmFtZSBvZiBEYXNoIEluZHVzdHJ5IEZvcnVtIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZVxuICogIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIEFTIElTIEFORCBBTllcbiAqICBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEXG4gKiAgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELlxuICogIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsXG4gKiAgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVFxuICogIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAqICBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcbiAqICBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpXG4gKiAgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcbiAqICBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuXG5pbXBvcnQgQkFTRTY0IGZyb20gJy4uLy4uL2V4dGVybmFscy9iYXNlNjQnO1xuXG5jbGFzcyBDb21tb25FbmNyeXB0aW9uIHtcbiAgICAvKipcbiAgICAgKiBGaW5kIGFuZCByZXR1cm4gdGhlIENvbnRlbnRQcm90ZWN0aW9uIGVsZW1lbnQgaW4gdGhlIGdpdmVuIGFycmF5XG4gICAgICogdGhhdCBpbmRpY2F0ZXMgc3VwcG9ydCBmb3IgTVBFRyBDb21tb24gRW5jcnlwdGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheX0gY3BBcnJheSBhcnJheSBvZiBjb250ZW50IHByb3RlY3Rpb24gZWxlbWVudHNcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fG51bGx9IHRoZSBDb21tb24gRW5jcnlwdGlvbiBjb250ZW50IHByb3RlY3Rpb24gZWxlbWVudCBvclxuICAgICAqIG51bGwgaWYgb25lIHdhcyBub3QgZm91bmRcbiAgICAgKi9cbiAgICBzdGF0aWMgZmluZENlbmNDb250ZW50UHJvdGVjdGlvbihjcEFycmF5KSB7XG4gICAgICAgIHZhciByZXRWYWwgPSBudWxsO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNwQXJyYXkubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBjcCA9IGNwQXJyYXlbaV07XG4gICAgICAgICAgICBpZiAoY3Auc2NoZW1lSWRVcmkudG9Mb3dlckNhc2UoKSA9PT0gJ3VybjptcGVnOmRhc2g6bXA0cHJvdGVjdGlvbjoyMDExJyAmJlxuICAgICAgICAgICAgICAgICAgICBjcC52YWx1ZS50b0xvd2VyQ2FzZSgpID09PSAnY2VuYycpXG4gICAgICAgICAgICAgICAgcmV0VmFsID0gY3A7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldFZhbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGp1c3QgdGhlIGRhdGEgcG9ydGlvbiBvZiBhIHNpbmdsZSBQU1NIXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBwc3NoIC0gdGhlIFBTU0hcbiAgICAgKiBAcmV0dXJuIHtBcnJheUJ1ZmZlcn0gZGF0YSBwb3J0aW9uIG9mIHRoZSBQU1NIXG4gICAgICovXG4gICAgc3RhdGljIGdldFBTU0hEYXRhKHBzc2gpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IDg7IC8vIEJveCBzaXplIGFuZCB0eXBlIGZpZWxkc1xuICAgICAgICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyhwc3NoKTtcblxuICAgICAgICAvLyBSZWFkIHZlcnNpb25cbiAgICAgICAgdmFyIHZlcnNpb24gPSB2aWV3LmdldFVpbnQ4KG9mZnNldCk7XG5cbiAgICAgICAgb2Zmc2V0ICs9IDIwOyAvLyBWZXJzaW9uICgxKSwgZmxhZ3MgKDMpLCBzeXN0ZW0gSUQgKDE2KVxuXG4gICAgICAgIGlmICh2ZXJzaW9uID4gMCkge1xuICAgICAgICAgICAgb2Zmc2V0ICs9IDQgKyAoMTYgKiB2aWV3LmdldFVpbnQzMihvZmZzZXQpKTsgLy8gS2V5IElEIGNvdW50ICg0KSBhbmQgQWxsIGtleSBJRHMgKDE2KmNvdW50KVxuICAgICAgICB9XG5cbiAgICAgICAgb2Zmc2V0ICs9IDQ7IC8vIERhdGEgc2l6ZVxuICAgICAgICByZXR1cm4gcHNzaC5zbGljZShvZmZzZXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIFBTU0ggYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBrZXkgc3lzdGVtIGZyb20gdGhlIGNvbmNhdGVuYXRlZFxuICAgICAqIGxpc3Qgb2YgUFNTSCBib3hlcyBpbiB0aGUgZ2l2ZW4gaW5pdERhdGFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7S2V5U3lzdGVtfSBrZXlTeXN0ZW0gdGhlIGRlc2lyZWRcbiAgICAgKiBrZXkgc3lzdGVtXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gaW5pdERhdGEgJ2NlbmMnIGluaXRpYWxpemF0aW9uIGRhdGEuICBDb25jYXRlbmF0ZWQgbGlzdCBvZiBQU1NILlxuICAgICAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcnxudWxsfSBUaGUgUFNTSCBib3ggZGF0YSBjb3JyZXNwb25kaW5nIHRvIHRoZSBnaXZlbiBrZXkgc3lzdGVtLCBudWxsIGlmIG5vdCBmb3VuZFxuICAgICAqIG9yIG51bGwgaWYgYSB2YWxpZCBhc3NvY2lhdGlvbiBjb3VsZCBub3QgYmUgZm91bmQuXG4gICAgICovXG4gICAgc3RhdGljIGdldFBTU0hGb3JLZXlTeXN0ZW0oa2V5U3lzdGVtLCBpbml0RGF0YSkge1xuICAgICAgICB2YXIgcHNzaExpc3QgPSBDb21tb25FbmNyeXB0aW9uLnBhcnNlUFNTSExpc3QoaW5pdERhdGEpO1xuICAgICAgICBpZiAocHNzaExpc3QuaGFzT3duUHJvcGVydHkoa2V5U3lzdGVtLnV1aWQudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBwc3NoTGlzdFtrZXlTeXN0ZW0udXVpZC50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSBhIHN0YW5kYXJkIGNvbW1vbiBlbmNyeXB0aW9uIFBTU0ggd2hpY2ggY29udGFpbnMgYSBzaW1wbGVcbiAgICAgKiBiYXNlNjQtZW5jb2Rpbmcgb2YgdGhlIGluaXQgZGF0YVxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNwRGF0YSB0aGUgQ29udGVudFByb3RlY3Rpb24gZWxlbWVudFxuICAgICAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcnxudWxsfSB0aGUgaW5pdCBkYXRhIG9yIG51bGwgaWYgbm90IGZvdW5kXG4gICAgICovXG4gICAgc3RhdGljIHBhcnNlSW5pdERhdGFGcm9tQ29udGVudFByb3RlY3Rpb24oY3BEYXRhKSB7XG4gICAgICAgIGlmICgncHNzaCcgaW4gY3BEYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gQkFTRTY0LmRlY29kZUFycmF5KGNwRGF0YS5wc3NoLl9fdGV4dCkuYnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBsaXN0IG9mIFBTU0ggYm94ZXMgaW50byBrZXlzeXN0ZW0tc3BlY2lmaWMgUFNTSCBkYXRhXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBkYXRhIC0gdGhlIGNvbmNhdGVuYXRlZCBsaXN0IG9mIFBTU0ggYm94ZXMgYXMgcHJvdmlkZWQgYnlcbiAgICAgKiBDRE0gYXMgaW5pdGlhbGl6YXRpb24gZGF0YSB3aGVuIENvbW1vbkVuY3J5cHRpb24gY29udGVudCBpcyBkZXRlY3RlZFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R8QXJyYXl9IGFuIG9iamVjdCB0aGF0IGhhcyBhIHByb3BlcnR5IG5hbWVkIGFjY29yZGluZyB0byBlYWNoIG9mXG4gICAgICogdGhlIGRldGVjdGVkIGtleSBzeXN0ZW0gVVVJRHMgKGUuZy4gMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMClcbiAgICAgKiBhbmQgYSBBcnJheUJ1ZmZlciAodGhlIGVudGlyZSBQU1NIIGJveCkgYXMgdGhlIHByb3BlcnR5IHZhbHVlXG4gICAgICovXG4gICAgLy8geW91IGNhbiByZWZlciBodHRwczovL3d3dy53My5vcmcvVFIvZW1lLWluaXRkYXRhLWNlbmMvIGZvciBtb3JlIGRldGFpbC5cbiAgICBzdGF0aWMgcGFyc2VQU1NITGlzdChkYXRhKSB7XG5cbiAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gW107XG5cbiAgICAgICAgdmFyIGR2ID0gbmV3IERhdGFWaWV3KGRhdGEpO1xuICAgICAgICB2YXIgZG9uZSA9IGZhbHNlO1xuICAgICAgICB2YXIgcHNzaCA9IHt9O1xuXG4gICAgICAgIC8vIFRPRE86IE5lZWQgdG8gY2hlY2sgZXZlcnkgZGF0YSByZWFkIGZvciBlbmQgb2YgYnVmZmVyXG4gICAgICAgIHZhciBieXRlQ3Vyc29yID0gMDtcbiAgICAgICAgd2hpbGUgKCFkb25lKSB7XG5cbiAgICAgICAgICAgIHZhciBzaXplLFxuICAgICAgICAgICAgICAgIG5leHRCb3gsXG4gICAgICAgICAgICAgICAgdmVyc2lvbixcbiAgICAgICAgICAgICAgICBzeXN0ZW1JRCxcbiAgICAgICAgICAgICAgICBwc3NoRGF0YVNpemU7XG4gICAgICAgICAgICB2YXIgYm94U3RhcnQgPSBieXRlQ3Vyc29yO1xuXG4gICAgICAgICAgICBpZiAoYnl0ZUN1cnNvciA+PSBkdi5idWZmZXIuYnl0ZUxlbmd0aClcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgLyogQm94IHNpemUgKi9cbiAgICAgICAgICAgIHNpemUgPSBkdi5nZXRVaW50MzIoYnl0ZUN1cnNvcik7XG4gICAgICAgICAgICBuZXh0Qm94ID0gYnl0ZUN1cnNvciArIHNpemU7XG4gICAgICAgICAgICBieXRlQ3Vyc29yICs9IDQ7XG5cbiAgICAgICAgICAgIC8qIFZlcmlmeSBQU1NIICovXG4gICAgICAgICAgICBpZiAoZHYuZ2V0VWludDMyKGJ5dGVDdXJzb3IpICE9PSAweDcwNzM3MzY4KSB7XG4gICAgICAgICAgICAgICAgYnl0ZUN1cnNvciA9IG5leHRCb3g7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBieXRlQ3Vyc29yICs9IDQ7XG5cbiAgICAgICAgICAgIC8qIFZlcnNpb24gbXVzdCBiZSAwIG9yIDEgKi9cbiAgICAgICAgICAgIHZlcnNpb24gPSBkdi5nZXRVaW50OChieXRlQ3Vyc29yKTtcbiAgICAgICAgICAgIGlmICh2ZXJzaW9uICE9PSAwICYmIHZlcnNpb24gIT09IDEpIHtcbiAgICAgICAgICAgICAgICBieXRlQ3Vyc29yID0gbmV4dEJveDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ5dGVDdXJzb3IrKztcblxuICAgICAgICAgICAgYnl0ZUN1cnNvciArPSAzOyAvKiBza2lwIGZsYWdzICovXG5cbiAgICAgICAgICAgIC8vIDE2LWJ5dGUgVVVJRC9TeXN0ZW1JRFxuICAgICAgICAgICAgc3lzdGVtSUQgPSAnJztcbiAgICAgICAgICAgIHZhciBpLCB2YWw7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFsID0gZHYuZ2V0VWludDgoYnl0ZUN1cnNvciArIGkpLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICAgICAgICBzeXN0ZW1JRCArPSAodmFsLmxlbmd0aCA9PT0gMSkgPyAnMCcgKyB2YWwgOiB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBieXRlQ3Vyc29yICs9IDQ7XG4gICAgICAgICAgICBzeXN0ZW1JRCArPSAnLSc7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFsID0gZHYuZ2V0VWludDgoYnl0ZUN1cnNvciArIGkpLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICAgICAgICBzeXN0ZW1JRCArPSAodmFsLmxlbmd0aCA9PT0gMSkgPyAnMCcgKyB2YWwgOiB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBieXRlQ3Vyc29yICs9IDI7XG4gICAgICAgICAgICBzeXN0ZW1JRCArPSAnLSc7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFsID0gZHYuZ2V0VWludDgoYnl0ZUN1cnNvciArIGkpLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICAgICAgICBzeXN0ZW1JRCArPSAodmFsLmxlbmd0aCA9PT0gMSkgPyAnMCcgKyB2YWwgOiB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBieXRlQ3Vyc29yICs9IDI7XG4gICAgICAgICAgICBzeXN0ZW1JRCArPSAnLSc7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFsID0gZHYuZ2V0VWludDgoYnl0ZUN1cnNvciArIGkpLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICAgICAgICBzeXN0ZW1JRCArPSAodmFsLmxlbmd0aCA9PT0gMSkgPyAnMCcgKyB2YWwgOiB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBieXRlQ3Vyc29yICs9IDI7XG4gICAgICAgICAgICBzeXN0ZW1JRCArPSAnLSc7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFsID0gZHYuZ2V0VWludDgoYnl0ZUN1cnNvciArIGkpLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICAgICAgICBzeXN0ZW1JRCArPSAodmFsLmxlbmd0aCA9PT0gMSkgPyAnMCcgKyB2YWwgOiB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBieXRlQ3Vyc29yICs9IDY7XG5cbiAgICAgICAgICAgIHN5c3RlbUlEID0gc3lzdGVtSUQudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgICAgLyogUFNTSCBEYXRhIFNpemUgKi9cbiAgICAgICAgICAgIHBzc2hEYXRhU2l6ZSA9IGR2LmdldFVpbnQzMihieXRlQ3Vyc29yKTtcbiAgICAgICAgICAgIGJ5dGVDdXJzb3IgKz0gNDtcblxuICAgICAgICAgICAgLyogUFNTSCBEYXRhICovXG4gICAgICAgICAgICBwc3NoW3N5c3RlbUlEXSA9IGR2LmJ1ZmZlci5zbGljZShib3hTdGFydCwgbmV4dEJveCk7XG4gICAgICAgICAgICBieXRlQ3Vyc29yID0gbmV4dEJveDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwc3NoO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29tbW9uRW5jcnlwdGlvbjtcbiIsImNvbnN0IEtTVXRpbHMgPSB7XHJcbiAgICBHZXRLU1N0cmluZzogZnVuY3Rpb24oZHJtVHlwZSkge1xyXG4gICAgICAgIGlmIChkcm1UeXBlID09PSAnd2lkZXZpbmUnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnY29tLndpZGV2aW5lLmFscGhhJztcclxuICAgICAgICB9IGVsc2UgaWYgKGRybVR5cGUgPT09ICdwbGF5cmVhZHknKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnY29tLm1pY3Jvc29mdC5wbGF5cmVhZHknO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZHJtVHlwZSA9PT0gJ2Nocm9tZWNhc3QucGxheXJlYWR5Jykge1xyXG4gICAgICAgICAgICByZXR1cm4gJ2NvbS5jaHJvbWVjYXN0LnBsYXlyZWFkeSc7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBHZXRLU1VVSUQ6IGZ1bmN0aW9uKGRybVR5cGUpIHtcclxuICAgICAgICBpZiAoZHJtVHlwZSA9PT0gJ3dpZGV2aW5lJykge1xyXG4gICAgICAgICAgICByZXR1cm4gJ2VkZWY4YmE5LTc5ZDYtNGFjZS1hM2M4LTI3ZGNkNTFkMjFlZCc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkcm1UeXBlID09PSAncGxheXJlYWR5Jykge1xyXG4gICAgICAgICAgICByZXR1cm4gJzlhMDRmMDc5LTk4NDAtNDI4Ni1hYjkyLWU2NWJlMDg4NWY5NSc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkcm1UeXBlID09PSAnY2hyb21lY2FzdC5wbGF5cmVhZHknKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnOWEwNGYwNzktOTg0MC00Mjg2LWFiOTItZTY1YmUwODg1Zjk1JztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBLU1V0aWxzOyIsIi8qKlxuICogVGhlIGNvcHlyaWdodCBpbiB0aGlzIHNvZnR3YXJlIGlzIGJlaW5nIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSBCU0QgTGljZW5zZSxcbiAqIGluY2x1ZGVkIGJlbG93LiBUaGlzIHNvZnR3YXJlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZCBjb250cmlidXRvclxuICogcmlnaHRzLCBpbmNsdWRpbmcgcGF0ZW50IHJpZ2h0cywgYW5kIG5vIHN1Y2ggcmlnaHRzIGFyZSBncmFudGVkIHVuZGVyIHRoaXMgbGljZW5zZS5cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMsIERhc2ggSW5kdXN0cnkgRm9ydW0uXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sXG4gKiBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXNcbiAqICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbiAqICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vclxuICogIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKiAgKiBOZWl0aGVyIHRoZSBuYW1lIG9mIERhc2ggSW5kdXN0cnkgRm9ydW0gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbiAqICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlXG4gKiAgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgQVMgSVMgQU5EIEFOWVxuICogIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcbiAqICBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuXG4gKiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCxcbiAqICBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUXG4gKiAgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxuICogIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxuICogIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcbiAqICBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRVxuICogIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG5cbi8qKlxuICogQGNsYXNzZGVzYyBSZXByZXNlbnRzIGEgc2V0IG9mIGNvbmZpZ3VyYXRpb25zIHRoYXQgZGVzY3JpYmUgdGhlIGNhcGFiaWxpdGllcyBkZXNpcmVkIGZvclxuICogIHN1cHBvcnQgYnkgYSBnaXZlbiBDRE1cbiAqIEBpZ25vcmVcbiAqL1xuY2xhc3MgS2V5U3lzdGVtQ29uZmlndXJhdGlvbiB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtBcnJheS48TWVkaWFDYXBhYmlsaXR5Pn0gYXVkaW9DYXBhYmlsaXRpZXMgYXJyYXkgb2ZcbiAgICAgKiBkZXNpcmVkIGF1ZGlvIGNhcGFiaWxpdGllcy4gIEhpZ2hlciBwcmVmZXJlbmNlIGNhcGFiaWxpdGllcyBzaG91bGQgYmUgcGxhY2VkIGVhcmxpZXJcbiAgICAgKiBpbiB0aGUgYXJyYXkuXG4gICAgICogQHBhcmFtIHtBcnJheS48TWVkaWFDYXBhYmlsaXR5Pn0gdmlkZW9DYXBhYmlsaXRpZXMgYXJyYXkgb2ZcbiAgICAgKiBkZXNpcmVkIHZpZGVvIGNhcGFiaWxpdGllcy4gIEhpZ2hlciBwcmVmZXJlbmNlIGNhcGFiaWxpdGllcyBzaG91bGQgYmUgcGxhY2VkIGVhcmxpZXJcbiAgICAgKiBpbiB0aGUgYXJyYXkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRpc3RpbmN0aXZlSWRlbnRpZmllciBkZXNpcmVkIHVzZSBvZiBkaXN0aW5jdGl2ZSBpZGVudGlmaWVycy5cbiAgICAgKiBPbmUgb2YgXCJyZXF1aXJlZFwiLCBcIm9wdGlvbmFsXCIsIG9yIFwibm90LWFsbG93ZWRcIlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwZXJzaXN0ZW50U3RhdGUgZGVzaXJlZCBzdXBwb3J0IGZvciBwZXJzaXN0ZW50IHN0b3JhZ2Ugb2ZcbiAgICAgKiBrZXkgc3lzdGVtcy4gIE9uZSBvZiBcInJlcXVpcmVkXCIsIFwib3B0aW9uYWxcIiwgb3IgXCJub3QtYWxsb3dlZFwiXG4gICAgICogQHBhcmFtIHtBcnJheS48c3RyaW5nPn0gc2Vzc2lvblR5cGVzIExpc3Qgb2Ygc2Vzc2lvbiB0eXBlcyB0aGF0IG11c3RcbiAgICAgKiBiZSBzdXBwb3J0ZWQgYnkgdGhlIGtleSBzeXN0ZW1cbiAgICAgKiBAY2xhc3NcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihhdWRpb0NhcGFiaWxpdGllcywgdmlkZW9DYXBhYmlsaXRpZXMsIGRpc3RpbmN0aXZlSWRlbnRpZmllciwgcGVyc2lzdGVudFN0YXRlLCBzZXNzaW9uVHlwZXMpIHtcbiAgICAgICAgLy8gbmV3XG4gICAgICAgIC8vdGhpcy5pbml0RGF0YVR5cGVzID0gWyAna2V5aWRzJyBdO1xuICAgICAgICB0aGlzLmluaXREYXRhVHlwZXMgPSBbICdjZW5jJyBdO1xuXG4gICAgICAgIGlmIChhdWRpb0NhcGFiaWxpdGllcyAmJiBhdWRpb0NhcGFiaWxpdGllcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuYXVkaW9DYXBhYmlsaXRpZXMgPSBhdWRpb0NhcGFiaWxpdGllcztcbiAgICAgICAgfVxuICAgICAgICBpZiAodmlkZW9DYXBhYmlsaXRpZXMgJiYgdmlkZW9DYXBhYmlsaXRpZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnZpZGVvQ2FwYWJpbGl0aWVzID0gdmlkZW9DYXBhYmlsaXRpZXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXN0aW5jdGl2ZUlkZW50aWZpZXIgPSBkaXN0aW5jdGl2ZUlkZW50aWZpZXI7XG4gICAgICAgIHRoaXMucGVyc2lzdGVudFN0YXRlID0gcGVyc2lzdGVudFN0YXRlO1xuICAgICAgICB0aGlzLnNlc3Npb25UeXBlcyA9IHNlc3Npb25UeXBlcztcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEtleVN5c3RlbUNvbmZpZ3VyYXRpb247XG4iLCIvKipcbiAqIFRoZSBjb3B5cmlnaHQgaW4gdGhpcyBzb2Z0d2FyZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsXG4gKiBpbmNsdWRlZCBiZWxvdy4gVGhpcyBzb2Z0d2FyZSBtYXkgYmUgc3ViamVjdCB0byBvdGhlciB0aGlyZCBwYXJ0eSBhbmQgY29udHJpYnV0b3JcbiAqIHJpZ2h0cywgaW5jbHVkaW5nIHBhdGVudCByaWdodHMsIGFuZCBubyBzdWNoIHJpZ2h0cyBhcmUgZ3JhbnRlZCB1bmRlciB0aGlzIGxpY2Vuc2UuXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLCBEYXNoIEluZHVzdHJ5IEZvcnVtLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLFxuICogYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICogICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXG4gKiAgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gKiAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3JcbiAqICBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICogICogTmVpdGhlciB0aGUgbmFtZSBvZiBEYXNoIEluZHVzdHJ5IEZvcnVtIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZVxuICogIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIEFTIElTIEFORCBBTllcbiAqICBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEXG4gKiAgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELlxuICogIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsXG4gKiAgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVFxuICogIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAqICBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcbiAqICBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpXG4gKiAgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcbiAqICBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuLyoqXG4gKiBAY2xhc3NkZXNjIEEgbWVkaWEgY2FwYWJpbGl0eVxuICogQGlnbm9yZVxuICovXG5jbGFzcyBNZWRpYUNhcGFiaWxpdHkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50VHlwZSBNSU1FIHR5cGUgYW5kIGNvZGVjcyAoUkZDNjM4NilcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcm9idXN0bmVzc1xuICAgICAqIEBjbGFzc1xuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb250ZW50VHlwZSwgcm9idXN0bmVzcykge1xuICAgICAgICB0aGlzLmNvbnRlbnRUeXBlID0gY29udGVudFR5cGU7XG4gICAgICAgIHRoaXMucm9idXN0bmVzcyA9IHJvYnVzdG5lc3M7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNZWRpYUNhcGFiaWxpdHk7XG4iLCIvKipcclxuICogVGhlIGNvcHlyaWdodCBpbiB0aGlzIHNvZnR3YXJlIGlzIGJlaW5nIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSBCU0QgTGljZW5zZSxcclxuICogaW5jbHVkZWQgYmVsb3cuIFRoaXMgc29mdHdhcmUgbWF5IGJlIHN1YmplY3QgdG8gb3RoZXIgdGhpcmQgcGFydHkgYW5kIGNvbnRyaWJ1dG9yXHJcbiAqIHJpZ2h0cywgaW5jbHVkaW5nIHBhdGVudCByaWdodHMsIGFuZCBubyBzdWNoIHJpZ2h0cyBhcmUgZ3JhbnRlZCB1bmRlciB0aGlzIGxpY2Vuc2UuXHJcbiAqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxMywgRGFzaCBJbmR1c3RyeSBGb3J1bS5cclxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbixcclxuICogYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxyXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXNcclxuICogIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxyXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXHJcbiAqICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vclxyXG4gKiAgb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cclxuICogICogTmVpdGhlciB0aGUgbmFtZSBvZiBEYXNoIEluZHVzdHJ5IEZvcnVtIG5vciB0aGUgbmFtZXMgb2YgaXRzXHJcbiAqICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlXHJcbiAqICB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cclxuICpcclxuICogIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgQVMgSVMgQU5EIEFOWVxyXG4gKiAgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxyXG4gKiAgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELlxyXG4gKiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCxcclxuICogIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVRcclxuICogIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcclxuICogIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxyXG4gKiAgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKVxyXG4gKiAgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcclxuICogIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxyXG4gKi9cclxuXHJcbmltcG9ydCBJc29GaWxlIGZyb20gJy4vSXNvRmlsZSc7XHJcbmltcG9ydCBGYWN0b3J5TWFrZXIgZnJvbSAnLi4vY29yZS9GYWN0b3J5TWFrZXInO1xyXG5pbXBvcnQgSVNPQm94ZXIgZnJvbSAnY29kZW0taXNvYm94ZXInO1xyXG5cclxuZnVuY3Rpb24gQm94UGFyc2VyKC8qY29uZmlnKi8pIHtcclxuXHJcbiAgICBsZXQgaW5zdGFuY2U7XHJcbiAgICBsZXQgY29udGV4dCA9IHRoaXMuY29udGV4dDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGRhdGFcclxuICAgICAqIEByZXR1cm5zIHtJc29GaWxlfG51bGx9XHJcbiAgICAgKiBAbWVtYmVyb2YgQm94UGFyc2VyI1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBwYXJzZShkYXRhKSB7XHJcbiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgaWYgKGRhdGEuZmlsZVN0YXJ0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZGF0YS5maWxlU3RhcnQgPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHBhcnNlZEZpbGUgPSBJU09Cb3hlci5wYXJzZUJ1ZmZlcihkYXRhKTtcclxuICAgICAgICB2YXIgZGFzaElzb0ZpbGUgPSBJc29GaWxlKGNvbnRleHQpLmNyZWF0ZSgpO1xyXG5cclxuICAgICAgICBkYXNoSXNvRmlsZS5zZXREYXRhKHBhcnNlZEZpbGUpO1xyXG5cclxuICAgICAgICByZXR1cm4gZGFzaElzb0ZpbGU7XHJcbiAgICB9XHJcblxyXG4gICAgaW5zdGFuY2UgPSB7XHJcbiAgICAgICAgcGFyc2U6IHBhcnNlXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBpbnN0YW5jZTtcclxufVxyXG5Cb3hQYXJzZXIuX19oNXBsYXllcl9mYWN0b3J5X25hbWUgPSAnQm94UGFyc2VyJztcclxuZXhwb3J0IGRlZmF1bHQgRmFjdG9yeU1ha2VyLmdldFNpbmdsZXRvbkZhY3RvcnkoQm94UGFyc2VyKTtcclxuIiwiLyoqXHJcbiAqIFRoZSBjb3B5cmlnaHQgaW4gdGhpcyBzb2Z0d2FyZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsXHJcbiAqIGluY2x1ZGVkIGJlbG93LiBUaGlzIHNvZnR3YXJlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZCBjb250cmlidXRvclxyXG4gKiByaWdodHMsIGluY2x1ZGluZyBwYXRlbnQgcmlnaHRzLCBhbmQgbm8gc3VjaCByaWdodHMgYXJlIGdyYW50ZWQgdW5kZXIgdGhpcyBsaWNlbnNlLlxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMsIERhc2ggSW5kdXN0cnkgRm9ydW0uXHJcbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sXHJcbiAqIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcclxuICogICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXHJcbiAqICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cclxuICogICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxyXG4gKiAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3JcclxuICogIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXHJcbiAqICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgRGFzaCBJbmR1c3RyeSBGb3J1bSBub3IgdGhlIG5hbWVzIG9mIGl0c1xyXG4gKiAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZVxyXG4gKiAgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXHJcbiAqXHJcbiAqICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIEFTIElTIEFORCBBTllcclxuICogIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcclxuICogIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC5cclxuICogIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsXHJcbiAqICBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUXHJcbiAqICBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXHJcbiAqICBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcclxuICogIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcclxuICogIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFXHJcbiAqICBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cclxuICovXHJcbi8qKlxyXG4gKiBAY2xhc3NcclxuICogQGlnbm9yZVxyXG4gKi9cclxuY2xhc3MgSXNvQm94IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMub2Zmc2V0ID0gTmFOO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zaXplID0gTmFOO1xyXG4gICAgICAgIHRoaXMuaXNDb21wbGV0ZSA9IHRydWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IElzb0JveDsiLCIvKipcclxuICogVGhlIGNvcHlyaWdodCBpbiB0aGlzIHNvZnR3YXJlIGlzIGJlaW5nIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSBCU0QgTGljZW5zZSxcclxuICogaW5jbHVkZWQgYmVsb3cuIFRoaXMgc29mdHdhcmUgbWF5IGJlIHN1YmplY3QgdG8gb3RoZXIgdGhpcmQgcGFydHkgYW5kIGNvbnRyaWJ1dG9yXHJcbiAqIHJpZ2h0cywgaW5jbHVkaW5nIHBhdGVudCByaWdodHMsIGFuZCBubyBzdWNoIHJpZ2h0cyBhcmUgZ3JhbnRlZCB1bmRlciB0aGlzIGxpY2Vuc2UuXHJcbiAqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxMywgRGFzaCBJbmR1c3RyeSBGb3J1bS5cclxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbixcclxuICogYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxyXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXNcclxuICogIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxyXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXHJcbiAqICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vclxyXG4gKiAgb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cclxuICogICogTmVpdGhlciB0aGUgbmFtZSBvZiBEYXNoIEluZHVzdHJ5IEZvcnVtIG5vciB0aGUgbmFtZXMgb2YgaXRzXHJcbiAqICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlXHJcbiAqICB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cclxuICpcclxuICogIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgQVMgSVMgQU5EIEFOWVxyXG4gKiAgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxyXG4gKiAgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELlxyXG4gKiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCxcclxuICogIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVRcclxuICogIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcclxuICogIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxyXG4gKiAgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKVxyXG4gKiAgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcclxuICogIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxyXG4gKi9cclxuXHJcbmltcG9ydCBJc29Cb3ggZnJvbSAnLi9Jc29Cb3gnO1xyXG5pbXBvcnQgRmFjdG9yeU1ha2VyIGZyb20gJy4uL2NvcmUvRmFjdG9yeU1ha2VyJztcclxuXHJcbmZ1bmN0aW9uIElzb0ZpbGUoKSB7XHJcblxyXG4gICAgbGV0IGluc3RhbmNlLFxyXG4gICAgICAgIHBhcnNlZElzb0ZpbGUsXHJcbiAgICAgICAgY29tbW9uUHJvcHMsXHJcbiAgICAgICAgc2lkeFByb3BzLFxyXG4gICAgICAgIHNpZHhSZWZQcm9wcyxcclxuICAgICAgICBlbXNnUHJvcHMsXHJcbiAgICAgICAgbWRoZFByb3BzLFxyXG4gICAgICAgIG1maGRQcm9wcyxcclxuICAgICAgICB0ZmhkUHJvcHMsXHJcbiAgICAgICAgdGZkdFByb3BzLFxyXG4gICAgICAgIHRydW5Qcm9wcyxcclxuICAgICAgICB0cnVuU2FtcGxlUHJvcHM7XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXHJcbiAgICAqIEByZXR1cm5zIHtJc29Cb3h8bnVsbH1cclxuICAgICogQG1lbWJlcm9mIElzb0ZpbGUjXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0Qm94KHR5cGUpIHtcclxuICAgICAgICBpZiAoIXR5cGUgfHwgIXBhcnNlZElzb0ZpbGUgfHwgIXBhcnNlZElzb0ZpbGUuYm94ZXMgfHwgKHBhcnNlZElzb0ZpbGUuYm94ZXMubGVuZ3RoID09PSAwKSkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIHJldHVybiBjb252ZXJ0VG9EYXNoSXNvQm94KHBhcnNlZElzb0ZpbGUuZmV0Y2godHlwZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxyXG4gICAgKiBAcmV0dXJucyB7QXJyYXl9IGFycmF5IG9mIHtAbGluayBJc29Cb3h9XHJcbiAgICAqIEBtZW1iZXJvZiBJc29GaWxlI1xyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldEJveGVzKHR5cGUpIHtcclxuICAgICAgICB2YXIgYm94RGF0YSA9IHBhcnNlZElzb0ZpbGUuZmV0Y2hBbGwodHlwZSk7XHJcbiAgICAgICAgdmFyIGJveGVzID0gW107XHJcbiAgICAgICAgdmFyIGJveDtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxuID0gYm94RGF0YS5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGJveCA9IGNvbnZlcnRUb0Rhc2hJc29Cb3goYm94RGF0YVtpXSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYm94KSB7XHJcbiAgICAgICAgICAgICAgICBib3hlcy5wdXNoKGJveCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBib3hlcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXHJcbiAgICAqIEBtZW1iZXJvZiBJc29GaWxlI1xyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHNldERhdGEodmFsdWUpIHtcclxuICAgICAgICBwYXJzZWRJc29GaWxlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEByZXR1cm5zIHtJc29Cb3h8bnVsbH1cclxuICAgICogQG1lbWJlcm9mIElzb0ZpbGUjXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0TGFzdEJveCgpIHtcclxuICAgICAgICBpZiAoIXBhcnNlZElzb0ZpbGUgfHwgIXBhcnNlZElzb0ZpbGUuYm94ZXMgfHwgIXBhcnNlZElzb0ZpbGUuYm94ZXMubGVuZ3RoKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgdmFyIHR5cGUgPSBwYXJzZWRJc29GaWxlLmJveGVzW3BhcnNlZElzb0ZpbGUuYm94ZXMubGVuZ3RoIC0gMV0udHlwZTtcclxuICAgICAgICB2YXIgYm94ZXMgPSBnZXRCb3hlcyh0eXBlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGJveGVzW2JveGVzLmxlbmd0aCAtIDFdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gICAgKiBAbWVtYmVyb2YgSXNvRmlsZSNcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRPZmZzZXQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlZElzb0ZpbGUuX2N1cnNvci5vZmZzZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0dXAoKSB7XHJcbiAgICAgICAgY29tbW9uUHJvcHMgPSB7XHJcbiAgICAgICAgICAgIG9mZnNldDogJ19vZmZzZXQnLFxyXG4gICAgICAgICAgICBzaXplOiAnc2l6ZScsXHJcbiAgICAgICAgICAgIHR5cGU6ICd0eXBlJ1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNpZHhQcm9wcyA9IHtcclxuICAgICAgICAgICAgcmVmZXJlbmNlczogJ3JlZmVyZW5jZXMnLFxyXG4gICAgICAgICAgICB0aW1lc2NhbGU6ICd0aW1lc2NhbGUnLFxyXG4gICAgICAgICAgICBlYXJsaWVzdF9wcmVzZW50YXRpb25fdGltZTogJ2VhcmxpZXN0X3ByZXNlbnRhdGlvbl90aW1lJyxcclxuICAgICAgICAgICAgZmlyc3Rfb2Zmc2V0OiAnZmlyc3Rfb2Zmc2V0J1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNpZHhSZWZQcm9wcyA9IHtcclxuICAgICAgICAgICAgcmVmZXJlbmNlX3R5cGU6ICdyZWZlcmVuY2VfdHlwZScsXHJcbiAgICAgICAgICAgIHJlZmVyZW5jZWRfc2l6ZTogJ3JlZmVyZW5jZWRfc2l6ZScsXHJcbiAgICAgICAgICAgIHN1YnNlZ21lbnRfZHVyYXRpb246ICdzdWJzZWdtZW50X2R1cmF0aW9uJ1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGVtc2dQcm9wcyA9IHtcclxuICAgICAgICAgICAgaWQ6ICdpZCcsXHJcbiAgICAgICAgICAgIHZhbHVlOiAndmFsdWUnLFxyXG4gICAgICAgICAgICB0aW1lc2NhbGU6ICd0aW1lc2NhbGUnLFxyXG4gICAgICAgICAgICBzY2hlbWVfaWRfdXJpOiAnc2NoZW1lX2lkX3VyaScsXHJcbiAgICAgICAgICAgIHByZXNlbnRhdGlvbl90aW1lX2RlbHRhOiAncHJlc2VudGF0aW9uX3RpbWVfZGVsdGEnLFxyXG4gICAgICAgICAgICBldmVudF9kdXJhdGlvbjogJ2V2ZW50X2R1cmF0aW9uJyxcclxuICAgICAgICAgICAgbWVzc2FnZV9kYXRhOiAnbWVzc2FnZV9kYXRhJ1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIG1kaGRQcm9wcyA9IHtcclxuICAgICAgICAgICAgdGltZXNjYWxlOiAndGltZXNjYWxlJ1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIG1maGRQcm9wcyA9IHtcclxuICAgICAgICAgICAgc2VxdWVuY2VfbnVtYmVyOiAnc2VxdWVuY2VfbnVtYmVyJ1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRmaGRQcm9wcyA9IHtcclxuICAgICAgICAgICAgYmFzZV9kYXRhX29mZnNldDogJ2Jhc2VfZGF0YV9vZmZzZXQnLFxyXG4gICAgICAgICAgICBzYW1wbGVfZGVzY3JpcHRpb25faW5kZXg6ICdzYW1wbGVfZGVzY3JpcHRpb25faW5kZXgnLFxyXG4gICAgICAgICAgICBkZWZhdWx0X3NhbXBsZV9kdXJhdGlvbjogJ2RlZmF1bHRfc2FtcGxlX2R1cmF0aW9uJyxcclxuICAgICAgICAgICAgZGVmYXVsdF9zYW1wbGVfc2l6ZTogJ2RlZmF1bHRfc2FtcGxlX3NpemUnLFxyXG4gICAgICAgICAgICBkZWZhdWx0X3NhbXBsZV9mbGFnczogJ2RlZmF1bHRfc2FtcGxlX2ZsYWdzJyxcclxuICAgICAgICAgICAgZmxhZ3M6ICdmbGFncydcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0ZmR0UHJvcHMgPSB7XHJcbiAgICAgICAgICAgIHZlcnNpb246ICd2ZXJzaW9uJyxcclxuICAgICAgICAgICAgYmFzZU1lZGlhRGVjb2RlVGltZTogJ2Jhc2VNZWRpYURlY29kZVRpbWUnLFxyXG4gICAgICAgICAgICBmbGFnczogJ2ZsYWdzJ1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRydW5Qcm9wcyA9IHtcclxuICAgICAgICAgICAgc2FtcGxlX2NvdW50OiAnc2FtcGxlX2NvdW50JyxcclxuICAgICAgICAgICAgZmlyc3Rfc2FtcGxlX2ZsYWdzOiAnZmlyc3Rfc2FtcGxlX2ZsYWdzJyxcclxuICAgICAgICAgICAgZGF0YV9vZmZzZXQ6ICdkYXRhX29mZnNldCcsXHJcbiAgICAgICAgICAgIGZsYWdzOiAnZmxhZ3MnLFxyXG4gICAgICAgICAgICBzYW1wbGVzOiAnc2FtcGxlcydcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0cnVuU2FtcGxlUHJvcHMgPSB7XHJcbiAgICAgICAgICAgIHNhbXBsZV9zaXplOiAnc2FtcGxlX3NpemUnLFxyXG4gICAgICAgICAgICBzYW1wbGVfZHVyYXRpb246ICdzYW1wbGVfZHVyYXRpb24nLFxyXG4gICAgICAgICAgICBzYW1wbGVfY29tcG9zaXRpb25fdGltZV9vZmZzZXQ6ICdzYW1wbGVfY29tcG9zaXRpb25fdGltZV9vZmZzZXQnXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb3B5UHJvcHMoZnJvbSwgdG8sIHByb3BzKSB7XHJcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wcykge1xyXG4gICAgICAgICAgICB0b1twcm9wXSA9IGZyb21bcHJvcHNbcHJvcF1dO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb252ZXJ0VG9EYXNoSXNvQm94KGJveERhdGEpIHtcclxuICAgICAgICBpZiAoIWJveERhdGEpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICB2YXIgYm94ID0gbmV3IElzb0JveCgpO1xyXG4gICAgICAgIHZhciBpLFxyXG4gICAgICAgICAgICBsbjtcclxuXHJcbiAgICAgICAgY29weVByb3BzKGJveERhdGEsIGJveCwgY29tbW9uUHJvcHMpO1xyXG5cclxuICAgICAgICBpZiAoYm94RGF0YS5oYXNPd25Qcm9wZXJ0eSgnX2luY29tcGxldGUnKSkge1xyXG4gICAgICAgICAgICBib3guaXNDb21wbGV0ZSA9ICFib3hEYXRhLl9pbmNvbXBsZXRlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3dpdGNoIChib3gudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdzaWR4JzpcclxuICAgICAgICAgICAgICAgIGNvcHlQcm9wcyhib3hEYXRhLCBib3gsIHNpZHhQcm9wcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYm94LnJlZmVyZW5jZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBsbiA9IGJveC5yZWZlcmVuY2VzLmxlbmd0aDsgaSA8IGxuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29weVByb3BzKGJveERhdGEucmVmZXJlbmNlc1tpXSwgYm94LnJlZmVyZW5jZXNbaV0sIHNpZHhSZWZQcm9wcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2Vtc2cnOlxyXG4gICAgICAgICAgICAgICAgY29weVByb3BzKGJveERhdGEsIGJveCwgZW1zZ1Byb3BzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdtZGhkJzpcclxuICAgICAgICAgICAgICAgIGNvcHlQcm9wcyhib3hEYXRhLCBib3gsIG1kaGRQcm9wcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbWZoZCc6XHJcbiAgICAgICAgICAgICAgICBjb3B5UHJvcHMoYm94RGF0YSwgYm94LCBtZmhkUHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RmaGQnOlxyXG4gICAgICAgICAgICAgICAgY29weVByb3BzKGJveERhdGEsIGJveCwgdGZoZFByb3BzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd0ZmR0JzpcclxuICAgICAgICAgICAgICAgIGNvcHlQcm9wcyhib3hEYXRhLCBib3gsIHRmZHRQcm9wcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAndHJ1bic6XHJcbiAgICAgICAgICAgICAgICBjb3B5UHJvcHMoYm94RGF0YSwgYm94LCB0cnVuUHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJveC5zYW1wbGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMCwgbG4gPSBib3guc2FtcGxlcy5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlQcm9wcyhib3hEYXRhLnNhbXBsZXNbaV0sIGJveC5zYW1wbGVzW2ldLCB0cnVuU2FtcGxlUHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGJveDtcclxuICAgIH1cclxuXHJcbiAgICBpbnN0YW5jZSA9IHtcclxuICAgICAgICBnZXRCb3g6IGdldEJveCxcclxuICAgICAgICBnZXRCb3hlczogZ2V0Qm94ZXMsXHJcbiAgICAgICAgc2V0RGF0YTogc2V0RGF0YSxcclxuICAgICAgICBnZXRMYXN0Qm94OiBnZXRMYXN0Qm94LFxyXG4gICAgICAgIGdldE9mZnNldDogZ2V0T2Zmc2V0XHJcbiAgICB9O1xyXG5cclxuICAgIHNldHVwKCk7XHJcblxyXG4gICAgcmV0dXJuIGluc3RhbmNlO1xyXG59XHJcbklzb0ZpbGUuX19oNXBsYXllcl9mYWN0b3J5X25hbWUgPSAnSXNvRmlsZSc7XHJcbmV4cG9ydCBkZWZhdWx0IEZhY3RvcnlNYWtlci5nZXRDbGFzc0ZhY3RvcnkoSXNvRmlsZSk7XHJcbiIsIi8qKlxyXG4gKiBUaGUgY29weXJpZ2h0IGluIHRoaXMgc29mdHdhcmUgaXMgYmVpbmcgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIEJTRCBMaWNlbnNlLFxyXG4gKiBpbmNsdWRlZCBiZWxvdy4gVGhpcyBzb2Z0d2FyZSBtYXkgYmUgc3ViamVjdCB0byBvdGhlciB0aGlyZCBwYXJ0eSBhbmQgY29udHJpYnV0b3JcclxuICogcmlnaHRzLCBpbmNsdWRpbmcgcGF0ZW50IHJpZ2h0cywgYW5kIG5vIHN1Y2ggcmlnaHRzIGFyZSBncmFudGVkIHVuZGVyIHRoaXMgbGljZW5zZS5cclxuICpcclxuICogQ29weXJpZ2h0IChjKSAyMDEzLCBEYXNoIEluZHVzdHJ5IEZvcnVtLlxyXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLFxyXG4gKiBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XHJcbiAqICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpc1xyXG4gKiAgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXHJcbiAqICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcclxuICogIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yXHJcbiAqICBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxyXG4gKiAgKiBOZWl0aGVyIHRoZSBuYW1lIG9mIERhc2ggSW5kdXN0cnkgRm9ydW0gbm9yIHRoZSBuYW1lcyBvZiBpdHNcclxuICogIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmVcclxuICogIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxyXG4gKlxyXG4gKiAgVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBBUyBJUyBBTkQgQU5ZXHJcbiAqICBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEXHJcbiAqICBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuXHJcbiAqICBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULFxyXG4gKiAgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVFxyXG4gKiAgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxyXG4gKiAgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksXHJcbiAqICBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpXHJcbiAqICBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRVxyXG4gKiAgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXHJcbiAqL1xyXG5pbXBvcnQgRmFjdG9yeU1ha2VyIGZyb20gJy4uL2NvcmUvRmFjdG9yeU1ha2VyJztcclxuaW1wb3J0IFgySlMgZnJvbSAnLi94bWwyanNvbic7XHJcblxyXG5jb25zdCBTRUNPTkRTX0lOX0hPVVIgPSA2MCAqIDYwOyAvLyBFeHByZXNzaW9uIG9mIGFuIGhvdXIgaW4gc2Vjb25kc1xyXG5jb25zdCBTRUNPTkRTX0lOX01JTiA9IDYwOyAvLyBFeHByZXNzaW9uIG9mIGEgbWludXRlIGluIHNlY29uZHNcclxuXHJcbmZ1bmN0aW9uIFRUTUxQYXJzZXIoKSB7XHJcblxyXG4gICAgbGV0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XHJcbiAgICAvL2xldCBjb25zb2xlLmxvZyA9IERlYnVnKGNvbnRleHQpLmdldEluc3RhbmNlKCkuY29uc29sZS5sb2c7XHJcblxyXG4gICAgLypcclxuICAgICAqIFRoaXMgVFRNTCBwYXJzZXIgZm9sbG93cyBcIkVCVS1UVC1EIFNVQlRJVExJTkcgRElTVFJJQlVUSU9OIEZPUk1BVCAtIHRlY2gzMzgwXCIgc3BlYyAtIGh0dHBzOi8vdGVjaC5lYnUuY2gvZG9jcy90ZWNoL3RlY2gzMzgwLnBkZi5cclxuICAgICAqICovXHJcbiAgICBsZXQgaW5zdGFuY2UsXHJcbiAgICAgICAgdGltaW5nUmVnZXgsXHJcbiAgICAgICAgdHRtbCwgLy8gY29udGFpbnMgdGhlIHdob2xlIHR0bWwgZG9jdW1lbnQgcmVjZWl2ZWRcclxuICAgICAgICB0dG1sU3R5bGluZywgLy8gY29udGFpbnMgdGhlIHN0eWxpbmcgaW5mb3JtYXRpb24gZnJvbSB0aGUgZG9jdW1lbnQgKGZyb20gaGVhZCBmb2xsb3dpbmcgRUJVLVRULUQpXHJcbiAgICAgICAgdHRtbExheW91dCwgLy8gY29udGFpbnMgdGhlIHBvc2l0aW9uaW5nIGluZm9ybWF0aW9uIGZyb20gdGhlIGRvY3VtZW50IChmcm9tIGhlYWQgZm9sbG93aW5nIEVCVS1UVC1EKVxyXG4gICAgICAgIGZvbnRTaXplLFxyXG4gICAgICAgIGxpbmVIZWlnaHQsXHJcbiAgICAgICAgbGluZVBhZGRpbmcsXHJcbiAgICAgICAgZGVmYXVsdExheW91dFByb3BlcnRpZXMsXHJcbiAgICAgICAgZGVmYXVsdFN0eWxlUHJvcGVydGllcyxcclxuICAgICAgICBmb250RmFtaWxpZXMsXHJcbiAgICAgICAgdGV4dEFsaWduLFxyXG4gICAgICAgIG11bHRpUm93QWxpZ24sXHJcbiAgICAgICAgd3JhcE9wdGlvbixcclxuICAgICAgICB1bmljb2RlQmlkaSxcclxuICAgICAgICBkaXNwbGF5QWxpZ24sXHJcbiAgICAgICAgd3JpdGluZ01vZGUsXHJcbiAgICAgICAgdmlkZW9Nb2RlbDtcclxuXHJcbiAgICBsZXQgY3VlQ291bnRlciA9IDA7IC8vIFVzZWQgdG8gZ2l2ZSBldmVyeSBjdWUgYSB1bmlxdWUgSUQuXHJcblxyXG4gICAgZnVuY3Rpb24gc2V0Q29uZmlnKGNvbmZpZykge1xyXG4gICAgICAgIGlmICghY29uZmlnKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmIChjb25maWcudmlkZW9Nb2RlbCkge1xyXG4gICAgICAgICAgICB2aWRlb01vZGVsID0gY29uZmlnLnZpZGVvTW9kZWw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBiZWdpbi1lbmQgaW50ZXJ2YWwgaWYgcHJlc2VudCwgb3IgbnVsbCBvdGhlcndpc2UuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnQgLSBUVE1MIGVsZW1lbnQgd2hpY2ggbWF5IGhhdmUgYmVnaW4gYW5kIGVuZCBhdHRyaWJ1dGVzXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldEludGVydmFsKGVsZW1lbnQpIHtcclxuICAgICAgICBpZiAoZWxlbWVudC5oYXNPd25Qcm9wZXJ0eSgnYmVnaW4nKSAmJiBlbGVtZW50Lmhhc093blByb3BlcnR5KCdlbmQnKSkge1xyXG4gICAgICAgICAgICBsZXQgYmVnaW5UaW1lID0gcGFyc2VUaW1pbmdzKGVsZW1lbnQuYmVnaW4pO1xyXG4gICAgICAgICAgICBsZXQgZW5kVGltZSA9IHBhcnNlVGltaW5ncyhlbGVtZW50LmVuZCk7XHJcbiAgICAgICAgICAgIHJldHVybiBbYmVnaW5UaW1lLCBlbmRUaW1lXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Q3VlSUQoKSB7XHJcbiAgICAgICAgbGV0IGlkID0gJ2N1ZV9UVE1MXycgKyBjdWVDb3VudGVyO1xyXG4gICAgICAgIGN1ZUNvdW50ZXIrKztcclxuICAgICAgICByZXR1cm4gaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLypcclxuICAgICogQ3JlYXRlIGxpc3Qgb2YgaW50ZXJ2YWxzIHdoZXJlIHNwYW5zIHN0YXJ0IGFuZCBlbmQuIEVtcHR5IGxpc3QgaWYgbm8gdGltZXMuXHJcbiAgICAqIENsaXAgdG8gaW50ZXJ2YWwgdXNpbmcgc3RhcnRJbnRlcnZhbCBhbmQgZW5kSW50ZXJ2YWwgYW5kIGFkZCB0aGVzZSB0d28gdGltZXMuXHJcbiAgICAqIEFsc28gc3VwcG9ydCBjYXNlIHdoZW4gc3RhcnRJbnRlcnZhbC9lbmRJbnRldmFsIG5vdCBnaXZlbiAoc2lkZWxvYWRlZCBmaWxlKVxyXG4gICAgKlxyXG4gICAgKiBAcGFyYW0ge0FycmF5fSBzcGFucyAtIGFycmF5IG9mIHNwYW4gZWxlbWVudHNcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVTcGFuSW50ZXJ2YWxMaXN0KHNwYW5zLCBzdGFydEludGVydmFsLCBlbmRJbnRlcnZhbCkge1xyXG5cclxuICAgICAgICBsZXQgc3BhbkNoYW5nZVRpbWVzID0gW107XHJcbiAgICAgICAgbGV0IHNwYW5DaGFuZ2VUaW1lU3RyaW5ncyA9IFtdO1xyXG4gICAgICAgIGxldCBjdWVfaW50ZXJ2YWxzID0gW107XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFkZFNwYW5UaW1lKHNwYW4sIG5hbWUpIHtcclxuICAgICAgICAgICAgaWYgKHNwYW4uaGFzT3duUHJvcGVydHkobmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIGxldCB0aW1lU3RyaW5nID0gc3BhbltuYW1lXTtcclxuICAgICAgICAgICAgICAgIGlmIChzcGFuQ2hhbmdlVGltZVN0cmluZ3MuaW5kZXhPZih0aW1lU3RyaW5nKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBzcGFuQ2hhbmdlVGltZVN0cmluZ3MucHVzaCh0aW1lU3RyaW5nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcGFucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgc3BhbiA9IHNwYW5zW2ldO1xyXG4gICAgICAgICAgICBhZGRTcGFuVGltZShzcGFuLCAnYmVnaW4nKTtcclxuICAgICAgICAgICAgYWRkU3BhblRpbWUoc3BhbiwgJ2VuZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3BhbkNoYW5nZVRpbWVTdHJpbmdzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY3VlX2ludGVydmFsczsgLy8gTm8gc3BhbiB0aW1pbmcgc28gbm8gaW50ZXJ2YWxzLlxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBzdGFydEludGVydmFsICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZW5kSW50ZXJ2YWwgIT09ICd1bmRlZmluZWQnICkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNwYW5DaGFuZ2VUaW1lU3RyaW5ncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNoYW5nZVRpbWUgPSBwYXJzZVRpbWluZ3Moc3BhbkNoYW5nZVRpbWVTdHJpbmdzW2ldKTtcclxuICAgICAgICAgICAgICAgIGlmIChzdGFydEludGVydmFsIDwgY2hhbmdlVGltZSAmJiBjaGFuZ2VUaW1lIDwgZW5kSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBzcGFuQ2hhbmdlVGltZXMucHVzaChjaGFuZ2VUaW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzcGFuQ2hhbmdlVGltZXMucHVzaChzdGFydEludGVydmFsKTtcclxuICAgICAgICAgICAgc3BhbkNoYW5nZVRpbWVzLnB1c2goZW5kSW50ZXJ2YWwpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3BhbkNoYW5nZVRpbWVTdHJpbmdzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBzcGFuQ2hhbmdlVGltZXMucHVzaChwYXJzZVRpbWluZ3Moc3BhbkNoYW5nZVRpbWVTdHJpbmdzW2ldKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgc3BhbkNoYW5nZVRpbWVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgLSBiO30pO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3BhbkNoYW5nZVRpbWVzLmxlbmd0aCAtIDE7IGkrKykge1xyXG4gICAgICAgICAgICBjdWVfaW50ZXJ2YWxzLnB1c2goW3NwYW5DaGFuZ2VUaW1lc1tpXSwgc3BhbkNoYW5nZVRpbWVzW2kgKyAxXV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY3VlX2ludGVydmFscztcclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gY2xpcFN0YXJ0VGltZShzdGFydFRpbWUsIGludGVydmFsU3RhcnQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHN0YXJ0SW50ZXJ2YWwgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIGlmIChzdGFydFRpbWUgPCBpbnRlcnZhbFN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSBpbnRlcnZhbFN0YXJ0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdGFydFRpbWU7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGNsaXBFbmRUaW1lKGVuZFRpbWUsIGludGVydmFsRW5kKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpbnRlcnZhbEVuZCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgaWYgKGVuZFRpbWUgPiBpbnRlcnZhbEVuZCkge1xyXG4gICAgICAgICAgICAgICAgZW5kVGltZSA9IGludGVydmFsRW5kO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbmRUaW1lO1xyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBHZXQgaW50ZXJ2YWwgZnJvbSBlbnRpdHkgdGhhdCBoYXMgYmVnaW4gYW5kIGVuZCBwcm9wZXJ0aWVzLlxyXG4gICAgICogSWYgaW50ZXJ2YWxTdGFydCBhbmQgaW50ZXJ2YWxFbmQgZGVmaW5lZCwgdXNlIHRoZW0gdG8gY2xpcCB0aGUgaW50ZXJ2YWwuXHJcbiAgICAgKiBSZXR1cm4gbnVsbCBpZiBubyBvdmVybGFwIHdpdGggaW50ZXJ2YWxcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0Q2xpcHBlZEludGVydmFsKGVudGl0eSwgaW50ZXJ2YWxTdGFydCwgaW50ZXJ2YWxFbmQpIHtcclxuICAgICAgICBsZXQgc3RhcnRUaW1lID0gcGFyc2VUaW1pbmdzKGVudGl0eS5iZWdpbik7XHJcbiAgICAgICAgbGV0IGVuZFRpbWUgPSBwYXJzZVRpbWluZ3MoZW50aXR5LmVuZCk7XHJcbiAgICAgICAgc3RhcnRUaW1lID0gY2xpcFN0YXJ0VGltZShzdGFydFRpbWUsIGludGVydmFsU3RhcnQpO1xyXG4gICAgICAgIGVuZFRpbWUgPSBjbGlwRW5kVGltZShlbmRUaW1lLCBpbnRlcnZhbEVuZCk7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpbnRlcnZhbFN0YXJ0ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgaW50ZXJ2YWxFbmQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIGlmIChlbmRUaW1lIDwgaW50ZXJ2YWxTdGFydCB8fCBzdGFydFRpbWUgPiBpbnRlcnZhbEVuZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1RUTUw6IEN1ZSAnICsgc3RhcnRUaW1lICsgJy0nICsgZW5kVGltZSArICcgb3V0c2lkZSBpbnRlcnZhbCAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludGVydmFsU3RhcnQgKyAnLScgKyBpbnRlcnZhbEVuZCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW3N0YXJ0VGltZSwgZW5kVGltZV07XHJcbiAgICB9XHJcblxyXG4gICAgLypcclxuICAgICAqIENoZWNrIGlmIGVudGl0eSB0aW1pbmcgaGFzIHNvbWUgb3ZlcmxhcCB3aXRoIGludGVydmFsXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGluSW50ZXJ2YWxPck5vVGltaW5nKGVudGl0eSwgaW50ZXJ2YWwpIHtcclxuICAgICAgICBsZXQgaW5JbnRlcnZhbCA9IHRydWU7XHJcbiAgICAgICAgaWYgKGVudGl0eS5oYXNPd25Qcm9wZXJ0eSgnc3BhbicpKSB7XHJcbiAgICAgICAgICAgIGxldCBlbnRpdHlJbnRlcnZhbCA9IGdldEludGVydmFsKGVudGl0eS5zcGFuKTtcclxuICAgICAgICAgICAgaWYgKGVudGl0eUludGVydmFsICE9PSBudWxsKSB7IC8vVGltaW5nXHJcbiAgICAgICAgICAgICAgICBpbkludGVydmFsID0gKGVudGl0eUludGVydmFsWzBdIDwgaW50ZXJ2YWxbMV0gJiYgZW50aXR5SW50ZXJ2YWxbMV0gPiBpbnRlcnZhbFswXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluSW50ZXJ2YWw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJzZSB0aGUgcmF3IGRhdGEgYW5kIHByb2Nlc3MgaXQgdG8gcmV0dXJuIHRoZSBIVE1MIGVsZW1lbnQgcmVwcmVzZW50aW5nIHRoZSBjdWUuXHJcbiAgICAgKiBSZXR1cm4gdGhlIHJlZ2lvbiB0byBiZSBwcm9jZXNzZWQgYW5kIGNvbnRyb2xsZWQgKGhpZGUvc2hvdykgYnkgdGhlIGNhcHRpb24gY29udHJvbGxlci5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhIC0gcmF3IGRhdGEgcmVjZWl2ZWQgZnJvbSB0aGUgVGV4dFNvdXJjZUJ1ZmZlclxyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGludGVydmFsU3RhcnRcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlcnZhbEVuZFxyXG4gICAgICpcclxuICAgICAqL1xyXG5cclxuICAgIGZ1bmN0aW9uIHBhcnNlKGRhdGEsIGludGVydmFsU3RhcnQsIGludGVydmFsRW5kKSB7XHJcbiAgICAgICAgbGV0IHR0LCAvLyBUb3AgZWxlbWVudFxyXG4gICAgICAgICAgICBoZWFkLCAvLyBoZWFkIGluIHR0XHJcbiAgICAgICAgICAgIGJvZHksIC8vIGJvZHkgaW4gdHRcclxuICAgICAgICAgICAgdHRFeHRlbnQsIC8vIGV4dGVudCBhdHRyaWJ1dGUgb2YgdHQgZWxlbWVudFxyXG4gICAgICAgICAgICB0eXBlO1xyXG5cclxuICAgICAgICB2YXIgZXJyb3JNc2cgPSAnJztcclxuXHJcbiAgICAgICAgbGV0IGNvbnZlcnRlciA9IG5ldyBYMkpTKFtdLCAnJywgZmFsc2UpO1xyXG5cclxuICAgICAgICAvLyBQYXJzZSB0aGUgVFRNTCBpbiBhIEpTT04gb2JqZWN0LlxyXG4gICAgICAgIHR0bWwgPSBjb252ZXJ0ZXIueG1sX3N0cjJqc29uKGRhdGEpO1xyXG5cclxuICAgICAgICBpZiAoIXR0bWwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUVE1MIGRvY3VtZW50IGNvdWxkIG5vdCBiZSBwYXJzZWQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh2aWRlb01vZGVsICYmIHZpZGVvTW9kZWwuZ2V0VFRNTFJlbmRlcmluZ0RpdigpKSB7XHJcbiAgICAgICAgICAgIHR5cGUgPSAnaHRtbCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayB0aGUgZG9jdW1lbnQgYW5kIGNvbXBhcmUgdG8gdGhlIHNwZWNpZmljYXRpb24gKFRUTUwgYW5kIEVCVS1UVC1EKS5cclxuICAgICAgICB0dCA9IHR0bWwudHQ7XHJcbiAgICAgICAgaWYgKCF0dCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RUTUwgZG9jdW1lbnQgbGFja3MgdHQgZWxlbWVudCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBuYW1lc3BhY2UgaWYgdGhlcmUgaXMgb25lIGRlZmluZWQgaW4gdGhlIEpTT04gb2JqZWN0LlxyXG4gICAgICAgIHZhciB0dE5TID0gZ2V0TmFtZXNwYWNlUHJlZml4KHR0LCAnaHR0cDovL3d3dy53My5vcmcvbnMvdHRtbCcpO1xyXG5cclxuICAgICAgICAvLyBSZW1vdmUgdGhlIG5hbWVzcGFjZSBiZWZvcmUgZWFjaCBub2RlIGlmIGl0IGV4aXN0czpcclxuICAgICAgICBpZiAodHROUykge1xyXG4gICAgICAgICAgICByZW1vdmVOYW1lc3BhY2VQcmVmaXgodHQsIHR0TlMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHRFeHRlbnQgPSB0dFsndHRzOmV4dGVudCddOyAvLyBTaG91bGQgY2hlY2sgdGhhdCB0dHMgaXMgcmlnaHQgbmFtZXNwYWNlLlxyXG5cclxuICAgICAgICBoZWFkID0gdHQuaGVhZDtcclxuICAgICAgICBpZiAoIWhlYWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUVE1MIGRvY3VtZW50IGxhY2tzIGhlYWQgZWxlbWVudCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaGVhZC5sYXlvdXQpIHtcclxuICAgICAgICAgICAgdHRtbExheW91dCA9IGhlYWQubGF5b3V0LnJlZ2lvbl9hc0FycmF5OyAvL01hbmRhdG9yeSBpbiBFQlUtVFQtRFxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaGVhZC5zdHlsaW5nKSB7XHJcbiAgICAgICAgICAgIHR0bWxTdHlsaW5nID0gaGVhZC5zdHlsaW5nLnN0eWxlX2FzQXJyYXk7IC8vIE1hbmRhdG9yeSBpbiBFQlUtVFQtRFxyXG4gICAgICAgIH1cclxuICAgICAgICBib2R5ID0gdHQuYm9keTtcclxuICAgICAgICBpZiAoIWJvZHkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUVE1MIGRvY3VtZW50IGxhY2tzIGJvZHkgZWxlbWVudCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRXh0cmFjdCB0aGUgY2VsbFJlc29sdXRpb24gaW5mb3JtYXRpb25cclxuICAgICAgICB2YXIgY2VsbFJlc29sdXRpb24gPSBnZXRDZWxsUmVzb2x1dGlvbigpO1xyXG5cclxuICAgICAgICAvLyBSZWNvdmVyIHRoZSB2aWRlbyB3aWR0aCBhbmQgaGVpZ2h0IGRpc3BsYXllZCBieSB0aGUgcGxheWVyLlxyXG4gICAgICAgIC8vdmFyIHZpZGVvV2lkdGggPSB2aWRlb01vZGVsLmdldEVsZW1lbnQoKS5jbGllbnRXaWR0aDtcclxuICAgICAgICAvL3ZhciB2aWRlb0hlaWdodCA9IHZpZGVvTW9kZWwuZ2V0RWxlbWVudCgpLmNsaWVudEhlaWdodDtcclxuICAgICAgICB2YXIgdmlkZW9XaWR0aCA9IDY0MDtcclxuICAgICAgICB2YXIgdmlkZW9IZWlnaHQgPSA0ODA7XHJcbiAgICAgICAgaWYgKHZpZGVvTW9kZWwpIHtcclxuICAgICAgICAgICAgdmlkZW9XaWR0aCA9IHZpZGVvTW9kZWwuZ2V0RWxlbWVudCgpLmNsaWVudFdpZHRoO1xyXG4gICAgICAgICAgICB2aWRlb0hlaWdodCA9IHZpZGVvTW9kZWwuZ2V0RWxlbWVudCgpLmNsaWVudEhlaWdodDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENvbXB1dGUgdGhlIENlbGxSZXNvbHV0aW9uIHVuaXQgaW4gb3JkZXIgdG8gcHJvY2VzcyBwcm9wZXJ0aWVzIHVzaW5nIHNpemluZyAoZm9udFNpemUsIGxpbmVQYWRkaW5nLCBldGMpLlxyXG4gICAgICAgIHZhciBjZWxsVW5pdCA9IFt2aWRlb1dpZHRoIC8gY2VsbFJlc29sdXRpb25bMF0sIHZpZGVvSGVpZ2h0IC8gY2VsbFJlc29sdXRpb25bMV1dO1xyXG4gICAgICAgIGRlZmF1bHRTdHlsZVByb3BlcnRpZXNbJ2ZvbnQtc2l6ZSddID0gY2VsbFVuaXRbMV0gKyAncHg7JztcclxuXHJcbiAgICAgICAgdmFyIHJlZ2lvbnMgPSBbXTtcclxuICAgICAgICBpZiAodHRtbExheW91dCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR0bWxMYXlvdXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHJlZ2lvbnMucHVzaChwcm9jZXNzUmVnaW9uKEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodHRtbExheW91dFtpXSkpLCBjZWxsVW5pdCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBHZXQgdGhlIG5hbWVzcGFjZSBwcmVmaXguXHJcbiAgICAgICAgdmFyIG5zdHRwID0gZ2V0TmFtZXNwYWNlUHJlZml4KHR0bWwudHQsICdodHRwOi8vd3d3LnczLm9yZy9ucy90dG1sI3BhcmFtZXRlcicpO1xyXG5cclxuICAgICAgICAvLyBTZXQgdGhlIGZyYW1lcmF0ZS5cclxuICAgICAgICBpZiAodHQuaGFzT3duUHJvcGVydHkobnN0dHAgKyAnOmZyYW1lUmF0ZScpKSB7XHJcbiAgICAgICAgICAgIHR0LmZyYW1lUmF0ZSA9IHBhcnNlSW50KHR0W25zdHRwICsgJzpmcmFtZVJhdGUnXSwgMTApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY2FwdGlvbkFycmF5ID0gW107XHJcbiAgICAgICAgLy8gRXh0cmFjdCB0aGUgZGl2XHJcbiAgICAgICAgdmFyIGRpdnMgPSB0dC5ib2R5X2FzQXJyYXlbMF0uX19jaGlsZHJlbjtcclxuXHJcbiAgICAgICAgLy8gVGltaW5nIGlzIGVpdGhlciBvbiBkaXYsIHBhcmFncmFwaCBvciBzcGFuIGxldmVsLlxyXG5cclxuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGRpdnMubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICAgICAgbGV0IGRpdiA9IGRpdnNba10uZGl2O1xyXG4gICAgICAgICAgICBsZXQgZGl2SW50ZXJ2YWwgPSBudWxsOyAvLyBUaGlzIGlzIG1haW5seSBmb3IgaW1hZ2Ugc3VidGl0bGVzLlxyXG5cclxuICAgICAgICAgICAgaWYgKG51bGwgIT09IChkaXZJbnRlcnZhbCA9IGdldEludGVydmFsKGRpdikpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUaW1pbmcgb24gZGl2IGxldmVsIGlzIG5vdCBhbGxvd2VkIGJ5IEVCVS1UVC1ELlxyXG4gICAgICAgICAgICAgICAgLy8gV2Ugb25seSB1c2UgaXQgZm9yIFNNUFRFLVRUIGltYWdlIHN1YnRpdGxlIHByb2ZpbGUuXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTGF5b3V0IHNob3VsZCBiZSBkZWZpbmVkIGJ5IGEgcmVnaW9uLiBHaXZlbiBlYXJseSB0ZXN0IG1hdGVyaWFsLCB3ZSBhbHNvIHN1cHBvcnQgdGhhdCBpdCBpcyBvblxyXG4gICAgICAgICAgICAgICAgLy8gZGl2IGxldmVsXHJcbiAgICAgICAgICAgICAgICBsZXQgbGF5b3V0O1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpdi5yZWdpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcmVnaW9uID0gZmluZFJlZ2lvbkZyb21JRCh0dG1sTGF5b3V0LCBkaXYucmVnaW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBsYXlvdXQgPSBnZXRSZWxhdGl2ZVBvc2l0aW9uaW5nKHJlZ2lvbiwgdHRFeHRlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFsYXlvdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXlvdXQgPSBnZXRSZWxhdGl2ZVBvc2l0aW9uaW5nKGRpdiwgdHRFeHRlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBpbWFnZXMgPSB0dC5oZWFkLm1ldGFkYXRhLmltYWdlX2FzQXJyYXk7IC8vIFRPRE8uIEFkZCBVUkwgaW1hZ2Ugc291cmNlc1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkaXZbJ3NtcHRlOmJhY2tncm91bmRJbWFnZSddICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGltYWdlcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKCcjJyArIGltYWdlc1tqXVsneG1sOmlkJ10pID09PSBkaXZbJ3NtcHRlOmJhY2tncm91bmRJbWFnZSddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXB0aW9uQXJyYXkucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGRpdkludGVydmFsWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogZGl2SW50ZXJ2YWxbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGdldEN1ZUlEKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogJ2RhdGE6aW1hZ2UvJyArIGltYWdlc1tqXS5pbWFnZXR5cGUudG9Mb3dlckNhc2UoKSArICc7YmFzZTY0LCAnICsgaW1hZ2VzW2pdLl9fdGV4dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW1hZ2UnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dDogbGF5b3V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBOZXh0IGRpdlxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgcGFyYWdyYXBocyA9IGRpdi5wX2FzQXJyYXk7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGN1ZXMgaXMgbm90IGVtcHR5IG9yIHVuZGVmaW5lZC5cclxuICAgICAgICAgICAgaWYgKGRpdkludGVydmFsID09PSBudWxsICYmICghcGFyYWdyYXBocyB8fCBwYXJhZ3JhcGhzLmxlbmd0aCA9PT0gMCkpIHtcclxuICAgICAgICAgICAgICAgIGVycm9yTXNnID0gJ1RUTUwgaGFzIGRpdiB0aGF0IGNvbnRhaW5zIG5vIHRpbWluZyBhbmQgbm8gcGFyYWdyYXBocy4nO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3JNc2cpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhcHRpb25BcnJheTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgajIgPSAwOyBqMiA8IHBhcmFncmFwaHMubGVuZ3RoOyBqMisrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGFyYWdyYXBoID0gcGFyYWdyYXBoc1tqMl07XHJcbiAgICAgICAgICAgICAgICBsZXQgc3BhbnMgPSBwYXJhZ3JhcGguc3Bhbl9hc0FycmF5O1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1ZUludGVydmFscyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgLy8gRm9yIHRpbWluZywgdGhlIG92ZXJhbGwgZ29hbCBpcyB0byBmaW5kIHRoZSBpbnRlcnZhbHMgd2hlcmUgdGhlcmUgc2hvdWxkIGJlIGN1ZXNcclxuICAgICAgICAgICAgICAgIC8vIFRoZSB0aW1pbmcgbWF5IGVpdGhlciBiZSBvbiBwYXJhZ3JhcGggb3Igc3BhbiBsZXZlbC5cclxuICAgICAgICAgICAgICAgIGlmIChwYXJhZ3JhcGguaGFzT3duUHJvcGVydHkoJ2JlZ2luJykgJiYgcGFyYWdyYXBoLmhhc093blByb3BlcnR5KCdlbmQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRpbWluZyBvbiBwYXJhZ3JhcGggbGV2ZWxcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2xpcHBlZEludGVydmFsID0gZ2V0Q2xpcHBlZEludGVydmFsKHBhcmFncmFwaCwgaW50ZXJ2YWxTdGFydCwgaW50ZXJ2YWxFbmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjbGlwcGVkSW50ZXJ2YWwgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VlSW50ZXJ2YWxzLnB1c2goY2xpcHBlZEludGVydmFsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRpbWluZyBtdXN0IGJlIG9uIHNwYW4gbGV2ZWxcclxuICAgICAgICAgICAgICAgICAgICBjdWVJbnRlcnZhbHMgPSBjcmVhdGVTcGFuSW50ZXJ2YWxMaXN0KHNwYW5zLCBpbnRlcnZhbFN0YXJ0LCBpbnRlcnZhbEVuZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VlSW50ZXJ2YWxzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yTXNnID0gJ1RUTUw6IEVtcHR5IHBhcmFncmFwaCc7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7IC8vIE5vdGhpbmcgaW4gdGhpcyBwYXJhZ3JhcGhcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgcGFyYWdyYXBoQ2hpbGRyZW4gPSBwYXJhZ3JhcGguX19jaGlsZHJlbjtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpMiA9IDA7IGkyIDwgY3VlSW50ZXJ2YWxzLmxlbmd0aDsgaTIrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbnRlcnZhbCA9IGN1ZUludGVydmFsc1tpMl07XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoaWxkcmVuSW5JbnRlcnZhbCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGsyID0gMDsgazIgPCBwYXJhZ3JhcGhDaGlsZHJlbi5sZW5ndGg7IGsyKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoaWxkID0gcGFyYWdyYXBoQ2hpbGRyZW5bazJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5JbnRlcnZhbE9yTm9UaW1pbmcoY2hpbGQsIGludGVydmFsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW5JbkludGVydmFsLnB1c2goY2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZHJlbkluSW50ZXJ2YWwubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBObyBjaGlsZHJlbiB0byByZW5kZXJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnaHRtbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZUhlaWdodCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lUGFkZGluZyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZSA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIEZpbmQgdGhlIHJlZ2lvbiBkZWZpbmVkIGZvciB0aGUgY3VlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJvcGVydGllcyB0byBiZSBwdXQgaW4gdGhlIFwiY2FwdGlvblJlZ2lvblwiIEhUTUwgZWxlbWVudC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ZVJlZ2lvblByb3BlcnRpZXMgPSBjb25zdHJ1Y3RDdWVSZWdpb24ocGFyYWdyYXBoLCBkaXYsIGNlbGxVbml0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBGaW5kIHRoZSBzdHlsZSBkZWZpbmVkIGZvciB0aGUgY3VlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJvcGVydGllcyB0byBiZSBwdXQgaW4gdGhlIFwicGFyYWdyYXBoXCIgSFRNTCBlbGVtZW50LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VlU3R5bGVQcm9wZXJ0aWVzID0gY29uc3RydWN0Q3VlU3R5bGUocGFyYWdyYXBoLCBjZWxsVW5pdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAgICAgICAgICogLyFcXCBDcmVhdGUgdGhlIGN1ZSBIVE1MIEVsZW1lbnQgY29udGFpbmluZyB0aGUgd2hvbGUgY3VlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0eWxlSURzID0gY3VlU3R5bGVQcm9wZXJ0aWVzWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdWVTdHlsZVByb3BlcnRpZXMgPSBjdWVTdHlsZVByb3BlcnRpZXNbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGaW5hbCBjdWUgSFRNTCBlbGVtZW50LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VlUGFyYWdyYXBoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ZVBhcmFncmFwaC5jbGFzc05hbWUgPSBzdHlsZUlEcztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIHdyYXBwZXIgY29udGFpbmluZyB0aGUgY3VlIGluZm9ybWF0aW9uIGFib3V0IHVuaWNvZGVCaWRpIGFuZCBkaXJlY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXMgdGhleSBuZWVkIHRvIGJlIGRlZmluZWQgb24gYXQgdGhpcyBsZXZlbC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgYXBwZW5kIHRvIHRoZSB3cmFwcGVyIHRoZSBjdWUgaXRzZWxmLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VlRGlyVW5pV3JhcHBlciA9IGNvbnN0cnVjdEN1ZShjaGlsZHJlbkluSW50ZXJ2YWwsIGNlbGxVbml0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VlRGlyVW5pV3JhcHBlci5jbGFzc05hbWUgPSAnY3VlRGlyVW5pV3JhcHBlcic7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgc3R5bGUgZGVmaW5lcyB0aGVzZSB0d28gcHJvcGVydGllcywgd2UgcGxhY2UgdGhlbSBpbiBjdWVDb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGRlbGV0ZSB0aGVtIGZyb20gdGhlIGN1ZSBzdHlsZSBzbyBpdCBpcyBub3QgYWRkZWQgYWZ0ZXJ3YXJkcyB0byB0aGUgZmluYWwgY3VlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXlDb250YWlucygndW5pY29kZS1iaWRpJywgY3VlU3R5bGVQcm9wZXJ0aWVzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VlRGlyVW5pV3JhcHBlci5zdHlsZS5jc3NUZXh0ICs9IGdldFByb3BlcnR5RnJvbUFycmF5KCd1bmljb2RlLWJpZGknLCBjdWVTdHlsZVByb3BlcnRpZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlUHJvcGVydHlGcm9tQXJyYXkoJ3VuaWNvZGUtYmlkaScsIGN1ZVN0eWxlUHJvcGVydGllcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFycmF5Q29udGFpbnMoJ2RpcmVjdGlvbicsIGN1ZVN0eWxlUHJvcGVydGllcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ZURpclVuaVdyYXBwZXIuc3R5bGUuY3NzVGV4dCArPSBnZXRQcm9wZXJ0eUZyb21BcnJheSgnZGlyZWN0aW9uJywgY3VlU3R5bGVQcm9wZXJ0aWVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVByb3BlcnR5RnJvbUFycmF5KCdkaXJlY3Rpb24nLCBjdWVTdHlsZVByb3BlcnRpZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBcHBseSB0aGUgbGluZVBhZGRpbmcgcHJvcGVydHkgaWYgaXQgaXMgc3BlY2lmaWVkIGluIHRoZSBjdWUgc3R5bGUuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcnJheUNvbnRhaW5zKCdwYWRkaW5nLWxlZnQnLCBjdWVTdHlsZVByb3BlcnRpZXMpICYmIGFycmF5Q29udGFpbnMoJ3BhZGRpbmctcmlnaHQnLCBjdWVTdHlsZVByb3BlcnRpZXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdWVEaXJVbmlXcmFwcGVyLmlubmVySFRNTCA9IGFwcGx5TGluZVBhZGRpbmcoY3VlRGlyVW5pV3JhcHBlciwgY3VlU3R5bGVQcm9wZXJ0aWVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIENsZWFuIGFuZCBzZXQgdGhlIHN0eWxlIGFuZCByZWdpb24gZm9yIHRoZSBjdWUgdG8gYmUgcmV0dXJuZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBsaW5lIHBhZGRpbmcgcHJvcGVydHkgZnJvbSBiZWluZyBhZGRlZCBhdCB0aGUgXCJwYXJhZ3JhcGhcIiBlbGVtZW50IGxldmVsLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXlDb250YWlucygncGFkZGluZy1sZWZ0JywgY3VlU3R5bGVQcm9wZXJ0aWVzKSAmJiBhcnJheUNvbnRhaW5zKCdwYWRkaW5nLXJpZ2h0JywgY3VlU3R5bGVQcm9wZXJ0aWVzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlUHJvcGVydHlGcm9tQXJyYXkoJ3BhZGRpbmctbGVmdCcsIGN1ZVN0eWxlUHJvcGVydGllcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVQcm9wZXJ0eUZyb21BcnJheSgncGFkZGluZy1yaWdodCcsIGN1ZVN0eWxlUHJvcGVydGllcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgSUQgb2YgdGhlIHJlZ2lvbiBmcm9tIGJlaW5nIGFkZGVkIGF0IHRoZSBcInBhcmFncmFwaFwiIGVsZW1lbnQgbGV2ZWwuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWdpb25JRCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXlDb250YWlucygncmVnaW9uSUQnLCBjdWVSZWdpb25Qcm9wZXJ0aWVzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdob2xlUmVnaW9uSUQgPSBnZXRQcm9wZXJ0eUZyb21BcnJheSgncmVnaW9uSUQnLCBjdWVSZWdpb25Qcm9wZXJ0aWVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbklEID0gd2hvbGVSZWdpb25JRC5zbGljZSh3aG9sZVJlZ2lvbklELmluZGV4T2YoJzonKSArIDEsIHdob2xlUmVnaW9uSUQubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGxpbmsgdGhlIHAgc3R5bGUgdG8gdGhlIGZpbmFsZSBjdWVQYXJhZ3JhcGggZWxlbWVudC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ZVN0eWxlUHJvcGVydGllcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VlUGFyYWdyYXBoLnN0eWxlLmNzc1RleHQgPSBjdWVTdHlsZVByb3BlcnRpZXMuam9pbignICcpICsgJ2Rpc3BsYXk6ZmxleDsnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGRlZmluZSB0aGUgQ1NTIHN0eWxlIGZvciB0aGUgY3VlIHJlZ2lvbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1ZVJlZ2lvblByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ZVJlZ2lvblByb3BlcnRpZXMgPSBjdWVSZWdpb25Qcm9wZXJ0aWVzLmpvaW4oJyAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgdGhlbiBwbGFjZSB0aGUgY3VlIHdyYXBwZXIgaW5zaWRlIHRoZSBwYXJhZ3JhcGggZWxlbWVudC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VlUGFyYWdyYXBoLmFwcGVuZENoaWxkKGN1ZURpclVuaVdyYXBwZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmluYWwgY3VlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmluYWxDdWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxDdWUuYXBwZW5kQ2hpbGQoY3VlUGFyYWdyYXBoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxDdWUuaWQgPSBnZXRDdWVJRCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbEN1ZS5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOiBhYnNvbHV0ZTsgbWFyZ2luOiAwOyBkaXNwbGF5OiBmbGV4OyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBwb2ludGVyLWV2ZW50czogbm9uZTsnICsgY3VlUmVnaW9uUHJvcGVydGllcztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhmb250U2l6ZSkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZS5kZWZhdWx0Rm9udFNpemUgPSAnMTAwJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgYWRkIGFsbCB0aGUgY3VlIGluZm9ybWF0aW9uIGluIGNhcHRpb25BcnJheS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FwdGlvbkFycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGludGVydmFsWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBpbnRlcnZhbFsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdodG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ZUhUTUxFbGVtZW50OiBmaW5hbEN1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbnM6IHJlZ2lvbnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdpb25JRDogcmVnaW9uSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdWVJRDogZmluYWxDdWUuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWRlb0hlaWdodDogdmlkZW9IZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWRlb1dpZHRoOiB2aWRlb1dpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbFJlc29sdXRpb246IGNlbGxSZXNvbHV0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IGZvbnRTaXplIHx8IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Rm9udFNpemU6ICcxMDAnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZUhlaWdodDogbGluZUhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVQYWRkaW5nOiBsaW5lUGFkZGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRleHQgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRleHRFbGVtZW50cyA9IGNoaWxkcmVuSW5JbnRlcnZhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRleHRFbGVtZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbC5oYXNPd25Qcm9wZXJ0eSgnc3BhbicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcGFuRWxlbWVudHMgPSBlbC5zcGFuLl9fY2hpbGRyZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYW5FbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChzcGFuRWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIG1ldGFkYXRhIGlzIHByZXNlbnQsIGRvIG5vdCBwcm9jZXNzLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwYW5FbGVtZW50cy5oYXNPd25Qcm9wZXJ0eSgnbWV0YWRhdGEnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBlbGVtZW50IGlzIGEgc3RyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3BhbkVsLmhhc093blByb3BlcnR5KCcjdGV4dCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCArPSBzcGFuRWxbJyN0ZXh0J10ucmVwbGFjZSgvW1xcclxcbl0rL2dtLCAnICcpLnRyaW0oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZWxlbWVudCBpcyBhICdicicgdGFnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCdicicgaW4gc3BhbkVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgYnIgZWxlbWVudC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9ICdcXG4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsLmhhc093blByb3BlcnR5KCdicicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgKz0gJ1xcbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCArPSBlbFsnI3RleHQnXS5yZXBsYWNlKC9bXFxyXFxuXSsvZ20sICcgJykudHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXB0aW9uQXJyYXkucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogaW50ZXJ2YWxbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IGludGVydmFsWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogdGV4dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChlcnJvck1zZyAhPT0gJycpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3JNc2cpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNhcHRpb25BcnJheS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjYXB0aW9uQXJyYXk7XHJcbiAgICAgICAgfSBlbHNlIHsgLy8gVGhpcyBzZWVtcyB0b28gc3Ryb25nIGdpdmVuIHRoYXQgdGhlcmUgYXJlIHNlZ21lbnRzIHdpdGggbm8gVFRNTCBzdWJ0aXRsZXNcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTXNnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0dXAoKSB7XHJcbiAgICAgICAgLypcclxuICAgICAgICAgKiBUaGlzIFRUTUwgcGFyc2VyIGZvbGxvd3MgXCJFQlUtVFQtRCBTVUJUSVRMSU5HIERJU1RSSUJVVElPTiBGT1JNQVQgLSB0ZWNoMzM4MFwiIHNwZWMgLSBodHRwczovL3RlY2guZWJ1LmNoL2RvY3MvdGVjaC90ZWNoMzM4MC5wZGYuXHJcbiAgICAgICAgICogKi9cclxuICAgICAgICB0aW1pbmdSZWdleCA9IC9eKFswLTldWzAtOV0rKTooWzAtNV1bMC05XSk6KFswLTVdWzAtOV0pfCg2MCkoXFwuKFswLTldKSspPyQvOyAvLyBSZWdleCBkZWZpbmluZyB0aGUgdGltZVxyXG4gICAgICAgIGZvbnRTaXplID0ge307XHJcbiAgICAgICAgbGluZUhlaWdodCA9IHt9O1xyXG4gICAgICAgIGxpbmVQYWRkaW5nID0ge307XHJcbiAgICAgICAgZGVmYXVsdExheW91dFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgICAgICd0b3AnOiAnYXV0bzsnLFxyXG4gICAgICAgICAgICAnbGVmdCc6ICdhdXRvOycsXHJcbiAgICAgICAgICAgICd3aWR0aCc6ICc5MCU7JyxcclxuICAgICAgICAgICAgJ2hlaWdodCc6ICcxMCU7JyxcclxuICAgICAgICAgICAgJ2FsaWduLWl0ZW1zJzogJ2ZsZXgtc3RhcnQ7JyxcclxuICAgICAgICAgICAgJ292ZXJmbG93JzogJ3Zpc2libGU7JyxcclxuICAgICAgICAgICAgJy1tcy13cml0aW5nLW1vZGUnOiAnbHItdGIsIGhvcml6b250YWwtdGI7JyxcclxuICAgICAgICAgICAgJy13ZWJraXQtd3JpdGluZy1tb2RlJzogJ2hvcml6b250YWwtdGI7JyxcclxuICAgICAgICAgICAgJy1tb3otd3JpdGluZy1tb2RlJzogJ2hvcml6b250YWwtdGI7JyxcclxuICAgICAgICAgICAgJ3dyaXRpbmctbW9kZSc6ICdob3Jpem9udGFsLXRiOydcclxuICAgICAgICB9O1xyXG4gICAgICAgIGRlZmF1bHRTdHlsZVByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgICAgICdjb2xvcic6ICdyZ2IoMjU1LDI1NSwyNTUpOycsXHJcbiAgICAgICAgICAgICdkaXJlY3Rpb24nOiAnbHRyOycsXHJcbiAgICAgICAgICAgICdmb250LWZhbWlseSc6ICdtb25vc3BhY2UsIHNhbnMtc2VyaWY7JyxcclxuICAgICAgICAgICAgJ2ZvbnQtc3R5bGUnOiAnbm9ybWFsOycsXHJcbiAgICAgICAgICAgICdsaW5lLWhlaWdodCc6ICdub3JtYWw7JyxcclxuICAgICAgICAgICAgJ2ZvbnQtd2VpZ2h0JzogJ25vcm1hbDsnLFxyXG4gICAgICAgICAgICAndGV4dC1hbGlnbic6ICdzdGFydDsnLFxyXG4gICAgICAgICAgICAnanVzdGlmeS1jb250ZW50JzogJ2ZsZXgtc3RhcnQ7JyxcclxuICAgICAgICAgICAgJ3RleHQtZGVjb3JhdGlvbic6ICdub25lOycsXHJcbiAgICAgICAgICAgICd1bmljb2RlLWJpZGknOiAnbm9ybWFsOycsXHJcbiAgICAgICAgICAgICd3aGl0ZS1zcGFjZSc6ICdub3JtYWw7JyxcclxuICAgICAgICAgICAgJ3dpZHRoJzogJzEwMCU7J1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgZm9udEZhbWlsaWVzID0ge1xyXG4gICAgICAgICAgICBtb25vc3BhY2U6ICdmb250LWZhbWlseTogbW9ub3NwYWNlOycsXHJcbiAgICAgICAgICAgIHNhbnNTZXJpZjogJ2ZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmOycsXHJcbiAgICAgICAgICAgIHNlcmlmOiAnZm9udC1mYW1pbHk6IHNlcmlmOycsXHJcbiAgICAgICAgICAgIG1vbm9zcGFjZVNhbnNTZXJpZjogJ2ZvbnQtZmFtaWx5OiBtb25vc3BhY2UsIHNhbnMtc2VyaWY7JyxcclxuICAgICAgICAgICAgbW9ub3NwYWNlU2VyaWY6ICdmb250LWZhbWlseTogbW9ub3NwYWNlLCBzZXJpZjsnLFxyXG4gICAgICAgICAgICBwcm9wb3J0aW9uYWxTYW5zU2VyaWY6ICdmb250LWZhbWlseTogQXJpYWw7JyxcclxuICAgICAgICAgICAgcHJvcG9ydGlvbmFsU2VyaWY6ICdmb250LWZhbWlseTogVGltZXMgTmV3IFJvbWFuOycsXHJcbiAgICAgICAgICAgICdkZWZhdWx0JzogJ2ZvbnQtZmFtaWx5OiBtb25vc3BhY2UsIHNhbnMtc2VyaWY7J1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGV4dEFsaWduID0ge1xyXG4gICAgICAgICAgICByaWdodDogWydqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOycsICd0ZXh0LWFsaWduOiByaWdodDsnXSxcclxuICAgICAgICAgICAgc3RhcnQ6IFsnanVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0OycsICd0ZXh0LWFsaWduOiBzdGFydDsnXSxcclxuICAgICAgICAgICAgY2VudGVyOiBbJ2p1c3RpZnktY29udGVudDogY2VudGVyOycsICd0ZXh0LWFsaWduOiBjZW50ZXI7J10sXHJcbiAgICAgICAgICAgIGVuZDogWydqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOycsICd0ZXh0LWFsaWduOiBlbmQ7J10sXHJcbiAgICAgICAgICAgIGxlZnQ6IFsnanVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0OycsICd0ZXh0LWFsaWduOiBsZWZ0OyddXHJcbiAgICAgICAgfTtcclxuICAgICAgICBtdWx0aVJvd0FsaWduID0ge1xyXG4gICAgICAgICAgICBzdGFydDogJ3RleHQtYWxpZ246IHN0YXJ0OycsXHJcbiAgICAgICAgICAgIGNlbnRlcjogJ3RleHQtYWxpZ246IGNlbnRlcjsnLFxyXG4gICAgICAgICAgICBlbmQ6ICd0ZXh0LWFsaWduOiBlbmQ7JyxcclxuICAgICAgICAgICAgYXV0bzogJydcclxuICAgICAgICB9O1xyXG4gICAgICAgIHdyYXBPcHRpb24gPSB7XHJcbiAgICAgICAgICAgIHdyYXA6ICd3aGl0ZS1zcGFjZTogbm9ybWFsOycsXHJcbiAgICAgICAgICAgIG5vV3JhcDogJ3doaXRlLXNwYWNlOiBub3dyYXA7J1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdW5pY29kZUJpZGkgPSB7XHJcbiAgICAgICAgICAgIG5vcm1hbDogJ3VuaWNvZGUtYmlkaTogbm9ybWFsOycsXHJcbiAgICAgICAgICAgIGVtYmVkOiAndW5pY29kZS1iaWRpOiBlbWJlZDsnLFxyXG4gICAgICAgICAgICBiaWRpT3ZlcnJpZGU6ICd1bmljb2RlLWJpZGk6IGJpZGktb3ZlcnJpZGU7J1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgZGlzcGxheUFsaWduID0ge1xyXG4gICAgICAgICAgICBiZWZvcmU6ICdhbGlnbi1pdGVtczogZmxleC1zdGFydDsnLFxyXG4gICAgICAgICAgICBjZW50ZXI6ICdhbGlnbi1pdGVtczogY2VudGVyOycsXHJcbiAgICAgICAgICAgIGFmdGVyOiAnYWxpZ24taXRlbXM6IGZsZXgtZW5kOydcclxuICAgICAgICB9O1xyXG4gICAgICAgIHdyaXRpbmdNb2RlID0ge1xyXG4gICAgICAgICAgICBscnRiOiAnLXdlYmtpdC13cml0aW5nLW1vZGU6IGhvcml6b250YWwtdGI7JyArXHJcbiAgICAgICAgICAgICAgICAnd3JpdGluZy1tb2RlOiBob3Jpem9udGFsLXRiOycsXHJcbiAgICAgICAgICAgIHJsdGI6ICctd2Via2l0LXdyaXRpbmctbW9kZTogaG9yaXpvbnRhbC10YjsnICtcclxuICAgICAgICAgICAgICAgICd3cml0aW5nLW1vZGU6IGhvcml6b250YWwtdGI7JyArXHJcbiAgICAgICAgICAgICAgICAnZGlyZWN0aW9uOiBydGw7JyArXHJcbiAgICAgICAgICAgICAgICAndW5pY29kZS1iaWRpOiBiaWRpLW92ZXJyaWRlOycsXHJcbiAgICAgICAgICAgIHRicmw6ICctd2Via2l0LXdyaXRpbmctbW9kZTogdmVydGljYWwtcmw7JyArXHJcbiAgICAgICAgICAgICAgICAnd3JpdGluZy1tb2RlOiB2ZXJ0aWNhbC1ybDsnICtcclxuICAgICAgICAgICAgICAgICctd2Via2l0LXRleHQtb3JpZW50YXRpb246IHVwcmlnaHQ7JyArXHJcbiAgICAgICAgICAgICAgICAndGV4dC1vcmllbnRhdGlvbjogdXByaWdodDsnLFxyXG4gICAgICAgICAgICB0YmxyOiAnLXdlYmtpdC13cml0aW5nLW1vZGU6IHZlcnRpY2FsLWxyOycgK1xyXG4gICAgICAgICAgICAgICAgJ3dyaXRpbmctbW9kZTogdmVydGljYWwtbHI7JyArXHJcbiAgICAgICAgICAgICAgICAnLXdlYmtpdC10ZXh0LW9yaWVudGF0aW9uOiB1cHJpZ2h0OycgK1xyXG4gICAgICAgICAgICAgICAgJ3RleHQtb3JpZW50YXRpb246IHVwcmlnaHQ7JyxcclxuICAgICAgICAgICAgbHI6ICctd2Via2l0LXdyaXRpbmctbW9kZTogaG9yaXpvbnRhbC10YjsnICtcclxuICAgICAgICAgICAgICAgICd3cml0aW5nLW1vZGU6IGhvcml6b250YWwtdGI7JyxcclxuICAgICAgICAgICAgcmw6ICctd2Via2l0LXdyaXRpbmctbW9kZTogaG9yaXpvbnRhbC10YjsnICtcclxuICAgICAgICAgICAgICAgICd3cml0aW5nLW1vZGU6IGhvcml6b250YWwtdGI7JyArXHJcbiAgICAgICAgICAgICAgICAnZGlyZWN0aW9uOiBydGw7JyxcclxuICAgICAgICAgICAgdGI6ICctd2Via2l0LXdyaXRpbmctbW9kZTogdmVydGljYWwtcmw7JyArXHJcbiAgICAgICAgICAgICAgICAnd3JpdGluZy1tb2RlOiB2ZXJ0aWNhbC1ybDsnICtcclxuICAgICAgICAgICAgICAgICctd2Via2l0LXRleHQtb3JpZW50YXRpb246IHVwcmlnaHQ7JyArXHJcbiAgICAgICAgICAgICAgICAndGV4dC1vcmllbnRhdGlvbjogdXByaWdodDsnXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwYXJzZVRpbWluZ3ModGltaW5nU3RyKSB7XHJcbiAgICAgICAgLy8gVGVzdCBpZiB0aGUgdGltZSBwcm92aWRlZCBieSB0aGUgY2FwdGlvbiBpcyB2YWxpZC5cclxuICAgICAgICB2YXIgdGVzdCA9IHRpbWluZ1JlZ2V4LnRlc3QodGltaW5nU3RyKTtcclxuICAgICAgICB2YXIgdGltZVBhcnRzLFxyXG4gICAgICAgICAgICBwYXJzZWRUaW1lLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU7XHJcblxyXG4gICAgICAgIGlmICghdGVzdCkge1xyXG4gICAgICAgICAgICAvLyBSZXR1cm4gTmFOIHNvIGl0IHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGF0IGludGVybmFsUGFyc2UgaWYgdGhlIHRpbWUgaXMgaW5jb3JyZWN0LlxyXG4gICAgICAgICAgICByZXR1cm4gTmFOO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGltZVBhcnRzID0gdGltaW5nU3RyLnNwbGl0KCc6Jyk7XHJcblxyXG4gICAgICAgIC8vIFByb2Nlc3MgdGhlIHRpbWluZ3MgYnkgZGVjb21wb3NpbmcgaXQgYW5kIGNvbnZlcnRpbmcgaXQgaW4gbnVtYmVycy5cclxuICAgICAgICBwYXJzZWRUaW1lID0gKHBhcnNlRmxvYXQodGltZVBhcnRzWzBdKSAqIFNFQ09ORFNfSU5fSE9VUiArXHJcbiAgICAgICAgICAgIHBhcnNlRmxvYXQodGltZVBhcnRzWzFdKSAqIFNFQ09ORFNfSU5fTUlOICtcclxuICAgICAgICAgICAgcGFyc2VGbG9hdCh0aW1lUGFydHNbMl0pKTtcclxuXHJcbiAgICAgICAgLy8gSW4gY2FzZSBhIGZyYW1lUmF0ZSBpcyBwcm92aWRlZCwgd2UgYWRqdXN0IHRoZSBwYXJzZWQgdGltZS5cclxuICAgICAgICBpZiAodGltZVBhcnRzWzNdKSB7XHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZSA9IHR0bWwudHQuZnJhbWVSYXRlO1xyXG4gICAgICAgICAgICBpZiAoZnJhbWVSYXRlICYmICFpc05hTihmcmFtZVJhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJzZWRUaW1lICs9IHBhcnNlRmxvYXQodGltZVBhcnRzWzNdKSAvIGZyYW1lUmF0ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBOYU47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlZFRpbWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0TmFtZXNwYWNlUHJlZml4KGpzb24sIG5zKSB7XHJcbiAgICAgICAgLy8gT2J0YWluIHRoZSBuYW1lc3BhY2UgcHJlZml4LlxyXG4gICAgICAgIHZhciByID0gT2JqZWN0LmtleXMoanNvbilcclxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChrLnNwbGl0KCc6JylbMF0gPT09ICd4bWxucycgfHwgay5zcGxpdCgnOicpWzFdID09PSAneG1sbnMnKSAmJiBqc29uW2tdID09PSBucztcclxuICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChrKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gay5zcGxpdCgnOicpWzJdIHx8IGsuc3BsaXQoJzonKVsxXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHIubGVuZ3RoICE9IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZU5hbWVzcGFjZVByZWZpeChqc29uLCBuc1ByZWZpeCkge1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBqc29uKSB7XHJcbiAgICAgICAgICAgIGlmIChqc29uLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGlmICgodHlwZW9mIGpzb25ba2V5XSA9PT0gJ29iamVjdCcgfHwganNvbltrZXldIGluc3RhbmNlb2YgT2JqZWN0KSAmJiAhQXJyYXkuaXNBcnJheShqc29uW2tleV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTmFtZXNwYWNlUHJlZml4KGpzb25ba2V5XSwgbnNQcmVmaXgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGpzb25ba2V5XSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGpzb25ba2V5XS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVOYW1lc3BhY2VQcmVmaXgoanNvbltrZXldW2ldLCBuc1ByZWZpeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIG5ld0tleSA9IGtleS5zbGljZShrZXkuaW5kZXhPZihuc1ByZWZpeCkgKyBuc1ByZWZpeC5sZW5ndGggKyAxKTtcclxuICAgICAgICAgICAgICAgIGpzb25bbmV3S2V5XSA9IGpzb25ba2V5XTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBqc29uW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gYmFja2dyb3VuZENvbG9yID0gYmFja2dyb3VuZC1jb2xvciwgY29udmVydCBmcm9tIGNhbWVsQ2FzZSB0byBkYXNoLlxyXG4gICAgZnVuY3Rpb24gY2FtZWxDYXNlVG9EYXNoKGtleSkge1xyXG4gICAgICAgIHJldHVybiBrZXkucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgJyQxLSQyJykudG9Mb3dlckNhc2UoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb252ZXJ0IGFuIFJHQkEgdmFsdWUgd3JpdHRlbiBpbiBIZXggdG8gcmdiYSh2LHYsdixhKS5cclxuICAgIGZ1bmN0aW9uIGNvbnZlcnRIZXhUb1JHQkEocmdiYSkge1xyXG4gICAgICAgIC8vIEdldCB0aGUgaGV4YWRlY2ltYWwgdmFsdWUgd2l0aG91dCB0aGUgIy5cclxuICAgICAgICB2YXIgaGV4ID0gcmdiYS5zbGljZSgxKTtcclxuICAgICAgICAvLyBTZXBhcmF0ZSB0aGUgdmFsdWVzIGluIHBhaXJzLlxyXG4gICAgICAgIHZhciBoZXhNYXRyaWNlID0gaGV4Lm1hdGNoKC8uezJ9L2cpO1xyXG4gICAgICAgIC8vIENvbnZlcnQgdGhlIGFscGhhIHZhbHVlIGluIGRlY2ltYWwgYmV0d2VlbiAwIGFuZCAxLlxyXG4gICAgICAgIHZhciBhbHBoYSA9IHBhcnNlRmxvYXQocGFyc2VJbnQoKHBhcnNlSW50KGhleE1hdHJpY2VbM10sIDE2KSAvIDI1NSkgKiAxMDAwLCAxMCkgLyAxMDAwKTtcclxuICAgICAgICAvLyBHZXQgdGhlIHN0YW5kYXJkIFJHQiB2YWx1ZS5cclxuICAgICAgICB2YXIgcmdiID0gaGV4TWF0cmljZS5zbGljZSgwLCAzKS5tYXAoZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGksIDE2KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBSZXR1cm4gdGhlIFJHQkEgdmFsdWUgZm9yIENTUy5cclxuICAgICAgICByZXR1cm4gJ3JnYmEoJyArIHJnYi5qb2luKCcsJykgKyAnLCcgKyBhbHBoYSArICcpOyc7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV0dXJuIHdoZXRoZXIgb3Igbm90IGFuIGFycmF5IGNvbnRhaW5zIGEgY2VydGFpbiB0ZXh0XHJcbiAgICBmdW5jdGlvbiBhcnJheUNvbnRhaW5zKHRleHQsIGFycmF5KSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoYXJyYXlbaV0uaW5kZXhPZih0ZXh0KSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV0dXJuIHRoZSB3aG9sZSB2YWx1ZSB0aGF0IGNvbnRhaW5zIFwidGV4dFwiXHJcbiAgICBmdW5jdGlvbiBnZXRQcm9wZXJ0eUZyb21BcnJheSh0ZXh0LCBhcnJheSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGFycmF5W2ldLmluZGV4T2YodGV4dCkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5W2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERlbGV0ZSBhIGEgcHJvcGVydHkgZnJvbSBhbiBhcnJheS5cclxuICAgIGZ1bmN0aW9uIGRlbGV0ZVByb3BlcnR5RnJvbUFycmF5KHByb3BlcnR5LCBhcnJheSkge1xyXG4gICAgICAgIGFycmF5LnNwbGljZShhcnJheS5pbmRleE9mKGdldFByb3BlcnR5RnJvbUFycmF5KHByb3BlcnR5LCBhcnJheSkpLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtZXJnZUFycmF5cyhwcmltZUFycmF5LCBhcnJheVRvQWRkKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmltZUFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYXJyYXlUb0FkZC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgLy8gVGFrZSBvbmx5IHRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eVxyXG4gICAgICAgICAgICAgICAgaWYgKHByaW1lQXJyYXlbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJpbWVBcnJheVtpXS5zcGxpdCgnOicpWzBdLmluZGV4T2YoYXJyYXlUb0FkZFtqXS5zcGxpdCgnOicpWzBdKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaW1lQXJyYXkuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcHJpbWVBcnJheS5jb25jYXQoYXJyYXlUb0FkZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQcm9jZXNzaW5nIG9mIHN0eWxpbmcgaW5mb3JtYXRpb246XHJcbiAgICAgKiAtIHByb2Nlc3NTdHlsZTogcmV0dXJuIGFuIGFycmF5IG9mIHN0cmluZ3Mgd2l0aCB0aGUgY3VlIHN0eWxlIHVuZGVyIGEgQ1NTIHN0eWxlIGZvcm0uXHJcbiAgICAgKiAtIGZpbmRTdHlsZUZyb21JRDogUmV0dXJuIHRoZSB1bnByb2Nlc3NlZCBzdHlsZSBmcm9tIFRUTUxTdHlsaW5nIGNvcnJlc3BvbmRpbmcgdG8gdGhlIElEIHJlc2VhcmNoZWQuXHJcbiAgICAgKiAtIGdldFByb2Nlc3NlZFN0eWxlOiBSZXR1cm4gdGhlIHByb2Nlc3NlZCBzdHlsZShzKSBmcm9tIHRoZSBJRChzKSByZWNlaXZlZCBpbiBlbnRyeS5cclxuICAgICAqICoqL1xyXG5cclxuXHJcbiAgICAvLyBDb21wdXRlIHRoZSBzdHlsZSBwcm9wZXJ0aWVzIHRvIHJldHVybiBhbiBhcnJheSB3aXRoIHRoZSBjbGVhbmVkIHByb3BlcnRpZXMuXHJcbiAgICBmdW5jdGlvbiBwcm9jZXNzU3R5bGUoY3VlU3R5bGUsIGNlbGxVbml0LCBpbmNsdWRlUmVnaW9uU3R5bGVzKSB7XHJcbiAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBbXTtcclxuXHJcbiAgICAgICAgLy8gQ2xlYW4gdXAgZnJvbSB0aGUgeG1sMmpzb24gcGFyc2luZzpcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gY3VlU3R5bGUpIHtcclxuICAgICAgICAgICAgaWYgKGN1ZVN0eWxlLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgICAgIC8vQ2xlYW4gdGhlIHByb3BlcnRpZXMgZnJvbSB0aGUgcGFyc2luZy5cclxuICAgICAgICAgICAgICAgIHZhciBuZXdLZXkgPSBrZXkucmVwbGFjZSgnZWJ1dHRzOicsICcnKTtcclxuICAgICAgICAgICAgICAgIG5ld0tleSA9IG5ld0tleS5yZXBsYWNlKCd4bWw6JywgJycpO1xyXG4gICAgICAgICAgICAgICAgbmV3S2V5ID0gbmV3S2V5LnJlcGxhY2UoJ3R0czonLCAnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2xlYW4gdGhlIHByb3BlcnRpZXMnIG5hbWVzLlxyXG4gICAgICAgICAgICAgICAgbmV3S2V5ID0gY2FtZWxDYXNlVG9EYXNoKG5ld0tleSk7XHJcbiAgICAgICAgICAgICAgICBjdWVTdHlsZVtuZXdLZXldID0gY3VlU3R5bGVba2V5XTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBjdWVTdHlsZVtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMaW5lIHBhZGRpbmcgaXMgY29tcHV0ZWQgZnJvbSB0aGUgY2VsbFJlc29sdXRpb24uXHJcbiAgICAgICAgaWYgKCdsaW5lLXBhZGRpbmcnIGluIGN1ZVN0eWxlKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZVBhZGRpbmcgPSBwYXJzZUZsb2F0KGN1ZVN0eWxlWydsaW5lLXBhZGRpbmcnXS5zbGljZShjdWVTdHlsZVsnbGluZS1wYWRkaW5nJ10uaW5kZXhPZignOicpICsgMSxcclxuICAgICAgICAgICAgICAgIGN1ZVN0eWxlWydsaW5lLXBhZGRpbmcnXS5pbmRleE9mKCdjJykpKTtcclxuICAgICAgICAgICAgaWYgKCdpZCcgaW4gY3VlU3R5bGUpIHtcclxuICAgICAgICAgICAgICAgIGxpbmVQYWRkaW5nW2N1ZVN0eWxlLmlkXSA9IHZhbHVlUGFkZGluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgdmFsdWVQYWRkaW5nSW5QeCA9IHZhbHVlUGFkZGluZyAqIGNlbGxVbml0WzBdICsgJ3B4Oyc7XHJcbiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaCgncGFkZGluZy1sZWZ0OicgKyB2YWx1ZVBhZGRpbmdJblB4KTtcclxuICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKCdwYWRkaW5nLXJpZ2h0OicgKyB2YWx1ZVBhZGRpbmdJblB4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRm9udCBzaXplIGlzIGNvbXB1dGVkIGZyb20gdGhlIGNlbGxSZXNvbHV0aW9uLlxyXG4gICAgICAgIGlmICgnZm9udC1zaXplJyBpbiBjdWVTdHlsZSkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWVGdFNpemUgPSBwYXJzZUZsb2F0KGN1ZVN0eWxlWydmb250LXNpemUnXS5zbGljZShjdWVTdHlsZVsnZm9udC1zaXplJ10uaW5kZXhPZignOicpICsgMSxcclxuICAgICAgICAgICAgICAgIGN1ZVN0eWxlWydmb250LXNpemUnXS5pbmRleE9mKCclJykpKTtcclxuICAgICAgICAgICAgaWYgKCdpZCcgaW4gY3VlU3R5bGUpIHtcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplW2N1ZVN0eWxlLmlkXSA9IHZhbHVlRnRTaXplO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZUZ0U2l6ZUluUHggPSB2YWx1ZUZ0U2l6ZSAvIDEwMCAqIGNlbGxVbml0WzFdICsgJ3B4Oyc7XHJcbiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaCgnZm9udC1zaXplOicgKyB2YWx1ZUZ0U2l6ZUluUHgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMaW5lIGhlaWdodCBpcyBjb21wdXRlZCBmcm9tIHRoZSBjZWxsUmVzb2x1dGlvbi5cclxuICAgICAgICBpZiAoJ2xpbmUtaGVpZ2h0JyBpbiBjdWVTdHlsZSkge1xyXG4gICAgICAgICAgICBpZiAoY3VlU3R5bGVbJ2xpbmUtaGVpZ2h0J10gPT09ICdub3JtYWwnKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2goJ2xpbmUtaGVpZ2h0OiBub3JtYWw7Jyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVMSFNpemUgPSBwYXJzZUZsb2F0KGN1ZVN0eWxlWydsaW5lLWhlaWdodCddLnNsaWNlKGN1ZVN0eWxlWydsaW5lLWhlaWdodCddLmluZGV4T2YoJzonKSArIDEsXHJcbiAgICAgICAgICAgICAgICAgICAgY3VlU3R5bGVbJ2xpbmUtaGVpZ2h0J10uaW5kZXhPZignJScpKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoJ2lkJyBpbiBjdWVTdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVIZWlnaHRbY3VlU3R5bGUuaWRdID0gdmFsdWVMSFNpemU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVMSFNpemVJblB4ID0gdmFsdWVMSFNpemUgLyAxMDAgKiBjZWxsVW5pdFsxXSArICdweDsnO1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKCdsaW5lLWhlaWdodCcgKyAnOicgKyB2YWx1ZUxIU2l6ZUluUHgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEZvbnQtZmFtaWx5IGNhbiBiZSBzcGVjaWZpZWQgYnkgYSBnZW5lcmljIGZhbWlseSBuYW1lIG9yIGEgY3VzdG9tIGZhbWlseSBuYW1lLlxyXG4gICAgICAgIGlmICgnZm9udC1mYW1pbHknIGluIGN1ZVN0eWxlKSB7XHJcbiAgICAgICAgICAgIGlmIChjdWVTdHlsZVsnZm9udC1mYW1pbHknXSBpbiBmb250RmFtaWxpZXMpIHtcclxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaChmb250RmFtaWxpZXNbY3VlU3R5bGVbJ2ZvbnQtZmFtaWx5J11dKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaCgnZm9udC1mYW1pbHk6JyArIGN1ZVN0eWxlWydmb250LWZhbWlseSddICsgJzsnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUZXh0IGFsaWduIG5lZWRzIHRvIGJlIHNldCBmcm9tIHR3byBwcm9wZXJ0aWVzOlxyXG4gICAgICAgIC8vIFRoZSBzdGFuZGFyZCB0ZXh0LWFsaWduIENTUyBwcm9wZXJ0eS5cclxuICAgICAgICAvLyBUaGUganVzdGlmeS1jb250ZW50IHByb3BlcnR5IGFzIHdlIHVzZSBmbGV4IGJveGVzLlxyXG4gICAgICAgIGlmICgndGV4dC1hbGlnbicgaW4gY3VlU3R5bGUpIHtcclxuICAgICAgICAgICAgaWYgKGN1ZVN0eWxlWyd0ZXh0LWFsaWduJ10gaW4gdGV4dEFsaWduKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2godGV4dEFsaWduW2N1ZVN0eWxlWyd0ZXh0LWFsaWduJ11dWzBdKTtcclxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaCh0ZXh0QWxpZ25bY3VlU3R5bGVbJ3RleHQtYWxpZ24nXV1bMV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE11bHRpIFJvdyBhbGlnbiBpcyBzZXQgb25seSBieSB0aGUgdGV4dC1hbGlnbiBwcm9wZXJ0eS5cclxuICAgICAgICAvLyBUT0RPOiBUTyBDSEVDS1xyXG4gICAgICAgIGlmICgnbXVsdGktcm93LWFsaWduJyBpbiBjdWVTdHlsZSkge1xyXG4gICAgICAgICAgICBpZiAoYXJyYXlDb250YWlucygndGV4dC1hbGlnbicsIHByb3BlcnRpZXMpICYmIGN1ZVN0eWxlWydtdWx0aS1yb3ctYWxpZ24nXSAhPSAnYXV0bycpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZVByb3BlcnR5RnJvbUFycmF5KCd0ZXh0LWFsaWduJywgcHJvcGVydGllcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGN1ZVN0eWxlWydtdWx0aS1yb3ctYWxpZ24nXSBpbiBtdWx0aVJvd0FsaWduKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2gobXVsdGlSb3dBbGlnbltjdWVTdHlsZVsnbXVsdGktcm93LWFsaWduJ11dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBCYWNrZ3JvdW5kIGNvbG9yIGNhbiBiZSBzcGVjaWZpZWQgZnJvbSBoZXhhZGVjaW1hbCAoUkdCIG9yIFJHQkEpIHZhbHVlLlxyXG4gICAgICAgIHZhciByZ2JhVmFsdWU7XHJcbiAgICAgICAgaWYgKCdiYWNrZ3JvdW5kLWNvbG9yJyBpbiBjdWVTdHlsZSkge1xyXG4gICAgICAgICAgICBpZiAoY3VlU3R5bGVbJ2JhY2tncm91bmQtY29sb3InXS5pbmRleE9mKCcjJykgPiAtMSAmJiAoY3VlU3R5bGVbJ2JhY2tncm91bmQtY29sb3InXS5sZW5ndGggLSAxKSA9PT0gOCkge1xyXG4gICAgICAgICAgICAgICAgcmdiYVZhbHVlID0gY29udmVydEhleFRvUkdCQShjdWVTdHlsZVsnYmFja2dyb3VuZC1jb2xvciddKTtcclxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaCgnYmFja2dyb3VuZC1jb2xvcjogJyArIHJnYmFWYWx1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2goJ2JhY2tncm91bmQtY29sb3I6JyArIGN1ZVN0eWxlWydiYWNrZ3JvdW5kLWNvbG9yJ10gKyAnOycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENvbG9yIGNhbiBiZSBzcGVjaWZpZWQgZnJvbSBoZXhhZGVjaW1hbCAoUkdCIG9yIFJHQkEpIHZhbHVlLlxyXG4gICAgICAgIGlmICgnY29sb3InIGluIGN1ZVN0eWxlKSB7XHJcbiAgICAgICAgICAgIGlmIChjdWVTdHlsZS5jb2xvci5pbmRleE9mKCcjJykgPiAtMSAmJiAoY3VlU3R5bGUuY29sb3IubGVuZ3RoIC0gMSkgPT09IDgpIHtcclxuICAgICAgICAgICAgICAgIHJnYmFWYWx1ZSA9IGNvbnZlcnRIZXhUb1JHQkEoY3VlU3R5bGUuY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKCdjb2xvcjogJyArIHJnYmFWYWx1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2goJ2NvbG9yOicgKyBjdWVTdHlsZS5jb2xvciArICc7Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gV3JhcCBvcHRpb24gaXMgZGV0ZXJtaW5lZCBieSB0aGUgd2hpdGUtc3BhY2UgQ1NTIHByb3BlcnR5LlxyXG4gICAgICAgIGlmICgnd3JhcC1vcHRpb24nIGluIGN1ZVN0eWxlKSB7XHJcbiAgICAgICAgICAgIGlmIChjdWVTdHlsZVsnd3JhcC1vcHRpb24nXSBpbiB3cmFwT3B0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2god3JhcE9wdGlvbltjdWVTdHlsZVsnd3JhcC1vcHRpb24nXV0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKCd3aGl0ZS1zcGFjZTonICsgY3VlU3R5bGVbJ3dyYXAtb3B0aW9uJ10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFVuaWNvZGUgYmlkaSBpcyBkZXRlcm1pbmVkIGJ5IHRoZSB1bmljb2RlLWJpZGkgQ1NTIHByb3BlcnR5LlxyXG4gICAgICAgIGlmICgndW5pY29kZS1iaWRpJyBpbiBjdWVTdHlsZSkge1xyXG4gICAgICAgICAgICBpZiAoY3VlU3R5bGVbJ3VuaWNvZGUtYmlkaSddIGluIHVuaWNvZGVCaWRpKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2godW5pY29kZUJpZGlbY3VlU3R5bGVbJ3VuaWNvZGUtYmlkaSddXSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2goJ3VuaWNvZGUtYmlkaTonICsgY3VlU3R5bGVbJ3VuaWNvZGUtYmlkaSddKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU3RhbmRhcmQgcHJvcGVydGllcyBpZGVudGljYWwgdG8gQ1NTLlxyXG5cclxuICAgICAgICBpZiAoJ2ZvbnQtc3R5bGUnIGluIGN1ZVN0eWxlKSB7XHJcbiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaCgnZm9udC1zdHlsZTonICsgY3VlU3R5bGVbJ2ZvbnQtc3R5bGUnXSArICc7Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgnZm9udC13ZWlnaHQnIGluIGN1ZVN0eWxlKSB7XHJcbiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaCgnZm9udC13ZWlnaHQ6JyArIGN1ZVN0eWxlWydmb250LXdlaWdodCddICsgJzsnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCdkaXJlY3Rpb24nIGluIGN1ZVN0eWxlKSB7XHJcbiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaCgnZGlyZWN0aW9uOicgKyBjdWVTdHlsZS5kaXJlY3Rpb24gKyAnOycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJ3RleHQtZGVjb3JhdGlvbicgaW4gY3VlU3R5bGUpIHtcclxuICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKCd0ZXh0LWRlY29yYXRpb246JyArIGN1ZVN0eWxlWyd0ZXh0LWRlY29yYXRpb24nXSArICc7Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaW5jbHVkZVJlZ2lvblN0eWxlcykge1xyXG4gICAgICAgICAgICBwcm9wZXJ0aWVzID0gcHJvcGVydGllcy5jb25jYXQocHJvY2Vzc1JlZ2lvbihjdWVTdHlsZSwgY2VsbFVuaXQpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEhhbmRsZSB3aGl0ZS1zcGFjZSBwcmVzZXJ2ZVxyXG4gICAgICAgIGlmICh0dG1sLnR0Lmhhc093blByb3BlcnR5KCd4bWw6c3BhY2UnKSkge1xyXG4gICAgICAgICAgICBpZiAodHRtbC50dFsneG1sOnNwYWNlJ10gPT09ICdwcmVzZXJ2ZScpIHtcclxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaCgnd2hpdGUtc3BhY2U6IHByZTsnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHByb3BlcnRpZXM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRmluZCB0aGUgc3R5bGUgc2V0IGJ5IGNvbXBhcmluZyB0aGUgc3R5bGUgSURzIGF2YWlsYWJsZS5cclxuICAgIC8vIFJldHVybiBudWxsIGlmIG5vIHN0eWxlIGlzIGZvdW5kXHJcbiAgICBmdW5jdGlvbiBmaW5kU3R5bGVGcm9tSUQodHRtbFN0eWxpbmcsIGN1ZVN0eWxlSUQpIHtcclxuICAgICAgICAvLyBGb3IgZXZlcnkgc3R5bGVzIGF2YWlsYWJsZSwgc2VhcmNoIHRoZSBjb3JyZXNwb25kaW5nIHN0eWxlIGluIHR0bWxTdHlsaW5nLlxyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdHRtbFN0eWxpbmcubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJTdHlsZSA9IHR0bWxTdHlsaW5nW2pdO1xyXG4gICAgICAgICAgICBpZiAoY3VyclN0eWxlWyd4bWw6aWQnXSA9PT0gY3VlU3R5bGVJRCB8fCBjdXJyU3R5bGUuaWQgPT09IGN1ZVN0eWxlSUQpIHtcclxuICAgICAgICAgICAgICAgIC8vIFJldHVybiB0aGUgc3R5bGUgY29ycmVzcG9uZGluZyB0byB0aGUgSUQgaW4gcGFyYW1ldGVyLlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJTdHlsZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIC8vIFJldHVybiB0aGUgY29tcHV0ZWQgc3R5bGUgZnJvbSBhIGNlcnRhaW4gSUQuXHJcbiAgICBmdW5jdGlvbiBnZXRQcm9jZXNzZWRTdHlsZShyZWZlcmVuY2UsIGNlbGxVbml0LCBpbmNsdWRlUmVnaW9uU3R5bGVzKSB7XHJcbiAgICAgICAgdmFyIHN0eWxlcyA9IFtdO1xyXG4gICAgICAgIHZhciBpZHMgPSByZWZlcmVuY2UubWF0Y2goL1xcUysvZyk7XHJcbiAgICAgICAgaWRzLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XHJcbiAgICAgICAgICAgIC8vIEZpbmQgdGhlIHN0eWxlIGZvciBlYWNoIGlkIHJlY2VpdmVkLlxyXG4gICAgICAgICAgICB2YXIgY3VlU3R5bGUgPSBmaW5kU3R5bGVGcm9tSUQodHRtbFN0eWxpbmcsIGlkKTtcclxuICAgICAgICAgICAgaWYgKGN1ZVN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBQcm9jZXNzIHRoZSBzdHlsZSBmb3IgdGhlIGN1ZSBpbiBDU1MgZm9ybS5cclxuICAgICAgICAgICAgICAgIC8vIFNlbmQgYSBjb3B5IG9mIHRoZSBzdHlsZSBvYmplY3QsIHNvIGl0IGRvZXMgbm90IG1vZGlmeSB0aGUgb3JpZ2luYWwgYnkgY2xlYW5pbmcgaXQuXHJcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGVzRnJvbUlkID0gcHJvY2Vzc1N0eWxlKEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY3VlU3R5bGUpKSwgY2VsbFVuaXQsIGluY2x1ZGVSZWdpb25TdHlsZXMpO1xyXG4gICAgICAgICAgICAgICAgc3R5bGVzID0gc3R5bGVzLmNvbmNhdChzdHlsZXNGcm9tSWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHN0eWxlcztcclxuICAgIH1cclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgcmVsYXRpdmUgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0IGZyb20gZXh0ZW50IGFuZCBvcmlnaW4gaW4gcGVyY2VudC5cclxuICAgIC8vIFJldHVybiBvYmplY3Qgd2l0aCB7bGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0fSBhcyBudW1iZXJzIGluIHBlcmNlbnQgb3IgbnVsbC5cclxuICAgIGZ1bmN0aW9uIGdldFJlbGF0aXZlUG9zaXRpb25pbmcoZWxlbWVudCwgdHRFeHRlbnQpIHtcclxuXHJcbiAgICAgICAgbGV0IHBhaXJSZSA9IC8oW1xcZFxcLl0rKSglfHB4KVxccysoW1xcZFxcLl0rKSglfHB4KS87XHJcblxyXG4gICAgICAgIGlmICgoJ3R0czpleHRlbnQnIGluIGVsZW1lbnQpICYmICgndHRzOm9yaWdpbicgaW4gZWxlbWVudCkgKSB7XHJcbiAgICAgICAgICAgIGxldCBleHRlbnRQYXJ0cyA9IHBhaXJSZS5leGVjKGVsZW1lbnRbJ3R0czpleHRlbnQnXSk7XHJcbiAgICAgICAgICAgIGxldCBvcmlnaW5QYXJ0cyA9IHBhaXJSZS5leGVjKGVsZW1lbnRbJ3R0czpvcmlnaW4nXSk7XHJcbiAgICAgICAgICAgIGlmIChleHRlbnRQYXJ0cyA9PT0gbnVsbCB8fCBvcmlnaW5QYXJ0cyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0JhZCBleHRlbnQgb3Igb3JpZ2luOiAnICsgZWxlbWVudFsndHRzOmV4dGVudCddICsgJyAnICsgZWxlbWVudFsndHRzOm9yaWdpbiddKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCB3aWR0aCA9IHBhcnNlRmxvYXQoZXh0ZW50UGFydHNbMV0pO1xyXG4gICAgICAgICAgICBsZXQgaGVpZ2h0ID0gcGFyc2VGbG9hdChleHRlbnRQYXJ0c1szXSk7XHJcbiAgICAgICAgICAgIGxldCBsZWZ0ID0gcGFyc2VGbG9hdChvcmlnaW5QYXJ0c1sxXSk7XHJcbiAgICAgICAgICAgIGxldCB0b3AgPSBwYXJzZUZsb2F0KG9yaWdpblBhcnRzWzNdKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0dEV4dGVudCkgeyAvLyBTaG91bGQgZ2l2ZSBvdmVyYWxsIHNjYWxlIGluIHBpeGVsc1xyXG4gICAgICAgICAgICAgICAgbGV0IHR0RXh0ZW50UGFydHMgPSBwYWlyUmUuZXhlYyh0dEV4dGVudCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodHRFeHRlbnRQYXJ0cyA9PT0gbnVsbCB8fCB0dEV4dGVudFBhcnRzWzJdICE9PSAncHgnIHx8IHR0RXh0ZW50UGFydHNbNF0gIT09ICdweCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQmFkIHR0LmV4dGVudDogJyArIHR0RXh0ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCBleFdpZHRoID0gcGFyc2VGbG9hdCh0dEV4dGVudFBhcnRzWzFdKTtcclxuICAgICAgICAgICAgICAgIGxldCBleEhlaWdodCA9IHBhcnNlRmxvYXQodHRFeHRlbnRQYXJ0c1szXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXh0ZW50UGFydHNbMl0gPT09ICdweCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IHdpZHRoIC8gZXhXaWR0aCAqIDEwMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChleHRlbnRQYXJ0c1s0XSA9PT0gJ3B4Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IGhlaWdodCAvIGV4SGVpZ2h0ICogMTAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpblBhcnRzWzJdID09PSAncHgnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9IGxlZnQgLyBleFdpZHRoICogMTAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpblBhcnRzWzRdID09PSAncHgnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gdG9wIC8gZXhIZWlnaHQgKiAxMDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHsgJ2xlZnQnOiBsZWZ0LCAndG9wJzogdG9wLCAnd2lkdGgnOiB3aWR0aCwgJ2hlaWdodCc6IGhlaWdodCB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFByb2Nlc3Npbmcgb2YgbGF5b3V0IGluZm9ybWF0aW9uOlxyXG4gICAgICogLSBwcm9jZXNzUmVnaW9uOiByZXR1cm4gYW4gYXJyYXkgb2Ygc3RyaW5ncyB3aXRoIHRoZSBjdWUgcmVnaW9uIHVuZGVyIGEgQ1NTIHN0eWxlIGZvcm0uXHJcbiAgICAgKiAtIGZpbmRSZWdpb25Gcm9tSUQ6IFJldHVybiB0aGUgdW5wcm9jZXNzZWQgcmVnaW9uIGZyb20gVFRNTExheW91dCBjb3JyZXNwb25kaW5nIHRvIHRoZSBJRCByZXNlYXJjaGVkLlxyXG4gICAgICogLSBnZXRQcm9jZXNzZWRSZWdpb246IFJldHVybiB0aGUgcHJvY2Vzc2VkIHJlZ2lvbihzKSBmcm9tIHRoZSBJRChzKSByZWNlaXZlZCBpbiBlbnRyeS5cclxuICAgICAqKiovXHJcblxyXG4gICAgLy8gQ29tcHV0ZSB0aGUgcmVnaW9uIHByb3BlcnRpZXMgdG8gcmV0dXJuIGFuIGFycmF5IHdpdGggdGhlIGNsZWFuZWQgcHJvcGVydGllcy5cclxuICAgIGZ1bmN0aW9uIHByb2Nlc3NSZWdpb24oY3VlUmVnaW9uLCBjZWxsVW5pdCkge1xyXG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0gW107XHJcblxyXG4gICAgICAgIC8vIENsZWFuIHVwIGZyb20gdGhlIHhtbDJqc29uIHBhcnNpbmc6XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGN1ZVJlZ2lvbikge1xyXG4gICAgICAgICAgICAvL0NsZWFuIHRoZSBwcm9wZXJ0aWVzIGZyb20gdGhlIHBhcnNpbmcuXHJcbiAgICAgICAgICAgIHZhciBuZXdLZXkgPSBrZXkucmVwbGFjZSgndHRzOicsICcnKTtcclxuICAgICAgICAgICAgbmV3S2V5ID0gbmV3S2V5LnJlcGxhY2UoJ3htbDonLCAnJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBDbGVhbiB0aGUgcHJvcGVydGllcycgbmFtZXMuXHJcbiAgICAgICAgICAgIG5ld0tleSA9IGNhbWVsQ2FzZVRvRGFzaChuZXdLZXkpO1xyXG4gICAgICAgICAgICBjdWVSZWdpb25bbmV3S2V5XSA9IGN1ZVJlZ2lvbltrZXldO1xyXG4gICAgICAgICAgICBpZiAobmV3S2V5ICE9PSBrZXkpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBjdWVSZWdpb25ba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBFeHRlbnQgcHJvcGVydHkgY29ycmVzcG9uZHMgdG8gd2lkdGggYW5kIGhlaWdodFxyXG4gICAgICAgIGlmICgnZXh0ZW50JyBpbiBjdWVSZWdpb24pIHtcclxuICAgICAgICAgICAgdmFyIGNvb3Jkc0V4dGVudCA9IGN1ZVJlZ2lvbi5leHRlbnQuc3BsaXQoL1xccy8pO1xyXG4gICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2goJ3dpZHRoOiAnICsgY29vcmRzRXh0ZW50WzBdICsgJzsnKTtcclxuICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKCdoZWlnaHQ6ICcgKyBjb29yZHNFeHRlbnRbMV0gKyAnOycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBPcmlnaW4gcHJvcGVydHkgY29ycmVzcG9uZHMgdG8gdG9wIGFuZCBsZWZ0XHJcbiAgICAgICAgaWYgKCdvcmlnaW4nIGluIGN1ZVJlZ2lvbikge1xyXG4gICAgICAgICAgICB2YXIgY29vcmRzT3JpZ2luID0gY3VlUmVnaW9uLm9yaWdpbi5zcGxpdCgvXFxzLyk7XHJcbiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaCgnbGVmdDogJyArIGNvb3Jkc09yaWdpblswXSArICc7Jyk7XHJcbiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaCgndG9wOiAnICsgY29vcmRzT3JpZ2luWzFdICsgJzsnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRGlzcGxheUFsaWduIHByb3BlcnR5IGNvcnJlc3BvbmRzIHRvIHZlcnRpY2FsLWFsaWduXHJcbiAgICAgICAgaWYgKCdkaXNwbGF5LWFsaWduJyBpbiBjdWVSZWdpb24pIHtcclxuICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKGRpc3BsYXlBbGlnbltjdWVSZWdpb25bJ2Rpc3BsYXktYWxpZ24nXV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBXcml0aW5nTW9kZSBpcyBub3QgeWV0IGltcGxlbWVudGVkIChmb3IgQ1NTMywgdG8gY29tZSlcclxuICAgICAgICBpZiAoJ3dyaXRpbmctbW9kZScgaW4gY3VlUmVnaW9uKSB7XHJcbiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaCh3cml0aW5nTW9kZVtjdWVSZWdpb25bJ3dyaXRpbmctbW9kZSddXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFN0eWxlIHdpbGwgZ2l2ZSB0byB0aGUgcmVnaW9uIHRoZSBzdHlsZSBwcm9wZXJ0aWVzIGZyb20gdGhlIHN0eWxlIHNlbGVjdGVkXHJcbiAgICAgICAgaWYgKCdzdHlsZScgaW4gY3VlUmVnaW9uKSB7XHJcbiAgICAgICAgICAgIHZhciBzdHlsZUZyb21JRCA9IGdldFByb2Nlc3NlZFN0eWxlKGN1ZVJlZ2lvbi5zdHlsZSwgY2VsbFVuaXQsIHRydWUpO1xyXG4gICAgICAgICAgICBwcm9wZXJ0aWVzID0gcHJvcGVydGllcy5jb25jYXQoc3R5bGVGcm9tSUQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU3RhbmRhcmQgcHJvcGVydGllcyBpZGVudGljYWwgdG8gQ1NTLlxyXG5cclxuICAgICAgICBpZiAoJ3BhZGRpbmcnIGluIGN1ZVJlZ2lvbikge1xyXG4gICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2goJ3BhZGRpbmc6JyArIGN1ZVJlZ2lvbi5wYWRkaW5nICsgJzsnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCdvdmVyZmxvdycgaW4gY3VlUmVnaW9uKSB7XHJcbiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaCgnb3ZlcmZsb3c6JyArIGN1ZVJlZ2lvbi5vdmVyZmxvdyArICc7Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgnc2hvdy1iYWNrZ3JvdW5kJyBpbiBjdWVSZWdpb24pIHtcclxuICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKCdzaG93LWJhY2tncm91bmQ6JyArIGN1ZVJlZ2lvblsnc2hvdy1iYWNrZ3JvdW5kJ10gKyAnOycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJ2lkJyBpbiBjdWVSZWdpb24pIHtcclxuICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKCdyZWdpb25JRDonICsgY3VlUmVnaW9uLmlkICsgJzsnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBwcm9wZXJ0aWVzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEZpbmQgdGhlIHJlZ2lvbiBzZXQgYnkgY29tcGFyaW5nIHRoZSByZWdpb24gSURzIGF2YWlsYWJsZS5cclxuICAgIC8vIFJldHVybiBudWxsIGlmIG5vIHJlZ2lvbiBpcyBmb3VuZFxyXG4gICAgZnVuY3Rpb24gZmluZFJlZ2lvbkZyb21JRCh0dG1sTGF5b3V0LCBjdWVSZWdpb25JRCkge1xyXG4gICAgICAgIC8vIEZvciBldmVyeSByZWdpb24gYXZhaWxhYmxlLCBzZWFyY2ggdGhlIGNvcnJlc3BvbmRpbmcgc3R5bGUgaW4gdHRtbExheW91dC5cclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHR0bWxMYXlvdXQubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJSZWcgPSB0dG1sTGF5b3V0W2pdO1xyXG4gICAgICAgICAgICBpZiAoY3VyclJlZ1sneG1sOmlkJ10gPT09IGN1ZVJlZ2lvbklEIHx8IGN1cnJSZWcuaWQgPT09IGN1ZVJlZ2lvbklEKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdGhlIHJlZ2lvbiBjb3JyZXNwb25kaW5nIHRvIHRoZSBJRCBpbiBwYXJhbWV0ZXIuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VyclJlZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXR1cm4gdGhlIGNvbXB1dGVkIHJlZ2lvbiBmcm9tIGEgY2VydGFpbiBJRC5cclxuICAgIGZ1bmN0aW9uIGdldFByb2Nlc3NlZFJlZ2lvbihyZWZlcmVuY2UsIGNlbGxVbml0KSB7XHJcbiAgICAgICAgdmFyIHJlZ2lvbnMgPSBbXTtcclxuICAgICAgICB2YXIgaWRzID0gcmVmZXJlbmNlLm1hdGNoKC9cXFMrL2cpO1xyXG4gICAgICAgIGlkcy5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICAvLyBGaW5kIHRoZSByZWdpb24gZm9yIGVhY2ggaWQgcmVjZWl2ZWQuXHJcbiAgICAgICAgICAgIHZhciBjdWVSZWdpb24gPSBmaW5kUmVnaW9uRnJvbUlEKHR0bWxMYXlvdXQsIGlkKTtcclxuICAgICAgICAgICAgaWYgKGN1ZVJlZ2lvbikge1xyXG4gICAgICAgICAgICAgICAgLy8gUHJvY2VzcyB0aGUgcmVnaW9uIGZvciB0aGUgY3VlIGluIENTUyBmb3JtLlxyXG4gICAgICAgICAgICAgICAgLy8gU2VuZCBhIGNvcHkgb2YgdGhlIHN0eWxlIG9iamVjdCwgc28gaXQgZG9lcyBub3QgbW9kaWZ5IHRoZSBvcmlnaW5hbCBieSBjbGVhbmluZyBpdC5cclxuICAgICAgICAgICAgICAgIHZhciByZWdpb25zRnJvbUlkID0gcHJvY2Vzc1JlZ2lvbihKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGN1ZVJlZ2lvbikpLCBjZWxsVW5pdCk7XHJcbiAgICAgICAgICAgICAgICByZWdpb25zID0gcmVnaW9ucy5jb25jYXQocmVnaW9uc0Zyb21JZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmVnaW9ucztcclxuICAgIH1cclxuXHJcbiAgICAvL1JldHVybiB0aGUgY2VsbFJlc29sdXRpb24gZGVmaW5lZCBieSB0aGUgVFRNTCBkb2N1bWVudC5cclxuICAgIGZ1bmN0aW9uIGdldENlbGxSZXNvbHV0aW9uKCkge1xyXG4gICAgICAgIHZhciBkZWZhdWx0Q2VsbFJlc29sdXRpb24gPSBbMzIsIDE1XTsgLy8gRGVmYXVsdCBjZWxsUmVzb2x1dGlvbi5cclxuICAgICAgICBpZiAodHRtbC50dC5oYXNPd25Qcm9wZXJ0eSgndHRwOmNlbGxSZXNvbHV0aW9uJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHR0bWwudHRbJ3R0cDpjZWxsUmVzb2x1dGlvbiddLnNwbGl0KCcgJykubWFwKHBhcnNlRmxvYXQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0Q2VsbFJlc29sdXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldHVybiB0aGUgY3VlIHdyYXBwZWQgaW50byBhIHNwYW4gc3BlY2lmeWluZyBpdHMgbGluZVBhZGRpbmcuXHJcbiAgICBmdW5jdGlvbiBhcHBseUxpbmVQYWRkaW5nKGN1ZUhUTUwsIGN1ZVN0eWxlKSB7XHJcbiAgICAgICAgLy8gRXh0cmFjdCB0aGUgbGluZVBhZGRpbmcgcHJvcGVydHkgZnJvbSBjdWVTdHlsZVByb3BlcnRpZXMuXHJcbiAgICAgICAgdmFyIGxpbmVQYWRkaW5nTGVmdCA9IGdldFByb3BlcnR5RnJvbUFycmF5KCdwYWRkaW5nLWxlZnQnLCBjdWVTdHlsZSk7XHJcbiAgICAgICAgdmFyIGxpbmVQYWRkaW5nUmlnaHQgPSBnZXRQcm9wZXJ0eUZyb21BcnJheSgncGFkZGluZy1yaWdodCcsIGN1ZVN0eWxlKTtcclxuICAgICAgICB2YXIgbGluZVBhZGRpbmcgPSBsaW5lUGFkZGluZ0xlZnQuY29uY2F0KCcgJyArIGxpbmVQYWRkaW5nUmlnaHQgKyAnICcpO1xyXG5cclxuICAgICAgICAvLyBEZWNsYXJhdGlvbiBvZiB0aGUgSFRNTCBlbGVtZW50cyB0byBiZSB1c2VkIGluIHRoZSBjdWUgaW5uZXJIVE1MIGNvbnN0cnVjdGlvbi5cclxuICAgICAgICB2YXIgb3V0ZXJIVE1MQmVmb3JlQnIgPSAnJztcclxuICAgICAgICB2YXIgb3V0ZXJIVE1MQWZ0ZXJCciA9ICcnO1xyXG4gICAgICAgIHZhciBjdWVJbm5lckhUTUwgPSAnJztcclxuXHJcbiAgICAgICAgLy8gTGlzdCBhbGwgdGhlIG5vZGVzIG9mIHRoZSBzdWJ0aXRsZS5cclxuICAgICAgICB2YXIgbm9kZUxpc3QgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjdWVIVE1MLmNoaWxkcmVuKTtcclxuICAgICAgICAvLyBUYWtlIGEgYnIgZWxlbWVudCBhcyByZWZlcmVuY2UuXHJcbiAgICAgICAgdmFyIGJyRWxlbWVudCA9IGN1ZUhUTUwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbGluZUJyZWFrJylbMF07XHJcbiAgICAgICAgLy8gRmlyc3QgaW5kZXggb2YgdGhlIGZpcnN0IGJyIGVsZW1lbnQuXHJcbiAgICAgICAgdmFyIGlkeCA9IG5vZGVMaXN0LmluZGV4T2YoYnJFbGVtZW50KTtcclxuICAgICAgICAvLyBhcnJheSBvZiBhbGwgdGhlIGJyIGVsZW1lbnQgaW5kaWNlc1xyXG4gICAgICAgIHZhciBpbmRpY2VzID0gW107XHJcbiAgICAgICAgLy8gRmluZCBhbGwgdGhlIGluZGljZXMgb2YgdGhlIGJyIGVsZW1lbnRzLlxyXG4gICAgICAgIHdoaWxlIChpZHggIT0gLTEpIHtcclxuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKGlkeCk7XHJcbiAgICAgICAgICAgIGlkeCA9IG5vZGVMaXN0LmluZGV4T2YoYnJFbGVtZW50LCBpZHggKyAxKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFN0cmluZ3MgZm9yIHRoZSBjdWUgaW5uZXJIVE1MIGNvbnN0cnVjdGlvbi5cclxuICAgICAgICB2YXIgc3BhblN0cmluZ0VuZCA9ICc8XFwvc3Bhbj4nO1xyXG4gICAgICAgIHZhciBiciA9ICc8YnI+JztcclxuICAgICAgICB2YXIgY2xvbmVQcm9wZXJ0eVN0cmluZyA9ICc8c3BhbicgKyAnIGNsYXNzPVwic3BhblBhZGRpbmdcIiAnICsgJ3N0eWxlPVwiLXdlYmtpdC1ib3gtZGVjb3JhdGlvbi1icmVhazogY2xvbmU7IGJveC1kZWNvcmF0aW9uLWJyZWFrOiBjbG9uZTsgJztcclxuXHJcbiAgICAgICAgLy8gSWYgYnIgZWxlbWVudHMgYXJlIGZvdW5kOlxyXG4gICAgICAgIGlmIChpbmRpY2VzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyBGb3IgZWFjaCBpbmRleCBvZiBhIGJyIGVsZW1lbnQgd2UgY29tcHV0ZSB0aGUgSFRNTCBjb21pbmcgYmVmb3JlIGFuZC9vciBhZnRlciBpdC5cclxuICAgICAgICAgICAgaW5kaWNlcy5mb3JFYWNoKGZ1bmN0aW9uIChpLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyB0aGUgZmlyc3QgbGluZSBicmVhaywgd2UgY29tcHV0ZSB0aGUgSFRNTCBvZiB0aGUgZWxlbWVudCBjb21pbmcgYmVmb3JlLlxyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0eWxlQmVmb3JlID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZm9yIGVhY2ggZWxlbWVudCBjb21pbmcgYmVmb3JlIHRoZSBsaW5lIGJyZWFrLCB3ZSBhZGQgaXRzIEhUTUwuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBpOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0ZXJIVE1MQmVmb3JlQnIgKz0gbm9kZUxpc3Rbal0ub3V0ZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIHRoZSBmaXJzdCBlbGVtZW50LCB3ZSBhZGQgaXRzIHN0eWxlIHRvIHRoZSB3cmFwcGVyLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaiA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVCZWZvcmUgPSBsaW5lUGFkZGluZy5jb25jYXQobm9kZUxpc3Rbal0uc3R5bGUuY3NzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGJlZm9yZSBlbGVtZW50IHdpbGwgY29tcHJpc2VzIHRoZSBjbG9uZSBwcm9wZXJ0eSAoZm9yIGxpbmUgd3JhcHBpbmcpLCB0aGUgc3R5bGUgdGhhdFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5lZWQgdG8gYmUgYXBwbGllZCAoZXg6IGJhY2tncm91bmQtY29sb3IpIGFuZCB0aGUgcmVzdCBvZyB0aGUgSFRNTC5cclxuICAgICAgICAgICAgICAgICAgICBvdXRlckhUTUxCZWZvcmVCciA9IGNsb25lUHJvcGVydHlTdHJpbmcgKyBzdHlsZUJlZm9yZSArICdcIj4nICsgb3V0ZXJIVE1MQmVmb3JlQnI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBGb3IgZXZlcnkgZWxlbWVudCBvZiB0aGUgbGlzdCwgd2UgY29tcHV0ZSB0aGUgZWxlbWVudCBjb21pbmcgYWZ0ZXIgdGhlIGxpbmUgYnJlYWsuc1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlQWZ0ZXIgPSAnJztcclxuICAgICAgICAgICAgICAgIC8vIGZvciBlYWNoIGVsZW1lbnQgY29taW5nIGFmdGVyIHRoZSBsaW5lIGJyZWFrLCB3ZSBhZGQgaXRzIEhUTUwuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gaSArIDE7IGsgPCBub2RlTGlzdC5sZW5ndGg7IGsrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIG91dGVySFRNTEFmdGVyQnIgKz0gbm9kZUxpc3Rba10ub3V0ZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgdGhlIGxhc3QgZWxlbWVudCwgd2UgYWRkIGl0cyBzdHlsZSB0byB0aGUgd3JhcHBlci5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoayA9PT0gbm9kZUxpc3QubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZUFmdGVyICs9IGxpbmVQYWRkaW5nLmNvbmNhdChub2RlTGlzdFtrXS5zdHlsZS5jc3NUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVGhlIGJlZm9yZSBlbGVtZW50IHdpbGwgY29tcHJpc2VzIHRoZSBjbG9uZSBwcm9wZXJ0eSAoZm9yIGxpbmUgd3JhcHBpbmcpLCB0aGUgc3R5bGUgdGhhdFxyXG4gICAgICAgICAgICAgICAgLy8gbmVlZCB0byBiZSBhcHBsaWVkIChleDogYmFja2dyb3VuZC1jb2xvcikgYW5kIHRoZSByZXN0IG9nIHRoZSBIVE1MLlxyXG4gICAgICAgICAgICAgICAgb3V0ZXJIVE1MQWZ0ZXJCciA9IGNsb25lUHJvcGVydHlTdHJpbmcgKyBzdHlsZUFmdGVyICsgJ1wiPicgKyBvdXRlckhUTUxBZnRlckJyO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEZvciBlYWNoIGxpbmUgYnJlYWsgd2UgbXVzdCBhZGQgdGhlIGJlZm9yZSBhbmQvb3IgYWZ0ZXIgZWxlbWVudCB0byB0aGUgZmluYWwgY3VlIGFzIHdlbGwgYXNcclxuICAgICAgICAgICAgICAgIC8vIHRoZSBsaW5lIGJyZWFrIHdoZW4gbmVlZGVkLlxyXG4gICAgICAgICAgICAgICAgaWYgKG91dGVySFRNTEJlZm9yZUJyICYmIG91dGVySFRNTEFmdGVyQnIgJiYgaW5kZXggPT09IChpbmRpY2VzLmxlbmd0aCAtIDEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VlSW5uZXJIVE1MICs9IG91dGVySFRNTEJlZm9yZUJyICsgc3BhblN0cmluZ0VuZCArIGJyICsgb3V0ZXJIVE1MQWZ0ZXJCciArIHNwYW5TdHJpbmdFbmQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG91dGVySFRNTEJlZm9yZUJyICYmIG91dGVySFRNTEFmdGVyQnIgJiYgaW5kZXggIT09IChpbmRpY2VzLmxlbmd0aCAtIDEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VlSW5uZXJIVE1MICs9IG91dGVySFRNTEJlZm9yZUJyICsgc3BhblN0cmluZ0VuZCArIGJyICsgb3V0ZXJIVE1MQWZ0ZXJCciArIHNwYW5TdHJpbmdFbmQgKyBicjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob3V0ZXJIVE1MQmVmb3JlQnIgJiYgIW91dGVySFRNTEFmdGVyQnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdWVJbm5lckhUTUwgKz0gb3V0ZXJIVE1MQmVmb3JlQnIgKyBzcGFuU3RyaW5nRW5kO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghb3V0ZXJIVE1MQmVmb3JlQnIgJiYgb3V0ZXJIVE1MQWZ0ZXJCciAmJiBpbmRleCA9PT0gKGluZGljZXMubGVuZ3RoIC0gMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdWVJbm5lckhUTUwgKz0gb3V0ZXJIVE1MQWZ0ZXJCciArIHNwYW5TdHJpbmdFbmQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFvdXRlckhUTUxCZWZvcmVCciAmJiBvdXRlckhUTUxBZnRlckJyICYmIGluZGV4ICE9PSAoaW5kaWNlcy5sZW5ndGggLSAxKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1ZUlubmVySFRNTCArPSBvdXRlckhUTUxBZnRlckJyICsgc3BhblN0cmluZ0VuZCArIGJyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBsaW5lIGJyZWFrIGluIHRoZSBzdWJ0aXRsZSwgd2Ugc2ltcGx5IHdyYXAgY3VlIGluIGEgc3BhbiBpbmRpY2F0aW5nIHRoZSBsaW5lUGFkZGluZy5cclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gJyc7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbm9kZUxpc3QubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlICs9IG5vZGVMaXN0W2tdLnN0eWxlLmNzc1RleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3VlSW5uZXJIVE1MID0gY2xvbmVQcm9wZXJ0eVN0cmluZyArIGxpbmVQYWRkaW5nICsgc3R5bGUgKyAnXCI+JyArIGN1ZUhUTUwuaW5uZXJIVE1MICsgc3BhblN0cmluZ0VuZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGN1ZUlubmVySFRNTDtcclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgKiBDcmVhdGUgdGhlIGN1ZSBlbGVtZW50XHJcbiAgICAgKiBJLiBUaGUgY3VlcyBhcmUgdGV4dCBvbmx5OlxyXG4gICAgICogICAgICBpKSBUaGUgY3VlIGNvbnRhaW5zIGEgJ2JyJyBlbGVtZW50XHJcbiAgICAgKiAgICAgIGlpKSBUaGUgY3VlIGNvbnRhaW5zIGEgc3BhbiBlbGVtZW50XHJcbiAgICAgKiAgICAgIGlpaSkgVGhlIGN1ZSBjb250YWlucyB0ZXh0XHJcbiAgICAgKi9cclxuXHJcbiAgICBmdW5jdGlvbiBjb25zdHJ1Y3RDdWUoY3VlRWxlbWVudHMsIGNlbGxVbml0KSB7XHJcbiAgICAgICAgdmFyIGN1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGN1ZUVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgIC8vIElmIG1ldGFkYXRhIGlzIHByZXNlbnQsIGRvIG5vdCBwcm9jZXNzLlxyXG4gICAgICAgICAgICBpZiAoZWwuaGFzT3duUHJvcGVydHkoJ21ldGFkYXRhJykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIElmIHRoZSBwIGVsZW1lbnQgY29udGFpbnMgc3BhbnM6IGNyZWF0ZSB0aGUgc3BhbiBlbGVtZW50cy5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGlmIChlbC5oYXNPd25Qcm9wZXJ0eSgnc3BhbicpKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3RvY2sgdGhlIHNwYW4gc3VidGl0bGVzIGluIGFuIGFycmF5IChpbiBjYXNlIHRoZXJlIGFyZSBvbmx5IG9uZSB2YWx1ZSkuXHJcbiAgICAgICAgICAgICAgICB2YXIgc3BhbkVsZW1lbnRzID0gZWwuc3Bhbi5fX2NoaWxkcmVuO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgc3BhbiBlbGVtZW50LlxyXG4gICAgICAgICAgICAgICAgdmFyIHNwYW5IVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgdGhlIHN0eWxlIG9mIHRoZSBzcGFuLlxyXG4gICAgICAgICAgICAgICAgaWYgKGVsLnNwYW4uaGFzT3duUHJvcGVydHkoJ3N0eWxlJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3BhblN0eWxlID0gZ2V0UHJvY2Vzc2VkU3R5bGUoZWwuc3Bhbi5zdHlsZSwgY2VsbFVuaXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNwYW5IVE1MRWxlbWVudC5jbGFzc05hbWUgPSAnc3BhblBhZGRpbmcgJyArIGVsLnNwYW4uc3R5bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgc3BhbkhUTUxFbGVtZW50LnN0eWxlLmNzc1RleHQgPSBzcGFuU3R5bGUuam9pbignICcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc3BhbiBoYXMgbW9yZSB0aGFuIG9uZSBlbGVtZW50LCB3ZSBjaGVjayBmb3IgZWFjaCBvZiB0aGVtIHRoZWlyIG5hdHVyZSAoYnIgb3IgdGV4dCkuXHJcbiAgICAgICAgICAgICAgICBzcGFuRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoc3BhbkVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgbWV0YWRhdGEgaXMgcHJlc2VudCwgZG8gbm90IHByb2Nlc3MuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwYW5FbGVtZW50cy5oYXNPd25Qcm9wZXJ0eSgnbWV0YWRhdGEnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBlbGVtZW50IGlzIGEgc3RyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwYW5FbC5oYXNPd25Qcm9wZXJ0eSgnI3RleHQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzcGFuRWxbJyN0ZXh0J10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGFuSFRNTEVsZW1lbnQuYXBwZW5kQ2hpbGQodGV4dE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZWxlbWVudCBpcyBhICdicicgdGFnXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgnYnInIGluIHNwYW5FbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUbyBoYW5kbGUgYnIgaW5zaWRlIHNwYW4gd2UgbmVlZCB0byBhZGQgdGhlIGN1cnJlbnQgc3BhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0byB0aGUgY3VlIGFuZCB0aGVuIGNyZWF0ZSBhIGJyIGFuZCBhZGQgdGhhdCB0aGUgY3VlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZW4gY3JlYXRlIGEgbmV3IHNwYW4gdGhhdCB3ZSB1c2UgZm9yIHRoZSBuZXh0IGxpbmUgb2ZcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGV4dCwgdGhhdCBpcyBhIGNvcHkgb2YgdGhlIGN1cnJlbnQgc3BhblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBjdXJyZW50IHNwYW4gdG8gdGhlIGN1ZSwgb25seSBpZiBpdCBoYXMgY2hpbGROb2RlcyAodGV4dClcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwYW5IVE1MRWxlbWVudC5oYXNDaGlsZE5vZGVzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ZS5hcHBlbmRDaGlsZChzcGFuSFRNTEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBiciBhbmQgYWRkIHRoYXQgdG8gdGhlIGN1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyRWwuY2xhc3NOYW1lID0gJ2xpbmVCcmVhayc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ZS5hcHBlbmRDaGlsZChickVsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhbiByZXBsYWNlbWVudCBzcGFuIGFuZCBjb3B5IHRoZSBzdHlsZSBhbmQgY2xhc3NuYW1lIGZyb20gdGhlIG9sZCBvbmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1NwYW5IVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3U3BhbkhUTUxFbGVtZW50LmNsYXNzTmFtZSA9IHNwYW5IVE1MRWxlbWVudC5jbGFzc05hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1NwYW5IVE1MRWxlbWVudC5zdHlsZS5jc3NUZXh0ID0gc3BhbkhUTUxFbGVtZW50LnN0eWxlLmNzc1RleHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIHRoZSBjdXJyZW50IHNwYW4gd2l0aCB0aGUgb25lIHdlIGp1c3QgY3JlYXRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGFuSFRNTEVsZW1lbnQgPSBuZXdTcGFuSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBXZSBhcHBlbmQgdGhlIGVsZW1lbnQgdG8gdGhlIGN1ZSBjb250YWluZXIuXHJcbiAgICAgICAgICAgICAgICBjdWUuYXBwZW5kQ2hpbGQoc3BhbkhUTUxFbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIENyZWF0ZSBhIGJyIGVsZW1lbnQgaWYgdGhlcmUgaXMgb25lIGluIHRoZSBjdWUuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBlbHNlIGlmIChlbC5oYXNPd25Qcm9wZXJ0eSgnYnInKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gV2UgYXBwZW5kIHRoZSBsaW5lIGJyZWFrIHRvIHRoZSBjdWUgY29udGFpbmVyLlxyXG4gICAgICAgICAgICAgICAgdmFyIGJyRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdicicpO1xyXG4gICAgICAgICAgICAgICAgYnJFbC5jbGFzc05hbWUgPSAnbGluZUJyZWFrJztcclxuICAgICAgICAgICAgICAgIGN1ZS5hcHBlbmRDaGlsZChickVsKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEFkZCB0aGUgdGV4dCB0aGF0IGlzIG5vdCBpbiBhbnkgaW5saW5lIGVsZW1lbnRcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGVsLmhhc093blByb3BlcnR5KCcjdGV4dCcpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIHRleHQgdG8gYW4gaW5kaXZpZHVhbCBzcGFuIGVsZW1lbnQgKHRvIGFkZCBsaW5lIHBhZGRpbmcgaWYgaXQgaXMgZGVmaW5lZCkuXHJcbiAgICAgICAgICAgICAgICB2YXIgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgICAgICAgICB0ZXh0Tm9kZS50ZXh0Q29udGVudCA9IGVsWycjdGV4dCddO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFdlIGFwcGVuZCB0aGUgZWxlbWVudCB0byB0aGUgY3VlIGNvbnRhaW5lci5cclxuICAgICAgICAgICAgICAgIGN1ZS5hcHBlbmRDaGlsZCh0ZXh0Tm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gY3VlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnN0cnVjdEN1ZVJlZ2lvbihjdWUsIGRpdiwgY2VsbFVuaXQpIHtcclxuICAgICAgICB2YXIgY3VlUmVnaW9uUHJvcGVydGllcyA9IFtdOyAvLyBwcm9wZXJ0aWVzIHRvIGJlIHB1dCBpbiB0aGUgXCJjYXB0aW9uUmVnaW9uXCIgSFRNTCBlbGVtZW50XHJcbiAgICAgICAgLy8gT2J0YWluIHRoZSByZWdpb24gSUQocykgYXNzaWduZWQgdG8gdGhlIGN1ZS5cclxuICAgICAgICB2YXIgcFJlZ2lvbklEID0gY3VlLnJlZ2lvbjtcclxuICAgICAgICAvLyBJZiBkaXYgaGFzIGEgcmVnaW9uLlxyXG4gICAgICAgIHZhciBkaXZSZWdpb25JRCA9IGRpdi5yZWdpb247XHJcblxyXG4gICAgICAgIHZhciBkaXZSZWdpb247XHJcbiAgICAgICAgdmFyIHBSZWdpb247XHJcblxyXG4gICAgICAgIC8vIElmIHRoZSBkaXYgZWxlbWVudCByZWZlcmVuY2UgYSByZWdpb24uXHJcbiAgICAgICAgaWYgKGRpdlJlZ2lvbklEKSB7XHJcbiAgICAgICAgICAgIGRpdlJlZ2lvbiA9IGdldFByb2Nlc3NlZFJlZ2lvbihkaXZSZWdpb25JRCwgY2VsbFVuaXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJZiB0aGUgcCBlbGVtZW50IHJlZmVyZW5jZSBhIHJlZ2lvbi5cclxuICAgICAgICBpZiAocFJlZ2lvbklEKSB7XHJcbiAgICAgICAgICAgIHBSZWdpb24gPSBjdWVSZWdpb25Qcm9wZXJ0aWVzLmNvbmNhdChnZXRQcm9jZXNzZWRSZWdpb24ocFJlZ2lvbklELCBjZWxsVW5pdCkpO1xyXG4gICAgICAgICAgICBpZiAoZGl2UmVnaW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjdWVSZWdpb25Qcm9wZXJ0aWVzID0gbWVyZ2VBcnJheXMoZGl2UmVnaW9uLCBwUmVnaW9uKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN1ZVJlZ2lvblByb3BlcnRpZXMgPSBwUmVnaW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChkaXZSZWdpb24pIHtcclxuICAgICAgICAgICAgY3VlUmVnaW9uUHJvcGVydGllcyA9IGRpdlJlZ2lvbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFkZCBpbml0aWFsL2RlZmF1bHQgdmFsdWVzIHRvIHdoYXQncyBub3QgZGVmaW5lZCBpbiB0aGUgbGF5b3V0OlxyXG4gICAgICAgIGFwcGx5RGVmYXVsdFByb3BlcnRpZXMoY3VlUmVnaW9uUHJvcGVydGllcywgZGVmYXVsdExheW91dFByb3BlcnRpZXMpO1xyXG5cclxuICAgICAgICByZXR1cm4gY3VlUmVnaW9uUHJvcGVydGllcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb25zdHJ1Y3RDdWVTdHlsZShjdWUsIGNlbGxVbml0KSB7XHJcbiAgICAgICAgdmFyIGN1ZVN0eWxlUHJvcGVydGllcyA9IFtdOyAvLyBwcm9wZXJ0aWVzIHRvIGJlIHB1dCBpbiB0aGUgXCJwYXJhZ3JhcGhcIiBIVE1MIGVsZW1lbnRcclxuICAgICAgICAvLyBPYnRhaW4gdGhlIHN0eWxlIElEKHMpIGFzc2lnbmVkIHRvIHRoZSBjdWUuXHJcbiAgICAgICAgdmFyIHBTdHlsZUlEID0gY3VlLnN0eWxlO1xyXG4gICAgICAgIC8vIElmIGJvZHkgaGFzIGEgc3R5bGUuXHJcbiAgICAgICAgdmFyIGJvZHlTdHlsZUlEID0gdHRtbC50dC5ib2R5LnN0eWxlO1xyXG4gICAgICAgIC8vIElmIGRpdiBoYXMgYSBzdHlsZS5cclxuICAgICAgICB2YXIgZGl2U3R5bGVJRCA9IHR0bWwudHQuYm9keS5kaXYuc3R5bGU7XHJcblxyXG4gICAgICAgIHZhciBib2R5U3R5bGU7XHJcbiAgICAgICAgdmFyIGRpdlN0eWxlO1xyXG4gICAgICAgIHZhciBwU3R5bGU7XHJcbiAgICAgICAgdmFyIHN0eWxlSURzID0gJyc7XHJcblxyXG4gICAgICAgIC8vIElmIHRoZSBib2R5IGVsZW1lbnQgcmVmZXJlbmNlIGEgc3R5bGUuXHJcbiAgICAgICAgaWYgKGJvZHlTdHlsZUlEKSB7XHJcbiAgICAgICAgICAgIGJvZHlTdHlsZSA9IGdldFByb2Nlc3NlZFN0eWxlKGJvZHlTdHlsZUlELCBjZWxsVW5pdCk7XHJcbiAgICAgICAgICAgIHN0eWxlSURzID0gJ3BhcmFncmFwaCAnICsgYm9keVN0eWxlSUQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiB0aGUgZGl2IGVsZW1lbnQgcmVmZXJlbmNlIGEgc3R5bGUuXHJcbiAgICAgICAgaWYgKGRpdlN0eWxlSUQpIHtcclxuICAgICAgICAgICAgZGl2U3R5bGUgPSBnZXRQcm9jZXNzZWRTdHlsZShkaXZTdHlsZUlELCBjZWxsVW5pdCk7XHJcbiAgICAgICAgICAgIGlmIChib2R5U3R5bGUpIHtcclxuICAgICAgICAgICAgICAgIGRpdlN0eWxlID0gbWVyZ2VBcnJheXMoYm9keVN0eWxlLCBkaXZTdHlsZSk7XHJcbiAgICAgICAgICAgICAgICBzdHlsZUlEcyArPSAnICcgKyBkaXZTdHlsZUlEO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3R5bGVJRHMgPSAncGFyYWdyYXBoICcgKyBkaXZTdHlsZUlEO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiB0aGUgcCBlbGVtZW50IHJlZmVyZW5jZSBhIHN0eWxlLlxyXG4gICAgICAgIGlmIChwU3R5bGVJRCkge1xyXG4gICAgICAgICAgICBwU3R5bGUgPSBnZXRQcm9jZXNzZWRTdHlsZShwU3R5bGVJRCwgY2VsbFVuaXQpO1xyXG4gICAgICAgICAgICBpZiAoYm9keVN0eWxlICYmIGRpdlN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICBjdWVTdHlsZVByb3BlcnRpZXMgPSBtZXJnZUFycmF5cyhkaXZTdHlsZSwgcFN0eWxlKTtcclxuICAgICAgICAgICAgICAgIHN0eWxlSURzICs9ICcgJyArIHBTdHlsZUlEO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJvZHlTdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgY3VlU3R5bGVQcm9wZXJ0aWVzID0gbWVyZ2VBcnJheXMoYm9keVN0eWxlLCBwU3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgc3R5bGVJRHMgKz0gJyAnICsgcFN0eWxlSUQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGl2U3R5bGUpIHtcclxuICAgICAgICAgICAgICAgIGN1ZVN0eWxlUHJvcGVydGllcyA9IG1lcmdlQXJyYXlzKGRpdlN0eWxlLCBwU3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgc3R5bGVJRHMgKz0gJyAnICsgcFN0eWxlSUQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjdWVTdHlsZVByb3BlcnRpZXMgPSBwU3R5bGU7XHJcbiAgICAgICAgICAgICAgICBzdHlsZUlEcyA9ICdwYXJhZ3JhcGggJyArIHBTdHlsZUlEO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChib2R5U3R5bGUgJiYgIWRpdlN0eWxlKSB7XHJcbiAgICAgICAgICAgIGN1ZVN0eWxlUHJvcGVydGllcyA9IGJvZHlTdHlsZTtcclxuICAgICAgICB9IGVsc2UgaWYgKCFib2R5U3R5bGUgJiYgZGl2U3R5bGUpIHtcclxuICAgICAgICAgICAgY3VlU3R5bGVQcm9wZXJ0aWVzID0gZGl2U3R5bGU7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy8gQWRkIGluaXRpYWwvZGVmYXVsdCB2YWx1ZXMgdG8gd2hhdCdzIG5vdCBkZWZpbmVkIGluIHRoZSBzdHlsaW5nOlxyXG4gICAgICAgIGFwcGx5RGVmYXVsdFByb3BlcnRpZXMoY3VlU3R5bGVQcm9wZXJ0aWVzLCBkZWZhdWx0U3R5bGVQcm9wZXJ0aWVzKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFtjdWVTdHlsZVByb3BlcnRpZXMsIHN0eWxlSURzXTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhcHBseURlZmF1bHRQcm9wZXJ0aWVzKGFycmF5LCBkZWZhdWx0UHJvcGVydGllcykge1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBkZWZhdWx0UHJvcGVydGllcykge1xyXG4gICAgICAgICAgICBpZiAoZGVmYXVsdFByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhcnJheUNvbnRhaW5zKGtleSwgYXJyYXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaChrZXkgKyAnOicgKyBkZWZhdWx0UHJvcGVydGllc1trZXldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpbnN0YW5jZSA9IHtcclxuICAgICAgICBwYXJzZTogcGFyc2UsXHJcbiAgICAgICAgc2V0Q29uZmlnOiBzZXRDb25maWdcclxuICAgIH07XHJcblxyXG4gICAgc2V0dXAoKTtcclxuICAgIHJldHVybiBpbnN0YW5jZTtcclxufVxyXG5UVE1MUGFyc2VyLl9faDVwbGF5ZXJfZmFjdG9yeV9uYW1lID0gJ1RUTUxQYXJzZXInO1xyXG5leHBvcnQgZGVmYXVsdCBGYWN0b3J5TWFrZXIuZ2V0U2luZ2xldG9uRmFjdG9yeShUVE1MUGFyc2VyKTtcclxuIiwiLyoqXHJcbiAqIFRoZSBjb3B5cmlnaHQgaW4gdGhpcyBzb2Z0d2FyZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsXHJcbiAqIGluY2x1ZGVkIGJlbG93LiBUaGlzIHNvZnR3YXJlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZCBjb250cmlidXRvclxyXG4gKiByaWdodHMsIGluY2x1ZGluZyBwYXRlbnQgcmlnaHRzLCBhbmQgbm8gc3VjaCByaWdodHMgYXJlIGdyYW50ZWQgdW5kZXIgdGhpcyBsaWNlbnNlLlxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMsIERhc2ggSW5kdXN0cnkgRm9ydW0uXHJcbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sXHJcbiAqIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcclxuICogICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXHJcbiAqICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cclxuICogICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxyXG4gKiAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3JcclxuICogIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXHJcbiAqICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgRGFzaCBJbmR1c3RyeSBGb3J1bSBub3IgdGhlIG5hbWVzIG9mIGl0c1xyXG4gKiAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZVxyXG4gKiAgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXHJcbiAqXHJcbiAqICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIEFTIElTIEFORCBBTllcclxuICogIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcclxuICogIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC5cclxuICogIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsXHJcbiAqICBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUXHJcbiAqICBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXHJcbiAqICBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcclxuICogIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcclxuICogIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFXHJcbiAqICBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cclxuICovXHJcbmltcG9ydCBGYWN0b3J5TWFrZXIgZnJvbSAnLi4vY29yZS9GYWN0b3J5TWFrZXInO1xyXG4vL2ltcG9ydCBEZWJ1ZyBmcm9tICcuLi8uLi9jb3JlL0RlYnVnJztcclxuXHJcbmZ1bmN0aW9uIFZUVFBhcnNlcigpIHtcclxuICAgIGxldCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xyXG4gICAgbGV0IGxvZyA9IGNvbnNvbGUubG9nOy8vRGVidWcoY29udGV4dCkuZ2V0SW5zdGFuY2UoKS5sb2c7XHJcblxyXG4gICAgbGV0IGluc3RhbmNlLFxyXG4gICAgICAgIHJlZ0V4TmV3TGluZSxcclxuICAgICAgICByZWdFeFRva2VuLFxyXG4gICAgICAgIHJlZ0V4V2hpdGVTcGFjZSxcclxuICAgICAgICByZWdFeFdoaXRlU3BhY2VXb3JkQm91bmRhcnk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0dXAoKSB7XHJcbiAgICAgICAgcmVnRXhOZXdMaW5lID0gLyg/OlxcclxcbnxcXHJ8XFxuKS9nbTtcclxuICAgICAgICByZWdFeFRva2VuID0gLy0tPi87XHJcbiAgICAgICAgcmVnRXhXaGl0ZVNwYWNlID0gLyheW1xcc10rfFtcXHNdKyQpL2c7XHJcbiAgICAgICAgcmVnRXhXaGl0ZVNwYWNlV29yZEJvdW5kYXJ5ID0gL1xcc1xcYi9nO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBhcnNlKGRhdGEpIHtcclxuICAgICAgICB2YXIgY2FwdGlvbkFycmF5ID0gW107XHJcbiAgICAgICAgdmFyIGxlbixcclxuICAgICAgICAgICAgbGFzdFN0YXJ0VGltZTtcclxuXHJcbiAgICAgICAgZGF0YSA9IGRhdGEuc3BsaXQoIHJlZ0V4TmV3TGluZSApO1xyXG4gICAgICAgIGxlbiA9IGRhdGEubGVuZ3RoO1xyXG4gICAgICAgIGxhc3RTdGFydFRpbWUgPSAtMTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpIDwgbGVuOyBpKyspXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IGRhdGFbaV07XHJcblxyXG4gICAgICAgICAgICBpZiAoaXRlbS5sZW5ndGggPiAwICYmIGl0ZW0gIT09ICdXRUJWVFQnKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5tYXRjaChyZWdFeFRva2VuKSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlcyA9IHBhcnNlSXRlbUF0dHJpYnV0ZXMoaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ZVBvaW50cyA9IGF0dHJpYnV0ZXMuY3VlUG9pbnRzO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHlsZXMgPSBhdHRyaWJ1dGVzLnN0eWxlcztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IGdldFN1YmxpbmVzKGRhdGEsIGkgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRUaW1lID0gY29udmVydEN1ZVBvaW50VGltZXMoY3VlUG9pbnRzWzBdLnJlcGxhY2UocmVnRXhXaGl0ZVNwYWNlLCAnJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbmRUaW1lID0gY29udmVydEN1ZVBvaW50VGltZXMoY3VlUG9pbnRzWzFdLnJlcGxhY2UocmVnRXhXaGl0ZVNwYWNlLCAnJykpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoKCFpc05hTihzdGFydFRpbWUpICYmICFpc05hTihlbmRUaW1lKSkgJiYgc3RhcnRUaW1lID49IGxhc3RTdGFydFRpbWUgJiYgZW5kVGltZSA+IHN0YXJ0VGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGV4dCAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTdGFydFRpbWUgPSBzdGFydFRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1RPRE8gTWFrZSBWTyBleHRlcm5hbCBzbyBvdGhlciBwYXJzZXJzIGNhbiB1c2UuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXB0aW9uQXJyYXkucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0VGltZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IGVuZFRpbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogdGV4dCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXM6IHN0eWxlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2coJ1NraXBwaW5nIGN1ZSBkdWUgdG8gZW1wdHkvbWFsZm9ybWVkIGN1ZSB0ZXh0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZygnU2tpcHBpbmcgY3VlIGR1ZSB0byBpbmNvcnJlY3QgY3VlIHRpbWluZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNhcHRpb25BcnJheTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb252ZXJ0Q3VlUG9pbnRUaW1lcyh0aW1lKSB7XHJcbiAgICAgICAgdmFyIHRpbWVBcnJheSA9IHRpbWUuc3BsaXQoJzonKTtcclxuICAgICAgICB2YXIgbGVuID0gdGltZUFycmF5Lmxlbmd0aCAtIDE7XHJcblxyXG4gICAgICAgIHRpbWUgPSBwYXJzZUludCggdGltZUFycmF5W2xlbiAtIDFdLCAxMCApICogNjAgKyBwYXJzZUZsb2F0KCB0aW1lQXJyYXlbbGVuXSk7XHJcblxyXG4gICAgICAgIGlmICggbGVuID09PSAyICkge1xyXG4gICAgICAgICAgICB0aW1lICs9IHBhcnNlSW50KCB0aW1lQXJyYXlbMF0sIDEwICkgKiAzNjAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRpbWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcGFyc2VJdGVtQXR0cmlidXRlcyhkYXRhKSB7XHJcbiAgICAgICAgdmFyIHZ0dEN1ZVBvaW50cyA9IGRhdGEuc3BsaXQocmVnRXhUb2tlbik7XHJcbiAgICAgICAgdmFyIGFyciA9IHZ0dEN1ZVBvaW50c1sxXS5zcGxpdChyZWdFeFdoaXRlU3BhY2VXb3JkQm91bmRhcnkpO1xyXG4gICAgICAgIGFyci5zaGlmdCgpOyAvL3JlbW92ZSBmaXJzdCBhcnJheSBpbmRleCBpdCBpcyBlbXB0eS4uLlxyXG4gICAgICAgIHZ0dEN1ZVBvaW50c1sxXSA9IGFyclswXTtcclxuICAgICAgICBhcnIuc2hpZnQoKTtcclxuICAgICAgICByZXR1cm4ge2N1ZVBvaW50czogdnR0Q3VlUG9pbnRzLCBzdHlsZXM6IGdldENhcHRpb25TdHlsZXMoYXJyKX07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Q2FwdGlvblN0eWxlcyhhcnIpIHtcclxuICAgICAgICB2YXIgc3R5bGVPYmplY3QgPSB7fTtcclxuICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5zcGxpdCgvOi8pLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWwgPSBlbGVtZW50LnNwbGl0KC86LylbMV07XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsICYmIHZhbC5zZWFyY2goLyUvKSAhPSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IHBhcnNlSW50KHZhbC5yZXBsYWNlKC8lLywgJycpLCAxMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5tYXRjaCgvYWxpZ24vKSB8fCBlbGVtZW50Lm1hdGNoKC9BLykpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZU9iamVjdC5hbGlnbiA9IHZhbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50Lm1hdGNoKC9saW5lLykgfHwgZWxlbWVudC5tYXRjaCgvTC8pICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlT2JqZWN0LmxpbmUgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5tYXRjaCgvcG9zaXRpb24vKSB8fCBlbGVtZW50Lm1hdGNoKC9QLykgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVPYmplY3QucG9zaXRpb24gPSB2YWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5tYXRjaCgvc2l6ZS8pIHx8IGVsZW1lbnQubWF0Y2goL1MvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlT2JqZWN0LnNpemUgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHN0eWxlT2JqZWN0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICAqIFZUVCBjYW4gaGF2ZSBtdWx0aXBsZSBsaW5lcyB0byBkaXNwbGF5IHBlciBjdWVwb2ludC5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRTdWJsaW5lcyhkYXRhLCBpZHgpIHtcclxuICAgICAgICB2YXIgaSA9IGlkeDtcclxuXHJcbiAgICAgICAgdmFyIHN1YmxpbmUgPSAnJztcclxuICAgICAgICB2YXIgbGluZURhdGEgPSAnJztcclxuICAgICAgICB2YXIgbGluZUNvdW50O1xyXG5cclxuICAgICAgICB3aGlsZSAoZGF0YVtpXSAhPT0gJycgJiYgaSA8IGRhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxpbmVDb3VudCA9IGkgLSBpZHg7XHJcbiAgICAgICAgaWYgKGxpbmVDb3VudCA+IDEpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaW5lQ291bnQ7IGorKykge1xyXG4gICAgICAgICAgICAgICAgbGluZURhdGEgPSBkYXRhWyhpZHggKyBqKV07XHJcbiAgICAgICAgICAgICAgICBpZiAoIWxpbmVEYXRhLm1hdGNoKHJlZ0V4VG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VibGluZSArPSBsaW5lRGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaiAhPT0gbGluZUNvdW50IC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJsaW5lICs9ICdcXG4nO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhcHRpb24gdGV4dCBzaG91bGQgbm90IGhhdmUgJy0tPicgaW4gaXRcclxuICAgICAgICAgICAgICAgICAgICBzdWJsaW5lID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsaW5lRGF0YSA9IGRhdGFbaWR4XTtcclxuICAgICAgICAgICAgaWYgKCFsaW5lRGF0YS5tYXRjaChyZWdFeFRva2VuKSlcclxuICAgICAgICAgICAgICAgIHN1YmxpbmUgPSBsaW5lRGF0YTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSShzdWJsaW5lKTtcclxuICAgIH1cclxuXHJcbiAgICBpbnN0YW5jZSA9IHtcclxuICAgICAgICBwYXJzZTogcGFyc2VcclxuICAgIH07XHJcblxyXG4gICAgc2V0dXAoKTtcclxuICAgIHJldHVybiBpbnN0YW5jZTtcclxufVxyXG5WVFRQYXJzZXIuX19oNXBsYXllcl9mYWN0b3J5X25hbWUgPSAnVlRUUGFyc2VyJztcclxuZXhwb3J0IGRlZmF1bHQgRmFjdG9yeU1ha2VyLmdldFNpbmdsZXRvbkZhY3RvcnkoVlRUUGFyc2VyKTtcclxuIiwiLyoqXHJcbiAqIFRoZSBjb3B5cmlnaHQgaW4gdGhpcyBzb2Z0d2FyZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsXHJcbiAqIGluY2x1ZGVkIGJlbG93LiBUaGlzIHNvZnR3YXJlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZCBjb250cmlidXRvclxyXG4gKiByaWdodHMsIGluY2x1ZGluZyBwYXRlbnQgcmlnaHRzLCBhbmQgbm8gc3VjaCByaWdodHMgYXJlIGdyYW50ZWQgdW5kZXIgdGhpcyBsaWNlbnNlLlxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtMjAxNiwgREFTSCBJbmR1c3RyeSBGb3J1bS5cclxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbixcclxuICogYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxyXG4gKiAgMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXHJcbiAqICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cclxuICogICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxyXG4gKiAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3JcclxuICogIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXHJcbiAqICAyLiBOZWl0aGVyIHRoZSBuYW1lIG9mIERhc2ggSW5kdXN0cnkgRm9ydW0gbm9yIHRoZSBuYW1lcyBvZiBpdHNcclxuICogIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmVcclxuICogIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxyXG4gKlxyXG4gKiAgVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBBUyBJUyBBTkQgQU5ZXHJcbiAqICBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEXHJcbiAqICBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuXHJcbiAqICBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULFxyXG4gKiAgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVFxyXG4gKiAgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxyXG4gKiAgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksXHJcbiAqICBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpXHJcbiAqICBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRVxyXG4gKiAgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXHJcbiAqL1xyXG4oZnVuY3Rpb24oZXhwb3J0cykge1xyXG5cclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogIEV4Y2VwdGlvbnMgZnJvbSByZWd1bGFyIEFTQ0lJLiBDb2RlUG9pbnRzIGFyZSBtYXBwZWQgdG8gVVRGLTE2IGNvZGVzXHJcbiAgICAgKi9cclxuXHJcbiAgICB2YXIgc3BlY2lhbENlYTYwOENoYXJzQ29kZXMgPSB7XHJcbiAgICAgICAgMHgyYSA6IDB4ZTEsIC8vIGxvd2VyY2FzZSBhLCBhY3V0ZSBhY2NlbnRcclxuICAgICAgICAweDVjIDogMHhlOSwgLy8gbG93ZXJjYXNlIGUsIGFjdXRlIGFjY2VudFxyXG4gICAgICAgIDB4NWUgOiAweGVkLCAvLyBsb3dlcmNhc2UgaSwgYWN1dGUgYWNjZW50XHJcbiAgICAgICAgMHg1ZiA6IDB4ZjMsIC8vIGxvd2VyY2FzZSBvLCBhY3V0ZSBhY2NlbnRcclxuICAgICAgICAweDYwIDogMHhmYSwgLy8gbG93ZXJjYXNlIHUsIGFjdXRlIGFjY2VudFxyXG4gICAgICAgIDB4N2IgOiAweGU3LCAvLyBsb3dlcmNhc2UgYyB3aXRoIGNlZGlsbGFcclxuICAgICAgICAweDdjIDogMHhmNywgLy8gZGl2aXNpb24gc3ltYm9sXHJcbiAgICAgICAgMHg3ZCA6IDB4ZDEsIC8vIHVwcGVyY2FzZSBOIHRpbGRlXHJcbiAgICAgICAgMHg3ZSA6IDB4ZjEsIC8vIGxvd2VyY2FzZSBuIHRpbGRlXHJcbiAgICAgICAgMHg3ZiA6IDB4MjU4OCwgLy8gRnVsbCBibG9ja1xyXG4gICAgICAgIC8vIFRISVMgQkxPQ0sgSU5DTFVERVMgVEhFIDE2IEVYVEVOREVEIChUV08tQllURSkgTElORSAyMSBDSEFSQUNURVJTXHJcbiAgICAgICAgLy8gVEhBVCBDT01FIEZST00gSEkgQllURT0weDExIEFORCBMT1cgQkVUV0VFTiAweDMwIEFORCAweDNGXHJcbiAgICAgICAgLy8gVEhJUyBNRUFOUyBUSEFUIFxceDUwIE1VU1QgQkUgQURERUQgVE8gVEhFIFZBTFVFU1xyXG4gICAgICAgIDB4ODAgOiAweGFlLCAvLyBSZWdpc3RlcmVkIHN5bWJvbCAoUilcclxuICAgICAgICAweDgxIDogMHhiMCwgLy8gZGVncmVlIHNpZ25cclxuICAgICAgICAweDgyIDogMHhiZCwgLy8gMS8yIHN5bWJvbFxyXG4gICAgICAgIDB4ODMgOiAweGJmLCAvLyBJbnZlcnRlZCAob3BlbikgcXVlc3Rpb24gbWFya1xyXG4gICAgICAgIDB4ODQgOiAweDIxMjIsIC8vIFRyYWRlbWFyayBzeW1ib2wgKFRNKVxyXG4gICAgICAgIDB4ODUgOiAweGEyLCAvLyBDZW50cyBzeW1ib2xcclxuICAgICAgICAweDg2IDogMHhhMywgLy8gUG91bmRzIHN0ZXJsaW5nXHJcbiAgICAgICAgMHg4NyA6IDB4MjY2YSwgLy8gTXVzaWMgOCd0aCBub3RlXHJcbiAgICAgICAgMHg4OCA6IDB4ZTAsIC8vIGxvd2VyY2FzZSBhLCBncmF2ZSBhY2NlbnRcclxuICAgICAgICAweDg5IDogMHgyMCwgLy8gdHJhbnNwYXJlbnQgc3BhY2UgKHJlZ3VsYXIpXHJcbiAgICAgICAgMHg4YSA6IDB4ZTgsIC8vIGxvd2VyY2FzZSBlLCBncmF2ZSBhY2NlbnRcclxuICAgICAgICAweDhiIDogMHhlMiwgLy8gbG93ZXJjYXNlIGEsIGNpcmN1bWZsZXggYWNjZW50XHJcbiAgICAgICAgMHg4YyA6IDB4ZWEsIC8vIGxvd2VyY2FzZSBlLCBjaXJjdW1mbGV4IGFjY2VudFxyXG4gICAgICAgIDB4OGQgOiAweGVlLCAvLyBsb3dlcmNhc2UgaSwgY2lyY3VtZmxleCBhY2NlbnRcclxuICAgICAgICAweDhlIDogMHhmNCwgLy8gbG93ZXJjYXNlIG8sIGNpcmN1bWZsZXggYWNjZW50XHJcbiAgICAgICAgMHg4ZiA6IDB4ZmIsIC8vIGxvd2VyY2FzZSB1LCBjaXJjdW1mbGV4IGFjY2VudFxyXG4gICAgICAgIC8vIFRISVMgQkxPQ0sgSU5DTFVERVMgVEhFIDMyIEVYVEVOREVEIChUV08tQllURSkgTElORSAyMSBDSEFSQUNURVJTXHJcbiAgICAgICAgLy8gVEhBVCBDT01FIEZST00gSEkgQllURT0weDEyIEFORCBMT1cgQkVUV0VFTiAweDIwIEFORCAweDNGXHJcbiAgICAgICAgMHg5MCA6IDB4YzEsIC8vIGNhcGl0YWwgbGV0dGVyIEEgd2l0aCBhY3V0ZVxyXG4gICAgICAgIDB4OTEgOiAweGM5LCAvLyBjYXBpdGFsIGxldHRlciBFIHdpdGggYWN1dGVcclxuICAgICAgICAweDkyIDogMHhkMywgLy8gY2FwaXRhbCBsZXR0ZXIgTyB3aXRoIGFjdXRlXHJcbiAgICAgICAgMHg5MyA6IDB4ZGEsIC8vIGNhcGl0YWwgbGV0dGVyIFUgd2l0aCBhY3V0ZVxyXG4gICAgICAgIDB4OTQgOiAweGRjLCAvLyBjYXBpdGFsIGxldHRlciBVIHdpdGggZGlhcmVzaXNcclxuICAgICAgICAweDk1IDogMHhmYywgLy8gbG93ZXJjYXNlIGxldHRlciBVIHdpdGggZGlhZXJlc2lzXHJcbiAgICAgICAgMHg5NiA6IDB4MjAxOCwgLy8gb3BlbmluZyBzaW5nbGUgcXVvdGVcclxuICAgICAgICAweDk3IDogMHhhMSwgLy8gaW52ZXJ0ZWQgZXhjbGFtYXRpb24gbWFya1xyXG4gICAgICAgIDB4OTggOiAweDJhLCAvLyBhc3Rlcmlza1xyXG4gICAgICAgIDB4OTkgOiAweDIwMTksIC8vIGNsb3Npbmcgc2luZ2xlIHF1b3RlXHJcbiAgICAgICAgMHg5YSA6IDB4MjUwMSwgLy8gYm94IGRyYXdpbmdzIGhlYXZ5IGhvcml6b250YWxcclxuICAgICAgICAweDliIDogMHhhOSwgLy8gY29weXJpZ2h0IHNpZ25cclxuICAgICAgICAweDljIDogMHgyMTIwLCAvLyBTZXJ2aWNlIG1hcmtcclxuICAgICAgICAweDlkIDogMHgyMDIyLCAvLyAocm91bmQpIGJ1bGxldFxyXG4gICAgICAgIDB4OWUgOiAweDIwMWMsIC8vIExlZnQgZG91YmxlIHF1b3RhdGlvbiBtYXJrXHJcbiAgICAgICAgMHg5ZiA6IDB4MjAxZCwgLy8gUmlnaHQgZG91YmxlIHF1b3RhdGlvbiBtYXJrXHJcbiAgICAgICAgMHhhMCA6IDB4YzAsIC8vIHVwcGVyY2FzZSBBLCBncmF2ZSBhY2NlbnRcclxuICAgICAgICAweGExIDogMHhjMiwgLy8gdXBwZXJjYXNlIEEsIGNpcmN1bWZsZXhcclxuICAgICAgICAweGEyIDogMHhjNywgLy8gdXBwZXJjYXNlIEMgd2l0aCBjZWRpbGxhXHJcbiAgICAgICAgMHhhMyA6IDB4YzgsIC8vIHVwcGVyY2FzZSBFLCBncmF2ZSBhY2NlbnRcclxuICAgICAgICAweGE0IDogMHhjYSwgLy8gdXBwZXJjYXNlIEUsIGNpcmN1bWZsZXhcclxuICAgICAgICAweGE1IDogMHhjYiwgLy8gY2FwaXRhbCBsZXR0ZXIgRSB3aXRoIGRpYXJlc2lzXHJcbiAgICAgICAgMHhhNiA6IDB4ZWIsIC8vIGxvd2VyY2FzZSBsZXR0ZXIgZSB3aXRoIGRpYXJlc2lzXHJcbiAgICAgICAgMHhhNyA6IDB4Y2UsIC8vIHVwcGVyY2FzZSBJLCBjaXJjdW1mbGV4XHJcbiAgICAgICAgMHhhOCA6IDB4Y2YsIC8vIHVwcGVyY2FzZSBJLCB3aXRoIGRpYXJlc2lzXHJcbiAgICAgICAgMHhhOSA6IDB4ZWYsIC8vIGxvd2VyY2FzZSBpLCB3aXRoIGRpYXJlc2lzXHJcbiAgICAgICAgMHhhYSA6IDB4ZDQsIC8vIHVwcGVyY2FzZSBPLCBjaXJjdW1mbGV4XHJcbiAgICAgICAgMHhhYiA6IDB4ZDksIC8vIHVwcGVyY2FzZSBVLCBncmF2ZSBhY2NlbnRcclxuICAgICAgICAweGFjIDogMHhmOSwgLy8gbG93ZXJjYXNlIHUsIGdyYXZlIGFjY2VudFxyXG4gICAgICAgIDB4YWQgOiAweGRiLCAvLyB1cHBlcmNhc2UgVSwgY2lyY3VtZmxleFxyXG4gICAgICAgIDB4YWUgOiAweGFiLCAvLyBsZWZ0LXBvaW50aW5nIGRvdWJsZSBhbmdsZSBxdW90YXRpb24gbWFya1xyXG4gICAgICAgIDB4YWYgOiAweGJiLCAvLyByaWdodC1wb2ludGluZyBkb3VibGUgYW5nbGUgcXVvdGF0aW9uIG1hcmtcclxuICAgICAgICAvLyBUSElTIEJMT0NLIElOQ0xVREVTIFRIRSAzMiBFWFRFTkRFRCAoVFdPLUJZVEUpIExJTkUgMjEgQ0hBUkFDVEVSU1xyXG4gICAgICAgIC8vIFRIQVQgQ09NRSBGUk9NIEhJIEJZVEU9MHgxMyBBTkQgTE9XIEJFVFdFRU4gMHgyMCBBTkQgMHgzRlxyXG4gICAgICAgIDB4YjAgOiAweGMzLCAvLyBVcHBlcmNhc2UgQSwgdGlsZGVcclxuICAgICAgICAweGIxIDogMHhlMywgLy8gTG93ZXJjYXNlIGEsIHRpbGRlXHJcbiAgICAgICAgMHhiMiA6IDB4Y2QsIC8vIFVwcGVyY2FzZSBJLCBhY3V0ZSBhY2NlbnRcclxuICAgICAgICAweGIzIDogMHhjYywgLy8gVXBwZXJjYXNlIEksIGdyYXZlIGFjY2VudFxyXG4gICAgICAgIDB4YjQgOiAweGVjLCAvLyBMb3dlcmNhc2UgaSwgZ3JhdmUgYWNjZW50XHJcbiAgICAgICAgMHhiNSA6IDB4ZDIsIC8vIFVwcGVyY2FzZSBPLCBncmF2ZSBhY2NlbnRcclxuICAgICAgICAweGI2IDogMHhmMiwgLy8gTG93ZXJjYXNlIG8sIGdyYXZlIGFjY2VudFxyXG4gICAgICAgIDB4YjcgOiAweGQ1LCAvLyBVcHBlcmNhc2UgTywgdGlsZGVcclxuICAgICAgICAweGI4IDogMHhmNSwgLy8gTG93ZXJjYXNlIG8sIHRpbGRlXHJcbiAgICAgICAgMHhiOSA6IDB4N2IsIC8vIE9wZW4gY3VybHkgYnJhY2VcclxuICAgICAgICAweGJhIDogMHg3ZCwgLy8gQ2xvc2luZyBjdXJseSBicmFjZVxyXG4gICAgICAgIDB4YmIgOiAweDVjLCAvLyBCYWNrc2xhc2hcclxuICAgICAgICAweGJjIDogMHg1ZSwgLy8gQ2FyZXRcclxuICAgICAgICAweGJkIDogMHg1ZiwgLy8gVW5kZXJzY29yZVxyXG4gICAgICAgIDB4YmUgOiAweDdjLCAvLyBQaXBlICh2ZXJ0aWNhbCBsaW5lKVxyXG4gICAgICAgIDB4YmYgOiAweDIyM2MsIC8vIFRpbGRlIG9wZXJhdG9yXHJcbiAgICAgICAgMHhjMCA6IDB4YzQsIC8vIFVwcGVyY2FzZSBBLCB1bWxhdXRcclxuICAgICAgICAweGMxIDogMHhlNCwgLy8gTG93ZXJjYXNlIEEsIHVtbGF1dFxyXG4gICAgICAgIDB4YzIgOiAweGQ2LCAvLyBVcHBlcmNhc2UgTywgdW1sYXV0XHJcbiAgICAgICAgMHhjMyA6IDB4ZjYsIC8vIExvd2VyY2FzZSBvLCB1bWxhdXRcclxuICAgICAgICAweGM0IDogMHhkZiwgLy8gRXNzemV0dCAoc2hhcnAgUylcclxuICAgICAgICAweGM1IDogMHhhNSwgLy8gWWVuIHN5bWJvbFxyXG4gICAgICAgIDB4YzYgOiAweGE0LCAvLyBHZW5lcmljIGN1cnJlbmN5IHNpZ25cclxuICAgICAgICAweGM3IDogMHgyNTAzLCAvLyBCb3ggZHJhd2luZ3MgaGVhdnkgdmVydGljYWxcclxuICAgICAgICAweGM4IDogMHhjNSwgLy8gVXBwZXJjYXNlIEEsIHJpbmdcclxuICAgICAgICAweGM5IDogMHhlNSwgLy8gTG93ZXJjYXNlIEEsIHJpbmdcclxuICAgICAgICAweGNhIDogMHhkOCwgLy8gVXBwZXJjYXNlIE8sIHN0cm9rZVxyXG4gICAgICAgIDB4Y2IgOiAweGY4LCAvLyBMb3dlcmNhc2Ugbywgc3Ryb2tcclxuICAgICAgICAweGNjIDogMHgyNTBmLCAvLyBCb3ggZHJhd2luZ3MgaGVhdnkgZG93biBhbmQgcmlnaHRcclxuICAgICAgICAweGNkIDogMHgyNTEzLCAvLyBCb3ggZHJhd2luZ3MgaGVhdnkgZG93biBhbmQgbGVmdFxyXG4gICAgICAgIDB4Y2UgOiAweDI1MTcsIC8vIEJveCBkcmF3aW5ncyBoZWF2eSB1cCBhbmQgcmlnaHRcclxuICAgICAgICAweGNmIDogMHgyNTFiIC8vIEJveCBkcmF3aW5ncyBoZWF2eSB1cCBhbmQgbGVmdFxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCBVbmljb2RlIENoYXJhY3RlciBmcm9tIENFQS02MDggYnl0ZSBjb2RlXHJcbiAgICAgKi9cclxuICAgIHZhciBnZXRDaGFyRm9yQnl0ZSA9IGZ1bmN0aW9uKGJ5dGUpIHtcclxuICAgICAgICB2YXIgY2hhckNvZGUgPSBieXRlO1xyXG4gICAgICAgIGlmIChzcGVjaWFsQ2VhNjA4Q2hhcnNDb2Rlcy5oYXNPd25Qcm9wZXJ0eShieXRlKSkge1xyXG4gICAgICAgICAgICBjaGFyQ29kZSA9IHNwZWNpYWxDZWE2MDhDaGFyc0NvZGVzW2J5dGVdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyQ29kZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBOUl9ST1dTID0gMTUsXHJcbiAgICAgICAgTlJfQ09MUyA9IDMyO1xyXG4gICAgLy8gVGFibGVzIHRvIGxvb2sgdXAgcm93IGZyb20gUEFDIGRhdGFcclxuICAgIHZhciByb3dzTG93Q2gxID0gezB4MTEgOiAxLCAweDEyIDogMywgMHgxNSA6IDUsIDB4MTYgOiA3LCAweDE3IDogOSwgMHgxMCA6IDExLCAweDEzIDogMTIsIDB4MTQgOiAxNH07XHJcbiAgICB2YXIgcm93c0hpZ2hDaDEgPSB7MHgxMSA6IDIsIDB4MTIgOiA0LCAweDE1IDogNiwgMHgxNiA6IDgsIDB4MTcgOiAxMCwgMHgxMyA6IDEzLCAweDE0IDogMTV9O1xyXG4gICAgdmFyIHJvd3NMb3dDaDIgPSB7MHgxOSA6IDEsIDB4MUEgOiAzLCAweDFEIDogNSwgMHgxRSA6IDcsIDB4MUYgOiA5LCAweDE4IDogMTEsIDB4MUIgOiAxMiwgMHgxQyA6IDE0fTtcclxuICAgIHZhciByb3dzSGlnaENoMiA9IHsweDE5IDogMiwgMHgxQSA6IDQsIDB4MUQgOiA2LCAweDFFIDogOCwgMHgxRiA6IDEwLCAweDFCIDogMTMsIDB4MUMgOiAxNX07XHJcblxyXG4gICAgdmFyIGJhY2tncm91bmRDb2xvcnMgPSBbJ3doaXRlJywgJ2dyZWVuJywgJ2JsdWUnLCAnY3lhbicsICdyZWQnLCAneWVsbG93JywgJ21hZ2VudGEnLCAnYmxhY2snLCAndHJhbnNwYXJlbnQnXTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNpbXBsZSBsb2dnZXIgY2xhc3MgdG8gYmUgYWJsZSB0byB3cml0ZSB3aXRoIHRpbWUtc3RhbXBzIGFuZCBmaWx0ZXIgb24gbGV2ZWwuXHJcbiAgICAgKi9cclxuICAgIHZhciBsb2dnZXIgPSB7XHJcbiAgICAgICAgLy92ZXJib3NlRmlsdGVyIDogeydEQVRBJyA6IDMsICdERUJVRycgOiAzLCAnSU5GTycgOiAyLCAnV0FSTklORycgOiAyLCAnVEVYVCcgOiAxLCAnRVJST1InIDogMH0sXHJcbiAgICAgICAgdmVyYm9zZUZpbHRlciA6IHsnREFUQScgOiA0LCAnREVCVUcnIDogNCwgJ0lORk8nIDogNCwgJ1dBUk5JTkcnIDogMiwgJ1RFWFQnIDogMSwgJ0VSUk9SJyA6IDB9LFxyXG4gICAgICAgIHRpbWUgOiBudWxsLFxyXG4gICAgICAgIHZlcmJvc2VMZXZlbCA6IDAsIC8vIE9ubHkgd3JpdGUgZXJyb3JzXHJcbiAgICAgICAgc2V0VGltZSA6IGZ1bmN0aW9uKG5ld1RpbWUpIHtcclxuICAgICAgICAgICAgdGhpcy50aW1lID0gbmV3VGltZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxvZyA6IGZ1bmN0aW9uKHNldmVyaXR5LCBtc2cpIHtcclxuICAgICAgICAgICAgdmFyIG1pbkxldmVsID0gdGhpcy52ZXJib3NlRmlsdGVyW3NldmVyaXR5XTtcclxuICAgICAgICAgICAgaWYgKHRoaXMudmVyYm9zZUxldmVsID49IG1pbkxldmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRpbWUgKyBcIiBbXCIgKyBzZXZlcml0eSArIFwiXSBcIiArIG1zZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRMb2dMZXZlbDogZnVuY3Rpb24gKGxldmVsKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmVyYm9zZUxldmVsID0gbGV2ZWw7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgbnVtQXJyYXlUb0hleEFycmF5ID0gZnVuY3Rpb24obnVtQXJyYXkpIHtcclxuICAgICAgICB2YXIgaGV4QXJyYXkgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG51bUFycmF5Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGhleEFycmF5LnB1c2gobnVtQXJyYXlbal0udG9TdHJpbmcoMTYpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGhleEFycmF5O1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0YXRlIG9mIENFQS02MDggcGVuIG9yIGNoYXJhY3RlclxyXG4gICAgICogQGNvbnN0cnVjdG9yXHJcbiAgICAgKi9cclxuICAgIHZhciBQZW5TdGF0ZSA9IGZ1bmN0aW9uKGZvcmVncm91bmQsIHVuZGVybGluZSwgaXRhbGljcywgYmFja2dyb3VuZCwgZmxhc2gpIHtcclxuICAgICAgICB0aGlzLmZvcmVncm91bmQgPSBmb3JlZ3JvdW5kIHx8IFwid2hpdGVcIjtcclxuICAgICAgICB0aGlzLnVuZGVybGluZSA9IHVuZGVybGluZSB8fCBmYWxzZTtcclxuICAgICAgICB0aGlzLml0YWxpY3MgPSBpdGFsaWNzIHx8IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IGJhY2tncm91bmQgfHwgXCJibGFja1wiO1xyXG4gICAgICAgIHRoaXMuZmxhc2ggPSBmbGFzaCB8fCBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgUGVuU3RhdGUucHJvdG90eXBlID0ge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJlc2V0IDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZm9yZWdyb3VuZCA9IFwid2hpdGVcIjtcclxuICAgICAgICAgICAgdGhpcy51bmRlcmxpbmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5pdGFsaWNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IFwiYmxhY2tcIjtcclxuICAgICAgICAgICAgdGhpcy5mbGFzaCA9IGZhbHNlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXHJcbiAgICAgICAgc2V0U3R5bGVzIDogZnVuY3Rpb24oc3R5bGVzKSB7XHJcbiAgICAgICAgICAgIHZhciBhdHRyaWJzID0gW1wiZm9yZWdyb3VuZFwiLCBcInVuZGVybGluZVwiLCBcIml0YWxpY3NcIiwgXCJiYWNrZ3JvdW5kXCIsIFwiZmxhc2hcIl07XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IGF0dHJpYnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHlsZSA9IGF0dHJpYnNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoc3R5bGVzLmhhc093blByb3BlcnR5KHN0eWxlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNbc3R5bGVdID0gc3R5bGVzW3N0eWxlXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXHJcbiAgICAgICAgaXNEZWZhdWx0IDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5mb3JlZ3JvdW5kID09PSBcIndoaXRlXCIgJiYgIXRoaXMudW5kZXJsaW5lICYmICF0aGlzLml0YWxpY3MgJiYgXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID09PSBcImJsYWNrXCIgJiYgIXRoaXMuZmxhc2gpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGVxdWFscyA6IGZ1bmN0aW9uKG90aGVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoICh0aGlzLmZvcmVncm91bmQgPT09IG90aGVyLmZvcmVncm91bmQpICYmIFxyXG4gICAgICAgICAgICAgICAgICAgICAodGhpcy51bmRlcmxpbmUgPT09IG90aGVyLnVuZGVybGluZSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgKHRoaXMuaXRhbGljcyA9PT0gb3RoZXIuaXRhbGljcykgJiZcclxuICAgICAgICAgICAgICAgICAgICAgKHRoaXMuYmFja2dyb3VuZCA9PT0gb3RoZXIuYmFja2dyb3VuZCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgKHRoaXMuZmxhc2ggPT09IG90aGVyLmZsYXNoKSApO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGNvcHkgOiBmdW5jdGlvbihuZXdQZW5TdGF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmZvcmVncm91bmQgPSBuZXdQZW5TdGF0ZS5mb3JlZ3JvdW5kO1xyXG4gICAgICAgICAgICB0aGlzLnVuZGVybGluZSA9IG5ld1BlblN0YXRlLnVuZGVybGluZTtcclxuICAgICAgICAgICAgdGhpcy5pdGFsaWNzID0gbmV3UGVuU3RhdGUuaXRhbGljcztcclxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gbmV3UGVuU3RhdGUuYmFja2dyb3VuZDtcclxuICAgICAgICAgICAgdGhpcy5mbGFzaCA9IG5ld1BlblN0YXRlLmZsYXNoO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXHJcbiAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKFwiY29sb3I9XCIgKyB0aGlzLmZvcmVncm91bmQgKyBcIiwgdW5kZXJsaW5lPVwiICsgdGhpcy51bmRlcmxpbmUgKyBcIiwgaXRhbGljcz1cIiArIHRoaXMuaXRhbGljcyArXHJcbiAgICAgICAgICAgICAgICBcIiwgYmFja2dyb3VuZD1cIiArIHRoaXMuYmFja2dyb3VuZCArIFwiLCBmbGFzaD1cIiArIHRoaXMuZmxhc2gpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVbmljb2RlIGNoYXJhY3RlciB3aXRoIHN0eWxpbmcgYW5kIGJhY2tncm91bmQuXHJcbiAgICAgKiBAY29uc3RydWN0b3JcclxuICAgICAqL1xyXG4gICAgdmFyIFN0eWxlZFVuaWNvZGVDaGFyID0gZnVuY3Rpb24odWNoYXIsIGZvcmVncm91bmQsIHVuZGVybGluZSwgaXRhbGljcywgYmFja2dyb3VuZCwgZmxhc2gpIHtcclxuICAgICAgICB0aGlzLnVjaGFyID0gdWNoYXIgfHwgJyAnOyAvLyB1bmljb2RlIGNoYXJhY3RlclxyXG4gICAgICAgIHRoaXMucGVuU3RhdGUgPSBuZXcgUGVuU3RhdGUoZm9yZWdyb3VuZCwgdW5kZXJsaW5lLGl0YWxpY3MsIGJhY2tncm91bmQsIGZsYXNoKTtcclxuICAgIH07XHJcblxyXG4gICAgU3R5bGVkVW5pY29kZUNoYXIucHJvdG90eXBlID0ge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy51Y2hhciA9ICcgJztcclxuICAgICAgICAgICAgdGhpcy5wZW5TdGF0ZS5yZXNldCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXHJcbiAgICAgICAgc2V0Q2hhcjogZnVuY3Rpb24odWNoYXIsIG5ld1BlblN0YXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMudWNoYXIgPSB1Y2hhcjtcclxuICAgICAgICAgICAgdGhpcy5wZW5TdGF0ZS5jb3B5KG5ld1BlblN0YXRlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFxyXG4gICAgICAgIHNldFBlblN0YXRlOiBmdW5jdGlvbihuZXdQZW5TdGF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnBlblN0YXRlLmNvcHkobmV3UGVuU3RhdGUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXHJcbiAgICAgICAgZXF1YWxzOiBmdW5jdGlvbihvdGhlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy51Y2hhciA9PT0gb3RoZXIudWNoYXIgJiYgdGhpcy5wZW5TdGF0ZS5lcXVhbHMob3RoZXIucGVuU3RhdGUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29weTogZnVuY3Rpb24obmV3Q2hhcikge1xyXG4gICAgICAgICAgICB0aGlzLnVjaGFyID0gbmV3Q2hhci51Y2hhcjtcclxuICAgICAgICAgICAgdGhpcy5wZW5TdGF0ZS5jb3B5KG5ld0NoYXIucGVuU3RhdGUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXHJcbiAgICAgICAgaXNFbXB0eSA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy51Y2hhciA9PT0gJyAnICYmIHRoaXMucGVuU3RhdGUuaXNEZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENFQS02MDggcm93IGNvbnNpc3Rpbmcgb2YgTlJfQ09MUyBpbnN0YW5jZXMgb2YgU3R5bGVkVW5pY29kZUNoYXIuXHJcbiAgICAgKiBAY29uc3RydWN0b3JcclxuICAgICAqL1xyXG4gICAgdmFyIFJvdyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuY2hhcnMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCBOUl9DT0xTIDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhcnMucHVzaChuZXcgU3R5bGVkVW5pY29kZUNoYXIoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucG9zID0gMDtcclxuICAgICAgICB0aGlzLmN1cnJQZW5TdGF0ZSA9IG5ldyBQZW5TdGF0ZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBSb3cucHJvdG90eXBlID0ge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGVxdWFsczogZnVuY3Rpb24ob3RoZXIpIHtcclxuICAgICAgICAgICAgdmFyIGVxdWFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpIDwgTlJfQ09MUzsgaSArKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoYXJzW2ldLmVxdWFscyhvdGhlci5jaGFyc1tpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlcXVhbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBlcXVhbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvcHk6IGZ1bmN0aW9uKG90aGVyKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IE5SX0NPTFM7IGkgKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhcnNbaV0uY29weShvdGhlci5jaGFyc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIFxyXG4gICAgICAgIGlzRW1wdHkgOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGVtcHR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpIDwgTlJfQ09MUzsgaSArKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoYXJzW2ldLmlzRW1wdHkoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGVtcHR5O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqICBTZXQgdGhlIGN1cnNvciB0byBhIHZhbGlkIGNvbHVtbi5cclxuICAgICAgICAgKi9cclxuICAgICAgICBzZXRDdXJzb3IgOiBmdW5jdGlvbihhYnNQb3MpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucG9zICE9PSBhYnNQb3MpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9zID0gYWJzUG9zO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBvcyA8IDApIHtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJFUlJPUlwiLCBcIk5lZ2F0aXZlIGN1cnNvciBwb3NpdGlvbiBcIiArIHRoaXMucG9zKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9zID0gMDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBvcyA+IE5SX0NPTFMpIHtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJFUlJPUlwiLCBcIlRvbyBsYXJnZSBjdXJzb3IgcG9zaXRpb24gXCIgKyB0aGlzLnBvcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcyA9IE5SX0NPTFM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKiogXHJcbiAgICAgICAgICogTW92ZSB0aGUgY3Vyc29yIHJlbGF0aXZlIHRvIGN1cnJlbnQgcG9zaXRpb24uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgbW92ZUN1cnNvciA6IGZ1bmN0aW9uKHJlbFBvcykge1xyXG4gICAgICAgICAgICB2YXIgbmV3UG9zID0gdGhpcy5wb3MgKyByZWxQb3M7XHJcbiAgICAgICAgICAgIGlmIChyZWxQb3MgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5wb3MrMTsgaSA8IG5ld1BvcysxIDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyc1tpXS5zZXRQZW5TdGF0ZSh0aGlzLmN1cnJQZW5TdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZXRDdXJzb3IobmV3UG9zKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBCYWNrc3BhY2UsIG1vdmUgb25lIHN0ZXAgYmFjayBhbmQgY2xlYXIgY2hhcmFjdGVyLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGJhY2tTcGFjZSA6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yKC0xKTtcclxuICAgICAgICAgICAgdGhpcy5jaGFyc1t0aGlzLnBvc10uc2V0Q2hhcignICcsIHRoaXMuY3VyclBlblN0YXRlKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBpbnNlcnRDaGFyOiBmdW5jdGlvbihieXRlKSB7XHJcbiAgICAgICAgICAgIGlmIChieXRlID49IDB4OTApIHsgLy9FeHRlbmRlZCBjaGFyXHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tTcGFjZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBjaGFyID0gZ2V0Q2hhckZvckJ5dGUoYnl0ZSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBvcyA+PSBOUl9DT0xTKSB7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiRVJST1JcIiwgXCJDYW5ub3QgaW5zZXJ0IFwiICsgYnl0ZS50b1N0cmluZygxNikgKyAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiAoXCIgKyBjaGFyICsgXCIpIGF0IHBvc2l0aW9uIFwiICsgdGhpcy5wb3MgKyBcIi4gU2tpcHBpbmcgaXQhXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY2hhcnNbdGhpcy5wb3NdLnNldENoYXIoY2hhciwgdGhpcy5jdXJyUGVuU3RhdGUpO1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3IoMSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgY2xlYXJGcm9tUG9zIDogZnVuY3Rpb24oc3RhcnRQb3MpIHtcclxuICAgICAgICAgICAgdmFyIGk7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IHN0YXJ0UG9zIDsgaSA8IE5SX0NPTFMgOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhcnNbaV0ucmVzZXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGNsZWFyIDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJGcm9tUG9zKDApO1xyXG4gICAgICAgICAgICB0aGlzLnBvcyA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuY3VyclBlblN0YXRlLnJlc2V0KCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgY2xlYXJUb0VuZE9mUm93IDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xlYXJGcm9tUG9zKHRoaXMucG9zKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXRUZXh0U3RyaW5nOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGNoYXJzID0gW107XHJcbiAgICAgICAgICAgIHZhciBlbXB0eSA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IE5SX0NPTFMgOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjaGFyID0gdGhpcy5jaGFyc1tpXS51Y2hhcjtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFyICE9PSBcIiBcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGVtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjaGFycy5wdXNoKGNoYXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChlbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhcnMuam9pbihcIlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldFBlblN0eWxlczogZnVuY3Rpb24oc3R5bGVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VyclBlblN0YXRlLnNldFN0eWxlcyhzdHlsZXMpO1xyXG4gICAgICAgICAgICB2YXIgY3VyckNoYXIgPSB0aGlzLmNoYXJzW3RoaXMucG9zXTtcclxuICAgICAgICAgICAgY3VyckNoYXIuc2V0UGVuU3RhdGUodGhpcy5jdXJyUGVuU3RhdGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBLZWVwIGEgQ0VBLTYwOCBzY3JlZW4gb2YgMzJ4MTUgc3R5bGVkIGNoYXJhY3RlcnNcclxuICAgICAqIEBjb25zdHJ1Y3RvclxyXG4gICAgKi9cclxuICAgIHZhciBDYXB0aW9uU2NyZWVuID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHRoaXMucm93cyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8ICBOUl9ST1dTOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5yb3dzLnB1c2gobmV3IFJvdygpKTsgLy8gTm90ZSB0aGF0IHdlIHVzZSB6ZXJvLWJhc2VkIG51bWJlcmluZyAoMC0xNClcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jdXJyUm93ID0gTlJfUk9XUyAtIDE7XHJcbiAgICAgICAgdGhpcy5uclJvbGxVcFJvd3MgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgIH07XHJcblxyXG4gICAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUgPSB7XHJcblxyXG4gICAgICAgIHJlc2V0IDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IE5SX1JPV1MgOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucm93c1tpXS5jbGVhcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY3VyclJvdyA9IE5SX1JPV1MgLSAxO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGVxdWFscyA6IGZ1bmN0aW9uKG90aGVyKSB7XHJcbiAgICAgICAgICAgIHZhciBlcXVhbCA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IE5SX1JPV1MgOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5yb3dzW2ldLmVxdWFscyhvdGhlci5yb3dzW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVxdWFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGVxdWFsO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGNvcHkgOiBmdW5jdGlvbihvdGhlcikge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCBOUl9ST1dTIDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvd3NbaV0uY29weShvdGhlci5yb3dzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGlzRW1wdHkgOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGVtcHR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpIDwgTlJfUk9XUyA7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnJvd3NbaV0uaXNFbXB0eSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW1wdHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZW1wdHk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgYmFja1NwYWNlIDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciByb3cgPSB0aGlzLnJvd3NbdGhpcy5jdXJyUm93XTsgXHJcbiAgICAgICAgICAgIHJvdy5iYWNrU3BhY2UoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjbGVhclRvRW5kT2ZSb3cgOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHJvdyA9IHRoaXMucm93c1t0aGlzLmN1cnJSb3ddO1xyXG4gICAgICAgICAgICByb3cuY2xlYXJUb0VuZE9mUm93KCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSW5zZXJ0IGEgY2hhcmFjdGVyICh3aXRob3V0IHN0eWxpbmcpIGluIHRoZSBjdXJyZW50IHJvdy5cclxuICAgICAgICAgKi9cclxuICAgICAgICBpbnNlcnRDaGFyIDogZnVuY3Rpb24oY2hhcikge1xyXG4gICAgICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3dzW3RoaXMuY3VyclJvd107XHJcbiAgICAgICAgICAgIHJvdy5pbnNlcnRDaGFyKGNoYXIpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldFBlbiA6IGZ1bmN0aW9uKHN0eWxlcykge1xyXG4gICAgICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3dzW3RoaXMuY3VyclJvd107XHJcbiAgICAgICAgICAgIHJvdy5zZXRQZW5TdHlsZXMoc3R5bGVzKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBtb3ZlQ3Vyc29yIDogZnVuY3Rpb24ocmVsUG9zKSB7XHJcbiAgICAgICAgICAgIHZhciByb3cgPSB0aGlzLnJvd3NbdGhpcy5jdXJyUm93XTtcclxuICAgICAgICAgICAgcm93Lm1vdmVDdXJzb3IocmVsUG9zKTsgXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0Q3Vyc29yIDogZnVuY3Rpb24oYWJzUG9zKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJJTkZPXCIsIFwic2V0Q3Vyc29yOiBcIiArIGFic1Bvcyk7XHJcbiAgICAgICAgICAgIHZhciByb3cgPSB0aGlzLnJvd3NbdGhpcy5jdXJyUm93XTtcclxuICAgICAgICAgICAgcm93LnNldEN1cnNvcihhYnNQb3MpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldFBBQyA6IGZ1bmN0aW9uKHBhY0RhdGEpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIklORk9cIiwgXCJwYWNEYXRhID0gXCIgKyBKU09OLnN0cmluZ2lmeShwYWNEYXRhKSk7XHJcbiAgICAgICAgICAgIHZhciBuZXdSb3cgPSBwYWNEYXRhLnJvdyAtIDE7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm5yUm9sbFVwUm93cyAgJiYgbmV3Um93IDwgdGhpcy5uclJvbGxVcFJvd3MgLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Um93ID0gdGhpcy5uclJvbGxVcFJvd3MtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmN1cnJSb3cgPSBuZXdSb3c7XHJcbiAgICAgICAgICAgIHZhciByb3cgPSB0aGlzLnJvd3NbdGhpcy5jdXJyUm93XTtcclxuICAgICAgICAgICAgaWYgKHBhY0RhdGEuaW5kZW50ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZW50ID0gcGFjRGF0YS5pbmRlbnQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJldlBvcyA9IE1hdGgubWF4KGluZGVudC0xLCAwKTtcclxuICAgICAgICAgICAgICAgIHJvdy5zZXRDdXJzb3IocGFjRGF0YS5pbmRlbnQpO1xyXG4gICAgICAgICAgICAgICAgcGFjRGF0YS5jb2xvciA9IHJvdy5jaGFyc1twcmV2UG9zXS5wZW5TdGF0ZS5mb3JlZ3JvdW5kO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBzdHlsZXMgPSB7Zm9yZWdyb3VuZCA6IHBhY0RhdGEuY29sb3IsIHVuZGVybGluZSA6IHBhY0RhdGEudW5kZXJsaW5lLCBpdGFsaWNzIDogcGFjRGF0YS5pdGFsaWNzLCBiYWNrZ3JvdW5kIDogJ2JsYWNrJywgZmxhc2ggOiBmYWxzZX07XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UGVuKHN0eWxlcyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2V0IGJhY2tncm91bmQvZXh0cmEgZm9yZWdyb3VuZCwgYnV0IGZpcnN0IGRvIGJhY2tfc3BhY2UsIGFuZCB0aGVuIGluc2VydCBzcGFjZSAoYmFja3dhcmRzIGNvbXBhdGliaWxpdHkpLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHNldEJrZ0RhdGEgOiBmdW5jdGlvbihia2dEYXRhKSB7XHJcblxyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiSU5GT1wiLCBcImJrZ0RhdGEgPSBcIiArIEpTT04uc3RyaW5naWZ5KGJrZ0RhdGEpKTtcclxuICAgICAgICAgICAgdGhpcy5iYWNrU3BhY2UoKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRQZW4oYmtnRGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zZXJ0Q2hhcigweDIwKTsgLy9TcGFjZVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldFJvbGxVcFJvd3MgOiBmdW5jdGlvbihuclJvd3MpIHtcclxuICAgICAgICAgICAgdGhpcy5uclJvbGxVcFJvd3MgPSBuclJvd3M7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcm9sbFVwIDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm5yUm9sbFVwUm93cyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkRFQlVHXCIsIFwicm9sbF91cCBidXQgbnJSb2xsVXBSb3dzIG5vdCBzZXQgeWV0XCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvL05vdCBwcm9wZXJseSBzZXR1cFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJURVhUXCIsIHRoaXMuZ2V0RGlzcGxheVRleHQoKSk7XHJcbiAgICAgICAgICAgIHZhciB0b3BSb3dJbmRleCA9IHRoaXMuY3VyclJvdyArIDEgLSB0aGlzLm5yUm9sbFVwUm93cztcclxuICAgICAgICAgICAgdmFyIHRvcFJvdyA9IHRoaXMucm93cy5zcGxpY2UodG9wUm93SW5kZXgsIDEpWzBdO1xyXG4gICAgICAgICAgICB0b3BSb3cuY2xlYXIoKTtcclxuICAgICAgICAgICAgdGhpcy5yb3dzLnNwbGljZSh0aGlzLmN1cnJSb3csIDAsIHRvcFJvdyk7XHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJJTkZPXCIsIFwiUm9sbGluZyB1cFwiKTtcclxuICAgICAgICAgICAgLy9sb2dnZXIubG9nKFwiVEVYVFwiLCB0aGlzLmdldF9kaXNwbGF5X3RleHQoKSlcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgIC8qKlxyXG4gICAgICAgICogR2V0IGFsbCBub24tZW1wdHkgcm93cyB3aXRoIGFzIHVuaWNvZGUgdGV4dC4gXHJcbiAgICAgICAgKi8gICAgICAgIFxyXG4gICAgICAgIGdldERpc3BsYXlUZXh0IDogZnVuY3Rpb24oYXNPbmVSb3cpIHtcclxuICAgICAgICAgICAgYXNPbmVSb3cgPSBhc09uZVJvdyB8fCBmYWxzZTtcclxuICAgICAgICAgICAgdmFyIGRpc3BsYXlUZXh0ID0gW107XHJcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gXCJcIjtcclxuICAgICAgICAgICAgdmFyIHJvd05yID0gLTE7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IE5SX1JPV1MgOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciByb3dUZXh0ID0gdGhpcy5yb3dzW2ldLmdldFRleHRTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIGlmIChyb3dUZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93TnIgPSBpKzE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFzT25lUm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlUZXh0LnB1c2goXCJSb3cgXCIgKyByb3dOciArICc6IFwiJyArIHJvd1RleHQgKyAnXCInKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5VGV4dC5wdXNoKHJvd1RleHQudHJpbSgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRpc3BsYXlUZXh0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChhc09uZVJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSBcIltcIiArIGRpc3BsYXlUZXh0LmpvaW4oXCIgfCBcIikgKyBcIl1cIjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IGRpc3BsYXlUZXh0LmpvaW4oXCJcXG5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZ2V0VGV4dEFuZEZvcm1hdCA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yb3dzO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGUgYSBDRUEtNjA4IGNoYW5uZWwgYW5kIHNlbmQgZGVjb2RlZCBkYXRhIHRvIG91dHB1dEZpbHRlclxyXG4gICAgICogQGNvbnN0cnVjdG9yXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY2hhbm5lbE51bWJlciAoMSBvciAyKVxyXG4gICAgICogQHBhcmFtIHtDdWVIYW5kbGVyfSBvdXRwdXRGaWx0ZXIgT3V0cHV0IGZyb20gY2hhbm5lbDEgbmV3Q3VlKHN0YXJ0VGltZSwgZW5kVGltZSwgY2FwdGlvblNjcmVlbilcclxuICAgICovXHJcbiAgICB2YXIgQ2VhNjA4Q2hhbm5lbCA9IGZ1bmN0aW9uKGNoYW5uZWxOdW1iZXIsIG91dHB1dEZpbHRlcikge1xyXG5cclxuICAgICAgICB0aGlzLmNoTnIgPSBjaGFubmVsTnVtYmVyO1xyXG4gICAgICAgIHRoaXMub3V0cHV0RmlsdGVyID0gb3V0cHV0RmlsdGVyO1xyXG4gICAgICAgIHRoaXMubW9kZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy52ZXJib3NlID0gMDtcclxuICAgICAgICB0aGlzLmRpc3BsYXllZE1lbW9yeSA9IG5ldyBDYXB0aW9uU2NyZWVuKCk7XHJcbiAgICAgICAgdGhpcy5ub25EaXNwbGF5ZWRNZW1vcnkgPSBuZXcgQ2FwdGlvblNjcmVlbigpO1xyXG4gICAgICAgIHRoaXMubGFzdE91dHB1dFNjcmVlbiA9IG5ldyBDYXB0aW9uU2NyZWVuKCk7XHJcbiAgICAgICAgdGhpcy5jdXJyUm9sbFVwUm93ID0gdGhpcy5kaXNwbGF5ZWRNZW1vcnkucm93c1tOUl9ST1dTLTFdO1xyXG4gICAgICAgIHRoaXMud3JpdGVTY3JlZW4gPSB0aGlzLmRpc3BsYXllZE1lbW9yeTtcclxuICAgICAgICB0aGlzLm1vZGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY3VlU3RhcnRUaW1lID0gbnVsbDsgLy8gS2VlcHMgdHJhY2sgb2Ygd2hlcmUgYSBjdWUgc3RhcnRlZC5cclxuICAgIH07XHJcblxyXG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUgPSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbW9kZXMgOiBbXCJNT0RFX1JPTEwtVVBcIiwgXCJNT0RFX1BPUC1PTlwiLCBcIk1PREVfUEFJTlQtT05cIiwgXCJNT0RFX1RFWFRcIl0sXHJcbiAgICAgICAgXHJcbiAgICAgICAgcmVzZXQgOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5tb2RlID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5ZWRNZW1vcnkucmVzZXQoKTtcclxuICAgICAgICAgICAgdGhpcy5ub25EaXNwbGF5ZWRNZW1vcnkucmVzZXQoKTtcclxuICAgICAgICAgICAgdGhpcy5sYXN0T3V0cHV0U2NyZWVuLnJlc2V0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3VyclJvbGxVcFJvdyA9IHRoaXMuZGlzcGxheWVkTWVtb3J5LnJvd3NbTlJfUk9XUy0xXTtcclxuICAgICAgICAgICAgdGhpcy53cml0ZVNjcmVlbiA9IHRoaXMuZGlzcGxheWVkTWVtb3J5O1xyXG4gICAgICAgICAgICB0aGlzLm1vZGUgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmN1ZVN0YXJ0VGltZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEN1ZUVuZFRpbWUgPSBudWxsO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldEhhbmRsZXIgOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3V0cHV0RmlsdGVyO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldEhhbmRsZXIgOiBmdW5jdGlvbihuZXdIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3V0cHV0RmlsdGVyID0gbmV3SGFuZGxlcjtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRQQUMgOiBmdW5jdGlvbihwYWNEYXRhKSB7XHJcbiAgICAgICAgICAgIHRoaXMud3JpdGVTY3JlZW4uc2V0UEFDKHBhY0RhdGEpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldEJrZ0RhdGEgOiBmdW5jdGlvbihia2dEYXRhKSB7XHJcbiAgICAgICAgICAgIHRoaXMud3JpdGVTY3JlZW4uc2V0QmtnRGF0YShia2dEYXRhKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRNb2RlIDogZnVuY3Rpb24obmV3TW9kZSkge1xyXG4gICAgICAgICAgICBpZiAobmV3TW9kZSA9PT0gdGhpcy5tb2RlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5tb2RlID0gbmV3TW9kZTtcclxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIklORk9cIiwgXCJNT0RFPVwiICsgbmV3TW9kZSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1vZGUgPT0gXCJNT0RFX1BPUC1PTlwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndyaXRlU2NyZWVuID0gdGhpcy5ub25EaXNwbGF5ZWRNZW1vcnk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndyaXRlU2NyZWVuID0gdGhpcy5kaXNwbGF5ZWRNZW1vcnk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndyaXRlU2NyZWVuLnJlc2V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMubW9kZSAhPT0gXCJNT0RFX1JPTEwtVVBcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5ZWRNZW1vcnkubnJSb2xsVXBSb3dzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMubm9uRGlzcGxheWVkTWVtb3J5Lm5yUm9sbFVwUm93cyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5tb2RlID0gbmV3TW9kZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBpbnNlcnRDaGFycyA6IGZ1bmN0aW9uKGNoYXJzKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IGNoYXJzLmxlbmd0aCA7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5pbnNlcnRDaGFyKGNoYXJzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgc2NyZWVuID0gdGhpcy53cml0ZVNjcmVlbiA9PT0gdGhpcy5kaXNwbGF5ZWRNZW1vcnkgPyBcIkRJU1BcIiA6IFwiTk9OX0RJU1BcIjtcclxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIklORk9cIiwgc2NyZWVuICsgXCI6IFwiICsgdGhpcy53cml0ZVNjcmVlbi5nZXREaXNwbGF5VGV4dCh0cnVlKSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1vZGUgPT09IFwiTU9ERV9QQUlOVC1PTlwiIHx8IHRoaXMubW9kZSA9PT0gXCJNT0RFX1JPTEwtVVBcIikge1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIlRFWFRcIiwgXCJESVNQTEFZRUQ6IFwiICsgdGhpcy5kaXNwbGF5ZWRNZW1vcnkuZ2V0RGlzcGxheVRleHQodHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vdXRwdXREYXRhVXBkYXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjY19SQ0w6IGZ1bmN0aW9uKCkgeyAvLyBSZXN1bWUgQ2FwdGlvbiBMb2FkaW5nIChzd2l0Y2ggbW9kZSB0byBQb3AgT24pXHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJJTkZPXCIsIFwiUkNMIC0gUmVzdW1lIENhcHRpb24gTG9hZGluZ1wiKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRNb2RlKFwiTU9ERV9QT1AtT05cIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjY19CUzogZnVuY3Rpb24oKSB7IC8vIEJhY2tTcGFjZVxyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiSU5GT1wiLCBcIkJTIC0gQmFja1NwYWNlXCIpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tb2RlID09PSBcIk1PREVfVEVYVFwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5iYWNrU3BhY2UoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMud3JpdGVTY3JlZW4gPT09IHRoaXMuZGlzcGxheWVkTWVtb3J5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm91dHB1dERhdGFVcGRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2NfQU9GIDogZnVuY3Rpb24oKSB7IC8vIFJlc2VydmVkIChmb3JtZXJseSBBbGFybSBPZmYpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNjX0FPTjogZnVuY3Rpb24oKSB7IC8vIFJlc2VydmVkIChmb3JtZXJseSBBbGFybSBPbilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2NfREVSOiBmdW5jdGlvbigpIHsgLy8gRGVsZXRlIHRvIEVuZCBvZiBSb3dcclxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIklORk9cIiwgXCJERVItIERlbGV0ZSB0byBFbmQgb2YgUm93XCIpO1xyXG4gICAgICAgICAgICB0aGlzLndyaXRlU2NyZWVuLmNsZWFyVG9FbmRPZlJvdygpO1xyXG4gICAgICAgICAgICB0aGlzLm91dHB1dERhdGFVcGRhdGUoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNjX1JVOiBmdW5jdGlvbihuclJvd3MpIHsgLy9Sb2xsLVVwIENhcHRpb25zLTIsMyxvciA0IFJvd3NcclxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIklORk9cIiwgXCJSVShcIiArIG5yUm93cyArXCIpIC0gUm9sbCBVcFwiKTtcclxuICAgICAgICAgICAgdGhpcy53cml0ZVNjcmVlbiA9IHRoaXMuZGlzcGxheWVkTWVtb3J5O1xyXG4gICAgICAgICAgICB0aGlzLnNldE1vZGUoXCJNT0RFX1JPTEwtVVBcIik7XHJcbiAgICAgICAgICAgIHRoaXMud3JpdGVTY3JlZW4uc2V0Um9sbFVwUm93cyhuclJvd3MpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2NfRk9OOiBmdW5jdGlvbigpIHsgLy9GbGFzaCBPblxyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiSU5GT1wiLCBcIkZPTiAtIEZsYXNoIE9uXCIpO1xyXG4gICAgICAgICAgICB0aGlzLndyaXRlU2NyZWVuLnNldFBlbih7Zmxhc2ggOiB0cnVlfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjY19SREM6IGZ1bmN0aW9uKCkgeyAvLyBSZXN1bWUgRGlyZWN0IENhcHRpb25pbmcgKHN3aXRjaCBtb2RlIHRvIFBhaW50T24pXHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJJTkZPXCIsIFwiUkRDIC0gUmVzdW1lIERpcmVjdCBDYXB0aW9uaW5nXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnNldE1vZGUoXCJNT0RFX1BBSU5ULU9OXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2NfVFI6IGZ1bmN0aW9uKCkgeyAvLyBUZXh0IFJlc3RhcnQgaW4gdGV4dCBtb2RlIChub3Qgc3VwcG9ydGVkLCBob3dldmVyKVxyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiSU5GT1wiLCBcIlRSXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnNldE1vZGUoXCJNT0RFX1RFWFRcIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjY19SVEQ6IGZ1bmN0aW9uKCkgeyAvLyBSZXN1bWUgVGV4dCBEaXNwbGF5IGluIFRleHQgbW9kZSAobm90IHN1cHBvcnRlZCwgaG93ZXZlcilcclxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIklORk9cIiwgXCJSVERcIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0TW9kZShcIk1PREVfVEVYVFwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNjX0VETTogZnVuY3Rpb24oKSB7IC8vIEVyYXNlIERpc3BsYXllZCBNZW1vcnlcclxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIklORk9cIiwgXCJFRE0gLSBFcmFzZSBEaXNwbGF5ZWQgTWVtb3J5XCIpO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXllZE1lbW9yeS5yZXNldCgpO1xyXG4gICAgICAgICAgICB0aGlzLm91dHB1dERhdGFVcGRhdGUoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNjX0NSOiBmdW5jdGlvbigpIHsgLy8gQ2FycmlhZ2UgUmV0dXJuXHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJDUiAtIENhcnJpYWdlIFJldHVyblwiKTtcclxuICAgICAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5yb2xsVXAoKTtcclxuICAgICAgICAgICAgdGhpcy5vdXRwdXREYXRhVXBkYXRlKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjY19FTk06IGZ1bmN0aW9uKCkgeyAvL0VyYXNlIE5vbi1EaXNwbGF5ZWQgTWVtb3J5XHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJJTkZPXCIsIFwiRU5NIC0gRXJhc2UgTm9uLWRpc3BsYXllZCBNZW1vcnlcIik7XHJcbiAgICAgICAgICAgIHRoaXMubm9uRGlzcGxheWVkTWVtb3J5LnJlc2V0KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjY19FT0M6IGZ1bmN0aW9uKCkgeyAvL0VuZCBvZiBDYXB0aW9uIChGbGlwIE1lbW9yaWVzKVxyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiSU5GT1wiLCBcIkVPQyAtIEVuZCBPZiBDYXB0aW9uXCIpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tb2RlID09PSBcIk1PREVfUE9QLU9OXCIpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0bXAgPSB0aGlzLmRpc3BsYXllZE1lbW9yeTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheWVkTWVtb3J5ID0gdGhpcy5ub25EaXNwbGF5ZWRNZW1vcnk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vbkRpc3BsYXllZE1lbW9yeSA9IHRtcDtcclxuICAgICAgICAgICAgICAgIHRoaXMud3JpdGVTY3JlZW4gPSB0aGlzLm5vbkRpc3BsYXllZE1lbW9yeTtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJURVhUXCIsIFwiRElTUDogXCIgKyB0aGlzLmRpc3BsYXllZE1lbW9yeS5nZXREaXNwbGF5VGV4dCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLm91dHB1dERhdGFVcGRhdGUoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNjX1RPOiBmdW5jdGlvbihuckNvbHMpIHsgLy8gVGFiIE9mZnNldCAxLDIsIG9yIDMgY29sdW1uc1xyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiSU5GT1wiLCBcIlRPKFwiICsgbnJDb2xzICsgXCIpIC0gVGFiIE9mZnNldFwiKTtcclxuICAgICAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5tb3ZlQ3Vyc29yKG5yQ29scyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjY19NSURST1c6IGZ1bmN0aW9uKHNlY29uZEJ5dGUpIHsgLy8gUGFyc2UgTUlEUk9XIGNvbW1hbmRcclxuICAgICAgICAgICAgdmFyIHN0eWxlcyA9IHtmbGFzaCA6IGZhbHNlfTtcclxuICAgICAgICAgICAgc3R5bGVzLnVuZGVybGluZSA9IHNlY29uZEJ5dGUgJSAyID09PSAxO1xyXG4gICAgICAgICAgICBzdHlsZXMuaXRhbGljcyA9IHNlY29uZEJ5dGUgPj0gMHgyZTtcclxuICAgICAgICAgICAgaWYgKCFzdHlsZXMuaXRhbGljcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbG9ySW5kZXggPSBNYXRoLmZsb29yKHNlY29uZEJ5dGUvMikgLSAweDEwO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbG9ycyA9IFtcIndoaXRlXCIsIFwiZ3JlZW5cIiwgXCJibHVlXCIsIFwiY3lhblwiLCBcInJlZFwiLCBcInllbGxvd1wiLCBcIm1hZ2VudGFcIl07XHJcbiAgICAgICAgICAgICAgICBzdHlsZXMuZm9yZWdyb3VuZCA9IGNvbG9yc1tjb2xvckluZGV4XTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlcy5mb3JlZ3JvdW5kID0gXCJ3aGl0ZVwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJJTkZPXCIsIFwiTUlEUk9XOiBcIiArIEpTT04uc3RyaW5naWZ5KHN0eWxlcykpO1xyXG4gICAgICAgICAgICB0aGlzLndyaXRlU2NyZWVuLnNldFBlbihzdHlsZXMpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG91dHB1dERhdGFVcGRhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgdCA9IGxvZ2dlci50aW1lO1xyXG4gICAgICAgICAgICBpZiAodCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm91dHB1dEZpbHRlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3V0cHV0RmlsdGVyLnVwZGF0ZURhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dEZpbHRlci51cGRhdGVEYXRhKHQsIHRoaXMuZGlzcGxheWVkTWVtb3J5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1ZVN0YXJ0VGltZSA9PT0gbnVsbCAmJiAhdGhpcy5kaXNwbGF5ZWRNZW1vcnkuaXNFbXB0eSgpKSB7IC8vIFN0YXJ0IG9mIGEgbmV3IGN1ZVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VlU3RhcnRUaW1lID0gdDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmRpc3BsYXllZE1lbW9yeS5lcXVhbHModGhpcy5sYXN0T3V0cHV0U2NyZWVuKSkgeyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3V0cHV0RmlsdGVyLm5ld0N1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vdXRwdXRGaWx0ZXIubmV3Q3VlKHRoaXMuY3VlU3RhcnRUaW1lLCB0LCB0aGlzLmxhc3RPdXRwdXRTY3JlZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VlU3RhcnRUaW1lID0gdGhpcy5kaXNwbGF5ZWRNZW1vcnkuaXNFbXB0eSgpID8gbnVsbCA6IHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0T3V0cHV0U2NyZWVuLmNvcHkodGhpcy5kaXNwbGF5ZWRNZW1vcnkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgY3VlU3BsaXRBdFRpbWUgOiBmdW5jdGlvbih0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm91dHB1dEZpbHRlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmRpc3BsYXllZE1lbW9yeS5pc0VtcHR5KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vdXRwdXRGaWx0ZXIubmV3Q3VlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0RmlsdGVyLm5ld0N1ZSh0aGlzLmN1ZVN0YXJ0VGltZSwgdCwgdGhpcy5kaXNwbGF5ZWRNZW1vcnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1ZVN0YXJ0VGltZSA9IHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGFyc2UgQ0VBLTYwOCBkYXRhIGFuZCBzZW5kIGRlY29kZWQgZGF0YSB0byBvdXQxIGFuZCBvdXQyLlxyXG4gICAgICogQGNvbnN0cnVjdG9yXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZmllbGQgIENFQS02MDggZmllbGQgKDEgb3IgMilcclxuICAgICAqIEBwYXJhbSB7Q3VlSGFuZGxlcn0gb3V0MSBPdXRwdXQgZnJvbSBjaGFubmVsMSBuZXdDdWUoc3RhcnRUaW1lLCBlbmRUaW1lLCBjYXB0aW9uU2NyZWVuKVxyXG4gICAgICogQHBhcmFtIHtDdWVIYW5kbGVyfSBvdXQyIE91dHB1dCBmcm9tIGNoYW5uZWwyIG5ld0N1ZShzdGFydFRpbWUsIGVuZFRpbWUsIGNhcHRpb25TY3JlZW4pXHJcbiAgICAgKi9cclxuICAgIHZhciBDZWE2MDhQYXJzZXIgPSBmdW5jdGlvbihmaWVsZCwgb3V0MSwgb3V0Mikge1xyXG4gICAgICAgIHRoaXMuZmllbGQgPSBmaWVsZCB8fCAxO1xyXG4gICAgICAgIHRoaXMub3V0cHV0cyA9IFtvdXQxLCBvdXQyXTtcclxuICAgICAgICB0aGlzLmNoYW5uZWxzID0gW25ldyBDZWE2MDhDaGFubmVsKDEsIG91dDEpLCBuZXcgQ2VhNjA4Q2hhbm5lbCgyLCBvdXQyKV07XHJcbiAgICAgICAgdGhpcy5jdXJyQ2hOciA9IC0xOyAvLyBXaWxsIGJlIDEgb3IgMlxyXG4gICAgICAgIHRoaXMubGFzdENtZEEgPSBudWxsOyAvLyBGaXJzdCBieXRlIG9mIGxhc3QgY29tbWFuZFxyXG4gICAgICAgIHRoaXMubGFzdENtZEIgPSBudWxsOyAvLyBTZWNvbmQgYnl0ZSBvZiBsYXN0IGNvbW1hbmRcclxuICAgICAgICB0aGlzLmJ1ZmZlcmVkRGF0YSA9IFtdO1xyXG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gbnVsbDtcclxuICAgICAgICB0aGlzLmxhc3RUaW1lID0gbnVsbDtcclxuICAgICAgICB0aGlzLmRhdGFDb3VudGVycyA9IHsncGFkZGluZycgOiAwLCAnY2hhcicgOiAwLCAnY21kJyA6IDAsICdvdGhlcicgOiAwfTtcclxuICAgIH07XHJcblxyXG4gICAgQ2VhNjA4UGFyc2VyLnByb3RvdHlwZSA9IHtcclxuICAgICAgICBcclxuICAgICAgICBnZXRIYW5kbGVyIDogZnVuY3Rpb24oaW5kZXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhbm5lbHNbaW5kZXhdLmdldEhhbmRsZXIoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFxyXG4gICAgICAgIHNldEhhbmRsZXIgOiBmdW5jdGlvbihpbmRleCwgbmV3SGFuZGxlcikge1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5uZWxzW2luZGV4XS5zZXRIYW5kbGVyKG5ld0hhbmRsZXIpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFkZCBkYXRhIGZvciB0aW1lIHQgaW4gZm9ybXMgb2YgbGlzdCBvZiBieXRlcyAodW5zaWduZWQgaW50cykuIFRoZSBieXRlcyBhcmUgdHJlYXRlZCBhcyBwYWlycy5cclxuICAgICAgICAgKi9cclxuICAgICAgICBhZGREYXRhIDogZnVuY3Rpb24odCwgYnl0ZUxpc3QpIHtcclxuICAgICAgICAgICAgdmFyIGNtZEZvdW5kLCBhLCBiLCBcclxuICAgICAgICAgICAgY2hhcnNGb3VuZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5sYXN0VGltZSA9IHQ7XHJcbiAgICAgICAgICAgIGxvZ2dlci5zZXRUaW1lKHQpO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpIDwgYnl0ZUxpc3QubGVuZ3RoIDsgaSs9Mikge1xyXG4gICAgICAgICAgICAgICAgYSA9IGJ5dGVMaXN0W2ldICYgMHg3ZjtcclxuICAgICAgICAgICAgICAgIGIgPSBieXRlTGlzdFtpKzFdICYgMHg3ZjtcclxuICAgICAgICAgICAgICAgIGlmIChhID09PSAwICYmIGIgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFDb3VudGVycy5wYWRkaW5nICs9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJEQVRBXCIsIFwiW1wiICsgbnVtQXJyYXlUb0hleEFycmF5KFtieXRlTGlzdFtpXSwgYnl0ZUxpc3RbaSsxXV0pICtcIl0gLT4gKFwiICsgbnVtQXJyYXlUb0hleEFycmF5KFthLCBiXSkgKyBcIilcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjbWRGb3VuZCA9IHRoaXMucGFyc2VDbWQoYSwgYik7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNtZEZvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY21kRm91bmQgPSB0aGlzLnBhcnNlTWlkcm93KGEsIGIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFjbWRGb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNtZEZvdW5kID0gdGhpcy5wYXJzZVBBQyhhLCBiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghY21kRm91bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbWRGb3VuZCA9IHRoaXMucGFyc2VCYWNrZ3JvdW5kQXR0cmlidXRlcyhhLCBiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghY21kRm91bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFyc0ZvdW5kID0gdGhpcy5wYXJzZUNoYXJzKGEsIGIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFyc0ZvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJDaE5yICYmIHRoaXMuY3VyckNoTnIgPj0wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhbm5lbCA9IHRoaXMuY2hhbm5lbHNbdGhpcy5jdXJyQ2hOci0xXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWwuaW5zZXJ0Q2hhcnMoY2hhcnNGb3VuZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiV0FSTklOR1wiLCBcIk5vIGNoYW5uZWwgZm91bmQgeWV0LiBURVhULU1PREU/XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNtZEZvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhQ291bnRlcnMuY21kICs9IDI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJzRm91bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFDb3VudGVycy5jaGFyICs9IDI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUNvdW50ZXJzLm90aGVyICs9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIldBUk5JTkdcIiwgXCJDb3VsZG4ndCBwYXJzZSBjbGVhbmVkIGRhdGEgXCIgKyBudW1BcnJheVRvSGV4QXJyYXkoW2EsIGJdKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgb3JpZzogXCIgKyBudW1BcnJheVRvSGV4QXJyYXkoW2J5dGVMaXN0W2ldLCBieXRlTGlzdFtpKzFdXSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUGFyc2UgQ29tbWFuZC5cclxuICAgICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gVGVsbHMgaWYgYSBjb21tYW5kIHdhcyBmb3VuZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHBhcnNlQ21kOiBmdW5jdGlvbihhLCBiKSB7XHJcbiAgICAgICAgICAgIHZhciBjaE5yID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIHZhciBjb25kMSA9IChhID09PSAweDE0IHx8IGEgPT09IDB4MUMpICYmICgweDIwIDw9IGIgJiYgYiA8PSAweDJGKTtcclxuICAgICAgICAgICAgdmFyIGNvbmQyID0gKGEgPT09IDB4MTcgfHwgYSA9PT0gMHgxRikgJiYgKDB4MjEgPD0gYiAmJiBiIDw9IDB4MjMpO1xyXG4gICAgICAgICAgICBpZiAoIShjb25kMSB8fCBjb25kMikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoYSA9PT0gdGhpcy5sYXN0Q21kQSAmJiBiID09PSB0aGlzLmxhc3RDbWRCKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RDbWRBID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdENtZEIgPSBudWxsOyAvLyBSZXBlYXRlZCBjb21tYW5kcyBhcmUgZHJvcHBlZCAob25jZSlcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJERUJVR1wiLCBcIlJlcGVhdGVkIGNvbW1hbmQgKFwiICsgbnVtQXJyYXlUb0hleEFycmF5KFthLCBiXSkgKyBcIikgaXMgZHJvcHBlZFwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoYSA9PT0gMHgxNCB8fCBhID09PSAweDE3KSB7XHJcbiAgICAgICAgICAgICAgICBjaE5yID0gMTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNoTnIgPSAyOyAvLyAoYSA9PT0gMHgxQyB8fCBhPT09IDB4MWYpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBjaGFubmVsID0gdGhpcy5jaGFubmVsc1tjaE5yIC0gMV07XHJcblxyXG4gICAgICAgICAgICBpZiAoYSA9PT0gMHgxNCB8fCBhID09PSAweDFDKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYiA9PT0gMHgyMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NfUkNMKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MjEpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsLmNjX0JTKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MjIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsLmNjX0FPRigpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChiID09PSAweDIzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC5jY19BT04oKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyNCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NfREVSKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MjUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsLmNjX1JVKDIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChiID09PSAweDI2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC5jY19SVSgzKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyNykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NfUlUoNCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MjgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsLmNjX0ZPTigpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChiID09PSAweDI5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC5jY19SREMoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyQSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NfVFIoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyQikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NfUlREKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MkMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsLmNjX0VETSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChiID09PSAweDJEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC5jY19DUigpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChiID09PSAweDJFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC5jY19FTk0oKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyRikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NfRU9DKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7IC8vYSA9PSAweDE3IHx8IGEgPT0gMHgxRlxyXG4gICAgICAgICAgICAgICAgY2hhbm5lbC5jY19UTyhiIC0gMHgyMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5sYXN0Q21kQSA9IGE7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdENtZEIgPSBiO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJDaE5yID0gY2hOcjtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUGFyc2UgbWlkcm93IHN0eWxpbmcgY29tbWFuZFxyXG4gICAgICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHBhcnNlTWlkcm93IDogZnVuY3Rpb24oYSwgYikge1xyXG4gICAgICAgICAgICB2YXIgY2hOciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKCAoKGEgPT09IDB4MTEpIHx8IChhID09PSAweDE5KSkgJiYgMHgyMCA8PSBiICYmIGIgPD0gMHgyZikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGEgPT09IDB4MTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaE5yID0gMTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoTnIgPSAyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNoTnIgIT09IHRoaXMuY3VyckNoTnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiRVJST1JcIiwgXCJNaXNtYXRjaCBjaGFubmVsIGluIG1pZHJvdyBwYXJzaW5nXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBjaGFubmVsID0gdGhpcy5jaGFubmVsc1tjaE5yLTFdO1xyXG4gICAgICAgICAgICAgICAgY2hhbm5lbC5jY19NSURST1coYik7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiREVCVUdcIiwgXCJNSURST1cgKFwiICsgbnVtQXJyYXlUb0hleEFycmF5KFthLCBiXSkgKyBcIilcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSxcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBQYXJzZSBQcmVhYmxlIEFjY2VzcyBDb2RlcyAoVGFibGUgNTMpLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBUZWxscyBpZiBQQUMgZm91bmRcclxuICAgICAgICAgKi9cclxuICAgICAgICBwYXJzZVBBQyA6IGZ1bmN0aW9uKGEsIGIpIHtcclxuXHJcbiAgICAgICAgICAgdmFyIGNoTnIgPSBudWxsO1xyXG4gICAgICAgICAgIHZhciByb3cgPSBudWxsO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdmFyIGNhc2UxID0gKCgweDExIDw9IGEgICYmIGEgPD0gMHgxNykgfHwgKDB4MTkgPD0gYSAmJiBhIDw9IDB4MUYpKSAmJiAoMHg0MCA8PSBiICYmIGIgPD0gMHg3Rik7XHJcbiAgICAgICAgICAgIHZhciBjYXNlMiA9IChhID09PSAweDEwIHx8IGEgPT09IDB4MTgpICYmICgweDQwIDw9IGIgJiYgYiA8PSAweDVGKTtcclxuICAgICAgICAgICAgaWYgKCEgKGNhc2UxIHx8IGNhc2UyKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoYSA9PT0gdGhpcy5sYXN0Q21kQSAmJiBiID09PSB0aGlzLmxhc3RDbWRCKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RDbWRBID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdENtZEIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIFJlcGVhdGVkIGNvbW1hbmRzIGFyZSBkcm9wcGVkIChvbmNlKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjaE5yID0gKGEgPD0gMHgxNykgPyAxIDogMjtcclxuXHJcbiAgICAgICAgICAgIGlmICgweDQwIDw9IGIgJiYgYiA8PSAweDVGKSB7XHJcbiAgICAgICAgICAgICAgICByb3cgPSAoY2hOciA9PT0gMSkgPyByb3dzTG93Q2gxW2FdIDogcm93c0xvd0NoMlthXTtcclxuICAgICAgICAgICAgfSBlbHNlIHsgLy8gMHg2MCA8PSBiIDw9IDB4N0ZcclxuICAgICAgICAgICAgICAgIHJvdyA9IChjaE5yID09PSAxKSA/IHJvd3NIaWdoQ2gxW2FdIDogcm93c0hpZ2hDaDJbYV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHBhY0RhdGEgPSB0aGlzLmludGVycHJldFBBQyhyb3csIGIpO1xyXG4gICAgICAgICAgICB2YXIgY2hhbm5lbCA9IHRoaXMuY2hhbm5lbHNbY2hOci0xXTtcclxuICAgICAgICAgICAgY2hhbm5lbC5zZXRQQUMocGFjRGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdENtZEEgPSBhO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RDbWRCID0gYjtcclxuICAgICAgICAgICAgdGhpcy5jdXJyQ2hOciA9IGNoTnI7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEludGVycHJldCB0aGUgc2Vjb25kIGJ5dGUgb2YgdGhlIHBhYywgYW5kIHJldHVybiB0aGUgaW5mb3JtYXRpb24uXHJcbiAgICAgICAgICogQHJldHVybnMge09iamVjdH0gcGFjRGF0YSB3aXRoIHN0eWxlIHBhcmFtZXRlcnMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaW50ZXJwcmV0UEFDIDogZnVuY3Rpb24gKHJvdywgYnl0ZSkge1xyXG4gICAgICAgICAgICB2YXIgcGFjSW5kZXggPSBieXRlO1xyXG4gICAgICAgICAgICB2YXIgcGFjRGF0YSA9IHtjb2xvciA6IG51bGwsIGl0YWxpY3MgOiBmYWxzZSwgaW5kZW50IDogbnVsbCwgdW5kZXJsaW5lIDogZmFsc2UsIHJvdyA6IHJvd307XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoYnl0ZSA+IDB4NUYpIHtcclxuICAgICAgICAgICAgICAgIHBhY0luZGV4ID0gYnl0ZSAtIDB4NjA7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwYWNJbmRleCA9IGJ5dGUgLSAweDQwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhY0RhdGEudW5kZXJsaW5lID0gKHBhY0luZGV4ICYgMSkgPT09IDE7XHJcbiAgICAgICAgICAgIGlmIChwYWNJbmRleCA8PSAweGQpIHtcclxuICAgICAgICAgICAgICAgIHBhY0RhdGEuY29sb3IgPSBbJ3doaXRlJywgJ2dyZWVuJywgJ2JsdWUnLCAnY3lhbicsICdyZWQnLCAneWVsbG93JywgJ21hZ2VudGEnLCAnd2hpdGUnXVtNYXRoLmZsb29yKHBhY0luZGV4LzIpXTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYWNJbmRleCA8PSAweGYpIHtcclxuICAgICAgICAgICAgICAgIHBhY0RhdGEuaXRhbGljcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBwYWNEYXRhLmNvbG9yID0gJ3doaXRlJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBhY0RhdGEuaW5kZW50ID0gKE1hdGguZmxvb3IoKHBhY0luZGV4LTB4MTApLzIpKSo0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBwYWNEYXRhOyAvLyBOb3RlIHRoYXQgcm93IGhhcyB6ZXJvIG9mZnNldC4gVGhlIHNwZWMgdXNlcyAxLlxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFBhcnNlIGNoYXJhY3RlcnMuXHJcbiAgICAgICAgICogQHJldHVybnMgQW4gYXJyYXkgd2l0aCAxIHRvIDIgY29kZXMgY29ycmVzcG9uZGluZyB0byBjaGFycywgaWYgZm91bmQuIG51bGwgb3RoZXJ3aXNlLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHBhcnNlQ2hhcnMgOiBmdW5jdGlvbihhLCBiKSB7XHJcblxyXG4gICAgICAgICAgIHZhciAgY2hhbm5lbE5yID0gbnVsbCxcclxuICAgICAgICAgICAgICAgIGNoYXJDb2RlcyA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBjaGFyQ29kZTEgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgLy9jaGFyQ29kZTIgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgaWYgKGEgPj0gMHgxOSkge1xyXG4gICAgICAgICAgICAgICAgY2hhbm5lbE5yID0gMjtcclxuICAgICAgICAgICAgICAgIGNoYXJDb2RlMSA9IGEgLSA4O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2hhbm5lbE5yID0gMTtcclxuICAgICAgICAgICAgICAgIGNoYXJDb2RlMSA9IGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKDB4MTEgPD0gY2hhckNvZGUxICYmIGNoYXJDb2RlMSA8PSAweDEzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTcGVjaWFsIGNoYXJhY3RlclxyXG4gICAgICAgICAgICAgICAgdmFyIG9uZUNvZGUgPSBiO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJDb2RlMSA9PT0gMHgxMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uZUNvZGUgPSBiICsgMHg1MDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhckNvZGUxID09PSAweDEyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25lQ29kZSA9IGIgKyAweDcwO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBvbmVDb2RlID0gYiArIDB4OTA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiSU5GT1wiLCBcIlNwZWNpYWwgY2hhciAnXCIgKyBnZXRDaGFyRm9yQnl0ZShvbmVDb2RlKSArIFwiJyBpbiBjaGFubmVsIFwiICsgY2hhbm5lbE5yKTtcclxuICAgICAgICAgICAgICAgIGNoYXJDb2RlcyA9IFtvbmVDb2RlXTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICgweDIwIDw9IGEgJiYgYSA8PSAweDdmKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFyQ29kZXMgPSAoYiA9PT0gMCkgPyBbYV0gOiBbYSwgYl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNoYXJDb2Rlcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGhleENvZGVzID0gbnVtQXJyYXlUb0hleEFycmF5KGNoYXJDb2Rlcyk7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiREVCVUdcIiwgXCJDaGFyIGNvZGVzID0gIFwiICsgaGV4Q29kZXMuam9pbihcIixcIikpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0Q21kQSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RDbWRCID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY2hhckNvZGVzO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBQYXJzZSBleHRlbmRlZCBiYWNrZ3JvdW5kIGF0dHJpYnV0ZXMgYXMgd2VsbCBhcyBuZXcgZm9yZWdyb3VuZCBjb2xvciBibGFjay5cclxuICAgICAgICAqIEByZXR1cm5ze0Jvb2xlYW59IFRlbGxzIGlmIGJhY2tncm91bmQgYXR0cmlidXRlcyBhcmUgZm91bmRcclxuICAgICAgICAqL1xyXG4gICAgICAgIHBhcnNlQmFja2dyb3VuZEF0dHJpYnV0ZXMgOiBmdW5jdGlvbihhLCBiKSB7XHJcbiAgICAgICAgICAgdmFyICBia2dEYXRhLFxyXG4gICAgICAgICAgICAgICAgaW5kZXgsXHJcbiAgICAgICAgICAgICAgICBjaE5yLFxyXG4gICAgICAgICAgICAgICAgY2hhbm5lbDtcclxuXHJcbiAgICAgICAgICAgIHZhciBjYXNlMSA9IChhID09PSAweDEwIHx8IGEgPT09IDB4MTgpICYmICgweDIwIDw9IGIgJiYgYiA8PSAweDJmKTtcclxuICAgICAgICAgICAgdmFyIGNhc2UyID0gKGEgPT09IDB4MTcgfHwgYSA9PT0gMHgxZikgJiYgKDB4MmQgPD1iICYmIGIgPD0gMHgyZik7XHJcbiAgICAgICAgICAgIGlmICghKGNhc2UxIHx8IGNhc2UyKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJrZ0RhdGEgPSB7fTtcclxuICAgICAgICAgICAgaWYgKGEgID09PSAweDEwIHx8IGEgPT09IDB4MTgpIHtcclxuICAgICAgICAgICAgICAgIGluZGV4ID0gTWF0aC5mbG9vcigoYi0weDIwKS8yKTtcclxuICAgICAgICAgICAgICAgIGJrZ0RhdGEuYmFja2dyb3VuZCA9IGJhY2tncm91bmRDb2xvcnNbaW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGIgJSAyID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmtnRGF0YS5iYWNrZ3JvdW5kID0gYmtnRGF0YS5iYWNrZ3JvdW5kICsgXCJfc2VtaVwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MmQpIHtcclxuICAgICAgICAgICAgICAgIGJrZ0RhdGEuYmFja2dyb3VuZCA9IFwidHJhbnNwYXJlbnRcIjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJrZ0RhdGEuZm9yZWdyb3VuZCA9IFwiYmxhY2tcIjtcclxuICAgICAgICAgICAgICAgIGlmIChiID09PSAweDJmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmtnRGF0YS51bmRlcmxpbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoTnIgPSAoYSA8IDB4MTgpID8gMSA6IDI7XHJcbiAgICAgICAgICAgIGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW2NoTnItMV07XHJcbiAgICAgICAgICAgIGNoYW5uZWwuc2V0QmtnRGF0YShia2dEYXRhKTtcclxuICAgICAgICAgICAgdGhpcy5sYXN0Q21kQSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdENtZEIgPSBudWxsO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZXNldCBzdGF0ZSBvZiBwYXJzZXIgYW5kIGl0cyBjaGFubmVscy5cclxuICAgICAgICAgKi9cclxuICAgICAgICByZXNldCA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpPTAgOyBpIDwgdGhpcy5jaGFubmVscy5sZW5ndGggOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYW5uZWxzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsc1tpXS5yZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubGFzdENtZEEgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RDbWRCID0gbnVsbDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUcmlnZ2VyIHRoZSBnZW5lcmF0aW9uIG9mIGEgY3VlLCBhbmQgdGhlIHN0YXJ0IG9mIGEgbmV3IG9uZSBpZiBkaXNwbGF5U2NyZWVucyBhcmUgbm90IGVtcHR5LlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGN1ZVNwbGl0QXRUaW1lIDogZnVuY3Rpb24odCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpPTAgOyBpIDwgdGhpcy5jaGFubmVscy5sZW5ndGggOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYW5uZWxzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsc1tpXS5jdWVTcGxpdEF0VGltZSh0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRmluZCByYW5nZXMgY29ycmVzcG9uZGluZyB0byBTRUEgQ0VBLTYwOCBOQUxVUyBpbiBzaXplcHJlcGVuZGVkIE5BTFUgYXJyYXkuXHJcbiAgICAgKiBAcGFyYW0ge3Jhd30gZGF0YVZpZXcgb2YgYmluYXJ5IGRhdGFcclxuICAgICAqIEBwYXJhbSB7c3RhcnRQb3N9IHN0YXJ0IHBvc2l0aW9uIGluIHJhd1xyXG4gICAgICogQHBhcmFtIHtzaXplfSB0b3RhbCBzaXplIG9mIGRhdGEgaW4gcmF3IHRvIGNvbnNpZGVyXHJcbiAgICAgKiBAcmV0dXJucyBcclxuICAgICAqL1xyXG4gICAgdmFyIGZpbmRDZWE2MDhOYWx1cyA9IGZ1bmN0aW9uKHJhdywgc3RhcnRQb3MsIHNpemUpIHtcclxuICAgICAgICB2YXIgbmFsU2l6ZSA9IDAsXHJcbiAgICAgICAgICAgIGN1cnNvciA9IHN0YXJ0UG9zLFxyXG4gICAgICAgICAgICBuYWxUeXBlID0gMCxcclxuICAgICAgICAgICAgY2VhNjA4TmFsdVJhbmdlcyA9IFtdLFxyXG4gICAgICAgICAgICAvLyBDaGVjayBTRUkgZGF0YSBhY2NvcmRpbmcgdG8gQU5TSS1TQ1RFIDEyOFxyXG4gICAgICAgICAgICBpc0NFQTYwOFNFSSA9IGZ1bmN0aW9uIChwYXlsb2FkVHlwZSwgcGF5bG9hZFNpemUsIHJhdywgcG9zKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGF5bG9hZFR5cGUgIT09IDQgfHwgcGF5bG9hZFNpemUgPCA4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgY291bnRyeUNvZGUgPSByYXcuZ2V0VWludDgocG9zKTtcclxuICAgICAgICAgICAgICAgIHZhciBwcm92aWRlckNvZGUgPSByYXcuZ2V0VWludDE2KHBvcyArIDEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHVzZXJJZGVudGlmaWVyID0gcmF3LmdldFVpbnQzMihwb3MgKyAzKTtcclxuICAgICAgICAgICAgICAgIHZhciB1c2VyRGF0YVR5cGVDb2RlID0gcmF3LmdldFVpbnQ4KHBvcyArIDcpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50cnlDb2RlID09IDB4QjUgJiYgcHJvdmlkZXJDb2RlID09IDB4MzEgJiYgdXNlcklkZW50aWZpZXIgPT0gMHg0NzQxMzkzNCAmJiB1c2VyRGF0YVR5cGVDb2RlID09IDB4MztcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB3aGlsZSAoY3Vyc29yIDwgc3RhcnRQb3MgKyBzaXplKSB7XHJcbiAgICAgICAgICAgIG5hbFNpemUgPSByYXcuZ2V0VWludDMyKGN1cnNvcik7XHJcbiAgICAgICAgICAgIG5hbFR5cGUgPSByYXcuZ2V0VWludDgoY3Vyc29yICsgNCkgJiAweDFGO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRpbWUgKyBcIiAgTkFMIFwiICsgbmFsVHlwZSk7XHJcbiAgICAgICAgICAgIGlmIChuYWxUeXBlID09PSA2KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTRUkgTkFMIFVuaXQuIFRoZSBOQUwgaGVhZGVyIGlzIHRoZSBmaXJzdCBieXRlXHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiU0VJIE5BTFUgb2Ygc2l6ZSBcIiArIG5hbFNpemUgKyBcIiBhdCB0aW1lIFwiICsgdGltZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9zID0gY3Vyc29yICsgNTtcclxuICAgICAgICAgICAgICAgIHZhciBwYXlsb2FkVHlwZSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHBvcyA8IGN1cnNvciArIDQgKyBuYWxTaXplIC0gMSkgeyAvLyBUaGUgbGFzdCBieXRlIHNob3VsZCBiZSByYnNwX3RyYWlsaW5nX2JpdHNcclxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkVHlwZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSAweEZGO1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChiID09PSAweEZGKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGIgPSByYXcuZ2V0VWludDgocG9zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZFR5cGUgKz0gYjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXlsb2FkU2l6ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgYiA9IDB4RkY7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGIgPT09IDB4RkYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYiA9IHJhdy5nZXRVaW50OChwb3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkU2l6ZSArPSBiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ0VBNjA4U0VJKHBheWxvYWRUeXBlLCBwYXlsb2FkU2l6ZSwgcmF3LCBwb3MpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJDRUE2MDggU0VJIFwiICsgdGltZSArIFwiIFwiICsgcGF5bG9hZFNpemUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjZWE2MDhOYWx1UmFuZ2VzLnB1c2goW3BvcywgcGF5bG9hZFNpemVdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zICs9IHBheWxvYWRTaXplO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1cnNvciArPSBuYWxTaXplICsgNDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNlYTYwOE5hbHVSYW5nZXM7XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICB2YXIgZXh0cmFjdENlYTYwOERhdGFGcm9tUmFuZ2UgPSBmdW5jdGlvbihyYXcsIGNlYTYwOFJhbmdlKSB7XHJcbiAgICAgICAgdmFyIHBvcyA9IGNlYTYwOFJhbmdlWzBdO1xyXG4gICAgICAgIHZhciBmaWVsZERhdGEgPSBbW10sIFtdXTtcclxuXHJcbiAgICAgICAgcG9zICs9IDg7IC8vIFNraXAgdGhlIGlkZW50aWZpZXIgdXAgdG8gdXNlckRhdGFUeXBlQ29kZVxyXG4gICAgICAgIHZhciBjY0NvdW50ID0gcmF3LmdldFVpbnQ4KHBvcykgJiAweDFmO1xyXG4gICAgICAgIHBvcyArPSAyOyAvLyBBZHZhbmNlIDEgYW5kIHNraXAgcmVzZXJ2ZWQgYnl0ZVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjY0NvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGJ5dGUgPSByYXcuZ2V0VWludDgocG9zKTtcclxuICAgICAgICAgICAgdmFyIGNjVmFsaWQgPSBieXRlICYgMHg0O1xyXG4gICAgICAgICAgICB2YXIgY2NUeXBlID0gYnl0ZSAmIDB4MztcclxuICAgICAgICAgICAgcG9zKys7XHJcbiAgICAgICAgICAgIHZhciBjY0RhdGExID0gcmF3LmdldFVpbnQ4KHBvcyk7IC8vIEtlZXAgcGFyaXR5IGJpdFxyXG4gICAgICAgICAgICBwb3MrKztcclxuICAgICAgICAgICAgdmFyIGNjRGF0YTIgPSByYXcuZ2V0VWludDgocG9zKTsgLy8gS2VlcCBwYXJpdHkgYml0XHJcbiAgICAgICAgICAgIHBvcysrO1xyXG4gICAgICAgICAgICBpZiAoY2NWYWxpZCAmJiAoKGNjRGF0YTEgJiAweDdmKSArIChjY0RhdGEyICYgMHg3ZikgIT09IDApKSB7IC8vQ2hlY2sgdmFsaWRpdHkgYW5kIG5vbi1lbXB0eSBkYXRhXHJcbiAgICAgICAgICAgICAgICBpZiAoY2NUeXBlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGREYXRhWzBdLnB1c2goY2NEYXRhMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGREYXRhWzBdLnB1c2goY2NEYXRhMik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNjVHlwZSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkRGF0YVsxXS5wdXNoKGNjRGF0YTEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkRGF0YVsxXS5wdXNoKGNjRGF0YTIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmaWVsZERhdGE7XHJcbiAgICB9O1xyXG5cclxuICAgIGV4cG9ydHMubG9nZ2VyID0gbG9nZ2VyO1xyXG4gICAgZXhwb3J0cy5QZW5TdGF0ZSA9IFBlblN0YXRlO1xyXG4gICAgZXhwb3J0cy5DYXB0aW9uU2NyZWVuID0gQ2FwdGlvblNjcmVlbjsgIFxyXG4gICAgZXhwb3J0cy5DZWE2MDhQYXJzZXIgPSBDZWE2MDhQYXJzZXI7XHJcbiAgICBleHBvcnRzLmZpbmRDZWE2MDhOYWx1cyA9IGZpbmRDZWE2MDhOYWx1cztcclxuICAgIGV4cG9ydHMuZXh0cmFjdENlYTYwOERhdGFGcm9tUmFuZ2UgPSBleHRyYWN0Q2VhNjA4RGF0YUZyb21SYW5nZTtcclxuXHJcbn0odHlwZW9mIGV4cG9ydHMgPT09ICd1bmRlZmluZWQnID8gdGhpcy5jZWE2MDhwYXJzZXIgPSB7fSA6IGV4cG9ydHMpKTtcclxuIiwiXHJcbihmdW5jdGlvbihleHBvcnRzKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICB2YXIgQzBfU0VUX1NUQVJUX0NPREVfQ0VBXzcwOCA9IDB4MDtcclxuICAgIHZhciBDMF9TRVRfRU5EX0NPREVfQ0VBXzcwOCA9IDB4MUY7XHJcbiAgICB2YXIgQzBfU0VUX0VYVF9DT0RFX0NFQV83MDggPSAweDEwO1xyXG4gICAgdmFyICBDMF9TRVRfUDEwX0NPREVfQ0VBXzcwOCA9IDB4MTg7XHJcbiAgICB2YXIgQzFfU0VUX1NUQVJUX0NPREVfQ0VBXzcwOCA9IDB4ODA7XHJcbiAgICB2YXIgQzFfU0VUX01pZF9DT0RFX0NFQV83MDggPSAweDhGO1xyXG4gICAgdmFyIEMxX1NFVF9FTkRfQ09ERV9DRUFfNzA4ID0gMHg5RjtcclxuXHJcbiAgICB2YXIgRzBfRzJfU0VUX1NUQVJUX0NPREVfQ0VBXzcwOCA9IDB4MjA7XHJcbiAgICB2YXIgRzBfRzJfU0VUX0VORF9DT0RFX0NFQV83MDggPSAweDdGO1xyXG5cclxuICAgIHZhciBHMV9HM19TRVRfU1RBUlRfQ09ERV9DRUFfNzA4ID0gMHhBMDtcclxuICAgIC8vdmFyIEcxX0czX1NFVF9FTkRfQ09ERV9DRUFfNzA4ID0gMHhGRjtcclxuICAgIHZhciBBU0NJSV9TUEFDRV9DSEFSID0gXCIgXCI7XHJcblxyXG4gICAgdmFyIENDX0RGMCA9IDB4OTgsXHJcbiAgICAgICAgQ0NfREY3ID0gMHg5RixcclxuXHJcbiAgICAgICAgQ0NfQ1cwID0gMHg4MCxcclxuICAgICAgICBDQ19DVzcgPSAweDg3LFxyXG5cclxuICAgICAgICBDQ19DTFcgPSAweDg4LFxyXG4gICAgICAgIENDX0RTVyA9IDB4ODksXHJcbiAgICAgICAgQ0NfSERXID0gMHg4QSxcclxuICAgICAgICBDQ19UR1cgPSAweDhCLFxyXG4gICAgICAgIENDX0RMVyA9IDB4OEMsXHJcbiAgICAgICAgQ0NfRExZID0gMHg4RCxcclxuICAgICAgICBDQ19ETEMgPSAweDhFLFxyXG4gICAgICAgIENDX1JFVCA9IDB4OEYsXHJcbiAgICAgICAgQ0NfU1BBID0gMHg5MCxcclxuICAgICAgICBDQ19TUEMgPSAweDkxLFxyXG4gICAgICAgIENDX1NQTCA9IDB4OTIsXHJcbiAgICAgICAgQ0NfU1dBID0gMHg5NztcclxuXHJcbiAgICB2YXIgTlJfUk9XUyA9IDE1LFxyXG4gICAgICAgIE5SX0NPTFMgPSAzMixcclxuICAgICAgICBDQ19XSU5ET1dTID0gODtcclxuXHJcbiAgICB2YXIgQ0M3MDhSR0JfVElNRVNDQUxFID0gODUsICAvLy88MjU1LzNcclxuICAgICAgICBDT1VOVF9HMkczX0NIQVJBQ1RFUiA9IDB4MUIsXHJcbiAgICAgICAgQ0NfTUFYX1NFUlZJQ0VfQkxPQ0tfU0laRSA9IDB4M0YsXHJcbiAgICAgICAgQ0NfTUFYX1NFUlZJQ0VfTlVNID0gNjtcclxuXHJcbiAgICBpZih0eXBlb2YgcHJpbnRfc2Nyb2xsRGlyZWN0aW9uID09PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgdmFyIHByaW50X3NEaXJlY3Rpb24gID17XHJcbiAgICAgICAgICAgIExFRlRfVE9fUklHSFQ6IDAsXHJcbiAgICAgICAgICAgIFJJR0hUX1RPX0xFRlQ6IDEsXHJcbiAgICAgICAgICAgIFRPUF9UT19CT1RUT006IDIsXHJcbiAgICAgICAgICAgIEJPVFRPTV9UT19UT1A6IDNcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBFeHRlbmRlZEcyRzNDb2RlTWFwID1cclxuICAgICAgICBbXHJcbiAgICAgICAgICAgIFsweDIwLDB4MjBdLFxyXG4gICAgICAgICAgICBbMHgyMSwweDIwXSxcclxuICAgICAgICAgICAgWzB4MjUsMHgyMDI2XSwvLy88RWxsaXBzaXNcclxuICAgICAgICAgICAgWzB4MkEsMHgwMTYwXSwgLy8vPFxyXG4gICAgICAgICAgICBbMHgyQywweDAxNTJdLFxyXG4gICAgICAgICAgICBbMHgzMCwweDI1ODhdLCAvLy88c29saWQgYmxvY2tcclxuICAgICAgICAgICAgWzB4MzEsMHgyMDE4XSxcclxuICAgICAgICAgICAgWzB4MzIsMHgyMDE5XSxcclxuICAgICAgICAgICAgWzB4MzMsMHgyMDFDXSxcclxuICAgICAgICAgICAgWzB4MzQsMHgyMDFEXSxcclxuICAgICAgICAgICAgWzB4MzUsMHgyMDIyXSxcclxuICAgICAgICAgICAgWzB4MzksMHgyMTIyXSxcclxuICAgICAgICAgICAgWzB4M0EsMHgwMTYxXSxcclxuICAgICAgICAgICAgWzB4M0MsMHgwMTUzXSxcclxuICAgICAgICAgICAgWzB4M0QsMHgyMTIwXSxcclxuICAgICAgICAgICAgWzB4M0YsMHgwMTc4XSxcclxuICAgICAgICAgICAgWzB4NzYsMHgyMTVCXSxcclxuICAgICAgICAgICAgWzB4NzcsMHgyMTVDXSxcclxuICAgICAgICAgICAgWzB4NzgsMHgyMTVEXSxcclxuICAgICAgICAgICAgWzB4NzksMHgyMTVFXSxcclxuICAgICAgICAgICAgWzB4N0EsMHgyMDE0XSxcclxuICAgICAgICAgICAgWzB4N0IsMHgyMzA5XSxcclxuICAgICAgICAgICAgWzB4N0MsMHgyMzBBXSxcclxuICAgICAgICAgICAgWzB4N0QsMHgyMDE0XSxcclxuICAgICAgICAgICAgWzB4N0UsMHgyMzBCXSxcclxuICAgICAgICAgICAgWzB4N0YsMHgyMzA4XSxcclxuICAgICAgICAgICAgWzB4QTAsMHgyMDFEXVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgdmFyIFByZXNldFdpbkF0dHJpID1cclxuICAgICAgICBbXHJcbiAgICAgICAgICAgIFsweDAwLDB4MDAsMHgwQywweDAwXSxcclxuICAgICAgICAgICAgWzB4QzAsMHgwMCwweDBDLDB4MDBdLFxyXG4gICAgICAgICAgICBbMHgwMCwweDAwLDB4MEUsMHgwMF0sXHJcbiAgICAgICAgICAgIFsweDAwLDB4MDAsMHg0QywweDAwXSxcclxuICAgICAgICAgICAgWzB4QzAsMHgwMCwweDRDLDB4MDBdLFxyXG4gICAgICAgICAgICBbMHgwMCwweDAwLDB4NEUsMHgwMF0sXHJcbiAgICAgICAgICAgIFsweDAwLDB4MDAsMHgyNCwweDAwXVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgdmFyIFByZXNldFBlbkF0dHJpID1cclxuICAgICAgICBbXHJcbiAgICAgICAgICAgIFsweDA1LDB4MDBdLFxyXG4gICAgICAgICAgICBbMHgwNSwweDAxXSxcclxuICAgICAgICAgICAgWzB4MDUsMHgwMl0sXHJcbiAgICAgICAgICAgIFsweDA1LDB4MDNdLFxyXG4gICAgICAgICAgICBbMHgwNSwweDA0XSxcclxuICAgICAgICAgICAgWzB4MDUsMHgxQl0sXHJcbiAgICAgICAgICAgIFsweDA1LDB4MUNdXHJcbiAgICAgICAgXTtcclxuXHJcblxyXG4gICAgdmFyIFByZXNldFBlbkNvbG9yID1cclxuICAgICAgICBbXHJcbiAgICAgICAgICAgIFsweDJBLDB4MDAsMHgwMF0sXHJcbiAgICAgICAgICAgIFsweDJBLDB4MDAsMHgwMF0sXHJcbiAgICAgICAgICAgIFsweDJBLDB4MDAsMHgwMF0sXHJcbiAgICAgICAgICAgIFsweDJBLDB4MDAsMHgwMF0sXHJcbiAgICAgICAgICAgIFsweDJBLDB4MDAsMHgwMF0sXHJcbiAgICAgICAgICAgIFsweDJBLDB4MzAsMHgwMF0sXHJcbiAgICAgICAgICAgIFsweDJBLDB4MzAsMHgwMF1cclxuICAgICAgICBdO1xyXG5cclxuICAgIHZhciBSMUI3ID0gZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIHJldHVybiBkID4+IDc7XHJcbiAgICB9O1xyXG4gICAgdmFyIFIxQjYgPSBmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgcmV0dXJuIChkID4+IDYpICYgMHgwMTtcclxuICAgIH07XHJcbiAgICB2YXIgUjFCNSA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgcmV0dXJuIChkID4+IDUpICYgMHgwMTtcclxuICAgIH07XHJcbiAgICB2YXIgUjFCNCA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgcmV0dXJuIChkID4+IDQpICYgMHgwMTtcclxuICAgIH07XHJcbiAgICB2YXIgUjFCMyA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgcmV0dXJuIChkID4+IDMpICYgMHgwMTtcclxuICAgIH07XHJcbiAgICAvLyB2YXIgUjFCMiA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIChkID4+IDIpICYgMHgwMTtcclxuICAgIC8vIH07XHJcbiAgICAvLyB2YXIgUjFCMSA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIChkID4+IDEpICYgMHgwMTtcclxuICAgIC8vIH07XHJcbiAgICAvL1xyXG4gICAgLy8gLy9cclxuICAgIC8vIHZhciBSMUIwID0gZnVuY3Rpb24gKGQpIHtcclxuICAgIC8vICAgICByZXR1cm4gZCAmIDB4MDE7XHJcbiAgICAvLyB9O1xyXG4gICAgdmFyIFIyQjcgPSBmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgcmV0dXJuIChkID4+IDYpO1xyXG4gICAgfTtcclxuICAgIC8vIHZhciBSMkI2ID0gZnVuY3Rpb24oZCkge1xyXG4gICAgLy8gICAgIHJldHVybiAoKGQgPj4gNSkgJiAweDAzKTtcclxuICAgIC8vIH07XHJcbiAgICB2YXIgUjJCNSA9IGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICByZXR1cm4gKChkID4+IDQpICYgMHgwMyk7XHJcbiAgICB9O1xyXG4gICAgLy8gdmFyIFIyQjQgPSBmdW5jdGlvbihkKXtcclxuICAgIC8vICAgICByZXR1cm4gKChkID4+IDMpICYgMHgwMyk7XHJcbiAgICAvLyB9O1xyXG4gICAgdmFyIFIyQjMgPSBmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgcmV0dXJuICgoZCA+PiAyKSAmIDB4MDMpO1xyXG4gICAgfTtcclxuICAgIC8vIHZhciAgUjJCMiA9IGZ1bmN0aW9uKGQpIHtcclxuICAgIC8vICAgICByZXR1cm4gKChkID4+IDEpICYgMHgwMyk7XHJcbiAgICAvLyB9O1xyXG4gICAgdmFyIFIyQjEgPSBmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgcmV0dXJuIChkICYgMHgwMyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vXHJcbiAgICB2YXIgUjNCNyA9IGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICByZXR1cm4gKGQgPj4gNSk7XHJcbiAgICB9O1xyXG4gICAgLy8gdmFyIFIzQjYgPSBmdW5jdGlvbihkKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuICgoZCA+PiA0KSAmIDB4MDcpO1xyXG4gICAgLy8gfTtcclxuICAgIHZhciBSM0I1ID0gZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIHJldHVybiAoKGQgPj4gMykgJiAweDA3KTtcclxuICAgIH07XHJcbiAgICAvLyB2YXIgUjNCNCA9IGZ1bmN0aW9uKGQpIHtcclxuICAgIC8vICAgICByZXR1cm4gKChkID4+IDIpICYgMHgwNyk7XHJcbiAgICAvLyB9O1xyXG4gICAgLy8gdmFyIFIzQjMgPSBmdW5jdGlvbihkKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuICgoZCA+PiAxKSAmIDB4MDcpO1xyXG4gICAgLy8gfTtcclxuICAgIHZhciBSM0IyID0gZnVuY3Rpb24oZCl7XHJcbiAgICAgICAgcmV0dXJuIChkICYgMHgwNyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vXHJcbiAgICB2YXIgUjRCNyA9IGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICByZXR1cm4gKGQgPj4gNCk7XHJcbiAgICB9O1xyXG4gICAgLy8gdmFyIFI0QjYgPSBmdW5jdGlvbihkKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuICgoZCA+PiAzKSAmIDB4MGYpO1xyXG4gICAgLy8gfTtcclxuICAgIC8vIHZhciBSNEI1ID0gZnVuY3Rpb24oZCkge1xyXG4gICAgLy8gICAgIHJldHVybiAoKGQgPj4gMikgJiAweDBmKTtcclxuICAgIC8vIH07XHJcbiAgICAvLyB2YXIgUjRCNCA9IGZ1bmN0aW9uKGQpIHtcclxuICAgIC8vICAgICByZXR1cm4gKChkID4+IDEpICYgMHgwZik7XHJcbiAgICAvLyB9O1xyXG4gICAgdmFyIFI0QjMgPSBmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgcmV0dXJuIChkICYgMHgwZik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vXHJcbiAgICAvLyB2YXIgUjVCNyA9IGZ1bmN0aW9uKGQpIHtcclxuICAgIC8vICAgICByZXR1cm4gKGQgPj4gMyk7XHJcbiAgICAvLyB9O1xyXG4gICAgLy8gdmFyIFI1QjYgPSBmdW5jdGlvbihkKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuICgoZCA+PiAyKSAmIDB4MWYpO1xyXG4gICAgLy8gfTtcclxuICAgIC8vIHZhciBSNUI1ID0gZnVuY3Rpb24oZCkge1xyXG4gICAgLy8gICAgIHJldHVybiAoKGQgPj4gMSkgJiAweDFmKTtcclxuICAgIC8vIH07XHJcbiAgICB2YXIgUjVCNCA9IGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICByZXR1cm4gKGQgJiAweDFmKTtcclxuICAgIH07XHJcblxyXG4gICAgLy9cclxuICAgIC8vIHZhciBSNkI3ID0gZnVuY3Rpb24oZCkge1xyXG4gICAgLy8gICAgIHJldHVybiAoZCA+PiAyKTtcclxuICAgIC8vIH07XHJcbiAgICAvLyB2YXIgUjZCNiA9IGZ1bmN0aW9uKGQpIHtcclxuICAgIC8vICAgICByZXR1cm4gKChkID4+IDEpICYgMHgzZik7XHJcbiAgICAvLyB9O1xyXG4gICAgdmFyIFI2QjUgPSBmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgcmV0dXJuIChkICYgMHgzZik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vXHJcbiAgICAvLyB2YXIgUjdCNyA9IGZ1bmN0aW9uKGQpIHtcclxuICAgIC8vICAgICByZXR1cm4gKGQgPj4gMSk7XHJcbiAgICAvLyB9O1xyXG4gICAgdmFyIFI3QjYgPSBmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgcmV0dXJuIChkICYgMHg3Zik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2ltcGxlIGxvZ2dlciBjbGFzcyB0byBiZSBhYmxlIHRvIHdyaXRlIHdpdGggdGltZS1zdGFtcHMgYW5kIGZpbHRlciBvbiBsZXZlbC5cclxuICAgICAqL1xyXG4gICAgdmFyIGxvZ2dlciA9IHtcclxuICAgICAgICB2ZXJib3NlRmlsdGVyIDogeydEQVRBJyA6IDMsICdERUJVRycgOiA0LCAnSU5GTycgOiAyLCAnV0FSTklORycgOiAyLCAnVEVYVCcgOiAxLCAnRVJST1InIDogMH0sXHJcbiAgICAgICAgdGltZSA6IG51bGwsXHJcbiAgICAgICAgdmVyYm9zZUxldmVsIDogMCwgLy8gT25seSB3cml0ZSBlcnJvcnNcclxuICAgICAgICBzZXRUaW1lIDogZnVuY3Rpb24obmV3VGltZSkge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWUgPSBuZXdUaW1lO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbG9nIDogZnVuY3Rpb24oc2V2ZXJpdHksIG1zZykge1xyXG4gICAgICAgICAgICB2YXIgbWluTGV2ZWwgPSB0aGlzLnZlcmJvc2VGaWx0ZXJbc2V2ZXJpdHldO1xyXG4gICAgICAgICAgICBpZiAodGhpcy52ZXJib3NlTGV2ZWwgPj0gbWluTGV2ZWwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudGltZSArIFwiIFtcIiArIHNldmVyaXR5ICsgXCJdIFwiICsgbXNnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0TG9nTGV2ZWw6IGZ1bmN0aW9uIChsZXZlbCkge1xyXG4gICAgICAgICAgICB0aGlzLnZlcmJvc2VMZXZlbCA9IGxldmVsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIG51bUFycmF5VG9IZXhBcnJheSA9IGZ1bmN0aW9uKG51bUFycmF5KSB7XHJcbiAgICAgICAgdmFyIGhleEFycmF5ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBudW1BcnJheS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBoZXhBcnJheS5wdXNoKG51bUFycmF5W2pdLnRvU3RyaW5nKDE2KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBoZXhBcnJheTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGlzQXR0cmlWYWxpZCA9IGZ1bmN0aW9uICh2YWx1ZSwgYXR0cmkpIHtcclxuICAgICAgICByZXR1cm4gdmFsdWUuaGFzT3duUHJvcGVydHkoYXR0cmkpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgdXBkYXRlQXR0cmlidXRlID0gZnVuY3Rpb24oYXR0cmlzLCBuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCBhdHRyaXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gYXR0cmlzW2ldO1xyXG4gICAgICAgICAgICBpZiAoaXNBdHRyaVZhbGlkKG5ld1ZhbHVlLCBzdHlsZSkpIHtcclxuICAgICAgICAgICAgICAgIG9sZFZhbHVlW3N0eWxlXSA9IG5ld1ZhbHVlW3N0eWxlXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2xkVmFsdWU7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBUcmFuc2xhdGVSb3dOb1RvUG9zID0gZnVuY3Rpb24oblJvd05vLCBiU2FmZUFyZWEpe1xyXG4gICAgICAgIGJTYWZlQXJlYSA9IHR5cGVvZihiU2FmZUFyZWEpID09ICd1bmRlZmluZWQnID8gdHJ1ZSA6IGJTYWZlQXJlYTtcclxuICAgICAgICBpZiAoblJvd05vID4gTlJfUk9XUylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJDbG9zZWRDYXB0aW9uIEVycm9yOkVycm9yIG5Sb3dOb1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBQb3MgPSBuUm93Tm8gKiA1O1xyXG5cclxuICAgICAgICBpZiAoYlNhZmVBcmVhKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIFBvcyArIDEwO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUG9zO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgVHJhbnNsYXRlUG9zVG9Sb3dObyA9IGZ1bmN0aW9uKG5Qb3MsIGJTYWZlQXJlYSl7XHJcbiAgICAgICAgYlNhZmVBcmVhID0gdHlwZW9mKGJTYWZlQXJlYSkgPT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogYlNhZmVBcmVhO1xyXG4gICAgICAgIHZhciBuUm93Tm8gPSAwO1xyXG4gICAgICAgIGlmIChiU2FmZUFyZWEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuUG9zIC09IDEwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoblBvcyA9PT0gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBuUm93Tm87XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBuUm93Tm8gPSAoblBvcy81KTtcclxuICAgICAgICByZXR1cm4gblJvd05vO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgVHJhbnNsYXRlQ29sTm9Ub1BvcyA9IGZ1bmN0aW9uKG5Db2x1bW5ObywgYlNhZmVBcmVhKXtcclxuICAgICAgICBiU2FmZUFyZWEgPSAgdHlwZW9mKGJTYWZlQXJlYSkgPT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogYlNhZmVBcmVhO1xyXG4gICAgICAgIGlmIChuQ29sdW1uTm8gPiAzMykgIC8vdG8gbWF0Y2ggaXNDb2x1bW5ObyBpcyAzMixhbmQgcmlnaHQgY29sIGlzIDMyKzE7dGFzayAxOTk1NlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkNsb3NlZENhcHRpb24gRXJyb3I6RXJyb3IgbkNvbHVtbk5vXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIFBvcyA9IHBhcnNlSW50KChuQ29sdW1uTm8gKiAyNSkvMTApO1xyXG5cclxuICAgICAgICBpZiAoYlNhZmVBcmVhKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIFBvcyArIDEwO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUG9zO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyB2YXIgVHJhbnNsYXRlUG9zVG9Db2xObyA9IGZ1bmN0aW9uKG5Qb3MsIGJTYWZlQXJlYSl7XHJcbiAgICAvLyAgICAgYlNhZmVBcmVhID0gdHlwZW9mKGJTYWZlQXJlYSkgPT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogYlNhZmVBcmVhO1xyXG4gICAgLy8gICAgIHZhciBuQ29sTm8gPSAwO1xyXG4gICAgLy8gICAgIGlmIChiU2FmZUFyZWEpXHJcbiAgICAvLyAgICAge1xyXG4gICAgLy8gICAgICAgICBuUG9zIC09IDEwO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgICBpZiAoblBvcyA9PT0gMClcclxuICAgIC8vICAgICB7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiAwO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vXHJcbiAgICAvLyAgICAgbkNvbE5vID0gcGFyc2VJbnQoblBvcyoxMC8yNSkgKyAoKHBhcnNlSW50KChuUG9zKjEwKSAlIDI1KSA9PT0gMCkgPyAwIDogMSk7XHJcbiAgICAvLyAgICAgcmV0dXJuIG5Db2xObztcclxuICAgIC8vIH07XHJcblxyXG4gICAgdmFyIHNldFJlY3RQb3MgPSBmdW5jdGlvbiAocmVjdCwgbk1pblJvdywgbk1heFJvdywgbk1pbkNvbCwgbk1heENvbCwgYlNhZmVBcmVhKSB7XHJcbiAgICAgICAgYlNhZmVBcmVhID0gdHlwZW9mKGJTYWZlQXJlYSkgPT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogYlNhZmVBcmVhO1xyXG5cclxuICAgICAgICBpZihuTWluUm93IDwgTlJfUk9XUyl7XHJcbiAgICAgICAgICAgIHJlY3QuVG9wID0gVHJhbnNsYXRlUm93Tm9Ub1BvcyhuTWluUm93LCBiU2FmZUFyZWEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihuTWF4Um93IDwgTlJfUk9XUyl7XHJcbiAgICAgICAgICAgIHJlY3QuQm90dG9tID0gVHJhbnNsYXRlUm93Tm9Ub1Bvcygobk1heFJvdyArIDEpLCBiU2FmZUFyZWEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYobk1pbkNvbCA8IE5SX0NPTFMpe1xyXG4gICAgICAgICAgICByZWN0LkxlZnQgPSBUcmFuc2xhdGVDb2xOb1RvUG9zKG5NaW5Db2wsIGJTYWZlQXJlYSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKG5NYXhDb2wgPCBOUl9DT0xTKXtcclxuICAgICAgICAgICAgcmVjdC5SaWdodCA9IFRyYW5zbGF0ZUNvbE5vVG9Qb3MoKG5NYXhDb2wgKyAxKSwgYlNhZmVBcmVhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlY3Q7XHJcbiAgICB9O1xyXG5cclxuXHJcblxyXG4gICAgdmFyIENvbG9yID0gZnVuY3Rpb24gKHJlZCwgZ3JlZW4sIGJsdWUsIHRyYW5zKSB7XHJcbiAgICAgICAgdGhpcy5SZWQgPSByZWQgfHwgMHhGRjtcclxuICAgICAgICB0aGlzLkdyZWVuID0gZ3JlZW4gfHwgMHhGRjtcclxuICAgICAgICB0aGlzLkJsdWUgPSBibHVlIHx8IDB4RkY7XHJcbiAgICAgICAgdGhpcy5UcmFucyA9IHRyYW5zIHx8IDB4RkY7XHJcbiAgICB9O1xyXG5cclxuICAgIENvbG9yLnByb3RvdHlwZSA9IHtcclxuICAgICAgICByZXNldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvL3doaXRlXHJcbiAgICAgICAgICAgIHRoaXMuUmVkID0gMHhGRjtcclxuICAgICAgICAgICAgdGhpcy5HcmVlbiA9IDB4RkY7XHJcbiAgICAgICAgICAgIHRoaXMuQmx1ZSA9IDB4RkY7XHJcbiAgICAgICAgICAgIHRoaXMuVHJhbnMgPSAweEZGO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGlzRGVmYXVsdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuUmVkID09PSAweEZGKSAmJiAodGhpcy5HcmVlbiA9PT0gMHhGRikgJiYgKHRoaXMuQmx1ZSA9PT0gMHhGRikgJiYgKHRoaXMuVHJhbnMgPT09IDB4RkYpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldENvbG9yOiBmdW5jdGlvbiAobmV3Q29sb3IpIHtcclxuICAgICAgICAgICAgaWYoIW5ld0NvbG9yKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIC8vIGxvZ2dlci5sb2coXCJERUJVR1wiLCBcIkNvbG9yOlwiICsgXCJSOlwiICsgbmV3Q29sb3IuUmVkICsgXCIgRzpcIiArIG5ld0NvbG9yLkdyZWVuICsgXCIgQjpcIiArIG5ld0NvbG9yLkJsdWUpO1xyXG4gICAgICAgICAgICB2YXIgYXR0cmlzID0gW1wiUmVkXCIsIFwiR3JlZW5cIiwgXCJCbHVlXCIsIFwiVHJhbnNcIl07XHJcbiAgICAgICAgICAgIHVwZGF0ZUF0dHJpYnV0ZShhdHRyaXMsIG5ld0NvbG9yLCB0aGlzKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlcXVhbHM6IGZ1bmN0aW9uIChvdGhlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gKCAodGhpcy5SZWQgPT09IG90aGVyLlJlZCkgJiZcclxuICAgICAgICAgICAgKHRoaXMuR3JlZW4gPT09IG90aGVyLkdyZWVuKSAmJlxyXG4gICAgICAgICAgICAodGhpcy5CbHVlID09PSBvdGhlci5CbHVlKSAmJlxyXG4gICAgICAgICAgICAodGhpcy5UcmFucyA9PT0gb3RoZXIuVHJhbnMpKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciAgUmVjdERpc3BsYXlFZmZlY3QgPSBmdW5jdGlvbiAoZWZmZWN0VHlwZSwgZWZmZWN0RGlyZWN0aW9uLCBlZmZlY3RTcGVlZCkge1xyXG4gICAgICAgIHRoaXMuRWZmZWN0VHlwZSA9IGVmZmVjdFR5cGU7ICAgICAgICAgICAgICAgICAgICAvLy88UmVmZXIgdG8gVk9FRkZFQ1RUWVBFXHJcbiAgICAgICAgdGhpcy5FZmZlY3REaXJlY3Rpb24gPSBlZmZlY3REaXJlY3Rpb247ICAgICAgICAgICAgICAgLy8vPFJlZmVyIHRvIFZPRUZGRUNURElSRUNUSU9OXHJcbiAgICAgICAgdGhpcy5FZmZlY3RTcGVlZCA9IGVmZmVjdFNwZWVkOyAgICAgICAgICAgICAgICAgICAvLy88c2Vjb25kXHJcbiAgICB9O1xyXG5cclxuICAgIFJlY3REaXNwbGF5RWZmZWN0LnByb3RvdHlwZSA9IHtcclxuICAgICAgICByZXNldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLkVmZmVjdFR5cGUgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLkVmZmVjdERpcmVjdGlvbiA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuRWZmZWN0U3BlZWQgPSAwO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldFJlY3REaXNwbGF5RWZmZWN0OiBmdW5jdGlvbihuZXdSZWN0RGlzcGxheUVmZmVjdCl7XHJcbiAgICAgICAgICAgIGlmKCFuZXdSZWN0RGlzcGxheUVmZmVjdCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGF0dHJpcyAgPSBbXCJFZmZlY3RUeXBlXCIsIFwiRWZmZWN0RGlyZWN0aW9uXCIsIFwiRWZmZWN0U3BlZWRcIl07XHJcbiAgICAgICAgICAgIHVwZGF0ZUF0dHJpYnV0ZShhdHRyaXMsIG5ld1JlY3REaXNwbGF5RWZmZWN0LCB0aGlzKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBpc0RlZmF1bHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICgwID09PSB0aGlzLkVmZmVjdFR5cGUpICYmICgwID09PSB0aGlzLkVmZmVjdERpcmVjdGlvbikgJiYgKDAgPT09IHRoaXMuRWZmZWN0U3BlZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIFJlY3RQb3MgPSBmdW5jdGlvbiAodG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0KSB7XHJcbiAgICAgICAgdGhpcy5Ub3AgPSB0b3AgfHwgMHhGRkZGRkZGRjsgICAgICAgLy8vPDB4RkZGRkZGRkYgaW5kaWNhdGVzIHRoZSBkZWZhdWx0IHZhbHVlXHJcbiAgICAgICAgdGhpcy5MZWZ0ID1sZWZ0IHx8IDB4RkZGRkZGRkY7ICAgICAgLy8vPDB4RkZGRkZGRkYgaW5kaWNhdGVzIHRoZSBkZWZhdWx0IHZhbHVlXHJcbiAgICAgICAgdGhpcy5Cb3R0b20gPSBib3R0b20gfHwgMHhGRkZGRkZGRjsgICAgLy8vPDB4RkZGRkZGRkYgaW5kaWNhdGVzIHRoZSBkZWZhdWx0IHZhbHVlXHJcbiAgICAgICAgdGhpcy5SaWdodCA9IHJpZ2h0IHx8IDB4RkZGRkZGRkY7XHJcbiAgICB9O1xyXG5cclxuICAgIFJlY3RQb3MucHJvdG90eXBlID0ge1xyXG4gICAgICAgIHJlc2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuVG9wID0gMHhGRkZGRkZGRjtcclxuICAgICAgICAgICAgdGhpcy5MZWZ0ID0gMHhGRkZGRkZGRjtcclxuICAgICAgICAgICAgdGhpcy5Cb3R0b20gPSAweEZGRkZGRkZGO1xyXG4gICAgICAgICAgICB0aGlzLlJpZ2h0ID0gMHhGRkZGRkZGRjtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjb3B5OiBmdW5jdGlvbiAobmV3UmVjdCkge1xyXG4gICAgICAgICAgICB0aGlzLlRvcCA9IG5ld1JlY3QuVG9wO1xyXG4gICAgICAgICAgICB0aGlzLkxlZnQgPSBuZXdSZWN0LkxlZnQ7XHJcbiAgICAgICAgICAgIHRoaXMuQm90dG9tID0gbmV3UmVjdC5Cb3R0b207XHJcbiAgICAgICAgICAgIHRoaXMuUmlnaHQgPSBuZXdSZWN0LlJpZ2h0O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldFJlY3Q6IGZ1bmN0aW9uIChuZXdSZWN0KSB7XHJcbiAgICAgICAgICAgIGlmKCFuZXdSZWN0KXtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGF0dHJpcyA9IFtcIlRvcFwiLCBcIkxlZnRcIiwgXCJCb3R0b21cIiwgXCJSaWdodFwiXTtcclxuICAgICAgICAgICAgdXBkYXRlQXR0cmlidXRlKGF0dHJpcywgbmV3UmVjdCwgdGhpcyk7XHJcblxyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiREVCVUdcIiwgXCJbc2V0UmVjdF1cIiArIFwiLCBUOlwiICsgdGhpcy5Ub3AgKyBcIu+8jEzvvJpcIiArIHRoaXMuTGVmdCArXHJcbiAgICAgICAgICAgICAgICBcIiwgQjpcIiArIHRoaXMuQm90dG9tICsgXCIsIFI6XCIgKyB0aGlzLlJpZ2h0KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBpc0RlZmF1bHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICgodGhpcy5Ub3AgPT09IDB4RkZGRkZGRkYpICYmICh0aGlzLkxlZnQgPT09IDB4RkZGRkZGRkYpICYmXHJcbiAgICAgICAgICAgICh0aGlzLkJvdHRvbSA9PT0gMHhGRkZGRkZGRikgJiYgKHRoaXMuUmlnaHQgPT09IDB4RkZGRkZGRkYpKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBSZWN0SW5mbyA9IGZ1bmN0aW9uIChidCwgWk9yZGVyKSB7XHJcbiAgICAgICAgdGhpcy5SZWN0Qm9yZGVyVHlwZSA9IGJ0OyAgIC8vLzxSZWZlciB0byBWT1JFQ1RCT1JERVJUWVBFXHJcbiAgICAgICAgdGhpcy5SZWN0Wk9yZGVyID0gWk9yZGVyO1xyXG4gICAgICAgIHRoaXMuUmVjdCA9IG5ldyBSZWN0UG9zKCk7XHJcbiAgICAgICAgdGhpcy5SZWN0Qm9yZGVyQ29sb3IgPSBuZXcgQ29sb3IoKTtcclxuICAgICAgICB0aGlzLlJlY3RGaWxsQ29sb3IgPSBuZXcgQ29sb3IoKTtcclxuICAgICAgICB0aGlzLlJlY3REaXNwbGF5RWZmZWN0ID0gbmV3IFJlY3REaXNwbGF5RWZmZWN0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIFJlY3RJbmZvLnByb3RvdHlwZSA9IHtcclxuICAgICAgICByZXNldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLlJlY3RCb3JkZXJUeXBlID0gMDtcclxuICAgICAgICAgICAgdGhpcy5SZWN0Wk9yZGVyID0gMDtcclxuICAgICAgICAgICAgdGhpcy5SZWN0LnJlc2V0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuUmVjdEJvcmRlckNvbG9yLnJlc2V0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuUmVjdEZpbGxDb2xvci5yZXNldCgpO1xyXG4gICAgICAgICAgICB0aGlzLlJlY3REaXNwbGF5RWZmZWN0LnJlc2V0KCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0UmVjdEluZm86IGZ1bmN0aW9uIChuZXdSZWN0SW5mbykge1xyXG4gICAgICAgICAgICBpZighbmV3UmVjdEluZm8pe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihpc0F0dHJpVmFsaWQobmV3UmVjdEluZm8sIFwiUmVjdEJvcmRlclR5cGVcIikpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5SZWN0Qm9yZGVyVHlwZSA9IG5ld1JlY3RJbmZvLlJlY3RCb3JkZXJUeXBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGlzQXR0cmlWYWxpZChuZXdSZWN0SW5mbywgXCJSZWN0Wk9yZGVyXCIpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuUmVjdFpPcmRlciA9IG5ld1JlY3RJbmZvLlJlY3RaT3JkZXI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKGlzQXR0cmlWYWxpZChuZXdSZWN0SW5mbywgXCJSZWN0XCIpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuUmVjdC5zZXRSZWN0KG5ld1JlY3RJbmZvLlJlY3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGlzQXR0cmlWYWxpZChuZXdSZWN0SW5mbywgXCJSZWN0Qm9yZGVyQ29sb3JcIikpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5SZWN0Qm9yZGVyQ29sb3Iuc2V0Q29sb3IobmV3UmVjdEluZm8uUmVjdEJvcmRlckNvbG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihpc0F0dHJpVmFsaWQobmV3UmVjdEluZm8sIFwiUmVjdEZpbGxDb2xvclwiKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLlJlY3RGaWxsQ29sb3Iuc2V0Q29sb3IobmV3UmVjdEluZm8uUmVjdEZpbGxDb2xvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoaXNBdHRyaVZhbGlkKG5ld1JlY3RJbmZvLCBcIlJlY3REaXNwbGF5RWZmZWN0XCIpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuUmVjdERpc3BsYXlFZmZlY3Quc2V0UmVjdERpc3BsYXlFZmZlY3QobmV3UmVjdEluZm8uUmVjdERpc3BsYXlFZmZlY3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBpc0RlZmF1bHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICgwID09PSB0aGlzLlJlY3RCb3JkZXJUeXBlKSAmJiAoMCA9PT0gdGhpcy5SZWN0Wk9yZGVyKSAmJiB0aGlzLlJlY3QuaXNEZWZhdWx0KCkgJiZcclxuICAgICAgICAgICAgICAgIHRoaXMuUmVjdEJvcmRlckNvbG9yLmlzRGVmYXVsdCgpICYmIHRoaXMuUmVjdEZpbGxDb2xvci5pc0RlZmF1bHQoKSAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5SZWN0RGlzcGxheUVmZmVjdC5pc0RlZmF1bHQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgRm9udEVmZmVjdEluZm8gPSBmdW5jdGlvbiAoIEl0YWxpYywgVW5kZXJsaW5lLCBFZGdlVHlwZSwgVHh0VGFnLCBPZmZzZXQpIHtcclxuICAgICAgICB0aGlzLkl0YWxpYyA9IEl0YWxpYyB8fCBmYWxzZTtcclxuICAgICAgICB0aGlzLlVuZGVybGluZSA9IFVuZGVybGluZSB8fCBmYWxzZTtcclxuICAgICAgICB0aGlzLkVkZ2VUeXBlID0gRWRnZVR5cGU7XHJcbiAgICAgICAgdGhpcy5UZXh0VGFnID0gVHh0VGFnO1xyXG4gICAgICAgIHRoaXMuT2Zmc2V0ID0gT2Zmc2V0O1xyXG4gICAgICAgIHRoaXMuRWRnZUNvbG9yID0gbmV3IENvbG9yKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIEZvbnRFZmZlY3RJbmZvLnByb3RvdHlwZSA9IHtcclxuICAgICAgICByZXNldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLkl0YWxpYyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLlVuZGVybGluZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLkVkZ2VUeXBlID0gMDtcclxuICAgICAgICAgICAgdGhpcy5UZXh0VGFnID0gMDtcclxuICAgICAgICAgICAgdGhpcy5PZmZzZXQgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLkVkZ2VDb2xvci5yZXNldCgpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGlzRGVmYXVsdCA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuRWRnZUNvbG9yLmlzRGVmYXVsdCgpICYmICF0aGlzLlVuZGVybGluZSAmJiAhdGhpcy5JdGFsaWMgJiZcclxuICAgICAgICAgICAgdGhpcy5FZGdlVHlwZSA9PT0gMCAmJiB0aGlzLlRleHRUYWcgPT09IDAgJiYgdGhpcy5PZmZzZXQgPT09IDApO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldEZvbnRFZmZlY3RJbmZvOiBmdW5jdGlvbiAoTmV3Rm9udEVmZmVjdEluZm8pIHtcclxuICAgICAgICAgICAgaWYoIU5ld0ZvbnRFZmZlY3RJbmZvKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL2xvZ2dlci5sb2coXCJERUJVR1wiLCBcIltGb250RWZmZWN0SW5mbzogc2V0Rm9udEVmZmVjdEluZm9dXCIpO1xyXG4gICAgICAgICAgICB2YXIgYXR0cmlzID0gW1wiSXRhbGljXCIsIFwiVW5kZXJsaW5lXCIsIFwiRWRnZVR5cGVcIiwgXCJUeHRUYWdcIiwgXCJPZmZzZXRcIl07XHJcbiAgICAgICAgICAgIHVwZGF0ZUF0dHJpYnV0ZShhdHRyaXMsIE5ld0ZvbnRFZmZlY3RJbmZvLCB0aGlzKTtcclxuICAgICAgICAgICAgaWYoaXNBdHRyaVZhbGlkKE5ld0ZvbnRFZmZlY3RJbmZvLCBcIkVkZ2VDb2xvclwiKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkVkZ2VDb2xvci5zZXRDb2xvcihOZXdGb250RWZmZWN0SW5mby5FZGdlQ29sb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGVxdWFsczogZnVuY3Rpb24gKG90aGVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoICh0aGlzLkl0YWxpYyA9PT0gb3RoZXIuSXRhbGljKSAmJlxyXG4gICAgICAgICAgICAodGhpcy5VbmRlcmxpbmUgPT09IG90aGVyLlVuZGVybGluZSkgJiZcclxuICAgICAgICAgICAgKHRoaXMuRWRnZVR5cGUgPT09IG90aGVyLkVkZ2VUeXBlKSAmJlxyXG4gICAgICAgICAgICAodGhpcy5UZXh0VGFnID09PSBvdGhlci5UZXh0VGFnKSAmJlxyXG4gICAgICAgICAgICAodGhpcy5PZmZzZXQgPT09IG90aGVyLk9mZnNldCkgJiZcclxuICAgICAgICAgICAgdGhpcy5FZGdlQ29sb3IuZXF1YWxzKG90aGVyKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgRm9udEluZm8gPSBmdW5jdGlvbiAoRm9udFNpemUsIEZvbnRTdHlsZSkge1xyXG4gICAgICAgIHRoaXMuRm9udFNpemUgPSBGb250U2l6ZSB8fCAwO1xyXG4gICAgICAgIHRoaXMuRm9udFN0eWxlID0gRm9udFN0eWxlIHx8IDA7XHJcbiAgICAgICAgdGhpcy5Gb250Q29sb3IgPSBuZXcgQ29sb3IoKTtcclxuICAgIH07XHJcblxyXG4gICAgRm9udEluZm8ucHJvdG90eXBlID0ge1xyXG4gICAgICAgIHJlc2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuRm9udFNpemUgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLkZvbnRTdHlsZSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuRm9udENvbG9yLnJlc2V0KCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaXNEZWZhdWx0IDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5Gb250Q29sb3IuaXNEZWZhdWx0KCkgJiYgdGhpcy5Gb250U2l6ZSA9PT0gMCAmJiB0aGlzLkZvbnRTdHlsZSA9PT0gMCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0Rm9udEluZm86IGZ1bmN0aW9uIChOZXdGb250SW5mbykge1xyXG4gICAgICAgICAgICBpZighTmV3Rm9udEluZm8pe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coXCJERUJVR1wiLCBcIltGb250SW5mbzogc2V0Rm9udEluZm9dXCIgKyBcIiBmb250c2l6ZTpcIiArIE5ld0ZvbnRJbmZvLkZvblNpemUgK1xyXG4gICAgICAgICAgICAvLyAgICAgXCIgZm9udHN0eWxlOlwiICsgTmV3Rm9udEluZm8uRm9udFN0eWxlKTtcclxuICAgICAgICAgICAgaWYoaXNBdHRyaVZhbGlkKE5ld0ZvbnRJbmZvLCBcIkZvbnRTaXplXCIpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuRm9udFNpemUgPSBOZXdGb250SW5mby5Gb250U2l6ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihpc0F0dHJpVmFsaWQoTmV3Rm9udEluZm8sIFwiRm9udFN0eWxlXCIpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuRm9udFN0eWxlID0gTmV3Rm9udEluZm8uRm9udFN0eWxlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGlzQXR0cmlWYWxpZChOZXdGb250SW5mbywgXCJGb250Q29sb3JcIikpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb250Q29sb3Iuc2V0Q29sb3IoTmV3Rm9udEluZm8uRm9udENvbG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBlcXVhbHM6IGZ1bmN0aW9uIChvdGhlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gKCh0aGlzLkZvbnRTaXplID09PSBvdGhlci5Gb250U2l6ZSkgJiZcclxuICAgICAgICAgICAgKHRoaXMuRm9udFN0eWxlID09PSBvdGhlci5Gb250U3R5bGUpICYmXHJcbiAgICAgICAgICAgIHRoaXMuRm9udENvbG9yLmVxdWFscyhvdGhlci5Gb250Q29sb3IpKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBDaGFySW5mbyA9IGZ1bmN0aW9uKGZvbnRJbmZvLCBmb250RWZmZWN0SW5mbyl7XHJcbiAgICAgICAgdGhpcy5Gb250SW5mbyA9IG5ldyBGb250SW5mbyhmb250SW5mbyk7XHJcbiAgICAgICAgdGhpcy5Gb250RWZmZWN0SW5mbyA9IG5ldyBGb250RWZmZWN0SW5mbyhmb250RWZmZWN0SW5mbyk7XHJcbiAgICB9O1xyXG5cclxuICAgIENoYXJJbmZvLnByb3RvdHlwZSA9IHtcclxuICAgICAgICByZXNldDogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdGhpcy5Gb250SW5mby5yZXNldCgpO1xyXG4gICAgICAgICAgICB0aGlzLkZvbnRFZmZlY3RJbmZvLnJlc2V0KCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaXNEZWZhdWx0OiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5Gb250SW5mby5pc0RlZmF1bHQoKSAmJiB0aGlzLkZvbnRFZmZlY3RJbmZvLmlzRGVmYXVsdCgpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldENoYXJJbmZvOiBmdW5jdGlvbihuZXdDaGFySW5mbyl7XHJcbiAgICAgICAgICAgIGlmKCFuZXdDaGFySW5mbyl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAvLyBsb2dnZXIubG9nKFwiREVCVUdcIiwgXCJbQ2hhckluZm86IHNldENoYXJJbmZvXVwiKTtcclxuICAgICAgICAgICAgaWYoaXNBdHRyaVZhbGlkKG5ld0NoYXJJbmZvLCBcIkZvbnRJbmZvXCIpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuRm9udEluZm8uc2V0Rm9udEluZm8obmV3Q2hhckluZm8uRm9udEluZm8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGlzQXR0cmlWYWxpZChuZXdDaGFySW5mbywgXCJGb250RWZmZWN0SW5mb1wiKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvbnRFZmZlY3RJbmZvLnNldEZvbnRFZmZlY3RJbmZvKG5ld0NoYXJJbmZvLkZvbnRFZmZlY3RJbmZvKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGVxdWFsczogZnVuY3Rpb24gKG90aGVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkZvbnRJbmZvLmVxdWFscyhvdGhlci5Gb250SW5mbykgJiYgdGhpcy5Gb250RWZmZWN0SW5mby5lcXVhbHMob3RoZXIuRm9udEVmZmVjdEluZm8pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVbmljb2RlIGNoYXJhY3RlciB3aXRoIHN0eWxpbmcgYW5kIGJhY2tncm91bmQuXHJcbiAgICAgKiBAY29uc3RydWN0b3JcclxuICAgICAqL1xyXG4gICAgdmFyIFN0eWxlZFVuaWNvZGVDaGFyID0gZnVuY3Rpb24odWNoYXIsIGNoYXJJbmZvKSB7XHJcbiAgICAgICAgdGhpcy51Y2hhciA9IHVjaGFyIHx8IEFTQ0lJX1NQQUNFX0NIQVI7IC8vIHVuaWNvZGUgY2hhcmFjdGVyXHJcbiAgICAgICAgdGhpcy5DaGFySW5mbyA9IG5ldyBDaGFySW5mbyhjaGFySW5mbyk7XHJcbiAgICB9O1xyXG5cclxuICAgIFN0eWxlZFVuaWNvZGVDaGFyLnByb3RvdHlwZSA9IHtcclxuXHJcbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLnVjaGFyID0gQVNDSUlfU1BBQ0VfQ0hBUjtcclxuICAgICAgICAgICAgdGhpcy5DaGFySW5mby5yZXNldCgpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldENoYXI6IGZ1bmN0aW9uKHVjaGFyLCBuZXdDaGFySW5mbykge1xyXG4gICAgICAgICAgICB0aGlzLnVjaGFyID0gdWNoYXI7XHJcbiAgICAgICAgICAgIHRoaXMuQ2hhckluZm8uc2V0Q2hhckluZm8obmV3Q2hhckluZm8pO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldENoYXJJbmZvOiBmdW5jdGlvbiAobmV3Q2hhckluZm8pIHtcclxuICAgICAgICAgICAgdGhpcy5DaGFySW5mby5zZXRDaGFySW5mbyhuZXdDaGFySW5mbyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZ2V0Q2hhckluZm86IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuQ2hhckluZm87XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZXF1YWxzOiBmdW5jdGlvbihvdGhlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy51Y2hhciA9PT0gb3RoZXIudWNoYXIgJiYgdGhpcy5DaGFySW5mby5lcXVhbHMob3RoZXIuQ2hhckluZm8pO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8vIGNvcHk6IGZ1bmN0aW9uKG5ld0NoYXIpIHtcclxuICAgICAgICAvLyAgICAgdGhpcy51Y2hhciA9IG5ld0NoYXIudWNoYXI7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuQ2hhckluZm8uVXBkYXRlQ2hhckluZm8obmV3Q2hhci5DaGFySW5mbyk7XHJcbiAgICAgICAgLy8gfSxcclxuXHJcbiAgICAgICAgaXNFbXB0eSA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy51Y2hhciA9PT0gQVNDSUlfU1BBQ0VfQ0hBUiAmJiB0aGlzLkNoYXJJbmZvLmlzRGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIHRleHREZXMgPSBmdW5jdGlvbiAoaGosIHZqLCBwZCkge1xyXG4gICAgICAgIHRoaXMuZGF0YUJveCA9IG5ldyBSZWN0SW5mbygpO1xyXG4gICAgICAgIHRoaXMuaGogPSBoaiB8fCAwO1xyXG4gICAgICAgIHRoaXMudmogPSB2aiB8fCAwO1xyXG4gICAgICAgIHRoaXMucGQgPSBwZCB8fCAwO1xyXG4gICAgfTtcclxuXHJcbiAgICB0ZXh0RGVzLnByb3RvdHlwZSA9IHtcclxuICAgICAgICByZXNldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFCb3gucmVzZXQoKTtcclxuICAgICAgICAgICAgdGhpcy5oaiA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMudmogPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnBkID0gMDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldFRleHREZXM6IGZ1bmN0aW9uIChuZXdUZXh0RGVzKSB7XHJcbiAgICAgICAgICAgIGlmKCFuZXdUZXh0RGVzKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihpc0F0dHJpVmFsaWQobmV3VGV4dERlcywgXCJkYXRhQm94XCIpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUJveC5zZXRSZWN0SW5mbyhuZXdUZXh0RGVzLmRhdGFCb3gpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgYXR0cmlzID0gW1wiaGpcIiwgXCJ2alwiLCBcInBkXCJdO1xyXG4gICAgICAgICAgICB1cGRhdGVBdHRyaWJ1dGUoYXR0cmlzLCBuZXdUZXh0RGVzLCB0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGlzRGVmYXVsdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhQm94LmlzRGVmYXVsdCgpICYmICgwID09PSB0aGlzLmhqKSAmJiAoMCA9PT0gdGhpcy52aikgJiYgKCAwID09PSB0aGlzLnBkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBDZWE3MDhQZW5Db2xvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmZvID0gMDtcclxuICAgICAgICB0aGlzLmZyID0gMDtcclxuICAgICAgICB0aGlzLmZnID0gMDtcclxuICAgICAgICB0aGlzLmZiID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5ibyA9IDA7XHJcbiAgICAgICAgdGhpcy5iciA9IDA7XHJcbiAgICAgICAgdGhpcy5iZyA9IDA7XHJcbiAgICAgICAgdGhpcy5iYiA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuZXIgPSAwO1xyXG4gICAgICAgIHRoaXMuZWcgPSAwO1xyXG4gICAgICAgIHRoaXMuZWIgPSAwO1xyXG4gICAgfTtcclxuICAgIENlYTcwOFBlbkNvbG9yLnByb3RvdHlwZSA9IHtcclxuICAgICAgICBsb2FkOiBmdW5jdGlvbiAoQXJyLCBTaXplKSB7XHJcbiAgICAgICAgICAgIGlmKDMgPiBTaXplKXtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJFUlJPUlwiLCBcIjcwOENsb3NlZENhcHRpb24gRXJyb3I6UGVuQ29sb3IgbGVzcyBwYXJhXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5mbyA9IFIyQjcoQXJyWzBdKTtcclxuICAgICAgICAgICAgdGhpcy5mciA9IFIyQjUoQXJyWzBdKTtcclxuICAgICAgICAgICAgdGhpcy5mZyA9IFIyQjMoQXJyWzBdKTtcclxuICAgICAgICAgICAgdGhpcy5mYiA9IFIyQjEoQXJyWzBdKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYm8gPSBSMkI3KEFyclsxXSk7XHJcbiAgICAgICAgICAgIHRoaXMuYnIgPSBSMkI1KEFyclsxXSk7XHJcbiAgICAgICAgICAgIHRoaXMuYmcgPSBSMkIzKEFyclsxXSk7XHJcbiAgICAgICAgICAgIHRoaXMuYmIgPSBSMkIxKEFyclsxXSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmVyID0gUjJCNShBcnJbMl0pO1xyXG4gICAgICAgICAgICB0aGlzLmVnID0gUjJCMyhBcnJbMl0pO1xyXG4gICAgICAgICAgICB0aGlzLmViID0gUjJCMShBcnJbMl0pO1xyXG4gICAgICAgICAgICByZXR1cm4gMztcclxuICAgICAgICB9XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgQ2VhNzA4UGVuQXR0cmkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy50dCA9IDA7XHJcbiAgICAgICAgdGhpcy5vID0gMDtcclxuICAgICAgICB0aGlzLnMgPSAwO1xyXG4gICAgICAgIHRoaXMuaSA9IDA7XHJcbiAgICAgICAgdGhpcy51ID0gMDtcclxuICAgICAgICB0aGlzLmV0ID0gMDtcclxuICAgICAgICB0aGlzLmZzID0gMDtcclxuICAgIH07XHJcblxyXG4gICAgQ2VhNzA4UGVuQXR0cmkucHJvdG90eXBlID0ge1xyXG4gICAgICAgIGxvYWQ6IGZ1bmN0aW9uIChBcnIsIFNpemUpIHtcclxuICAgICAgICAgICAgaWYgKDIgPiBTaXplKXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRVJST1JcIiwgXCI3MDggQ2xvc2VkQ2FwdGlvbiBFcnJvcjpQZW5BdHRyaSBsZXNzIHBhcmFcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnR0ID0gUjRCNyhBcnJbMF0pO1xyXG4gICAgICAgICAgICB0aGlzLm8gPSBSMkIzKEFyclswXSk7XHJcbiAgICAgICAgICAgIHRoaXMucyA9IFIyQjEoQXJyWzBdKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaSA9IFIxQjcoQXJyWzFdKTtcclxuICAgICAgICAgICAgdGhpcy51ID0gUjFCNihBcnJbMV0pO1xyXG4gICAgICAgICAgICB0aGlzLmV0ID0gUjNCNShBcnJbMV0pO1xyXG4gICAgICAgICAgICB0aGlzLmZzID0gUjNCMihBcnJbMV0pO1xyXG4gICAgICAgICAgICByZXR1cm4gMjtcclxuICAgICAgICB9XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgQ2VhNzA4V2luQXR0cmkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5mbyA9IDA7XHJcbiAgICAgICAgdGhpcy5mciA9IDA7XHJcbiAgICAgICAgdGhpcy5mZyA9IDA7XHJcbiAgICAgICAgdGhpcy5mYiA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuYnQwID0gMDtcclxuICAgICAgICB0aGlzLmJyID0gMDtcclxuICAgICAgICB0aGlzLmJnID0gMDtcclxuICAgICAgICB0aGlzLmJiID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5idDIgPSAwO1xyXG4gICAgICAgIHRoaXMud3cgPSAwO1xyXG4gICAgICAgIHRoaXMucGQgPSAwO1xyXG4gICAgICAgIHRoaXMuc2QgPSAwO1xyXG4gICAgICAgIHRoaXMuaiA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuZXMgPSAwO1xyXG4gICAgICAgIHRoaXMuZWQgPSAwO1xyXG4gICAgICAgIHRoaXMuZGUgPSAwO1xyXG4gICAgfTtcclxuXHJcbiAgICBDZWE3MDhXaW5BdHRyaS5wcm90b3R5cGUgPSB7XHJcblxyXG4gICAgICAgIGxvYWQ6IGZ1bmN0aW9uIChBcnIsIFNpemUpIHtcclxuICAgICAgICAgICAgaWYoNCA+IFNpemUpe1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkVSUk9SXCIsIFwiNzA4IENsb3NlZENhcHRpb24gRXJyb3I6V2luZEF0dHJpIGxlc3MgcGFyYVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmZvID0gUjJCNyhBcnJbMF0pO1xyXG4gICAgICAgICAgICB0aGlzLmZyID0gUjJCNShBcnJbMF0pO1xyXG4gICAgICAgICAgICB0aGlzLmZnID0gUjJCMyhBcnJbMF0pO1xyXG4gICAgICAgICAgICB0aGlzLmZiID0gUjJCMShBcnJbMF0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5idDAgPSBSMkI3KEFyclsxXSk7XHJcbiAgICAgICAgICAgIHRoaXMuYnIgPSBSMkI1KEFyclsxXSk7XHJcbiAgICAgICAgICAgIHRoaXMuYmcgPSBSMkIzKEFyclsxXSk7XHJcbiAgICAgICAgICAgIHRoaXMuYmIgPSBSMkIxKEFyclsxXSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ0MiA9IFIxQjcoQXJyWzJdKTtcclxuICAgICAgICAgICAgdGhpcy53dyA9IFIxQjYoQXJyWzJdKTtcclxuICAgICAgICAgICAgdGhpcy5wZCA9IFIyQjUoQXJyWzJdKTtcclxuICAgICAgICAgICAgdGhpcy5zZCA9IFIyQjMoQXJyWzJdKTtcclxuICAgICAgICAgICAgdGhpcy5qID0gUjJCMShBcnJbMl0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5lcyA9IFI0QjcoQXJyWzNdKTtcclxuICAgICAgICAgICAgdGhpcy5lZCA9IFIyQjMoQXJyWzNdKTtcclxuICAgICAgICAgICAgdGhpcy5kZSA9IFIyQjEoQXJyWzNdKTtcclxuICAgICAgICAgICAgcmV0dXJuIDQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgdmFyIGxpbmVJbmZvID0gZnVuY3Rpb24gKGNvbHVtbkNudCkge1xyXG4gICAgICAgIHRoaXMuY29sdW1uQ250ID0gY29sdW1uQ250IHx8IE5SX0NPTFM7XHJcbiAgICAgICAgdGhpcy5wb3MgPSAwO1xyXG4gICAgICAgIHRoaXMudGV4dCA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IHRoaXMuY29sdW1uQ250IDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dC5wdXNoKG5ldyBTdHlsZWRVbmljb2RlQ2hhcigpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50ZXh0RGVzID0gbmV3IHRleHREZXMoKTtcclxuICAgIH07XHJcbiAgICBsaW5lSW5mby5wcm90b3R5cGUgPSB7XHJcbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5wb3MgPSAwO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCB0aGlzLmNvbHVtbkNudCA7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0W2ldLnJlc2V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50ZXh0RGVzLnJlc2V0KCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBpc0VtcHR5IDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBlbXB0eSA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IHRoaXMuY29sdW1uQ250OyBpICsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLnRleHRbaV0uaXNFbXB0eSgpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGVtcHR5O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldFRleHREZXM6IGZ1bmN0aW9uIChuZXdUZXh0RGVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dERlcy5zZXRUZXh0RGVzKG5ld1RleHREZXMpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldFRleHREZXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dERlcztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBpbnNlcnRUZXh0SW5mbzpmdW5jdGlvbiAoYnl0ZSwgc3RySW5mbykge1xyXG4gICAgICAgICAgICBpZigodGhpcy5wb3MgKyBieXRlLmxlbmd0aCkgPiB0aGlzLmNvbHVtbkNudCApe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgY2hhciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBvcyA+PSB0aGlzLmNvbHVtbkNudCkge1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkVSUk9SXCIsIFwiQ2Fubm90IGluc2VydCBcIiArIGJ5dGUudG9TdHJpbmcoMTYpICtcclxuICAgICAgICAgICAgICAgICAgICBcIiAoXCIgKyBjaGFyICsgXCIpIGF0IHBvc2l0aW9uIFwiICsgdGhpcy5wb3MgKyBcIi4gU2tpcHBpbmcgaXQhXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJ0ZXh0SW5mbyBsZW46JWQsIHBvczolZFwiLCB0aGlzLnRleHQubGVuZ3RoLCB0aGlzLnBvcyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRleHRbdGhpcy5wb3NdLnNldENoYXIoY2hhciwgc3RySW5mbyk7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJ0ZXh0SW5mbyBjaGFyOlwiICsgdGhpcy50ZXh0SW5mb1t0aGlzLnBvc10uY2hhciArIFwiLCBvcmkgY2hhcjpcIiArIGNoYXIpO1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVDdXJzb3IoMSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBtb3ZlQWJzQ3Vyc29yOiBmdW5jdGlvbiAoYWJzUG9zKSB7XHJcbiAgICAgICAgICAgIHZhciByZWxQb3MgPSBhYnNQb3MgLSB0aGlzLnBvcztcclxuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yKHJlbFBvcyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgbW92ZUN1cnNvciA6IGZ1bmN0aW9uKHJlbFBvcywgYkRlbCkge1xyXG4gICAgICAgICAgICBiRGVsID0gdHlwZW9mIChiRGVsKSA9PT0gJ3VuZGVmaW5lZCcgPyBmYWxzZSA6IGJEZWw7XHJcbiAgICAgICAgICAgIHZhciBuZXdQb3MgPSB0aGlzLnBvcyArIHJlbFBvcztcclxuICAgICAgICAgICAgaWYobmV3UG9zID4gdGhpcy5jb2x1bW5DbnQpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoMCA9PT0gcmVsUG9zKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocmVsUG9zID4gMSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMucG9zKzE7IGkgPCBuZXdQb3MrMSA7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dFtpXS5zZXRDaGFyKEFTQ0lJX1NQQUNFX0NIQVIsIHRoaXMudGV4dFt0aGlzLnBvc10uZ2V0Q2hhckluZm8oKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZXRDdXJzb3IobmV3UG9zKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAgU2V0IHRoZSBjdXJzb3IgdG8gYSB2YWxpZCBjb2x1bW4uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc2V0Q3Vyc29yIDogZnVuY3Rpb24oYWJzUG9zKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBvcyAhPT0gYWJzUG9zKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcyA9IGFic1BvcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5wb3MgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiRVJST1JcIiwgXCJOZWdhdGl2ZSBjdXJzb3IgcG9zaXRpb24gXCIgKyB0aGlzLnBvcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcyA9IDA7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wb3MgPiB0aGlzLmNvbHVtbkNudCkge1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkVSUk9SXCIsIFwiVG9vIGxhcmdlIGN1cnNvciBwb3NpdGlvbiBcIiArIHRoaXMucG9zKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9zID0gdGhpcy5jb2x1bW5DbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXRDdXJzb3I6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zO1xyXG4gICAgICAgIH0sXHJcblxyXG5cclxuICAgICAgICBjbGVhckZyb21Qb3M6IGZ1bmN0aW9uKHN0YXJ0UG9zKSB7XHJcbiAgICAgICAgICAgIHZhciBpO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSBzdGFydFBvcyA7IGkgPCB0aGlzLmNvbHVtbkNudCA7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0W2ldLnVjaGFyID0gQVNDSUlfU1BBQ0VfQ0hBUjtcclxuICAgICAgICAgICAgICAgIHRoaXMudGV4dFtpXS5DaGFySW5mby5yZXNldCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgY2xlYXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLmNsZWFyRnJvbVBvcygwKTtcclxuICAgICAgICAgICAgdGhpcy5wb3MgPSAwO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0VGV4dFN0cmluZzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGFycyA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgZW1wdHkgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZigwID09PSB0aGlzLnBvcyl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29sdW1uQ250OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjaGFyID0gJyAnO1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy50ZXh0W2ldKXtcclxuICAgICAgICAgICAgICAgICAgICBjaGFyID0gdGhpcy50ZXh0W2ldLnVjaGFyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXIgIT09IFwiIFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW1wdHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNoYXJzLnB1c2goY2hhcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGVtcHR5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjaGFycy5qb2luKFwiXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcblxyXG4gICAgICAgIGlzRXF1YWw6IGZ1bmN0aW9uIChvdGhlciwgcG9zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAodGhpcy50ZXh0SW5mb3NbcG9zXS5jaGFyID09IG90aGVyLnRleHRJbmZvc1twb3NdLmNoYXIpICYmXHJcbiAgICAgICAgICAgICAgICAodGhpcy50ZXh0SW5mb3NbcG9zXS5zdHJpbmdJbmZvID09IG90aGVyLnRleHRJbmZvc1twb3NdLnN0cmluZ0luZm8pO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGVxdWFsczogZnVuY3Rpb24ob3RoZXIpIHtcclxuICAgICAgICAgICAgdmFyIGVxdWFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpIDwgdGhpcy5jb2x1bW5DbnQ7IGkgKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0VxdWFsKG90aGVyLCBpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVxdWFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGVxdWFsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIHRleHREZXNjcmlwdG9yID0gZnVuY3Rpb24gKHdyYXAsIHNkKSB7XHJcbiAgICAgICAgdGhpcy53cmFwID0gd3JhcCB8fCAwO1xyXG4gICAgICAgIHRoaXMuc2QgPSBzZCB8fCAwO1xyXG4gICAgfTtcclxuXHJcbiAgICB0ZXh0RGVzY3JpcHRvci5wcm90b3R5cGUgPSB7XHJcbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy53cmFwID0gMDtcclxuICAgICAgICAgICAgdGhpcy5zZCA9IDA7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0VGV4dERlc2NyaXB0b3I6IGZ1bmN0aW9uIChuZXdUZXh0RGVzKSB7XHJcbiAgICAgICAgICAgIHZhciBhdHRyaXMgPSBbXCJ3cmFwXCIsIFwic2RcIl07XHJcbiAgICAgICAgICAgIHVwZGF0ZUF0dHJpYnV0ZShhdHRyaXMsIG5ld1RleHREZXMsIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIENlYTcwOFdpbmRvdyA9IGZ1bmN0aW9uIChXaW5kSUQsIHJvd0NudCwgY29sdW1uQ250KSB7XHJcbiAgICAgICAgdGhpcy5XaW5kSUQgPSAtMTtcclxuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJsID0gMDtcclxuICAgICAgICB0aGlzLmNsID0gMDtcclxuICAgICAgICB0aGlzLnByaW9yaXR5ID0gMDtcclxuICAgICAgICB0aGlzLnJwID0gMDtcclxuICAgICAgICB0aGlzLmF2ID0gMDtcclxuICAgICAgICB0aGlzLmFoID0gMDtcclxuICAgICAgICB0aGlzLmFwID0gMDtcclxuICAgICAgICB0aGlzLnJjID0gMDtcclxuICAgICAgICB0aGlzLmNjID0gMDtcclxuICAgICAgICB0aGlzLndzID0gMDtcclxuICAgICAgICB0aGlzLnBzID0gMDtcclxuICAgICAgICB0aGlzLnBlbkNvbG9yID0gbmV3IENlYTcwOFBlbkNvbG9yKCk7XHJcbiAgICAgICAgdGhpcy5wZW5BdHRyaSA9IG5ldyBDZWE3MDhQZW5BdHRyaSgpO1xyXG4gICAgICAgIHRoaXMud2luZEF0dHJpID0gbmV3IENlYTcwOFdpbkF0dHJpKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5iQWRqdXN0Um93RmxhZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY3VyclJvdyA9IC0xO1xyXG4gICAgICAgIHRoaXMucm93Q250ID0gcm93Q250IHx8IE5SX1JPV1M7XHJcbiAgICAgICAgdGhpcy5jb2x1bW5DbnQgPSBjb2x1bW5DbnQgfHwgTlJfQ09MUztcclxuXHJcbiAgICAgICAgdGhpcy5yZWN0SW5mbyA9IG5ldyBSZWN0SW5mbygpO1xyXG4gICAgICAgIHRoaXMudGV4dERpc3BsYXlJbmZvID0gbmV3IHRleHREZXNjcmlwdG9yKCk7XHJcbiAgICAgICAgdGhpcy5jdXJDaGFySW5mbyA9IG5ldyBDaGFySW5mbygpO1xyXG4gICAgICAgIHRoaXMucm93VGV4dEluZm9zID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpIDwgIHRoaXMucm93Q250OyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5yb3dUZXh0SW5mb3MucHVzaChuZXcgbGluZUluZm8odGhpcy5jb2x1bW5DbnQpKTsgLy8gTm90ZSB0aGF0IHdlIHVzZSB6ZXJvLWJhc2VkIG51bWJlcmluZyAoMC0xNClcclxuICAgICAgICB9XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICBDZWE3MDhXaW5kb3cucHJvdG90eXBlID0ge1xyXG5cclxuICAgICAgICByZXNldDogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdGhpcy5XaW5kSUQgPSAtMTtcclxuICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJBZGp1c3RSb3dGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuY3VyclJvdyA9IC0xO1xyXG4gICAgICAgICAgICB0aGlzLnRleHREaXNwbGF5SW5mby5yZXNldCgpO1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0VGV4dEluZm8oKTtcclxuXHJcbiAgICAgICAgfSxcclxuICAgICAgICByZXNldFRleHRJbmZvOiBmdW5jdGlvbiAoYkNMVykge1xyXG4gICAgICAgICAgICBiQ0xXID0gdHlwZW9mIChiQ0xXKSA9PT0gJ3VuZGVmaW5lZCcgPyBmYWxzZSA6IGJDTFc7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9MDsgaSA8IHRoaXMucm93VGV4dEluZm9zLmxlbmd0aDsgaSArKyl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvd1RleHRJbmZvc1tpXS5yZXNldCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY3VyQ2hhckluZm8ucmVzZXQoKTtcclxuICAgICAgICAgICAgaWYoIWJDTFcpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWN0SW5mby5yZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWN0SW5mby5SZWN0Qm9yZGVyQ29sb3IuVHJhbnMgPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWN0SW5mby5SZWN0RmlsbENvbG9yLlRyYW5zID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldEN1cnJSb3c6IGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgaWYoIXRoaXMuaXNSb3dWYWxpZChyb3cpKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiREVCVUdcIiwgXCJbQ2VhNzA4V2luZG93XSBcIiArIFwiW3NldEN1cnJSb3ddIFwiICsgcm93KTtcclxuICAgICAgICAgICAgdGhpcy5jdXJyUm93ID0gcm93O1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXRDdXJyUm93OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJERUJVR1wiLCBcIltDZWE3MDhXaW5kb3ddIFwiICsgXCJbZ2V0Q3VyclJvd10gXCIgKyB0aGlzLmN1cnJSb3cpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyUm93O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGlzUm93VmFsaWQ6IGZ1bmN0aW9uIChyb3cpIHtcclxuICAgICAgICAgICAgaWYgKCgwID4gcm93KSB8fCAodGhpcy5yb3dDbnQgPD0gcm93KSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0UmVjdEluZm86IGZ1bmN0aW9uIChuZXdSZWN0SW5mbykge1xyXG4gICAgICAgICAgIGlmKCFuZXdSZWN0SW5mbyl7XHJcbiAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW3NldFJlY3RJbmZvXSB3aW5kSUQ6JWRcIiwgdGhpcy5XaW5kSUQpO1xyXG4gICAgICAgICAgIHRoaXMucmVjdEluZm8uc2V0UmVjdEluZm8obmV3UmVjdEluZm8pO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldFJlY3RJbmZvOmZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJbZ2V0UmVjdEluZm9dIHdpbmRJRDolZFwiLCB0aGlzLldpbmRJRCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlY3RJbmZvO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldFJvd0RlczogZnVuY3Rpb24gKHJvd0Rlcykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCB0aGlzLnJvd0NudCA7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3dUZXh0SW5mb3NbaV0uc2V0VGV4dERlcyhyb3dEZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0VGV4dERpc3BsYXlJbmZvOiBmdW5jdGlvbiAobmV3VGV4dERpc3BsYXlJbmZvKSB7XHJcbiAgICAgICAgICAgIGlmKCFuZXdUZXh0RGlzcGxheUluZm8pe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudGV4dERpc3BsYXlJbmZvLnNldFRleHREZXNjcmlwdG9yKG5ld1RleHREaXNwbGF5SW5mbyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0Q2hhckluZm86IGZ1bmN0aW9uIChuZXdDaGFySW5mbykge1xyXG4gICAgICAgICAgICBpZighbmV3Q2hhckluZm8pe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuY3VyQ2hhckluZm8uc2V0Q2hhckluZm8obmV3Q2hhckluZm8pO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGluc2VydENoYXJzOiBmdW5jdGlvbihjaGFycykge1xyXG4gICAgICAgICAgICBpZighdGhpcy5pc1Jvd1ZhbGlkKHRoaXMuY3VyclJvdykpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciByb3dJbmZvID0gdGhpcy5yb3dUZXh0SW5mb3NbdGhpcy5jdXJyUm93XTtcclxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkRFQlVHXCIsIFwiW3dpbmRvdzppbnNlcnRDaGFyXSByb3c6XCIgKyB0aGlzLmN1cnJSb3cgKTtcclxuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8Y2hhcnMubGVuZ3RoOyBpICsrKXtcclxuICAgICAgICAgICAgICAgIHJvd0luZm8uaW5zZXJ0VGV4dEluZm8oY2hhcnNbaV0sIHRoaXMuY3VyQ2hhckluZm8pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLlVwZGF0ZVdpbmRJbmZvKHRydWUpO1xyXG5cclxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkRFQlVHXCIsIFwiW2NlYTcwOHdpbmRvdzogaW5zZXJ0Q2hhcnNdIGNoYXJzOlwiICsgdGhpcy5nZXREaXNwbGF5VGV4dCh0cnVlKSk7XHJcblxyXG4gICAgICAgICAgICAvLyBpZih0aGlzLnVwZGF0ZSl7XHJcbiAgICAgICAgICAgIC8vICAgICBsb2dnZXIubG9nKFwiVEVYVFwiLCBcIkRJU1BMQVlFRDogXCIgKyB0aGlzLmdldERpc3BsYXlUZXh0KHRydWUpKTtcclxuICAgICAgICAgICAgLy8gICAgIHRoaXMub3V0cHV0RGF0YVVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIFVwZGF0ZVdpbmRJbmZvOiBmdW5jdGlvbihiRm9yY2Upe1xyXG4gICAgICAgICAgICBiRm9yY2UgPSB0eXBlb2YoYkZvcmNlKSA9PSAndW5kZWZpbmVkJyA/IGZhbHNlIDogYkZvcmNlO1xyXG4gICAgICAgICAgICBpZih0aGlzLnZpc2libGUgfHwgYkZvcmNlKXtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGNjX0JTOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCI3MDggSW5mbzogQlNcIik7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc1Jvd1ZhbGlkKHRoaXMuY3VyclJvdykpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLnJvd1RleHRJbmZvc1t0aGlzLmN1cnJSb3ddLnBvcztcclxuICAgICAgICAgICAgICAgIGlmIChwb3MgPiAwKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm93VGV4dEluZm9zW3RoaXMuY3VyclJvd10ubW92ZUN1cnNvcigtMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjY19DUjogZnVuY3Rpb24oKSB7IC8vIENhcnJpYWdlIFJldHVyblxyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiNzA4IENSIC0gQ2FycmlhZ2UgUmV0dXJuXCIpO1xyXG4gICAgICAgICAgICAvLyB0aGlzLndyaXRlU2NyZWVuLnJvbGxVcCgpO1xyXG4gICAgICAgICAgICAvLyB0aGlzLm91dHB1dERhdGFVcGRhdGUoKTtcclxuICAgICAgICAgICAgaWYoIXRoaXMuaXNSb3dWYWxpZCh0aGlzLmN1cnJSb3cpKXtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHdpblRvcE5vID0gVHJhbnNsYXRlUG9zVG9Sb3dObyh0aGlzLnJlY3RJbmZvLlJlY3QuVG9wKTtcclxuICAgICAgICAgICAgdmFyIHdpbkJvdHRvbU5vID0gVHJhbnNsYXRlUG9zVG9Sb3dObyh0aGlzLnJlY3RJbmZvLlJlY3QuQm90dG9tKSAtIDE7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiWzcwOCBDUiAtIENhcnJpYWdlIFJldHVybl0gQ1IsIFdpblRvcDolZCwgV2luQm90dG9tOiVkLCBDdXJSb3c6JWRcIixcclxuICAgICAgICAgICAgLy8gICAgIHdpblRvcE5vLCB3aW5Cb3R0b21ObywgdGhpcy5jdXJyUm93KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh3aW5Cb3R0b21ObyA+PSAodGhpcy5nZXRDdXJyUm93KCkgKyAxKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcnNlQ1JOb25Sb2xsdXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJzZUNSUm9sbHVwKHdpblRvcE5vKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGNjX0hDUjogZnVuY3Rpb24gKCkgeyAvL0hDUlxyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiNzA4IEhDUlwiKTtcclxuICAgICAgICAgICBpZih0aGlzLmlzUm93VmFsaWQodGhpcy5jdXJyUm93KSl7XHJcbiAgICAgICAgICAgICAgIHRoaXMucm93VGV4dEluZm9zW3RoaXMuY3VyclJvd10ubW92ZUFic0N1cnNvcigwKTtcclxuICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vdGhpcy5vdXRwdXREYXRhVXBkYXRlKCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcGFyc2VDUk5vblJvbGx1cDogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIltQYXJzZUNSTm9uUm9sbHVwXSBwZDolZCwgc2Q6JWRcIiwgdGhpcy53aW5kQXR0cmkucGQsIHRoaXMud2luZEF0dHJpLnNkKTtcclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLndpbmRBdHRyaS5wZCl7XHJcbiAgICAgICAgICAgICAgICBjYXNlIHByaW50X3NEaXJlY3Rpb24uTEVGVF9UT19SSUdIVDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmludF9zRGlyZWN0aW9uLkJPVFRPTV9UT19UT1AgPT0gdGhpcy53aW5kQXR0cmkuc2Qpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEN1cnJSb3codGhpcy5nZXRDdXJyUm93KCkgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocHJpbnRfc0RpcmVjdGlvbi5UT1BfVE9fQk9UVE9NID09IHRoaXMud2luZEF0dHJpLnNkKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDdXJyUm93KHRoaXMuZ2V0Q3VyclJvdygpIC0gMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJyb3c6JWQsIGluZm86JXBcIiwgdGhpcy5jdXJyUm93LCB0aGlzLnJvd1RleHRJbmZvc1t0aGlzLmN1cnJSb3ddKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvd1RleHRJbmZvc1t0aGlzLmN1cnJSb3ddLm1vdmVBYnNDdXJzb3IoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXNlIHByaW50X3NEaXJlY3Rpb24uUklHSFRfVE9fTEVGVDp7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByaW50X3NEaXJlY3Rpb24uQk9UVE9NX1RPX1RPUCA9PSB0aGlzLndpbmRBdHRyaS5zZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q3VyclJvdyh0aGlzLmdldEN1cnJSb3coKSArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwcmludF9zRGlyZWN0aW9uLlRPUF9UT19CT1RUT00gPT0gdGhpcy53aW5kQXR0cmkuc2Qpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEN1cnJSb3codGhpcy5nZXRDdXJyUm93KCkgLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3dUZXh0SW5mb3NbdGhpcy5nZXRDdXJyUm93KCldLm1vdmVBYnNDdXJzb3IoVHJhbnNsYXRlQ29sTm9Ub1Bvcyh0aGlzLnJlY3RJbmZvLlJlY3QuUmlnaHQgLSAxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXNlIHByaW50X3NEaXJlY3Rpb24uVE9QX1RPX0JPVFRPTToge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmludF9zRGlyZWN0aW9uLkxFRlRfVE9fUklHSFQgPT0gdGhpcy53aW5kQXR0cmkuc2QpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvd1RleHRJbmZvc1t0aGlzLmN1cnJSb3ddLm1vdmVDdXJzb3IoLTEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwcmludF9zRGlyZWN0aW9uLlJJR0hUX1RPX0xFRlQgPT0gdGhpcy53aW5kQXR0cmkuc2QpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvd1RleHRJbmZvc1t0aGlzLmN1cnJSb3ddLm1vdmVDdXJzb3IoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q3VyclJvdyh0aGlzLnJlY3RJbmZvLlJlY3QuVG9wKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhc2UgcHJpbnRfc0RpcmVjdGlvbi5CT1RUT01fVE9fVE9QOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByaW50X3NEaXJlY3Rpb24uTEVGVF9UT19SSUdIVCA9PSB0aGlzLndpbmRBdHRyaS5zZClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm93VGV4dEluZm9zW3RoaXMuY3VyclJvd10ubW92ZUN1cnNvcigtMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByaW50X3NEaXJlY3Rpb24uUklHSFRfVE9fTEVGVCA9PSB0aGlzLndpbmRBdHRyaS5zZClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm93VGV4dEluZm9zW3RoaXMuY3VyclJvd10ubW92ZUN1cnNvcigxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDdXJyUm93KHRoaXMucmVjdEluZm8uUmVjdC5Cb3R0b20gLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgIHBhcnNlQ1JSb2xsdXA6IGZ1bmN0aW9uKHdpblRvcE5vKXtcclxuICAgICAgICAgICAgd2luVG9wTm8gKz0gMTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNSb3dWYWxpZCh0aGlzLmN1cnJSb3cpKXtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJBZGp1c3RSb3dGbGFnKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkanVzdFJvd1doZW5Ob1NQTENtZCh0aGlzLmdldEN1cnJSb3coKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICh3aW5Ub3BObyA8PSB0aGlzLmdldEN1cnJSb3coKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29weUNoYXIod2luVG9wTm8sIHdpblRvcE5vIC0gMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpblRvcE5vKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgYWRqdXN0Um93V2hlbk5vU1BMQ21kOiBmdW5jdGlvbihDdXJSb3dObyl7XHJcbiAgICAgICAgICAgIHZhciBuV2luTWF4Um93ID0gVHJhbnNsYXRlUG9zVG9Sb3dObyh0aGlzLnJlY3RJbmZvLlJlY3QuQm90dG9tKSAtIDE7XHJcbiAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJbYWRqdXN0Um93V2hlbk5vU1BMQ21kXSBGbGFnOiVkLCBDdXJSb3dObzolZCwgbldpbk1heFJvdzolZFwiLCB0aGlzLmJBZGp1c3RSb3dGbGFnLCBDdXJSb3dObywgbldpbk1heFJvdyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoKEN1clJvd05vID49IG5XaW5NYXhSb3cpIHx8ICgzIDw9IEN1clJvd05vKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldEN1cnJSb3coMCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgIGkgPD0gQ3VyUm93Tm87ICBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMucm93VGV4dEluZm9zW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3dUZXh0SW5mb3NbaV0ubW92ZUFic0N1cnNvcigwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q3VyclJvdyhDdXJSb3dObyArIDEpO1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5yb3dUZXh0SW5mb3NbdGhpcy5jdXJyUm93XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm93VGV4dEluZm9zW3RoaXMuY3VyclJvd10ubW92ZUFic0N1cnNvcigwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGNvcHlDaGFyOiBmdW5jdGlvbihzcmNSb3csIGRlc1Jvdyl7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiW0NvcHlDaGFyXSBzcmNSb3c6JWQsIGRlc1JvdzolZCwgbV9Sb3dDbnQ6JWQsIENoYXJjbnQ6JWRcIixcclxuICAgICAgICAgICAgLy8gICAgIHNyY1JvdywgZGVzUm93LCB0aGlzLnJvd0NudCwgdGhpcy5yb3dUZXh0SW5mb3Nbc3JjUm93XS5wb3MpO1xyXG4gICAgICAgICAgICBpZiAoc3JjUm93ID49IHRoaXMucm93Q250IHx8IGRlc1JvdyA+PSB0aGlzLnJvd0NudCB8fCAhdGhpcy5yb3dUZXh0SW5mb3Nbc3JjUm93XS5wb3Mpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJvd1RleHRJbmZvc1tkZXNSb3ddLnRleHRJbmZvcyA9IHRoaXMucm93VGV4dEluZm9zW3NyY1Jvd10udGV4dEluZm9zO1xyXG4gICAgICAgICAgICB0aGlzLnJvd1RleHRJbmZvc1tkZXNSb3ddLnBvcyA9IHRoaXMucm93VGV4dEluZm9zW3NyY1Jvd10ucG9zO1xyXG4gICAgICAgICAgICB0aGlzLnJvd1RleHRJbmZvc1tzcmNSb3ddLnBvcyA9IDA7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0QWRqdXN0Um93RmxhZzogZnVuY3Rpb24gKGJBZGp1c3RGbGFnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYkFkanVzdFJvd0ZsYWcgPSBiQWRqdXN0RmxhZztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBHZXQgYWxsIG5vbi1lbXB0eSByb3dzIHdpdGggYXMgdW5pY29kZSB0ZXh0LlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGdldERpc3BsYXlUZXh0IDogZnVuY3Rpb24oYXNPbmVSb3cpIHtcclxuICAgICAgICAgICAgYXNPbmVSb3cgPSBhc09uZVJvdyB8fCBmYWxzZTtcclxuICAgICAgICAgICAgdmFyIGRpc3BsYXlUZXh0ID0gW107XHJcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gXCJcIjtcclxuICAgICAgICAgICAgdmFyIHJvd05yID0gLTE7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IHRoaXMucm93Q250IDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcm93VGV4dCA9IHRoaXMucm93VGV4dEluZm9zW2ldLmdldFRleHRTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIGlmIChyb3dUZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93TnIgPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhc09uZVJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5VGV4dC5wdXNoKFwiUm93IFwiICsgcm93TnIgKyAnOiBcIicgKyByb3dUZXh0ICsgJ1wiJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheVRleHQucHVzaChyb3dUZXh0LnRyaW0oKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkaXNwbGF5VGV4dC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXNPbmVSb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gXCJbXCIgKyBkaXNwbGF5VGV4dC5qb2luKFwifFwiKSArIFwiXVwiO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gZGlzcGxheVRleHQuam9pbihcIlxcblwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGV4dDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBTZXRXaW5kb3dSZWN0SW5mbzogZnVuY3Rpb24obkFuY2hvcklELCBiUmVsUG9zLCBuQW5jaG9yVmVyLCBuQW5jaG9ySG9yLCBuUm93Q250LCBuQ29sQ250KXtcclxuICAgICAgICAgICAgdmFyIG5NaW5Sb3cgPSAwLG5NYXhSb3cgPSAwLG5NaW5Db2wgPSAwLG5NYXhDb2wgPSAwO1xyXG4gICAgICAgICAgICBpZihiUmVsUG9zKXtcclxuICAgICAgICAgICAgICAgIG5NaW5Sb3cgPSBwYXJzZUludChuQW5jaG9yVmVyKk5SX1JPV1MvMTAwKTtcclxuICAgICAgICAgICAgICAgIG5NaW5Db2wgPSBwYXJzZUludChuQW5jaG9ySG9yKk5SX0NPTFMvMTAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG5NaW5Sb3cgPSBwYXJzZUludChuQW5jaG9yVmVyLzUpO1xyXG4gICAgICAgICAgICAgICAgbk1pbkNvbCA9IHBhcnNlSW50KG5BbmNob3JIb3IvNSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKDEgPT09IHBhcnNlSW50KG5BbmNob3JJRC8zKSl7XHJcbiAgICAgICAgICAgICAgICBpZihuTWluUm93ID49IHBhcnNlSW50KG5Sb3dDbnQvMikpe1xyXG4gICAgICAgICAgICAgICAgICAgIG5NaW5Sb3cgPSBuTWluUm93IC0gcGFyc2VJbnQoblJvd0NudC8yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKDIgPT09IHBhcnNlSW50KG5BbmNob3JJRC8zKSl7XHJcbiAgICAgICAgICAgICAgICBpZihuTWluUm93ID49IChuUm93Q250IC0gMSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIG5NaW5Sb3cgPSBuTWluUm93IC0gKG5Sb3dDbnQgLSAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHBhcnNlSW50KG5BbmNob3JJRCUzKSA9PSAxKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAobk1pbkNvbCA+PSBwYXJzZUludChuQ29sQ250LzIpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG5NaW5Db2wgPSBuTWluQ29sIC0gcGFyc2VJbnQobkNvbENudC8yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChwYXJzZUludChuQW5jaG9ySUQlMykgPT0gMilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5NaW5Db2wgPj0gKG5Db2xDbnQgLSAxKSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBuTWluQ29sID0gbk1pbkNvbCAtIChuQ29sQ250IC0gMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5NYXhSb3cgPSBuTWluUm93ICsgKG5Sb3dDbnQgLSAxKTtcclxuICAgICAgICAgICAgbk1heENvbCA9IG5NaW5Db2wgKyAobkNvbENudCAtIDEpO1xyXG5cclxuICAgICAgICAgICAgbk1pblJvdyA9IG5NaW5Sb3cgPiAoTlJfUk9XUyAtIDEpID8gKE5SX1JPV1MgLSAxKSA6IG5NaW5Sb3c7XHJcbiAgICAgICAgICAgIG5NYXhSb3cgPSBuTWF4Um93ID4gKE5SX1JPV1MgLSAxKSA/IChOUl9ST1dTIC0gMSkgOiBuTWF4Um93O1xyXG5cclxuICAgICAgICAgICAgbk1pbkNvbCA9IG5NaW5Db2wgPiAoTlJfQ09MUyAtIDEpID8gKE5SX0NPTFMgLSAxKSA6IG5NaW5Db2w7XHJcbiAgICAgICAgICAgIG5NYXhDb2wgPSBuTWF4Q29sID4gKE5SX0NPTFMgLSAxKSA/IChOUl9DT0xTIC0gMSkgOiBuTWF4Q29sO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlY3QgPSBuZXcgUmVjdFBvcygpO1xyXG4gICAgICAgICAgICBpZighcmVjdCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0UmVjdFBvcyhyZWN0LCBuTWluUm93LCBuTWF4Um93LCBuTWluQ29sLCBuTWF4Q29sKTtcclxuICAgICAgICAgICAgdmFyIHJlY3RJbmZvID0ge1JlY3Q6IHJlY3R9O1xyXG4gICAgICAgICAgICB0aGlzLnNldFJlY3RJbmZvKHJlY3RJbmZvKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBNYXBDb2xvcjJSR0I6ZnVuY3Rpb24oIHVSZWQsIHVHcmVlbiwgdUJsdWUpe1xyXG4gICAgICAgICAgICBpZiAodVJlZCA+IDMgfHwgdUdyZWVuID4gMyB8fCB1Qmx1ZSA+IDMpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB2b1JHQlZhbHVlID0gbmV3IENvbG9yKCk7XHJcbiAgICAgICAgICAgIHZvUkdCVmFsdWUuUmVkID0gdVJlZCpDQzcwOFJHQl9USU1FU0NBTEU7XHJcbiAgICAgICAgICAgIHZvUkdCVmFsdWUuR3JlZW4gPSB1R3JlZW4qQ0M3MDhSR0JfVElNRVNDQUxFO1xyXG4gICAgICAgICAgICB2b1JHQlZhbHVlLkJsdWUgPSB1Qmx1ZSpDQzcwOFJHQl9USU1FU0NBTEU7XHJcbiAgICAgICAgICAgIHJldHVybiB2b1JHQlZhbHVlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIFNldFdpbmRvd0F0dHJpOiBmdW5jdGlvbihXaW5BdHRyaSwgQXJyLCBTaXplKXtcclxuICAgICAgICAgICAgdmFyIHJldCA9IFdpbkF0dHJpLmxvYWQoQXJyLCBTaXplKTtcclxuICAgICAgICAgICAgdmFyIHJvd0RlcyA9IHtoajpwYXJzZUludChXaW5BdHRyaS5qJTMpLCBwZDpXaW5BdHRyaS5wZH07XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Um93RGVzKHJvd0Rlcyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVjdEJvcmRlckNvbG9yID0gdGhpcy5NYXBDb2xvcjJSR0IodGhpcy53aW5kQXR0cmkuYnIsIHRoaXMud2luZEF0dHJpLmJnLCB0aGlzLndpbmRBdHRyaS5iYik7XHJcbiAgICAgICAgICAgIHJlY3RCb3JkZXJDb2xvci5UcmFucyA9IDA7XHJcbiAgICAgICAgICAgIHZhciByZWN0RmlsbENvbG9yID0gdGhpcy5NYXBDb2xvcjJSR0IodGhpcy53aW5kQXR0cmkuZnIsIHRoaXMud2luZEF0dHJpLmZnLCB0aGlzLndpbmRBdHRyaS5mYik7XHJcbiAgICAgICAgICAgIHJlY3RGaWxsQ29sb3IuVHJhbnMgPSAwO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMud2luZEF0dHJpLmZvKXtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICByZWN0RmlsbENvbG9yLlRyYW5zID0gMHhGRjsvLy88MTAwJVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlY3RGaWxsQ29sb3IuVHJhbnMgPSAweEJGOy8vLzw3NSVcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICByZWN0RmlsbENvbG9yLlRyYW5zID0gMHgwOy8vLzwwJVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHJlY3RJbmZvID0ge1JlY3RCb3JkZXJUeXBlOiAodGhpcy53aW5kQXR0cmkuYnQyIDw8IDMgfCB0aGlzLndpbmRBdHRyaS5idDApLFxyXG4gICAgICAgICAgICAgICAgUmVjdEJvcmRlckNvbG9yOiByZWN0Qm9yZGVyQ29sb3IsIFJlY3RGaWxsQ29sb3I6IHJlY3RGaWxsQ29sb3IsXHJcbiAgICAgICAgICAgICAgICBSZWN0RGlzcGxheUVmZmVjdDp7RWZmZWN0VHlwZTogdGhpcy53aW5kQXR0cmkuZGUsIEVmZmVjdFNwZWVkOiB0aGlzLndpbmRBdHRyaS5lcyxcclxuICAgICAgICAgICAgICAgICAgICBFZmZlY3REaXJlY3Rpb246IHRoaXMud2luZEF0dHJpLmVkfX07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNldFJlY3RJbmZvKHJlY3RJbmZvKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRUZXh0RGlzcGxheUluZm8oe3dyYXA6IHRoaXMud2luZEF0dHJpLnd3LCBzZDogdGhpcy53aW5kQXR0cmkuc2R9KTtcclxuICAgICAgICAgICAgdGhpcy5VcGRhdGVXaW5kSW5mbygpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIFNldFBlbkF0dGk6IGZ1bmN0aW9uIChQZW5BdHRyaSwgQXJyLCBTaXplKSB7XHJcbiAgICAgICAgICAgIHZhciByZXQgPSBQZW5BdHRyaS5sb2FkKEFyciwgU2l6ZSk7XHJcbiAgICAgICAgICAgIHZhciBmb250RWZmZWN0SW5mbyA9IHtJdGFsaWM6IHRoaXMucGVuQXR0cmkuaSwgVW5kZXJsaW5lOiB0aGlzLnBlbkF0dHJpLnUsXHJcbiAgICAgICAgICAgICAgICBFZGdlVHlwZTogdGhpcy5wZW5BdHRyaS5ldCwgVGV4dFRhZzogdGhpcy5wZW5BdHRyaS50dCxcclxuICAgICAgICAgICAgICAgIG9mZlNldDogdGhpcy5wZW5BdHRyaS5vfTtcclxuICAgICAgICAgICAgdmFyIGZvbnRJbmZvID0ge0ZvbnRTaXplOiB0aGlzLnBlbkF0dHJpLnMsIEZvbnRTdHlsZTogdGhpcy5wZW5BdHRyaS5mc307XHJcbiAgICAgICAgICAgIHZhciBjaGFySW5mbyA9IHtGb250SW5mbzogZm9udEluZm8sIEZvbnRFZmZlY3RJbmZvOiBmb250RWZmZWN0SW5mb307XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Q2hhckluZm8oY2hhckluZm8pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5VcGRhdGVXaW5kSW5mbygpO1xyXG4gICAgICAgICAgICAvL3RoaXMub3V0cHV0RGF0YVVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiREVCVUdcIiwgXCJbd2luZDogU2V0UGVuQXR0aV1cIik7XHJcbiAgICAgICAgICAgIHJldHVybiByZXQ7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgU2V0UGVuQ29sb3I6IGZ1bmN0aW9uIChQZW5Db2xvciwgQXJyLCBTaXplKSB7XHJcbiAgICAgICAgICAgIHZhciByZXQgPSBQZW5Db2xvci5sb2FkKEFyciwgU2l6ZSk7XHJcblxyXG4gICAgICAgICAgIHZhciBmb250Q29sb3IgPSB0aGlzLk1hcENvbG9yMlJHQih0aGlzLnBlbkNvbG9yLmZyLCB0aGlzLnBlbkNvbG9yLmZiLCB0aGlzLnBlbkNvbG9yLmZnKTtcclxuICAgICAgICAgICAgaWYgKDAgPT09IHRoaXMucGVuQ29sb3IuZm98fCAxID09PSB0aGlzLnBlbkNvbG9yLmZvKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBmb250Q29sb3IuVHJhbnMgPSAweEZGO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYoMiA9PT0gdGhpcy5wZW5Db2xvci5mbylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZm9udENvbG9yLlRyYW5zID0gMHhCRjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgZm9udENvbG9yLlRyYW5zICA9IDB4MDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgZWRnZUNvbG9yID0gIHRoaXMuTWFwQ29sb3IyUkdCKHRoaXMucGVuQ29sb3IuZXIsIHRoaXMucGVuQ29sb3IuZWcsIHRoaXMucGVuQ29sb3IuZWIpO1xyXG4gICAgICAgICAgICBlZGdlQ29sb3IuVHJhbnMgPSBmb250Q29sb3IuVHJhbnM7XHJcbiAgICAgICAgICAgIHZhciBjaGFySW5mbyA9IHtGb250SW5mbzp7Rm9udENvbG9yOiBmb250Q29sb3J9LCBGb250RWZmZWN0SW5mbzp7RWRnZUNvbG9yOiBlZGdlQ29sb3J9fTtcclxuICAgICAgICAgICAgdGhpcy5zZXRDaGFySW5mbyhjaGFySW5mbyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVjdEZpbGxDb2xvciA9IHRoaXMuTWFwQ29sb3IyUkdCKHRoaXMucGVuQ29sb3IuYnIsIHRoaXMucGVuQ29sb3IuYmcsIHRoaXMucGVuQ29sb3IuYmIpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wZW5Db2xvci5ibyA9PT0gMCB8fCB0aGlzLnBlbkNvbG9yLmJvID09PSAxKXtcclxuICAgICAgICAgICAgICAgIHJlY3RGaWxsQ29sb3IuVHJhbnMgPSAweEZGO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYodGhpcy5wZW5Db2xvci5ibyA9PT0gMil7XHJcbiAgICAgICAgICAgICAgICByZWN0RmlsbENvbG9yLlRyYW5zID0gMHhCRjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgcmVjdEZpbGxDb2xvci5UcmFucyA9IDB4MDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgdHh0RGVzID0gbmV3IHRleHREZXMoKTtcclxuICAgICAgICAgICAgdHh0RGVzLmRhdGFCb3guUmVjdEZpbGxDb2xvciA9IHJlY3RGaWxsQ29sb3I7XHJcbiAgICAgICAgICAgIC8vdGhpcy5zZXRSb3dEZXModHh0RGVzKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRSb3dEZXMoe2RhdGFCb3g6e1JlY3RGaWxsQ29sb3I6IHJlY3RGaWxsQ29sb3J9fSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLlVwZGF0ZVdpbmRJbmZvKCk7XHJcbiAgICAgICAgICAgIC8vdGhpcy5vdXRwdXREYXRhVXBkYXRlKCk7XHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJERUJVR1wiLCBcIlt3aW5kOiBTZXRQZW5Db2xvcl1cIik7XHJcbiAgICAgICAgICAgIHJldHVybiByZXQ7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgbG9hZDogZnVuY3Rpb24gKEFyciwgU2l6ZSkge1xyXG4gICAgICAgICAgICBpZiAoNyA+IFNpemUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJFUlJPUlwiLCBcIkNsb3NlZENhcHRpb24gRXJyb3I6REZDb21tYW5kUGFyYSBsZXNzIHBhcmFcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gU2l6ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLldpbmRJRCA9IFIzQjIoQXJyWzBdKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRWaXNpYmxlKFIxQjUoQXJyWzFdKSk7XHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJERUJVR1wiLCBcIlt3aW5kOiBsb2FkXSB3aW5kSUQ6XCIgKyB0aGlzLldpbmRJRCwgXCIsIHZpc2libGU6XCIgKyBSMUI1KEFyclsxXSkpO1xyXG4gICAgICAgICAgICB0aGlzLnJsID0gUjFCNChBcnJbMV0pO1xyXG4gICAgICAgICAgICB0aGlzLmNsID0gUjFCMyhBcnJbMV0pO1xyXG4gICAgICAgICAgICB0aGlzLnByaW9yaXR5ID0gUjNCMihBcnJbMV0pO1xyXG4gICAgICAgICAgICAvL3ByaW9yaXR5IGhhbmRsZT8/P1xyXG5cclxuICAgICAgICAgICAgdGhpcy5ycCA9IFIxQjcoQXJyWzJdKTtcclxuICAgICAgICAgICAgdGhpcy5hdiA9IFI3QjYoQXJyWzJdKTtcclxuICAgICAgICAgICAgdGhpcy5haCA9IEFyclszXTtcclxuICAgICAgICAgICAgdGhpcy5hcCA9IFI0QjcoQXJyWzRdKTtcclxuICAgICAgICAgICAgdGhpcy5yYyA9IFI0QjMoQXJyWzRdKTtcclxuICAgICAgICAgICAgdGhpcy5yYyArPSAxO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jYyA9IFI2QjUoQXJyWzVdKTtcclxuICAgICAgICAgICAgdGhpcy5jYyArPSAxO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5TZXRXaW5kb3dSZWN0SW5mbyh0aGlzLmFwLHRoaXMucnAsdGhpcy5hdix0aGlzLmFoLHRoaXMucmMsdGhpcy5jYyk7XHJcbiAgICAgICAgICAgIHRoaXMud3MgPSBSM0I1KEFycls2XSk7XHJcbiAgICAgICAgICAgIGlmKCF0aGlzLndzKXtcclxuICAgICAgICAgICAgICAgIHRoaXMud3MgPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucHMgPSBSM0IyKEFycls2XSk7XHJcbiAgICAgICAgICAgIGlmKCF0aGlzLnBzKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucHMgPSAxO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLndzKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuU2V0V2luZG93QXR0cmkodGhpcy53aW5kQXR0cmksIFByZXNldFdpbkF0dHJpW3RoaXMud3MgLSAxXSwgNCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKHRoaXMucHMpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5TZXRQZW5BdHRpKHRoaXMucGVuQXR0cmksIFByZXNldFBlbkF0dHJpW3RoaXMucHMgLSAxXSwgMik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLlNldFBlbkNvbG9yKHRoaXMucGVuQ29sb3IsIFByZXNldFBlbkNvbG9yW3RoaXMucHMgLSAxXSwgMyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBjdXJyUmVjdEluZm8gPSB0aGlzLmdldFJlY3RJbmZvKCk7XHJcbiAgICAgICAgICAgIHZhciB3aW5NaW5Sb3cgPSBUcmFuc2xhdGVQb3NUb1Jvd05vKGN1cnJSZWN0SW5mby5SZWN0LlRvcCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHZhciB3aW5NYXhSb3cgPSBUcmFuc2xhdGVQb3NUb1Jvd05vKGN1cnJSZWN0SW5mby5SZWN0LkJvdHRvbSwgdHJ1ZSkgLSAxO1xyXG4gICAgICAgICAgICB2YXIgY3VyclJvdyA9IHRoaXMuZ2V0Q3VyclJvdygpO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwibG9hZCBjdXJyUm93OiVkLCBtaW5Sb3c6JWQsIG1heFJvdzolZFwiLCBjdXJyUm93LCB3aW5NaW5Sb3csIHdpbk1heFJvdyk7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuaXNSb3dWYWxpZChjdXJyUm93KSAmJiAoY3VyclJvdyA8IHdpbk1pblJvdyB8fCBjdXJyUm93ID4gd2luTWF4Um93KSl7XHJcbiAgICAgICAgICAgICAgICB2YXIgcm93ID0gMDtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChyb3cgPCB3aW5NaW5Sb3cpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm93VGV4dEluZm9zW2N1cnJSb3ddLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93ICsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcm93ID0gd2luTWF4Um93ICsgMTtcclxuICAgICAgICAgICAgICAgIHdoaWxlKHJvdyA8IHRoaXMucm93Q250KXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvd1RleHRJbmZvc1tjdXJyUm93XS5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJvdyArKztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldEN1cnJSb3cod2luTWluUm93KTtcclxuICAgICAgICAgICAgICAgIGlmKDMgPT09IHRoaXMud2luZEF0dHJpLnNkKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEN1cnJSb3cod2luTWF4Um93KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL3RoaXMub3V0cHV0RGF0YVVwZGF0ZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gNztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRWaXNpYmxlOiBmdW5jdGlvbiAoYlZpc2libGUpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkRFQlVHXCIsIFwiW3NldFZpc2libGVdXCIgKyBcInRoaXMudmlzaWJsZTpcIiArIHRoaXMudmlzaWJsZSArIFwiLCBiVmlzaWJsZTpcIiArIGJWaXNpYmxlKTtcclxuICAgICAgICAgICAgaWYgKGJWaXNpYmxlICE9PSB0aGlzLnZpc2libGUpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5VcGRhdGVXaW5kSW5mbyh0cnVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IGJWaXNpYmxlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaXNFbXB0eSA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgZW1wdHkgPSB0cnVlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCB0aGlzLnJvd0NudCA7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYoIXRoaXMucm93VGV4dEluZm9zW2ldKXtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5yb3dUZXh0SW5mb3NbaV0uaXNFbXB0eSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW1wdHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZW1wdHk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZXF1YWxzIDogZnVuY3Rpb24ob3RoZXIpIHtcclxuICAgICAgICAgICAgdmFyIGVxdWFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpIDwgdGhpcy5yb3dDbnQgOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5yb3dUZXh0SW5mb3NbaV0uZXF1YWxzKG90aGVyLnJvd1RleHRJbmZvc1tpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlcXVhbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBlcXVhbDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXRTdWJ0aXRsZURhdGE6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHN1YnRpdGxlRGF0ZSA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgdGV4dEluZm8gPSBbXTtcclxuICAgICAgICAgICAgdmFyIHJvdyA9IFRyYW5zbGF0ZVBvc1RvUm93Tm8odGhpcy5nZXRSZWN0SW5mbygpLlJlY3QuVG9wKTtcclxuICAgICAgICAgICAgdmFyIG1heFJvdyA9IFRyYW5zbGF0ZVBvc1RvUm93Tm8odGhpcy5nZXRSZWN0SW5mbygpLlJlY3QuQm90dG9tKSAtIDE7XHJcbiAgICAgICAgICAgIG1heFJvdyA9IChtYXhSb3cgPD0gKHRoaXMucm93Q250IC0gMSkpID8gbWF4Um93IDogKHRoaXMucm93Q250IC0gMSk7XHJcbiAgICAgICAgICAgIHJvdyA9IChyb3cgPD0gbWF4Um93KSA/IHJvdyA6IDA7XHJcblxyXG4gICAgICAgICAgICB3aGlsZSAocm93IDw9IG1heFJvdyl7XHJcbiAgICAgICAgICAgICAgICBpZighdGhpcy5yb3dUZXh0SW5mb3Nbcm93XS5wb3Mpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJvdyArKztcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0ZXh0SW5mby5wdXNoKHRoaXMucm93VGV4dEluZm9zW3Jvd10pO1xyXG4gICAgICAgICAgICAgICAgcm93ICsrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzdWJ0aXRsZURhdGUucHVzaCh7XHJcbiAgICAgICAgICAgICAgICByZWN0SW5mbzogdGhpcy5yZWN0SW5mbyxcclxuICAgICAgICAgICAgICAgIFRleHRSb3dJbmZvOnRleHRJbmZvLFxyXG4gICAgICAgICAgICAgICAgVGV4dERpc3BsYXlJbmZvOiB0aGlzLlRleHREaXNwbGF5SW5mb1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHN1YnRpdGxlRGF0ZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBjYXB0aW9uU2NyZWVuID0gZnVuY3Rpb24gKGFycikge1xyXG4gICAgICAgIHRoaXMuY2FwdGlvbkFycmF5ID0gYXJyIHx8IG51bGw7XHJcbiAgICAgICAgdGhpcy5pczcwOGNjID0gdHJ1ZTtcclxuICAgIH07XHJcblxyXG4gICAgY2FwdGlvblNjcmVlbi5wcm90b3R5cGUgPSB7XHJcbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuY2FwdGlvbkFycmF5Lmxlbmd0aDsgaSArKyl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhcHRpb25BcnJheVtpXS5yZXNldCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZ2V0RGlzcGxheVRleHQgOiBmdW5jdGlvbihhc09uZVJvdykge1xyXG4gICAgICAgICAgICBhc09uZVJvdyA9IGFzT25lUm93IHx8IGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgZGlzcGxheVRleHQgPSBbXTtcclxuICAgICAgICAgICAgdmFyIHRleHQgPSBcIlwiO1xyXG4gICAgICAgICAgICB2YXIgd2luTnIgPSAtMTtcclxuICAgICAgICAgICAgaWYoIXRoaXMuY2FwdGlvbkFycmF5KXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IHRoaXMuY2FwdGlvbkFycmF5Lmxlbmd0aCA7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYoIXRoaXMuY2FwdGlvbkFycmF5W2ldKXtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciB3aW5UZXh0ID0gdGhpcy5jYXB0aW9uQXJyYXlbaV0uZ2V0RGlzcGxheVRleHQoYXNPbmVSb3cpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHdpblRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5OciA9IHRoaXMuY2FwdGlvbkFycmF5W2ldLldpbmRJRDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXNPbmVSb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheVRleHQucHVzaChcIldpbmRvdyBcIiArIHdpbk5yICsgJzogXCInICsgd2luVGV4dCArICdcIicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlUZXh0LnB1c2god2luVGV4dC50cmltKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGlzcGxheVRleHQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFzT25lUm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IFwiW1wiICsgZGlzcGxheVRleHQuam9pbihcInxcIikgKyBcIl1cIjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IGRpc3BsYXlUZXh0LmpvaW4oXCJcXG5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBpc0VtcHR5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBlbXB0eSA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuY2FwdGlvbkFycmF5KXtcclxuICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmNhcHRpb25BcnJheS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5jYXB0aW9uQXJyYXlbaV0pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZighdGhpcy5jYXB0aW9uQXJyYXlbaV0uaXNFbXB0eSgpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZW1wdHk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgb3V0cHV0RGF0YV9OdWxsID0gbmV3IENlYTcwOFdpbmRvdygpO1xyXG4gICAgb3V0cHV0RGF0YV9OdWxsLnJlc2V0KCk7XHJcbiAgICB2YXIgcmVjdEluZm8gPSB7J1JlY3QnOnsnVG9wJzowLCAnTGVmdCc6MCwgJ0JvdHRvbSc6MTQsICdSaWdodCc6MzF9fTtcclxuICAgIG91dHB1dERhdGFfTnVsbC5zZXRSZWN0SW5mbyhyZWN0SW5mbyk7XHJcbiAgICBvdXRwdXREYXRhX051bGwucmVjdEluZm8uUmVjdEJvcmRlckNvbG9yLlRyYW5zID0gMDtcclxuICAgIG91dHB1dERhdGFfTnVsbC5yZWN0SW5mby5SZWN0RmlsbENvbG9yLlRyYW5zID0gMDtcclxuICAgIHZhciBDZWE3MDhwYXJzZXIgPSBmdW5jdGlvbiAob3V0KSB7XHJcbiAgICAgICAgdGhpcy53aW5kb3dzID0gW107XHJcbiAgICAgICAgdGhpcy5vdXRwdXRGaWx0ZXIgPSBvdXQ7XHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IENDX1dJTkRPV1M7IGkgKyspe1xyXG4gICAgICAgICAgICB0aGlzLndpbmRvd3MucHVzaChuZXcgQ2VhNzA4V2luZG93KGkpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5DdXJyV2luZElEID0gLTE7XHJcbiAgICAgICAgdGhpcy5iQ2xlYXJTY3JlZW4gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmN1ZVN0YXJ0VGltZSA9IG51bGw7IC8vIEtlZXBzIHRyYWNrIG9mIHdoZXJlIGEgY3VlIHN0YXJ0ZWQuXHJcbiAgICAgICAgdGhpcy5jYXB0aW9uU2NyZWVuID0gbnVsbDtcclxuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5kYXRhQ291bnRlcnMgPSB7J3BhZGRpbmcnIDogMCwgJ2NoYXInIDogMCwgJ2NtZCcgOiAwLCAnb3RoZXInIDogMH07XHJcbiAgICB9O1xyXG5cclxuICAgIENlYTcwOHBhcnNlci5wcm90b3R5cGUgPSB7XHJcbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5DdXJyV2luZElEID0gLTE7XHJcbiAgICAgICAgICAgIHRoaXMuYkNsZWFyU2NyZWVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuY3VlU3RhcnRUaW1lID0gbnVsbDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLndpbmRvd3MubGVuZ3RoOyBpICsrKXtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMud2luZG93c1tpXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53aW5kb3dzW2ldLnJlc2V0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXRIYW5kbGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3V0cHV0RmlsdGVyO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldEhhbmRsZXI6IGZ1bmN0aW9uKG5ld0hhbmRsZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5vdXRwdXRGaWx0ZXIgPSBuZXdIYW5kbGVyO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG91dHB1dERhdGFVcGRhdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5jYXB0aW9uU2NyZWVuID0gbmV3IGNhcHRpb25TY3JlZW4odGhpcy5zZXRPdXRwdXRTY3JlZW4oKSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY2FwdGlvblRleHQ6XCIgKyB0aGlzLmNhcHRpb25TY3JlZW4uZ2V0RGlzcGxheVRleHQodHJ1ZSkpO1xyXG5cclxuICBcclxuICAgICAgICAgICAgdmFyIHQgPSBsb2dnZXIudGltZTtcclxuICAgICAgICAgICAgaWYgKHQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJFUlJPUlwiLCBcIltvdXRwdXREYXRhVXBkYXRlXVwiICsgXCJ0IGlzIG51bGwuXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiLCBsb2dnZXIgdGltZTpcIiArIGxvZ2dlci50aW1lKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMub3V0cHV0RmlsdGVyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vdXRwdXRGaWx0ZXIudXBkYXRlRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0RmlsdGVyLnVwZGF0ZURhdGEodCwgdGhpcy5jYXB0aW9uU2NyZWVuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1ZVN0YXJ0VGltZSA9PT0gbnVsbCAmJiAhdGhpcy5jYXB0aW9uU2NyZWVuLmlzRW1wdHkoKSkgeyAvLyBTdGFydCBvZiBhIG5ldyBjdWVcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1ZVN0YXJ0VGltZSA9IHQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm91dHB1dEZpbHRlci5uZXdDdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkRFQlVHXCIsIFwiW291dHB1dERhdGFVcGRhdGVdXCIgKyAgXCIsIHN0YXJ0aW1lOlwiICsgdGhpcy5jdWVTdGFydFRpbWUgKyBcIiwgdGltZTpcIiArIHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dEZpbHRlci5uZXdDdWUodGhpcy5jdWVTdGFydFRpbWUsIHQsIHRoaXMuY2FwdGlvblNjcmVlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VlU3RhcnRUaW1lID0gdGhpcy5jYXB0aW9uU2NyZWVuLmlzRW1wdHkoKSA/IG51bGwgOiB0O1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGN1ZVNwbGl0QXRUaW1lOiBmdW5jdGlvbih0KSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJERUJVR1wiLFwiY3VlU3BsaXRBdFRpbWU6IFwiICsgdCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm91dHB1dEZpbHRlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3V0cHV0RmlsdGVyLm5ld0N1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0RmlsdGVyLm5ld0N1ZSh0aGlzLmN1ZVN0YXJ0VGltZSwgdCwgdGhpcy5jYXB0aW9uU2NyZWVuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuY3VlU3RhcnRUaW1lID0gdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldE91dHB1dFNjcmVlbjpmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjYXB0aW9uQXJyYXkgPSBudWxsOy8vW107XHJcbiAgICAgICAgICAgIHZhciBiVXBkYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICAgICAgZm9yKGkgPSAwOyBpIDwgdGhpcy53aW5kb3dzLmxlbmd0aDsgaSArKyl7XHJcbiAgICAgICAgICAgICAgICBpZighdGhpcy53aW5kb3dzW2ldKXtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJERUJVR1wiLCBcIltzZXRPdXRwdXRTY3JlZW5dXCIgKyBcIndpbmRJRDpcIiArIHRoaXMud2luZG93c1tpXS5XaW5kSUQgK1xyXG4gICAgICAgICAgICAgICAgXCIsIHVwZGF0ZTpcIiArIHRoaXMud2luZG93c1tpXS51cGRhdGUgKyBcIiwgdmlzaWJsZTpcIiArIHRoaXMud2luZG93c1tpXS52aXNpYmxlKTtcclxuICAgICAgICAgICAgICAgIGlmKC0xICE9IHRoaXMud2luZG93c1tpXS5XaW5kSUQgJiYgdGhpcy53aW5kb3dzW2ldLnVwZGF0ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgYlVwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYodGhpcy5iQ2xlYXJTY3JlZW4pe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iQ2xlYXJTY3JlZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGNhcHRpb25BcnJheSA9IG91dHB1dERhdGFfTnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKGJVcGRhdGUpe1xyXG4gICAgICAgICAgICAgICAgY2FwdGlvbkFycmF5ID0gdGhpcy5nZXRXaW5kb3dzSW5mbygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2FwdGlvbkFycmF5ID0gW251bGxdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IoaSA9IDA7IGkgPCB0aGlzLndpbmRvd3MubGVuZ3RoOyBpICsrKXtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMud2luZG93c1tpXSAmJiB0aGlzLndpbmRvd3NbaV0udXBkYXRlKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLndpbmRvd3NbaV0udXBkYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNhcHRpb25BcnJheTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXRXaW5kSW5mbzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY2FwdGlvbkFycmF5ID0gW107XHJcbiAgICAgICAgICAgIHZhciBlbXB0eSA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLndpbmRvd3MubGVuZ3RoOyBpICsrKXtcclxuICAgICAgICAgICAgICAgIGlmKCF0aGlzLndpbmRvd3NbaV0gfHwgKC0xID09PSB0aGlzLndpbmRvd3NbaV0uV2luZElEKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZighdGhpcy53aW5kb3dzW2ldLnZpc2libGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy53aW5kb3dzW2ldLmlzRW1wdHkoKSl7XHJcbiAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3VidGl0bGVEYXRhID0gdGhpcy53aW5kb3dzW2ldLmdldFN1YnRpdGxlRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgaWYoc3VidGl0bGVEYXRhLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FwdGlvbkFycmF5LnB1c2goc3VidGl0bGVEYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiREVCVUdcIiwgXCJbZ2V0V2luZEluZm9dXCIgKyBcIndpbmQ6XCIgKyB0aGlzLndpbmRvd3NbaV0uV2luZElEICtcclxuICAgICAgICAgICAgICAgICAgICBcIiwgVGV4dDpcIiArIHRoaXMud2luZG93c1tpXS5nZXREaXNwbGF5VGV4dCh0cnVlKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoZW1wdHkpe1xyXG4gICAgICAgICAgICAgICAgY2FwdGlvbkFycmF5LnB1c2gob3V0cHV0RGF0YV9OdWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY2FwdGlvbkFycmF5O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldFdpbmRvd3NJbmZvOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjYXB0aW9uQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGVtcHR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMud2luZG93cy5sZW5ndGg7IGkgKyspe1xyXG4gICAgICAgICAgICAgICAgaWYoIXRoaXMud2luZG93c1tpXSB8fCAoLTEgPT09IHRoaXMud2luZG93c1tpXS5XaW5kSUQpKXtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKCF0aGlzLndpbmRvd3NbaV0udmlzaWJsZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLndpbmRvd3NbaV0uaXNFbXB0eSgpKXtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgc3VidGl0bGVEYXRhID0gdGhpcy53aW5kb3dzW2ldLmdldFN1YnRpdGxlRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgIGlmKEFTQ0lJX1NQQUNFX0NIQVIgIT0gdGhpcy53aW5kb3dzW2ldLmdldERpc3BsYXlUZXh0KHRydWUpKXtcclxuICAgICAgICAgICAgICAgICAgICBjYXB0aW9uQXJyYXkucHVzaCh0aGlzLndpbmRvd3NbaV0pO1xyXG4gICAgICAgICAgICAgICAgLy92YXIgdGV4dCA9IGNhcHRpb25BcnJheVswXS5nZXREaXNwbGF5VGV4dCh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiREVCVUdcIiwgXCJbZ2V0V2luZEluZm9dXCIgKyBcIndpbmQ6XCIgKyB0aGlzLndpbmRvd3NbaV0uV2luZElEICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCIsIFRleHQ6XCIgKyB0aGlzLndpbmRvd3NbaV0uZ2V0RGlzcGxheVRleHQodHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGlmKGVtcHR5KXtcclxuICAgICAgICAgICAgLy8gICAgIGNhcHRpb25BcnJheS5wdXNoKG91dHB1dERhdGFfTnVsbCk7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNhcHRpb25BcnJheTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBGaW5kV2luZEJ5SUQ6IGZ1bmN0aW9uICh3aW5kSUQpIHtcclxuICAgICAgICAgICAgaWYoMCA+IHdpbmRJRCB8fCA3IDwgd2luZElEKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHdpbmRJRCA9PT0gdGhpcy53aW5kb3dzW3dpbmRJRF0uV2luZElEKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndpbmRvd3Nbd2luZElEXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGFkZERhdGE6IGZ1bmN0aW9uKHQsIGJ5dGVMaXN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdFRpbWUgPSB0O1xyXG4gICAgICAgICAgICBsb2dnZXIuc2V0VGltZSh0KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJbIENlYTcwOFBhcnNlcjphZGREYXRhXTpcIiArIFwidGltZTogXCIgKyB0KTtcclxuICAgICAgICAgICAgLy8gZm9yKHZhciBqID0gMDsgaiA8IGJ5dGVMaXN0Lmxlbmd0aDsgaiArKyl7XHJcbiAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhcIiVkKCVzKVwiLCAgYnl0ZUxpc3Rbal0sIGJ5dGVMaXN0W2pdLnRvU3RyaW5nKDE2KSk7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgd2hpbGUgKGkgPCBieXRlTGlzdC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBiRXh0Q29kZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYoQzBfU0VUX0VYVF9DT0RFX0NFQV83MDggPT09IGJ5dGVMaXN0W2ldKXtcclxuICAgICAgICAgICAgICAgICAgICBiRXh0Q29kZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaSArPSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKDAgPT09IGJ5dGVMaXN0W2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhQ291bnRlcnMucGFkZGluZyArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGkgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIC8vbG9nZ2VyLmxvZyhcIkRBVEFcIiwgXCJbXCIgKyBudW1BcnJheVRvSGV4QXJyYXkoW2J5dGVMaXN0W2ldLCBieXRlTGlzdFtpKzFdXSkgK1wiXSAtPiAoXCIgKyBudW1BcnJheVRvSGV4QXJyYXkoW2EsIGJdKSArIFwiKVwiKTtcclxuICAgICAgICAgICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoKEcwX0cyX1NFVF9TVEFSVF9DT0RFX0NFQV83MDggPD0gYnl0ZUxpc3RbaV0gJiYgRzBfRzJfU0VUX0VORF9DT0RFX0NFQV83MDggPj0gYnl0ZUxpc3RbaV0pIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgKEcxX0czX1NFVF9TVEFSVF9DT0RFX0NFQV83MDggPD0gYnl0ZUxpc3RbaV0pICl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJzZVN0YW5kYXJkQ2hhcihieXRlTGlzdFtpXSwgMSwgYkV4dENvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUNvdW50ZXJzLmNoYXIgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICBpICs9IDE7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZigoQzBfU0VUX1NUQVJUX0NPREVfQ0VBXzcwOCA8PSBieXRlTGlzdFtpXSAmJiBDMF9TRVRfRU5EX0NPREVfQ0VBXzcwOCA+PSBieXRlTGlzdFtpXSkgfHxcclxuICAgICAgICAgICAgICAgICAgICAoQzFfU0VUX1NUQVJUX0NPREVfQ0VBXzcwOCA8PSBieXRlTGlzdFtpXSAmJiBDMV9TRVRfRU5EX0NPREVfQ0VBXzcwOCA+PSBieXRlTGlzdFtpXSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBUbXBjaGFyID0gYnl0ZUxpc3Quc2xpY2UoaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIERhdGFTaXplID0gdGhpcy5wYXJzZU5vblN0YW5kYXJkQ2hhcihUbXBjaGFyLCAoYnl0ZUxpc3QubGVuZ3RoIC0gaSksIGJFeHRDb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICBpICs9IERhdGFTaXplO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUNvdW50ZXJzLmNtZCArPSBEYXRhU2l6ZTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFDb3VudGVycy5vdGhlciArPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJDb3VsZG4ndCBwYXJzZSBjbGVhbmVkIGRhdGFbJWRdOiVkXCIsIGksIGJ5dGVMaXN0W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2xvZ2dlci5sb2coXCJXQVJOSU5HXCIsIFwiQ291bGRuJ3QgcGFyc2UgY2xlYW5lZCBkYXRhIFwiICsgYnl0ZUxpc3RbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coXCJXQVJOSU5HXCIsIFwiQ291bGRuJ3QgcGFyc2UgY2xlYW5lZCBkYXRhIFwiICtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgXCIgb3JpZzogXCIgKyBudW1BcnJheVRvSGV4QXJyYXkoW2J5dGVMaXN0W2ldLCBieXRlTGlzdFtpKzFdXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkgKz0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLm91dHB1dERhdGFVcGRhdGUoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBwYXJzZU5vblN0YW5kYXJkQ2hhcjogZnVuY3Rpb24gKEFyciwgc2l6ZSwgRXh0Q29kZSkge1xyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiSU5GT1wiLCBcIltwYXJzZU5vblN0YW5kYXJkQ2hhcl0gYnl0ZTpcIiArIEFyclswXS50b1N0cmluZygxNikgK1wiKFwiICsgQXJyWzBdICsgXCIpXCIgK1xyXG4gICAgICAgICAgICAgICAgXCIsIHNpemU6XCIgKyBzaXplICsgXCIsIEV4dENvZGU6XCIgKyBFeHRDb2RlKTtcclxuICAgICAgICAgICAgdmFyIHJldCA9IDA7XHJcbiAgICAgICAgICAgIGlmKEMwX1NFVF9TVEFSVF9DT0RFX0NFQV83MDggPD0gQXJyWzBdICYmIEMwX1NFVF9FTkRfQ09ERV9DRUFfNzA4ID49IEFyclswXSl7XHJcbiAgICAgICAgICAgICAgICBpZiAoRXh0Q29kZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFyclswXS84ICsgMTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXQgPSB0aGlzLnBhcnNlQzBDb2RlKEFyciwgc2l6ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKEMxX1NFVF9TVEFSVF9DT0RFX0NFQV83MDggPD0gQXJyWzBdICYmIEMxX1NFVF9FTkRfQ09ERV9DRUFfNzA4ID49IEFyclswXSl7XHJcbiAgICAgICAgICAgICAgICBpZiAoRXh0Q29kZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKEMxX1NFVF9NaWRfQ09ERV9DRUFfNzA4ID49IEFyclswXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybihBcnJbMF0gLSBDMV9TRVRfU1RBUlRfQ09ERV9DRUFfNzA4KS84ICsgNTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoMiA+IHNpemUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkVSUk9SXCIsIFwiQ2xvc2VkQ2FwdGlvbiBFcnJvcjpQYXJzZXJDMSBFWFQgQ29kZSBzaXplIDwyOiVkXCIsc2l6ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2l6ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChBcnJbMV0mMHgxRikgKyAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldCA9IHRoaXMucGFyc2VDMUNvZGUoQXJyLCBzaXplKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL3RoaXMub3V0cHV0RGF0YVVwZGF0ZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHBhcnNlQzBDb2RlOiBmdW5jdGlvbiAoQXJyLCBzaXplKSB7XHJcbiAgICAgICAgICAgIHZhciByZXQgPSAxO1xyXG4gICAgICAgICAgICBpZiAoQzBfU0VUX0VYVF9DT0RFX0NFQV83MDggPD0gQXJyWzBdICYmIEMwX1NFVF9QMTBfQ09ERV9DRUFfNzA4ID4gQXJyWzBdKXtcclxuICAgICAgICAgICAgICAgIHJldCA9IDI7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKEMwX1NFVF9QMTBfQ09ERV9DRUFfNzA4IDw9IEFyclswXSAmJiBDMF9TRVRfRU5EX0NPREVfQ0VBXzcwOCA+PSBBcnJbMF0pe1xyXG4gICAgICAgICAgICAgICAgcmV0ID0gMztcclxuICAgICAgICAgICAgfWVsc2UgaWYoc2l6ZSA8IHJldCl7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiRVJST1JcIixcIkNsb3NlZENhcHRpb24gRXJyb3I6UGFyc2VyQzBDb2RlIGNiSW5wdXREYXRhIDwgcmV0OiVkOiVkXCIsc2l6ZSwgcmV0KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzaXplO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZigwIDw9IHRoaXMuQ3VycldpbmRJRCAmJiA3ID49IHRoaXMuQ3VycldpbmRJRCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgQ3VycldpbmQgPSB0aGlzLkZpbmRXaW5kQnlJRCh0aGlzLkN1cnJXaW5kSUQpO1xyXG4gICAgICAgICAgICAgICAgaWYoIUN1cnJXaW5kKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIEN1cnJXaW5kLlVwZGF0ZVdpbmRJbmZvKGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKEFyclswXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAweDM6eyAvL0VUWFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAweDg6eyAvL0JTXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEN1cnJXaW5kLmNjX0JTKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDB4Qzp7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEN1cnJXaW5kLnJlc2V0VGV4dEluZm8odHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyUmVjdEluZm8gPSBDdXJyV2luZC5nZXRSZWN0SW5mbygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2luZG93VG9wTm8gPSBUcmFuc2xhdGVQb3NUb1Jvd05vKGN1cnJSZWN0SW5mby5SZWN0LlRvcCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEN1cnJXaW5kLnNldEN1cnJSb3cod2luZG93VG9wTm8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAgMHhEOnsgLy9DUlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBDdXJyV2luZC5jY19DUigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAweEU6ey8vSENSXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEN1cnJXaW5kLmNjX0hDUigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAweDEwOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkRFQlVHXCIsIFwiQ2xvc2VkQ2FwdGlvbiBFcnJvcjpFWFQxIHNob3VsZCBub3QgZXhpc3QgaGVyZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMHgxODp7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJERUJVR1wiLCBcIkNsb3NlZENhcHRpb24gRXJyb3I6bm90IHN1cHBvcnRlZCBQMTZcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBwYXJzZUMxQ29kZTpmdW5jdGlvbiAoQXJyLCBzaXplKSB7XHJcbiAgICAgICAgICAgIHZhciByZXQgPSAwO1xyXG4gICAgICAgICAgICBpZiAoQ0NfREYwIDw9IEFyclswXSAmJiBDQ19ERjcgPj0gQXJyWzBdKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuQ3VycldpbmRJRCA9IEFyclswXSAtIENDX0RGMDtcclxuICAgICAgICAgICAgICAgIHZhciBDdXJyV2luZCA9IHRoaXMud2luZG93c1t0aGlzLkN1cnJXaW5kSURdO1xyXG4gICAgICAgICAgICAgICAgaWYoIUN1cnJXaW5kKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgQ3VycldpbmQucmVzZXQoKTtcclxuICAgICAgICAgICAgICAgIHJldCA9IEN1cnJXaW5kLmxvYWQoQXJyLCBzaXplKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKENDX0NXMCA8PUFyclswXSAmJiBDQ19DVzcgPj0gQXJyWzBdKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuQ3VycldpbmRJRCA9IEFyclswXSAtIENDX0NXMDtcclxuICAgICAgICAgICAgICAgIHJldCA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoQXJyWzBdKXtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIENDX0NMVzp7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9ICB0aGlzLnBhcnNlQ0xXQ29kZShBcnIsIHNpemUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDQ19EU1c6e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXQgPSB0aGlzLnBhcnNlRFNXQ29kZShBcnIsIHNpemUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDQ19IRFc6e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXQgPSB0aGlzLnBhcnNlSERXQ29kZShBcnIsIHNpemUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDQ19UR1c6e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXQgPSB0aGlzLnBhcnNlVEdXQ29kZShBcnIsIHNpemUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDQ19ETFc6e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXQgPSB0aGlzLnBhcnNlRExXQ29kZShBcnIsIHNpemUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDQ19ETFk6e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXQgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDQ19ETEM6e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXQgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDQ19SRVQ6e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiREVCVUdcIiwgXCJbQ0NfUkVUXSBDdXJyV2luZElEOlwiICsgdGhpcy5DdXJyV2luZElEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdpbmQgPSB0aGlzLkZpbmRXaW5kQnlJRCh0aGlzLkN1cnJXaW5kSUQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZih3aW5kKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmQucmVzZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ0NfU1BBOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gdGhpcy5wYXJzZVNQQUNvZGUoQXJyLCBzaXplKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ0NfU1BDOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gdGhpcy5wYXJzZVNQQ0NvZGUoQXJyLCBzaXplKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ0NfU1BMOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gdGhpcy5wYXJzZVNQTENvZGUoQXJyLCBzaXplKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ0NfU1dBOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gdGhpcy5wYXJzZVNXQUNvZGUoQXJyLCBzaXplKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6eyAvLy88MHg5M34weDk2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHBhcnNlQ0xXQ29kZTogZnVuY3Rpb24gKEFyciwgc2l6ZSkge1xyXG4gICAgICAgICAgICB2YXIgZHdXaW5JRCA9IDAsIGJpdFZhbHVlID0gMTtcclxuICAgICAgICAgICAgaWYgKDIgPiBzaXplKXtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJFUlJPUlwiLCBcIkNsb3NlZENhcHRpb24gRXJyb3I6Q0xXIGxlc3MgcGFyYVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzaXplO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHdoaWxlICg4ID4gZHdXaW5JRCl7XHJcbiAgICAgICAgICAgICAgICBpZiAoKEFyclsxXSAmIGJpdFZhbHVlKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdpbmQ9IHRoaXMuRmluZFdpbmRCeUlEKGR3V2luSUQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghd2luZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAyO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB3aW5kLnJlc2V0VGV4dEluZm8odHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZC5VcGRhdGVXaW5kSW5mbygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyUmVjdEluZm8gPSB3aW5kLmdldFJlY3RJbmZvKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdpbmRvd1RvcE5vID0gVHJhbnNsYXRlUG9zVG9Sb3dObyhjdXJyUmVjdEluZm8uUmVjdC5Ub3AsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmQuc2V0Q3VyclJvdyh3aW5kb3dUb3BObyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBiaXRWYWx1ZSAqPSAyO1xyXG4gICAgICAgICAgICAgICAgZHdXaW5JRCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAyO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHBhcnNlRFNXQ29kZTogZnVuY3Rpb24gKEFyciwgc2l6ZSkge1xyXG4gICAgICAgICAgICBpZiAoMiA+IHNpemUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJFUlJPUlwiLFwiQ2xvc2VkQ2FwdGlvbiBFcnJvcjpEU1cgbGVzcyBwYXJhXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNpemU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGR3V2luSUQgPSAwLCBiaXRWYWx1ZSA9IDE7XHJcbiAgICAgICAgICAgIHdoaWxlICg4ID4gZHdXaW5JRCl7XHJcbiAgICAgICAgICAgICAgICBpZiAoKEFyclsxXSAmIGJpdFZhbHVlKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIEN1cldpbiA9IHRoaXMuRmluZFdpbmRCeUlEKGR3V2luSUQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChDdXJXaW4pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDdXJXaW4uc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBiaXRWYWx1ZSAqPSAyO1xyXG4gICAgICAgICAgICAgICAgZHdXaW5JRCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAyO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHBhcnNlSERXQ29kZTogZnVuY3Rpb24gKEFyciwgc2l6ZSkge1xyXG4gICAgICAgICAgICBpZiAoMiA+IHNpemUpe1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkVSUk9SXCIsIFwiQ2xvc2VkQ2FwdGlvbiBFcnJvcjpIRFcgbGVzcyBwYXJhXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNpemU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGR3V2luSUQgPSAwLCBiaXRWYWx1ZSA9IDE7XHJcbiAgICAgICAgICAgIHdoaWxlICg4ID4gZHdXaW5JRCl7XHJcbiAgICAgICAgICAgICAgICBpZiAoKEFyclsxXSAmIGJpdFZhbHVlKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIEN1cldpbiA9IHRoaXMuRmluZFdpbmRCeUlEKGR3V2luSUQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChDdXJXaW4pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDdXJXaW4uc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYml0VmFsdWUgKj0gMjtcclxuICAgICAgICAgICAgICAgIGR3V2luSUQgKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDI7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcGFyc2VUR1dDb2RlOiBmdW5jdGlvbiAoQXJyLCBzaXplKSB7XHJcbiAgICAgICAgICAgIGlmICgyID4gc2l6ZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkVSUk9SXCIsIFwiQ2xvc2VkQ2FwdGlvbiBFcnJvcjpUR1cgbGVzcyBwYXJhXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNpemU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGR3V2luSUQgPSAwLCBiaXRWYWx1ZSA9IDE7XHJcbiAgICAgICAgICAgIHdoaWxlICg4ID4gZHdXaW5JRCl7XHJcbiAgICAgICAgICAgICAgICBpZiAoKEFyclsxXSAmIGJpdFZhbHVlKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIEN1cldpbiA9IHRoaXMuRmluZFdpbmRCeUlEKGR3V2luSUQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChDdXJXaW4pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDdXJXaW4uc2V0VmlzaWJsZSgoQ3VyV2luLnZpc2libGUgICsgMSklMik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYml0VmFsdWUgKj0gMjtcclxuICAgICAgICAgICAgICAgIGR3V2luSUQgKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDI7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcGFyc2VETFdDb2RlOiBmdW5jdGlvbiAoQXJyLCBzaXplKSB7XHJcbiAgICAgICAgICAgIGlmICgyID4gc2l6ZSl7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiRVJST1JcIiwgXCJDbG9zZWRDYXB0aW9uIEVycm9yOkRMVyBsZXNzIHBhcmFcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2l6ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgZHdXaW5JRCA9IDAsIGJpdFZhbHVlID0gMTtcclxuICAgICAgICAgICAgd2hpbGUgKDggPiBkd1dpbklEKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKEFyclsxXSAmIGJpdFZhbHVlKSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZHdXaW5JRCA9PSB0aGlzLkN1cnJXaW5kSUQpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndpbmRvd3NbdGhpcy5DdXJyV2luZElEXS5yZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLkN1cnJXaW5kSUQgPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iQ2xlYXJTY3JlZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJpdFZhbHVlICo9IDI7XHJcbiAgICAgICAgICAgICAgICBkd1dpbklEICsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAyO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHBhcnNlU1BBQ29kZTogZnVuY3Rpb24gKEFyciwgc2l6ZSkge1xyXG4gICAgICAgICAgICBpZiAoMyA+IHNpemUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJFUlJPUlwiLCBcIkNsb3NlZENhcHRpb24gRXJyb3I6U1BBIGxlc3MgcGFyYVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzaXplO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgIHZhciBDdXJXaW4gPSB0aGlzLkZpbmRXaW5kQnlJRCh0aGlzLkN1cnJXaW5kSUQpO1xyXG4gICAgICAgICAgICBpZiAoQ3VyV2luKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3QXJyID0gQXJyLnNsaWNlKDEpO1xyXG4gICAgICAgICAgICAgICAgQ3VyV2luLlNldFBlbkF0dGkoQ3VyV2luLnBlbkF0dHJpLCBuZXdBcnIsIChzaXplIC0gMSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAzO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHBhcnNlU1BDQ29kZTogZnVuY3Rpb24gKEFyciwgc2l6ZSkge1xyXG4gICAgICAgICAgICBpZiAoNCA+IHNpemUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJFUlJPUlwiLCBcIkNsb3NlZENhcHRpb24gRXJyb3I6U1BDIGxlc3MgcGFyYVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzaXplO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgIHZhciBjdXJXaW4gPSB0aGlzLkZpbmRXaW5kQnlJRCh0aGlzLkN1cnJXaW5kSUQpO1xyXG4gICAgICAgICAgICBpZiAoY3VyV2luKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3QXJyID0gQXJyLnNsaWNlKDEpO1xyXG4gICAgICAgICAgICAgICAgY3VyV2luLlNldFBlbkNvbG9yKGN1cldpbi5wZW5Db2xvciwgbmV3QXJyLCAoc2l6ZSAtIDEpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gNDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBwYXJzZVNQTENvZGU6IGZ1bmN0aW9uIChBcnIsIHNpemUpIHtcclxuICAgICAgICAgICAgaWYgKDIgPiBzaXplKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiRVJST1JcIiwgXCJDbG9zZWRDYXB0aW9uIEVycm9yOlNQTCBsZXNzIHBhcmFcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2l6ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGN1cldpbmQgPSB0aGlzLkZpbmRXaW5kQnlJRCh0aGlzLkN1cnJXaW5kSUQpO1xyXG4gICAgICAgICAgICBpZiAoIWN1cldpbmQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzaXplID4gMiA/IDMgOiAyO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgbldpbmRvd1RvcE5vID0gVHJhbnNsYXRlUG9zVG9Sb3dObyhjdXJXaW5kLmdldFJlY3RJbmZvKCkuUmVjdC5Ub3ApO1xyXG4gICAgICAgICAgICB2YXIgbkN1clJlbFJvdyA9IFI0QjMoQXJyWzFdKTtcclxuICAgICAgICAgICAgY3VyV2luZC5zZXRDdXJyUm93KG5XaW5kb3dUb3BObyArIG5DdXJSZWxSb3cpO1xyXG4gICAgICAgICAgICB2YXIgY29sTm8gPSAwO1xyXG4gICAgICAgICAgICBpZiAoMiA8IHNpemUpXHJcbiAgICAgICAgICAgICAgICBjb2xObyA9IFI2QjUoQXJyWzJdKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjdXJSb3cgPSBjdXJXaW5kLmdldEN1cnJSb3coKTtcclxuICAgICAgICAgICAgaWYgKGN1cldpbmQuaXNSb3dWYWxpZChjdXJSb3cpKXtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJXaW5kLnJvd1RleHRJbmZvc1tjdXJSb3ddLnBvcyA+IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cldpbmQucm93VGV4dEluZm9zW2N1clJvd10ubW92ZUFic0N1cnNvcihjb2xObyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgY3VyV2luZC5yb3dUZXh0SW5mb3NbY3VyUm93XS5zZXRDdXJzb3IoY29sTm8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1cldpbmQuVXBkYXRlV2luZEluZm8oZmFsc2UpO1xyXG4gICAgICAgICAgICByZXR1cm4gKHNpemUgPiAyKSA/IDMgOiAyO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHBhcnNlU1dBQ29kZTogZnVuY3Rpb24gKEFyciwgc2l6ZSkge1xyXG4gICAgICAgICAgICBpZiAoNSA+IHNpemUpe1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkVSUk9SXCIsIFwiQ2xvc2VkQ2FwdGlvbiBFcnJvcjpTV0EgbGVzcyBwYXJhXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNpemU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGN1cldpbmQgPSB0aGlzLkZpbmRXaW5kQnlJRCh0aGlzLkN1cnJXaW5kSUQpO1xyXG4gICAgICAgICAgICBpZiAoY3VyV2luZClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld0FyciA9IEFyci5zbGljZSgxKTtcclxuICAgICAgICAgICAgICAgIGN1cldpbmQuU2V0V2luZG93QXR0cmkoY3VyV2luZC53aW5kQXR0cmksIG5ld0FyciwgKHNpemUgLSAxKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDU7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcGFyc2VTdGFuZGFyZENoYXI6IGZ1bmN0aW9uIChjaGFyLCBzaXplLCBFeHRDb2RlKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJJTkZPXCIsIFwiW3BhcnNlU3RhbmRhcmRDaGFyXSBieXRlOlwiICsgY2hhci50b1N0cmluZygxNikgK1wiKFwiICsgY2hhciArIFwiKVwiICsgXCIsIHNpemU6XCIgKyBzaXplICtcclxuICAgICAgICAgICAgXCIsIEV4dENvZGU6XCIgKyBFeHRDb2RlICsgXCIsIGN1cldpbmRJRDpcIiArIHRoaXMuQ3VycldpbmRJRCk7XHJcbiAgICAgICAgICAgIHZhciBuVW5pQ29kZSA9IGNoYXIsXHJcbiAgICAgICAgICAgICAgICBjaGFyQ29kZXMgPSBudWxsO1xyXG4gICAgICAgICAgIGlmIChFeHRDb2RlKXtcclxuICAgICAgICAgICAgICAgIHZhciBuU3BlQ2hhckNudCA9IDA7XHJcbiAgICAgICAgICAgICAgICBmb3IgKDtuU3BlQ2hhckNudCA8IENPVU5UX0cyRzNfQ0hBUkFDVEVSO25TcGVDaGFyQ250Kyspe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKG5VbmlDb2RlID09IEV4dGVuZGVkRzJHM0NvZGVNYXBbblNwZUNoYXJDbnRdWzBdKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgblVuaUNvZGUgPSBFeHRlbmRlZEcyRzNDb2RlTWFwW25TcGVDaGFyQ250XVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKENPVU5UX0cyRzNfQ0hBUkFDVEVSID09IG5TcGVDaGFyQ250KXtcclxuICAgICAgICAgICAgICAgICAgICBuVW5pQ29kZSA9IDB4NUY7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoblVuaUNvZGUgPT0gMHg3Ril7XHJcbiAgICAgICAgICAgICAgICBuVW5pQ29kZSA9IDB4MjY2QTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjaGFyQ29kZXMgPSBbblVuaUNvZGVdO1xyXG4gICAgICAgICAgICBpZihjaGFyQ29kZXMpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGhleENvZGVzID0gbnVtQXJyYXlUb0hleEFycmF5KGNoYXJDb2Rlcyk7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiREVCVUdcIiwgXCI3MDggQ2hhciBjb2RlcyA9ICBcIiArIGhleENvZGVzLmpvaW4oXCIsXCIpICk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuQ3VycldpbmRJRCA+PTApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgd2luZCA9IHRoaXMuRmluZFdpbmRCeUlEKHRoaXMuQ3VycldpbmRJRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYod2luZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKC0xID09PSB3aW5kLmdldEN1cnJSb3coKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVjdEluZm8gPSB3aW5kLmdldFJlY3RJbmZvKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihyZWN0SW5mbyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdpbmRUb3AgPSBUcmFuc2xhdGVQb3NUb1Jvd05vKHJlY3RJbmZvLlJlY3QuVG9wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kLnNldEN1cnJSb3cod2luZFRvcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZC5zZXRBZGp1c3RSb3dGbGFnKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmQuaW5zZXJ0Q2hhcnMoY2hhckNvZGVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzLm91dHB1dERhdGFVcGRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJXQVJOSU5HXCIsIFwiTm8gd2luZG93IGZvdW5kIHlldC5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIHZhciBzZXJ2aWNlRGF0YSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnNlckRhdGEgPSBbXTtcclxuICAgICAgICB0aGlzLnNlckRhdGFTaXplID0gMDtcclxuICAgIH07XHJcbiAgICBzZXJ2aWNlRGF0YS5wcm90b3R5cGUgPSB7XHJcbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXJEYXRhU2l6ZSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuc2VyRGF0YSA9IFtdO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2F2ZVNlckRhdGU6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VyRGF0YSA9IHRoaXMuc2VyRGF0YS5jb25jYXQoZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgQ2VhNzA4U2VydmljZUJsb2NrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuYWxsc2VyRGF0YVNpemUgPSAwO1xyXG4gICAgICAgIHRoaXMuc2VyRGF0YSA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IENDX01BWF9TRVJWSUNFX05VTTsgaSArKyl7XHJcbiAgICAgICAgICAgIHRoaXMuc2VyRGF0YVtpXSA9IG5ldyBzZXJ2aWNlRGF0YSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgQ2VhNzA4U2VydmljZUJsb2NrLnByb3RvdHlwZSA9IHtcclxuICAgICAgICByZXNldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IHRoaXMuc2VyRGF0YS5sZW5ndGg7IGkgKyspe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXJEYXRhW2ldLnJlc2V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5hbGxzZXJEYXRhU2l6ZSA9IDA7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZXh0cmFjdENlYTcwOERhdGFGcm9tU2VydmljZTogZnVuY3Rpb24gKHNlcnZpY2VEYXRhLCBsZW4pIHtcclxuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xyXG4gICAgICAgICAgICB2YXIgdG1wU2l6ZSA9IGxlbjtcclxuICAgICAgICAgICAgdmFyIHRtcERhdGFJbmRleCA9IDA7XHJcbiAgICAgICAgICAgIHdoaWxlICh0bXBTaXplID4gMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlcnZpY2VObyA9IFIzQjcoc2VydmljZURhdGFbdG1wRGF0YUluZGV4XSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYmxvY2tTaXplID0gUjVCNChzZXJ2aWNlRGF0YVt0bXBEYXRhSW5kZXhdKTtcclxuICAgICAgICAgICAgICAgIHRtcFNpemUgLS07XHJcbiAgICAgICAgICAgICAgICB0bXBEYXRhSW5kZXggKys7XHJcbiAgICAgICAgICAgICAgICBpZiAoIDAgPT09IHNlcnZpY2VObylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoMCAhPT0gYmxvY2tTaXplKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkVSUk9SXCIsIFwiW2V4dHJhY3RDZWE3MDhEYXRhRnJvbVNlcnZpY2VdIEVycm9yOnNlcnZpY2VObyBpcyAwLGJ1dCBibG9ja1NpemUgaXMgbm90IDBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAgdGhpcy5hbGxzZXJEYXRhU2l6ZTsvLy88b25jZSBOVUxMIHNlcnZpY2UgYmxvY2ssdGhlcmUgYXJlIG5vIG1vcmUgc2VydmljZSBibG9jayBuZWVkIHRvIGJlIHByb2Nlc3NlZFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKDcgPT0gc2VydmljZU5vICYmIDAgPCBibG9ja1NpemUpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VydmljZU5vID0gUjZCNShzZXJ2aWNlRGF0YVt0bXBEYXRhSW5kZXhdKTtcclxuICAgICAgICAgICAgICAgICAgICB0bXBTaXplIC0tO1xyXG4gICAgICAgICAgICAgICAgICAgIHRtcERhdGFJbmRleCArKztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoYmxvY2tTaXplID4gKGxlbiAtIHRtcERhdGFJbmRleCkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmxvY2tTaXplID0gbGVuIC0gdG1wRGF0YUluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJERUJVR1wiLCBcIltleHRyYWN0Q2VhNzA4RGF0YUZyb21TZXJ2aWNlXSBTZXJ2aWNlQmxvY2sgUGFja2V0IHNpemUgYmlnZ2VyIHRoYW4gbkJsb2NrU2l6ZVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFsbHNlckRhdGFTaXplICsgYmxvY2tTaXplID4gQ0NfTUFYX1NFUlZJQ0VfQkxPQ0tfU0laRSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiREVCVUdcIiwgXCJbZXh0cmFjdENlYTcwOERhdGFGcm9tU2VydmljZV0gU2VydmljZUJsb2NrIFBhY2tldCBPdXQgb2YgTWVtb3J5XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrU2l6ZSA9IDYzIC0gdGhpcy5hbGxzZXJEYXRhU2l6ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciB0bXBCdWZmZXIgPSBzZXJ2aWNlRGF0YS5zbGljZSh0bXBEYXRhSW5kZXgsIGJsb2NrU2l6ZSArIHRtcERhdGFJbmRleCk7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLnNlckRhdGFbc2VydmljZU5vXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXJEYXRhW3NlcnZpY2VOb10uc2F2ZVNlckRhdGUodG1wQnVmZmVyKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlckRhdGFbc2VydmljZU5vXS5zZXJEYXRhU2l6ZSArPSBibG9ja1NpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGxzZXJEYXRhU2l6ZSArPSBibG9ja1NpemU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdG1wRGF0YUluZGV4ICs9IGJsb2NrU2l6ZTtcclxuICAgICAgICAgICAgICAgIHRtcFNpemUgLT0gYmxvY2tTaXplO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFsbHNlckRhdGFTaXplO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIENlYTcwOFBhY2tldFBhcnNlciA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdGhpcy5zZXFObyA9IC0xO1xyXG4gICAgICAgIHRoaXMucGFja2V0U2l6ZSA9IDA7XHJcbiAgICAgICAgdGhpcy5zZXJ2aWNlQmxvY2sgPSBuZXcgQ2VhNzA4U2VydmljZUJsb2NrKCk7XHJcbiAgICAgICAgdGhpcy5sYXN0U2VxTm8gPSAtMTtcclxuICAgICAgICB0aGlzLnNlck5vU2V0dGluZyA9IDE7XHJcbiAgICB9O1xyXG5cclxuICAgIENlYTcwOFBhY2tldFBhcnNlci5wcm90b3R5cGUgPSB7XHJcbiAgICAgIHJlc2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICB0aGlzLnNlcU5vID0gLTE7XHJcbiAgICAgICAgICB0aGlzLnBhY2tldFNpemUgPSAwO1xyXG4gICAgICAgICAgdGhpcy5zZXJ2aWNlQmxvay5yZXNldCgpO1xyXG4gICAgICAgICAgdGhpcy5sYXN0U2VxTm8gPSAtMTtcclxuICAgICAgICAgIHRoaXMuc2VyTm9TZXR0aW5nID0gMTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGV4dHJhY3RDZWE3MDhEYXRhRnJvbVBhY2tldDogZnVuY3Rpb24oY2NEYXRhKXtcclxuICAgICAgICAgIHRoaXMuc2VxTm8gPSBSMkI3KGNjRGF0YVswXSk7XHJcbiAgICAgICAgICBpZiAodGhpcy5sYXN0U2VxTm8gIT0gLTEgJiYgdGhpcy5zZXFObyAhPSAodGhpcy5sYXN0U2VxTm8gKyAxKSU0KVxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJERUJVR1wiLCBcIltleHRyYWN0Q2VhNzA4RGF0YUZyb21QYWNrZXRdIEVycm9yOkRUVkNDQ2FwdGlvbiBQYWNrZXQgbG9zdC5cIiArXHJcbiAgICAgICAgICAgICAgXCIgbGFzdFNlcU5vOiBcIiArIHRoaXMubGFzdFNlcU5vICsgXCIgU2VxTm86IFwiICsgdGhpcy5zZXFObyk7Ly8vPHdlIHNob3VsZCBhZGQgcGFja2V0IGxvc3QgaGFuZGxlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmxhc3RTZXFObyA9IHRoaXMuc2VxTm87XHJcbiAgICAgICAgICB0aGlzLnBhY2tldFNpemUgPSBSNkI1KGNjRGF0YVswXSk7XHJcbiAgICAgICAgICBpZiAoIXRoaXMucGFja2V0U2l6ZSlcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB0aGlzLnBhY2tldFNpemUgPSAxMjg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdGhpcy5wYWNrZXRTaXplID0gdGhpcy5wYWNrZXRTaXplKjIgLSAxO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHRoaXMucGFja2V0U2l6ZSA+IGNjRGF0YS5sZW5ndGggLSAxKVxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHRoaXMucGFja2V0U2l6ZSA9IGNjRGF0YS5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJERUJVR1wiLCBcIltleHRyYWN0Q2VhNzA4RGF0YUZyb21QYWNrZXRdIEVycm9yOkRUVkNDQ2FwdGlvbiBQYWNrZXQgc2l6ZSBiaWdnZXIgdGhhbiBuUGFja2V0U2l6ZVwiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHZhciB0bXBEYXRhID0gY2NEYXRhLnNsaWNlKDEpO1xyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuc2VydmljZUJsb2NrLmV4dHJhY3RDZWE3MDhEYXRhRnJvbVNlcnZpY2UodG1wRGF0YSwgdGhpcy5wYWNrZXRTaXplKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgZXhwb3J0cy5sb2dnZXIgPSBsb2dnZXI7XHJcbiAgICBleHBvcnRzLkNlYTcwOHBhcnNlciA9IENlYTcwOHBhcnNlcjtcclxuICAgIGV4cG9ydHMuQ2VhNzA4UGFja2V0UGFyc2VyID0gQ2VhNzA4UGFja2V0UGFyc2VyO1xyXG4gICAgZXhwb3J0cy5zZXRSZWN0UG9zID0gc2V0UmVjdFBvcztcclxuICAgIGV4cG9ydHMuUmVjdFBvcyA9IFJlY3RQb3M7XHJcbn0odHlwZW9mIGV4cG9ydHMgPT09ICd1bmRlZmluZWQnID8gdGhpcy5jZWE3MDhwYXJzZXIgPSB7fSA6IGV4cG9ydHMpKTtcclxuIiwiLy9pbXBvcnQgY2VhNjA4cGFyc2VyIGZyb20gJ2NlYTYwOC1wYXJzZXInO1xyXG4vL2ltcG9ydCBjZWE3MDhwYXJzZXIgZnJvbSAnY2VhNzA4LXBhcnNlcic7XHJcbi8vaW1wb3J0IGNlYTYwOHBhcnNlciBmcm9tICdFOi94YW1wcC9odGRvY3MvZGFzaC5qcy9leHRlcm5hbHMvY2VhNjA4LXBhcnNlcic7XHJcbi8vaW1wb3J0IGNlYTYwOHBhcnNlciBmcm9tICcuL2NlYTYwOC1wYXJzZXInO1xyXG52YXIgY2VhNjA4UGFyc2VyID0gcmVxdWlyZSgnLi9jZWE2MDgtcGFyc2VyJyk7XHJcbnZhciBjZWE3MDhQYXJzZXIgPSByZXF1aXJlKCcuL2NlYTcwOC1wYXJzZXInKTtcclxuLy92YXIgY2VhNzA4UGFyc2VyID0gcmVxdWlyZSgnLi9jZWE3MDgtcGFyc2VyIC0gdjEnKTtcclxuKGZ1bmN0aW9uIChleHBvcnRzKSB7XHJcblxyXG4gICAgLy8gaWYodHlwZW9mIGNjX1R5cGUgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgIC8vICAgICB2YXIgY2NfVHlwZSA9IHtcclxuICAgIC8vICAgICAgICAgQ0VBX05PNzA4QU5ENjA4OiAweDAwLFxyXG4gICAgLy8gICAgICAgICBDRUFfNjA4OiAweDAyLFxyXG4gICAgLy8gICAgICAgICBDRUFfNzA4OiAweDA0LFxyXG4gICAgLy8gICAgICAgICBDRUFfNzA4QU5ENjA4OiAweDA2XHJcbiAgICAvLyAgICAgfTtcclxuICAgIC8vIH1cclxuICAgIC8vXHJcbiAgICAvLyBpZih0eXBlb2YgY2FwdGlvbl9UeXBlID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAvLyAgICAgdmFyIGNhcHRpb25fVHlwZSA9IHtcclxuICAgIC8vICAgICAgICAgVk9fQ0FQVElPTl9UWVBFX0VJQTYwODogMCxcclxuICAgIC8vICAgICAgICAgVk9fQ0FQVElPTl9UWVBFX0VJQTcwODogMSxcclxuICAgIC8vICAgICAgICAgVk9fQ0FQVElPTl9UWVBFX0RFRkFVTFRfNjA4OiAyLFxyXG4gICAgLy8gICAgICAgICBWT19DQVBUSU9OX1RZUEVfREVGQVVMVF83MDg6IDMsXHJcbiAgICAvLyAgICAgICAgIFZPX0NBUFRJT05fVFlQRV9BUklCOiA0XHJcbiAgICAvLyAgICAgfTtcclxuICAgIC8vIH1cclxuICAgIHZhciBDRUFfTk83MDhBTkQ2MDggPSAweDAwLFxyXG4gICAgICAgIENFQV82MDggPSAweDAyLFxyXG4gICAgICAgIENFQV83MDggPSAweDA0LFxyXG4gICAgICAgIENFQV83MDhBTkQ2MDggPSAweDA2LFxyXG5cclxuICAgICAgICBWT19DQVBUSU9OX1RZUEVfRUlBNjA4ID0gMCxcclxuICAgICAgICBWT19DQVBUSU9OX1RZUEVfRUlBNzA4ID0gMSxcclxuICAgICAgICBWT19DQVBUSU9OX1RZUEVfREVGQVVMVF82MDggPSAyLFxyXG4gICAgICAgIFZPX0NBUFRJT05fVFlQRV9ERUZBVUxUXzcwOCA9IDM7XHJcbiAgICAgICAgLy9WT19DQVBUSU9OX1RZUEVfQVJJQiA9IDQ7XHJcblxyXG4gICAgdmFyIElOVkFMSURfNjA4Q0NfVkFMVUUgPSAweDgwO1xyXG4gICAgICAgLy8gTUFYX0ZJRUxEX05VTSA9IDI7XHJcblxyXG4gICAgdmFyIGxvZ2dlciA9IHtcclxuICAgICAgICB2ZXJib3NlRmlsdGVyIDogeydEQVRBJyA6IDMsICdERUJVRycgOiAzLCAnSU5GTycgOiAyLCAnV0FSTklORycgOiAyLCAnVEVYVCcgOiAxLCAnRVJST1InIDogMH0sXHJcbiAgICAgICAgdGltZSA6IG51bGwsXHJcbiAgICAgICAgdmVyYm9zZUxldmVsIDogMCwgLy8gT25seSB3cml0ZSBlcnJvcnNcclxuICAgICAgICBzZXRUaW1lIDogZnVuY3Rpb24obmV3VGltZSkge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWUgPSBuZXdUaW1lO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbG9nIDogZnVuY3Rpb24oc2V2ZXJpdHksIG1zZykge1xyXG4gICAgICAgICAgICB2YXIgbWluTGV2ZWwgPSB0aGlzLnZlcmJvc2VGaWx0ZXJbc2V2ZXJpdHldO1xyXG4gICAgICAgICAgICBpZiAodGhpcy52ZXJib3NlTGV2ZWwgPj0gbWluTGV2ZWwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudGltZSArIFwiIFtcIiArIHNldmVyaXR5ICsgXCJdIFwiICsgbXNnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0TG9nTGV2ZWw6IGZ1bmN0aW9uIChsZXZlbCkge1xyXG4gICAgICAgICAgICB0aGlzLnZlcmJvc2VMZXZlbCA9IGxldmVsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy92YXIgbnVtQXJyYXlUb0hleEFycmF5ID0gZnVuY3Rpb24obnVtQXJyYXkpIHtcclxuICAgIC8vICAgIHZhciBoZXhBcnJheSA9IFtdO1xyXG4gICAgLy8gICAgZm9yICh2YXIgaiA9IDA7IGogPCBudW1BcnJheS5sZW5ndGg7IGorKykge1xyXG4gICAgLy8gICAgICAgIGhleEFycmF5LnB1c2gobnVtQXJyYXlbal0udG9TdHJpbmcoMTYpKTtcclxuICAgIC8vICAgIH1cclxuICAgIC8vICAgIHJldHVybiBoZXhBcnJheTtcclxuICAgIC8vfTtcclxuXHJcbiAgICB2YXIgY2NQYXJzZXJUeXBlID0gQ0VBX05PNzA4QU5ENjA4LFxyXG4gICAgICAgIGFsbENDVHlwZSA9IENFQV9OTzcwOEFORDYwODtcclxuXHJcblxyXG4gICAgdmFyIGNlYVBhcnNlck1hbmFnZXIgPSAgZnVuY3Rpb24odHJhY2tJRCwgb3V0MSwgb3V0Mikge1xyXG4gICAgICAgIHRoaXMudHJhY2tJRCA9IHRyYWNrSUQ7XHJcbiAgICAgICAgdGhpcy5vdXRwdXRzID0gW291dDEsIG91dDJdO1xyXG4gICAgICAgIHRoaXMuY2VhUGFyc2VyVHlwZSA9IFZPX0NBUFRJT05fVFlQRV9FSUE2MDg7XHJcbiAgICAgICAgdGhpcy5jZWFQYXJzZXIgPSBudWxsO1xyXG4gICAgfTtcclxuXHJcbiAgICBjZWFQYXJzZXJNYW5hZ2VyLnByb3RvdHlwZSA9IHtcclxuICAgICAgICByZXNldDpmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2VhUGFyc2VyVHlwZSA9IFZPX0NBUFRJT05fVFlQRV9FSUE2MDg7XHJcbiAgICAgICAgICAgIHRoaXMuY2VhUGFyc2VyLnJlc2V0KCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZ2V0SGFuZGxlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jZWFQYXJzZXIuZ2V0SGFuZGxlcigpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldEhhbmRsZXI6IGZ1bmN0aW9uIChuZXdIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2VhUGFyc2VyLnNldEhhbmRsZXIobmV3SGFuZGxlcik7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0Q2VhUGFyc2VyVHlwZTogZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICAgICAgaWYodGhpcy5jZWFQYXJzZXJUeXBlICE9IHR5cGUpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jZWFQYXJzZXJUeXBlID0gdHlwZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiSU5GT1wiLCBcInNldENlYVBhcnNlclR5cGVcIiArIFwiIHRoaXMuY2VhUGFyc2VyVHlwZTpcIiArIHRoaXMuY2VhUGFyc2VyVHlwZSArXHJcbiAgICAgICAgICAgIC8vXCIgY2NQYXJzZXJUeXBlOlwiICsgdHlwZSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgQ3JlYXRlQ2VhUGFyc2VyOmZ1bmN0aW9uICh0cmFja0lELCBvdXQxLCBvdXQyKSB7XHJcbiAgICAgICAgICAgIGlmICgnNjA4XzEnID09IHRyYWNrSUQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2VhUGFyc2VyPSBuZXcgY2VhNjA4UGFyc2VyLkNlYTYwOFBhcnNlcigwLCBvdXQxLCBvdXQyKTtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jZWFQYXJzZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vZGlzYWJsZSBvdXRwdXQgdGhlIGxvZyBtZXNzYWdlIGV4Y2VwdCB0aGUgZXJyb3IgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgY2VhNjA4UGFyc2VyLmxvZ2dlci5zZXRMb2dMZXZlbCgwKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICgnNjA4XzMnID09IHRyYWNrSUQpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jZWFQYXJzZXIgPSBuZXcgY2VhNjA4UGFyc2VyLkNlYTYwOFBhcnNlcigxLCBvdXQxLCBvdXQyKTtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jZWFQYXJzZXIpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgLy8gY2VhNjA4UGFyc2VyLmxvZ2dlci5zZXRMb2dMZXZlbCgzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2VhUGFyc2VyID0gbmV3IGNlYTcwOFBhcnNlci5DZWE3MDhwYXJzZXIob3V0MSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2VhUGFyc2VyKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL2Rpc2FibGUgb3V0cHV0IHRoZSBsb2cgbWVzc2FnZSBleGNlcHQgdGhlIGVycm9yIG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgIGNlYTcwOFBhcnNlci5sb2dnZXIuc2V0TG9nTGV2ZWwoMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgYWRkRGF0YTpmdW5jdGlvbiAodCwgYnl0ZUxpc3QpIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcImNlYVBhcnNlck1hbmFnZXIgYWRkRGF0YSB0cmFja0lEOlwiICsgdGhpcy50cmFja0lEICtcclxuICAgICAgICAgICAgLy8gICAgXCIsYnl0ZTpcIiArIG51bUFycmF5VG9IZXhBcnJheShieXRlTGlzdCkuam9pbihcIixcIikpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLmNlYVBhcnNlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5DcmVhdGVDZWFQYXJzZXIodGhpcy50cmFja0lELCB0aGlzLm91dHB1dHNbMF0sIHRoaXMub3V0cHV0c1sxXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuY2VhUGFyc2VyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNlYVBhcnNlci5hZGREYXRhKHQsIGJ5dGVMaXN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGN1ZVNwbGl0QXRUaW1lIDogZnVuY3Rpb24odCl7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNlYVBhcnNlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jZWFQYXJzZXIuY3VlU3BsaXRBdFRpbWUodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRmluZCByYW5nZXMgY29ycmVzcG9uZGluZyB0byBTRUEgQ0VBLTYwOCBOQUxVUyBpbiBzaXplcHJlcGVuZGVkIE5BTFUgYXJyYXkuXHJcbiAgICAgKiBAcGFyYW0ge3Jhd30gZGF0YVZpZXcgb2YgYmluYXJ5IGRhdGFcclxuICAgICAqIEBwYXJhbSB7c3RhcnRQb3N9IHN0YXJ0IHBvc2l0aW9uIGluIHJhd1xyXG4gICAgICogQHBhcmFtIHtzaXplfSB0b3RhbCBzaXplIG9mIGRhdGEgaW4gcmF3IHRvIGNvbnNpZGVyXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICB2YXIgZmluZENlYU5hbHVzID0gZnVuY3Rpb24gKHJhdywgc3RhcnRQb3MsIHNpemUpIHtcclxuICAgICAgICB2YXIgbmFsU2l6ZSA9IDAsXHJcbiAgICAgICAgICAgIGN1cnNvciA9IHN0YXJ0UG9zLFxyXG4gICAgICAgICAgICBuYWxUeXBlID0gMCxcclxuICAgICAgICAgICAgY2VhNjA4TmFsdVJhbmdlcyA9IFtdLFxyXG4gICAgICAgICAgICAvLyBDaGVjayBTRUkgZGF0YSBhY2NvcmRpbmcgdG8gQU5TSS1TQ1RFIDEyOFxyXG4gICAgICAgICAgICBpc0NFQTYwOFNFSSA9IGZ1bmN0aW9uIChwYXlsb2FkVHlwZSwgcGF5bG9hZFNpemUsIHJhdywgcG9zKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGF5bG9hZFR5cGUgIT09IDQgfHwgcGF5bG9hZFNpemUgPCA4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgY291bnRyeUNvZGUgPSByYXcuZ2V0VWludDgocG9zKTtcclxuICAgICAgICAgICAgICAgIHZhciBwcm92aWRlckNvZGUgPSByYXcuZ2V0VWludDE2KHBvcyArIDEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHVzZXJJZGVudGlmaWVyID0gcmF3LmdldFVpbnQzMihwb3MgKyAzKTtcclxuICAgICAgICAgICAgICAgIHZhciB1c2VyRGF0YVR5cGVDb2RlID0gcmF3LmdldFVpbnQ4KHBvcyArIDcpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50cnlDb2RlID09IDB4QjUgJiYgcHJvdmlkZXJDb2RlID09IDB4MzEgJiYgdXNlcklkZW50aWZpZXIgPT0gMHg0NzQxMzkzNCAmJiB1c2VyRGF0YVR5cGVDb2RlID09IDB4MztcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB3aGlsZSAoY3Vyc29yIDwgc3RhcnRQb3MgKyBzaXplKSB7XHJcbiAgICAgICAgICAgIG5hbFNpemUgPSByYXcuZ2V0VWludDMyKGN1cnNvcik7XHJcbiAgICAgICAgICAgIG5hbFR5cGUgPSByYXcuZ2V0VWludDgoY3Vyc29yICsgNCkgJiAweDFGO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRpbWUgKyBcIiAgTkFMIFwiICsgbmFsVHlwZSk7XHJcbiAgICAgICAgICAgIGlmIChuYWxUeXBlID09PSA2KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTRUkgTkFMIFVuaXQuIFRoZSBOQUwgaGVhZGVyIGlzIHRoZSBmaXJzdCBieXRlXHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiU0VJIE5BTFUgb2Ygc2l6ZSBcIiArIG5hbFNpemUgKyBcIiBjdXJzb3I6XCIgKyBjdXJzb3IpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvcyA9IGN1cnNvciArIDU7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGF5bG9hZFR5cGUgPSAtMTtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChwb3MgPCBjdXJzb3IgKyA0ICsgbmFsU2l6ZSAtIDEpIHsgLy8gVGhlIGxhc3QgYnl0ZSBzaG91bGQgYmUgcmJzcF90cmFpbGluZ19iaXRzXHJcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZFR5cGUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBiID0gMHhGRjtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoYiA9PT0gMHhGRikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiID0gcmF3LmdldFVpbnQ4KHBvcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWRUeXBlICs9IGI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcysrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGF5bG9hZFNpemUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGIgPSAweEZGO1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChiID09PSAweEZGKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGIgPSByYXcuZ2V0VWludDgocG9zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZFNpemUgKz0gYjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0NFQTYwOFNFSShwYXlsb2FkVHlwZSwgcGF5bG9hZFNpemUsIHJhdywgcG9zKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiQ0VBNjA4IFNFSSBcIiArIHRpbWUgKyBcIiBcIiArIHBheWxvYWRTaXplKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJbZmluZENlYU5hbHVzXSBwb3M6JWQsIHBheWxvYWRzaXplOiVkLCBuYWxUeXBlOiVkLCBuYWxTaXplOiVkLCBjdXJzb3I6JWRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHBvcywgcGF5bG9hZFNpemUsIG5hbFR5cGUsIG5hbFNpemUsIGN1cnNvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiIG5hbCBkYXRhOlwiICsgcmF3LmdldFVpbnQ4KGN1cnNvcikudG9TdHJpbmcoMTYpLCByYXcuZ2V0VWludDgoY3Vyc29yICsgMSkudG9TdHJpbmcoMTYpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgcmF3LmdldFVpbnQ4KGN1cnNvciArIDIpLnRvU3RyaW5nKDE2KSxyYXcuZ2V0VWludDgoY3Vyc29yICsgMykudG9TdHJpbmcoMTYpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByYXcuZ2V0VWludDgoY3Vyc29yICsgNCkudG9TdHJpbmcoMTYpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9yZW1vdmUgdGhlIDggYnl0ZSB1c2VyRGF0YVR5cGVDb2RlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlYTYwOE5hbHVSYW5nZXMucHVzaChbKHBvcyArIDgpLCAocGF5bG9hZFNpemUgLSA4KV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBwb3MgKz0gcGF5bG9hZFNpemU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3Vyc29yICs9IG5hbFNpemUgKyA0O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2VhNjA4TmFsdVJhbmdlcztcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHBhY2tldERhdGEgPSBbXTtcclxuICAgIHZhciBwYWNrZXRQYXJzZXIgPSBuZXcgY2VhNzA4UGFyc2VyLkNlYTcwOFBhY2tldFBhcnNlcigpO1xyXG4gICAgdmFyIGV4dHJhY3RDZWFEYXRhRnJvbVJhbmdlID0gZnVuY3Rpb24ocmF3LCBjZWE2MDhSYW5nZSkge1xyXG4gICAgICAgIHZhciBwb3MgPSBjZWE2MDhSYW5nZVswXTtcclxuICAgICAgICB2YXIgZmllbGREYXRhID0gW1tdLCBbXSwgW10sIFtdLCBbXSwgW10sIFtdLCBbXV0sXHJcbiAgICAgICAgICAgIGlzVmFsaWQ2MDhEYXRhID0gZnVuY3Rpb24odmFsaWQsIGRhdGExLCBkYXRhMiwgY2NUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoMCA9PT0gdmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZigoMCAhPT0gY2NUeXBlKSAmJiAoMSAhPT0gY2NUeXBlKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCgoSU5WQUxJRF82MDhDQ19WQUxVRSA9PSBkYXRhMSkgJiYgKElOVkFMSURfNjA4Q0NfVkFMVUUgPT0gZGF0YTIpKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICgoMHgwID09PSBkYXRhMSkgJiYgKDB4MCA9PT0gZGF0YTIpKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICgoZGF0YTEgJiAweDdmKSArIChkYXRhMiAmIDB4N2YpID09PSAwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgaXNWYWxpZDcwOERhdGEgPSBmdW5jdGlvbih2YWxpZCwgZGF0YTEsIGRhdGEyLCBjY1R5cGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICgwID09PSB2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKCgyICE9PSBjY1R5cGUpICYmICgzICE9PSBjY1R5cGUpKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKDB4MCA9PT0gZGF0YTEpICYmICgweDAgPT09IGRhdGEyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB3aGF0Q0NEYXRhVHlwZUhhdmUgPSBmdW5jdGlvbiAodHlwZSwgY2NUeXBlLCBjY1ZhbGlkLCBkYXRhMSwgZGF0YTIpIHtcclxuICAgICAgICAgICAgICAgIGlmKGlzVmFsaWQ2MDhEYXRhKGNjVmFsaWQsIGRhdGExLCBkYXRhMiwgY2NUeXBlKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh0eXBlIHwgQ0VBXzYwOCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoaXNWYWxpZDcwOERhdGEoY2NWYWxpZCwgZGF0YTEsIGRhdGEyLCBjY1R5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh0eXBlIHwgQ0VBXzcwOCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldFBhcnNlclR5cGUgPSBmdW5jdGlvbih0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwic2V0UGFyc2VyVHlwZSB0eXBlOiVkXCIsIHR5cGUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGI2MDhWYWxpZCA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGI3MDhWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDRUFfTk83MDhBTkQ2MDg6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYjYwOFZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGI3MDhWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDRUFfNzA4OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGI3MDhWYWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIENFQV82MDg6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYjYwOFZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ0VBXzcwOEFORDYwODoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiNjA4VmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiNzA4VmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiNjA4VmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYjcwOFZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWI2MDhWYWxpZCAmJiAhYjcwOFZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNjUGFyc2VyVHlwZSA9PSBWT19DQVBUSU9OX1RZUEVfRUlBNjA4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGI3MDhWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjY1BhcnNlclR5cGUgPSBWT19DQVBUSU9OX1RZUEVfRUlBNzA4O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNjUGFyc2VyVHlwZSA9PSBWT19DQVBUSU9OX1RZUEVfRUlBNzA4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFiNzA4VmFsaWQgJiYgYjYwOFZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjUGFyc2VyVHlwZSA9IFZPX0NBUFRJT05fVFlQRV9FSUE2MDg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2NQYXJzZXJUeXBlID09IFZPX0NBUFRJT05fVFlQRV9ERUZBVUxUXzYwOCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChiNjA4VmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2NQYXJzZXJUeXBlID0gVk9fQ0FQVElPTl9UWVBFX0VJQTYwODtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjY1BhcnNlclR5cGUgPSBWT19DQVBUSU9OX1RZUEVfRUlBNzA4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2NQYXJzZXJUeXBlID09IFZPX0NBUFRJT05fVFlQRV9ERUZBVUxUXzcwOCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChiNzA4VmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2NQYXJzZXJUeXBlID0gVk9fQ0FQVElPTl9UWVBFX0VJQTcwODtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjY1BhcnNlclR5cGUgPSBWT19DQVBUSU9OX1RZUEVfRUlBNjA4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBDaGVja0NDRGF0YVR5cGUgPSBmdW5jdGlvbih0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYWxsQ0NUeXBlICE9IHR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoQ0VBXzcwOEFORDYwOCAhPSBhbGxDQ1R5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsQ0NUeXBlID0gYWxsQ0NUeXBlIHwgdHlwZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiW0NoZWNrQ0NEYXRhVHlwZV0gYWxsQ0NUeXBlOiVkLCB0eXBlOiVkXCIsIGFsbENDVHlwZSwgdHlwZSk7XHJcbiAgICAgICAgICAgICAgICBzZXRQYXJzZXJUeXBlKGFsbENDVHlwZSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlc2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcGFja2V0RGF0YSA9IFtdO1xyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgaXM3MDhFbmQgPSBmdW5jdGlvbiAobGVuLCBjY1R5cGUsIGNjVmFsaWQpIHtcclxuICAgICAgICAgICAgaWYgKChsZW4gPiAwKSAmJigoY2NUeXBlID09PSAzICYmIGNjVmFsaWQgPT09IDEpIHx8IGNjVmFsaWQgPT09IDApKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgZ2V0NzA4Q0NEYXRhID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIltnZXQ3MDhDQ0RhdGFdIGxlbjpcIiArIHBhY2tldERhdGEubGVuZ3RoICsgXCIsIHBhY2tldERhdGE6XCIgKyBudW1BcnJheVRvSGV4QXJyYXkocGFja2V0RGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGFTaXplID0gcGFja2V0UGFyc2VyLmV4dHJhY3RDZWE3MDhEYXRhRnJvbVBhY2tldChwYWNrZXREYXRhKTtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGFTaXplKXtcclxuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIHNlcnZpY2VOTyA9IDE7IHNlcnZpY2VOTyA8IHBhY2tldFBhcnNlci5zZXJ2aWNlQmxvY2suc2VyRGF0YS5sZW5ndGg7IHNlcnZpY2VOTyArKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHBhY2tldFBhcnNlci5zZXJ2aWNlQmxvY2suc2VyRGF0YVtzZXJ2aWNlTk9dLnNlckRhdGEubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkRGF0YVtzZXJ2aWNlTk8gKyAxXSA9IGZpZWxkRGF0YVtzZXJ2aWNlTk8gKyAxXS5jb25jYXQocGFja2V0UGFyc2VyLnNlcnZpY2VCbG9jay5zZXJEYXRhW3NlcnZpY2VOT10uc2VyRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIltnZXQ3MDhDQ0RhdGFdIGNjRGF0YTpcIiArIG51bUFycmF5VG9IZXhBcnJheShmaWVsZERhdGFbc2VydmljZU5PICsgMV0pICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBcIiwgbGVuOlwiICsgZmllbGREYXRhW3NlcnZpY2VOTyArIDFdLmxlbmd0aCArIFwiLCBzZXJ2aWNlTk86XCIgKyBzZXJ2aWNlTk8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZXN0cnVjdENDRGF0YSA9IGZ1bmN0aW9uIChzcmNEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJyID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNyY0RhdGEubGVuZ3RoOyBpICsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKDAgPCBzcmNEYXRhW2ldLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoMCA9PT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2goW1wiNjA4XzFcIiwgc3JjRGF0YVtpXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKDEgPT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2goW1wiNjA4XzNcIiwgc3JjRGF0YVtpXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2goW1wiNzA4X1wiICsgKGkgLSAxKS50b1N0cmluZygpLCBzcmNEYXRhW2ldXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJyO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIC8vcG9zICs9IDg7IC8vIFNraXAgdGhlIGlkZW50aWZpZXIgdXAgdG8gdXNlckRhdGFUeXBlQ29kZVxyXG4gICAgICAgIHZhciBjY0NvdW50ID0gcmF3LmdldFVpbnQ4KHBvcykgJiAweDFmO1xyXG4gICAgICAgIHBvcyArPSAyOyAvLyBBZHZhbmNlIDEgYW5kIHNraXAgcmVzZXJ2ZWQgYnl0ZVxyXG4gICAgICAgIHZhciB0eXBlID0gMDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNjQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgYnl0ZSA9IHJhdy5nZXRVaW50OChwb3MpO1xyXG4gICAgICAgICAgICB2YXIgY2NWYWxpZCA9IChieXRlICYgMHg0KSA+PiAyO1xyXG4gICAgICAgICAgICB2YXIgY2NUeXBlID0gYnl0ZSAmIDB4MztcclxuXHJcbiAgICAgICAgICAgIHBvcysrO1xyXG4gICAgICAgICAgICB2YXIgY2NEYXRhMSA9IHJhdy5nZXRVaW50OChwb3MpOyAvLyBLZWVwIHBhcml0eSBiaXRcclxuICAgICAgICAgICAgcG9zKys7XHJcbiAgICAgICAgICAgIHZhciBjY0RhdGEyID0gcmF3LmdldFVpbnQ4KHBvcyk7IC8vIEtlZXAgcGFyaXR5IGJpdFxyXG4gICAgICAgICAgICBwb3MrKztcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIiBbZXh0cmFjdENlYURhdGFGcm9tUmFuZ2VdY291bnQ6JWQsIGNjVHlwZTolZCwgaTolZCx2YWxpZDolZFwiLCBjY0NvdW50LCBjY1R5cGUsIGksIGNjVmFsaWQpO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiW2V4dHJhY3RDZWFEYXRhRnJvbVJhbmdlXSBkYXRhMTpcIiArIGNjRGF0YTEudG9TdHJpbmcoMTYpICsgXCIgZGF0YTI6XCIgKyBjY0RhdGEyLnRvU3RyaW5nKDE2KSk7XHJcbiAgICAgICAgICAgdmFyIHR5cGVUbXAgPSB3aGF0Q0NEYXRhVHlwZUhhdmUodHlwZSwgY2NUeXBlLCBjY1ZhbGlkLCBjY0RhdGExLCBjY0RhdGEyKTtcclxuICAgICAgICAgICAgdHlwZSA9IHR5cGVUbXA7XHJcbiAgICAgICAgICAgIGlmIChpc1ZhbGlkNjA4RGF0YShjY1ZhbGlkLCBjY0RhdGExLCBjY0RhdGEyLCBjY1R5cGUpKSB7IC8vQ2hlY2sgdmFsaWRpdHkgYW5kIG5vbi1lbXB0eSBkYXRhXHJcbiAgICAgICAgICAgICAgICBpZiAoY2NUeXBlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGREYXRhWzBdLnB1c2goY2NEYXRhMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmllbGREYXRhWzBdLnB1c2goY2NEYXRhMik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNjVHlwZSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkRGF0YVsxXS5wdXNoKGNjRGF0YTEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkRGF0YVsxXS5wdXNoKGNjRGF0YTIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCBjY1R5cGUgPT09IDIgfHwgY2NUeXBlID09PSAzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXM3MDhFbmQocGFja2V0RGF0YS5sZW5ndGgsIGNjVHlwZSwgY2NWYWxpZCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGdldDcwOENDRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaSAtLTtcclxuICAgICAgICAgICAgICAgICAgICBwb3MgLT0gMztcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmIChpc1ZhbGlkNzA4RGF0YShjY1ZhbGlkLCBjY0RhdGExLCBjY0RhdGEyLCBjY1R5cGUpKXtcclxuICAgICAgICAgICAgICAgICAgICBwYWNrZXREYXRhLnB1c2goY2NEYXRhMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0RGF0YS5wdXNoKGNjRGF0YTIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIENoZWNrQ0NEYXRhVHlwZSh0eXBlKTtcclxuICAgICAgICB2YXIgY2NEYXRhID0gcmVzdHJ1Y3RDQ0RhdGEoZmllbGREYXRhKTtcclxuICAgICAgICByZXR1cm4gY2NEYXRhO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgZXhwb3J0cy5sb2dnZXIgPSBsb2dnZXI7XHJcbiAgICBleHBvcnRzLmNlYVBhcnNlck1hbmFnZXIgPSBjZWFQYXJzZXJNYW5hZ2VyO1xyXG4gICAgZXhwb3J0cy5maW5kQ2VhTmFsdXMgPSBmaW5kQ2VhTmFsdXM7XHJcbiAgICBleHBvcnRzLmV4dHJhY3RDZWFEYXRhRnJvbVJhbmdlID0gZXh0cmFjdENlYURhdGFGcm9tUmFuZ2U7XHJcblxyXG59KHR5cGVvZiBleHBvcnRzID09PSAndW5kZWZpbmVkJz8gdGhpcy5jZWFQYXJzZXJNYW5hZ2VyID0ge306IGV4cG9ydHMpKTsiLCLvu79pbXBvcnQgRmFjdG9yeU1ha2VyIGZyb20gJy4uL2NvcmUvRmFjdG9yeU1ha2VyJztcclxuaW1wb3J0IEJveFBhcnNlciBmcm9tICcuL0JveFBhcnNlcic7XHJcbmltcG9ydCBjZWFQYXJzZXJNYW5hZ2VyIGZyb20gJy4vY2VhUGFyc2VyTWFuYWdlci5qcyc7XHJcblxyXG52YXIgY29udGV4dCA9IHdpbmRvdztcclxudmFyIGJveFBhcnNlciA9IEJveFBhcnNlcihjb250ZXh0KS5nZXRJbnN0YW5jZSgpO1xyXG5cclxuZnVuY3Rpb24gZXh0cmFjdENlYURhdGEoZGF0YSkge1xyXG4gIC8qIEluc2VydCBbdGltZSwgZGF0YV0gcGFpcnMgaW4gb3JkZXIgaW50byBhcnJheS4gKi9cclxuICB2YXIgaW5zZXJ0SW5PcmRlciA9IGZ1bmN0aW9uIChhcnIsIHRpbWUsIGRhdGEpIHtcclxuICAgIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xyXG4gICAgaWYgKGxlbiA+IDApIHtcclxuICAgICAgaWYgKHRpbWUgPj0gYXJyW2xlbiAtIDFdWzBdKSB7XHJcbiAgICAgICAgYXJyLnB1c2goW3RpbWUsIGRhdGFdKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBmb3IgKHZhciBwb3MgPSBsZW4gLSAxOyBwb3MgPj0gMDsgcG9zLS0pIHtcclxuICAgICAgICAgIGlmICh0aW1lIDwgYXJyW3Bvc11bMF0pIHtcclxuICAgICAgICAgICAgYXJyLnNwbGljZShwb3MsIDAsIFt0aW1lLCBkYXRhXSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXJyLnB1c2goW3RpbWUsIGRhdGFdKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB2YXIgc2F2ZUNDRGF0YSA9IGZ1bmN0aW9uIChhcnIsIHRpbWUsIGRhdGEpIHtcclxuICAgIGlmICgoMCA9PT0gZGF0YS5sZW5ndGgpIHx8ICgndW5kZWZpbmVkJyA9PT0gZGF0YVswXSkgfHwgKCd1bmRlZmluZWQnID09PSBkYXRhWzFdKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgYkZvdW5kID0gZmFsc2U7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkgKyspIHtcclxuICAgICAgaWYgKGFycltpXVswXSA9PSBkYXRhWzBdKSB7XHJcbiAgICAgICAgYXJyW2ldLnB1c2goW3RpbWUsIGRhdGFbMV1dKTtcclxuICAgICAgICBiRm91bmQgPSB0cnVlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWJGb3VuZCkge1xyXG4gICAgICBhcnIucHVzaChbZGF0YVswXSxbdGltZSwgZGF0YVsxXV1dKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB2YXIgaXNvRmlsZSA9IGJveFBhcnNlci5wYXJzZShkYXRhKTtcclxuICB2YXIgbW9vZiA9IGlzb0ZpbGUuZ2V0Qm94KCdtb29mJyk7XHJcbiAgdmFyIHRmZHQgPSBpc29GaWxlLmdldEJveCgndGZkdCcpO1xyXG4gIHZhciB0ZmhkID0gaXNvRmlsZS5nZXRCb3goJ3RmaGQnKTsgLy9DYW4gaGF2ZSBhIGJhc2VfZGF0YV9vZmZzZXQgYW5kIG90aGVyIGRlZmF1bHQgdmFsdWVzXHJcbiAgLy9sb2coXCJ0ZmhkOiBcIiArIHRmaGQpO1xyXG4gIC8vdmFyIHNhaW8gPSBpc29GaWxlLmdldEJveCgnc2FpbycpOyAvLyBPZmZzZXQgcG9zc2libHlcclxuICAvL3ZhciBzYWl6ID0gaXNvRmlsZS5nZXRCb3goJ3NhaXonKTsgLy8gUG9zc2libGUgc2l6ZXNcclxuICB2YXIgdHJ1bnMgPSBpc29GaWxlLmdldEJveGVzKCd0cnVuJyk7IC8vXHJcbiAgdmFyIHRydW4gPSBudWxsO1xyXG5cclxuICBpZiAodHJ1bnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbiAgdHJ1biA9IHRydW5zWzBdO1xyXG4gIGlmICh0cnVucy5sZW5ndGggPiAxKSB7XHJcbiAgICBsb2coJ1dhcm5pbmc6IFRvbyBtYW55IHRydW5zJyk7XHJcbiAgfVxyXG4gIHZhciBiYXNlT2Zmc2V0ID0gbW9vZi5vZmZzZXQgKyB0cnVuLmRhdGFfb2Zmc2V0O1xyXG4gIC8vRG91YmxlY2hlY2sgdGhhdCB0cnVuLm9mZnNldCA9PSBtb29mLnNpemUgKyA4XHJcbiAgdmFyIHNhbXBsZUNvdW50ID0gdHJ1bi5zYW1wbGVfY291bnQ7XHJcbiAgdmFyIHN0YXJ0UG9zID0gYmFzZU9mZnNldDtcclxuICB2YXIgYmFzZVNhbXBsZVRpbWUgPSB0ZmR0LmJhc2VNZWRpYURlY29kZVRpbWU7XHJcbiAgdmFyIHJhdyA9IG5ldyBEYXRhVmlldyhkYXRhKTtcclxuICB2YXIgYWxsQ2NEYXRhID0geyAnU3RhcnRUaW1lJzogbnVsbCwgJ0VuZFRpbWUnOiBudWxsLCBmaWVsZHM6IFtdIH07XHJcbiAgdmFyIGFsbENlYU5hbHVzID0gW107XHJcbiAgdmFyIGFjY0R1cmF0aW9uID0gMDtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IHNhbXBsZUNvdW50OyBpKyspIHtcclxuICAgIHZhciBzYW1wbGUgPSB0cnVuLnNhbXBsZXNbaV07XHJcblxyXG4gICAgdmFyIHRlc3QgPSAnSW5kZXg6ICcgKyBpLnRvU3RyaW5nKCkgKyAnLCBCYXNlU2FtcGxlVGltZTogJyArIGJhc2VTYW1wbGVUaW1lO1xyXG4gICAgaWYgKGFjY0R1cmF0aW9uID09IDApIHtcclxuICAgICAgdGVzdCArPSAoJywgQWN0dWFsRHVyYXRpb246ICcgKyBhY2NEdXJhdGlvbiArICcgKEVycm9yLCBhY3R1YWwgZHVyYXRpb24gY2Fubm90IGJlIDApJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0ZXN0ICs9ICgnLCBBY3R1YWxEdXJhdGlvbjogJyArIGFjY0R1cmF0aW9uKTtcclxuICAgIH1cclxuICAgIGlmIChzYW1wbGUuc2FtcGxlX2R1cmF0aW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgaWYgKHRmaGQuZGVmYXVsdF9zYW1wbGVfZHVyYXRpb24gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHNhbXBsZS5zYW1wbGVfZHVyYXRpb24gPSAwO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNhbXBsZS5zYW1wbGVfZHVyYXRpb24gPSB0ZmhkLmRlZmF1bHRfc2FtcGxlX2R1cmF0aW9uO1xyXG4gICAgICB9XHJcbiAgICAgIHRlc3QgKz0gJywgRHVyYXRpb246ICcgKyBzYW1wbGUuc2FtcGxlX2R1cmF0aW9uO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGVzdCArPSAoJywgRHVyYXRpb246ICcgKyBzYW1wbGUuc2FtcGxlX2R1cmF0aW9uKTtcclxuICAgIH1cclxuICAgIGlmIChzYW1wbGUuc2FtcGxlX3NpemUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBzYW1wbGUuc2FtcGxlX3NpemUgPSB0ZmhkLmRlZmF1bHRfc2FtcGxlX3NpemU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNhbXBsZS5zYW1wbGVfY29tcG9zaXRpb25fdGltZV9vZmZzZXQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0ZXN0ICs9ICcsIENvbXBvc2l0aW9uVGltZTogMCc7XHJcbiAgICAgIHNhbXBsZS5zYW1wbGVfY29tcG9zaXRpb25fdGltZV9vZmZzZXQgPSAwO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGVzdCArPSAoJywgQ29tcG9zaXRpb25UaW1lOiAnICsgc2FtcGxlLnNhbXBsZV9jb21wb3NpdGlvbl90aW1lX29mZnNldCk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHNhbXBsZVRpbWUgPSBiYXNlU2FtcGxlVGltZSArIGFjY0R1cmF0aW9uICsgc2FtcGxlLnNhbXBsZV9jb21wb3NpdGlvbl90aW1lX29mZnNldDtcclxuICAgIHRlc3QgKz0gKCcsIFNhbXBsZVRpbWU6ICcgKyBzYW1wbGVUaW1lKTtcclxuXHJcbiAgICB2YXIgY2VhNjA4UmFuZ2VzID0gY2VhUGFyc2VyTWFuYWdlci5maW5kQ2VhTmFsdXMocmF3LCBzdGFydFBvcywgc2FtcGxlLnNhbXBsZV9zaXplKTtcclxuICAgIGlmICgwIDwgY2VhNjA4UmFuZ2VzLmxlbmd0aCkge1xyXG4gICAgICBpbnNlcnRJbk9yZGVyKGFsbENlYU5hbHVzLCBzYW1wbGVUaW1lLCBjZWE2MDhSYW5nZXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGFjY0R1cmF0aW9uICs9IHNhbXBsZS5zYW1wbGVfZHVyYXRpb247XHJcbiAgICBzdGFydFBvcyArPSBzYW1wbGUuc2FtcGxlX3NpemU7XHJcbiAgfVxyXG5cclxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbENlYU5hbHVzLmxlbmd0aDsgaSArKykge1xyXG4gICAgaWYgKCd1bmRlZmluZWQnID09PSBhbGxDZWFOYWx1c1tpXVswXSB8fCAndW5kZWZpbmVkJyA9PT0gYWxsQ2VhTmFsdXNbaV1bMV0pIHtcclxuICAgICAgY29udGludWU7XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFsbENlYU5hbHVzW2ldWzFdLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgIC8vY29uc29sZS5kZWJ1ZygnW2V4dHJhY3RDZWFEYXRhXSBpOicgKyBpICsgJywgajonICsgaiApO1xyXG4gICAgICB2YXIgY2NEYXRhID0gY2VhUGFyc2VyTWFuYWdlci5leHRyYWN0Q2VhRGF0YUZyb21SYW5nZShyYXcsIGFsbENlYU5hbHVzW2ldWzFdW2pdKTtcclxuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBjY0RhdGEubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICBpZiAoY2NEYXRhW2tdLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIHNhdmVDQ0RhdGEoYWxsQ2NEYXRhLmZpZWxkcywgYWxsQ2VhTmFsdXNbaV1bMF0sIGNjRGF0YVtrXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB2YXIgZW5kU2FtcGxlVGltZSA9IGJhc2VTYW1wbGVUaW1lICsgYWNjRHVyYXRpb247XHJcbiAgYWxsQ2NEYXRhLnN0YXJ0VGltZSA9IGJhc2VTYW1wbGVUaW1lO1xyXG4gIGFsbENjRGF0YS5lbmRUaW1lID0gZW5kU2FtcGxlVGltZTtcclxuICByZXR1cm4gYWxsQ2NEYXRhO1xyXG59XHJcblxyXG52YXIgY2NQYXJzZXJzID0gbmV3IE1hcCgpO1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ2NQYXJzZXIodHlwZSkge1xyXG4gICAgdmFyIG1ha2VDdWVBZGRlckZvckluZGV4ID0gZnVuY3Rpb24gKHNlbGYsIHR5cGUpIHtcclxuICAgICAgZnVuY3Rpb24gbmV3Q3VlKHN0YXJ0VGltZSwgZW5kVGltZSwgY2FwdGlvblNjcmVlbikge1xyXG4gICAgICAgIHZhciB0ZXh0ID0gY2FwdGlvblNjcmVlbi5nZXREaXNwbGF5VGV4dCgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHR5cGUgKyAnOiBzdGFydFRpbWU6ICcgKyBzdGFydFRpbWUgKyAnLCBlbmRUaW1lOiAnICsgZW5kVGltZSArICcsICcgKyB0ZXh0KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gbmV3Q3VlO1xyXG4gICAgfTtcclxuICAgIGxldCBoYW5kbGVyID0gbWFrZUN1ZUFkZGVyRm9ySW5kZXgodGhpcywgdHlwZSk7XHJcbiAgICByZXR1cm4gbmV3IGNlYVBhcnNlck1hbmFnZXIuY2VhUGFyc2VyTWFuYWdlcih0eXBlLCB7J25ld0N1ZSc6IGhhbmRsZXJ9LCBudWxsKTtcclxuICB9XHJcblxyXG5mdW5jdGlvbiBteXRlc3QyKGJ5dGVzKSB7XHJcbiAgLy8gaW5pdCBwYXJzZXJzXHJcbiAgY2NQYXJzZXJzLnNldCgnNjA4XzEnLCBjcmVhdGVDY1BhcnNlcignNjA4XzEnKSk7XHJcbiAgY2NQYXJzZXJzLnNldCgnNjA4XzInLCBjcmVhdGVDY1BhcnNlcignNjA4XzInKSk7XHJcbiAgY2NQYXJzZXJzLnNldCgnNjA4XzMnLCBjcmVhdGVDY1BhcnNlcignNjA4XzMnKSk7XHJcbiAgY2NQYXJzZXJzLnNldCgnNjA4XzQnLCBjcmVhdGVDY1BhcnNlcignNjA4XzQnKSk7XHJcbiAgY2NQYXJzZXJzLnNldCgnNzA4XzEnLCBjcmVhdGVDY1BhcnNlcignNzA4XzEnKSk7XHJcbiAgY2NQYXJzZXJzLnNldCgnNzA4XzInLCBjcmVhdGVDY1BhcnNlcignNzA4XzInKSk7XHJcbiAgY2NQYXJzZXJzLnNldCgnNzA4XzMnLCBjcmVhdGVDY1BhcnNlcignNzA4XzMnKSk7XHJcbiAgY2NQYXJzZXJzLnNldCgnNzA4XzQnLCBjcmVhdGVDY1BhcnNlcignNzA4XzQnKSk7XHJcbiAgY2NQYXJzZXJzLnNldCgnNzA4XzUnLCBjcmVhdGVDY1BhcnNlcignNzA4XzUnKSk7XHJcbiAgY2NQYXJzZXJzLnNldCgnNzA4XzYnLCBjcmVhdGVDY1BhcnNlcignNzA4XzYnKSk7XHJcbiAgXHJcbiAgdmFyIGVtYmVkZGVkVGltZXNjYWxlID0gOTAwMDA7XHJcbiAgXHJcbiAgdmFyIGFsbENjRGF0YSA9IGV4dHJhY3RDZWFEYXRhKGJ5dGVzKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbENjRGF0YS5maWVsZHMubGVuZ3RoOyBpICsrKSB7XHJcbiAgICB2YXIgY2NEYXRhID0gYWxsQ2NEYXRhLmZpZWxkc1tpXTtcclxuXHJcbiAgICBsZXQgdHlwZSA9IGNjRGF0YVswXTtcclxuICAgIGxldCBwYXJzZXIgPSBjY1BhcnNlcnMuZ2V0KHR5cGUpO1xyXG5cclxuICAgIGZvciAobGV0IGogPSAxOyBqIDwgY2NEYXRhLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgIGxldCBhMSA9IGNjRGF0YVtqXVswXTtcclxuICAgICAgbGV0IGEyID0gY2NEYXRhW2pdWzFdO1xyXG4gICAgICBwYXJzZXIuYWRkRGF0YShjY0RhdGFbal1bMF0gLyBlbWJlZGRlZFRpbWVzY2FsZSwgY2NEYXRhW2pdWzFdKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB0ZXN0X2NlYTYwOCgpIHtcclxuICBjb25zb2xlLmxvZygnLS0tLS0tLS10ZXN0X2NlYTYwOC0tLS0tLS0tJyk7XHJcblxyXG4gIHZhciB4aHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gIHhodHRwLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XHJcblxyXG4gIHhodHRwLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICh0aGlzLnN0YXR1cyA9PSAyMDApIHtcclxuICAgICAgbXl0ZXN0Mih0aGlzLnJlc3BvbnNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB4aHR0cC5vcGVuKFwiR0VUXCIsIFwiaHR0cDovL2xvY2FsaG9zdC8yL215ZGFzaC9zdWJ0aXRsZXMvNjA4XzAvVjMwMF93aXRoX2NjMV9hbmRfY2MzLzEubTRzXCIsIHRydWUpO1xyXG4gIHhodHRwLnNlbmQoKTtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iLCIvKlxyXG4gQ29weXJpZ2h0IDIwMTEgQWJkdWxsYSBBYmR1cmFraG1hbm92XHJcbiBPcmlnaW5hbCBzb3VyY2VzIGFyZSBhdmFpbGFibGUgYXQgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC94MmpzL1xyXG5cclxuIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuXHJcbiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcbiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuXHJcbi8qXHJcbiBNb2RpZmllZCB0byBrZWVwIHRyYWNrIG9mIGNoaWxkcmVuIG5vZGVzIGluIG9yZGVyIGluIGF0dHJpYnV0ZSBfX2NoaWxkcmVuLlxyXG4qL1xyXG5cclxuZnVuY3Rpb24gWDJKUyhtYXRjaGVycywgYXR0clByZWZpeCwgaWdub3JlUm9vdCkge1xyXG4gICAgaWYgKGF0dHJQcmVmaXggPT09IG51bGwgfHwgYXR0clByZWZpeCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgYXR0clByZWZpeCA9IFwiX1wiO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoaWdub3JlUm9vdCA9PT0gbnVsbCB8fCBpZ25vcmVSb290ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBpZ25vcmVSb290ID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBcclxuXHR2YXIgVkVSU0lPTiA9IFwiMS4wLjExXCI7XHJcblx0dmFyIGVzY2FwZU1vZGUgPSBmYWxzZTtcclxuXHJcblx0dmFyIERPTU5vZGVUeXBlcyA9IHtcclxuXHRcdEVMRU1FTlRfTk9ERSBcdCAgIDogMSxcclxuXHRcdFRFWFRfTk9ERSAgICBcdCAgIDogMyxcclxuXHRcdENEQVRBX1NFQ1RJT05fTk9ERSA6IDQsXHJcblx0XHRDT01NRU5UX05PREUgICAgICAgOiA4LFxyXG5cdFx0RE9DVU1FTlRfTk9ERSBcdCAgIDogOVxyXG5cdH07XHJcblx0XHJcblx0ZnVuY3Rpb24gZ2V0Tm9kZUxvY2FsTmFtZSggbm9kZSApIHtcclxuXHRcdHZhciBub2RlTG9jYWxOYW1lID0gbm9kZS5sb2NhbE5hbWU7XHRcdFx0XHJcblx0XHRpZihub2RlTG9jYWxOYW1lID09IG51bGwpIC8vIFllYWgsIHRoaXMgaXMgSUUhISBcclxuXHRcdFx0bm9kZUxvY2FsTmFtZSA9IG5vZGUuYmFzZU5hbWU7XHJcblx0XHRpZihub2RlTG9jYWxOYW1lID09IG51bGwgfHwgbm9kZUxvY2FsTmFtZT09XCJcIikgLy8gPT1cIlwiIGlzIElFIHRvb1xyXG5cdFx0XHRub2RlTG9jYWxOYW1lID0gbm9kZS5ub2RlTmFtZTtcclxuXHRcdHJldHVybiBub2RlTG9jYWxOYW1lO1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBnZXROb2RlUHJlZml4KG5vZGUpIHtcclxuXHRcdHJldHVybiBub2RlLnByZWZpeDtcclxuXHR9XHJcblx0XHRcclxuXHRmdW5jdGlvbiBlc2NhcGVYbWxDaGFycyhzdHIpIHtcclxuXHRcdGlmKHR5cGVvZihzdHIpID09IFwic3RyaW5nXCIpXHJcblx0XHRcdHJldHVybiBzdHIucmVwbGFjZSgvJi9nLCAnJmFtcDsnKS5yZXBsYWNlKC88L2csICcmbHQ7JykucmVwbGFjZSgvPi9nLCAnJmd0OycpLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKS5yZXBsYWNlKC8nL2csICcmI3gyNzsnKS5yZXBsYWNlKC9cXC8vZywgJyYjeDJGOycpO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXR1cm4gc3RyO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gdW5lc2NhcGVYbWxDaGFycyhzdHIpIHtcclxuXHRcdHJldHVybiBzdHIucmVwbGFjZSgvJmFtcDsvZywgJyYnKS5yZXBsYWNlKC8mbHQ7L2csICc8JykucmVwbGFjZSgvJmd0Oy9nLCAnPicpLnJlcGxhY2UoLyZxdW90Oy9nLCAnXCInKS5yZXBsYWNlKC8mI3gyNzsvZywgXCInXCIpLnJlcGxhY2UoLyYjeDJGOy9nLCAnXFwvJylcclxuXHR9XHRcclxuXHJcblx0ZnVuY3Rpb24gcGFyc2VET01DaGlsZHJlbiggbm9kZSApIHtcclxuXHRcdGlmKG5vZGUubm9kZVR5cGUgPT0gRE9NTm9kZVR5cGVzLkRPQ1VNRU5UX05PREUpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCxcclxuXHRcdFx0ICAgIGNoaWxkID0gbm9kZS5maXJzdENoaWxkLFxyXG5cdFx0XHQgICAgaSxcclxuXHRcdFx0ICAgIGxlbjsgXHJcblx0XHRcdFxyXG5cdFx0XHQvLyBnZXQgdGhlIGZpcnN0IG5vZGUgdGhhdCBpc24ndCBhIGNvbW1lbnRcclxuXHRcdFx0Zm9yKGkgPSAwLCBsZW4gPSBub2RlLmNoaWxkTm9kZXMubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDEpIHtcclxuXHRcdFx0ICAgaWYgKG5vZGUuY2hpbGROb2Rlc1tpXS5ub2RlVHlwZSAhPT0gRE9NTm9kZVR5cGVzLkNPTU1FTlRfTk9ERSkge1xyXG5cdFx0XHQgICAgICAgY2hpbGQgPSBub2RlLmNoaWxkTm9kZXNbaV07XHJcblx0XHRcdCAgICAgICBicmVhaztcclxuXHRcdFx0ICAgfSBcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0aWYgKCBpZ25vcmVSb290ICkge1xyXG5cdFx0XHQgICAgcmVzdWx0ID0gcGFyc2VET01DaGlsZHJlbihjaGlsZCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdCAgICByZXN1bHQgPSB7fTtcclxuXHRcdFx0ICAgIHZhciBjaGlsZE5hbWUgPSBnZXROb2RlTG9jYWxOYW1lKGNoaWxkKTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdFtjaGlsZE5hbWVdID0gcGFyc2VET01DaGlsZHJlbihjaGlsZCk7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHR9XHJcblx0XHRlbHNlXHJcblx0XHRpZihub2RlLm5vZGVUeXBlID09IERPTU5vZGVUeXBlcy5FTEVNRU5UX05PREUpIHtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IG5ldyBPYmplY3Q7XHJcblx0XHRcdHJlc3VsdC5fX2NudD0wO1xyXG5cclxuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gW107XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgbm9kZUNoaWxkcmVuID0gbm9kZS5jaGlsZE5vZGVzO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gQ2hpbGRyZW4gbm9kZXNcclxuXHRcdFx0Zm9yKHZhciBjaWR4PTA7IGNpZHggPG5vZGVDaGlsZHJlbi5sZW5ndGg7IGNpZHgrKykge1xyXG5cdFx0XHRcdHZhciBjaGlsZCA9IG5vZGVDaGlsZHJlbi5pdGVtKGNpZHgpOyAvLyBub2RlQ2hpbGRyZW5bY2lkeF07XHJcblx0XHRcdFx0dmFyIGNoaWxkTmFtZSA9IGdldE5vZGVMb2NhbE5hbWUoY2hpbGQpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHJlc3VsdC5fX2NudCsrO1xyXG5cdFx0XHRcdGlmKHJlc3VsdFtjaGlsZE5hbWVdID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IHBhcnNlRE9NQ2hpbGRyZW4oY2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZE5hbWUgIT0gXCIjdGV4dFwiIHx8IC9bXlxcc10vLnRlc3QoYykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb1tjaGlsZE5hbWVdID0gYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChvKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblx0XHRcdFx0XHRyZXN1bHRbY2hpbGROYW1lXSA9IGM7XHJcblx0XHRcdFx0XHRyZXN1bHRbY2hpbGROYW1lK1wiX2FzQXJyYXlcIl0gPSBuZXcgQXJyYXkoMSk7XHJcblx0XHRcdFx0XHRyZXN1bHRbY2hpbGROYW1lK1wiX2FzQXJyYXlcIl1bMF0gPSByZXN1bHRbY2hpbGROYW1lXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRpZihyZXN1bHRbY2hpbGROYW1lXSAhPSBudWxsKSB7XHJcblx0XHRcdFx0XHRcdGlmKCAhKHJlc3VsdFtjaGlsZE5hbWVdIGluc3RhbmNlb2YgQXJyYXkpKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIHRtcE9iaiA9IHJlc3VsdFtjaGlsZE5hbWVdO1xyXG5cdFx0XHRcdFx0XHRcdHJlc3VsdFtjaGlsZE5hbWVdID0gbmV3IEFycmF5KCk7XHJcblx0XHRcdFx0XHRcdFx0cmVzdWx0W2NoaWxkTmFtZV1bMF0gPSB0bXBPYmo7XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0cmVzdWx0W2NoaWxkTmFtZStcIl9hc0FycmF5XCJdID0gcmVzdWx0W2NoaWxkTmFtZV07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHZhciBhcmlkeCA9IDA7XHJcblx0XHRcdFx0XHR3aGlsZShyZXN1bHRbY2hpbGROYW1lXVthcmlkeF0hPW51bGwpIGFyaWR4Kys7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjID0gcGFyc2VET01DaGlsZHJlbihjaGlsZCk7XHJcblx0XHRcdFx0XHRpZiAoY2hpbGROYW1lICE9IFwiI3RleHRcIiB8fCAvW15cXHNdLy50ZXN0KGMpKSB7IC8vIERvbid0IGFkZCB3aGl0ZS1zcGFjZSB0ZXh0IG5vZGVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9bY2hpbGROYW1lXSA9IGM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goIG8gKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblx0XHRcdFx0XHQocmVzdWx0W2NoaWxkTmFtZV0pW2FyaWR4XSA9IGM7XHJcblx0XHRcdFx0fVx0XHRcdFxyXG5cdFx0XHR9XHJcblxyXG4gICAgICAgICAgICByZXN1bHQuX19jaGlsZHJlbiA9IGNoaWxkcmVuO1xyXG5cdFx0XHRcclxuXHRcdFx0Ly8gQXR0cmlidXRlc1xyXG5cdFx0XHRmb3IodmFyIGFpZHg9MDsgYWlkeCA8bm9kZS5hdHRyaWJ1dGVzLmxlbmd0aDsgYWlkeCsrKSB7XHJcblx0XHRcdFx0dmFyIGF0dHIgPSBub2RlLmF0dHJpYnV0ZXMuaXRlbShhaWR4KTsgLy8gW2FpZHhdO1xyXG5cdFx0XHRcdHJlc3VsdC5fX2NudCsrO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHZhciB2YWx1ZTIgPSBhdHRyLnZhbHVlO1xyXG5cdFx0XHRcdGZvcih2YXIgbT0wLCBtbD1tYXRjaGVycy5sZW5ndGg7IG0gPCBtbDsgbSsrKSB7XHJcblx0XHRcdFx0ICAgIHZhciBtYXRjaG9iaiA9IG1hdGNoZXJzW21dO1xyXG5cdFx0XHRcdCAgICBpZiAobWF0Y2hvYmoudGVzdChhdHRyKSkge1xyXG5cdFx0XHRcdFx0XHR2YWx1ZTIgPSBtYXRjaG9iai5jb252ZXJ0ZXIoYXR0ci52YWx1ZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHJlc3VsdFthdHRyUHJlZml4K2F0dHIubmFtZV09dmFsdWUyO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHQvLyBOb2RlIG5hbWVzcGFjZSBwcmVmaXhcclxuXHRcdFx0dmFyIG5vZGVQcmVmaXggPSBnZXROb2RlUHJlZml4KG5vZGUpO1xyXG5cdFx0XHRpZihub2RlUHJlZml4IT1udWxsICYmIG5vZGVQcmVmaXghPVwiXCIpIHtcclxuXHRcdFx0XHRyZXN1bHQuX19jbnQrKztcclxuXHRcdFx0XHRyZXN1bHQuX19wcmVmaXg9bm9kZVByZWZpeDtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0aWYoIHJlc3VsdC5fX2NudCA9PSAxICYmIHJlc3VsdFtcIiN0ZXh0XCJdIT1udWxsICApIHtcclxuXHRcdFx0XHRyZXN1bHQgPSByZXN1bHRbXCIjdGV4dFwiXTtcclxuXHRcdFx0fSBcclxuXHRcdFx0XHJcblx0XHRcdGlmKHJlc3VsdFtcIiN0ZXh0XCJdIT1udWxsKSB7XHJcblx0XHRcdFx0cmVzdWx0Ll9fdGV4dCA9IHJlc3VsdFtcIiN0ZXh0XCJdO1xyXG5cdFx0XHRcdGlmKGVzY2FwZU1vZGUpXHJcblx0XHRcdFx0XHRyZXN1bHQuX190ZXh0ID0gdW5lc2NhcGVYbWxDaGFycyhyZXN1bHQuX190ZXh0KVxyXG5cdFx0XHRcdGRlbGV0ZSByZXN1bHRbXCIjdGV4dFwiXTtcclxuXHRcdFx0XHRkZWxldGUgcmVzdWx0W1wiI3RleHRfYXNBcnJheVwiXTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZihyZXN1bHRbXCIjY2RhdGEtc2VjdGlvblwiXSE9bnVsbCkge1xyXG5cdFx0XHRcdHJlc3VsdC5fX2NkYXRhID0gcmVzdWx0W1wiI2NkYXRhLXNlY3Rpb25cIl07XHJcblx0XHRcdFx0ZGVsZXRlIHJlc3VsdFtcIiNjZGF0YS1zZWN0aW9uXCJdO1xyXG5cdFx0XHRcdGRlbGV0ZSByZXN1bHRbXCIjY2RhdGEtc2VjdGlvbl9hc0FycmF5XCJdO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRpZihyZXN1bHQuX190ZXh0IT1udWxsIHx8IHJlc3VsdC5fX2NkYXRhIT1udWxsKSB7XHJcblx0XHRcdFx0cmVzdWx0LnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gKHRoaXMuX190ZXh0IT1udWxsPyB0aGlzLl9fdGV4dDonJykrKCB0aGlzLl9fY2RhdGEhPW51bGwgPyB0aGlzLl9fY2RhdGE6JycpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fVxyXG5cdFx0ZWxzZVxyXG5cdFx0aWYobm9kZS5ub2RlVHlwZSA9PSBET01Ob2RlVHlwZXMuVEVYVF9OT0RFIHx8IG5vZGUubm9kZVR5cGUgPT0gRE9NTm9kZVR5cGVzLkNEQVRBX1NFQ1RJT05fTk9ERSkge1xyXG5cdFx0XHRyZXR1cm4gbm9kZS5ub2RlVmFsdWU7XHJcblx0XHR9XHRcclxuXHRcdGVsc2VcclxuXHRcdGlmKG5vZGUubm9kZVR5cGUgPT0gRE9NTm9kZVR5cGVzLkNPTU1FTlRfTk9ERSkge1xyXG5cdFx0ICAgIHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBzdGFydFRhZyhqc29uT2JqLCBlbGVtZW50LCBhdHRyTGlzdCwgY2xvc2VkKSB7XHJcblx0XHR2YXIgcmVzdWx0U3RyID0gXCI8XCIrICggKGpzb25PYmohPW51bGwgJiYganNvbk9iai5fX3ByZWZpeCE9bnVsbCk/IChqc29uT2JqLl9fcHJlZml4K1wiOlwiKTpcIlwiKSArIGVsZW1lbnQ7XHJcblx0XHRpZihhdHRyTGlzdCE9bnVsbCkge1xyXG5cdFx0XHRmb3IodmFyIGFpZHggPSAwOyBhaWR4IDwgYXR0ckxpc3QubGVuZ3RoOyBhaWR4KyspIHtcclxuXHRcdFx0XHR2YXIgYXR0ck5hbWUgPSBhdHRyTGlzdFthaWR4XTtcclxuXHRcdFx0XHR2YXIgYXR0clZhbCA9IGpzb25PYmpbYXR0ck5hbWVdO1xyXG5cdFx0XHRcdHJlc3VsdFN0cis9XCIgXCIrYXR0ck5hbWUuc3Vic3RyKDEpK1wiPSdcIithdHRyVmFsK1wiJ1wiO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZighY2xvc2VkKVxyXG5cdFx0XHRyZXN1bHRTdHIrPVwiPlwiO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXN1bHRTdHIrPVwiLz5cIjtcclxuXHRcdHJldHVybiByZXN1bHRTdHI7XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGVuZFRhZyhqc29uT2JqLGVsZW1lbnROYW1lKSB7XHJcblx0XHRyZXR1cm4gXCI8L1wiKyAoanNvbk9iai5fX3ByZWZpeCE9bnVsbD8gKGpzb25PYmouX19wcmVmaXgrXCI6XCIpOlwiXCIpK2VsZW1lbnROYW1lK1wiPlwiO1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBlbmRzV2l0aChzdHIsIHN1ZmZpeCkge1xyXG5cdCAgICByZXR1cm4gc3RyLmluZGV4T2Yoc3VmZml4LCBzdHIubGVuZ3RoIC0gc3VmZml4Lmxlbmd0aCkgIT09IC0xO1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBqc29uWG1sU3BlY2lhbEVsZW0gKCBqc29uT2JqLCBqc29uT2JqRmllbGQgKSB7XHJcblx0XHRpZihlbmRzV2l0aChqc29uT2JqRmllbGQudG9TdHJpbmcoKSwoXCJfYXNBcnJheVwiKSkgXHJcblx0XHRcdFx0fHwganNvbk9iakZpZWxkLnRvU3RyaW5nKCkuaW5kZXhPZihcIl9cIik9PTAgXHJcblx0XHRcdFx0fHwgKGpzb25PYmpbanNvbk9iakZpZWxkXSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSApXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIGpzb25YbWxFbGVtQ291bnQgKCBqc29uT2JqICkge1xyXG5cdFx0dmFyIGVsZW1lbnRzQ250ID0gMDtcclxuXHRcdGlmKGpzb25PYmogaW5zdGFuY2VvZiBPYmplY3QgKSB7XHJcblx0XHRcdGZvciggdmFyIGl0IGluIGpzb25PYmogICkge1xyXG5cdFx0XHRcdGlmKGpzb25YbWxTcGVjaWFsRWxlbSAoIGpzb25PYmosIGl0KSApXHJcblx0XHRcdFx0XHRjb250aW51ZTtcdFx0XHRcclxuXHRcdFx0XHRlbGVtZW50c0NudCsrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZWxlbWVudHNDbnQ7XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIHBhcnNlSlNPTkF0dHJpYnV0ZXMgKCBqc29uT2JqICkge1xyXG5cdFx0dmFyIGF0dHJMaXN0ID0gW107XHJcblx0XHRpZihqc29uT2JqIGluc3RhbmNlb2YgT2JqZWN0ICkge1xyXG5cdFx0XHRmb3IoIHZhciBhaXQgaW4ganNvbk9iaiAgKSB7XHJcblx0XHRcdFx0aWYoYWl0LnRvU3RyaW5nKCkuaW5kZXhPZihcIl9fXCIpPT0gLTEgJiYgYWl0LnRvU3RyaW5nKCkuaW5kZXhPZihcIl9cIik9PTApIHtcclxuXHRcdFx0XHRcdGF0dHJMaXN0LnB1c2goYWl0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBhdHRyTGlzdDtcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gcGFyc2VKU09OVGV4dEF0dHJzICgganNvblR4dE9iaiApIHtcclxuXHRcdHZhciByZXN1bHQgPVwiXCI7XHJcblx0XHRcclxuXHRcdGlmKGpzb25UeHRPYmouX19jZGF0YSE9bnVsbCkge1x0XHRcdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdHJlc3VsdCs9XCI8IVtDREFUQVtcIitqc29uVHh0T2JqLl9fY2RhdGErXCJdXT5cIjtcdFx0XHRcdFx0XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGlmKGpzb25UeHRPYmouX190ZXh0IT1udWxsKSB7XHRcdFx0XHJcblx0XHRcdGlmKGVzY2FwZU1vZGUpXHJcblx0XHRcdFx0cmVzdWx0Kz1lc2NhcGVYbWxDaGFycyhqc29uVHh0T2JqLl9fdGV4dCk7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRyZXN1bHQrPWpzb25UeHRPYmouX190ZXh0O1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlc3VsdFxyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBwYXJzZUpTT05UZXh0T2JqZWN0ICgganNvblR4dE9iaiApIHtcclxuXHRcdHZhciByZXN1bHQgPVwiXCI7XHJcblxyXG5cdFx0aWYoIGpzb25UeHRPYmogaW5zdGFuY2VvZiBPYmplY3QgKSB7XHJcblx0XHRcdHJlc3VsdCs9cGFyc2VKU09OVGV4dEF0dHJzICgganNvblR4dE9iaiApXHJcblx0XHR9XHJcblx0XHRlbHNlXHJcblx0XHRcdGlmKGpzb25UeHRPYmohPW51bGwpIHtcclxuXHRcdFx0XHRpZihlc2NhcGVNb2RlKVxyXG5cdFx0XHRcdFx0cmVzdWx0Kz1lc2NhcGVYbWxDaGFycyhqc29uVHh0T2JqKTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRyZXN1bHQrPWpzb25UeHRPYmo7XHJcblx0XHRcdH1cclxuXHRcdFxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gcGFyc2VKU09OQXJyYXkgKCBqc29uQXJyUm9vdCwganNvbkFyck9iaiwgYXR0ckxpc3QgKSB7XHJcblx0XHR2YXIgcmVzdWx0ID0gXCJcIjsgXHJcblx0XHRpZihqc29uQXJyUm9vdC5sZW5ndGggPT0gMCkge1xyXG5cdFx0XHRyZXN1bHQrPXN0YXJ0VGFnKGpzb25BcnJSb290LCBqc29uQXJyT2JqLCBhdHRyTGlzdCwgdHJ1ZSk7XHJcblx0XHR9XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0Zm9yKHZhciBhcklkeCA9IDA7IGFySWR4IDwganNvbkFyclJvb3QubGVuZ3RoOyBhcklkeCsrKSB7XHJcblx0XHRcdFx0cmVzdWx0Kz1zdGFydFRhZyhqc29uQXJyUm9vdFthcklkeF0sIGpzb25BcnJPYmosIHBhcnNlSlNPTkF0dHJpYnV0ZXMoanNvbkFyclJvb3RbYXJJZHhdKSwgZmFsc2UpO1xyXG5cdFx0XHRcdHJlc3VsdCs9cGFyc2VKU09OT2JqZWN0KGpzb25BcnJSb290W2FySWR4XSk7XHJcblx0XHRcdFx0cmVzdWx0Kz1lbmRUYWcoanNvbkFyclJvb3RbYXJJZHhdLGpzb25BcnJPYmopO1x0XHRcdFx0XHRcdFxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBwYXJzZUpTT05PYmplY3QgKCBqc29uT2JqICkge1xyXG5cdFx0dmFyIHJlc3VsdCA9IFwiXCI7XHRcclxuXHJcblx0XHR2YXIgZWxlbWVudHNDbnQgPSBqc29uWG1sRWxlbUNvdW50ICgganNvbk9iaiApO1xyXG5cdFx0XHJcblx0XHRpZihlbGVtZW50c0NudCA+IDApIHtcclxuXHRcdFx0Zm9yKCB2YXIgaXQgaW4ganNvbk9iaiApIHtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRpZihqc29uWG1sU3BlY2lhbEVsZW0gKCBqc29uT2JqLCBpdCkgKVxyXG5cdFx0XHRcdFx0Y29udGludWU7XHRcdFx0XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0dmFyIHN1Yk9iaiA9IGpzb25PYmpbaXRdO1x0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHZhciBhdHRyTGlzdCA9IHBhcnNlSlNPTkF0dHJpYnV0ZXMoIHN1Yk9iaiApXHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYoc3ViT2JqID09IG51bGwgfHwgc3ViT2JqID09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0cmVzdWx0Kz1zdGFydFRhZyhzdWJPYmosIGl0LCBhdHRyTGlzdCwgdHJ1ZSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGlmKHN1Yk9iaiBpbnN0YW5jZW9mIE9iamVjdCkge1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRpZihzdWJPYmogaW5zdGFuY2VvZiBBcnJheSkge1x0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0cmVzdWx0Kz1wYXJzZUpTT05BcnJheSggc3ViT2JqLCBpdCwgYXR0ckxpc3QgKVx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHR2YXIgc3ViT2JqRWxlbWVudHNDbnQgPSBqc29uWG1sRWxlbUNvdW50ICggc3ViT2JqICk7XHJcblx0XHRcdFx0XHRcdGlmKHN1Yk9iakVsZW1lbnRzQ250ID4gMCB8fCBzdWJPYmouX190ZXh0IT1udWxsIHx8IHN1Yk9iai5fX2NkYXRhIT1udWxsKSB7XHJcblx0XHRcdFx0XHRcdFx0cmVzdWx0Kz1zdGFydFRhZyhzdWJPYmosIGl0LCBhdHRyTGlzdCwgZmFsc2UpO1xyXG5cdFx0XHRcdFx0XHRcdHJlc3VsdCs9cGFyc2VKU09OT2JqZWN0KHN1Yk9iaik7XHJcblx0XHRcdFx0XHRcdFx0cmVzdWx0Kz1lbmRUYWcoc3ViT2JqLGl0KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRyZXN1bHQrPXN0YXJ0VGFnKHN1Yk9iaiwgaXQsIGF0dHJMaXN0LCB0cnVlKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdHJlc3VsdCs9c3RhcnRUYWcoc3ViT2JqLCBpdCwgYXR0ckxpc3QsIGZhbHNlKTtcclxuXHRcdFx0XHRcdHJlc3VsdCs9cGFyc2VKU09OVGV4dE9iamVjdChzdWJPYmopO1xyXG5cdFx0XHRcdFx0cmVzdWx0Kz1lbmRUYWcoc3ViT2JqLGl0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJlc3VsdCs9cGFyc2VKU09OVGV4dE9iamVjdChqc29uT2JqKTtcclxuXHRcdFxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblx0XHJcblx0dGhpcy5wYXJzZVhtbFN0cmluZyA9IGZ1bmN0aW9uKHhtbERvY1N0cikge1xyXG5cdFx0dmFyIHhtbERvYyxcclxuXHRcdFx0cGFyc2VyLFxyXG5cdFx0XHRucztcclxuXHJcblx0XHRpZiAod2luZG93LkRPTVBhcnNlcikge1xyXG5cdFx0XHRwYXJzZXIgPSBuZXcgd2luZG93LkRPTVBhcnNlcigpO1xyXG5cclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRucyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoJzwnLCAndGV4dC94bWwnKS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInBhcnNlcmVycm9yXCIpWzBdLm5hbWVzcGFjZVVSSTtcclxuXHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdC8vIElFMTEgd2lsbCBkZWZpbml0ZWx5IHRocm93IFN5bnRheEVycm9yIGhlcmVcclxuXHRcdFx0XHQvLyBucyB3aWxsIGJlIHVuZGVmaW5lZFxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoIHhtbERvY1N0ciwgXCJ0ZXh0L3htbFwiICk7XHJcblxyXG5cdFx0XHRcdGlmIChucykge1xyXG5cdFx0XHRcdFx0aWYoeG1sRG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMobnMsICdwYXJzZXJlcnJvcicpLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHR4bWxEb2MgPSB1bmRlZmluZWQ7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdFx0Ly8gSUUxMSBtYXkgdGhyb3cgU3ludGF4RXJyb3IgaGVyZSBpZiB4bWxEb2NTdHIgaXNcclxuXHRcdFx0XHQvLyBub3Qgd2VsbCBmb3JtZWQuIHhtbERvYyB3aWxsIGJlIHVuZGVmaW5lZFxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRlbHNlIHtcclxuXHRcdFx0Ly8gSUUgOihcclxuXHRcdFx0aWYoeG1sRG9jU3RyLmluZGV4T2YoXCI8P1wiKT09MCkge1xyXG5cdFx0XHRcdHhtbERvY1N0ciA9IHhtbERvY1N0ci5zdWJzdHIoIHhtbERvY1N0ci5pbmRleE9mKFwiPz5cIikgKyAyICk7XHJcblx0XHRcdH1cclxuXHRcdFx0eG1sRG9jPW5ldyBBY3RpdmVYT2JqZWN0KFwiTWljcm9zb2Z0LlhNTERPTVwiKTtcclxuXHRcdFx0eG1sRG9jLmFzeW5jPVwiZmFsc2VcIjtcclxuXHRcdFx0eG1sRG9jLmxvYWRYTUwoeG1sRG9jU3RyKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB4bWxEb2M7XHJcblx0fVxyXG5cclxuXHR0aGlzLnhtbDJqc29uID0gZnVuY3Rpb24gKHhtbERvYykge1xyXG5cdFx0cmV0dXJuIHBhcnNlRE9NQ2hpbGRyZW4gKCB4bWxEb2MgKTtcclxuXHR9XHJcblx0XHJcblx0dGhpcy54bWxfc3RyMmpzb24gPSBmdW5jdGlvbiAoeG1sRG9jU3RyKSB7XHJcblx0XHR2YXIgeG1sRG9jID0gdGhpcy5wYXJzZVhtbFN0cmluZyh4bWxEb2NTdHIpO1x0XHJcblx0XHRyZXR1cm4geG1sRG9jID8gdGhpcy54bWwyanNvbih4bWxEb2MpIDogdW5kZWZpbmVkO1xyXG5cdH1cclxuXHJcblx0dGhpcy5qc29uMnhtbF9zdHIgPSBmdW5jdGlvbiAoanNvbk9iaikge1xyXG5cdFx0cmV0dXJuIHBhcnNlSlNPTk9iamVjdCAoIGpzb25PYmogKTtcclxuXHR9XHJcblxyXG5cdHRoaXMuanNvbjJ4bWwgPSBmdW5jdGlvbiAoanNvbk9iaikge1xyXG5cdFx0dmFyIHhtbERvY1N0ciA9IHRoaXMuanNvbjJ4bWxfc3RyIChqc29uT2JqKTtcclxuXHRcdHJldHVybiB0aGlzLnBhcnNlWG1sU3RyaW5nKHhtbERvY1N0cik7XHJcblx0fVxyXG5cdFxyXG5cdHRoaXMuZ2V0VmVyc2lvbiA9IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiBWRVJTSU9OO1xyXG5cdH1cdFx0XHJcblx0XHJcblx0dGhpcy5lc2NhcGVNb2RlID0gZnVuY3Rpb24oZW5hYmxlZCkge1xyXG5cdFx0ZXNjYXBlTW9kZSA9IGVuYWJsZWQ7XHJcblx0fVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IFgySlM7Iiwi77u/aW1wb3J0IEZhY3RvcnlNYWtlciBmcm9tICcuL2NvcmUvRmFjdG9yeU1ha2VyJztcclxuaW1wb3J0IEV2ZW50QnVzIGZyb20gJy4vY29yZS9FdmVudEJ1cyc7XHJcblxyXG5pbXBvcnQgY29tbW9uVXRpbCBmcm9tICcuL3V0aWxzL2NvbW1vbl91dGlscyc7XHJcblxyXG5cclxudmFyIEN1ZSA9IHdpbmRvdy5WVFRDdWUgfHwgd2luZG93LlRleHRUcmFja0N1ZTtcclxuXHJcbnZhciBUZXh0RW5naW5lID0gZnVuY3Rpb24gKG1lZGlhKSB7XHJcbiAgICB0aGlzLm1lZGlhID0gbWVkaWE7XHJcbn07XHJcblxyXG5UZXh0RW5naW5lLnByb3RvdHlwZS5jbGVhckN1cnJlbnRDdWVzID0gZnVuY3Rpb24gKHRyYWNrKSB7XHJcbiAgICBpZiAodHJhY2sgJiYgdHJhY2suY3Vlcykge1xyXG4gICAgICAgIHdoaWxlICh0cmFjay5jdWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdHJhY2sucmVtb3ZlQ3VlKHRyYWNrLmN1ZXNbMF0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcblRleHRFbmdpbmUucHJvdG90eXBlLmFkZFRleHRUcmFjayA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIG1ldGhvZDFcclxuICAgIC8vIGxldCB0ZXh0VHJhY2sgPSBtZWRpYS5hZGRUZXh0VHJhY2soJ3N1YnRpdGxlcycsICdFbmdsaXNoJywgJ2VuZycpO1xyXG4gICAgLy8gdGV4dFRyYWNrLm15SWQgPSAndGVzdDEnO1xyXG4gICAgLy8gdGV4dFRyYWNrLm1vZGUgPSAnc2hvd2luZyc7XHJcbiAgICAvLyBtZXRob2QyXHJcbiAgICBsZXQgdGV4dFRyYWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHJhY2snKTtcclxuICAgIHRleHRUcmFjay5pZCA9ICd0ZXN0MSc7XHJcbiAgICB0ZXh0VHJhY2sua2luZCA9ICdzdWJ0aXRsZSc7XHJcbiAgICB0ZXh0VHJhY2subGFiZWwgPSAnRW5nbGlzaCc7XHJcbiAgICB0ZXh0VHJhY2suc3JjbGFuZyA9ICdlbmcnO1xyXG4gICAgbWVkaWEuYXBwZW5kQ2hpbGQodGV4dFRyYWNrKTtcclxuICAgIHRleHRUcmFjayA9IG1lZGlhLnRleHRUcmFja3NbMF07XHJcbiAgICB0ZXh0VHJhY2subW9kZSA9ICdzaG93aW5nJztcclxuXHJcbiAgICAvLyBCRFxyXG4gICAgY29uc29sZS5sb2coJ2JlZ2luIGFkZCBmaXJzdCBjdWUnKTtcclxuICAgIGxldCBjdWUgPSBuZXcgQ3VlKDEwLCAxNSwgJ1RoaXMgaXMgYSBwbGFjZWhvbGRlciB0ZXh0Jyk7XHJcbiAgICB0ZXh0VHJhY2suYWRkQ3VlKGN1ZSk7XHJcbiAgICBjb25zb2xlLmxvZygnYWZ0ZXIgYWRkIGZpcnN0IGN1ZScpO1xyXG5cclxuICAgIHRoaXMuY2xlYXJDdXJyZW50Q3Vlcyh0ZXh0VHJhY2spO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnYmVnaW4gYWRkIHNlY29uZCBjdWUnKTtcclxuICAgIGxldCBjdWUxID0gbmV3IEN1ZSgwLCAxMiwgJ1RoaXMgaXMgYSBwbGFjZWhvbGRlciB0ZXh0MScpO1xyXG4gICAgdGV4dFRyYWNrLmFkZEN1ZShjdWUxKTtcclxuICAgIGNvbnNvbGUubG9nKCdhZnRlciBhZGQgc2Vjb25kIGN1ZScpO1xyXG5cclxuICAgIGxldCBhPTI7XHJcbiAgICBsZXQgYj1hO1xyXG4gICAgLy8gRURcclxuXHJcbiAgICByZXR1cm47XHJcblxyXG4gICAgLy9cclxuICAgIC8vIGxldCBjdWUgPSBuZXcgQ3VlKDAsIDEwMCwgJ1RoaXMgaXMgYSBwbGFjZWhvbGRlciB0ZXh0Jyk7XHJcbiAgICAvLyB0ZXh0VHJhY2suYWRkQ3VlKGN1ZSk7XHJcblxyXG4gICAgLy9mb3IgKGxldCBpID0gMDsgaSA8PSAxMDsgaSArKykge1xyXG4gICAgLy8gIGxldCBjdWUgPSBuZXcgQ3VlKGksIGkrMSwgJ2N1cnJlbnQgdGltZTogJyArIGkudG9TdHJpbmcoKSk7XHJcbiAgICAgIFxyXG4gICAgLy8vLyB0ZXN0MVxyXG4gICAgLy9sZXQgbiA9IDU7XHJcbiAgICAvL2lmIChpICUgbiA9PSAwKSB7XHJcbiAgICAvLyAgY3VlLmFsaWduID0gXCJzdGFydFwiOyBcclxuICAgIC8vfSBlbHNlIGlmIChpICUgbiA9PSAxKSB7XHJcbiAgICAvLyAgY3VlLmFsaWduID0gXCJjZW50ZXJcIjtcclxuICAgIC8vfSBlbHNlIGlmIChpICUgbiA9PSAyKSB7XHJcbiAgICAvLyAgY3VlLmFsaWduID0gXCJlbmRcIjtcclxuICAgIC8vfSBlbHNlIGlmIChpICUgbiA9PSAzKSB7XHJcbiAgICAvLyAgY3VlLmFsaWduID0gXCJsZWZ0XCI7XHJcbiAgICAvL30gZWxzZSBpZiAoaSAlIG4gPT0gNCkge1xyXG4gICAgLy8gIGN1ZS5hbGlnbiA9IFwicmlnaHRcIjtcclxuICAgIC8vfVxyXG5cclxuXHJcbiAgICAvLyB0ZXN0MiwgdGV4dOWcqOWTquS4gOihjFxyXG4gICAgLy9jdWUubGluZUFsaWduID0gXCJzdGFydFwiO1xyXG4gICAgLy9jdWUubGluZSA9IGk7XHJcblxyXG4gICAgLy8gdGVzdDNcclxuICAgIC8vY3VlLnBvc2l0aW9uQWxpZ24gPSBcInN0YXJ0XCI7XHJcbiAgICAvL2N1ZS5wb3NpdGlvbiA9IGkqMTA7XHJcblxyXG4gICAgLy8gY2hyb21lXHJcbiAgICAvL2N1ZS5hbGlnbiA9IFwic3RhcnRcIjtcclxuICAgIC8vY3VlLmxpbmUgPSAwO1xyXG4gICAgLy9jdWUubGluZUFsaWduID0gXCJzdGFydFwiO1xyXG4gICAgLy9jdWUucG9zaXRpb24gPSBcImF1dG9cIjtcclxuICAgIC8vY3VlLnNpemUgPSAxMDA7XHJcbiAgICAvL2N1ZS5zbmFwVG9MaW5lcyA9IGZhbHNlO1xyXG5cclxuICAgIC8vIGZpcmVmb3g0N1xyXG4gICAgLy9jdWUuYWxpZ24gPSBcInN0YXJ0XCI7XHJcbiAgICAvL2N1ZS5saW5lID0gMDtcclxuICAgIC8vY3VlLmxpbmVBbGlnbiA9IFwic3RhcnRcIjtcclxuICAgIC8vY3VlLnBvc2l0aW9uID0gMTA7XHJcbiAgICAvL2N1ZS5wb3NpdGlvbkFsaWduID0gXCJlbmRcIjtcclxuICAgIC8vY3VlLnNpemUgPSAxMDA7XHJcbiAgICAvL2N1ZS5zbmFwVG9MaW5lcyA9IGZhbHNlO1xyXG5cclxuICAgIC8vIGZpcmVmb3g1M1xyXG4gICAgLy9jdWUucG9zaXRpb24gPSAnYXV0byc7XHJcbiAgICAvL2N1ZS5wb3NpdGlvbkFsaWduID0gJ2NlbnRlcic7XHJcblxyXG4gICAgLy8gIHRleHRUcmFjay5hZGRDdWUoY3VlKTtcclxuICAgIC8vfVxyXG59O1xyXG5cclxuVGV4dEVuZ2luZS5wcm90b3R5cGUuc2V0VGV4dFRyYWNrSGlkZGVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgaW5Vc2VUcmFja3MgPSBtZWRpYSA/IG1lZGlhLnRleHRUcmFja3MgOiBbXTtcclxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBpblVzZVRyYWNrcy5sZW5ndGg7IGkgKyspIHtcclxuICAgICAgICBsZXQgdHJhY2sgPSBpblVzZVRyYWNrc1tpXTtcclxuICAgICAgICAvLyBUcmFjayBtb2RlIHdhcyBkZWZpbmVkIGJ5IGh0bWwgdGV4dFRyYWNrIGVsZW1lbnQuXHJcbiAgICAgICAgdHJhY2subW9kZSA9ICdoaWRkZW4nO1xyXG4gICAgfVxyXG59O1xyXG5cclxuVGV4dEVuZ2luZS5wcm90b3R5cGUuc2V0Q3VlQWxpZ24gPSBmdW5jdGlvbiAoYWxpZ24pIHtcclxuICAgIGxldCB0ZXh0VHJhY2sgPSBtZWRpYS50ZXh0VHJhY2tzWzBdO1xyXG5cclxuICAgIGZvciAobGV0IGk9MDsgaSA8IHRleHRUcmFjay5jdWVzLmxlbmd0aDsgaSArKykge1xyXG4gICAgICAgIGxldCBjdWUgPSB0ZXh0VHJhY2suY3Vlc1tpXTtcclxuICAgICAgICBjdWUuYWxpZ24gPSBhbGlnbjtcclxuICAgIH1cclxufTtcclxuXHJcblRleHRFbmdpbmUucHJvdG90eXBlLnNldEN1ZUxpbmUgPSBmdW5jdGlvbiAobGluZSkge1xyXG4gICAgbGV0IHRleHRUcmFjayA9IG1lZGlhLnRleHRUcmFja3NbMF07XHJcblxyXG4gICAgZm9yIChsZXQgaT0wOyBpIDwgdGV4dFRyYWNrLmN1ZXMubGVuZ3RoOyBpICsrKSB7XHJcbiAgICAgICAgbGV0IGN1ZSA9IHRleHRUcmFjay5jdWVzW2ldO1xyXG4gICAgICAgIGN1ZS5saW5lID0gbGluZTtcclxuICAgIH1cclxufTtcclxuXHJcblRleHRFbmdpbmUucHJvdG90eXBlLnNldEN1ZUxpbmVBbGlnbiA9IGZ1bmN0aW9uIChsaW5lQWxpZ24pIHtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFRleHRFbmdpbmU7XHJcblxyXG4vLy8vXHJcbi8vZnVuY3Rpb24gVGV4dEVuZ2luZSgpXHJcbi8ve1xyXG4vLyAgbGV0IGluc3RhbmNlO1xyXG4vLyAgbGV0IG1lZGlhO1xyXG4gIFxyXG4vLyAgZnVuY3Rpb24gc2V0dXAoKSB7XHJcbi8vICAgIG1lZGlhID0gbnVsbDtcclxuLy8gIH1cclxuXHJcbi8vICBmdW5jdGlvbiBzZXRNZWRpYShwYXJhbV9tZWRpYSkge1xyXG4vLyAgICBtZWRpYSA9IHBhcmFtX21lZGlhO1xyXG4vLyAgfVxyXG5cclxuLy9mdW5jdGlvbiBjbGVhckN1cnJlbnRDdWVzKHRyYWNrKSB7XHJcbi8vICBpZiAodHJhY2sgJiYgdHJhY2suY3Vlcykge1xyXG4vLyAgICB3aGlsZSAodHJhY2suY3Vlcy5sZW5ndGggPiAwKSB7XHJcbi8vICAgICAgdHJhY2sucmVtb3ZlQ3VlKHRyYWNrLmN1ZXNbMF0pO1xyXG4vLyAgICB9XHJcbi8vICB9XHJcbi8vfVxyXG5cclxuLy8gIGZ1bmN0aW9uIGFkZFRleHRUcmFjaygpIHtcclxuLy8gICAgLy8gbWV0aG9kMVxyXG4vLyAgICBsZXQgdGV4dFRyYWNrID0gbWVkaWEuYWRkVGV4dFRyYWNrKCdzdWJ0aXRsZXMnLCAnRW5nbGlzaCcsICdlbmcnKTtcclxuLy8gICAgdGV4dFRyYWNrLm1vZGUgPSAnc2hvd2luZyc7XHJcbi8vICAgIC8vLy8gbWV0aG9kMlxyXG4vLyAgICAvL2xldCB0ZXh0VHJhY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cmFjaycpO1xyXG4vLyAgICAvL3RleHRUcmFjay5raW5kID0gJ3N1YnRpdGxlJztcclxuLy8gICAgLy90ZXh0VHJhY2subGFiZWwgPSAnRW5nbGlzaCc7XHJcbi8vICAgIC8vdGV4dFRyYWNrLnNyY2xhbmcgPSAnZW5nJztcclxuLy8gICAgLy9tZWRpYS5hcHBlbmRDaGlsZCh0ZXh0VHJhY2spO1xyXG5cclxuLy8gICAgLy90ZXh0VHJhY2sgPSBtZWRpYS50ZXh0VHJhY2tzWzBdO1xyXG4vLyAgICAvL3RleHRUcmFjay5tb2RlID0gJ3Nob3dpbmcnO1xyXG5cclxuLy8gICAgLy8gQkRcclxuLy8gICAgY29uc29sZS5sb2coJ2JlZ2luIGFkZCBmaXJzdCBjdWUnKTtcclxuLy8gICAgbGV0IGN1ZSA9IG5ldyBDdWUoMTAsIDE1LCAnVGhpcyBpcyBhIHBsYWNlaG9sZGVyIHRleHQnKTtcclxuLy8gICAgdGV4dFRyYWNrLmFkZEN1ZShjdWUpO1xyXG4vLyAgICBjb25zb2xlLmxvZygnYWZ0ZXIgYWRkIGZpcnN0IGN1ZScpO1xyXG5cclxuLy8gICAgY2xlYXJDdXJyZW50Q3Vlcyh0ZXh0VHJhY2spO1xyXG4gICAgXHJcbi8vICAgIGNvbnNvbGUubG9nKCdiZWdpbiBhZGQgc2Vjb25kIGN1ZScpO1xyXG4vLyAgICBsZXQgY3VlMSA9IG5ldyBDdWUoMCwgMTIsICdUaGlzIGlzIGEgcGxhY2Vob2xkZXIgdGV4dDEnKTtcclxuLy8gICAgdGV4dFRyYWNrLmFkZEN1ZShjdWUxKTtcclxuLy8gICAgY29uc29sZS5sb2coJ2FmdGVyIGFkZCBzZWNvbmQgY3VlJyk7XHJcblxyXG4vLyAgICBsZXQgYT0yO1xyXG4vLyAgICBsZXQgYj1hO1xyXG4vLyAgICAvLyBFRFxyXG5cclxuLy8gICAgcmV0dXJuO1xyXG5cclxuLy8gICAgLy9cclxuLy8gICAgLy8gbGV0IGN1ZSA9IG5ldyBDdWUoMCwgMTAwLCAnVGhpcyBpcyBhIHBsYWNlaG9sZGVyIHRleHQnKTtcclxuLy8gICAgLy8gdGV4dFRyYWNrLmFkZEN1ZShjdWUpO1xyXG5cclxuLy8gICAgLy9mb3IgKGxldCBpID0gMDsgaSA8PSAxMDsgaSArKykge1xyXG4vLyAgICAvLyAgbGV0IGN1ZSA9IG5ldyBDdWUoaSwgaSsxLCAnY3VycmVudCB0aW1lOiAnICsgaS50b1N0cmluZygpKTtcclxuICAgICAgXHJcbi8vICAgICAgLy8vLyB0ZXN0MVxyXG4vLyAgICAgIC8vbGV0IG4gPSA1O1xyXG4vLyAgICAgIC8vaWYgKGkgJSBuID09IDApIHtcclxuLy8gICAgICAvLyAgY3VlLmFsaWduID0gXCJzdGFydFwiOyBcclxuLy8gICAgICAvL30gZWxzZSBpZiAoaSAlIG4gPT0gMSkge1xyXG4vLyAgICAgIC8vICBjdWUuYWxpZ24gPSBcImNlbnRlclwiO1xyXG4vLyAgICAgIC8vfSBlbHNlIGlmIChpICUgbiA9PSAyKSB7XHJcbi8vICAgICAgLy8gIGN1ZS5hbGlnbiA9IFwiZW5kXCI7XHJcbi8vICAgICAgLy99IGVsc2UgaWYgKGkgJSBuID09IDMpIHtcclxuLy8gICAgICAvLyAgY3VlLmFsaWduID0gXCJsZWZ0XCI7XHJcbi8vICAgICAgLy99IGVsc2UgaWYgKGkgJSBuID09IDQpIHtcclxuLy8gICAgICAvLyAgY3VlLmFsaWduID0gXCJyaWdodFwiO1xyXG4vLyAgICAgIC8vfVxyXG5cclxuXHJcbi8vICAgICAgLy8gdGVzdDIsIHRleHTlnKjlk6rkuIDooYxcclxuLy8gICAgICAvL2N1ZS5saW5lQWxpZ24gPSBcInN0YXJ0XCI7XHJcbi8vICAgICAgLy9jdWUubGluZSA9IGk7XHJcblxyXG4vLyAgICAgIC8vIHRlc3QzXHJcbi8vICAgICAgLy9jdWUucG9zaXRpb25BbGlnbiA9IFwic3RhcnRcIjtcclxuLy8gICAgICAvL2N1ZS5wb3NpdGlvbiA9IGkqMTA7XHJcblxyXG4vLyAgICAgIC8vIGNocm9tZVxyXG4vLyAgICAgIC8vY3VlLmFsaWduID0gXCJzdGFydFwiO1xyXG4vLyAgICAgIC8vY3VlLmxpbmUgPSAwO1xyXG4vLyAgICAgIC8vY3VlLmxpbmVBbGlnbiA9IFwic3RhcnRcIjtcclxuLy8gICAgICAvL2N1ZS5wb3NpdGlvbiA9IFwiYXV0b1wiO1xyXG4vLyAgICAgIC8vY3VlLnNpemUgPSAxMDA7XHJcbi8vICAgICAgLy9jdWUuc25hcFRvTGluZXMgPSBmYWxzZTtcclxuXHJcbi8vICAgICAgLy8gZmlyZWZveDQ3XHJcbi8vICAgICAgLy9jdWUuYWxpZ24gPSBcInN0YXJ0XCI7XHJcbi8vICAgICAgLy9jdWUubGluZSA9IDA7XHJcbi8vICAgICAgLy9jdWUubGluZUFsaWduID0gXCJzdGFydFwiO1xyXG4vLyAgICAgIC8vY3VlLnBvc2l0aW9uID0gMTA7XHJcbi8vICAgICAgLy9jdWUucG9zaXRpb25BbGlnbiA9IFwiZW5kXCI7XHJcbi8vICAgICAgLy9jdWUuc2l6ZSA9IDEwMDtcclxuLy8gICAgICAvL2N1ZS5zbmFwVG9MaW5lcyA9IGZhbHNlO1xyXG5cclxuLy8gICAgICAvLyBmaXJlZm94NTNcclxuLy8gICAgICAvL2N1ZS5wb3NpdGlvbiA9ICdhdXRvJztcclxuLy8gICAgICAvL2N1ZS5wb3NpdGlvbkFsaWduID0gJ2NlbnRlcic7XHJcblxyXG4vLyAgICAvLyAgdGV4dFRyYWNrLmFkZEN1ZShjdWUpO1xyXG4vLyAgICAvL31cclxuLy8gIH1cclxuXHJcbi8vICBmdW5jdGlvbiBzZXRUZXh0VHJhY2tIaWRkZW4oKSB7XHJcbi8vICAgIGNvbnN0IGluVXNlVHJhY2tzID0gbWVkaWEgPyBtZWRpYS50ZXh0VHJhY2tzIDogW107XHJcbi8vICAgIGZvcihsZXQgaSA9IDA7IGkgPCBpblVzZVRyYWNrcy5sZW5ndGg7IGkgKyspIHtcclxuLy8gICAgICBsZXQgdHJhY2sgPSBpblVzZVRyYWNrc1tpXTtcclxuLy8gICAgICAvLyBUcmFjayBtb2RlIHdhcyBkZWZpbmVkIGJ5IGh0bWwgdGV4dFRyYWNrIGVsZW1lbnQuXHJcbi8vICAgICAgdHJhY2subW9kZSA9ICdoaWRkZW4nO1xyXG4vLyAgICB9XHJcbi8vICB9XHJcblxyXG4vLyAgZnVuY3Rpb24gc2V0Q3VlQWxpZ24oYWxpZ24pIHtcclxuLy8gICAgbGV0IHRleHRUcmFjayA9IG1lZGlhLnRleHRUcmFja3NbMF07XHJcblxyXG4vLyAgICBmb3IgKGxldCBpPTA7IGkgPCB0ZXh0VHJhY2suY3Vlcy5sZW5ndGg7IGkgKyspIHtcclxuLy8gICAgICBsZXQgY3VlID0gdGV4dFRyYWNrLmN1ZXNbaV07XHJcbi8vICAgICAgY3VlLmFsaWduID0gYWxpZ247XHJcbi8vICAgIH1cclxuLy8gIH1cclxuXHJcbi8vICBmdW5jdGlvbiBzZXRDdWVMaW5lKGxpbmUpIHtcclxuLy8gICAgbGV0IHRleHRUcmFjayA9IG1lZGlhLnRleHRUcmFja3NbMF07XHJcblxyXG4vLyAgICBmb3IgKGxldCBpPTA7IGkgPCB0ZXh0VHJhY2suY3Vlcy5sZW5ndGg7IGkgKyspIHtcclxuLy8gICAgICBsZXQgY3VlID0gdGV4dFRyYWNrLmN1ZXNbaV07XHJcbi8vICAgICAgY3VlLmxpbmUgPSBsaW5lO1xyXG4vLyAgICB9XHJcbi8vICB9XHJcblxyXG4vLyAgZnVuY3Rpb24gc2V0Q3VlTGluZUFsaWduKGxpbmVBbGlnbikge1xyXG4gICAgXHJcbi8vICB9XHJcblxyXG4vLyAgaW5zdGFuY2UgPSB7XHJcbi8vICAgIHNldE1lZGlhOiBzZXRNZWRpYSxcclxuLy8gICAgYWRkVGV4dFRyYWNrOiBhZGRUZXh0VHJhY2ssXHJcbi8vICAgIHNldFRleHRUcmFja0hpZGRlbjogc2V0VGV4dFRyYWNrSGlkZGVuLFxyXG4vLyAgICBzZXRDdWVBbGlnbjogc2V0Q3VlQWxpZ24sXHJcbi8vICAgIHNldEN1ZUxpbmU6IHNldEN1ZUxpbmUsXHJcbi8vICAgIHNldEN1ZUxpbmVBbGlnbjogc2V0Q3VlTGluZUFsaWduLFxyXG4vLyAgfTtcclxuXHJcbi8vICBzZXR1cCgpO1xyXG5cclxuLy8gIHJldHVybiBpbnN0YW5jZTtcclxuLy99XHJcblxyXG5cclxuLy9UZXh0RW5naW5lLl9faDVwbGF5ZXJfZmFjdG9yeV9uYW1lID0gJ1RleHRFbmdpbmUnO1xyXG4vL2V4cG9ydCBkZWZhdWx0IEZhY3RvcnlNYWtlci5nZXRTaW5nbGV0b25GYWN0b3J5KFRleHRFbmdpbmUpO1xyXG4iLCJcclxuXHJcblxyXG5cclxudmFyIFVJRW5naW5lID0gZnVuY3Rpb24gKGNmZykge1xyXG4gICAgdGhpcy5jZmdfID0gY2ZnO1xyXG4gICAgdGhpcy5wbGF5ZXJDb250YWluZXJfID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5jZmdfLnBsYXllckNvbnRhaW5lcik7XHJcbiAgICB0aGlzLnZpZGVvXyA9IG51bGw7XHJcbiAgICB0aGlzLnZpZGVvQ29udGFpbmVyXyA9IG51bGw7XHJcbiAgICB0aGlzLmFkQ29udGFpbmVyXyA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5pbml0VUlFbGVtZW50KCk7XHJcbn07XHJcblxyXG5VSUVuZ2luZS5wcm90b3R5cGUuaW5pdFVJU3R5bGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xyXG4gICAgc3R5bGUudHlwZSA9ICd0ZXh0L2Nzcyc7XHJcbiAgICBzdHlsZS5pbm5lckhUTUwgPSAnYm9keXttYXJnaW46MHB4O2JhY2tncm91bmQtY29sb3I6bGlnaHRncmF5O30ucGxheWVye3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjY0MHB4O2hlaWdodDozNjBweDttYXJnaW46MTZweDt9Lmh0bWw1LXZpZGVvLXBsYXllcnt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO30uaDVwLWF1dG9oaWRle2N1cnNvcjpub25lfS5oNXAtdmlkZW8tY29udGFpbmVyLC5oNXAtdmlkZW8tYWRze3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7YmFja2dyb3VuZC1jb2xvcjpibGFjazt9Lmg1cC12aWRlb3t3aWR0aDoxMDAlO2hlaWdodDoxMDAlO30uaDVwLXNoYWRle3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7ei1pbmRleDoxMDA7fS5oNXAtc2hhZGU6bm90KC5oNXAtc2hhZGUtdGVzdDEpe30uaDVwLWdyYWRpZW50LWJvdHRvbXt3aWR0aDoxMDAlO3Bvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQtcmVwZWF0OnJlcGVhdC14O2JhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFER0NBWUFBQUFUK09xRkFBQUFka2xFUVZRb3o0MlFRUTdBSUFnRUYvVC9EK2ticS9SV0FsblF5eWF6QTRhb0FCNEZzQlNBL2JGanVGMUVPTDdWYnJJckJ1dXNtcnQ0WlpPUmZiNmVoYldkblJIRUlpSVRhRVVLYTVFSnFVYWtSU2FFWUJKU0NZMmRFc3RRWTdBdXhhaHdYRnJ2Wm1XbDJyaDRKWjA3ejlkTHRlc2ZOajVxMEZVM0E1T2Jid0FBQUFCSlJVNUVya0pnZ2c9PSk7LW1vei10cmFuc2l0aW9uOm9wYWNpdHkgLjI1cyBjdWJpYy1iZXppZXIoMC4wLDAuMCwwLjIsMSk7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgLjI1cyBjdWJpYy1iZXppZXIoMC4wLDAuMCwwLjIsMSk7dHJhbnNpdGlvbjpvcGFjaXR5IC4yNXMgY3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpO3BvaW50ZXItZXZlbnRzOm5vbmV9Lmg1cC1ncmFkaWVudC1ib3R0b217aGVpZ2h0OjQ5cHg7cGFkZGluZy10b3A6NDlweDtib3R0b206MDt6LWluZGV4OjIyO2JhY2tncm91bmQtcG9zaXRpb246Ym90dG9tfS5oNXAtY2hyb21lLWJvdHRvbXtwb3NpdGlvbjphYnNvbHV0ZTt0ZXh0LXNoYWRvdzowIDAgMnB4IHJnYmEoMCwwLDAsLjUpfS5oNXAtY2hyb21lLWJvdHRvbXtib3R0b206MDtoZWlnaHQ6NDFweDt6LWluZGV4OjYwO3RleHQtYWxpZ246bGVmdDtkaXJlY3Rpb246bHRyO2xlZnQ6MTJweDtyaWdodDoxMnB4O30uaDVwLWNocm9tZS1ib3R0b217LW1vei10cmFuc2l0aW9uOm9wYWNpdHkgLjI1cyBjdWJpYy1iZXppZXIoMC4wLDAuMCwwLjIsMSk7LXdlYmtpdC10cmFuc2l0aW9uOm9wYWNpdHkgLjI1cyBjdWJpYy1iZXppZXIoMC4wLDAuMCwwLjIsMSk7dHJhbnNpdGlvbjpvcGFjaXR5IC4yNXMgY3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpfS5oNXAtYXV0b2hpZGUgLmg1cC1jaHJvbWUtYm90dG9te29wYWNpdHk6MDstbW96LXRyYW5zaXRpb246b3BhY2l0eSAuMjVzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKTstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAuMjVzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKTt0cmFuc2l0aW9uOm9wYWNpdHkgLjI1cyBjdWJpYy1iZXppZXIoMC4wLDAuMCwwLjIsMSk7fS5oNXAtcHJvZ3Jlc3MtYmFye3dpZHRoOjEwMCU7aGVpZ2h0OjVweDtiYWNrZ3JvdW5kLWNvbG9yOm9yYW5nZTt9Lmg1cC1jb250cm9sc3t3aWR0aDoxMDAlO2hlaWdodDozNnB4O30uaDVwLWxlZnQtY29udHJvbHN7aGVpZ2h0OjEwMCU7ZmxvYXQ6bGVmdDt9Lmg1cC1yaWdodC1jb250cm9sc3tmbG9hdDpyaWdodDt9Lmg1cC1idXR0b257d2lkdGg6MzZweDtoZWlnaHQ6MTAwJTtib3JkZXI6bm9uZTtjb2xvcjppbmhlcml0O2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7cGFkZGluZzowO3RleHQtYWxpZ246aW5oZXJpdDtmb250LXNpemU6MTAwJTtmb250LWZhbWlseTppbmhlcml0O2N1cnNvcjpkZWZhdWx0O2xpbmUtaGVpZ2h0OmluaGVyaXR9Lmg1cC1idXR0b246Zm9jdXMsLmg1cC1idXR0b257b3V0bGluZTowfS5oNXAtYnV0dG9uOjotbW96LWZvY3VzLWlubmVye3BhZGRpbmc6MDtib3JkZXI6MH0uaDVwLXRpbWUtZGlzcGxheXtmbG9hdDpsZWZ0O30uaDVwLXRpbWUtdGV4dHtjb2xvcjp3aGl0ZTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC01MCUpO30uaDVwLXN2Zy1zaGFkb3d7c3Ryb2tlOiMwMDA7c3Ryb2tlLW9wYWNpdHk6LjE1O3N0cm9rZS13aWR0aDoycHg7ZmlsbDpub25lfS5oNXAtc3ZnLWZpbGx7ZmlsbDojZmZmfS5oNXAtcGxheS1idXR0b257ZmxvYXQ6bGVmdDtjdXJzb3I6cG9pbnRlcjt9Lmg1cC1hdXRvaGlkZSAuaDVwLXBsYXktYnV0dG9ue2N1cnNvcjpub25lO30uaDVwLXBsYXktYnV0dG9uOjpiZWZvcmV7Y29udGVudDpcIlwiO2Rpc3BsYXk6YmxvY2s7aGVpZ2h0OjEwMCU7d2lkdGg6MTJweDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0Oi0xMnB4O30uaDVwLWFkcy1jb250YWluZXJ7cG9zaXRpb246YWJzb2x1dGU7dG9wOjBweDtsZWZ0OjBweDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO30jaWRCdG5Db250cm9sbGVye3Bvc2l0aW9uOnJlbGF0aXZlO30jaWRCdWZmZXJpbmdDb250YWluZXJ7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZC1jb2xvcjpsaWdodGdyZWVuO21hcmdpbjphdXRvO3dpZHRoOjIwMHB4O2hlaWdodDoyMDBweDt0b3A6MDtsZWZ0OjA7Ym90dG9tOjA7cmlnaHQ6MDt9LnNwaW5uZXJTdmd7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTt0b3A6MDtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MDttYXJnaW46YXV0bzthbmltYXRpb246cm90YXRlIDJzIGxpbmVhciBpbmZpbml0ZTt0cmFuc2Zvcm0tb3JpZ2luOmNlbnRlciBjZW50ZXI7fS5zcGlubmVyUGF0aHtzdHJva2U6I2Q2MmQyMDtzdHJva2UtZGFzaGFycmF5OjIwLDIwMDtzdHJva2UtZGFzaG9mZnNldDowO2FuaW1hdGlvbjpkYXNoIDEuNXMgZWFzZS1pbi1vdXQgaW5maW5pdGUsY29sb3IgNnMgZWFzZS1pbi1vdXQgaW5maW5pdGU7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7fUBrZXlmcmFtZXMgcm90YXRlezEwMCV7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO319QGtleWZyYW1lcyBkYXNoezAle3N0cm9rZS1kYXNoYXJyYXk6MSwyMDA7c3Ryb2tlLWRhc2hvZmZzZXQ6MDt9NTAle3N0cm9rZS1kYXNoYXJyYXk6ODksMjAwO3N0cm9rZS1kYXNob2Zmc2V0Oi0zNXB4O30xMDAle3N0cm9rZS1kYXNoYXJyYXk6ODksMjAwO3N0cm9rZS1kYXNob2Zmc2V0Oi0xMjRweDt9fUBrZXlmcmFtZXMgY29sb3J7MTAwJSwwJXtzdHJva2U6I2Q2MmQyMDt9NDAle3N0cm9rZTojMDA1N2U3O302NiV7c3Ryb2tlOiMwMDg3NDQ7fTgwJSw5MCV7c3Ryb2tlOiNmZmE3MDA7fX0uc3Bpbm5lcntwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDozMDBweDtoZWlnaHQ6MzAxcHg7YmFja2dyb3VuZC1pbWFnZTp1cmwoXCJhc3NldHMvYnVmZmVyaW5nNy5wbmdcIik7LXdlYmtpdC1hbmltYXRpb246c3BpbiAxcyBpbmZpbml0ZSBsaW5lYXI7dG9wOjUwJTtsZWZ0OjUwJTtkaXNwbGF5OmJsb2NrO31ALXdlYmtpdC1rZXlmcmFtZXMgc3BpbnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMGRlZyk7fTEwMCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC0zNjBkZWcpO319JztcclxuXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnSEVBRCcpLml0ZW0oMCkuYXBwZW5kQ2hpbGQoc3R5bGUpO1xyXG59O1xyXG5cclxuVUlFbmdpbmUucHJvdG90eXBlLmluaXRVSUVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBjcmVhdGUgdmlkZW8gZWxlbWVudCBoZXJlXHJcbiAgICB0aGlzLnZpZGVvXyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XHJcbiAgICB0aGlzLnZpZGVvXy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2g1cC12aWRlbycpO1xyXG4gICAgdGhpcy52aWRlb18uc2V0QXR0cmlidXRlKCdwbGF5c2lubGluZScsICdmYWxzZScpO1xyXG5cclxuICAgIHRoaXMudmlkZW9Db250YWluZXJfID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLnZpZGVvQ29udGFpbmVyXy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2g1cC12aWRlby1jb250YWluZXInKTtcclxuICAgIHRoaXMudmlkZW9Db250YWluZXJfLmFwcGVuZENoaWxkKHRoaXMudmlkZW9fKTtcclxuXHJcbiAgICB0aGlzLnBsYXllckNvbnRhaW5lcl8uYXBwZW5kQ2hpbGQodGhpcy52aWRlb0NvbnRhaW5lcl8pO1xyXG5cclxuICAgIC8vIGNyZWF0ZSBhZHMgY29udGFpbmVyXHJcbiAgICBpZiAodGhpcy5jZmdfLmFkdmVydGlzaW5nKSB7XHJcbiAgICAgICAgdGhpcy5hZENvbnRhaW5lcl8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICB0aGlzLmFkQ29udGFpbmVyXy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2g1cC1hZHMtY29udGFpbmVyJyk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVyQ29udGFpbmVyXy5hcHBlbmRDaGlsZCh0aGlzLmFkQ29udGFpbmVyXyk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5VSUVuZ2luZS5wcm90b3R5cGUuZ2V0VmlkZW8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy52aWRlb187XHJcbn07XHJcblxyXG5VSUVuZ2luZS5wcm90b3R5cGUuZ2V0VmlkZW9Db250YWluZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy52aWRlb0NvbnRhaW5lcl87XHJcbn07XHJcblxyXG5VSUVuZ2luZS5wcm90b3R5cGUuZ2V0QWRDb250YWluZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5hZENvbnRhaW5lcl87XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBVSUVuZ2luZTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiIsIi8qKlxuICogVGhlIGNvcHlyaWdodCBpbiB0aGlzIHNvZnR3YXJlIGlzIGJlaW5nIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSBCU0QgTGljZW5zZSxcbiAqIGluY2x1ZGVkIGJlbG93LiBUaGlzIHNvZnR3YXJlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZCBjb250cmlidXRvclxuICogcmlnaHRzLCBpbmNsdWRpbmcgcGF0ZW50IHJpZ2h0cywgYW5kIG5vIHN1Y2ggcmlnaHRzIGFyZSBncmFudGVkIHVuZGVyIHRoaXMgbGljZW5zZS5cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMsIERhc2ggSW5kdXN0cnkgRm9ydW0uXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sXG4gKiBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXNcbiAqICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbiAqICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vclxuICogIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKiAgKiBOZWl0aGVyIHRoZSBuYW1lIG9mIERhc2ggSW5kdXN0cnkgRm9ydW0gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbiAqICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlXG4gKiAgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgQVMgSVMgQU5EIEFOWVxuICogIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcbiAqICBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuXG4gKiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCxcbiAqICBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUXG4gKiAgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxuICogIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxuICogIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcbiAqICBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRVxuICogIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG4vKipcbiAqIEBjbGFzc1xuICogQGlnbm9yZVxuICovXG5jbGFzcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoY29kZSwgbWVzc2FnZSwgZGF0YSkge1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlIHx8IG51bGw7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2UgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YSB8fCBudWxsO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRXJyb3I7Iiwi77u/XHJcblxyXG52YXIgQ29tbW9uVXRpbHMgPSB7fTtcclxuXHJcbi8qKiBcclxuICogcmV0dXJuIElFLElFNixJRTcsSUU4LElFOSxDaHJvbWUsRmlyZWZveCxPcGVyYSxXZWJLaXQsU2FmYXJpLE90aGVycyBcclxuICovXHJcbkNvbW1vblV0aWxzLmdldEJyb3dzZXJOYW1lID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc3lzID0ge307XHJcbiAgICB2YXIgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XHJcbiAgICB2YXIgcztcclxuICAgIHZhciBzO1xyXG4gICAgaWYgKHMgPSB1YS5tYXRjaCgvZWRnZVxcLyhbXFxkLl0rKS8pKSB7XHJcbiAgICAgIHN5cy5lZGdlID0gc1sxXTtcclxuICAgIH0gZWxzZSBpZiAocyA9IHVhLm1hdGNoKC9ydjooW1xcZC5dKylcXCkgbGlrZSBnZWNrby8pKSB7XHJcbiAgICAgIHN5cy5pZSA9IHNbMV07XHJcbiAgICB9IGVsc2UgaWYgKHMgPSB1YS5tYXRjaCgvbXNpZSAoW1xcZC5dKykvKSkge1xyXG4gICAgICBzeXMuaWUgPSBzWzFdO1xyXG4gICAgfSBlbHNlIGlmIChzID0gdWEubWF0Y2goL2ZpcmVmb3hcXC8oW1xcZC5dKykvKSkge1xyXG4gICAgICBzeXMuZmlyZWZveCA9IHNbMV07XHJcbiAgICB9IGVsc2UgaWYgKHMgPSB1YS5tYXRjaCgvY2hyb21lXFwvKFtcXGQuXSspLykpIHtcclxuICAgICAgc3lzLmNocm9tZSA9IHNbMV07XHJcbiAgICB9IGVsc2UgaWYgKHMgPSB1YS5tYXRjaCgvb3BlcmEuKFtcXGQuXSspLykpIHtcclxuICAgICAgc3lzLm9wZXJhID0gc1sxXTtcclxuICAgIH0gZWxzZSBpZiAocyA9IHVhLm1hdGNoKC92ZXJzaW9uXFwvKFtcXGQuXSspLipzYWZhcmkvKSkge1xyXG4gICAgICBzeXMuc2FmYXJpID0gc1sxXTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc3lzLmVkZ2UpIHJldHVybiB7IGJyb3dzZXIgOiBcIkVkZ2VcIiwgdmVyc2lvbiA6IHN5cy5lZGdlIH07XHJcbiAgICBpZiAoc3lzLmllKSByZXR1cm4geyBicm93c2VyIDogXCJJRVwiLCB2ZXJzaW9uIDogc3lzLmllIH07XHJcbiAgICBpZiAoc3lzLmZpcmVmb3gpIHJldHVybiB7IGJyb3dzZXIgOiBcIkZpcmVmb3hcIiwgdmVyc2lvbiA6IHN5cy5maXJlZm94IH07XHJcbiAgICBpZiAoc3lzLmNocm9tZSkgcmV0dXJuIHsgYnJvd3NlciA6IFwiQ2hyb21lXCIsIHZlcnNpb24gOiBzeXMuY2hyb21lIH07XHJcbiAgICBpZiAoc3lzLm9wZXJhKSByZXR1cm4geyBicm93c2VyIDogXCJPcGVyYVwiLCB2ZXJzaW9uIDogc3lzLm9wZXJhIH07XHJcbiAgICBpZiAoc3lzLnNhZmFyaSkgcmV0dXJuIHsgYnJvd3NlciA6IFwiU2FmYXJpXCIsIHZlcnNpb24gOiBzeXMuc2FmYXJpIH07XHJcbiAgICBcclxuICAgIHJldHVybiB7IGJyb3dzZXIgOiBcIlwiLCB2ZXJzaW9uIDogXCIwXCIgfTtcclxufTtcclxuXHJcbkNvbW1vblV0aWxzLmlzU2FmYXJpID0gZnVuY3Rpb24gKCkge1xyXG4gIGlmIChDb21tb25VdGlscy5nZXRCcm93c2VyTmFtZSgpLmJyb3dzZXIgPT09ICdTYWZhcmknKSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufTtcclxuXHJcbkNvbW1vblV0aWxzLmlzRmlyZWZveCA9IGZ1bmN0aW9uICgpIHtcclxuICBpZiAoQ29tbW9uVXRpbHMuZ2V0QnJvd3Nlck5hbWUoKS5icm93c2VyID09PSAnRmlyZWZveCcpIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59O1xyXG5cclxuQ29tbW9uVXRpbHMuaXNDaHJvbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgaWYgKENvbW1vblV0aWxzLmdldEJyb3dzZXJOYW1lKCkuYnJvd3NlciA9PT0gJ0Nocm9tZScpIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59O1xyXG5cclxuQ29tbW9uVXRpbHMuaXNDaHJvbWVjYXN0ID0gZnVuY3Rpb24gKCkge1xyXG4gIGlmICh3aW5kb3cuY2FzdCAmJiB3aW5kb3cuY2FzdC5fX3BsYXRmb3JtX18pIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59O1xyXG5cclxuQ29tbW9uVXRpbHMuaXNFZGdlID0gZnVuY3Rpb24oKSB7XHJcbiAgdmFyIHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XHJcbiAgdmFyIGlzRWRnZSA9IHVzZXJBZ2VudC5pbmRleE9mKFwiRWRnZVwiKSA+IC0xO1xyXG4gIHJldHVybiBpc0VkZ2U7XHJcbn07XHJcblxyXG5Db21tb25VdGlscy5pc0lFID0gZnVuY3Rpb24oKSB7XHJcbiAgaWYgKCEhd2luZG93LkFjdGl2ZVhPYmplY3QgfHwgXCJBY3RpdmVYT2JqZWN0XCIgaW4gd2luZG93KSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufTtcclxuXHJcbkNvbW1vblV0aWxzLmdldE9TVmVyc2lvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBvcywgb3NWZXJzaW9uO1xyXG5cclxuICAgIC8vIHN5c3RlbVxyXG4gICAgdmFyIG5BZ3QgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xyXG4gICAgdmFyIG5WZXIgPSBuYXZpZ2F0b3IuYXBwVmVyc2lvbjtcclxuXHJcbiAgICBvcyA9ICd1bmtub3duJztcclxuICAgIG9zVmVyc2lvbiA9ICd1bmtub3duJztcclxuICAgIHZhciBjbGllbnRTdHJpbmdzID0gW1xyXG4gICAge3M6ICdXaW5kb3dzIDEwJywgcjogLyhXaW5kb3dzIDEwLjB8V2luZG93cyBOVCAxMC4wKS99LFxyXG4gICAge3M6ICdXaW5kb3dzIDguMScsIHI6IC8oV2luZG93cyA4LjF8V2luZG93cyBOVCA2LjMpL30sXHJcbiAgICB7czogJ1dpbmRvd3MgOCcsIHI6IC8oV2luZG93cyA4fFdpbmRvd3MgTlQgNi4yKS99LFxyXG4gICAge3M6ICdXaW5kb3dzIDcnLCByOiAvKFdpbmRvd3MgN3xXaW5kb3dzIE5UIDYuMSkvfSxcclxuICAgIHtzOiAnV2luZG93cyBWaXN0YScsIHI6IC9XaW5kb3dzIE5UIDYuMC99LFxyXG4gICAge3M6ICdXaW5kb3dzIFNlcnZlciAyMDAzJywgcjogL1dpbmRvd3MgTlQgNS4yL30sXHJcbiAgICB7czogJ1dpbmRvd3MgWFAnLCByOiAvKFdpbmRvd3MgTlQgNS4xfFdpbmRvd3MgWFApL30sXHJcbiAgICB7czogJ1dpbmRvd3MgMjAwMCcsIHI6IC8oV2luZG93cyBOVCA1LjB8V2luZG93cyAyMDAwKS99LFxyXG4gICAge3M6ICdXaW5kb3dzIE1FJywgcjogLyhXaW4gOXggNC45MHxXaW5kb3dzIE1FKS99LFxyXG4gICAge3M6ICdXaW5kb3dzIDk4JywgcjogLyhXaW5kb3dzIDk4fFdpbjk4KS99LFxyXG4gICAge3M6ICdXaW5kb3dzIDk1JywgcjogLyhXaW5kb3dzIDk1fFdpbjk1fFdpbmRvd3NfOTUpL30sXHJcbiAgICB7czogJ1dpbmRvd3MgTlQgNC4wJywgcjogLyhXaW5kb3dzIE5UIDQuMHxXaW5OVDQuMHxXaW5OVHxXaW5kb3dzIE5UKS99LFxyXG4gICAge3M6ICdXaW5kb3dzIENFJywgcjogL1dpbmRvd3MgQ0UvfSxcclxuICAgIHtzOiAnV2luZG93cyAzLjExJywgcjogL1dpbjE2L30sXHJcbiAgICB7czogJ0FuZHJvaWQnLCByOiAvQW5kcm9pZC99LFxyXG4gICAge3M6ICdPcGVuIEJTRCcsIHI6IC9PcGVuQlNEL30sXHJcbiAgICB7czogJ1N1biBPUycsIHI6IC9TdW5PUy99LFxyXG4gICAge3M6ICdMaW51eCcsIHI6IC8oTGludXh8WDExKS99LFxyXG4gICAge3M6ICdpT1MnLCByOiAvKGlQaG9uZXxpUGFkfGlQb2QpL30sXHJcbiAgICB7czogJ01hYyBPUyBYJywgcjogL01hYyBPUyBYL30sXHJcbiAgICB7czogJ01hYyBPUycsIHI6IC8oTWFjUFBDfE1hY0ludGVsfE1hY19Qb3dlclBDfE1hY2ludG9zaCkvfSxcclxuICAgIHtzOiAnUU5YJywgcjogL1FOWC99LFxyXG4gICAge3M6ICdVTklYJywgcjogL1VOSVgvfSxcclxuICAgIHtzOiAnQmVPUycsIHI6IC9CZU9TL30sXHJcbiAgICB7czogJ09TLzInLCByOiAvT1NcXC8yL30sXHJcbiAgICB7czogJ1NlYXJjaCBCb3QnLCByOiAvKG51aGt8R29vZ2xlYm90fFlhbW15Ym90fE9wZW5ib3R8U2x1cnB8TVNOQm90fEFzayBKZWV2ZXNcXC9UZW9tYXxpYV9hcmNoaXZlcikvfVxyXG4gICAgXTtcclxuICAgIGZvciAodmFyIGlkIGluIGNsaWVudFN0cmluZ3MpIHtcclxuICAgICAgdmFyIGNzID0gY2xpZW50U3RyaW5nc1tpZF07XHJcbiAgICAgIGlmIChjcy5yLnRlc3QobkFndCkpIHtcclxuICAgICAgICBvcyA9IGNzLnM7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoL1dpbmRvd3MvLnRlc3Qob3MpKSB7XHJcbiAgICAgIG9zVmVyc2lvbiA9IC9XaW5kb3dzICguKikvLmV4ZWMob3MpWzFdO1xyXG4gICAgICBvcyA9ICdXaW5kb3dzJztcclxuICAgIH1cclxuXHJcbiAgICBzd2l0Y2ggKG9zKSB7XHJcbiAgICAgIGNhc2UgJ01hYyBPUyBYJzpcclxuICAgICAgb3NWZXJzaW9uID0gL01hYyBPUyBYICgxMFtcXC5cXF9cXGRdKykvLmV4ZWMobkFndClbMV07XHJcbiAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnQW5kcm9pZCc6XHJcbiAgICAgIG9zVmVyc2lvbiA9IC9BbmRyb2lkIChbXFwuXFxfXFxkXSspLy5leGVjKG5BZ3QpWzFdO1xyXG4gICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ2lPUyc6XHJcbiAgICAgIG9zVmVyc2lvbiA9IC9PUyAoXFxkKylfKFxcZCspXz8oXFxkKyk/Ly5leGVjKG5WZXIpO1xyXG4gICAgICBvc1ZlcnNpb24gPSBvc1ZlcnNpb25bMV0gKyAnLicgKyBvc1ZlcnNpb25bMl0gKyAnLicgKyAob3NWZXJzaW9uWzNdIHwgMCk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKCduQWd0OiAnICsgbkFndCk7XHJcbiAgICBjb25zb2xlLmxvZygnblZlcjogJyArIG5WZXIpO1xyXG4gICAgY29uc29sZS5sb2coJ29zOiAnICsgb3MpO1xyXG4gICAgY29uc29sZS5sb2coJ29zVmVyc2lvbjogJyArIG9zVmVyc2lvbik7XHJcblxyXG4gICAgdmFyIHBhdHRlcm4gPSAnTGludXgnO1xyXG4gICAgdmFyIHVhID0gJ01vemlsbGEvNS4wIChYMTE7IExpbnV4IGFybXY3bCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzYyLjAuMzIwMi4xNyBTYWZhcmkvNTM3LjM2IENyS2V5LzEuMjguMTAwNTU1JztcclxuICAgIHZhciBhcnJPU1YgPSBSZWdFeHAoJ1xcXFxiJyArIHBhdHRlcm4gKyAnKD86L1tcXFxcZC5dK3xbIFxcXFx3Ll0qKScsICdpJykuZXhlYyh1YSk7XHJcbiAgICB2YXIgb3N2ID0gYXJyT1NWWzBdO1xyXG4gICAgdmFyIHBhdHRlcm5MZW4gPSBwYXR0ZXJuLmxlbmd0aDtcclxuICAgIGNvbnNvbGUubG9nKCdwYXR0ZXJuIGxlbmd0aDogJyArIHBhdHRlcm5MZW4pO1xyXG4gICAgb3N2LmluZGV4T2YocGF0dGVybik7XHJcblxyXG4gICAgdmFyIG91dCA9IG9zdi5zbGljZShwYXR0ZXJuTGVuICsgMSk7XHJcbiAgICBjb25zb2xlLmxvZygnb3V0OiAnICsgb3V0KTtcclxuXHJcbiAgICBsZXQgYSA9IDI7XHJcbiAgICBsZXQgYiA9IGE7XHJcbn07XHJcblxyXG5Db21tb25VdGlscy5pc01vYmlsZVBsYXRmb3JtID0gZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8oaVBvZHxpUGhvbmV8aVBhZCkvKSB8fFxyXG4gICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2FuZHJvaWQnKSA+IC0xKTtcclxufTtcclxuXHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbkNvbW1vblV0aWxzLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgLy8gQWRkIHN0YXJ0c1dpdGggcHJvdG90eXBlIG1ldGhvZCB0byBTdHJpbmcgb2JqZWN0XHJcbiAgaWYgKCFTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGgpIHtcclxuICAgIC8vIEFkZCBwcm90b3R5cGUgbWV0aG9kcyBmb3IgTnVtYmVyIG9iamVjdFxyXG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKSB7XHJcbiAgICAgIE51bWJlci5pc0ludGVnZXIgPSBmdW5jdGlvbiAobnVtKSB7XHJcbiAgICAgICAgcmV0dXJuIChudW0gXiAwKSA9PT0gbnVtO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgICAgLy8gQWRkIHByb3RvdHlwZSBtZXRob2RzIGZvciBTdHJpbmcgb2JqZWN0XHJcbiAgICAgIGlmICghU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoKSB7XHJcbiAgICAgICAgU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoID0gZnVuY3Rpb24gKHNlYXJjaFN0cmluZywgcG9zaXRpb24pIHtcclxuICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gfHwgMDtcclxuICAgICAgICAgIHJldHVybiB0aGlzLmluZGV4T2Yoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikgPT09IHBvc2l0aW9uO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuQ29tbW9uVXRpbHMuZ2V0Rm9ybWF0VGltZSA9IGZ1bmN0aW9uICgpIHtcclxuICBsZXQgbWVzc2FnZSA9ICcnO1xyXG4gIGxldCBkID0gbnVsbDtcclxuICBcclxuICBkID0gbmV3IERhdGUoKTtcclxuICBtZXNzYWdlICs9ICdbJyArICgnMCcgKyAoZC5nZXRNb250aCgpICsgMSkpLnNsaWNlKC0yKSArICctJyArXHJcbiAgICAoJzAnICsgZC5nZXREYXRlKCkpLnNsaWNlKC0yKSArICcgJyArXHJcbiAgICAoJzAnICsgZC5nZXRIb3VycygpKS5zbGljZSgtMikgKyAnOicgK1xyXG4gICAgKCcwJyArIGQuZ2V0TWludXRlcygpKS5zbGljZSgtMikgKyAnOicgK1xyXG4gICAgKCcwJyArIGQuZ2V0U2Vjb25kcygpKS5zbGljZSgtMikgKyAnLicgK1xyXG4gICAgKCcwJyArIGQuZ2V0TWlsbGlzZWNvbmRzKCkpLnNsaWNlKC0zKSArICddJztcclxuICBcclxuICByZXR1cm4gbWVzc2FnZTtcclxufTtcclxuXHJcbkNvbW1vblV0aWxzLnRpbWVUb1N0cmluZyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gIGZ1bmN0aW9uIGZvcm1hdFRpbWVVbml0KHRpbWUpIHtcclxuICAgIHJldHVybiB0aW1lIDwgMTAgPyAnMCcgKyB0aW1lLnRvU3RyaW5nKCkgOiB0aW1lLnRvU3RyaW5nKCk7XHJcbiAgfVxyXG5cclxuICB2YWx1ZSA9IE1hdGgubWF4KHZhbHVlLCAwKTtcclxuICB2YXIgaCA9IE1hdGguZmxvb3IodmFsdWUgLyAzNjAwKTtcclxuICB2YXIgbSA9IE1hdGguZmxvb3IoKHZhbHVlICUgMzYwMCkgLyA2MCk7XHJcbiAgdmFyIHMgPSBNYXRoLmZsb29yKCh2YWx1ZSAlIDM2MDApICUgNjApO1xyXG4gIHJldHVybiAoaCA9PT0gMCA/ICcnIDogZm9ybWF0VGltZVVuaXQoaCkgKyAnOicpICsgZm9ybWF0VGltZVVuaXQobSkgKyAnOicgKyBmb3JtYXRUaW1lVW5pdChzKTtcclxufTtcclxuXHJcbi8vXHJcbkNvbW1vblV0aWxzLnRlc3QxID0gZnVuY3Rpb24oYWEpIHtcclxuICAgIENvbW1vblV0aWxzLmluaXQoKTtcclxuXHJcbiAgICB2YXIgczEgPSBcImFhYWJiY2RlclwiO1xyXG4gICAgdmFyIHJldCA9IHMxLnN0YXJ0c1dpdGgoJ2FhYScsIDApO1xyXG4gICAgdmFyIHJldDIgPSBzMS5zdGFydHNXaXRoKCdhYmMnLCAwKTtcclxuICAgIGNvbnNvbGUubG9nKCdzdGFydHNXaXRoIHJldDogJyArIHJldCk7XHJcbiAgICBjb25zb2xlLmxvZygnc3RhcnRzV2l0aCByZXQyOiAnICsgcmV0Mik7XHJcblxyXG4gICAgdmFyIGIxID0gTnVtYmVyLmlzSW50ZWdlcigxMjMpO1xyXG4gICAgdmFyIGIyID0gTnVtYmVyLmlzSW50ZWdlcigxMjMuMTIzKTtcclxuICAgIHZhciBiMyA9IE51bWJlci5pc0ludGVnZXIodW5kZWZpbmVkKTtcclxuICAgIGNvbnNvbGUubG9nKCdiMTogJyArIGIxKTtcclxuICAgIGNvbnNvbGUubG9nKCdiMjogJyArIGIyKTtcclxuICAgIGNvbnNvbGUubG9nKCdiMzogJyArIGIzKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbW1vblV0aWxzO1xyXG5cclxuXHJcbiIsIlxyXG5jb25zdCBTdHJpbmdVdGlscyA9IHtcclxuXHJcbiAgICAvLyBBcnJheUJ1ZmZlcui9rOS4uuWtl+espuS4su+8jOWPguaVsOS4ukFycmF5QnVmZmVy5a+56LGhXHJcbiAgICBhYjJzdHI6IGZ1bmN0aW9uKGJ1Zikge1xyXG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50MTZBcnJheShidWYpKTtcclxuICAgIH0sXHJcbiAgICAvLyDlrZfnrKbkuLLovazkuLpBcnJheUJ1ZmZlcuWvueixoe+8jOWPguaVsOS4uuWtl+espuS4slxyXG4gICAgc3RyMmFiOiBmdW5jdGlvbihzdHIpIHtcclxuICAgICAgICB2YXIgYnVmID0gbmV3IEFycmF5QnVmZmVyKHN0ci5sZW5ndGgqMik7IC8vIOavj+S4quWtl+espuWNoOeUqDLkuKrlrZfoioJcclxuICAgICAgICB2YXIgYnVmVmlldyA9IG5ldyBVaW50MTZBcnJheShidWYpO1xyXG4gICAgICAgIGZvciAodmFyIGk9MCwgc3RyTGVuPXN0ci5sZW5ndGg7IGk8c3RyTGVuOyBpKyspIHtcclxuICAgICAgICAgICAgYnVmVmlld1tpXSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYnVmO1xyXG4gICAgfSxcclxuICAgIGFiMnN0cl92MTogZnVuY3Rpb24oYnVmKSB7XHJcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoYnVmKSk7XHJcbiAgICB9LFxyXG4gICAgLy8g5a2X56ym5Liy6L2s5Li6QXJyYXlCdWZmZXLlr7nosaHvvIzlj4LmlbDkuLrlrZfnrKbkuLJcclxuICAgIHN0cjJhYl92MTogZnVuY3Rpb24oc3RyKSB7XHJcbiAgICAgICAgdmFyIGJ1ZiA9IG5ldyBBcnJheUJ1ZmZlcihzdHIubGVuZ3RoKTsgLy8g5q+P5Liq5a2X56ym5Y2g55SoMeS4quWtl+iKglxyXG4gICAgICAgIHZhciBidWZWaWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmKTtcclxuICAgICAgICBmb3IgKHZhciBpPTAsIHN0ckxlbiA9IHN0ci5sZW5ndGg7IGkgPCBzdHJMZW47IGkrKykge1xyXG4gICAgICAgICAgICBidWZWaWV3W2ldID0gc3RyLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBidWY7XHJcbiAgICB9LFxyXG4gICAgdThhcnJUb0I2NDogZnVuY3Rpb24odThhcnIpIHtcclxuICAgICAgICByZXR1cm4gYnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIHU4YXJyKSkuXHJcbiAgICAgICAgcmVwbGFjZSgvXFwrL2csICctJykucmVwbGFjZSgvXFwvL2csICdfJykucmVwbGFjZSgvPSokLywgJycpO1xyXG4gICAgfSxcclxuICAgIGI2NFRvVThhcnI6IGZ1bmN0aW9uKGVuY29kZWQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoIGF0b2IoZW5jb2RlZCkuc3BsaXQoJycpLm1hcCggZnVuY3Rpb24oYykgeyByZXR1cm4gYy5jaGFyQ29kZUF0KDApOyB9ICkgKTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFN0cmluZ1V0aWxzOyIsIi8qKlxyXG4gKiAgVGltZVJhbmdlcyB0byBzdHJpbmcgaGVscGVyXHJcbiAqL1xyXG5cclxuY29uc3QgVGltZVJhbmdlcyA9IHtcclxuICB0b1N0cmluZyA6IGZ1bmN0aW9uKHIpIHtcclxuICAgIHZhciBsb2cgPSAnJywgbGVuID0gci5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciBpPTA7IGk8bGVuOyBpKyspIHtcclxuICAgICAgbGV0IGJlZyA9IHIuc3RhcnQoaSk7XHJcbiAgICAgIGxldCBlbmQgPSByLmVuZChpKTtcclxuXHJcbiAgICAgIC8vY29uc29sZS5sb2coJ3N0YXJ0OiAnICsgYmVnICsgJywgZW5kOiAnICsgZW5kKTtcclxuICAgICAgbG9nICs9ICdbJyArIHIuc3RhcnQoaSkgKyAnLCcgKyByLmVuZChpKSArICddJztcclxuICAgIH1cclxuICAgIHJldHVybiBsb2c7XHJcbiAgfVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBUaW1lUmFuZ2VzO1xyXG4iLCLvu79cclxuLy8gU3R1ZHkgU2l0ZTpcclxuLy8gMS4gaHR0cHM6Ly9zZWdtZW50ZmF1bHQuY29tL2EvMTE5MDAwMDAwNDMyMjQ4N1xyXG5cclxuXHJcbnZhciBYSFJMb2FkZXIgPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgdGhpcy5jb25maWdfID0gY29uZmlnIHx8IHtcclxuICAgIHJlbWFpbmluZ0F0dGVtcHRzOiAxLFxyXG4gICAgcmV0cnlJbnRlcnZhbDogNDAwMFxyXG4gIH07XHJcblxyXG4gIC8vIGZvciBkZWJ1Z1xyXG4gIHRoaXMucHJpbnRsb2cgPSBmYWxzZTtcclxufTtcclxuXHJcblhIUkxvYWRlci5wcm90b3R5cGUubG9hZEludGVybmFsID0gZnVuY3Rpb24gKCkge1xyXG5cclxufTtcclxuXHJcblhIUkxvYWRlci5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIChyZXF1ZXN0KSB7XHJcbiAgaWYgKHRoaXMucHJpbnRsb2cpIHtcclxuICAgIGNvbnNvbGUubG9nKCdiZWdpbiBsb2FkIHRpbWU6ICcgKyAobmV3IERhdGUoKS5nZXRUaW1lKCkpLzEwMDApO1xyXG4gIH1cclxuXHJcbiAgdGhpcy5yZXF1ZXN0XyA9IHJlcXVlc3Q7XHJcbiAgY29uc29sZS5sb2codGhpcy5yZXF1ZXN0Xy51cmwgKyAnLCByZW1haW5pbmdBdHRlbXB0c186ICcgKyB0aGlzLmNvbmZpZ18ucmVtYWluaW5nQXR0ZW1wdHMpO1xyXG5cclxuICB0aGlzLm5lZWRGYWlsdXJlUmVwb3J0XyA9IHRydWU7XHJcblxyXG4gIHRoaXMueGhyXyA9IG5ldyBYTUxIdHRwUmVxdWVzdDtcclxuXHJcbiAgaWYgKHRoaXMucHJpbnRsb2cpIHtcclxuICAgIGNvbnNvbGUubG9nKCctLWJlZm9yZSBvcGVuLS0sIHJlYWR5U3RhdGU6ICcgKyB0aGlzLnhocl8ucmVhZHlTdGF0ZSk7XHJcbiAgfVxyXG5cclxuICB0aGlzLnhocl8ub3BlbignR0VUJywgdGhpcy5yZXF1ZXN0Xy51cmwpO1xyXG4gIHRoaXMueGhyXy5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xyXG4gIGlmICh0aGlzLnJlcXVlc3RfLnJhbmdlRW5kKSB7XHJcbiAgICB0aGlzLnhocl8uc2V0UmVxdWVzdEhlYWRlcignUmFuZ2UnLCdieXRlcz0nICsgdGhpcy5yZXF1ZXN0Xy5yYW5nZVN0YXJ0ICsgJy0nICsgKHRoaXMucmVxdWVzdF8ucmFuZ2VFbmQtMSkpO1xyXG4gIH1cclxuXHJcbiAgdGhpcy54aHJfLm9ubG9hZHN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc29sZS5sb2coJy0tb25sb2Fkc3RhcnQtLScpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IG9ubG9hZCA9IGZ1bmN0aW9uIChldikge1xyXG4gICAgaWYgKHRoaXMucHJpbnRsb2cpIHtcclxuICAgICAgY29uc29sZS5sb2coJy0tb25sb2FkLS0sIHN0YXR1czogJyArIHRoaXMueGhyXy5zdGF0dXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnByaW50bG9nKSB7XHJcbiAgICAgIGNvbnNvbGUuZGVidWcoXCJyZXNwb25zZSBsZW5ndGg6IFwiICsgdGhpcy54aHJfLnJlc3BvbnNlLmJ5dGVMZW5ndGgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLnhocl8uc3RhdHVzID49IDIwMCAmJiB0aGlzLnhocl8uc3RhdHVzIDw9IDI5OSkge1xyXG4gICAgICB0aGlzLnJlcXVlc3RfLmNiU3VjY2Vzcyh0aGlzLnhocl8ucmVzcG9uc2UpO1xyXG4gICAgICB0aGlzLm5lZWRGYWlsdXJlUmVwb3J0XyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IG9ubG9hZGVuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICh0aGlzLnByaW50bG9nKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCctLW9ubG9hZGVuZC0tLCByZW1haW5pbmdBdHRlbXB0c186ICcgKyB0aGlzLmNvbmZpZ18ucmVtYWluaW5nQXR0ZW1wdHMpO1xyXG4gICAgICBjb25zb2xlLmxvZygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5uZWVkRmFpbHVyZVJlcG9ydF8pIHtcclxuICAgICAgaWYgKHRoaXMuY29uZmlnXy5yZW1haW5pbmdBdHRlbXB0cyA+IDApIHtcclxuICAgICAgICB0aGlzLmNvbmZpZ18ucmVtYWluaW5nQXR0ZW1wdHMgLS07XHJcblxyXG4gICAgICAgICAgLy8gQkQsIHRlc3QgcmV0cnkgY291bnRzXHJcbiAgICAgICAgICAvLyBpZiAodGhpcy5jb25maWdfLnJlbWFpbmluZ0F0dGVtcHRzID09PSAwKSB7XHJcbiAgICAgICAgICAvLyAgIHRoaXMucmVxdWVzdF8udXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3QvMS90bXAvdGVzdC50eHQnO1xyXG4gICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgLy8gLy8gRURcclxuXHJcbiAgICAgICAgICBpZiAodGhpcy5wcmludGxvZykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnYmVnaW4gbG9hZCB0aW1lb3V0OiAnICsgKG5ldyBEYXRlKCkuZ2V0VGltZSgpKS8xMDAwKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvL3NldFRpbWVvdXQocmV0cnlGdW5jLCB0aGlzLmNvbmZpZ18ucmV0cnlJbnRlcnZhbCk7XHJcbiAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMubG9hZC5iaW5kKHRoaXMsIHRoaXMucmVxdWVzdF8pLCB0aGlzLmNvbmZpZ18ucmV0cnlJbnRlcnZhbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMueGhyXy5vbnByb2dyZXNzID0gZnVuY3Rpb24gKGV2KSB7XHJcbiAgICAgIGlmICh0aGlzLnByaW50bG9nKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYC0tb25wcm9ncmVzcy0tLCBsb2FkZWQ6JHtldi5sb2FkZWR9LCB0b3RhbDoke2V2LnRvdGFsfWApO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMueGhyXy5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCctLW9udGltZW91dC0tJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMueGhyXy5vbmFib3J0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnLS1vbmFib3J0LS0nKTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy54aHJfLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCctLW9uZXJyb3ItLScpO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLnhocl8ub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKGV2KSB7XHJcbiAgICAgIGlmICh0aGlzLnByaW50bG9nKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJy0tb25yZWFkeXN0YXRlY2hhbmdlLS0sIHJlYWR5c3RhdGU6ICcgKyB0aGlzLnJlYWR5U3RhdGUpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMueGhyXy5vbmxvYWQgPSBvbmxvYWQuYmluZCh0aGlzKTtcclxuICAgIHRoaXMueGhyXy5vbmxvYWRlbmQgPSBvbmxvYWRlbmQuYmluZCh0aGlzKTtcclxuXHJcbiAgICBjb25zb2xlLmxvZygnLS1iZWZvcmUgc2VuZC0tLCByZWFkeVN0YXRlOiAnICsgdGhpcy54aHJfLnJlYWR5U3RhdGUpO1xyXG4gICAgdGhpcy54aHJfLnNlbmQoKTtcclxuICB9O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgWEhSTG9hZGVyO1xyXG4iXX0=\n",
			"file": "dist/liteH5Player.debug.js",
			"file_size": 1470589,
			"file_write_time": 131612318485260238,
			"settings":
			{
				"buffer_size": 1470451,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			}
		},
		{
			"file": "src/media_engine.js",
			"settings":
			{
				"buffer_size": 7204,
				"encoding": "UTF-8 with BOM",
				"line_ending": "Windows"
			}
		},
		{
			"file": "samples/demo/main.js",
			"settings":
			{
				"buffer_size": 9472,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			}
		},
		{
			"file": "samples/demo/assets.js",
			"settings":
			{
				"buffer_size": 22520,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			}
		},
		{
			"file": "samples/demo/index.html",
			"settings":
			{
				"buffer_size": 4217,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			}
		},
		{
			"file": "src/ui/ui_engine.js",
			"settings":
			{
				"buffer_size": 5182,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			}
		},
		{
			"file": "samples/demo/main.css",
			"settings":
			{
				"buffer_size": 5112,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			}
		}
	],
	"build_system": "",
	"build_system_choices":
	[
	],
	"build_varint": "",
	"command_palette":
	{
		"height": 392.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 392.0
	},
	"console":
	{
		"height": 0.0,
		"history":
		[
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"expanded_folders":
	[
		"/D/xampp/htdocs/1/LiteH5Player",
		"/D/xampp/htdocs/1/LiteH5Player/samples",
		"/D/xampp/htdocs/1/LiteH5Player/samples/demo",
		"/D/xampp/htdocs/1/LiteH5Player/src",
		"/D/xampp/htdocs/1/LiteH5Player/src/ads"
	],
	"file_history":
	[
		"/D/xampp/htdocs/1/LiteH5Player/src/ads/ads_engine.js",
		"/D/xampp/htdocs/1/LiteH5Player/src/TestFeature.js",
		"/D/xampp/htdocs/1/LiteH5Player/src/Player.js",
		"/D/xampp/htdocs/1/LiteH5Player/src/media_engine.js",
		"/D/xampp/htdocs/1/LiteH5Player/src/media_source_engine.js",
		"/D/xampp/htdocs/1/LiteH5Player/samples/demo/main.js",
		"/D/xampp/htdocs/1/LiteH5Player/src/ui/ui_engine.js",
		"/D/xampp/htdocs/1/LiteH5Player/samples/demo/index.html",
		"/D/xampp/htdocs/1/LiteH5Player/src/drm_engine.js",
		"/D/xampp/htdocs/1/LiteH5Player/src/SourceBufferWrapper.js",
		"/D/xampp/htdocs/1/LiteH5Player/src/core/CoreEvents.js",
		"/D/xampp/htdocs/1/LiteH5Player/samples/demo/main.css",
		"/D/xampp/htdocs/1/LiteH5Player/samples/test_simple.html",
		"/D/xampp/htdocs/1/LiteH5Player/src/core/EventBus.js",
		"/D/xampp/htdocs/1/LiteH5Player/samples/demo/assets.js",
		"/D/xampp/htdocs/1/LiteH5Player/src/utils/common_utils.js",
		"/D/xampp/htdocs/1/LiteH5Player/src/core/Debug.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/test_subtitles.html",
		"/D/xampp/htdocs/1/LiteH5Player/tool/download.html",
		"/D/xampp/htdocs/1/frontDemo/samples/css/css_display.html",
		"/D/xampp/htdocs/opensource/dash.js/src/core/Debug.js",
		"/D/xampp/htdocs/2/pd/mp4/jwplayer_demo/jwplayer_demo_dash.mpd",
		"/D/xampp/htdocs/1/LiteH5Player/src/index.js",
		"/D/xampp/htdocs/1/LiteH5Player/solution.sublime-project",
		"/D/xampp/htdocs/1/LiteH5Player/src/protection/controller/ProtectionKeyController.js",
		"/D/xampp/htdocs/1/LiteH5Player/Gruntfile.js",
		"/D/xampp/htdocs/1/LiteH5Player/src/cast/cast_receiver - 副本.js",
		"/D/xampp/htdocs/1/LiteH5Player/src/cast/cast_receiver.js",
		"/D/xampp/htdocs/1/LiteH5Player/src/cast/cast_sender.js",
		"/D/xampp/htdocs/1/LiteH5Player/src/cast/cast_utils.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/html/test.html",
		"/D/xampp/htdocs/1/LiteH5Player/tests/html/index",
		"/D/xampp/htdocs/1/LiteH5Player/samples/demo/main2.css",
		"/D/xampp/htdocs/1/LiteH5Player/samples/fp/index.html",
		"/D/xampp/htdocs/1/LiteH5Player/README.md",
		"/D/xampp/htdocs/1/LiteH5Player/package.json",
		"/D/xampp/htdocs/1/LiteH5Player/node_modules/grunt-legacy-util/test/index.js",
		"/D/xampp/htdocs/1/LiteH5Player/test/utils/xhr_loader_unit.js",
		"/D/xampp/htdocs/1/LiteH5Player/test/utils/xhr_loader_unit.html",
		"/D/xampp/htdocs/1/LiteH5Player/spec/test/Hello2.spec.js",
		"/D/xampp/htdocs/1/LiteH5Player/spec/support/jasmine.json",
		"/D/xampp/htdocs/1/LiteH5Player/test1/Hello_unit.js",
		"/D/xampp/htdocs/1/LiteH5Player/spec/test/Hello_unit.js",
		"/D/xampp/htdocs/1/LiteH5Player/spec/test/Hello2_unit.js",
		"/D/xampp/htdocs/1/LiteH5Player/src/utils/xhr_loader.js",
		"/D/xampp/htdocs/1/LiteH5Player/test/hls/hls_parser_unit.html",
		"/D/xampp/htdocs/1/LiteH5Player/spec/run.js",
		"/D/xampp/htdocs/1/LiteH5Player/test/Hello.spec.js",
		"/D/xampp/htdocs/1/LiteH5Player/spec/test/Hello.spec.js",
		"/D/xampp/htdocs/1/LiteH5Player/test/tmp/Hello.spec.js",
		"/D/xampp/htdocs/1/LiteH5Player/test/tmp/Hello2.spec.js",
		"/D/xampp/htdocs/1/LiteH5Player/test/tmp/Hello2.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_jasmine/package.json",
		"/D/xampp/htdocs/1/LiteH5Player/src/hls/hls_parser.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_jasmine/note.txt",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_jasmine/spec/run.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_jasmine/spec/helpers/reporter.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_jasmine/spec/support/jasmine.json",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_jasmine/lib/Hello.spec.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_jasmine/spec/Hello2.spec.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_jasmine/lib/Hello2.spec.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_jasmine/Hello2.spec.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/html/1207/index.html",
		"/D/xampp/htdocs/1/LiteH5Player/tests/css/note.txt",
		"/D/xampp/htdocs/1/LiteH5Player/tests/css/linear-gradient.html",
		"/D/xampp/htdocs/opensource/shaka-player/lib/cast/cast_proxy.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_jasmine/spec/Hello.spec.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_jasmine/src/Hello.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_jasmine/src/Hello2.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_browserify/node.txt",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_browserify/test2.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_browserify/test2_lib.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_browserify/package.json",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_browserify/test1.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_browserify/test.html",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_browserify/es6_01.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_browserify/lib_es6.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_browserify/main.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_browserify/main_es6_out.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_browserify/lib.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_browserify/main_es6.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_babel/es6.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_babelify/package.json",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_babel/test.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_babelify/test.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_babelify/test_out.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_npm/package.json",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_npm/test1.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_babelify/es6.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_npm/test.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/t_babel/note.txt",
		"/D/xampp/htdocs/2/myhls/common/test.m3u8",
		"/D/xampp/htdocs/1/LiteH5Player/test/hls/hls_parser_unit.js",
		"/D/xampp/htdocs/1/LiteH5Player/src/utils/string_utils.js",
		"/D/xampp/htdocs/1/LiteH5Player/src/protection/models/ProtectionModel_21Jan2015.js",
		"/D/xampp/htdocs/1/LiteH5Player/src/protection/models/ProtectionModel_3Feb2014.js",
		"/D/xampp/htdocs/opensource/shaka-player/test/hls/hls_parser_unit.js",
		"/D/xampp/htdocs/1/LiteH5Player/src/text_engine.js",
		"/D/xampp/htdocs/1/LiteH5Player/tests/html/1201.html",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/tests/html/index",
		"/D/pj_company/main/App/SamplePlayer/html5/samples/player/sampleplayer/index.html",
		"/D/pj_company/main/App/SamplePlayer/html5/samples/player/sampleplayer/app/main.js",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/tests/test_html.html",
		"/D/pj_company/main/App/SamplePlayer/html5/samples/player/index.html",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/tests/html/3.html",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/tests/html/2.html",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/tests/html/test.html",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/tests/html/4.html",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/src/utils/common_utils.js",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/tests/html/1124.html",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/samples/demo/index.html",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/tests/test_subtitles.html",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/tests/test_recursion_sum.html",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/samples/demo/main.js",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/tests/test_mse.html",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/samples/index.html",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/tmp/tmp.html",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/samples/app/main.css",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/samples/demo/main.css",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/samples/app/main.js",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/src/Player.js",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/src/media_engine.js",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/src/core/CoreEvents.js",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/tests/test_tmp.html",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/samples/cast/CastReferencePlayer/player.js",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/samples/cast/sender.html",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/src/cast/cast_sender.js",
		"/D/xampp/htdocs/1/ark64_frontend/LiteH5Player/samples/cast/receiver.html"
	],
	"find":
	{
		"height": 41.0
	},
	"find_in_files":
	{
		"height": 128.0,
		"where_history":
		[
			"<current file>",
			"<current file>,D:\\xampp\\htdocs\\1\\LiteH5Player\\src",
			"<current file>",
			"<current file>,D:\\xampp\\htdocs\\1\\LiteH5Player\\src",
			"<current file>",
			"<current file>,D:\\xampp\\htdocs\\1\\LiteH5Player\\src",
			"<current file>",
			"<current file>,D:\\xampp\\htdocs\\1\\LiteH5Player\\src",
			"<current file>",
			"<current file>,D:\\xampp\\htdocs\\1\\LiteH5Player\\src,D:\\xampp\\htdocs\\1\\LiteH5Player\\samples",
			"<current file>,D:\\xampp\\htdocs\\1\\LiteH5Player\\src",
			"<current file>",
			"<current file>,D:\\xampp\\htdocs\\1\\LiteH5Player\\samples\\demo,D:\\xampp\\htdocs\\1\\LiteH5Player\\src",
			"<current file>,D:\\xampp\\htdocs\\1\\LiteH5Player\\samples\\demo",
			"<current file>",
			"<current file>,D:\\xampp\\htdocs\\1\\LiteH5Player\\src",
			"<current file>",
			"<current file>,D:\\xampp\\htdocs\\1\\ark64_frontend\\LiteH5Player\\src",
			"<current file>",
			"<current file>,D:\\xampp\\htdocs\\1\\ark64_frontend\\LiteH5Player\\src",
			"<current file>",
			"<current file>,D:\\xampp\\htdocs\\1\\ark64_frontend\\LiteH5Player\\src",
			"<current file>",
			"<current file>,D:\\xampp\\htdocs\\1\\ark64_frontend\\LiteH5Player\\src",
			"<current file>",
			"<current file>,D:\\xampp\\htdocs\\1\\ark64_frontend\\LiteH5Player\\src",
			"<current file>",
			"<current file>,D:\\xampp\\htdocs\\1\\ark64_frontend\\LiteH5Player\\src",
			"<current file>",
			"<current file>,D:\\xampp\\htdocs\\1\\ark64_frontend\\LiteH5Player\\src",
			"<current file>",
			"<current file>,D:\\xampp\\htdocs\\1\\ark64_frontend\\LiteH5Player\\src",
			"<current file>",
			"<current file>,D:\\xampp\\htdocs\\1\\ark64_frontend\\LiteH5Player\\src",
			"<current file>",
			"<current file>,D:\\xampp\\htdocs\\1\\ark64_frontend\\LiteH5Player\\src",
			"<current file>",
			"<current file>,D:\\xampp\\htdocs\\1\\ark64_frontend\\LiteH5Player\\src",
			"<current file>",
			"<current file>,D:\\xampp\\htdocs\\1\\ark64_frontend\\LiteH5Player\\src",
			"<current file>"
		]
	},
	"find_state":
	{
		"case_sensitive": true,
		"find_history":
		[
			"VOLUME_CHANGED",
			"onMediaWaiting",
			"IMPRESSION",
			"LOADED",
			"IsSkipAdBreak",
			"startAds",
			"requestAds",
			"startAds",
			"addPD",
			"onMediaLoadedMetadata",
			"initPlayerConfig",
			"oldmtn.Player",
			"adContainer_",
			"UIEngine",
			"cfg_.media",
			"playerContainer_",
			"getUIElements",
			"media",
			"h5p-ads-container",
			"h5p-video-ads",
			"onVideoClick",
			"onMediaPlaying",
			"progress",
			"onMediaCanplay",
			"onMediaLoadedMetadata",
			"loadstart",
			"onMediaPlaying",
			"MEDIA_PLAYING",
			"--onMediaPlaying--",
			"console.log",
			"durationchange",
			"addPD",
			"onMediaMetadata--",
			"Test",
			"Test+",
			"--');",
			"--onMedia",
			"onMediaEnded",
			"loadeddata",
			"metadata",
			"startAds",
			"onMediaLoadedMetadata",
			"requestAds",
			"onMediaLoadedMetadata",
			"addPD",
			"initCom",
			"function close",
			"updateProgress",
			"onMediaTimeupdated",
			"TIMEUPDATE",
			"initUI",
			"open",
			"initComponent",
			"adsEngine_ =",
			"addPD",
			"open",
			"init",
			"removeBuffer",
			"idBtnOpen",
			"onAdsManagerLoaded",
			"adsEngine_",
			"xhrLoader_",
			"initData",
			"initComponent",
			"initData",
			"initUI",
			"open",
			"onLog",
			"IsSkipAdBreak",
			"AD_BREAK_READY",
			"updateCurrentTime_",
			"media_",
			"IsSkipAdBreak",
			"AD_BREAK_READY",
			"onMediaSeeking",
			"restoreCustomPlaybackStateOnAdBreakComplete ",
			"currentTime_",
			"updateCurrentTime_",
			"IsSkipAdBreak",
			"ad_br",
			"AD_BREAK_READY",
			"\\",
			"--google.ima.AdEvent.Type.STARTED--",
			"AD_BREAK_READY",
			"requestAds",
			"seek",
			"adbreak",
			"seek",
			"LOADED",
			"EventBus",
			"isPaused_",
			"adsEngine_.",
			"onMediaLoadedMetadata",
			"onAdAdsManagerLoaded",
			"startAds",
			"initialUserAction",
			"contentInitialized_",
			"onMediaLoadedMetadata",
			"addPD",
			"requestAds",
			"addPD",
			"onMediaLoadedMetadata",
			"startAds",
			"addPD",
			"startAds",
			"onMediaLoadedMetadata",
			"startAds",
			"addPD",
			"open",
			"onMediaLoadedMetadata",
			"on.",
			"on.(",
			"on",
			"MEDIA_LOADEDMETADATA",
			"onMediaLoadedMetadata",
			"pause",
			"currentTime",
			"currentTime ",
			"onMediaLoadedMetadata",
			"adsEngine_",
			"addEventListeners",
			"initData",
			"initUI",
			"initData",
			"initUI",
			"this.",
			"this.context_",
			"getHandlerIdx"
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": false,
		"replace_history":
		[
			"isSkipAdBreak",
			"getMediaInfo",
			"media_",
			"this.debug_.log",
			"');",
			"+onMedia",
			"open",
			"adsEngine_.isPlayingAd",
			"isPlayingAd",
			"this.debug_",
			"adsEngine_.isLinearAd()",
			"adsEngine_.isPlaying()",
			"printLog",
			"this.debug_",
			"logTime",
			"10.2.68.64",
			"onAdStarted",
			"onAdContentResumeRequested",
			"onAdContentPauseRequested",
			"AD_CONTENT_RESUME_REQUESTED",
			"AD_CONTENT_PAUSE_REQUESTED",
			"AD_STARTED",
			"AD_COMPLETE",
			"let",
			"advertising_",
			"this.height_",
			"this.width_",
			"this.adsManager_",
			"onAdEvent",
			"startAdsManager",
			"onAdError",
			"onAdsManagerLoaded",
			"MEDIA_ENDED",
			"AdsEngine",
			"drmInitData",
			"drmInitDataType",
			"this.cfg_.media",
			"10.2.68.64",
			"oldmtn",
			"player",
			"h5p-video-container",
			"h5p-chrome-bottom",
			"timerControlBar",
			"querySelector('.",
			"querySelector('h5p",
			".h5p",
			"class=\"h5p-",
			"10.2.68.51",
			"utils/string_utils",
			"StringUtils",
			"TestFeature",
			"this.media_",
			"initWV_MP4",
			"initCK_MP4",
			"initCK_WebM",
			"laUrl",
			"this.laUrl_",
			"this.certificateUrl_",
			"this.certificateUrl",
			"this.laUrl",
			"xhr2",
			"10.2.68.51",
			"this.mseEngine_",
			"this.drmEngine_",
			"DRMEngine",
			"this.mediaEngine_",
			"MediaEngine",
			"CastUtils",
			"CastReceiver",
			"CastUtils",
			"RemotePlayerHandler",
			"CastSender",
			"CastUtils",
			"onTimeupdate",
			"this.textEngine_",
			"TextEngine",
			"var",
			"xhr",
			"browser",
			"CommonUtils",
			"CommonUtil",
			"xhr",
			"localhost",
			"MediaSourceEngine",
			"65421_chromecast",
			"request",
			"this.request_",
			"remainingAttempts_",
			"this.xhr_",
			"media",
			"onSessionMessage",
			"onNeedKey",
			"ProtectionModel_fp",
			"console.log",
			"Player",
			"micromtn",
			"MediaPlayer.prototype.",
			"initWebM",
			"session_",
			"micromtn.RemotePlayerHandler",
			"micromtn.CastSender.",
			"CastSender",
			"micromtn",
			"microMtn.CastReceiver.prototype",
			"CastReceiver",
			"LiteCastReceiver",
			"oldmtn",
			"CastReceiver",
			"OMReceiver",
			"this.remotePlayerHandler",
			"RemotePlayerHandler",
			"10.2.72.6",
			"this.castSession",
			"this.remotePlayerController",
			"this.remotePlayer",
			"castSession",
			"remotePlayerController",
			"remotePlayer",
			"initCast",
			"addVolume2",
			"addVolume",
			"loadMedia",
			"onMediaLoadedChanged",
			"onConnectedChanged",
			"my_onMediaLoadedChanged",
			"console.log",
			"10.2.72.133",
			"10.2.68.51"
		],
		"reverse": false,
		"show_context": true,
		"use_buffer2": true,
		"whole_word": true,
		"wrap": true
	},
	"groups":
	[
		{
			"selected": 1,
			"sheets":
			[
				{
					"buffer": 0,
					"file": "src/player.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 13101,
						"regions":
						{
						},
						"selection":
						[
							[
								6927,
								6927
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 4873.0,
						"zoom_level": 1.0
					},
					"stack_index": 4,
					"type": "text"
				},
				{
					"buffer": 1,
					"file": "src/ads/ads_engine.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 14764,
						"regions":
						{
						},
						"selection":
						[
							[
								13578,
								13578
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 7321.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"type": "text"
				},
				{
					"buffer": 2,
					"file": "dist/liteH5Player.debug.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1470451,
						"regions":
						{
						},
						"selection":
						[
							[
								62606,
								62606
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.sublime-syntax",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 38433.0,
						"zoom_level": 1.0
					},
					"stack_index": 7,
					"type": "text"
				},
				{
					"buffer": 3,
					"file": "src/media_engine.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 7204,
						"regions":
						{
						},
						"selection":
						[
							[
								3727,
								3727
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.sublime-syntax",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 2441.0,
						"zoom_level": 1.0
					},
					"stack_index": 3,
					"type": "text"
				},
				{
					"buffer": 4,
					"file": "samples/demo/main.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 9472,
						"regions":
						{
						},
						"selection":
						[
							[
								5541,
								5545
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.sublime-syntax",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 3493.0,
						"zoom_level": 1.0
					},
					"stack_index": 2,
					"type": "text"
				},
				{
					"buffer": 5,
					"file": "samples/demo/assets.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 22520,
						"regions":
						{
						},
						"selection":
						[
							[
								21218,
								21218
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.sublime-syntax",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 7121.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"type": "text"
				},
				{
					"buffer": 6,
					"file": "samples/demo/index.html",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 4217,
						"regions":
						{
						},
						"selection":
						[
							[
								1877,
								1886
							]
						],
						"settings":
						{
							"syntax": "Packages/HTML/HTML.sublime-syntax",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 480.0,
						"zoom_level": 1.0
					},
					"stack_index": 5,
					"type": "text"
				},
				{
					"buffer": 7,
					"file": "src/ui/ui_engine.js",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 5182,
						"regions":
						{
						},
						"selection":
						[
							[
								4972,
								4972
							]
						],
						"settings":
						{
							"syntax": "Packages/JavaScript/JavaScript.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 420.0,
						"zoom_level": 1.0
					},
					"stack_index": 8,
					"type": "text"
				},
				{
					"buffer": 8,
					"file": "samples/demo/main.css",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 5112,
						"regions":
						{
						},
						"selection":
						[
							[
								3026,
								3026
							]
						],
						"settings":
						{
							"syntax": "Packages/CSS/CSS.sublime-syntax",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 2601.0,
						"zoom_level": 1.0
					},
					"stack_index": 6,
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 28.0
	},
	"input":
	{
		"height": 40.0
	},
	"layout":
	{
		"cells":
		[
			[
				0,
				0,
				1,
				1
			]
		],
		"cols":
		[
			0.0,
			1.0
		],
		"rows":
		[
			0.0,
			1.0
		]
	},
	"menu_visible": true,
	"output.find_results":
	{
		"height": 0.0
	},
	"pinned_build_system": "",
	"project": "solution.sublime-project",
	"replace":
	{
		"height": 52.0
	},
	"save_all_on_build": true,
	"select_file":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"select_symbol":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"selected_group": 0,
	"settings":
	{
	},
	"show_minimap": true,
	"show_open_files": false,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 231.0,
	"status_bar_visible": true,
	"template_settings":
	{
	}
}
