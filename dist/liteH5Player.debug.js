(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){
/*! codem-isoboxer v0.3.5 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt */
var ISOBoxer = {};

ISOBoxer.parseBuffer = function(arrayBuffer) {
  return new ISOFile(arrayBuffer).parse();
};

ISOBoxer.addBoxProcessor = function(type, parser) {
  if (typeof type !== 'string' || typeof parser !== 'function') {
    return;
  }
  ISOBox.prototype._boxProcessors[type] = parser;
};

ISOBoxer.createFile = function() {
  return new ISOFile();
};

// See ISOBoxer.append() for 'pos' parameter syntax
ISOBoxer.createBox = function(type, parent, pos) {
  var newBox = ISOBox.create(type);
  if (parent) {
    parent.append(newBox, pos);
  }
  return newBox;
};

// See ISOBoxer.append() for 'pos' parameter syntax
ISOBoxer.createFullBox = function(type, parent, pos) {
  var newBox = ISOBoxer.createBox(type, parent, pos);
  newBox.version = 0;
  newBox.flags = 0;
  return newBox;
};

ISOBoxer.Utils = {};
ISOBoxer.Utils.dataViewToString = function(dataView, encoding) {
  var impliedEncoding = encoding || 'utf-8';
  if (typeof TextDecoder !== 'undefined') {
    return new TextDecoder(impliedEncoding).decode(dataView);
  }
  var a = [];
  var i = 0;

  if (impliedEncoding === 'utf-8') {
    /* The following algorithm is essentially a rewrite of the UTF8.decode at
    http://bannister.us/weblog/2007/simple-base64-encodedecode-javascript/
    */

    while (i < dataView.byteLength) {
      var c = dataView.getUint8(i++);
      if (c < 0x80) {
        // 1-byte character (7 bits)
      } else if (c < 0xe0) {
        // 2-byte character (11 bits)
        c = (c & 0x1f) << 6;
        c |= (dataView.getUint8(i++) & 0x3f);
      } else if (c < 0xf0) {
        // 3-byte character (16 bits)
        c = (c & 0xf) << 12;
        c |= (dataView.getUint8(i++) & 0x3f) << 6;
        c |= (dataView.getUint8(i++) & 0x3f);
      } else {
        // 4-byte character (21 bits)
        c = (c & 0x7) << 18;
        c |= (dataView.getUint8(i++) & 0x3f) << 12;
        c |= (dataView.getUint8(i++) & 0x3f) << 6;
        c |= (dataView.getUint8(i++) & 0x3f);
      }
      a.push(String.fromCharCode(c));
    }
  } else { // Just map byte-by-byte (probably wrong)
    while (i < dataView.byteLength) {
      a.push(String.fromCharCode(dataView.getUint8(i++)));
    }
  }
  return a.join('');
};

ISOBoxer.Utils.utf8ToByteArray = function(string) {
  // Only UTF-8 encoding is supported by TextEncoder
  var u, i;
  if (typeof TextEncoder !== 'undefined') {
    u = new TextEncoder().encode(string);
  } else {
    u = [];
    for (i = 0; i < string.length; ++i) {
      var c = string.charCodeAt(i);
      if (c < 0x80) {
        u.push(c);
      } else if (c < 0x800) {
        u.push(0xC0 | (c >> 6));
        u.push(0x80 | (63 & c));
      } else if (c < 0x10000) {
        u.push(0xE0 | (c >> 12));
        u.push(0x80 | (63 & (c >> 6)));
        u.push(0x80 | (63 & c));
      } else {
        u.push(0xF0 | (c >> 18));
        u.push(0x80 | (63 & (c >> 12)));
        u.push(0x80 | (63 & (c >> 6)));
        u.push(0x80 | (63 & c));
      }
    }
  }
  return u;
};

// Method to append a box in the list of child boxes
// The 'pos' parameter can be either:
//   - (number) a position index at which to insert the new box
//   - (string) the type of the box after which to insert the new box
//   - (object) the box after which to insert the new box
ISOBoxer.Utils.appendBox = function(parent, box, pos) {
  box._offset = parent._cursor.offset;
  box._root = (parent._root ? parent._root : parent);
  box._raw = parent._raw;
  box._parent = parent;

  if (pos === -1) {
    // The new box is a sub-box of the parent but not added in boxes array,
    // for example when the new box is set as an entry (see dref and stsd for example)
    return;
  }

  if (pos === undefined || pos === null) {
    parent.boxes.push(box);
    return;
  }

  var index = -1,
      type;

  if (typeof pos === "number") {
    index = pos;
  } else {
    if (typeof pos === "string") {
      type = pos;
    } else if (typeof pos === "object" && pos.type) {
      type = pos.type;
    } else {
      parent.boxes.push(box);
      return;
    }

    for (var i = 0; i < parent.boxes.length; i++) {
      if (type === parent.boxes[i].type) {
        index = i + 1;
        break;
      }
    }
  }
  parent.boxes.splice(index, 0, box);
};

if (typeof exports !== 'undefined') {
  exports.parseBuffer     = ISOBoxer.parseBuffer;
  exports.addBoxProcessor = ISOBoxer.addBoxProcessor;
  exports.createFile      = ISOBoxer.createFile;
  exports.createBox       = ISOBoxer.createBox;
  exports.createFullBox   = ISOBoxer.createFullBox;
  exports.Utils           = ISOBoxer.Utils;
}

ISOBoxer.Cursor = function(initialOffset) {
  this.offset = (typeof initialOffset == 'undefined' ? 0 : initialOffset);
};

var ISOFile = function(arrayBuffer) {
  this._cursor = new ISOBoxer.Cursor();
  this.boxes = [];
  if (arrayBuffer) {
    this._raw = new DataView(arrayBuffer);
  }
};

ISOFile.prototype.fetch = function(type) {
  var result = this.fetchAll(type, true);
  return (result.length ? result[0] : null);
};

ISOFile.prototype.fetchAll = function(type, returnEarly) {
  var result = [];
  ISOFile._sweep.call(this, type, result, returnEarly);
  return result;
};

ISOFile.prototype.parse = function() {
  this._cursor.offset = 0;
  this.boxes = [];
  while (this._cursor.offset < this._raw.byteLength) {
    var box = ISOBox.parse(this);

    // Box could not be parsed
    if (typeof box.type === 'undefined') break;

    this.boxes.push(box);
  }
  return this;
};

ISOFile._sweep = function(type, result, returnEarly) {
  if (this.type && this.type == type) result.push(this);
  for (var box in this.boxes) {
    if (result.length && returnEarly) return;
    ISOFile._sweep.call(this.boxes[box], type, result, returnEarly);
  }
};

ISOFile.prototype.write = function() {

  var length = 0,
      i;

  for (i = 0; i < this.boxes.length; i++) {
    length += this.boxes[i].getLength(false);
  }

  var bytes = new Uint8Array(length);
  this._rawo = new DataView(bytes.buffer);
  this.bytes = bytes;
  this._cursor.offset = 0;

  for (i = 0; i < this.boxes.length; i++) {
    this.boxes[i].write();
  }

  return bytes.buffer;
};

ISOFile.prototype.append = function(box, pos) {
  ISOBoxer.Utils.appendBox(this, box, pos);
};
var ISOBox = function() {
  this._cursor = new ISOBoxer.Cursor();
};

ISOBox.parse = function(parent) {
  var newBox = new ISOBox();
  newBox._offset = parent._cursor.offset;
  newBox._root = (parent._root ? parent._root : parent);
  newBox._raw = parent._raw;
  newBox._parent = parent;
  newBox._parseBox();
  parent._cursor.offset = newBox._raw.byteOffset + newBox._raw.byteLength;
  return newBox;
};

ISOBox.create = function(type) {
  var newBox = new ISOBox();
  newBox.type = type;
  newBox.boxes = [];
  return newBox;
};

ISOBox.prototype._boxContainers = ['dinf', 'edts', 'mdia', 'meco', 'mfra', 'minf', 'moof', 'moov', 'mvex', 'stbl', 'strk', 'traf', 'trak', 'tref', 'udta', 'vttc', 'sinf', 'schi', 'encv', 'enca'];

ISOBox.prototype._boxProcessors = {};

///////////////////////////////////////////////////////////////////////////////////////////////////
// Generic read/write functions

ISOBox.prototype._procField = function (name, type, size) {
  if (this._parsing) {
    this[name] = this._readField(type, size);
  }
  else {
    this._writeField(type, size, this[name]);
  }
};

ISOBox.prototype._procFieldArray = function (name, length, type, size) {
  var i;
  if (this._parsing) {
    this[name] = [];
    for (i = 0; i < length; i++) {
      this[name][i] = this._readField(type, size);
    }
  }
  else {
    for (i = 0; i < this[name].length; i++) {
      this._writeField(type, size, this[name][i]);
    }
  }
};

ISOBox.prototype._procFullBox = function() {
  this._procField('version', 'uint', 8);
  this._procField('flags', 'uint', 24);
};

ISOBox.prototype._procEntries = function(name, length, fn) {
  var i;
  if (this._parsing) {
    this[name] = [];
    for (i = 0; i < length; i++) {
      this[name].push({});
      fn.call(this, this[name][i]);
    }
  }
  else {
    for (i = 0; i < length; i++) {
      fn.call(this, this[name][i]);
    }
  }
};

ISOBox.prototype._procSubEntries = function(entry, name, length, fn) {
  var i;
  if (this._parsing) {
    entry[name] = [];
    for (i = 0; i < length; i++) {
      entry[name].push({});
      fn.call(this, entry[name][i]);
    }
  }
  else {
    for (i = 0; i < length; i++) {
      fn.call(this, entry[name][i]);
    }
  }
};

ISOBox.prototype._procEntryField = function (entry, name, type, size) {
  if (this._parsing) {
    entry[name] = this._readField(type, size);
  }
  else {
    this._writeField(type, size, entry[name]);
  }
};

ISOBox.prototype._procSubBoxes = function(name, length) {
  var i;
  if (this._parsing) {
    this[name] = [];
    for (i = 0; i < length; i++) {
      this[name].push(ISOBox.parse(this));
    }
  }
  else {
    for (i = 0; i < length; i++) {
      if (this._rawo) {
        this[name][i].write();
      } else {
        this.size += this[name][i].getLength();
      }
    }
  }
};

///////////////////////////////////////////////////////////////////////////////////////////////////
// Read/parse functions

ISOBox.prototype._readField = function(type, size) {
  switch (type) {
    case 'uint':
      return this._readUint(size);
    case 'int':
      return this._readInt(size);
    case 'template':
      return this._readTemplate(size);
    case 'string':
      return (size === -1) ? this._readTerminatedString() : this._readString(size);
    case 'data':
      return this._readData(size);
    case 'utf8':
      return this._readUTF8String();
    default:
      return -1;
  }
};

ISOBox.prototype._readInt = function(size) {
  var result = null,
      offset = this._cursor.offset - this._raw.byteOffset;
  switch(size) {
  case 8:
    result = this._raw.getInt8(offset);
    break;
  case 16:
    result = this._raw.getInt16(offset);
    break;
  case 32:
    result = this._raw.getInt32(offset);
    break;
  case 64:
    // Warning: JavaScript cannot handle 64-bit integers natively.
    // This will give unexpected results for integers >= 2^53
    var s1 = this._raw.getInt32(offset);
    var s2 = this._raw.getInt32(offset + 4);
    result = (s1 * Math.pow(2,32)) + s2;
    break;
  }
  this._cursor.offset += (size >> 3);
  return result;
};

ISOBox.prototype._readUint = function(size) {
  var result = null,
      offset = this._cursor.offset - this._raw.byteOffset,
      s1, s2;
  switch(size) {
  case 8:
    result = this._raw.getUint8(offset);
    break;
  case 16:
    result = this._raw.getUint16(offset);
    break;
  case 24:
    s1 = this._raw.getUint16(offset);
    s2 = this._raw.getUint8(offset + 2);
    result = (s1 << 8) + s2;
    break;
  case 32:
    result = this._raw.getUint32(offset);
    break;
  case 64:
    // Warning: JavaScript cannot handle 64-bit integers natively.
    // This will give unexpected results for integers >= 2^53
    s1 = this._raw.getUint32(offset);
    s2 = this._raw.getUint32(offset + 4);
    result = (s1 * Math.pow(2,32)) + s2;
    break;
  }
  this._cursor.offset += (size >> 3);
  return result;
};

ISOBox.prototype._readString = function(length) {
  var str = '';
  for (var c = 0; c < length; c++) {
    var char = this._readUint(8);
    str += String.fromCharCode(char);
  }
  return str;
};

ISOBox.prototype._readTemplate = function(size) {
  var pre = this._readUint(size / 2);
  var post = this._readUint(size / 2);
  return pre + (post / Math.pow(2, size / 2));
};

ISOBox.prototype._readTerminatedString = function() {
  var str = '';
  while (this._cursor.offset - this._offset < this._raw.byteLength) {
    var char = this._readUint(8);
    if (char === 0) break;
    str += String.fromCharCode(char);
  }
  return str;
};

ISOBox.prototype._readData = function(size) {
  var length = (size > 0) ? size : (this._raw.byteLength - (this._cursor.offset - this._offset));
  if (length > 0) {
    var data = new Uint8Array(this._raw.buffer, this._cursor.offset, length);

    this._cursor.offset += length;
    return data;
  }
  else {
    return null;
  }
};

ISOBox.prototype._readUTF8String = function() {
  var length = this._raw.byteLength - (this._cursor.offset - this._offset);
  var data = null;
  if (length > 0) {
    data = new DataView(this._raw.buffer, this._cursor.offset, length);
    this._cursor.offset += length;
  }
 
  return data ? ISOBoxer.Utils.dataViewToString(data) : data;
};

ISOBox.prototype._parseBox = function() {
  this._parsing = true;
  this._cursor.offset = this._offset;

  // return immediately if there are not enough bytes to read the header
  if (this._offset + 8 > this._raw.buffer.byteLength) {
    this._root._incomplete = true;
    return;
  }

  this._procField('size', 'uint', 32);
  this._procField('type', 'string', 4);

  if (this.size === 1)      { this._procField('largesize', 'uint', 64); }
  if (this.type === 'uuid') { this._procFieldArray('usertype', 16, 'uint', 8); }

  switch(this.size) {
  case 0:
    this._raw = new DataView(this._raw.buffer, this._offset, (this._raw.byteLength - this._cursor.offset + 8));
    break;
  case 1:
    if (this._offset + this.size > this._raw.buffer.byteLength) {
      this._incomplete = true;
      this._root._incomplete = true;
    } else {
      this._raw = new DataView(this._raw.buffer, this._offset, this.largesize);
    }
    break;
  default:
    if (this._offset + this.size > this._raw.buffer.byteLength) {
      this._incomplete = true;
      this._root._incomplete = true;
    } else {
      this._raw = new DataView(this._raw.buffer, this._offset, this.size);
    }
  }

  // additional parsing
  if (!this._incomplete) {
    if (this._boxProcessors[this.type]) {
      this._boxProcessors[this.type].call(this);
    }
    if (this._boxContainers.indexOf(this.type) !== -1) {
      this._parseContainerBox();
    } else{
      // Unknown box => read and store box content
      this._data = this._readData();
    }
  }
};

ISOBox.prototype._parseFullBox = function() {
  this.version = this._readUint(8);
  this.flags = this._readUint(24);
};

ISOBox.prototype._parseContainerBox = function() {
  this.boxes = [];
  while (this._cursor.offset - this._raw.byteOffset < this._raw.byteLength) {
    this.boxes.push(ISOBox.parse(this));
  }
};

///////////////////////////////////////////////////////////////////////////////////////////////////
// Write functions

ISOBox.prototype.append = function(box, pos) {
  ISOBoxer.Utils.appendBox(this, box, pos);
};

ISOBox.prototype.getLength = function() {
  this._parsing = false;
  this._rawo = null;

  this.size = 0;
  this._procField('size', 'uint', 32);
  this._procField('type', 'string', 4);

  if (this.size === 1)      { this._procField('largesize', 'uint', 64); }
  if (this.type === 'uuid') { this._procFieldArray('usertype', 16, 'uint', 8); }

  if (this._boxProcessors[this.type]) {
    this._boxProcessors[this.type].call(this);
  }

  if (this._boxContainers.indexOf(this.type) !== -1) {
    for (var i = 0; i < this.boxes.length; i++) {
      this.size += this.boxes[i].getLength();
    }
  } 

  if (this._data) {
    this._writeData(this._data);
  }

  return this.size;
};

ISOBox.prototype.write = function() {
  this._parsing = false;
  this._cursor.offset = this._parent._cursor.offset;

  switch(this.size) {
  case 0:
    this._rawo = new DataView(this._parent._rawo.buffer, this._cursor.offset, (this.parent._rawo.byteLength - this._cursor.offset));
    break;
  case 1:
      this._rawo = new DataView(this._parent._rawo.buffer, this._cursor.offset, this.largesize);
    break;
  default:
      this._rawo = new DataView(this._parent._rawo.buffer, this._cursor.offset, this.size);
  }

  this._procField('size', 'uint', 32);
  this._procField('type', 'string', 4);

  if (this.size === 1)      { this._procField('largesize', 'uint', 64); }
  if (this.type === 'uuid') { this._procFieldArray('usertype', 16, 'uint', 8); }

  if (this._boxProcessors[this.type]) {
    this._boxProcessors[this.type].call(this);
  }

  if (this._boxContainers.indexOf(this.type) !== -1) {
    for (var i = 0; i < this.boxes.length; i++) {
      this.boxes[i].write();
    }
  } 

  if (this._data) {
    this._writeData(this._data);
  }

  this._parent._cursor.offset += this.size;

  return this.size;
};

ISOBox.prototype._writeInt = function(size, value) {
  if (this._rawo) {
    var offset = this._cursor.offset - this._rawo.byteOffset;
    switch(size) {
    case 8:
      this._rawo.setInt8(offset, value);
      break;
    case 16:
      this._rawo.setInt16(offset, value);
      break;
    case 32:
      this._rawo.setInt32(offset, value);
      break;
    case 64:
      // Warning: JavaScript cannot handle 64-bit integers natively.
      // This will give unexpected results for integers >= 2^53
      var s1 = Math.floor(value / Math.pow(2,32));
      var s2 = value - (s1 * Math.pow(2,32));
      this._rawo.setUint32(offset, s1);
      this._rawo.setUint32(offset + 4, s2);
      break;
    }
    this._cursor.offset += (size >> 3);
  } else {
    this.size += (size >> 3);
  }
};

ISOBox.prototype._writeUint = function(size, value) {

  if (this._rawo) {
    var offset = this._cursor.offset - this._rawo.byteOffset,
        s1, s2;
    switch(size) {
    case 8:
      this._rawo.setUint8(offset, value);
      break;
    case 16:
      this._rawo.setUint16(offset, value);
      break;
    case 24:
      s1 = (value & 0xFFFF00) >> 8;
      s2 = (value & 0x0000FF);
      this._rawo.setUint16(offset, s1);
      this._rawo.setUint8(offset + 2, s2);
      break;
    case 32:
      this._rawo.setUint32(offset, value);
      break;
    case 64:
      // Warning: JavaScript cannot handle 64-bit integers natively.
      // This will give unexpected results for integers >= 2^53
      s1 = Math.floor(value / Math.pow(2,32));
      s2 = value - (s1 * Math.pow(2,32));
      this._rawo.setUint32(offset, s1);
      this._rawo.setUint32(offset + 4, s2);
      break;
    }
    this._cursor.offset += (size >> 3);
  } else {
    this.size += (size >> 3);
  }
};

ISOBox.prototype._writeString = function(size, str) {
  for (var c = 0; c < size; c++) {
    this._writeUint(8, str.charCodeAt(c));
  }
};

ISOBox.prototype._writeTerminatedString = function(str) {
  if (str.length === 0) {
    return;
  }
  for (var c = 0; c < str.length; c++) {
    this._writeUint(8, str.charCodeAt(c));
  }
  this._writeUint(8, 0);
};

ISOBox.prototype._writeTemplate = function(size, value) {
  var pre = Math.floor(value);
  var post = (value - pre) * Math.pow(2, size / 2);
  this._writeUint(size / 2, pre);
  this._writeUint(size / 2, post);
};

ISOBox.prototype._writeData = function(data) {
  var i;
  //data to copy
  if (data) {
    if (this._rawo) {
      //Array and Uint8Array has also to be managed
      if (data instanceof Array) {
        var offset = this._cursor.offset - this._rawo.byteOffset;
        for (var i = 0; i < data.length; i++) {
          this._rawo.setInt8(offset + i, data[i]);
        }
        this._cursor.offset += data.length;
      } 

      if (data instanceof Uint8Array) {
        this._root.bytes.set(data, this._cursor.offset);
        this._cursor.offset += data.length;
      }

    } else {
      //nothing to copy only size to compute
      this.size += data.length;
    }
  }
};

ISOBox.prototype._writeUTF8String = function(string) {
  var u = ISOBoxer.Utils.utf8ToByteArray(string);
  if (this._rawo) {
    var dataView = new DataView(this._rawo.buffer, this._cursor.offset, u.length);
    for (var i = 0; i < u.length; i++) {
      dataView.setUint8(i, u[i]);
    }
  } else {
    this.size += u.length;
  }
};

ISOBox.prototype._writeField = function(type, size, value) {
  switch (type) {
  case 'uint':
    this._writeUint(size, value);
    break;
  case 'int':
    this._writeInt(size, value);
    break;
  case 'template':
    this._writeTemplate(size, value);
    break;
  case 'string':
      if (size == -1) {
        this._writeTerminatedString(value);
      } else {
        this._writeString(size, value);
      }
      break;
  case 'data':
    this._writeData(value);
    break;
  case 'utf8':
    this._writeUTF8String(value);
    break;
  default:
    break;
  }
};

// ISO/IEC 14496-15:2014 - avc1 box
ISOBox.prototype._boxProcessors['avc1'] = ISOBox.prototype._boxProcessors['encv'] = function() {
  // SampleEntry fields
  this._procFieldArray('reserved1', 6,    'uint', 8);
  this._procField('data_reference_index', 'uint', 16);
  // VisualSampleEntry fields
  this._procField('pre_defined1',         'uint',     16);
  this._procField('reserved2',            'uint',     16);
  this._procFieldArray('pre_defined2', 3, 'uint',     32);
  this._procField('width',                'uint',     16);
  this._procField('height',               'uint',     16);
  this._procField('horizresolution',      'template', 32);
  this._procField('vertresolution',       'template', 32);
  this._procField('reserved3',            'uint',     32);
  this._procField('frame_count',          'uint',     16);
  this._procFieldArray('compressorname', 32,'uint',    8);
  this._procField('depth',                'uint',     16);
  this._procField('pre_defined3',         'int',      16);
  // AVCSampleEntry fields
  this._procField('config', 'data', -1);
};

// ISO/IEC 14496-12:2012 - 8.7.2 Data Reference Box
ISOBox.prototype._boxProcessors['dref'] = function() {
  this._procFullBox();
  this._procField('entry_count', 'uint', 32);
  this._procSubBoxes('entries', this.entry_count);
};

// ISO/IEC 14496-12:2012 - 8.6.6 Edit List Box
ISOBox.prototype._boxProcessors['elst'] = function() {
  this._procFullBox();
  this._procField('entry_count', 'uint', 32);
  this._procEntries('entries', this.entry_count, function(entry) {
    this._procEntryField(entry, 'segment_duration',     'uint', (this.version === 1) ? 64 : 32);
    this._procEntryField(entry, 'media_time',           'int',  (this.version === 1) ? 64 : 32);
    this._procEntryField(entry, 'media_rate_integer',   'int',  16);
    this._procEntryField(entry, 'media_rate_fraction',  'int',  16);
  });
};

// ISO/IEC 23009-1:2014 - 5.10.3.3 Event Message Box
ISOBox.prototype._boxProcessors['emsg'] = function() {
  this._procFullBox();
  this._procField('scheme_id_uri',            'string', -1);
  this._procField('value',                    'string', -1);
  this._procField('timescale',                'uint',   32);
  this._procField('presentation_time_delta',  'uint',   32);
  this._procField('event_duration',           'uint',   32);
  this._procField('id',                       'uint',   32);
  this._procField('message_data',             'data',   -1);
};

// ISO/IEC 14496-12:2012 - 8.1.2 Free Space Box
ISOBox.prototype._boxProcessors['free'] = ISOBox.prototype._boxProcessors['skip'] = function() {
  this._procField('data', 'data', -1);
};

// ISO/IEC 14496-12:2012 - 8.12.2 Original Format Box
ISOBox.prototype._boxProcessors['frma'] = function() {
  this._procField('data_format', 'uint', 32);
};
// ISO/IEC 14496-12:2012 - 4.3 File Type Box / 8.16.2 Segment Type Box
ISOBox.prototype._boxProcessors['ftyp'] =
ISOBox.prototype._boxProcessors['styp'] = function() {
  this._procField('major_brand', 'string', 4);
  this._procField('minor_version', 'uint', 32);
  var nbCompatibleBrands = -1;
  if (this._parsing) {
    nbCompatibleBrands = (this._raw.byteLength - (this._cursor.offset - this._raw.byteOffset)) / 4;
  }
  this._procFieldArray('compatible_brands', nbCompatibleBrands, 'string', 4);
};

// ISO/IEC 14496-12:2012 - 8.4.3 Handler Reference Box
ISOBox.prototype._boxProcessors['hdlr'] = function() {
  this._procFullBox();
  this._procField('pre_defined',      'uint',   32);
  this._procField('handler_type',     'string', 4);
  this._procFieldArray('reserved', 3, 'uint', 32);
  this._procField('name',             'string', -1);
};

// ISO/IEC 14496-12:2012 - 8.1.1 Media Data Box
ISOBox.prototype._boxProcessors['mdat'] = function() {
  this._procField('data', 'data', -1);
};

// ISO/IEC 14496-12:2012 - 8.4.2 Media Header Box
ISOBox.prototype._boxProcessors['mdhd'] = function() {
  this._procFullBox();
  this._procField('creation_time',      'uint', (this.version == 1) ? 64 : 32);
  this._procField('modification_time',  'uint', (this.version == 1) ? 64 : 32);
  this._procField('timescale',          'uint', 32);
  this._procField('duration',           'uint', (this.version == 1) ? 64 : 32);
  if (!this._parsing && typeof this.language === 'string') {
    // In case of writing and language has been set as a string, then convert it into char codes array
    this.language = ((this.language.charCodeAt(0) - 0x60) << 10) |
                    ((this.language.charCodeAt(1) - 0x60) << 5) |
                    ((this.language.charCodeAt(2) - 0x60));
  }
  this._procField('language',           'uint', 16);
  if (this._parsing) {
    this.language = String.fromCharCode(((this.language >> 10) & 0x1F) + 0x60,
                                        ((this.language >> 5) & 0x1F) + 0x60,
                                        (this.language & 0x1F) + 0x60);
  }
  this._procField('pre_defined',        'uint', 16);
};

// ISO/IEC 14496-12:2012 - 8.8.2 Movie Extends Header Box
ISOBox.prototype._boxProcessors['mehd'] = function() {
  this._procFullBox();
  this._procField('fragment_duration', 'uint', (this.version == 1) ? 64 : 32);
};

// ISO/IEC 14496-12:2012 - 8.8.5 Movie Fragment Header Box
ISOBox.prototype._boxProcessors['mfhd'] = function() {
  this._procFullBox();
  this._procField('sequence_number', 'uint', 32);
};

// ISO/IEC 14496-12:2012 - 8.8.11 Movie Fragment Random Access Box
ISOBox.prototype._boxProcessors['mfro'] = function() {
  this._procFullBox();
  this._procField('mfra_size', 'uint', 32); // Called mfra_size to distinguish from the normal "size" attribute of a box
};


// ISO/IEC 14496-12:2012 - 8.5.2.2 mp4a box (use AudioSampleEntry definition and naming)
ISOBox.prototype._boxProcessors['mp4a'] = ISOBox.prototype._boxProcessors['enca'] = function() {
  // SampleEntry fields
  this._procFieldArray('reserved1', 6,    'uint', 8);
  this._procField('data_reference_index', 'uint', 16);
  // AudioSampleEntry fields
  this._procFieldArray('reserved2', 2,    'uint', 32);
  this._procField('channelcount',         'uint', 16);
  this._procField('samplesize',           'uint', 16);
  this._procField('pre_defined',          'uint', 16);
  this._procField('reserved3',            'uint', 16);
  this._procField('samplerate',           'template', 32);
  // ESDescriptor fields
  this._procField('esds',                 'data', -1);
};

// ISO/IEC 14496-12:2012 - 8.2.2 Movie Header Box
ISOBox.prototype._boxProcessors['mvhd'] = function() {
  this._procFullBox();
  this._procField('creation_time',      'uint',     (this.version == 1) ? 64 : 32);
  this._procField('modification_time',  'uint',     (this.version == 1) ? 64 : 32);
  this._procField('timescale',          'uint',     32);
  this._procField('duration',           'uint',     (this.version == 1) ? 64 : 32);
  this._procField('rate',               'template', 32);
  this._procField('volume',             'template', 16);
  this._procField('reserved1',          'uint',  16);
  this._procFieldArray('reserved2', 2,  'uint',     32);
  this._procFieldArray('matrix', 9,     'template', 32);
  this._procFieldArray('pre_defined', 6,'uint',   32);
  this._procField('next_track_ID',      'uint',     32);
};

// ISO/IEC 14496-30:2014 - WebVTT Cue Payload Box.
ISOBox.prototype._boxProcessors['payl'] = function() {
  this._procField('cue_text', 'utf8');
};

//ISO/IEC 23001-7:2011 - 8.1 Protection System Specific Header Box
ISOBox.prototype._boxProcessors['pssh'] = function() {
  this._procFullBox();
  
  this._procFieldArray('SystemID', 16, 'uint', 8);
  this._procField('DataSize', 'uint', 32);
  this._procFieldArray('Data', this.DataSize, 'uint', 8);
};
// ISO/IEC 14496-12:2012 - 8.12.5 Scheme Type Box
ISOBox.prototype._boxProcessors['schm'] = function() {
    this._procFullBox();
    
    this._procField('scheme_type', 'uint', 32);
    this._procField('scheme_version', 'uint', 32);

    if (this.flags & 0x000001) {
        this._procField('scheme_uri', 'string', -1);
    }
};
// ISO/IEC 14496-12:2012 - 8.6.4.1 sdtp box 
ISOBox.prototype._boxProcessors['sdtp'] = function() {
  this._procFullBox();

  var sample_count = -1;
  if (this._parsing) {
    sample_count = (this._raw.byteLength - (this._cursor.offset - this._raw.byteOffset));
  }

  this._procFieldArray('sample_dependency_table', sample_count, 'uint', 8);
};

// ISO/IEC 14496-12:2012 - 8.16.3 Segment Index Box
ISOBox.prototype._boxProcessors['sidx'] = function() {
  this._procFullBox();
  this._procField('reference_ID', 'uint', 32);
  this._procField('timescale', 'uint', 32);
  this._procField('earliest_presentation_time', 'uint', (this.version == 1) ? 64 : 32);
  this._procField('first_offset', 'uint', (this.version == 1) ? 64 : 32);
  this._procField('reserved', 'uint', 16);
  this._procField('reference_count', 'uint', 16);
  this._procEntries('references', this.reference_count, function(entry) {
    if (!this._parsing) {
      entry.reference  = (entry.reference_type  & 0x00000001) << 31;
      entry.reference |= (entry.referenced_size & 0x7FFFFFFF);
      entry.sap  = (entry.starts_with_SAP & 0x00000001) << 31;
      entry.sap |= (entry.SAP_type        & 0x00000003) << 28;
      entry.sap |= (entry.SAP_delta_time  & 0x0FFFFFFF);
    }
    this._procEntryField(entry, 'reference', 'uint', 32);
    this._procEntryField(entry, 'subsegment_duration', 'uint', 32);
    this._procEntryField(entry, 'sap', 'uint', 32);
    if (this._parsing) {
      entry.reference_type = (entry.reference >> 31) & 0x00000001;
      entry.referenced_size = entry.reference & 0x7FFFFFFF;
      entry.starts_with_SAP  = (entry.sap >> 31) & 0x00000001;
      entry.SAP_type = (entry.sap >> 28) & 0x00000007;
      entry.SAP_delta_time = (entry.sap  & 0x0FFFFFFF);
    }
  });
};

// ISO/IEC 14496-12:2012 - 8.4.5.3 Sound Media Header Box
ISOBox.prototype._boxProcessors['smhd'] = function() {
  this._procFullBox();
  this._procField('balance',  'uint', 16);
  this._procField('reserved', 'uint', 16);
};

// ISO/IEC 14496-12:2012 - 8.16.4 Subsegment Index Box
ISOBox.prototype._boxProcessors['ssix'] = function() {
  this._procFullBox();
  this._procField('subsegment_count', 'uint', 32);
  this._procEntries('subsegments', this.subsegment_count, function(subsegment) {
    this._procEntryField(subsegment, 'ranges_count', 'uint', 32);
    this._procSubEntries(subsegment, 'ranges', subsegment.ranges_count, function(range) {
      this._procEntryField(range, 'level', 'uint', 8);
      this._procEntryField(range, 'range_size', 'uint', 24);
    });
  });
};

// ISO/IEC 14496-12:2012 - 8.5.2 Sample Description Box
ISOBox.prototype._boxProcessors['stsd'] = function() {
  this._procFullBox();
  this._procField('entry_count', 'uint', 32);
  this._procSubBoxes('entries', this.entry_count);
};

// ISO/IEC 14496-12:2015 - 8.7.7 Sub-Sample Information Box
ISOBox.prototype._boxProcessors['subs'] = function () {
  this._procFullBox();
  this._procField('entry_count', 'uint', 32);
  this._procEntries('entries', this.entry_count, function(entry) {
    this._procEntryField(entry, 'sample_delta', 'uint', 32);
    this._procEntryField(entry, 'subsample_count', 'uint', 16);
    this._procSubEntries(entry, 'subsamples', entry.subsample_count, function(subsample) {
      this._procEntryField(subsample, 'subsample_size', 'uint', (this.version === 1) ? 32 : 16);
      this._procEntryField(subsample, 'subsample_priority', 'uint', 8);
      this._procEntryField(subsample, 'discardable', 'uint', 8);
      this._procEntryField(subsample, 'codec_specific_parameters', 'uint', 32);
    });
  });
};

//ISO/IEC 23001-7:2011 - 8.2 Track Encryption Box
ISOBox.prototype._boxProcessors['tenc'] = function() {
    this._procFullBox();

    this._procField('default_IsEncrypted', 'uint', 24);
    this._procField('default_IV_size', 'uint', 8);
    this._procFieldArray('default_KID', 16,    'uint', 8);
 };

// ISO/IEC 14496-12:2012 - 8.8.12 Track Fragmnent Decode Time
ISOBox.prototype._boxProcessors['tfdt'] = function() {
  this._procFullBox();
  this._procField('baseMediaDecodeTime', 'uint', (this.version == 1) ? 64 : 32);
};

// ISO/IEC 14496-12:2012 - 8.8.7 Track Fragment Header Box
ISOBox.prototype._boxProcessors['tfhd'] = function() {
  this._procFullBox();
  this._procField('track_ID', 'uint', 32);
  if (this.flags & 0x01) this._procField('base_data_offset',          'uint', 64);
  if (this.flags & 0x02) this._procField('sample_description_offset', 'uint', 32);
  if (this.flags & 0x08) this._procField('default_sample_duration',   'uint', 32);
  if (this.flags & 0x10) this._procField('default_sample_size',       'uint', 32);
  if (this.flags & 0x20) this._procField('default_sample_flags',      'uint', 32);
};

// ISO/IEC 14496-12:2012 - 8.8.10 Track Fragment Random Access Box
ISOBox.prototype._boxProcessors['tfra'] = function() {
  this._procFullBox();
  this._procField('track_ID', 'uint', 32);
  if (!this._parsing) {
    this.reserved = 0;
    this.reserved |= (this.length_size_of_traf_num  & 0x00000030) << 4;
    this.reserved |= (this.length_size_of_trun_num  & 0x0000000C) << 2;
    this.reserved |= (this.length_size_of_sample_num  & 0x00000003);
  }
  this._procField('reserved', 'uint', 32);
  if (this._parsing) {
    this.length_size_of_traf_num = (this.reserved & 0x00000030) >> 4;
    this.length_size_of_trun_num = (this.reserved & 0x0000000C) >> 2;
    this.length_size_of_sample_num = (this.reserved & 0x00000003);
  }
  this._procField('number_of_entry', 'uint', 32);
  this._procEntries('entries', this.number_of_entry, function(entry) {
    this._procEntryField(entry, 'time', 'uint', (this.version === 1) ? 64 : 32);
    this._procEntryField(entry, 'moof_offset', 'uint', (this.version === 1) ? 64 : 32);
    this._procEntryField(entry, 'traf_number', 'uint', (this.length_size_of_traf_num + 1) * 8);
    this._procEntryField(entry, 'trun_number', 'uint', (this.length_size_of_trun_num + 1) * 8);
    this._procEntryField(entry, 'sample_number', 'uint', (this.length_size_of_sample_num + 1) * 8);
  });
};

// ISO/IEC 14496-12:2012 - 8.3.2 Track Header Box
ISOBox.prototype._boxProcessors['tkhd'] = function() {
  this._procFullBox();
  this._procField('creation_time',      'uint',     (this.version == 1) ? 64 : 32);
  this._procField('modification_time',  'uint',     (this.version == 1) ? 64 : 32);
  this._procField('track_ID',           'uint',     32);
  this._procField('reserved1',          'uint',     32);
  this._procField('duration',           'uint',     (this.version == 1) ? 64 : 32);
  this._procFieldArray('reserved2', 2,  'uint',     32);
  this._procField('layer',              'uint',     16);
  this._procField('alternate_group',    'uint',     16);
  this._procField('volume',             'template', 16);
  this._procField('reserved3',          'uint',     16);
  this._procFieldArray('matrix', 9,     'template', 32);
  this._procField('width',              'template', 32);
  this._procField('height',             'template', 32);
};

// ISO/IEC 14496-12:2012 - 8.8.3 Track Extends Box
ISOBox.prototype._boxProcessors['trex'] = function() {
  this._procFullBox();
  this._procField('track_ID',                         'uint', 32);
  this._procField('default_sample_description_index', 'uint', 32);
  this._procField('default_sample_duration',          'uint', 32);
  this._procField('default_sample_size',              'uint', 32);
  this._procField('default_sample_flags',             'uint', 32);
};

// ISO/IEC 14496-12:2012 - 8.8.8 Track Run Box
// Note: the 'trun' box has a direct relation to the 'tfhd' box for defaults.
// These defaults are not set explicitly here, but are left to resolve for the user.
ISOBox.prototype._boxProcessors['trun'] = function() {
  this._procFullBox();
  this._procField('sample_count', 'uint', 32);
  if (this.flags & 0x1) this._procField('data_offset', 'int', 32);
  if (this.flags & 0x4) this._procField('first_sample_flags', 'uint', 32);
  this._procEntries('samples', this.sample_count, function(sample) {
    if (this.flags & 0x100) this._procEntryField(sample, 'sample_duration', 'uint', 32);
    if (this.flags & 0x200) this._procEntryField(sample, 'sample_size', 'uint', 32);
    if (this.flags & 0x400) this._procEntryField(sample, 'sample_flags', 'uint', 32);
    if (this.flags & 0x800) this._procEntryField(sample, 'sample_composition_time_offset', (this.version === 1) ? 'int' : 'uint',  32);
  });
};

// ISO/IEC 14496-12:2012 - 8.7.2 Data Reference Box
ISOBox.prototype._boxProcessors['url '] = ISOBox.prototype._boxProcessors['urn '] = function() {
  this._procFullBox();
  if (this.type === 'urn ') {
    this._procField('name', 'string', -1);
  }
  this._procField('location', 'string', -1);
};

// ISO/IEC 14496-30:2014 - WebVTT Source Label Box
ISOBox.prototype._boxProcessors['vlab'] = function() {
  this._procField('source_label', 'utf8');
};

// ISO/IEC 14496-12:2012 - 8.4.5.2 Video Media Header Box
ISOBox.prototype._boxProcessors['vmhd'] = function() {
  this._procFullBox();
  this._procField('graphicsmode', 'uint', 16);
  this._procFieldArray('opcolor', 3, 'uint', 16);
};

// ISO/IEC 14496-30:2014 - WebVTT Configuration Box
ISOBox.prototype._boxProcessors['vttC'] = function() {
  this._procField('config', 'utf8');
};

// ISO/IEC 14496-30:2014 - WebVTT Empty Sample Box
ISOBox.prototype._boxProcessors['vtte'] = function() {
  // Nothing should happen here.
};

},{}],2:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

var _EventBus = _dereq_(12);

var _EventBus2 = _interopRequireDefault(_EventBus);

var _CoreEvents = _dereq_(10);

var _CoreEvents2 = _interopRequireDefault(_CoreEvents);

var _Debug = _dereq_(11);

var _Debug2 = _interopRequireDefault(_Debug);

var _ui_engine = _dereq_(50);

var _ui_engine2 = _interopRequireDefault(_ui_engine);

var _media_source_engine = _dereq_(26);

var _media_source_engine2 = _interopRequireDefault(_media_source_engine);

var _text_engine = _dereq_(49);

var _text_engine2 = _interopRequireDefault(_text_engine);

var _media_engine = _dereq_(25);

var _media_engine2 = _interopRequireDefault(_media_engine);

var _drm_engine = _dereq_(19);

var _drm_engine2 = _interopRequireDefault(_drm_engine);

var _ads_engine = _dereq_(6);

var _ads_engine2 = _interopRequireDefault(_ads_engine);

var _manifest_parser = _dereq_(23);

var _manifest_parser2 = _interopRequireDefault(_manifest_parser);

var _schedule_controller = _dereq_(24);

var _schedule_controller2 = _interopRequireDefault(_schedule_controller);

var _timeRanges = _dereq_(54);

var _timeRanges2 = _interopRequireDefault(_timeRanges);

var _xhr_loader = _dereq_(55);

var _xhr_loader2 = _interopRequireDefault(_xhr_loader);

var _common_utils = _dereq_(52);

var _common_utils2 = _interopRequireDefault(_common_utils);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

//////////////////////////////////////////////////////////////////////////////
function Player(containerId) {
    var containerId_ = containerId;
    var cfg_ = void 0;
    var context_ = {};

    var uiEngine_ = void 0;
    var media_ = void 0;

    var audioHeaderAdded_ = false;
    var audioIndex_ = 0;
    var videoHeaderAdded_ = false;
    var videoIndex_ = 0;
    var streamInfo_ = null;

    var eventBus_ = void 0;
    var debug_ = void 0;
    var xhrLoader_ = void 0;
    var mediaEngine_ = void 0;
    var textEngine_ = void 0;
    var mseEngine_ = void 0;
    var drmEngine_ = void 0;
    var manifestParser_ = void 0;
    var parser_ = void 0;

    var scheduleCtrl_ = void 0;

    // ads part
    var adsEngine_ = void 0;

    // autoplay reference
    var autoplayAllowed_ = void 0;
    var autoplayRequiresMuted_ = void 0;

    function setup() {
        uiEngine_ = (0, _ui_engine2.default)(oldmtn).getInstance();
        uiEngine_.initUI(containerId_);
        media_ = uiEngine_.getVideo();
    }

    function init(cfg) {
        cfg_ = cfg;

        initComponent();
        initData();
        addEventListeners();
        addResizeListener();
    }

    function open(info) {
        streamInfo_ = info;
        debug_.log('Player, +open');

        // fetch dash content
        if (streamInfo_.url) {
            parser_ = manifestParser_.getParser(streamInfo_.url);
            streamInfo_.activeStream = parser_.loadManifest(streamInfo_.url);
        }

        // BD, use .src for PD
        // if it is pd, so we don't need to create mediasource
        if (streamInfo_.activeStream.pdRep) {
            addPD();
            return;
        }
        // ED

        //
        if (!window.MediaSource) {
            debug_.log('Don\'t support MediaSource in this platform');
            return;
        }

        if (streamInfo_.activeStream.aRep) {
            if (streamInfo_.activeStream.aRep.codecs) {
                debug_.log('Player, +open: ' + streamInfo_.activeStream.aRep.codecs);
            }

            if (streamInfo_.activeStream.aRep.codecs && window.MediaSource && !window.MediaSource.isTypeSupported(streamInfo_.activeStream.aRep.codecs)) {
                debug_.log('Don\'t support: ' + streamInfo_.activeStream.aRep.codecs);
                return;
            }
        }

        if (streamInfo_.activeStream.vRep) {
            if (streamInfo_.activeStream.vRep.codecs) {
                debug_.log('Player, +open: ' + streamInfo_.activeStream.vRep.codecs);
            }

            if (streamInfo_.activeStream.vRep.codecs && window.MediaSource && !window.MediaSource.isTypeSupported(streamInfo_.activeStream.vRep.codecs)) {
                debug_.log('Don\'t support: ' + streamInfo_.activeStream.vRep.codecs);
                return;
            }
        }

        if (streamInfo_.activeStream.pdRep) {
            if (streamInfo_.activeStream.pdRep.codecs) {
                debug_.log('Player, +open: ' + streamInfo_.activeStream.pdRep.codecs);
            }

            if (streamInfo_.activeStream.pdRep.codecs && window.MediaSource && !window.MediaSource.isTypeSupported(streamInfo_.activeStream.pdRep.codecs)) {
                debug_.log('Don\'t support: ' + streamInfo_.activeStream.pdRep.codecs);
                return;
            }
        }

        mseEngine_.open(streamInfo_.activeStream);

        var objURL = window.URL.createObjectURL(mseEngine_.getMediaSource());
        mediaEngine_.setSrc(objURL);
        drmEngine_.setDrmInfo(streamInfo_);

        if (adsEngine_) {
            adsEngine_.requestAds();
        }

        debug_.log('Player, -open');
    }

    function close() {
        if (scheduleCtrl_) {
            scheduleCtrl_.stop();
        }
        if (adsEngine_) {
            adsEngine_.close();
        }
        if (mseEngine_) {
            mseEngine_.close();
        }
        if (mediaEngine_) {
            mediaEngine_.close();
        }

        audioIndex_ = 0;
        videoIndex_ = 0;
        streamInfo_ = null;
    }

    function dellAll() {
        mseEngine_.removeBuffer();
    }

    function addA() {
        if (audioIndex_ >= streamInfo_.activeStream.aRep.media.length) {
            debug_.log('There don\'t have more content to add.');
            return;
        }

        var url = null;
        if (audioHeaderAdded_ === false) {
            url = streamInfo_.activeStream.aRep.initialization;
        } else {
            url = streamInfo_.activeStream.aRep.media[audioIndex_];
        }

        var self = this;
        function cbSuccess(bytes) {
            mseEngine_.appendBuffer({ type: streamInfo_.activeStream.aRep.type, buffer: bytes });

            if (audioHeaderAdded_) {
                audioIndex_++;
            } else {
                audioHeaderAdded_ = true;
            }
        }

        var request = {
            url: url,
            cbSuccess: cbSuccess.bind(self)
        };
        xhrLoader_.load(request);
    }

    function addV() {
        if (videoIndex_ >= streamInfo_.activeStream.vRep.media.length) {
            debug_.log('There don\'t have more content to add.');
            return;
        }

        var url = null;
        if (videoHeaderAdded_ === false) {
            url = streamInfo_.activeStream.vRep.initialization;
        } else {
            url = streamInfo_.activeStream.vRep.media[videoIndex_];
        }

        var self = this;
        function cbSuccess(bytes) {
            mseEngine_.appendBuffer({ type: streamInfo_.activeStream.vRep.type, buffer: bytes });

            if (videoHeaderAdded_) {
                videoIndex_++;
            } else {
                videoHeaderAdded_ = true;
            }
        }

        var request = {
            url: url,
            cbSuccess: cbSuccess.bind(self)
        };
        xhrLoader_.load(request);
    }

    function addPD() {
        debug_.log('+addPD, pdContent: ' + streamInfo_.activeStream.pdRep);
        var url = streamInfo_.activeStream.pdRep.media;

        media_.src = url;
    }

    //////////////////////////////////////////////////////////////////////////////////
    // 操作API
    function on(type, listener, scope) {
        eventBus_.on(type, listener, scope);
    }

    function off(type, listener, scope) {
        eventBus_.off(type, listener, scope);
    }

    function play() {
        if (adsEngine_ && adsEngine_.isPlayingAd() && adsEngine_.isLinearAd()) {
            adsEngine_.play();
        } else {
            if (!mediaEngine_) {
                return;
            }
            mediaEngine_.play();
        }
    }

    function pause() {
        if (adsEngine_ && adsEngine_.isPlayingAd() && adsEngine_.isLinearAd()) {
            adsEngine_.pause();
        } else {
            if (!mediaEngine_) {
                return;
            }
            mediaEngine_.pause();
        }
    }

    function isPaused() {
        if (adsEngine_ && adsEngine_.isPlayingAd() && adsEngine_.isLinearAd()) {
            return adsEngine_.isPaused();
        } else {
            if (!mediaEngine_) {
                return;
            }
            return mediaEngine_.isPaused();
        }
    }

    function getPosition() {
        if (adsEngine_ && adsEngine_.isPlayingAd() && adsEngine_.isLinearAd()) {
            return adsEngine_.getPosition();
        } else {
            if (!mediaEngine_) {
                return;
            }
            return mediaEngine_.getPosition();
        }
    }

    function getDuration() {
        if (adsEngine_ && adsEngine_.isPlayingAd() && adsEngine_.isLinearAd()) {
            return adsEngine_.getDuration();
        } else {
            if (!mediaEngine_) {
                return;
            }
            return mediaEngine_.getDuration();
        }
    }

    function isEnded() {
        if (adsEngine_ && adsEngine_.isPlayingAd() && adsEngine_.isLinearAd()) {} else {
            if (!mediaEngine_) {
                return;
            }
            return mediaEngine_.isEnded();
        }
    }

    function mute() {
        if (adsEngine_ && adsEngine_.isPlayingAd() && adsEngine_.isLinearAd()) {
            adsEngine_.mute();
        } else {
            if (!mediaEngine_) {
                return;
            }
            mediaEngine_.mute();
        }
    }

    function unmute() {
        if (adsEngine_ && adsEngine_.isPlayingAd() && adsEngine_.isLinearAd()) {
            adsEngine_.unmute();
        } else {
            if (!mediaEngine_) {
                return;
            }
            mediaEngine_.unmute();
        }
    }

    function isMuted() {
        if (adsEngine_ && adsEngine_.isPlayingAd() && adsEngine_.isLinearAd()) {
            return adsEngine_.isMuted();
        } else {
            if (!mediaEngine_) {
                return;
            }
            return mediaEngine_.isMuted();
        }
    }

    function setVolume(volume) {
        if (adsEngine_ && adsEngine_.isPlayingAd() && adsEngine_.isLinearAd()) {
            adsEngine_.setVolume(volume);
        } else {
            if (!mediaEngine_) {
                return;
            }
            mediaEngine_.setVolume(volume);
        }
    }

    function getVolume() {
        if (!mediaEngine_) {
            return;
        }

        return mediaEngine_.getVolume();
    }

    function setPosition(time) {
        mediaEngine_.setPosition(time);
    }

    function getWidth() {
        return mediaEngine_.videoWidth();
    }

    function getHeight() {
        return mediaEngine_.videoHeight();
    }

    function resize(width, height) {
        if (adsEngine_) {
            adsEngine_.resize(width, height);
        }
    }

    function playAd() {
        if (adsEngine_) {
            adsEngine_.playAd();
        } else {}
    }

    function isFullscreen() {
        return document.fullscreenElement || document.msFullscreenElement || document.mozFullScreen || document.webkitIsFullScreen;
    }

    function getValidBufferPosition(currentPos) {
        return mediaEngine_.getValidBufferPosition(currentPos);
    }

    /////////////////////////////////////////////////////////////////////////////////
    // Begin - TextEngine
    function addTextTrack() {
        textEngine_.addTextTrack();
    };

    function removeTextTrack() {};

    function setTextTrackHidden() {
        textEngine_.setTextTrackHidden();
    };

    function setCueAlign(align) {
        textEngine_.setCueAlign(align);
    };

    function setCueLine(line) {
        textEngine_.setCueLine(line);
    };

    function setCueLineAlign(lineAlign) {
        textEngine_.setCueLineAlign(lineAlign);
    };
    // End - TextEngine

    /////////////////////////////////////////////////////////////////////////////////
    // private functions
    function initComponent() {
        // enging component
        eventBus_ = (0, _EventBus2.default)(oldmtn).getInstance();
        debug_ = (0, _Debug2.default)(oldmtn).getInstance();
        xhrLoader_ = (0, _xhr_loader2.default)(oldmtn).getInstance();
        mediaEngine_ = (0, _media_engine2.default)(oldmtn).getInstance(media_, cfg_);
        textEngine_ = new _text_engine2.default(media_);
        mseEngine_ = new _media_source_engine2.default();
        drmEngine_ = new _drm_engine2.default(media_);
        manifestParser_ = (0, _manifest_parser2.default)(oldmtn).getInstance();

        if (cfg_.poster) {
            media_.poster = cfg_.poster;
        }
        if (cfg_.advertising) {
            var adContainer = uiEngine_.getAdContainer();
            adsEngine_ = new _ads_engine2.default(adContainer, media_, cfg_.advertising);
        }
    }

    function initData() {
        audioIndex_ = 0;
        videoIndex_ = 0;
        streamInfo_ = null;
    }

    function addEventListeners() {
        eventBus_.on(oldmtn.Events.MSE_OPENED, onMSEOpened, {});

        eventBus_.on(oldmtn.Events.AD_COMPLETE, onAdComplete, {});
        eventBus_.on(oldmtn.Events.AD_CONTENT_PAUSE_REQUESTED, onAdContentPauseRequested, {});
        eventBus_.on(oldmtn.Events.AD_CONTENT_RESUME_REQUESTED, onAdContentResumeRequested, {});
        eventBus_.on(oldmtn.Events.AD_STARTED, onAdStarted, {});
    }

    function addResizeListener() {
        // fullscreen listener
        document.addEventListener("fullscreenchange", onFullScreenChange);
        document.addEventListener("mozfullscreenchange", onFullScreenChange);
        document.addEventListener("webkitfullscreenchange", onFullScreenChange);
        document.addEventListener("msfullscreenchange", onFullScreenChange);
        document.addEventListener("MSFullscreenChange", onFullScreenChange);
    }

    function onFullScreenChange() {
        // we should not rely on clientWidth or clientHeight to set ad metrics when fullscreen change event triggered.
        eventBus_.trigger(oldmtn.Events.FULLSCREEN_CHANGE);
    }

    //////////////////////////////////////////////////////////////////////////////////////////
    // Begin -- internal events listener functions
    function onMSEOpened() {
        mediaEngine_.revokeSrc();

        // Detecting autoplay success or failure
        //mediaEngine_.detectAutoplay();

        //
        scheduleCtrl_ = (0, _schedule_controller2.default)(oldmtn).getInstance();
        scheduleCtrl_.start(parser_);
    }

    function onAdContentPauseRequested() {
        mediaEngine_.pause();
    }

    function onAdContentResumeRequested() {
        if (!mediaEngine_.isEnded()) {
            mediaEngine_.play();
        }
    }

    function onAdStarted() {}

    function onAdComplete() {}
    // End -- internal events listener functions

    ///////////////////////////////////////////////////////////////////////////
    //function onTestMsg() {
    function onTestMsg() {
        console.log('+onTestMsg');
    }

    function test() {
        var media = media_;
    }

    function test2() {}

    function attribute() {
        var media = media_;
        debug_.log('media.buffered : ' + _timeRanges2.default.toString(media.buffered));
        debug_.log('media.seekable: ' + _timeRanges2.default.toString(media.seekable));

        mseEngine_.setDuration(200);

        var a = 2;
        var b = a;
    }

    var instance = {
        init: init,
        open: open,
        close: close,
        addA: addA,
        addV: addV,
        addPD: addPD,
        on: on,
        off: off,
        play: play,
        pause: pause,
        isPaused: isPaused,
        getPosition: getPosition,
        setPosition: setPosition,
        getDuration: getDuration,
        isEnded: isEnded,
        mute: mute,
        unmute: unmute,
        isMuted: isMuted,
        setVolume: setVolume,
        getVolume: getVolume,
        // Resize
        getWidth: getWidth,
        getHeight: getHeight,
        resize: resize,
        isFullscreen: isFullscreen,
        // buffer
        getValidBufferPosition: getValidBufferPosition,
        // Ads
        playAd: playAd,
        //
        test: test,
        test2: test2
    };

    setup();

    return instance;
};

exports.default = Player;

},{"10":10,"11":11,"12":12,"13":13,"19":19,"23":23,"24":24,"25":25,"26":26,"49":49,"50":50,"52":52,"54":54,"55":55,"6":6}],3:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

var _EventBus = _dereq_(12);

var _EventBus2 = _interopRequireDefault(_EventBus);

var _CoreEvents = _dereq_(10);

var _CoreEvents2 = _interopRequireDefault(_CoreEvents);

var _Debug = _dereq_(11);

var _Debug2 = _interopRequireDefault(_Debug);

var _timeRanges = _dereq_(54);

var _timeRanges2 = _interopRequireDefault(_timeRanges);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

function SourceBufferWrapper(rep) {
  var rep_ = rep;
  var media_ = null;
  var mediaSrc_ = null;
  var srcBuffer_ = null;
  var eventBus_ = (0, _EventBus2.default)(oldmtn).getInstance();
  var debug_ = (0, _Debug2.default)(oldmtn).getInstance();

  function setup() {}

  function open(mediaSource) {
    mediaSrc_ = mediaSource;

    srcBuffer_ = mediaSource.addSourceBuffer(rep_.codecs);

    srcBuffer_.addEventListener('updatestart', sourceBuffer_updatestart);
    srcBuffer_.addEventListener('update', sourceBuffer_update);
    srcBuffer_.addEventListener('updateend', sourceBuffer_updateend);
    srcBuffer_.addEventListener('error', sourceBuffer_error);
    srcBuffer_.addEventListener('abort', sourceBuffer_abort);

    return srcBuffer_;
  }

  function close() {
    try {
      srcBuffer_.removeEventListener('updatestart', sourceBuffer_updatestart);
      srcBuffer_.removeEventListener('update', sourceBuffer_update);
      srcBuffer_.removeEventListener('updateend', sourceBuffer_updateend);
      srcBuffer_.removeEventListener('error', sourceBuffer_error);
      srcBuffer_.removeEventListener('abort', sourceBuffer_abort);

      mediaSrc_.removeSourceBuffer(srcBuffer_);
    } catch (ex) {
      debug_.log('Caught exception when remove sb event listener');
    }
  }

  function appendBuffer(buffer) {
    waitForUpdateEnd(buffer, function () {
      if (srcBuffer_) {
        try {
          srcBuffer_.appendBuffer(buffer);
        } catch (err) {
          debug_.log('error while trying to append buffer:' + err.message);
        }
      }
    });
  }

  function removeBuffer() {
    debug_.log('+sourceBuffer_remove');

    var bufStart = void 0;
    var bufEnd = void 0;
    for (var i = 0; i < srcBuffer_.buffered.length; i++) {
      bufStart = srcBuffer_.buffered.start(i);
      bufEnd = srcBuffer_.buffered.end(i);

      srcBuffer_.remove(bufStart, bufEnd);
    }
  }

  function sourceBuffer_updatestart() {
    //debug_.log('--sourceBuffer_updatestart--');
  }

  function sourceBuffer_update() {
    //debug_.log('--sourceBuffer_update--');
  }

  function sourceBuffer_updateend() {
    // debug_.log('--sourceBuffer_updateend--, clientWidth: ' + media_.clientWidth + ', clientHeight: ' + media_.clientHeight);
    // debug_.log('--sourceBuffer_updateend--, width: ' + media_.width + ', height: ' + media_.height);
    // debug_.log('--sourceBuffer_updateend--, videoWidth: ' + media_.videoWidth + ', videoHeight: ' + media_.videoHeight);

    //
    //debug_.log(`main buffered : ${TimeRanges.toString(media_.buffered)}` + ', currentTime: ' + media_.currentTime);

    // BD
    //if (rep_.type === 'audio')
    {
      debug_.log('Native, ' + rep_.type + ' buffered : ' + _timeRanges2.default.toString(srcBuffer_.buffered));
    }
    // ED
    eventBus_.trigger(_CoreEvents2.default.SB_UPDATE_ENDED, {});
  }

  function sourceBuffer_error(e) {
    debug_.log('+sourceBuffer_error', e);
  }

  function sourceBuffer_abort() {
    debug_.log('+sourceBuffer_abort');
  }

  function waitForUpdateEnd(buffer, callback) {
    if (!srcBuffer_.updating) {
      callback();
      return;
    }

    var updateEndHandler = function updateEndHandler() {
      srcBuffer_.removeEventListener('updateend', updateEndHandler, false);
      callback();
    };
    srcBuffer_.addEventListener('updateend', updateEndHandler, false);
  }

  var instance = {
    open: open,
    close: close,
    appendBuffer: appendBuffer,
    removeBuffer: removeBuffer
  };
  setup();
  return instance;
};

exports.default = SourceBufferWrapper;

},{"10":10,"11":11,"12":12,"13":13,"54":54}],4:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

var _EventBus = _dereq_(12);

var _EventBus2 = _interopRequireDefault(_EventBus);

var _VTTParser = _dereq_(43);

var _VTTParser2 = _interopRequireDefault(_VTTParser);

var _TTMLParser = _dereq_(42);

var _TTMLParser2 = _interopRequireDefault(_TTMLParser);

var _testcc = _dereq_(47);

var _decrypter = _dereq_(16);

var _decrypter2 = _interopRequireDefault(_decrypter);

var _common_utils = _dereq_(52);

var _common_utils2 = _interopRequireDefault(_common_utils);

var _xhr_loader = _dereq_(55);

var _xhr_loader2 = _interopRequireDefault(_xhr_loader);

var _FileSaver = _dereq_(5);

var _FileSaver2 = _interopRequireDefault(_FileSaver);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var mySaveAs = _FileSaver2.default;

var context = window;

//////////////////////////////////////////////////////////////////////////////
function TestFeature() {
  var context_ = this.context;
  var instance = void 0;
  var xhrLoader = void 0;

  function setup() {
    xhrLoader = (0, _xhr_loader2.default)(context_).create();
  }

  function on1001Completed() {
    console.debug('--on1001Completed--');
  }

  function on1001Completed2() {
    console.debug('--on1001Completed2--');
  }

  function testEvent() {
    var eventBus = (0, _EventBus2.default)(context).getInstance();

    eventBus.on(1001, on1001Completed, instance);
    eventBus.on(1001, on1001Completed2, instance);

    eventBus.trigger(1001, {});
    eventBus.off(1001, on1001Completed, instance);
    eventBus.off(1001, on1001Completed2, instance);
  }

  function testForEach() {
    var arr01 = [];
    arr01.push('aaa');
    arr01.push('bbbb');
    arr01.push('c');
    arr01.push('dd');

    arr01.forEach(function (ele) {
      console.debug(ele);
    });
  }

  function test1() {
    console.log('begin test1--');
    //commonUtil.test1('2131313');
    _common_utils2.default.test1();
    console.log('end test1--');
  }

  function test_readfile() {}

  function test_vtt() {
    console.debug('test_vtt was called here.');

    var xhr = new XMLHttpRequest();
    xhr.onload = function () {
      if (this.status == 200) {

        var parser = (0, _VTTParser2.default)(context).getInstance();
        var captionArray = parser.parse(this.responseText);
        for (var i = 0; i < captionArray.length; i++) {
          console.debug('[' + captionArray[i].start + ',' + captionArray[i].end + '] ' + captionArray[i].data);
        }
      }
    };

    xhr.open("GET", "http://localhost/tmp/fileSequence0.webvtt", true);
    xhr.send();
  }

  function test_ttml() {
    console.debug('test_ttml was called here.');

    var xhr = new XMLHttpRequest();
    xhr.onload = function () {
      if (this.status == 200) {
        var parser = (0, _TTMLParser2.default)(context).getInstance();
        parser.parse(this.responseText);
      }
    };

    xhr.open("GET", "http://localhost/tmp/sub_eng_short.xml", true);
    xhr.send();
  }

  var index = 0;
  function test_aes128() {
    var xhr = new XMLHttpRequest();
    xhr.responseType = 'arraybuffer';

    xhr.onload = function () {
      if (this.status == 200) {

        // 
        var data = this.response;

        var decrypter = new _decrypter2.default({ enableSoftwareAES: true });
        var key = [0xF5, 0x71, 0xBF, 0xEC, 0xFD, 0x1A, 0xB9, 0xAD, 0xB0, 0x5C, 0xE6, 0xFA, 0x03, 0x0E, 0xFD, 0x81];
        var key_u8 = new Uint8Array(key);
        var key_buffer = key_u8.buffer;
        var iv = [0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00];
        var iv_u8 = new Uint8Array(iv);
        var iv_buffer = iv_u8.buffer;

        decrypter.decrypt(data, key_buffer, iv_buffer, function (decryptedData) {
          //var endTime;
          //try {
          //  endTime = performance.now();
          //} catch(error) {
          //  endTime = Date.now();
          //}
          //localthis.observer.trigger(Event.FRAG_DECRYPTED, { stats: { tstart: startTime, tdecrypt: endTime } });
          //localthis.pushDecrypted(new Uint8Array(decryptedData), decryptdata, new Uint8Array(initSegment), audioCodec, videoCodec, timeOffset, discontinuity, trackSwitch, contiguous, duration, accurateTimeOffset,defaultInitPTS);

          // save ts to local
          var blob = new Blob([new Uint8Array(decryptedData)], { type: 'application/octet-stream' });
          var fileName = index.toString() + '.ts';
          mySaveAs.saveAs(blob, fileName);
          index++;
        });
      }
    };

    xhr.open("GET", "http://localhost/2/myhls/drm/aes/oceans_aes-audio=65000-video=571000-1.ts", true);
    xhr.send();
  }

  function test_xhrloader() {
    var content = { url: 'http://10.2.68.51/7/hls/v10/gear/gear1/main.ts', rangeStart: 0, rangeEnd: 326744 };

    function onSuccess(bytes) {
      console.log('test_xhrloader, onSuccess, bytes: ' + bytes.byteLength);
    }

    xhrLoader.load(content, onSuccess);
  }

  function test_hlsparser() {}

  instance = {
    test1: test1,
    test_readfile: test_readfile,
    test_vtt: test_vtt,
    test_cea608: _testcc.test_cea608,
    test_aes128: test_aes128,
    test_xhrloader: test_xhrloader,
    test_hlsparser: test_hlsparser
  };

  setup();
  return instance;
}

TestFeature.__h5player_factory_name = 'TestFeature';
var factory = _FactoryMaker2.default.getClassFactory(TestFeature);
exports.default = factory;

},{"12":12,"13":13,"16":16,"42":42,"43":43,"47":47,"5":5,"52":52,"55":55}],5:[function(_dereq_,module,exports){
"use strict";

/* FileSaver.js
 * A saveAs() FileSaver implementation.
 * 1.3.2
 * 2016-06-16 18:25:19
 *
 * By Eli Grey, http://eligrey.com
 * License: MIT
 *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md
 */

/*global self */
/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */

/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */

var saveAs = saveAs || function (view) {
  "use strict";
  // IE <10 is explicitly unsupported

  if (typeof view === "undefined" || typeof navigator !== "undefined" && /MSIE [1-9]\./.test(navigator.userAgent)) {
    return;
  }
  var doc = view.document
  // only get URL when necessary in case Blob.js hasn't overridden it yet

  ,
      get_URL = function get_URL() {
    return view.URL || view.webkitURL || view;
  },
      save_link = doc.createElementNS("http://www.w3.org/1999/xhtml", "a"),
      can_use_save_link = "download" in save_link,
      click = function click(node) {
    var event = new MouseEvent("click");
    node.dispatchEvent(event);
  },
      is_safari = /constructor/i.test(view.HTMLElement) || view.safari,
      is_chrome_ios = /CriOS\/[\d]+/.test(navigator.userAgent),
      throw_outside = function throw_outside(ex) {
    (view.setImmediate || view.setTimeout)(function () {
      throw ex;
    }, 0);
  },
      force_saveable_type = "application/octet-stream"
  // the Blob API is fundamentally broken as there is no "downloadfinished" event to subscribe to

  ,
      arbitrary_revoke_timeout = 1000 * 40 // in ms

  ,
      revoke = function revoke(file) {
    var revoker = function revoker() {
      if (typeof file === "string") {
        // file is an object URL
        get_URL().revokeObjectURL(file);
      } else {
        // file is a File
        file.remove();
      }
    };
    setTimeout(revoker, arbitrary_revoke_timeout);
  },
      dispatch = function dispatch(filesaver, event_types, event) {
    event_types = [].concat(event_types);
    var i = event_types.length;
    while (i--) {
      var listener = filesaver["on" + event_types[i]];
      if (typeof listener === "function") {
        try {
          listener.call(filesaver, event || filesaver);
        } catch (ex) {
          throw_outside(ex);
        }
      }
    }
  },
      auto_bom = function auto_bom(blob) {
    // prepend BOM for UTF-8 XML and text/* types (including HTML)
    // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF
    if (/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)) {
      return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type });
    }
    return blob;
  },
      FileSaver = function FileSaver(blob, name, no_auto_bom) {
    if (!no_auto_bom) {
      blob = auto_bom(blob);
    }
    // First try a.download, then web filesystem, then object URLs
    var filesaver = this,
        type = blob.type,
        force = type === force_saveable_type,
        object_url,
        dispatch_all = function dispatch_all() {
      dispatch(filesaver, "writestart progress write writeend".split(" "));
    }
    // on any filesys errors revert to saving with object URLs

    ,
        fs_error = function fs_error() {
      if ((is_chrome_ios || force && is_safari) && view.FileReader) {
        // Safari doesn't allow downloading of blob urls
        var reader = new FileReader();
        reader.onloadend = function () {
          var url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');
          var popup = view.open(url, '_blank');
          if (!popup) view.location.href = url;
          url = undefined; // release reference before dispatching
          filesaver.readyState = filesaver.DONE;
          dispatch_all();
        };
        reader.readAsDataURL(blob);
        filesaver.readyState = filesaver.INIT;
        return;
      }
      // don't create more object URLs than needed
      if (!object_url) {
        object_url = get_URL().createObjectURL(blob);
      }
      if (force) {
        view.location.href = object_url;
      } else {
        var opened = view.open(object_url, "_blank");
        if (!opened) {
          // Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html
          view.location.href = object_url;
        }
      }
      filesaver.readyState = filesaver.DONE;
      dispatch_all();
      revoke(object_url);
    };
    filesaver.readyState = filesaver.INIT;

    if (can_use_save_link) {
      object_url = get_URL().createObjectURL(blob);
      setTimeout(function () {
        save_link.href = object_url;
        save_link.download = name;
        click(save_link);
        dispatch_all();
        revoke(object_url);
        filesaver.readyState = filesaver.DONE;
      });
      return;
    }

    fs_error();
  },
      FS_proto = FileSaver.prototype,
      saveAs = function saveAs(blob, name, no_auto_bom) {
    return new FileSaver(blob, name || blob.name || "download", no_auto_bom);
  };
  // IE 10+ (native saveAs)
  if (typeof navigator !== "undefined" && navigator.msSaveOrOpenBlob) {
    return function (blob, name, no_auto_bom) {
      name = name || blob.name || "download";

      if (!no_auto_bom) {
        blob = auto_bom(blob);
      }
      return navigator.msSaveOrOpenBlob(blob, name);
    };
  }

  FS_proto.abort = function () {};
  FS_proto.readyState = FS_proto.INIT = 0;
  FS_proto.WRITING = 1;
  FS_proto.DONE = 2;

  FS_proto.error = FS_proto.onwritestart = FS_proto.onprogress = FS_proto.onwrite = FS_proto.onabort = FS_proto.onerror = FS_proto.onwriteend = null;

  return saveAs;
}(typeof self !== "undefined" && self || typeof window !== "undefined" && window || undefined.content);
// `self` is undefined in Firefox for Android content script context
// while `this` is nsIContentFrameMessageManager
// with an attribute `content` that corresponds to the window

if (typeof module !== "undefined" && module.exports) {
  module.exports.saveAs = saveAs;
} else if (typeof define !== "undefined" && define !== null && define.amd !== null) {
  define("FileSaver.js", function () {
    return saveAs;
  });
}

},{}],6:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _EventBus = _dereq_(12);

var _EventBus2 = _interopRequireDefault(_EventBus);

var _CoreEvents = _dereq_(10);

var _CoreEvents2 = _interopRequireDefault(_CoreEvents);

var _Debug = _dereq_(11);

var _Debug2 = _interopRequireDefault(_Debug);

var _common_utils = _dereq_(52);

var _common_utils2 = _interopRequireDefault(_common_utils);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

function formatAdsTimeOffset(offset) {
    var hour = parseInt(offset / 3600);
    var min = parseInt(parseInt(offset % 3600) / 60);
    var sec = parseInt(parseInt(offset % 3600) % 60);

    return hour.toString() + ':' + min.toString() + ':' + sec.toString() + '.000';
}

function getVMAPItem(breakId, offset, tag) {
    var breakType = 'linear,nonlinear';
    var breakId = breakId;
    var timeOffset = formatAdsTimeOffset(offset);
    var url = tag;

    var item = '<vmap:AdBreak breakType="_type_" breakId="_adbreakname_" timeOffset="_offset_"><vmap:AdSource allowMultipleAds="true" followRedirects="true" id="_adbreakname_-ad-1"><vmap:AdTagURI><![CDATA[_url_]]></vmap:AdTagURI></vmap:AdSource></vmap:AdBreak>'.replace(/_type_/g, breakType).replace(/_adbreakname_/g, breakId).replace(/_offset_/g, timeOffset).replace(/_url_/g, url);
    return item;
}

function AdsEngine(adContainer, media, advertising) {
    var eventBus_ = (0, _EventBus2.default)(oldmtn).getInstance();
    var debug_ = (0, _Debug2.default)(oldmtn).getInstance();
    var adContainer_ = adContainer;
    var media_ = media;
    var advertising_ = advertising;

    // IMA SDK Needs
    var adDisplayContainer_ = null;
    var adsLoader_ = null;
    var adsManager_ = null;

    //
    var cuePoints_ = null;

    //
    var width_ = void 0;
    var height_ = void 0;

    // flag
    var isAdTime_ = false;
    var isLinearAd_ = false;
    var isPaused_ = false;

    var adsLoaded_ = false;
    var contentInitialized_ = false;

    var countdownTimer_ = null;
    var duration_ = void 0;
    var position_ = void 0;

    var isMobilePlatform_ = false; //= CommonUtils.isMobilePlatform();

    function setup() {
        if (advertising_.vpaidmode) {
            var mode = -1;
            if (advertising_.vpaidmode === 'disabled') {
                mode = google.ima.ImaSdkSettings.VpaidMode.DISABLED;
            } else if (advertising_.vpaidmode === 'enabled') {
                mode = google.ima.ImaSdkSettings.VpaidMode.ENABLED;
            } else if (advertising_.vpaidmode === 'insecure') {
                mode = google.ima.ImaSdkSettings.VpaidMode.INSECURE;
            }
            if (mode !== -1) {
                google.ima.settings.setVpaidMode(mode);
            }
        }

        if (advertising_.locale) {
            google.ima.settings.setLocale(advertising_.locale);
        }

        adDisplayContainer_ = new google.ima.AdDisplayContainer(adContainer_, media_, advertising_.companions[0] ? advertising_.companions[0].div : null);

        adsLoader_ = new google.ima.AdsLoader(adDisplayContainer_);
        // Mobile Skippable Ads
        // see: https://developers.google.com/interactive-media-ads/docs/sdks/html5/skippable-ads
        adsLoader_.getSettings().setDisableCustomPlaybackForIOS10Plus(true);
        adsLoader_.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED, onAdsManagerLoaded, false, this);
        adsLoader_.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, onAdError, false, this);

        //
        adsLoaded_ = false;
        contentInitialized_ = false;
        eventBus_.on(oldmtn.Events.MEDIA_LOADEDMETADATA, onMediaLoadedMetadata, this);
        eventBus_.on(oldmtn.Events.MEDIA_ENDED, onMediaEnded, this);
    }

    function open() {
        initialUserAction();
        requestAds();
    }

    function close() {
        stopAdTimer();
        if (adsManager_) {
            adsManager_.destroy();
            adsManager_ = null;
        }
    }

    function initialUserAction() {
        // On iOS and Android devices, video playback must begin in a user action.
        // AdDisplayContainer provides a initialize() API to be called at appropriate
        // time.
        // see: https://developers.google.com/interactive-media-ads/docs/sdks/html5/mobile_video
        adDisplayContainer_.initialize();
    }

    function requestAds() {
        width_ = adContainer_.clientWidth;
        height_ = adContainer_.clientHeight;
        // var item = getVMAPItem('myAds', advertising_.offset, advertising_.tag);
        // var ads = '<vmap:VMAP xmlns:vmap="http://www.iab.net/videosuite/vmap" version="1.0">' + item + "</vmap:VMAP>"
        // console.log('ads: ' + ads);

        debug_.log('+request ads, advertising_.tag: ' + advertising_.tag);
        var adsRequest = new google.ima.AdsRequest();
        adsRequest.adTagUrl = advertising_.tag;
        // Specify the linear and nonlinear slot sizes. This helps the SDK to
        // select the correct creative if multiple are returned.
        adsRequest.linearAdSlotWidth = width_;
        adsRequest.linearAdSlotHeight = height_;
        adsRequest.nonLinearAdSlotWidth = width_;
        adsRequest.nonLinearAdSlotHeight = height_;

        // adsRequest.setAdWillAutoPlay(autoplayAllowed_);
        // adsRequest.setAdWillPlayMuted(autoplayRequiresMuted_);
        adsRequest.forceNonLinearFullSlot = advertising_.forceNonLinearFullSlot;

        /*
         * In some circumstances you may want to prevent the SDK from playing ad breaks until you're ready for them.
         * In this scenario, you can disable automatic playback of ad breaks in favor of letting the SDK know when you're ready for an ad break to play.
         * With this configuration, once the SDK has loaded an ad break, it will fire an AD_BREAK_READY event.
         * When your player is ready for the ad break to start, you can call adsManager.start():
         */
        //adsLoader_.getSettings().setAutoPlayAdBreaks(false);

        adsLoader_.requestAds(adsRequest);
    }

    // AdsEngine public functions
    function playAd() {
        if (contentInitialized_ && adsLoaded_) {
            try {
                initialUserAction();
                adsManager_.init(width_, height_, google.ima.ViewMode.NORMAL);
                adsManager_.start();
            } catch (adError) {
                // An error may be thrown if there was a problem with the VAST response.
            }
        }
    }

    function startAdsInternal() {
        debug_.log('+AdsEngine.startAdsInternal');

        // sometimes, requestAds may be caught an error, so we return here directly.
        if (!adsManager_) {
            return;
        }

        playAd();
    }

    function isPaused() {
        return isPaused_;
    }

    function isPlayingAd() {
        return isAdTime_;
    }

    function isLinearAd() {
        return isLinearAd_;
    }

    function isMuted() {
        if (adsManager_.getVolume() === 0) {
            return true;
        } else {
            return false;
        }
    }

    function mute() {
        adsManager_.setVolume(0);
    }

    function unmute() {
        adsManager_.setVolume(1);
    }

    function getVolume() {
        return adsManager_.getVolume();
    }

    function setVolume(volume) {
        adsManager_.setVolume(volume);
    }

    function getPosition() {
        return position_;
    }

    function duration() {
        return duration_;
    }

    function play() {
        if (adsManager_) {
            adsManager_.resume();
        }
    }

    function pause() {
        if (adsManager_) {
            adsManager_.pause();
        }
    }

    function resize(width, height, fullscreen) {
        if (adsManager_) {
            width_ = width;
            height_ = height;
            adsManager_.resize(width_, height_, google.ima.ViewMode.FULLSCREEN);
        }
    }

    ////////////////////////////////////////////////////////////////////////
    function onAdsManagerLoaded(adsManagerLoadedEvent) {
        debug_.log('+onAdsManagerLoaded');

        var adsRenderingSettings = new google.ima.AdsRenderingSettings();
        if (advertising_.enablePreloading) {
            adsRenderingSettings.enablePreloading = advertising_.enablePreloading;
        }
        adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete = true;

        adsManager_ = adsManagerLoadedEvent.getAdsManager(media_, adsRenderingSettings);

        // Attach the pause/resume events.
        // Handle errors.
        adsManager_.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR, onAdError, false, this);
        var events = [
        // For non-auto ad breaks, listen for ad break ready
        google.ima.AdEvent.Type.AD_BREAK_READY, google.ima.AdEvent.Type.AD_METADATA, google.ima.AdEvent.Type.ALL_ADS_COMPLETED, google.ima.AdEvent.Type.CLICK, google.ima.AdEvent.Type.COMPLETE, google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED, google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED, google.ima.AdEvent.Type.DURATION_CHANGE, google.ima.AdEvent.Type.FIRST_QUARTILE, google.ima.AdEvent.Type.IMPRESSION, google.ima.AdEvent.Type.INTERACTION, google.ima.AdEvent.Type.LINEAR_CHANGED, google.ima.AdEvent.Type.LOADED, google.ima.AdEvent.Type.LOG, google.ima.AdEvent.Type.MIDPOINT, google.ima.AdEvent.Type.PAUSED, google.ima.AdEvent.Type.RESUMED, google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED, google.ima.AdEvent.Type.SKIPPED, google.ima.AdEvent.Type.STARTED, google.ima.AdEvent.Type.THIRD_QUARTILE, google.ima.AdEvent.Type.USER_CLOSE, google.ima.AdEvent.Type.VOLUME_CHANGED, google.ima.AdEvent.Type.VOLUME_MUTED];
        for (var index in events) {
            adsManager_.addEventListener(events[index], onAdEvent, false, this);
        }

        adsLoaded_ = true;
        if (contentInitialized_ && !isMobilePlatform_) {
            debug_.log('startAdsInternal when contentInitialized_');
            startAdsInternal();
        }

        debug_.log('-onAdsManagerLoaded');
    }

    function onAdError(adErrorEvent) {
        debug_.log('--onAdEvent--: ' + adErrorEvent.getError().toString());
        var err = adErrorEvent.getError();
        // deserialize, getErrorCode, getInnerError, getMessage, getType, getVastErrorCode, serialize, toString
        console.log('ad err: ', err);

        var errCode = err.getErrorCode();
        var errMsg = err.getMessage();

        if (adsManager_) {
            adsManager_.destroy();
        }
        //application_.resumeAfterAd();
    }

    function onAdEvent(adEvent) {
        debug_.log('+onAdEvent: ' + adEvent.type);
        var ad = adEvent.getAd();

        switch (adEvent.type) {
            case google.ima.AdEvent.Type.AD_BREAK_READY:
                {
                    console.log('adEvent.o.adBreakTime: ' + adEvent.o.adBreakTime);
                }
                break;
            case google.ima.AdEvent.Type.AD_METADATA:
                {
                    // for (let i in adEvent) {
                    //     console.log('AD_METADATA: ' + i);
                    // }
                    cuePoints_ = adEvent.getAdCuePoints();
                    console.log('cue points: ' + cuePoints_.h.join(","));
                }
                break;
            case google.ima.AdEvent.Type.CLICK:
                {
                    //application_.adClicked();
                }
                break;
            case google.ima.AdEvent.Type.COMPLETE:
                {
                    // This event indicates the ad has finished - the video player
                    // can perform appropriate UI actions, such as removing the timer for
                    // remaining time detection.
                    processWhenAdComplete();
                }
                break;
            case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:
                {
                    eventBus_.trigger(_CoreEvents2.default.AD_CONTENT_PAUSE_REQUESTED);
                }
                break;
            case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:
                {
                    eventBus_.trigger(_CoreEvents2.default.AD_CONTENT_RESUME_REQUESTED);
                }
                break;
            case google.ima.AdEvent.Type.DURATION_CHANGE:
                {}
                break;
            case google.ima.AdEvent.Type.IMPRESSION:
                {}
                break;
            case google.ima.AdEvent.Type.LINEAR_CHANGED:
                {}
                break;
            case google.ima.AdEvent.Type.LOADED:
                {
                    // This is the first event sent for an ad - it is possible to
                    // determine whether the ad is a video ad or an overlay.
                    if (!ad.isLinear()) {
                        // Position AdDisplayContainer correctly for overlay.
                        // Use ad.width and ad.height.

                    }
                }
                break;
            case google.ima.AdEvent.Type.PAUSED:
                {
                    isPaused_ = true;
                }
                break;
            case google.ima.AdEvent.Type.RESUMED:
                {
                    isPaused_ = false;
                }
                break;
            case google.ima.AdEvent.Type.SKIPPED:
                {
                    // for "skippable ads", if we skip it, we won't receive COMPLETED event, but only receive SKIPPED event.
                    processWhenAdComplete();
                }
                break;
            case google.ima.AdEvent.Type.STARTED:
                {
                    // This event indicates the ad has started - the video player
                    // can adjust the UI, for example display a pause button and
                    // remaining time.
                    isAdTime_ = true;
                    isLinearAd_ = ad.isLinear();

                    position_ = 0;
                    duration_ = ad.getDuration();

                    eventBus_.trigger(_CoreEvents2.default.AD_STARTED, {
                        isLinearAd: isLinearAd_
                    });
                    if (isLinearAd_) {
                        startAdTimer();
                        eventBus_.trigger(_CoreEvents2.default.AD_TIMEUPDATE);
                    } else {
                        eventBus_.trigger(_CoreEvents2.default.AD_CONTENT_RESUME_REQUESTED);
                    }

                    // check companions
                    var selectionCriteria = new google.ima.CompanionAdSelectionSettings();
                    selectionCriteria.resourceType = google.ima.CompanionAdSelectionSettings.ResourceType.STATIC;
                    selectionCriteria.creativeType = google.ima.CompanionAdSelectionSettings.CreativeType.IMAGE;
                    selectionCriteria.sizeCriteria = google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE;

                    // Get a list of companion ads for an ad slot size and CompanionAdSelectionSettings
                    var companionAds = ad.getCompanionAds(width_, height_, selectionCriteria);
                    for (var i = 0; i < companionAds.length; i++) {
                        var companionAd = companionAds[i];
                        console.log('companion[' + i + '], type:' + companionAd.getContentType() + ' width:' + companionAd.getWidth() + ', height:' + companionAd.getHeight());
                    }
                }
                break;
            case google.ima.AdEvent.Type.THIRD_QUARTILE:
                {}
                break;
            case google.ima.AdEvent.Type.USER_CLOSE:
                {
                    processWhenAdComplete();
                }
                break;
            case google.ima.AdEvent.Type.VOLUME_CHANGED:
                {
                    console.log('ad VOLUME_CHANGED: ' + adsManager_.getVolume());
                }
                break;
            case google.ima.AdEvent.Type.VOLUME_MUTED:
                {
                    console.log('ad VOLUME_MUTED: ' + adsManager_.getVolume());
                }
                break;
            default:
                break;
        }
    }

    function onMediaLoadedMetadata() {
        // In some platform, content player & ad player could use a single video tag,
        // and we just process content player 'metadata' event only, so cancel the listener.
        eventBus_.off(oldmtn.Events.MEDIA_LOADEDMETADATA, onMediaLoadedMetadata, this);
        debug_.log('+onMediaLoadedMetadata' + ', ' + 'contentInitialized_: ' + contentInitialized_ + ', ' + 'adsLoaded_: ' + adsLoaded_);
        contentInitialized_ = true;
        if (adsLoaded_ && !isMobilePlatform_) {
            debug_.log('startAdsInternal when adsLoaded_');
            startAdsInternal();
        }
        debug_.log('-onMediaLoadedMetadata');
    }

    function onMediaEnded() {
        adsLoader_.contentComplete();
    }

    //
    function startAdTimer() {
        countdownTimer_ = setInterval(function () {
            var timeRemaining = adsManager_.getRemainingTime();
            // If the ad is not loaded yet or has finished playing, getRemainingTime would return -1.
            if (timeRemaining === -1) {
                return;
            }

            position_ = duration_ - timeRemaining;
            // Update UI with timeRemaining
            if (isAdTime_ && !isPaused_) {
                console.log('test, timeRemaining: ' + timeRemaining + ', position: ' + position_ + ', duration: ' + duration_);
                eventBus_.trigger(_CoreEvents2.default.AD_TIMEUPDATE);
            }
        }, 300);
    }

    function stopAdTimer() {
        if (countdownTimer_) {
            clearInterval(countdownTimer_);
            countdownTimer_ = null;
        }
    }

    function processWhenAdComplete() {
        isAdTime_ = false;
        stopAdTimer();
        position_ = duration_;
        eventBus_.trigger(_CoreEvents2.default.AD_TIMEUPDATE);
        eventBus_.trigger(_CoreEvents2.default.AD_COMPLETE);
    }

    //
    function test() {
        playAd();
        // let skippableState = adsManager_.getAdSkippableState();
        // console.log('skippableState: ' + skippableState);
        // //adsManager_.skip();

        // onMediaEnded();
    }

    var instance = {
        open: open,
        close: close,
        isPlayingAd: isPlayingAd,
        isLinearAd: isLinearAd,
        play: play,
        pause: pause,
        isPaused: isPaused,
        mute: mute,
        unmute: unmute,
        isMuted: isMuted,
        getVolume: getVolume,
        setVolume: setVolume,
        getPosition: getPosition,
        duration: duration,
        resize: resize,
        requestAds: requestAds,
        playAd: playAd,

        //
        test: test
    };

    setup();
    return instance;
}

exports.default = AdsEngine;

},{"10":10,"11":11,"12":12,"52":52}],7:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _cast_utils = _dereq_(9);

var _cast_utils2 = _interopRequireDefault(_cast_utils);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

///////////////////////////////////////////////////////////////////////////////////////////////////
function CastReceiver(elementId) {
    console.log('receiver, constructor');

    var elementId_ = elementId;
    var mediaElement_ = null;
    var receiverManager_ = null;
    var genericBus_ = null;
    var oldmtnBus_ = null;
    var mediaManager_ = null;
    var onLoadOrig_ = null;
    var onGetStatusOrig_ = null;
    var onMetadataLoadedOrig_ = null;
    var onStopOrig_ = null;
    var onLoadMetadataErrorOrig_ = null;
    var onErrorOrig_ = null;
    var evHandlers = {};
    var player_ = null;
    var isConnected_ = null;

    var omPlayer_ = void 0;

    function setup() {
        cast.player.api.setLoggerLevel(cast.player.api.LoggerLevel.DEBUG);
        cast.receiver.logger.setLevelValue(cast.receiver.LoggerLevel.DEBUG);

        // Init CastReceiverManager
        receiverManager_ = cast.receiver.CastReceiverManager.getInstance();
        receiverManager_.onReady = onReady_;
        receiverManager_.onSenderDisconnected = onSenderDisconnected_;
        receiverManager_.onVisibilityChanged = onVisibilityChanged_;

        // custom message bus
        console.log('CastUtils.GENERIC_MESSAGE_NAMESPACE: ' + _cast_utils2.default.GENERIC_MESSAGE_NAMESPACE);
        console.log('CastUtils.OLDMTN_MESSAGE_NAMESPACE: ' + _cast_utils2.default.OLDMTN_MESSAGE_NAMESPACE);

        oldmtnBus_ = receiverManager_.getCastMessageBus(_cast_utils2.default.OLDMTN_MESSAGE_NAMESPACE);
        oldmtnBus_.onMessage = onOldmtnMessage_;

        omPlayer_ = oldmtn.Player(elementId_);

        // // Init Video Element
        // let v = document.getElementById(elementId_);
        // mediaElement_ = v.querySelector('.h5p-video');
        // // mediaElement_.addEventListener('timeupdate', onTimeupdate,
        // //     false);

        // // Init MediaManager
        // mediaManager_ = new cast.receiver.MediaManager(mediaElement_);

        // // The default GENERIC_MESSAGE_NAMESPACE should called after creating MediaManager. 
        // genericBus_ = receiverManager_.getCastMessageBus(
        //         CastUtils.GENERIC_MESSAGE_NAMESPACE);
        // genericBus_.onMessage = onGenericMessage_;

        // onLoadOrig_ =
        //     mediaManager_.onLoad.bind(mediaManager_);
        // mediaManager_.onLoad = onLoad_;

        // onGetStatusOrig_ =
        //     mediaManager_.onGetStatus.bind(mediaManager_);
        // mediaManager_.onGetStatus = onGetStatus_;

        // onMetadataLoadedOrig_ =
        //     mediaManager_.onMetadataLoaded.bind(mediaManager_);
        // mediaManager_.onMetadataLoaded = onMetadataLoaded_;

        // onStopOrig_ =
        //     mediaManager_.onStop.bind(mediaManager_);
        // mediaManager_.onStop = onStop_;

        // onLoadMetadataErrorOrig_ =
        //     mediaManager_.onLoadMetadataError.bind(mediaManager_);
        // mediaManager_.onLoadMetadataError = onLoadMetadataError_;

        // onErrorOrig_ = mediaManager_.onError.bind(mediaManager_);
        // mediaManager_.onError = onError_;
    }
    //
    function getMediaElement() {
        return mediaElement_;
    }

    function getMediaManager() {
        return mediaManager_;
    }

    function getPlayer() {
        return player_;
    }

    function onReady_() {
        console.log('onReady');
    }

    function onSenderDisconnected_(event) {
        console.log('onSenderDisconnected');
        // When the last or only sender is connected to a receiver,
        // tapping Disconnect stops the app running on the receiver.
        if (receiverManager_.getSenders().length === 0 && event.reason === cast.receiver.system.DisconnectReason.REQUESTED_BY_SENDER) {
            receiverManager_.stop();
        }
    }

    function onTimeupdate() {
        // var curTime = mediaElement_.currentTime;
        // var totalTime = mediaElement_.duration;

        // //console.log('onTimeupdate, ' + curTime + '/' + totalTime);

        // // update local
        // evHandlers['timeupdate'](curTime, totalTime);

        // // send message to sender
        // sendMessage_({
        //     type: 'timeupdate',
        //     data: {
        //         curTime: curTime,
        //         totalTime: totalTime
        //     }
        // }, oldmtnBus_);
    }

    function onSeekStart_() {
        console.log('onSeekStart');
    }

    function onSeekEnd_() {
        console.log('onSeekEnd');
    }

    function onVisibilityChanged_(event) {
        console.log('onVisibilityChanged');
        // if (!event.isVisible) {
        //     mediaElement_.pause();
        //     mediaManager_.broadcastStatus(false);
        // }
    }

    function onGenericMessage_(event) {
        console.log('+onGenericMessage_, type: ' + event.type + ', senderId: ' + event.senderId);
        return;

        // console.log('type: ' + event.data.type);
        // console.log('requestId: ' + event.data.requestId);
        // console.log('namespace: ' + event.namespace);
        // console.log('senderId: ' + event.senderId);

        // var message = CastUtils.deserialize(event.data);
        // console.log('+onGenericMessage_: ' + message['type']);

        // TODO(ismena): error message on duplicate request id from the same sender
        //switch (message['type']) {
        switch (event.data.type) {
            case 'PLAY':
                {
                    mediaElement_.play();
                }
                break;
            case 'PAUSE':
                {
                    mediaElement_.pause();
                }
                break;
            case 'LOAD':
                {
                    var mediaInfo = event.data.media;
                    var contentId = mediaInfo['contentId'];
                    var manifestUri = contentId;

                    // var mediaInfo = message['media'];
                    // var contentId = mediaInfo['contentId'];
                    // var currentTime = message['currentTime'];
                    // var manifestUri = contentId;
                    // sample
                    // contentId: "http://10.2.72.104/7/hls/v8/gear1/test.m3u8"
                    // contentType: "application/dash+xml"
                    // metadata: Object
                    // streamType: "BUFFERED"
                    // var protocolFunc = CastReceiver.getProtocolFunction_(mediaInfo);
                    // var host = new cast.player.api.Host({
                    //   'url': manifestUri,
                    //   'mediaElement': mediaElement_
                    // });
                    // player_ = new cast.player.api.Player(host);
                    // player_.load(protocolFunc(host));
                }
                break;
            default:
                break;
        }
    }

    function onOldmtnMessage_(event) {
        var message = _cast_utils2.default.deserialize(event.data);
        console.log('onOldmtnMessage_, event.data: ' + event.data);
        console.log('onOldmtnMessage_, message: ' + message);

        if (message.cmdType === 'init') {
            console.log('poster: ' + message.poster);
            omPlayer_.init(message);
        } else if (message.cmdType === 'open') {
            omPlayer_.open(message);
        } else if (message.cmdType === 'addV') {
            omPlayer_.addV();
        } else if (message.cmdType === 'addPD') {
            omPlayer_.addPD();
        } else if (message.cmdType === 'play') {
            omPlayer_.play();
        } else if (message.cmdType === 'pause') {
            omPlayer_.pause();
        } else if (message.cmdType === 'playAd') {
            omPlayer_.playAd();
        }
        //oldmtnBus_.broadcast("abcd1234");
    }

    function sendMessage_(message, bus, opt_senderId) {
        // Cuts log spam when debugging the receiver UI in Chrome.
        if (!isConnected_) return;

        var serialized = _cast_utils2.default.serialize(message);
        if (opt_senderId) {
            bus.getCastChannel(opt_senderId).send(serialized);
        } else {
            bus.broadcast(serialized);
        }
    }

    ////////////////////////////////////////////////////////////////////////////////////////
    //
    function onLoad_(event) {
        console.log('onLoad_');

        if (player_) {
            player_.unload();
            player_ = null;
        }

        var info = new cast.receiver.MediaManager.LoadInfo(event.data, event.senderId);

        var url = info.message.media.contentId;
        var protocolFunc = getProtocolFunction_(info.message.media);
        var host = new cast.player.api.Host({
            'url': url,
            'mediaElement': mediaElement_
        });
        player_ = new cast.player.api.Player(host);
        player_.load(protocolFunc(host));
    };

    function onGetStatus_(event) {
        console.log('--onGetStatus_--', event);
    }

    function onMetadataLoaded_(info) {
        console.log('onMetadataLoaded');

        var totalTime = mediaElement_.duration;
        console.log('total time: ' + totalTime);

        onMetadataLoadedOrig_(info);
    }

    function onLoadMetadataError_(event) {
        console.log('onLoadMetadataError_');
        onLoadMetadataErrorOrig_(event);
    }

    ////////////////////////////////////////////////////////////////////////////////////////
    // object function
    function getProtocolFunction_(mediaInformation) {
        var url = mediaInformation.contentId;
        var type = mediaInformation.contentType || '';
        var path = getPath_(url) || '';
        if (getExtension_(path) === 'm3u8' || type === 'application/x-mpegurl' || type === 'application/vnd.apple.mpegurl') {
            return cast.player.api.CreateHlsStreamingProtocol;
        } else if (getExtension_(path) === 'mpd' || type === 'application/dash+xml') {
            return cast.player.api.CreateDashStreamingProtocol;
        } else if (path.indexOf('.ism') > -1 || type === 'application/vnd.ms-sstr+xml') {
            return cast.player.api.CreateSmoothStreamingProtocol;
        }
        return null;
    }

    function formatDuration_(dur) {
        dur = Math.floor(dur);
        function digit(n) {
            return ('00' + Math.round(n)).slice(-2);
        }
        var hr = Math.floor(dur / 3600);
        var min = Math.floor(dur / 60) % 60;
        var sec = dur % 60;
        if (!hr) {
            return digit(min) + ':' + digit(sec);
        } else {
            return digit(hr) + ':' + digit(min) + ':' + digit(sec);
        }
    }

    /**
     * Utility function to get the extension of a URL file path.
     *
     * @param {string} url the URL
     * @return {string} the extension or "" if none
     * @private
     */
    function getExtension_(url) {
        var parts = url.split('.');
        // Handle files with no extensions and hidden files with no extension
        if (parts.length === 1 || parts[0] === '' && parts.length === 2) {
            return '';
        }
        return parts.pop().toLowerCase();
    }

    /**
     * Returns the URL path.
     *
     * @param {string} url The URL
     * @return {string} The URL path.
     * @private
     */
    function getPath_(url) {
        var href = document.createElement('a');
        href.href = url;
        return href.pathname || '';
    }

    function start() {
        receiverManager_.start();
    }

    function addEventListener(ev, cb) {
        evHandlers[ev] = cb;
    }

    var instance = {
        start: start,
        addEventListener: addEventListener
    };
    setup();
    return instance;
}
exports.default = CastReceiver;

},{"9":9}],8:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _cast_utils = _dereq_(9);

var _cast_utils2 = _interopRequireDefault(_cast_utils);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

///////////////////////////////////////////////////////////////////////////////
// RemotePlayerHandler
function RemotePlayerHandler() {

    function init(remotePlayer, remotePlayerController) {
        remotePlayer = remotePlayer;
        remotePlayerController = remotePlayerController;

        remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED, function () {
            console.log("muted: " + remotePlayer.isMuted);
        });

        remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED, function () {
            var newVolume = remotePlayer.volumeLevel;
            console.log('newVolume is: ' + newVolume);
        });
    }

    function play() {
        if (remotePlayer.isPaused) {
            remotePlayerController.playOrPause();
        }
    }

    function pause() {
        if (!remotePlayer.isPaused) {
            remotePlayerController.playOrPause();
        }
    }

    function setVolume(volume) {
        remotePlayer.volumeLevel = volume;
        remotePlayerController.setVolumeLevel();

        // or
        //session_.setVolume(1.0);
    }

    function getVolume() {
        return remotePlayer.volumeLevel;
    }

    function seek(time) {
        remotePlayer.currentTime = time;
        remotePlayerController.seek();
    }

    function stop() {
        remotePlayerController.stop();
    }

    var instance = {
        init: init,
        play: play,
        pause: pause,
        setVolume: setVolume,
        getVolume: getVolume,
        seek: seek,
        stop: stop
    };
    return instance;
};

////////////////////////////////////////////////////////////////////////////////////
// CastSender
function CastSender(receiverAppId) {
    var receiverAppId_ = receiverAppId;
    var remotePlayer = null;
    var remotePlayerController = null;
    var castContext_ = null;
    var session_ = null;

    var remotePlayerHandler = new RemotePlayerHandler();

    function setup() {
        console.log('cast, init');

        var options = {};

        // Set the receiver application ID to your own (created in the
        // Google Cast Developer Console), or optionally
        // use the chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID
        options.receiverApplicationId = receiverAppId;

        // Auto join policy can be one of the following three:
        // ORIGIN_SCOPED - Auto connect from same appId and page origin
        // TAB_AND_ORIGIN_SCOPED - Auto connect from same appId, page origin, and tab
        // PAGE_SCOPED - No auto connect
        options.autoJoinPolicy = chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED;
        castContext_ = cast.framework.CastContext.getInstance();
        castContext_.setOptions(options);

        castContext_.addEventListener(cast.framework.CastContextEventType.CAST_STATE_CHANGED, function (e) {
            console.log('cast, cast state: ', e);
        });

        castContext_.addEventListener(cast.framework.CastContextEventType.SESSION_STATE_CHANGED, function (event) {
            console.log('cast, sessionState: ' + event.sessionState);
            switch (event.sessionState) {
                case cast.framework.SessionState.SESSION_STARTED:
                case cast.framework.SessionState.SESSION_RESUMED:
                    break;
                case cast.framework.SessionState.SESSION_ENDED:
                    //console.log('CastContext: CastSession disconnected');
                    // Update locally as necessary
                    break;
            }
        });

        remotePlayer = new cast.framework.RemotePlayer();
        remotePlayerController = new cast.framework.RemotePlayerController(remotePlayer);
        remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED, onConnectedChanged);
        remotePlayerController.addEventListener(cast.framework.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED, onMediaLoadedChanged);

        //
        remotePlayerHandler.init(remotePlayer, remotePlayerController);
    }

    function onConnectedChanged() {
        console.log('cast, +onConnectedChanged, remotePlayer.isConnected: ' + remotePlayer.isConnected);

        session_ = cast.framework.CastContext.getInstance().getCurrentSession();
        if (session_) {
            session_.addMessageListener(_cast_utils2.default.OLDMTN_MESSAGE_NAMESPACE, onMessageReceived_);
        } else {
            console.log('cast, session_ is null');
        }
    }

    function onMediaLoadedChanged() {
        console.log('--onMediaLoadedChanged--');
    }

    function loadMedia_SuccessCb() {
        console.log('--loadMedia_SuccessCb--');
    }

    function loadMedia_ErrorCb() {
        console.log('--loadMedia_ErrorCb--');
    }

    function new_init(message) {
        message.cmdType = 'init';
        sendMessage_(message);
    }

    function new_open(message) {
        message.cmdType = 'open';
        sendMessage_(message);
    }

    function new_addV() {
        var msg = { 'cmdType': 'addV' };
        sendMessage_(msg);
    }

    function new_addPD() {
        var msg = { 'cmdType': 'addPD' };
        sendMessage_(msg);
    }

    function new_play() {
        var msg = { 'cmdType': 'play' };
        sendMessage_(msg);
    }

    function new_pause() {
        var msg = { 'cmdType': 'pause' };
        sendMessage_(msg);
    }

    function new_playAd() {
        var msg = { 'cmdType': 'playAd' };
        sendMessage_(msg);
    }

    function new_test() {
        var Single_Inline_Linear = 'https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dlinear&correlator=';

        var msg = 'requestAd';
        msg += ',' + Single_Inline_Linear;
        msg += ',' + '4';

        session_.sendMessage(_cast_utils2.default.OLDMTN_MESSAGE_NAMESPACE, msg, function () {}, // success callback
        function () {}); // error callback
    }

    // Opens the cast selection UI, to allow user to start or stop session.
    function requestSession() {
        if (!castContext_) {
            console.warn('cast, you should call init first.');
            return;
        }

        castContext_.requestSession();
    }

    function endSession() {
        if (!castContext_) {
            return;
        }

        var castSession = castContext_.getCurrentSession();
        // End the session and pass 'true' to indicate
        // that receiver application should be stopped.
        castSession.endSession(true);
    }

    function stopCast() {}

    function loadMedia(url, type) {
        console.log('+loadMedia');

        if (cast && cast.framework && remotePlayer.isConnected) {
            var mediaInfo = new chrome.cast.media.MediaInfo(url, type);

            mediaInfo.metadata = new chrome.cast.media.GenericMediaMetadata();
            mediaInfo.metadata.metadataType = chrome.cast.media.MetadataType.GENERIC;

            var request = new chrome.cast.media.LoadRequest(mediaInfo);

            // For cast to voReceiver
            //request.customData = { drmInfoList: null };

            session_.loadMedia(request, loadMedia_SuccessCb, loadMedia_ErrorCb);
        } else {
            remotePlayer = null;
            remotePlayerController = null;
        }

        console.log('-loadMedia');
    }

    function onMessageReceived_(namespace, serialized) {
        console.log('receive msg, namespace: ' + namespace);
        console.log('receive msg, serialized: ' + serialized);

        var message = _cast_utils2.default.deserialize(serialized);
        switch (message.type) {
            case 'timeupdate':
                {
                    console.log('timeupdate: curTime: ' + message.data.curTime + '/' + message.data.totalTime);
                }
                break;
            default:
                break;
        }
    }

    function play() {
        remotePlayerHandler.play();
    }

    function pause() {
        remotePlayerHandler.pause();
    }

    function addVolume() {
        var volume = RemotePlayerHandler.getVolume() + 0.1;

        remotePlayerHandler.setVolume(volume);
    }

    function delVolume(volume) {
        var volume = RemotePlayerHandler.getVolume() - 0.1;
        remotePlayerHandler.setVolume(volume);
    }

    function setVolume(volume) {
        remotePlayerHandler.setVolume(volume);
    }

    function isConnected() {
        return remotePlayer && remotePlayer.isConnected;
    }

    function seek(time) {
        remotePlayerHandler.seek(parseFloat(time));
    }

    function stop() {
        remotePlayerHandler.stop();
    }

    function attribute() {
        console.log('remote player time: ' + remotePlayer.currentTime);
        if (remotePlayer.savedPlayerState) {
            console.log('remotePlayer.savedPlayerState.currentTime: ' + remotePlayer.savedPlayerState.currentTime);
        }
    }

    var tmp = 1;
    function test() {
        //console.log('--test--');

        session_.sendMessage(_cast_utils2.default.OLDMTN_MESSAGE_NAMESPACE, tmp.toString(), function () {}, // success callback
        function () {}); // error callback
        tmp++;
    }

    function remoteCall_(targetName, methodName) {
        var args = Array.prototype.slice.call(arguments, 2);
        sendMessage_({
            'type': 'call',
            'targetName': targetName,
            'methodName': methodName,
            'args': args
        });
    }

    function sendMessage_(message) {
        var serialized = _cast_utils2.default.serialize(message);
        console.log('send msg: ' + serialized);
        // TODO: have never seen this fail.  When would it and how should we react?
        session_.sendMessage(_cast_utils2.default.OLDMTN_MESSAGE_NAMESPACE, serialized, function () {}, // success callback
        function () {}); // error callback
    }

    var instance = {
        // 
        new_init: new_init,
        new_open: new_open,
        new_addV: new_addV,
        new_addPD: new_addPD,
        new_play: new_play,
        new_pause: new_pause,
        new_playAd: new_playAd,
        new_test: new_test,
        // old left
        requestSession: requestSession,
        endSession: endSession,
        stopCast: stopCast,
        loadMedia: loadMedia,
        stop: stop,
        play: play,
        pause: pause,
        addVolume: addVolume,
        delVolume: delVolume,
        seek: seek,
        attribute: attribute,
        test: test
    };

    setup();
    return instance;
};

exports.default = CastSender;

},{"9":9}],9:[function(_dereq_,module,exports){
'use strict';

var _typeof2 = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && _typeof2(Symbol.iterator) === "symbol" ? function (obj) {
  return typeof obj === "undefined" ? "undefined" : _typeof2(obj);
} : function (obj) {
  return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof2(obj);
};

var CastUtils = function CastUtils() {};

////////////////////////////////////////////////////////////////////////
// Begin CastUtils
CastUtils.GENERIC_MESSAGE_NAMESPACE = 'urn:x-cast:com.google.cast.media';
CastUtils.OLDMTN_MESSAGE_NAMESPACE = 'urn:x-cast:com.google.oldmtn.cast';

CastUtils.simulateTimeRanges_ = function (obj) {
  return {
    length: obj.length,
    // NOTE: a more complete simulation would throw when |i| was out of range,
    // but for simplicity we will assume a well-behaved application that uses
    // length instead of catch to stop iterating.
    start: function start(i) {
      return obj.start[i];
    },
    end: function end(i) {
      return obj.end[i];
    }
  };
};

CastUtils.serialize = function (thing) {
  return JSON.stringify(thing);
};

CastUtils.deserialize = function (str) {
  return JSON.parse(str, function (key, value) {
    if (value == 'NaN') {
      return NaN;
    } else if (value == '-Infinity') {
      return -Infinity;
    } else if (value == 'Infinity') {
      return Infinity;
    } else if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) == 'object' && value['__type__'] == 'TimeRanges') {
      // TimeRanges objects have been unpacked and sent as plain data.
      // Simulate the original TimeRanges object.
      return CastUtils.simulateTimeRanges_(value);
    }
    return value;
  });
};
// End CastUtils
///////////////////////////////////////////////////////////////////////////////////////////////////

exports.default = CastUtils;

},{}],10:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

/**
* @class
*
*/
var CoreEvents =

/**
 * @description Public facing external events to be used when developing a player that implements dash.js.
 */
function CoreEvents() {
    _classCallCheck(this, CoreEvents);

    // mse events
    this.MSE_OPENED = 'mseOpened';

    // source buffer events
    this.SB_UPDATE_ENDED = 'sbUpdateEnded';

    // media element eventsa
    this.MEDIA_CANPLAY_THROUGH = 'mediaCanPlayThrough';
    this.MEDIA_DURATION_CHANGED = 'mediaDurationChanged';
    this.MEDIA_ENDED = 'mediaEnded';
    this.MEDIA_LOADEDDATA = 'mediaLoadedData';
    this.MEDIA_LOADEDMETADATA = 'mediaLoadedMetadata';
    this.MEDIA_PAUSED = 'mediaPaused';
    this.MEDIA_PLAYING = 'mediaPlaying';
    this.MEDIA_SEEKING = 'mediaSeeking';
    this.MEDIA_SEEKED = 'mediaSeeked';
    this.MEDIA_TIMEUPDATE = 'mediaTimeupdate';
    this.MEDIA_VOLUME_CHANGED = 'mediaVolumeChanged';
    this.MEDIA_WAITING = 'mediaWaiting';

    // ads internal events
    this.AD_ERROR = 'adError';
    this.AD_STARTED = 'adStarted';
    this.AD_COMPLETE = 'adComplete';
    this.AD_CONTENT_PAUSE_REQUESTED = 'adContentPauseRequested';
    this.AD_CONTENT_RESUME_REQUESTED = 'adContentResumeRequested';
    this.AD_ADS_MANAGER_LOADED = 'adAdsManagerLoaded';
    this.AD_TIMEUPDATE = 'adTimeUpdate';

    // log event
    this.LOG = 'log';

    // DOM Events
    this.FULLSCREEN_CHANGE = 'fullscreenChange';

    // controller events
    this.FRAGMENT_DOWNLOADED = 'fragmentDownloaded';
    this.FRAGMENT_DOWNLOADED_ENDED = 'fragmentDownloadedEnded';

    //
    this.TEST_MSG = 'testMsg';
};

var coreEvents = new CoreEvents();
exports.default = coreEvents;

},{}],11:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _EventBus = _dereq_(12);

var _EventBus2 = _interopRequireDefault(_EventBus);

var _CoreEvents = _dereq_(10);

var _CoreEvents2 = _interopRequireDefault(_CoreEvents);

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

/**
 * @module Debug
 */
function Debug() {

    var context = this.context;
    var eventBus = (0, _EventBus2.default)(context).getInstance();

    var instance = void 0,
        logToBrowserConsole = void 0,
        showLogTimestamp = void 0,
        showCalleeName = void 0,
        startTime = void 0;

    function setup() {
        logToBrowserConsole = true;
        showLogTimestamp = true;
        showCalleeName = true;
        startTime = new Date().getTime();
    }

    /**
     * Prepends a timestamp in milliseconds to each log message.
     * @param {boolean} value Set to true if you want to see a timestamp in each log message.
     * @default false
     * @memberof module:Debug
     * @instance
     */
    function setLogTimestampVisible(value) {
        showLogTimestamp = value;
    }
    /**
     * Prepends the callee object name, and media type if available, to each log message.
     * @param {boolean} value Set to true if you want to see the callee object name and media type in each log message.
     * @default false
     * @memberof module:Debug
     * @instance
     */
    function setCalleeNameVisible(value) {
        showCalleeName = value;
    }
    /**
     * Toggles logging to the browser's javascript console.  If you set to false you will still receive a log event with the same message.
     * @param {boolean} value Set to false if you want to turn off logging to the browser's console.
     * @default true
     * @memberof module:Debug
     * @instance
     */
    function setLogToBrowserConsole(value) {
        logToBrowserConsole = value;
    }
    /**
     * Use this method to get the state of logToBrowserConsole.
     * @returns {boolean} The current value of logToBrowserConsole
     * @memberof module:Debug
     * @instance
     */
    function getLogToBrowserConsole() {
        return logToBrowserConsole;
    }
    /**
     * This method will allow you send log messages to either the browser's console and/or dispatch an event to capture at the media player level.
     * @param {...*} arguments The message you want to log. The Arguments object is supported for this method so you can send in comma separated logging items.
     * @memberof module:Debug
     * @instance
     */
    function log() {

        var message = '';
        var logTime = null;

        if (showLogTimestamp) {
            // old from dashjs
            //logTime = new Date().getTime();
            //message += '[' + (logTime - startTime) + ']';
            // new by oldmtn
            logTime = new Date();
            message += '[' + ('0' + (logTime.getMonth() + 1)).slice(-2) + '-' + ('0' + logTime.getDate()).slice(-2) + ' ' + ('0' + logTime.getHours()).slice(-2) + ':' + ('0' + logTime.getMinutes()).slice(-2) + ':' + ('0' + logTime.getSeconds()).slice(-2) + '.' + ('0' + logTime.getMilliseconds()).slice(-3) + ']';
        }

        if (showCalleeName && this && this.getClassName) {
            message += '[' + this.getClassName() + ']';
            if (this.getType) {
                message += '[' + this.getType() + ']';
            }
        }

        if (message.length > 0) {
            message += ' ';
        }

        Array.apply(null, arguments).forEach(function (item) {
            message += item + ' ';
        });

        if (logToBrowserConsole) {
            console.log(message);
        }

        eventBus.trigger(_CoreEvents2.default.LOG, { message: message });
    }

    instance = {
        log: log,
        setLogTimestampVisible: setLogTimestampVisible,
        setCalleeNameVisible: setCalleeNameVisible,
        setLogToBrowserConsole: setLogToBrowserConsole,
        getLogToBrowserConsole: getLogToBrowserConsole
    };

    setup();

    return instance;
} /**
   * The copyright in this software is being made available under the BSD License,
   * included below. This software may be subject to other third party and contributor
   * rights, including patent rights, and no such rights are granted under this license.
   *
   * Copyright (c) 2013, Dash Industry Forum.
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without modification,
   * are permitted provided that the following conditions are met:
   *  * Redistributions of source code must retain the above copyright notice, this
   *  list of conditions and the following disclaimer.
   *  * Redistributions in binary form must reproduce the above copyright notice,
   *  this list of conditions and the following disclaimer in the documentation and/or
   *  other materials provided with the distribution.
   *  * Neither the name of Dash Industry Forum nor the names of its
   *  contributors may be used to endorse or promote products derived from this software
   *  without specific prior written permission.
   *
   *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY
   *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
   *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
   *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
   *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
   *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
   *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
   *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   *  POSSIBILITY OF SUCH DAMAGE.
   */

Debug.__h5player_factory_name = 'Debug';
exports.default = _FactoryMaker2.default.getSingletonFactory(Debug);

},{"10":10,"12":12,"13":13}],12:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

var EVENT_PRIORITY_LOW = 0; /**
                             * The copyright in this software is being made available under the BSD License,
                             * included below. This software may be subject to other third party and contributor
                             * rights, including patent rights, and no such rights are granted under this license.
                             *
                             * Copyright (c) 2013, Dash Industry Forum.
                             * All rights reserved.
                             *
                             * Redistribution and use in source and binary forms, with or without modification,
                             * are permitted provided that the following conditions are met:
                             *  * Redistributions of source code must retain the above copyright notice, this
                             *  list of conditions and the following disclaimer.
                             *  * Redistributions in binary form must reproduce the above copyright notice,
                             *  this list of conditions and the following disclaimer in the documentation and/or
                             *  other materials provided with the distribution.
                             *  * Neither the name of Dash Industry Forum nor the names of its
                             *  contributors may be used to endorse or promote products derived from this software
                             *  without specific prior written permission.
                             *
                             *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY
                             *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
                             *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
                             *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
                             *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
                             *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
                             *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
                             *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
                             *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
                             *  POSSIBILITY OF SUCH DAMAGE.
                             */

var EVENT_PRIORITY_HIGH = 5000;

function EventBus() {

    var handlers = {};

    function on(evType, listener, scope) {
        var priority = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : EVENT_PRIORITY_LOW;

        if (!evType) {
            throw new Error('event evType cannot be null or undefined');
        }
        if (!listener || typeof listener !== 'function') {
            throw new Error('listener must be a function: ' + listener);
        }

        if (getHandlerIdx(evType, listener, scope) >= 0) return;

        handlers[evType] = handlers[evType] || [];

        var handler = {
            callback: listener,
            scope: scope,
            priority: priority
        };

        var inserted = handlers[evType].some(function (item, idx) {
            if (priority > item.priority) {
                handlers[evType].splice(idx, 0, handler);
                return true;
            }
        });

        if (!inserted) {
            handlers[evType].push(handler);
        }
    }

    function off(evType, listener, scope) {
        if (!evType || !listener || !handlers[evType]) return;
        var idx = getHandlerIdx(evType, listener, scope);
        if (idx < 0) return;
        handlers[evType].splice(idx, 1);
    }

    function trigger(evType, payload) {
        if (!evType || !handlers[evType]) return;

        payload = payload || {};

        if (payload.hasOwnProperty('evType')) throw new Error('\'evType\' is a reserved word for event dispatching');

        payload.evType = evType;

        handlers[evType].forEach(function (handler) {
            return handler.callback.call(handler.scope, payload);
        });
    }

    function getHandlerIdx(evType, listener, scope) {

        var idx = -1;

        if (!handlers[evType]) return idx;

        handlers[evType].some(function (item, index) {
            if (item.callback === listener && (!scope || scope === item.scope)) {
                idx = index;
                return true;
            }
        });
        return idx;
    }

    function reset() {
        handlers = {};
    }

    var instance = {
        on: on,
        off: off,
        trigger: trigger,
        reset: reset
    };

    return instance;
}

EventBus.__h5player_factory_name = 'EventBus';
var factory = _FactoryMaker2.default.getSingletonFactory(EventBus);
factory.EVENT_PRIORITY_LOW = EVENT_PRIORITY_LOW;
factory.EVENT_PRIORITY_HIGH = EVENT_PRIORITY_HIGH;
exports.default = factory;

},{"13":13}],13:[function(_dereq_,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
/**
 * The copyright in this software is being made available under the BSD License,
 * included below. This software may be subject to other third party and contributor
 * rights, including patent rights, and no such rights are granted under this license.
 *
 * Copyright (c) 2013, Dash Industry Forum.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *  * Redistributions of source code must retain the above copyright notice, this
 *  list of conditions and the following disclaimer.
 *  * Redistributions in binary form must reproduce the above copyright notice,
 *  this list of conditions and the following disclaimer in the documentation and/or
 *  other materials provided with the distribution.
 *  * Neither the name of Dash Industry Forum nor the names of its
 *  contributors may be used to endorse or promote products derived from this software
 *  without specific prior written permission.
 *
 *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY
 *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 *  POSSIBILITY OF SUCH DAMAGE.
 */
/**
 * @module FactoryMaker
 */
var FactoryMaker = function () {

    var instance = void 0;
    var extensions = [];
    var singletonContexts = [];

    function extend(name, childInstance, override, context) {
        var extensionContext = getExtensionContext(context);
        if (!extensionContext[name] && childInstance) {
            extensionContext[name] = { instance: childInstance, override: override };
        }
    }

    /**
     * Use this method from your extended object.  this.factory is injected into your object.
     * this.factory.getSingletonInstance(this.context, 'VideoModel')
     * will return the video model for use in the extended object.
     *
     * @param {Object} context - injected into extended object as this.context
     * @param {string} className - string name found in all dash.js objects
     * with name __h5player_factory_name Will be at the bottom. Will be the same as the object's name.
     * @returns {*} Context aware instance of specified singleton name.
     * @memberof module:FactoryMaker
     * @instance
     */
    function getSingletonInstance(context, className) {
        for (var i in singletonContexts) {
            var obj = singletonContexts[i];
            if (obj.context === context && obj.name === className) {
                return obj.instance;
            }
        }
        return null;
    }

    /**
     * Use this method to add an singleton instance to the system.  Useful for unit testing to mock objects etc.
     *
     * @param {Object} context
     * @param {string} className
     * @param {Object} instance
     * @memberof module:FactoryMaker
     * @instance
     */
    function setSingletonInstance(context, className, instance) {
        for (var i in singletonContexts) {
            var obj = singletonContexts[i];
            if (obj.context === context && obj.name === className) {
                singletonContexts[i].instance = instance;
                return;
            }
        }
        singletonContexts.push({ name: className, context: context, instance: instance });
    }

    function getClassFactory(classConstructor) {
        return function (context) {
            if (context === undefined) {
                context = {};
            }

            return {
                create: function create() {
                    return merge(classConstructor.__h5player_factory_name, classConstructor.apply({ context: context }, arguments), context, arguments);
                }
            };
        };
    }

    function getSingletonFactory(classConstructor) {
        return function (context) {
            var instance = void 0;
            if (context === undefined) {
                context = {};
            }
            return {
                getInstance: function getInstance() {
                    // If we don't have an instance yet check for one on the context
                    if (!instance) {
                        instance = getSingletonInstance(context, classConstructor.__h5player_factory_name);
                    }
                    // If there's no instance on the context then create one
                    if (!instance) {
                        instance = merge(classConstructor.__h5player_factory_name, classConstructor.apply({ context: context }, arguments), context, arguments);
                        singletonContexts.push({ name: classConstructor.__h5player_factory_name, context: context, instance: instance });
                    }
                    return instance;
                }
            };
        };
    }

    function merge(name, classConstructor, context, args) {
        var extensionContext = getExtensionContext(context);
        var extensionObject = extensionContext[name];
        if (extensionObject) {
            var extension = extensionObject.instance;
            if (extensionObject.override) {
                //Override public methods in parent but keep parent.
                extension = extension.apply({ context: context, factory: instance, parent: classConstructor }, args);
                for (var prop in extension) {
                    if (classConstructor.hasOwnProperty(prop)) {
                        classConstructor[prop] = extension[prop];
                    }
                }
            } else {
                //replace parent object completely with new object. Same as dijon.
                return extension.apply({ context: context, factory: instance }, args);
            }
        }
        return classConstructor;
    }

    function getExtensionContext(context) {
        var extensionContext = void 0;
        extensions.forEach(function (obj) {
            if (obj === context) {
                extensionContext = obj;
            }
        });
        if (!extensionContext) {
            extensionContext = extensions.push(context);
        }
        return extensionContext;
    }

    instance = {
        extend: extend,
        getSingletonInstance: getSingletonInstance,
        setSingletonInstance: setSingletonInstance,
        getSingletonFactory: getSingletonFactory,
        getClassFactory: getClassFactory
    };

    return instance;
}();

exports.default = FactoryMaker;

},{}],14:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
}();

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var AESCrypto = function () {
  function AESCrypto(subtle, iv) {
    _classCallCheck(this, AESCrypto);

    this.subtle = subtle;
    this.aesIV = iv;
  }

  _createClass(AESCrypto, [{
    key: 'decrypt',
    value: function decrypt(data, key) {
      return this.subtle.decrypt({ name: 'AES-CBC', iv: this.aesIV }, key, data);
    }
  }]);

  return AESCrypto;
}();

exports.default = AESCrypto;

},{}],15:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
}();

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var AESDecryptor = function () {
  function AESDecryptor() {
    _classCallCheck(this, AESDecryptor);

    // Static after running initTable
    this.rcon = [0x0, 0x1, 0x2, 0x4, 0x8, 0x10, 0x20, 0x40, 0x80, 0x1b, 0x36];

    this.subMix = [];
    this.subMix[0] = new Uint32Array(256);
    this.subMix[1] = new Uint32Array(256);
    this.subMix[2] = new Uint32Array(256);
    this.subMix[3] = new Uint32Array(256);

    this.invSubMix = [];
    this.invSubMix[0] = new Uint32Array(256);
    this.invSubMix[1] = new Uint32Array(256);
    this.invSubMix[2] = new Uint32Array(256);
    this.invSubMix[3] = new Uint32Array(256);

    this.sBox = new Uint32Array(256);
    this.invSBox = new Uint32Array(256);

    // Changes during runtime
    this.key = new Uint32Array(0);

    this.initTable();
  }

  // Using view.getUint32() also swaps the byte order.


  _createClass(AESDecryptor, [{
    key: 'uint8ArrayToUint32Array_',
    value: function uint8ArrayToUint32Array_(arrayBuffer) {
      var view = new DataView(arrayBuffer);
      var newArray = new Uint32Array(4);
      for (var i = 0; i < newArray.length; i++) {
        newArray[i] = view.getUint32(i * 4);
      }
      return newArray;
    }
  }, {
    key: 'initTable',
    value: function initTable() {
      var sBox = this.sBox;
      var invSBox = this.invSBox;
      var subMix0 = this.subMix[0];
      var subMix1 = this.subMix[1];
      var subMix2 = this.subMix[2];
      var subMix3 = this.subMix[3];
      var invSubMix0 = this.invSubMix[0];
      var invSubMix1 = this.invSubMix[1];
      var invSubMix2 = this.invSubMix[2];
      var invSubMix3 = this.invSubMix[3];

      var d = new Uint32Array(256);
      var x = 0;
      var xi = 0;
      var i = 0;
      for (i = 0; i < 256; i++) {
        if (i < 128) {
          d[i] = i << 1;
        } else {
          d[i] = i << 1 ^ 0x11b;
        }
      }

      for (i = 0; i < 256; i++) {
        var sx = xi ^ xi << 1 ^ xi << 2 ^ xi << 3 ^ xi << 4;
        sx = sx >>> 8 ^ sx & 0xff ^ 0x63;
        sBox[x] = sx;
        invSBox[sx] = x;

        // Compute multiplication
        var x2 = d[x];
        var x4 = d[x2];
        var x8 = d[x4];

        // Compute sub/invSub bytes, mix columns tables
        var t = d[sx] * 0x101 ^ sx * 0x1010100;
        subMix0[x] = t << 24 | t >>> 8;
        subMix1[x] = t << 16 | t >>> 16;
        subMix2[x] = t << 8 | t >>> 24;
        subMix3[x] = t;

        // Compute inv sub bytes, inv mix columns tables
        t = x8 * 0x1010101 ^ x4 * 0x10001 ^ x2 * 0x101 ^ x * 0x1010100;
        invSubMix0[sx] = t << 24 | t >>> 8;
        invSubMix1[sx] = t << 16 | t >>> 16;
        invSubMix2[sx] = t << 8 | t >>> 24;
        invSubMix3[sx] = t;

        // Compute next counter
        if (!x) {
          x = xi = 1;
        } else {
          x = x2 ^ d[d[d[x8 ^ x2]]];
          xi ^= d[d[xi]];
        }
      }
    }
  }, {
    key: 'expandKey',
    value: function expandKey(keyBuffer) {
      // convert keyBuffer to Uint32Array
      var key = this.uint8ArrayToUint32Array_(keyBuffer);
      var sameKey = true;
      var offset = 0;

      while (offset < key.length && sameKey) {
        sameKey = key[offset] === this.key[offset];
        offset++;
      }

      if (sameKey) {
        return;
      }

      this.key = key;
      var keySize = this.keySize = key.length;

      if (keySize !== 4 && keySize !== 6 && keySize !== 8) {
        throw new Error('Invalid aes key size=' + keySize);
      }

      var ksRows = this.ksRows = (keySize + 6 + 1) * 4;
      var ksRow = void 0;
      var invKsRow = void 0;

      var keySchedule = this.keySchedule = new Uint32Array(this.ksRows);
      var invKeySchedule = this.invKeySchedule = new Uint32Array(this.ksRows);
      var sbox = this.sBox;
      var rcon = this.rcon;

      var invSubMix0 = this.invSubMix[0];
      var invSubMix1 = this.invSubMix[1];
      var invSubMix2 = this.invSubMix[2];
      var invSubMix3 = this.invSubMix[3];

      var prev = void 0;
      var t = void 0;

      for (ksRow = 0; ksRow < ksRows; ksRow++) {
        if (ksRow < keySize) {
          prev = keySchedule[ksRow] = key[ksRow];
          continue;
        }
        t = prev;

        if (ksRow % keySize === 0) {
          // Rot word
          t = t << 8 | t >>> 24;

          // Sub word
          t = sbox[t >>> 24] << 24 | sbox[t >>> 16 & 0xff] << 16 | sbox[t >>> 8 & 0xff] << 8 | sbox[t & 0xff];

          // Mix Rcon
          t ^= rcon[ksRow / keySize | 0] << 24;
        } else if (keySize > 6 && ksRow % keySize === 4) {
          // Sub word
          t = sbox[t >>> 24] << 24 | sbox[t >>> 16 & 0xff] << 16 | sbox[t >>> 8 & 0xff] << 8 | sbox[t & 0xff];
        }

        keySchedule[ksRow] = prev = (keySchedule[ksRow - keySize] ^ t) >>> 0;
      }

      for (invKsRow = 0; invKsRow < ksRows; invKsRow++) {
        ksRow = ksRows - invKsRow;
        if (invKsRow & 3) {
          t = keySchedule[ksRow];
        } else {
          t = keySchedule[ksRow - 4];
        }

        if (invKsRow < 4 || ksRow <= 4) {
          invKeySchedule[invKsRow] = t;
        } else {
          invKeySchedule[invKsRow] = invSubMix0[sbox[t >>> 24]] ^ invSubMix1[sbox[t >>> 16 & 0xff]] ^ invSubMix2[sbox[t >>> 8 & 0xff]] ^ invSubMix3[sbox[t & 0xff]];
        }

        invKeySchedule[invKsRow] = invKeySchedule[invKsRow] >>> 0;
      }
    }

    // Adding this as a method greatly improves performance.

  }, {
    key: 'networkToHostOrderSwap',
    value: function networkToHostOrderSwap(word) {
      return word << 24 | (word & 0xff00) << 8 | (word & 0xff0000) >> 8 | word >>> 24;
    }
  }, {
    key: 'decrypt',
    value: function decrypt(inputArrayBuffer, offset, aesIV) {
      var nRounds = this.keySize + 6;
      var invKeySchedule = this.invKeySchedule;
      var invSBOX = this.invSBox;

      var invSubMix0 = this.invSubMix[0];
      var invSubMix1 = this.invSubMix[1];
      var invSubMix2 = this.invSubMix[2];
      var invSubMix3 = this.invSubMix[3];

      var initVector = this.uint8ArrayToUint32Array_(aesIV);
      var initVector0 = initVector[0];
      var initVector1 = initVector[1];
      var initVector2 = initVector[2];
      var initVector3 = initVector[3];

      var inputInt32 = new Int32Array(inputArrayBuffer);
      var outputInt32 = new Int32Array(inputInt32.length);

      var t0 = void 0,
          t1 = void 0,
          t2 = void 0,
          t3 = void 0;
      var s0 = void 0,
          s1 = void 0,
          s2 = void 0,
          s3 = void 0;
      var inputWords0 = void 0,
          inputWords1 = void 0,
          inputWords2 = void 0,
          inputWords3 = void 0;

      var ksRow, i;

      while (offset < inputInt32.length) {
        inputWords0 = this.networkToHostOrderSwap(inputInt32[offset]);
        inputWords1 = this.networkToHostOrderSwap(inputInt32[offset + 1]);
        inputWords2 = this.networkToHostOrderSwap(inputInt32[offset + 2]);
        inputWords3 = this.networkToHostOrderSwap(inputInt32[offset + 3]);

        s0 = inputWords0 ^ invKeySchedule[0];
        s1 = inputWords3 ^ invKeySchedule[1];
        s2 = inputWords2 ^ invKeySchedule[2];
        s3 = inputWords1 ^ invKeySchedule[3];

        ksRow = 4;

        // Iterate through the rounds of decryption
        for (i = 1; i < nRounds; i++) {
          t0 = invSubMix0[s0 >>> 24] ^ invSubMix1[s1 >> 16 & 0xff] ^ invSubMix2[s2 >> 8 & 0xff] ^ invSubMix3[s3 & 0xff] ^ invKeySchedule[ksRow];
          t1 = invSubMix0[s1 >>> 24] ^ invSubMix1[s2 >> 16 & 0xff] ^ invSubMix2[s3 >> 8 & 0xff] ^ invSubMix3[s0 & 0xff] ^ invKeySchedule[ksRow + 1];
          t2 = invSubMix0[s2 >>> 24] ^ invSubMix1[s3 >> 16 & 0xff] ^ invSubMix2[s0 >> 8 & 0xff] ^ invSubMix3[s1 & 0xff] ^ invKeySchedule[ksRow + 2];
          t3 = invSubMix0[s3 >>> 24] ^ invSubMix1[s0 >> 16 & 0xff] ^ invSubMix2[s1 >> 8 & 0xff] ^ invSubMix3[s2 & 0xff] ^ invKeySchedule[ksRow + 3];
          // Update state
          s0 = t0;
          s1 = t1;
          s2 = t2;
          s3 = t3;

          ksRow = ksRow + 4;
        }

        // Shift rows, sub bytes, add round key
        t0 = invSBOX[s0 >>> 24] << 24 ^ invSBOX[s1 >> 16 & 0xff] << 16 ^ invSBOX[s2 >> 8 & 0xff] << 8 ^ invSBOX[s3 & 0xff] ^ invKeySchedule[ksRow];
        t1 = invSBOX[s1 >>> 24] << 24 ^ invSBOX[s2 >> 16 & 0xff] << 16 ^ invSBOX[s3 >> 8 & 0xff] << 8 ^ invSBOX[s0 & 0xff] ^ invKeySchedule[ksRow + 1];
        t2 = invSBOX[s2 >>> 24] << 24 ^ invSBOX[s3 >> 16 & 0xff] << 16 ^ invSBOX[s0 >> 8 & 0xff] << 8 ^ invSBOX[s1 & 0xff] ^ invKeySchedule[ksRow + 2];
        t3 = invSBOX[s3 >>> 24] << 24 ^ invSBOX[s0 >> 16 & 0xff] << 16 ^ invSBOX[s1 >> 8 & 0xff] << 8 ^ invSBOX[s2 & 0xff] ^ invKeySchedule[ksRow + 3];
        ksRow = ksRow + 3;

        // Write
        outputInt32[offset] = this.networkToHostOrderSwap(t0 ^ initVector0);
        outputInt32[offset + 1] = this.networkToHostOrderSwap(t3 ^ initVector1);
        outputInt32[offset + 2] = this.networkToHostOrderSwap(t2 ^ initVector2);
        outputInt32[offset + 3] = this.networkToHostOrderSwap(t1 ^ initVector3);

        // reset initVector to last 4 unsigned int
        initVector0 = inputWords0;
        initVector1 = inputWords1;
        initVector2 = inputWords2;
        initVector3 = inputWords3;

        offset = offset + 4;
      }

      return outputInt32.buffer;
    }
  }, {
    key: 'destroy',
    value: function destroy() {
      this.key = undefined;
      this.keySize = undefined;
      this.ksRows = undefined;

      this.sBox = undefined;
      this.invSBox = undefined;
      this.subMix = undefined;
      this.invSubMix = undefined;
      this.keySchedule = undefined;
      this.invKeySchedule = undefined;

      this.rcon = undefined;
    }
  }]);

  return AESDecryptor;
}();

exports.default = AESDecryptor;

},{}],16:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
}();

var _aesCrypto = _dereq_(14);

var _aesCrypto2 = _interopRequireDefault(_aesCrypto);

var _fastAesKey = _dereq_(17);

var _fastAesKey2 = _interopRequireDefault(_fastAesKey);

var _aesDecryptor = _dereq_(15);

var _aesDecryptor2 = _interopRequireDefault(_aesDecryptor);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

//import {ErrorTypes, ErrorDetails} from '../errors';
//import {logger} from '../utils/logger';

/*globals self: false */

var Decrypter = function () {
  function Decrypter(config) {
    _classCallCheck(this, Decrypter);

    //this.observer = observer;
    this.config = config;
    this.logEnabled = true;
    try {
      var browserCrypto = crypto ? crypto : self.crypto;
      this.subtle = browserCrypto.subtle || browserCrypto.webkitSubtle;
    } catch (e) {}
    this.disableWebCrypto = !this.subtle;
  }

  _createClass(Decrypter, [{
    key: 'isSync',
    value: function isSync() {
      return this.disableWebCrypto && this.config.enableSoftwareAES;
    }
  }, {
    key: 'decrypt',
    value: function decrypt(data, key, iv, callback) {
      var _this = this;

      if (this.disableWebCrypto && this.config.enableSoftwareAES) {
        if (this.logEnabled) {
          console.log('JS AES decrypt');
          this.logEnabled = false;
        }
        var decryptor = this.decryptor;
        if (!decryptor) {
          this.decryptor = decryptor = new _aesDecryptor2.default();
        }
        decryptor.expandKey(key);
        callback(decryptor.decrypt(data, 0, iv));
      } else {
        if (this.logEnabled) {
          console.log('WebCrypto AES decrypt');
          this.logEnabled = false;
        }
        var subtle = this.subtle;
        if (this.key !== key) {
          this.key = key;
          this.fastAesKey = new _fastAesKey2.default(subtle, key);
        }

        this.fastAesKey.expandKey().then(function (aesKey) {
          // decrypt using web crypto
          var crypto = new _aesCrypto2.default(subtle, iv);
          crypto.decrypt(data, aesKey).catch(function (err) {
            _this.onWebCryptoError(err, data, key, iv, callback);
          }).then(function (result) {
            callback(result);
          });
        }).catch(function (err) {
          _this.onWebCryptoError(err, data, key, iv, callback);
        });
      }
    }
  }, {
    key: 'onWebCryptoError',
    value: function onWebCryptoError(err, data, key, iv, callback) {
      if (this.config.enableSoftwareAES) {
        console.log('WebCrypto Error, disable WebCrypto API');
        this.disableWebCrypto = true;
        this.logEnabled = true;
        this.decrypt(data, key, iv, callback);
      } else {
        console.error('decrypting error : ' + err.message);
        //this.observer.trigger(Event.ERROR, {type : ErrorTypes.MEDIA_ERROR, details : ErrorDetails.FRAG_DECRYPT_ERROR, fatal : true, reason : err.message});
      }
    }
  }, {
    key: 'destroy',
    value: function destroy() {
      var decryptor = this.decryptor;
      if (decryptor) {
        decryptor.destroy();
        this.decryptor = undefined;
      }
    }
  }]);

  return Decrypter;
}();

exports.default = Decrypter;

},{"14":14,"15":15,"17":17}],17:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
    }
  }return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
  };
}();

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

var FastAESKey = function () {
  function FastAESKey(subtle, key) {
    _classCallCheck(this, FastAESKey);

    this.subtle = subtle;
    this.key = key;
  }

  _createClass(FastAESKey, [{
    key: 'expandKey',
    value: function expandKey() {
      return this.subtle.importKey('raw', this.key, { name: 'AES-CBC' }, false, ['encrypt', 'decrypt']);
    }
  }]);

  return FastAESKey;
}();

exports.default = FastAESKey;

},{}],18:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

var _xhr_loader = _dereq_(55);

var _xhr_loader2 = _interopRequireDefault(_xhr_loader);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

function DashParser() {
    var instance = void 0,
        activeStream_ = void 0;

    // flag
    var videoHeaderAdded_ = false;
    var videoIndex_ = 0;

    var audioHeaderAdded_ = false;
    var audioIndex_ = 0;

    function audio_only_case01() {
        var aRep = null;

        // construct dash audio
        var aContents = [];
        for (var i = 1; i <= 15; i++) {
            var content = 'http://localhost/2/mydash/features/av_nonmuxed/A48/' + i.toString() + '.m4s';
            aContents.push(content);
        }

        aRep = {
            type: 'audio',
            codecs: 'audio/mp4; codecs="mp4a.40.2"',
            initialization: 'http://localhost/2/mydash/features/av_nonmuxed/A48/init.mp4',
            media: aContents
        };

        activeStream_ = {
            aRep: aRep,
            vRep: null
        };

        return activeStream_;
    }

    function video_only_case01() {
        var vRep = null;
        var vContents = [];
        for (var i = 1; i <= 15; i++) {
            var content = 'http://localhost/2/mydash/features/av_nonmuxed/V300_with_cc1_and_cc3/' + i.toString() + '.m4s';
            vContents.push(content);
        }
        vRep = {
            type: 'video',
            codecs: 'video/mp4; codecs="avc1.64001e"',
            initialization: 'http://localhost/2/mydash/features/av_nonmuxed/V300_with_cc1_and_cc3/init.mp4',
            media: vContents
        };

        activeStream_ = {
            aRep: null,
            vRep: vRep
        };

        return activeStream_;
    }

    function case01() {
        var aRep = null;
        var vRep = null;

        // construct dash audio
        var aContents = [];
        for (var i = 1; i <= 15; i++) {
            var content = 'http://localhost/2/mydash/features/av_nonmuxed/A48/' + i.toString() + '.m4s';
            aContents.push(content);
        }

        aRep = {
            type: 'audio',
            codecs: 'audio/mp4; codecs="mp4a.40.2"',
            initialization: 'http://localhost/2/mydash/features/av_nonmuxed/A48/init.mp4',
            media: aContents
        };

        // construct dash video
        var vContents = [];
        for (var _i = 1; _i <= 15; _i++) {
            var _content = 'http://localhost/2/mydash/features/av_nonmuxed/V300_with_cc1_and_cc3/' + _i.toString() + '.m4s';
            vContents.push(_content);
        }
        vRep = {
            type: 'video',
            codecs: 'video/mp4; codecs="avc1.64001e"',
            initialization: 'http://localhost/2/mydash/features/av_nonmuxed/V300_with_cc1_and_cc3/init.mp4',
            media: vContents
        };

        activeStream_ = {
            aRep: aRep,
            vRep: vRep
        };

        return activeStream_;
    }

    function case02() {
        // the video contains audio
        var aRep = null;
        var vRep = null;
        var vContents = [];
        for (var i = 1; i <= 6; i++) {
            var content = 'http://localhost/2/pd/fmp4/111/segment_file' + i.toString() + '.m4s';
            vContents.push(content);
        }
        vRep = {
            type: 'video',
            codecs: 'video/mp4; codecs="mp4a.40.2, avc1.64001e"',
            initialization: 'http://localhost/2/pd/fmp4/111/segment_fileinit.mp4',
            media: vContents
        };

        activeStream_ = {
            vRep: vRep,
            aRep: null,
            mediaPresentationDuration: 176
        };

        return activeStream_;
    }

    function case03() {
        var aRep = null;
        var vRep = null;

        var cnt = 50;

        // construct dash audio
        var aContents = [];
        for (var i = 0; i <= cnt; i++) {
            var content = 'http://localhost/2/dash/undoc/test2_main_index/Audio1/' + i.toString() + '.m4s';
            aContents.push(content);
        }

        aRep = {
            type: 'audio',
            codecs: 'audio/mp4; codecs="mp4a.40.29"',
            initialization: 'http://localhost/2/dash/undoc/test2_main_index/Audio1/Header.m4s',
            media: aContents
        };

        // construct dash video
        var vContents = [];
        for (var _i2 = 0; _i2 <= cnt; _i2++) {
            var _content2 = 'http://localhost/2/dash/undoc/test2_main_index/Video1/' + _i2.toString() + '.m4s';
            vContents.push(_content2);
        }
        vRep = {
            type: 'video',
            codecs: 'video/mp4; codecs="avc1.4D4029"',
            initialization: 'http://localhost/2/dash/undoc/test2_main_index/Video1/Header.m4s',
            media: vContents
        };

        activeStream_ = {
            aRep: aRep,
            vRep: vRep,
            mediaPresentationDuration: 290 // manifest max duration
        };

        return activeStream_;
    }

    function loadManifest(url) {
        videoHeaderAdded_ = false;
        videoIndex_ = 0;
        audioHeaderAdded_ = false;
        audioIndex_ = 0;

        if (url.indexOf('audio_only_case01') !== -1) {
            return audio_only_case01();
        } else if (url.indexOf('video_only_case01') !== -1) {
            return video_only_case01();
        } else if (url.indexOf('case01') !== -1) {
            return case01();
        } else if (url.indexOf('case02') !== -1) {
            return case02();
        } else if (url.indexOf('case03') !== -1) {
            return case03();
        }
    }

    function getNextFragment() {
        var ret = {};

        if (activeStream_.vRep && activeStream_.aRep) {
            do {
                // init segments
                if (videoHeaderAdded_ === false) {
                    ret.type = activeStream_.vRep.type;
                    ret.url = activeStream_.vRep.initialization;
                    videoHeaderAdded_ = true;
                    break;
                }
                if (audioHeaderAdded_ === false) {
                    ret.type = activeStream_.aRep.type;
                    ret.url = activeStream_.aRep.initialization;
                    audioHeaderAdded_ = true;
                    break;
                }

                // BD
                if (videoIndex_ < 1) {
                    ret.type = activeStream_.vRep.type;
                    ret.url = activeStream_.vRep.media[videoIndex_];
                    videoIndex_++;
                    break;
                }
                // ED

                // media segments
                if (videoIndex_ >= activeStream_.vRep.media.length || audioIndex_ >= activeStream_.aRep.media.length) {
                    ret = null;
                } else {
                    if (videoIndex_ > audioIndex_) {
                        if (audioIndex_ < activeStream_.aRep.media.length) {
                            ret.type = activeStream_.aRep.type;
                            ret.url = activeStream_.aRep.media[audioIndex_];
                            audioIndex_++;
                        }
                    } else {
                        if (videoIndex_ < activeStream_.vRep.media.length) {
                            ret.type = activeStream_.vRep.type;
                            ret.url = activeStream_.vRep.media[videoIndex_];
                            videoIndex_++;
                        }
                    }
                }
            } while (false);
        } else {
            if (activeStream_.vRep) {
                ret.type = activeStream_.vRep.type;

                if (videoHeaderAdded_ === false) {
                    ret.url = activeStream_.vRep.initialization;
                    videoHeaderAdded_ = true;
                } else {
                    if (videoIndex_ < activeStream_.vRep.media.length) {
                        ret.url = activeStream_.vRep.media[videoIndex_];
                        videoIndex_++;
                    } else {
                        ret = null;
                    }
                }
            } else if (activeStream_.aRep) {
                ret.type = activeStream_.aRep.type;

                if (audioHeaderAdded_ === false) {
                    ret.url = activeStream_.aRep.initialization;
                    audioHeaderAdded_ = true;
                } else {
                    if (audioIndex_ < activeStream_.aRep.media.length) {
                        ret.url = activeStream_.aRep.media[audioIndex_];
                        audioIndex_++;
                    } else {
                        ret = null;
                    }
                }
            }
        }

        return ret;
    }

    instance = {
        loadManifest: loadManifest,
        getNextFragment: getNextFragment
    };
    return instance;
}

DashParser.__h5player_factory_name = 'DashParser';
exports.default = _FactoryMaker2.default.getSingletonFactory(DashParser);

},{"13":13,"55":55}],19:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

var _EventBus = _dereq_(12);

var _EventBus2 = _interopRequireDefault(_EventBus);

var _ProtectionKeyController = _dereq_(28);

var _ProtectionKeyController2 = _interopRequireDefault(_ProtectionKeyController);

var _ProtectionModel_21Jan = _dereq_(33);

var _ProtectionModel_21Jan2 = _interopRequireDefault(_ProtectionModel_21Jan);

var _ProtectionModel_3Feb = _dereq_(34);

var _ProtectionModel_3Feb2 = _interopRequireDefault(_ProtectionModel_3Feb);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

//
var DRMEngine = function DRMEngine(media) {
    this.media_ = media;
    this.protectionModel_ = null;

    this.protectionKeyController_ = (0, _ProtectionKeyController2.default)(this).getInstance();

    this.protectionModel_ = this.getProtectionModel(this.media_);
    this.protectionModel_.attachMedia(this.media_);
};

DRMEngine.prototype.getProtectionModel = function (media) {
    if (media.onencrypted !== undefined && media.mediaKeys !== undefined && navigator.requestMediaKeySystemAccess !== undefined && typeof navigator.requestMediaKeySystemAccess === 'function') {
        console.log('User Agent support ProtectionModel_21Jan2015');
        return new _ProtectionModel_21Jan2.default();
    } else {
        console.log('User Agent support ProtectionModel_3Feb2014');
        return new _ProtectionModel_3Feb2.default();
    }
};

DRMEngine.prototype.setDrmInfo = function (info) {
    if (!info.drm || !info.drm.type) {
        return;
    }

    var keySystem = this.protectionKeyController_.getKeySystemBySystemString(info.drm.type);
    console.log('H5Player, request systemString: ' + keySystem.systemString);
    this.protectionModel_.setKeySystem(keySystem);
    this.protectionModel_.setDrmInfo(info);
};

exports.default = DRMEngine;

},{"12":12,"13":13,"28":28,"33":33,"34":34}],20:[function(_dereq_,module,exports){
'use strict';

/* $Date: 2007-06-12 18:02:31 $ */

// from: http://bannister.us/weblog/2007/06/09/simple-base64-encodedecode-javascript/
// Handles encode/decode of ASCII and Unicode strings.

var UTF8 = {};
UTF8.encode = function (s) {
    var u = [];
    for (var i = 0; i < s.length; ++i) {
        var c = s.charCodeAt(i);
        if (c < 0x80) {
            u.push(c);
        } else if (c < 0x800) {
            u.push(0xC0 | c >> 6);
            u.push(0x80 | 63 & c);
        } else if (c < 0x10000) {
            u.push(0xE0 | c >> 12);
            u.push(0x80 | 63 & c >> 6);
            u.push(0x80 | 63 & c);
        } else {
            u.push(0xF0 | c >> 18);
            u.push(0x80 | 63 & c >> 12);
            u.push(0x80 | 63 & c >> 6);
            u.push(0x80 | 63 & c);
        }
    }
    return u;
};
UTF8.decode = function (u) {
    var a = [];
    var i = 0;
    while (i < u.length) {
        var v = u[i++];
        if (v < 0x80) {
            // no need to mask byte
        } else if (v < 0xE0) {
            v = (31 & v) << 6;
            v |= 63 & u[i++];
        } else if (v < 0xF0) {
            v = (15 & v) << 12;
            v |= (63 & u[i++]) << 6;
            v |= 63 & u[i++];
        } else {
            v = (7 & v) << 18;
            v |= (63 & u[i++]) << 12;
            v |= (63 & u[i++]) << 6;
            v |= 63 & u[i++];
        }
        a.push(String.fromCharCode(v));
    }
    return a.join('');
};

var BASE64 = {};
(function (T) {
    var encodeArray = function encodeArray(u) {
        var i = 0;
        var a = [];
        var n = 0 | u.length / 3;
        while (0 < n--) {
            var v = (u[i] << 16) + (u[i + 1] << 8) + u[i + 2];
            i += 3;
            a.push(T.charAt(63 & v >> 18));
            a.push(T.charAt(63 & v >> 12));
            a.push(T.charAt(63 & v >> 6));
            a.push(T.charAt(63 & v));
        }
        if (2 == u.length - i) {
            var v = (u[i] << 16) + (u[i + 1] << 8);
            a.push(T.charAt(63 & v >> 18));
            a.push(T.charAt(63 & v >> 12));
            a.push(T.charAt(63 & v >> 6));
            a.push('=');
        } else if (1 == u.length - i) {
            var v = u[i] << 16;
            a.push(T.charAt(63 & v >> 18));
            a.push(T.charAt(63 & v >> 12));
            a.push('==');
        }
        return a.join('');
    };
    var R = function () {
        var a = [];
        for (var i = 0; i < T.length; ++i) {
            a[T.charCodeAt(i)] = i;
        }
        a['='.charCodeAt(0)] = 0;
        return a;
    }();
    var decodeArray = function decodeArray(s) {
        var i = 0;
        var u = [];
        var n = 0 | s.length / 4;
        while (0 < n--) {
            var v = (R[s.charCodeAt(i)] << 18) + (R[s.charCodeAt(i + 1)] << 12) + (R[s.charCodeAt(i + 2)] << 6) + R[s.charCodeAt(i + 3)];
            u.push(255 & v >> 16);
            u.push(255 & v >> 8);
            u.push(255 & v);
            i += 4;
        }
        if (u) {
            if ('=' == s.charAt(i - 2)) {
                u.pop();
                u.pop();
            } else if ('=' == s.charAt(i - 1)) {
                u.pop();
            }
        }
        return u;
    };
    var ASCII = {};
    ASCII.encode = function (s) {
        var u = [];
        for (var i = 0; i < s.length; ++i) {
            u.push(s.charCodeAt(i));
        }
        return u;
    };
    ASCII.decode = function (u) {
        for (var i = 0; i < s.length; ++i) {
            a[i] = String.fromCharCode(a[i]);
        }
        return a.join('');
    };
    BASE64.decodeArray = function (s) {
        var u = decodeArray(s);
        return new Uint8Array(u);
    };
    BASE64.encodeASCII = function (s) {
        var u = ASCII.encode(s);
        return encodeArray(u);
    };
    BASE64.decodeASCII = function (s) {
        var a = decodeArray(s);
        return ASCII.decode(a);
    };
    BASE64.encode = function (s) {
        var u = UTF8.encode(s);
        return encodeArray(u);
    };
    BASE64.decode = function (s) {
        var u = decodeArray(s);
        return UTF8.decode(u);
    };
})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");

/*The following polyfills are not used in dash.js but have caused multiplayer integration issues.
 Therefore commenting them out.
if (undefined === btoa) {
    var btoa = BASE64.encode;
}
if (undefined === atob) {
    var atob = BASE64.decode;
}
*/

if (typeof exports !== 'undefined') {
    exports.decode = BASE64.decode;
    exports.decodeArray = BASE64.decodeArray;
}

},{}],21:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

function HlsParser() {

  var instance = {};
  return instance;
}

HlsParser.__h5player_factory_name = 'HlsParser';
exports.default = _FactoryMaker2.default.getSingletonFactory(HlsParser);

},{"13":13}],22:[function(_dereq_,module,exports){
(function (global){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _CoreEvents = _dereq_(10);

var _CoreEvents2 = _interopRequireDefault(_CoreEvents);

var _common_utils = _dereq_(52);

var _common_utils2 = _interopRequireDefault(_common_utils);

var _Player = _dereq_(2);

var _Player2 = _interopRequireDefault(_Player);

var _cast_sender = _dereq_(8);

var _cast_sender2 = _interopRequireDefault(_cast_sender);

var _cast_receiver = _dereq_(7);

var _cast_receiver2 = _interopRequireDefault(_cast_receiver);

var _TestFeature = _dereq_(4);

var _TestFeature2 = _interopRequireDefault(_TestFeature);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

// Shove both of these into the global scope
// 
var context = typeof window !== 'undefined' && window || global;

//


var oldmtn = context.oldmtn;
if (!oldmtn) {
    oldmtn = context.oldmtn = {};
}

oldmtn.Player = _Player2.default;
oldmtn.Events = _CoreEvents2.default;
oldmtn.TestFeature = _TestFeature2.default;
oldmtn.CastSender = _cast_sender2.default;
oldmtn.CastReceiver = _cast_receiver2.default;

oldmtn.CommonUtils = _common_utils2.default;

exports.default = oldmtn;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"10":10,"2":2,"4":4,"52":52,"7":7,"8":8}],23:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

var _dash_parser = _dereq_(18);

var _dash_parser2 = _interopRequireDefault(_dash_parser);

var _hls_parser = _dereq_(21);

var _hls_parser2 = _interopRequireDefault(_hls_parser);

var _pd_parser = _dereq_(27);

var _pd_parser2 = _interopRequireDefault(_pd_parser);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

function ManifestParser() {

    function getParser(url) {
        var parser = null;
        var extension = url.split('.').pop();
        if (extension === 'mpd') {
            parser = (0, _dash_parser2.default)(oldmtn).getInstance();
        } else if (extension === 'm3u8') {
            parser = (0, _hls_parser2.default)(oldmtn).getInstance();
        } else if (extension === 'mp4') {
            parser = (0, _pd_parser2.default)(oldmtn).getInstance();
        }

        return parser;
    }

    var instance = {
        getParser: getParser
    };
    return instance;
}

ManifestParser.__h5player_factory_name = 'ManifestParser';
exports.default = _FactoryMaker2.default.getSingletonFactory(ManifestParser);

},{"13":13,"18":18,"21":21,"27":27}],24:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

var _xhr_loader = _dereq_(55);

var _xhr_loader2 = _interopRequireDefault(_xhr_loader);

var _EventBus = _dereq_(12);

var _EventBus2 = _interopRequireDefault(_EventBus);

var _CoreEvents = _dereq_(10);

var _CoreEvents2 = _interopRequireDefault(_CoreEvents);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

function ScheduleController() {
    var parser_ = void 0;
    var scheduleTimeout_ = void 0;
    var xhrLoader_ = (0, _xhr_loader2.default)(oldmtn).getInstance();
    var eventBus_ = (0, _EventBus2.default)(oldmtn).getInstance();

    // flag
    var isFragmentProcessing_ = false;

    function setup() {}

    function schedule() {
        if (isFragmentProcessing_) {
            startScheduleTimer(500);
            return;
        }

        var fragment = parser_.getNextFragment();
        if (!fragment) {
            eventBus_.trigger(_CoreEvents2.default.FRAGMENT_DOWNLOADED_ENDED);
            return;
        }

        function cbSuccess(bytes) {
            fragment.bytes = bytes;
            eventBus_.trigger(_CoreEvents2.default.FRAGMENT_DOWNLOADED, fragment);
            isFragmentProcessing_ = false;

            startScheduleTimer(100);
        }

        var request = {
            url: fragment.url,
            cbSuccess: cbSuccess
        };
        isFragmentProcessing_ = true;
        xhrLoader_.load(request);
    }

    function startScheduleTimer(value) {
        if (scheduleTimeout_) {
            clearTimeout(scheduleTimeout_);
            scheduleTimeout_ = null;
        }
        scheduleTimeout_ = setTimeout(schedule, value);
    }

    function start(parser) {
        parser_ = parser;
        startScheduleTimer(0);
    }

    function stop() {
        if (scheduleTimeout_) {
            clearTimeout(scheduleTimeout_);
            scheduleTimeout_ = null;
        }
    }

    var instance = {
        start: start,
        stop: stop
    };
    setup();
    return instance;
}

ScheduleController.__h5player_factory_name = 'ScheduleController';
exports.default = _FactoryMaker2.default.getSingletonFactory(ScheduleController);

},{"10":10,"12":12,"13":13,"55":55}],25:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

var _EventBus = _dereq_(12);

var _EventBus2 = _interopRequireDefault(_EventBus);

var _CoreEvents = _dereq_(10);

var _CoreEvents2 = _interopRequireDefault(_CoreEvents);

var _Debug = _dereq_(11);

var _Debug2 = _interopRequireDefault(_Debug);

var _timeRanges = _dereq_(54);

var _timeRanges2 = _interopRequireDefault(_timeRanges);

var _common_utils = _dereq_(52);

var _common_utils2 = _interopRequireDefault(_common_utils);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

/* During the loading process of an audio/video, the following events occur, in this order:
loadstart
durationchange
loadedmetadata
loadeddata
progress
canplay
canplaythrough
 */

function MediaEngine(media, cfg) {
    var media_ = media;
    var cfg_ = cfg;
    var eventBus_ = (0, _EventBus2.default)(oldmtn).getInstance();
    var debug_ = (0, _Debug2.default)(oldmtn).getInstance();

    // flag
    var autoplayAllowed_ = void 0;
    var autoplayRequiresMuted_ = void 0;

    function setup() {
        addEventListeners();
    }

    // Begin -- public functions
    function detectAutoplay() {
        debug_.log('+detectAutoplay: ' + cfg_.autoplay);
        if (cfg_.autoplay) {
            //media_.autoplay = true;
            var playPromise = play(); // This is asynchronous!
            if (playPromise !== undefined) {
                // console.log('webkitAudioDecodedByteCount: ' + media_.webkitAudioDecodedByteCount);
                // console.log('webkitVideoDecodedByteCount: ' + media_.webkitVideoDecodedByteCount);
                // if (CommonUtils.isSafari()) {
                //     console.log('audioTracks length: ' + media_.audioTracks.length);
                // }

                playPromise.then(onAutoplayWithSoundSuccess).catch(onAutoplayWithSoundFail);
            }
        }
    }

    function play() {
        debug_.log('+Native video element request: play');
        return media_.play();
    }

    function pause() {
        debug_.log('+Native video element request: pause');
        media_.pause();
    }

    function isPaused() {
        return media_.paused;
    }

    function getPosition() {
        return media_.currentTime;
    }

    function getDuration() {
        return media_.duration;
    }

    function setPosition(time) {
        media_.currentTime = time;
    }

    function isSeeking() {
        return media_.seeking;
    }

    function isEnded() {
        return media_.ended;
    }

    function mute() {
        media_.muted = true;
    }

    function unmute() {
        media_.muted = false;
    }

    function isMuted() {
        return media_.muted;
    }

    function setVolume(volume) {
        media_.volume = volume;
    }

    function getVolume() {
        return media_.volume;
    }

    function videoWidth() {
        return media_.videoWidth;
    }

    function videoHeight() {
        return media_.videoHeight;
    }
    // End -- public functions


    ///////////////////////////////////////////////////////////////////////////
    // Begin autoplay policy
    // see https://developers.google.com/interactive-media-ads/docs/sdks/html5/desktop-autoplay
    function onMutedAutoplaySuccess() {
        debug_.log('+onMutedAutoplaySuccess');
        autoplayAllowed_ = true;
        autoplayRequiresMuted_ = true;
    }

    function onMutedAutoplayFail() {
        debug_.log('+onMutedAutoplayFail');
        // Both muted and unmuted autoplay failed. Fall back to click to play.
        autoplayAllowed_ = false;
        autoplayRequiresMuted_ = false;

        setVolume(1);
        unmute();
    }

    function checkMutedAutoplaySupport() {
        debug_.log('+checkMutedAutoplaySupport');
        setVolume(0);
        mute();
        var playPromise = play();
        if (playPromise !== undefined) {
            playPromise.then(onMutedAutoplaySuccess).catch(onMutedAutoplayFail);
        }
    }

    function onAutoplayWithSoundSuccess(info) {
        // If we make it here, unmuted autoplay works.
        debug_.log('+onAutoplayWithSoundSuccess');
        autoplayAllowed_ = true;
        autoplayRequiresMuted_ = false;
    }

    function onAutoplayWithSoundFail(err) {
        // Unmuted autoplay failed. Now try muted autoplay.
        debug_.log('+onAutoplayWithSoundFail, err: ', err);
        autoplayAllowed_ = false;
        if (cfg_.mutedAutoplay) {
            checkMutedAutoplaySupport();
        }
    }
    // End autoplay policy

    // Begin - private function
    function onMediaAudioAvailable() {
        debug_.log('+Native video element event: audioavailable');
    }

    function onMediaAbort() {
        debug_.log('+Native video element event: abort');
    }

    function onMediaCanplay() {
        //The canplay event occurs when the browser can start playing the specified audio/video (when it has buffered enough to begin).
        debug_.log('+Native video element event: canplay');
        var a = media_;
    }

    function onMediaCanplayThrough() {
        debug_.log('+Native video element event: canplaythrough');
        var a = media_;
        eventBus_.trigger(_CoreEvents2.default.MEDIA_CANPLAY_THROUGH);
    }

    function onMediaDurationChanged() {
        // debug_.log('+Native video element event: durationchange' +
        //     ', getPosition: ' + media_.getPosition +
        //     ', duration: ' + media_.duration);
        eventBus_.trigger(_CoreEvents2.default.MEDIA_DURATION_CHANGED);
    }

    function onMediaEnded() {
        debug_.log('+Native video element event: ended');
        eventBus_.trigger(_CoreEvents2.default.MEDIA_ENDED);
    }

    function onMediaError() {
        debug_.log('+Native video element event: error');
    }

    function onMediaInterruptBegin() {
        debug_.log('+Native video element event: interruptbegin');
    }

    function onMediaInterruptEnd() {
        debug_.log('+Native video element event: interruptend');
    }

    function onMediaLoadedData() {
        debug_.log('+Native video element event: loadeddata');
        function hasAudio() {
            if (typeof media_.webkitAudioDecodedByteCount !== "undefined") {
                // non-zero if video has audio track
                if (media_.webkitAudioDecodedByteCount > 0) {
                    console.log("video has audio");
                } else {
                    console.log("video doesn't have audio");
                }
            } else if (typeof media_.mozHasAudio !== "undefined") {
                // true if video has audio track
                if (media_.mozHasAudio) {
                    console.log("video has audio");
                } else {
                    console.log("video doesn't have audio");
                }
            } else {
                console.log("can't tell if video has audio");
            }
        }

        debug_.log('hasAudio: ' + hasAudio());
        eventBus_.trigger(_CoreEvents2.default.MEDIA_LOADEDDATA);
    }

    function onMediaLoadedMetadata() {
        debug_.log('+Native video element event: metadata' + ', width: ' + media_.videoWidth + ', height: ' + media_.videoHeight + ', duration: ' + media_.duration);
        var width = media_.videoWidth;
        var height = media_.videoHeight;
        eventBus_.trigger(_CoreEvents2.default.MEDIA_LOADEDMETADATA, {
            width: width,
            height: height
        });
    }

    function onMediaLoadStart() {
        debug_.log('+Native video element event: loadstart');
    }

    function onMediaPaused() {
        debug_.log('+Native video element event: pause');
        eventBus_.trigger(_CoreEvents2.default.MEDIA_PAUSED);
    }

    function onMediaPlay() {
        debug_.log('+Native video element event: play');
    }

    function onMediaPlaying() {
        debug_.log('+Native video element event: playing');
        eventBus_.trigger(_CoreEvents2.default.MEDIA_PLAYING);
    }

    function onMediaProgress(e) {
        var progress = _timeRanges2.default.toString(media_.buffered);

        //debug_.log('+Native video element event: progress, ' + progress);
    }

    function onMediaReadyState(e) {
        debug_.log('+Native video element event: readyState');
    }

    function onMediaSeeking() {
        eventBus_.trigger(_CoreEvents2.default.MEDIA_SEEKING);
    }

    function onMediaSeeked() {
        eventBus_.trigger(_CoreEvents2.default.MEDIA_SEEKED);
    }

    function onMediaSuspend() {
        debug_.log('+Native video element event: suspend');
    }

    function onMediaTimeUpdated(e) {
        eventBus_.trigger(_CoreEvents2.default.MEDIA_TIMEUPDATE);
        //debug_.log(`main buffered : ${TimeRanges.toString(media.buffered)}` + ', getPosition: ' + media.getPosition);
    }

    function onMediaVolumeChanged() {
        debug_.log('+Native video element event: volumechange, muted: ' + media_.muted + ', volume: ' + media_.volume);
        eventBus_.trigger(_CoreEvents2.default.MEDIA_VOLUME_CHANGED);
    }

    function onMediaWaiting() {
        debug_.log('+Native video element event: waiting');
        eventBus_.trigger(_CoreEvents2.default.MEDIA_WAITING);
    }
    // End

    // public function
    function addEventListeners() {
        media_.addEventListener('mozaudioavailable', onMediaAudioAvailable);
        media_.addEventListener('abort', onMediaAbort);
        media_.addEventListener('canplay', onMediaCanplay);
        media_.addEventListener('canplaythrough', onMediaCanplayThrough);
        media_.addEventListener('durationchange', onMediaDurationChanged);
        media_.addEventListener('ended', onMediaEnded);
        media_.addEventListener('error', onMediaError);
        media_.addEventListener('interruptbegin', onMediaInterruptBegin);
        media_.addEventListener('interruptend', onMediaInterruptEnd);
        media_.addEventListener('loadeddata', onMediaLoadedData);
        media_.addEventListener('loadedmetadata', onMediaLoadedMetadata);
        media_.addEventListener('loadstart', onMediaLoadStart);
        media_.addEventListener('pause', onMediaPaused);
        media_.addEventListener('play', onMediaPlay);
        media_.addEventListener('playing', onMediaPlaying);
        media_.addEventListener('progress', onMediaProgress);
        media_.addEventListener('readyState', onMediaReadyState);
        media_.addEventListener('seeking', onMediaSeeking);
        media_.addEventListener('seeked', onMediaSeeked);
        media_.addEventListener('suspend', onMediaSuspend);
        media_.addEventListener('timeupdate', onMediaTimeUpdated);
        media_.addEventListener('volumechange', onMediaVolumeChanged);
        media_.addEventListener('waiting', onMediaWaiting);
    }

    function removeEventsListeners() {
        media_.removeEventListener('mozaudioavailable', onMediaAudioAvailable);
        media_.removeEventListener('abort', onMediaAbort);
        media_.removeEventListener('canplay', onMediaCanplay);
        media_.removeEventListener('canplaythrough', onMediaCanplayThrough);
        media_.removeEventListener('durationchange', onMediaDurationChanged);
        media_.removeEventListener('ended', onMediaEnded);
        media_.removeEventListener('error', onMediaError);
        media_.removeEventListener('interruptbegin', onMediaInterruptBegin);
        media_.removeEventListener('interruptend', onMediaInterruptEnd);
        media_.removeEventListener('loadeddata', onMediaLoadedData);
        media_.removeEventListener('loadedmetadata', onMediaMetadata);
        media_.removeEventListener('loadstart', onMediaLoadStart);
        media_.removeEventListener('pause', onMediaPaused);
        media_.removeEventListener('play', onMediaPlay);
        media_.removeEventListener('playing', onMediaPlaying);
        media_.removeEventListener('progress', onMediaProgress);
        media_.removeEventListener('readyState', onMediaReadyState);
        media_.removeEventListener('seeking', onMediaSeeking);
        media_.removeEventListener('seeked', onMediaSeeked);
        media_.removeEventListener('suspend', onMediaSuspend);
        media_.removeEventListener('timeupdate', onMediaTimeUpdated);
        media_.removeEventListener('volumechange', onMediaVolumeChanged);
        media_.removeEventListener('waiting', onMediaWaiting);
    };

    function setSrc(objURL) {
        media_.src = objURL;
    }

    function getSrc() {
        return media_.src;
    }

    function revokeSrc() {
        URL.revokeObjectURL(media_.src);
    }

    function getValidBufferPosition(currentPos) {
        var bufferedEnd = void 0;
        for (var i = 0; i < media_.buffered.length; ++i) {
            var start = media_.buffered.start(i);
            var end = media_.buffered.end(i);

            if (currentPos >= start && currentPos <= end) {
                bufferedEnd = end;
                break;
            }
        }

        return bufferedEnd;
    }

    function close() {
        debug_.log('+media_engine.js, close');
        // Detach properly the MediaSource from the HTMLMediaElement as
        // suggested in https://github.com/w3c/media-source/issues/53
        if (media_) {
            media_.removeAttribute('src');
            media_.load();
        }
    }

    var instance = {
        detectAutoplay: detectAutoplay,
        play: play,
        pause: pause,
        isPaused: isPaused,
        getPosition: getPosition,
        setPosition: setPosition,
        getDuration: getDuration,
        isSeeking: isSeeking,
        isEnded: isEnded,
        mute: mute,
        unmute: unmute,
        isMuted: isMuted,
        setVolume: setVolume,
        getVolume: getVolume,
        videoWidth: videoWidth,
        videoHeight: videoHeight,

        close: close,
        setSrc: setSrc,
        revokeSrc: revokeSrc,
        getValidBufferPosition: getValidBufferPosition
    };

    setup();
    return instance;
}

MediaEngine.__h5player_factory_name = 'MediaEngine';
exports.default = _FactoryMaker2.default.getSingletonFactory(MediaEngine);

},{"10":10,"11":11,"12":12,"13":13,"52":52,"54":54}],26:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _EventBus = _dereq_(12);

var _EventBus2 = _interopRequireDefault(_EventBus);

var _CoreEvents = _dereq_(10);

var _CoreEvents2 = _interopRequireDefault(_CoreEvents);

var _Debug = _dereq_(11);

var _Debug2 = _interopRequireDefault(_Debug);

var _SourceBufferWrapper = _dereq_(3);

var _SourceBufferWrapper2 = _interopRequireDefault(_SourceBufferWrapper);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

function MediaSourceEngine() {
    var eventBus_ = (0, _EventBus2.default)(oldmtn).getInstance();
    var debug_ = (0, _Debug2.default)(oldmtn).getInstance();
    var mediaSrc_ = null;
    var activeStream_ = null;
    var aSourceBuffer_ = null;
    var vSourceBuffer_ = null;
    var pdSourceBuffer_ = null;

    debug_.log('MediaSourceEngine, constructor');

    function setup() {
        eventBus_.on(_CoreEvents2.default.FRAGMENT_DOWNLOADED, onFragmentDownloaded);
        eventBus_.on(_CoreEvents2.default.FRAGMENT_DOWNLOADED_ENDED, onFragmentDownloadedEnded);
    }

    function open(activeStream) {
        debug_.log('MediaSourceEngine, +open');
        activeStream_ = activeStream;

        if (activeStream_.vRep) {
            vSourceBuffer_ = new _SourceBufferWrapper2.default(activeStream_.vRep);
        }
        if (activeStream_.aRep) {
            aSourceBuffer_ = new _SourceBufferWrapper2.default(activeStream_.aRep);
        }
        if (activeStream_.pdRep) {
            pdSourceBuffer_ = new _SourceBufferWrapper2.default(activeStream_.pdRep);
        }

        //
        var hasWebKit = 'WebKitMediaSource' in window;
        var hasMediaSource = 'MediaSource' in window;

        if (hasMediaSource) {
            mediaSrc_ = new MediaSource();
            mediaSrc_.addEventListener('sourceopen', onMediaSourceOpen, false);
            mediaSrc_.addEventListener('sourceended', onMediaSourceEnded, false);
            mediaSrc_.addEventListener('sourceclose', onMediaSourceClose, false);
        } else if (hasWebKit) {
            mediaSrc_ = new WebKitMediaSource();
            mediaSrc_.addEventListener('webkitsourceopen', onMediaSourceOpen, false);
        }

        debug_.log('MediaSourceEngine, -open');
    }

    function close() {
        removeBuffer();
        mediaSrc_ = null;
    }

    function setDuration(value) {
        if (mediaSrc_.duration != value) {
            mediaSrc_.duration = value;
        }

        return mediaSrc_.duration;
    }

    function signalEndOfStream() {
        debug_.log('+signalEndOfStream');
        mediaSrc_.endOfStream();
    }

    function getMediaSource() {
        return mediaSrc_;
    }

    function appendBuffer(e) {
        if (e.type === 'video') {
            vSourceBuffer_.appendBuffer(e.bytes);
        } else if (e.type === 'audio') {
            aSourceBuffer_.appendBuffer(e.bytes);
        } else if (e.type === 'pd') {
            pdSourceBuffer_.appendBuffer(e.bytes);
        }
    }

    function removeBuffer() {
        if (vSourceBuffer_) {
            vSourceBuffer_.removeBuffer();
        }
        if (aSourceBuffer_) {
            aSourceBuffer_.removeBuffer();
        }
        if (pdSourceBuffer_) {
            pdSourceBuffer_.removeBuffer();
        }

        vSourceBuffer_ = null;
        aSourceBuffer_ = null;
    }

    function onMediaSourceOpen() {
        debug_.log('+onMediaSourceOpen');

        // once received, don't listen anymore to sourceopen event
        mediaSrc_.removeEventListener('sourceopen', onMediaSourceOpen);
        mediaSrc_.removeEventListener('webkitsourceopen', onMediaSourceOpen);

        // set media source duration
        if (activeStream_.mediaPresentationDuration) {
            setDuration(activeStream_.mediaPresentationDuration);
        }

        if (vSourceBuffer_) {
            vSourceBuffer_.open(mediaSrc_);
        }
        if (aSourceBuffer_) {
            aSourceBuffer_.open(mediaSrc_);
        }
        if (pdSourceBuffer_) {
            pdSourceBuffer_.open(mediaSrc_);
        }

        eventBus_.trigger(_CoreEvents2.default.MSE_OPENED, {});
    }

    function onMediaSourceEnded() {
        debug_.log('+onMediaSourceEnded');
    }

    function onMediaSourceClose() {
        debug_.log('+onMediaSourceClose');
    }

    function onFragmentDownloaded(e) {
        appendBuffer(e);
    }

    function onFragmentDownloadedEnded() {
        signalEndOfStream();
    }

    var instance = {
        open: open,
        close: close,
        setDuration: setDuration,
        signalEndOfStream: signalEndOfStream,
        getMediaSource: getMediaSource,
        appendBuffer: appendBuffer,
        removeBuffer: removeBuffer
    };
    setup();
    return instance;
};

exports.default = MediaSourceEngine;

},{"10":10,"11":11,"12":12,"3":3}],27:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

function PDParser() {
    var activeStream_ = void 0;
    // flag
    var pdDownloaded_ = void 0;
    function loadManifest(url) {
        pdDownloaded_ = false;

        var pdRep = {
            type: 'pd',
            codecs: 'video/mp4; codecs="mp4a.40.2"',
            media: url
        };

        // pd - pure video
        // let pdRep = {
        //     type: 'pd',
        //     codecs: 'video/mp4; codecs="mp4a.40.2, avc1.4D401e"',
        //     media: url
        // };

        activeStream_ = {
            pdRep: pdRep
        };
        return activeStream_;
    }

    function getNextFragment() {
        var ret = null;
        if (!pdDownloaded_) {
            ret = { type: activeStream_.pdRep.type, url: activeStream_.pdRep.media };
            pdDownloaded_ = true;
        }

        return ret;
    }

    var instance = {
        loadManifest: loadManifest,
        getNextFragment: getNextFragment
    };
    return instance;
}

PDParser.__h5player_factory_name = 'PDParser';
exports.default = _FactoryMaker2.default.getSingletonFactory(PDParser);

},{"13":13}],28:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

var _KeySystemClearKey = _dereq_(30);

var _KeySystemClearKey2 = _interopRequireDefault(_KeySystemClearKey);

var _KeySystemWidevine = _dereq_(32);

var _KeySystemWidevine2 = _interopRequireDefault(_KeySystemWidevine);

var _KeySystemPlayReady = _dereq_(31);

var _KeySystemPlayReady2 = _interopRequireDefault(_KeySystemPlayReady);

var _KeySystemCCPlayReady = _dereq_(29);

var _KeySystemCCPlayReady2 = _interopRequireDefault(_KeySystemCCPlayReady);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

function ProtectionKeyController() {
    var context_ = this.context;

    var instance_ = void 0;
    var keySystems_ = void 0;

    function initialize() {
        keySystems_ = [];

        var keySystem;

        // ClearKey
        keySystem = (0, _KeySystemClearKey2.default)(context_).getInstance();
        keySystems_.push(keySystem);

        // PlayReady
        keySystem = (0, _KeySystemPlayReady2.default)(context_).getInstance();
        keySystems_.push(keySystem);

        // Widevine
        keySystem = (0, _KeySystemWidevine2.default)(context_).getInstance();
        keySystems_.push(keySystem);

        // Chromecast PlayReady
        keySystem = (0, _KeySystemCCPlayReady2.default)(context_).getInstance();
        keySystems_.push(keySystem);
    }

    function getKeySystems() {
        return keySystems;
    }

    function getKeySystemBySystemString(systemString) {
        if (window.cast && window.cast.__platform__) {
            if (systemString === 'com.microsoft.playready') {
                systemString = 'com.chromecast.playready';
            }
        }

        for (var i = 0; i < keySystems_.length; i++) {
            if (keySystems_[i].systemString === systemString) {
                return keySystems_[i];
            }
        }
        return null;
    }

    instance_ = {
        getKeySystems: getKeySystems,
        getKeySystemBySystemString: getKeySystemBySystemString
    };

    initialize();
    return instance_;
}

ProtectionKeyController.__h5player_factory_name = 'ProtectionKeyController';
exports.default = _FactoryMaker2.default.getSingletonFactory(ProtectionKeyController);

},{"13":13,"29":29,"30":30,"31":31,"32":32}],29:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _CommonEncryption = _dereq_(35);

var _CommonEncryption2 = _interopRequireDefault(_CommonEncryption);

var _Error = _dereq_(51);

var _Error2 = _interopRequireDefault(_Error);

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

var _base = _dereq_(20);

var _base2 = _interopRequireDefault(_base);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

/**
 * The copyright in this software is being made available under the BSD License,
 * included below. This software may be subject to other third party and contributor
 * rights, including patent rights, and no such rights are granted under this license.
 *
 * Copyright (c) 2013, Dash Industry Forum.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *  * Redistributions of source code must retain the above copyright notice, this
 *  list of conditions and the following disclaimer.
 *  * Redistributions in binary form must reproduce the above copyright notice,
 *  this list of conditions and the following disclaimer in the documentation and/or
 *  other materials provided with the distribution.
 *  * Neither the name of Dash Industry Forum nor the names of its
 *  contributors may be used to endorse or promote products derived from this software
 *  without specific prior written permission.
 *
 *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY
 *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 *  POSSIBILITY OF SUCH DAMAGE.
 */

/**
 * Microsoft PlayReady DRM
 *
 * @class
 * @implements KeySystem
 */
var uuid = '9a04f079-9840-4286-ab92-e65be0885f95';
var systemString = 'com.chromecast.playready';
var schemeIdURI = 'urn:uuid:' + uuid;

function KeySystemCCPlayReady() {

    var instance_ = void 0;
    var messageFormat = 'utf16';

    function getRequestHeadersFromMessage(message) {
        var headers = {};
        headers['Content-Type'] = 'text/xml; charset=utf-8';
        headers['SOAPAction'] = 'http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense';
        return headers;
    }

    function getLicenseRequestFromMessage(message) {
        console.log('DRM: cc, getLicenseRequestFromMessage');
        return new Uint8Array(message);
    }

    function getLicenseServerURLFromInitData(initData) {
        if (initData) {
            var data = new DataView(initData);
            var numRecords = data.getUint16(4, true);
            var offset = 6;
            var parser = new DOMParser();

            for (var i = 0; i < numRecords; i++) {
                // Parse the PlayReady Record header
                var recordType = data.getUint16(offset, true);
                offset += 2;
                var recordLength = data.getUint16(offset, true);
                offset += 2;
                if (recordType !== 0x0001) {
                    offset += recordLength;
                    // VO BEGIN - https://sh.visualon.com/node/64225
                    if (offset >= data.byteLength - 2) {
                        return null;
                    }
                    // VO END
                    continue;
                }

                var recordData = initData.slice(offset, offset + recordLength);
                var record = String.fromCharCode.apply(null, new Uint16Array(recordData));
                var xmlDoc = parser.parseFromString(record, 'application/xml');

                // First try <LA_URL>
                if (xmlDoc.getElementsByTagName('LA_URL')[0]) {
                    var laURL = xmlDoc.getElementsByTagName('LA_URL')[0].childNodes[0].nodeValue;
                    if (laURL) {
                        return laURL;
                    }
                }

                // Optionally, try <LUI_URL>
                if (xmlDoc.getElementsByTagName('LUI_URL')[0]) {
                    var luiurl = xmlDoc.getElementsByTagName('LUI_URL')[0].childNodes[0].nodeValue;
                    if (luiurl) {
                        return luiurl;
                    }
                }
            }
        }

        return null;
    }

    function getInitData(cpData) {
        // * desc@ getInitData
        // *   generate PSSH data from PROHeader defined in MPD file
        // *   PSSH format:
        // *   size (4)
        // *   box type(PSSH) (8)
        // *   Protection SystemID (16)
        // *   protection system data size (4) - length of decoded PROHeader
        // *   decoded PROHeader data from MPD file
        var PSSHBoxType = new Uint8Array([0x70, 0x73, 0x73, 0x68, 0x00, 0x00, 0x00, 0x00]); //'PSSH' 8 bytes
        var playreadySystemID = new Uint8Array([0x9a, 0x04, 0xf0, 0x79, 0x98, 0x40, 0x42, 0x86, 0xab, 0x92, 0xe6, 0x5b, 0xe0, 0x88, 0x5f, 0x95]);

        var byteCursor = 0;
        var uint8arraydecodedPROHeader = null;

        var PROSize, PSSHSize, PSSHBoxBuffer, PSSHBox, PSSHData;

        // Handle common encryption PSSH
        if ('pssh' in cpData) {
            return _CommonEncryption2.default.parseInitDataFromContentProtection(cpData);
        }
        // Handle native MS PlayReady ContentProtection elements
        if ('pro' in cpData) {
            uint8arraydecodedPROHeader = _base2.default.decodeArray(cpData.pro.__text);
        } else if ('prheader' in cpData) {
            uint8arraydecodedPROHeader = _base2.default.decodeArray(cpData.prheader.__text);
        } else {
            return null;
        }

        PROSize = uint8arraydecodedPROHeader.length;
        PSSHSize = 0x4 + PSSHBoxType.length + playreadySystemID.length + 0x4 + PROSize;

        PSSHBoxBuffer = new ArrayBuffer(PSSHSize);

        PSSHBox = new Uint8Array(PSSHBoxBuffer);
        PSSHData = new DataView(PSSHBoxBuffer);

        PSSHData.setUint32(byteCursor, PSSHSize);
        byteCursor += 0x4;

        PSSHBox.set(PSSHBoxType, byteCursor);
        byteCursor += PSSHBoxType.length;

        PSSHBox.set(playreadySystemID, byteCursor);
        byteCursor += playreadySystemID.length;

        PSSHData.setUint32(byteCursor, PROSize);
        byteCursor += 0x4;

        PSSHBox.set(uint8arraydecodedPROHeader, byteCursor);
        byteCursor += PROSize;

        return PSSHBox.buffer;
    }

    /**
     * It seems that some PlayReady implementations return their XML-based CDM
     * messages using UTF16, while others return them as UTF8.  Use this function
     * to modify the message format to expect when parsing CDM messages.
     *
     * @param {string} format the expected message format.  Either "utf8" or "utf16".
     * @throws {Error} Specified message format is not one of "utf8" or "utf16"
     */
    function setPlayReadyMessageFormat(format) {
        if (format !== 'utf8' && format !== 'utf16') {
            throw new _Error2.default('Illegal PlayReady message format! -- ' + format);
        }
        messageFormat = format;
    }

    instance_ = {
        uuid: uuid,
        schemeIdURI: schemeIdURI,
        systemString: systemString,
        getInitData: getInitData,
        getRequestHeadersFromMessage: getRequestHeadersFromMessage,
        getLicenseRequestFromMessage: getLicenseRequestFromMessage,
        getLicenseServerURLFromInitData: getLicenseServerURLFromInitData,
        setPlayReadyMessageFormat: setPlayReadyMessageFormat
    };

    return instance_;
}

KeySystemCCPlayReady.__h5player_factory_name = 'KeySystemCCPlayReady';
exports.default = _FactoryMaker2.default.getSingletonFactory(KeySystemCCPlayReady);

},{"13":13,"20":20,"35":35,"51":51}],30:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

var uuid = '1077efec-c0b2-4d02-ace3-3c1e52e2fb4b'; /**
                                                    * The copyright in this software is being made available under the BSD License,
                                                    * included below. This software may be subject to other third party and contributor
                                                    * rights, including patent rights, and no such rights are granted under this license.
                                                    *
                                                    * Copyright (c) 2013, Dash Industry Forum.
                                                    * All rights reserved.
                                                    *
                                                    * Redistribution and use in source and binary forms, with or without modification,
                                                    * are permitted provided that the following conditions are met:
                                                    *  * Redistributions of source code must retain the above copyright notice, this
                                                    *  list of conditions and the following disclaimer.
                                                    *  * Redistributions in binary form must reproduce the above copyright notice,
                                                    *  this list of conditions and the following disclaimer in the documentation and/or
                                                    *  other materials provided with the distribution.
                                                    *  * Neither the name of Dash Industry Forum nor the names of its
                                                    *  contributors may be used to endorse or promote products derived from this software
                                                    *  without specific prior written permission.
                                                    *
                                                    *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY
                                                    *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
                                                    *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
                                                    *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
                                                    *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
                                                    *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
                                                    *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
                                                    *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
                                                    *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
                                                    *  POSSIBILITY OF SUCH DAMAGE.
                                                    */

var systemString = 'org.w3.clearkey';
var schemeIdURI = 'urn:uuid:' + uuid;

function KeySystemClearKey() {

    var instance = void 0;
    /**
     * Returns desired clearkeys (as specified in the CDM message) from protection data
     *
     * @param {ProtectionData} protectionData the protection data
     * @param {ArrayBuffer} message the ClearKey CDM message
     * @returns {ClearKeyKeySet} the key set or null if none found
     * @throws {Error} if a keyID specified in the CDM message was not found in the
     * protection data
     * @memberof KeySystemClearKey
     */
    function getClearKeysFromProtectionData(protectionData, message) {
        var clearkeySet = null;
        // if (protectionData) {
        //     // ClearKey is the only system that does not require a license server URL, so we
        //     // handle it here when keys are specified in protection data
        //     var jsonMsg = JSON.parse(String.fromCharCode.apply(null, new Uint8Array(message)));
        //     var keyPairs = [];
        //     for (var i = 0; i < jsonMsg.kids.length; i++) {
        //         var clearkeyID = jsonMsg.kids[i];
        //         var clearkey = (protectionData.clearkeys.hasOwnProperty(clearkeyID)) ? protectionData.clearkeys[clearkeyID] : null;
        //         if (!clearkey) {
        //             throw new Error('DRM: ClearKey keyID (' + clearkeyID + ') is not known!');
        //         }
        //         // KeyIDs from CDM are not base64 padded.  Keys may or may not be padded
        //         keyPairs.push(new KeyPair(clearkeyID, clearkey));
        //     }
        //     clearkeySet = new ClearKeyKeySet(keyPairs);
        // }
        return clearkeySet;
    }

    function getInitData(cp) {
        return CommonEncryption.parseInitDataFromContentProtection(cp);
    }

    function getRequestHeadersFromMessage() /*message*/{
        return null;
    }

    function getLicenseRequestFromMessage(message) {
        return new Uint8Array(message);
    }

    function getLicenseServerURLFromInitData() /*initData*/{
        return null;
    }

    instance = {
        uuid: uuid,
        schemeIdURI: schemeIdURI,
        systemString: systemString,
        getInitData: getInitData,
        getRequestHeadersFromMessage: getRequestHeadersFromMessage,
        getLicenseRequestFromMessage: getLicenseRequestFromMessage,
        getLicenseServerURLFromInitData: getLicenseServerURLFromInitData,
        getClearKeysFromProtectionData: getClearKeysFromProtectionData
    };

    return instance;
}

KeySystemClearKey.__h5player_factory_name = 'KeySystemClearKey';
exports.default = _FactoryMaker2.default.getSingletonFactory(KeySystemClearKey);

},{"13":13}],31:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _CommonEncryption = _dereq_(35);

var _CommonEncryption2 = _interopRequireDefault(_CommonEncryption);

var _Error = _dereq_(51);

var _Error2 = _interopRequireDefault(_Error);

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

var _base = _dereq_(20);

var _base2 = _interopRequireDefault(_base);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

/**
 * The copyright in this software is being made available under the BSD License,
 * included below. This software may be subject to other third party and contributor
 * rights, including patent rights, and no such rights are granted under this license.
 *
 * Copyright (c) 2013, Dash Industry Forum.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *  * Redistributions of source code must retain the above copyright notice, this
 *  list of conditions and the following disclaimer.
 *  * Redistributions in binary form must reproduce the above copyright notice,
 *  this list of conditions and the following disclaimer in the documentation and/or
 *  other materials provided with the distribution.
 *  * Neither the name of Dash Industry Forum nor the names of its
 *  contributors may be used to endorse or promote products derived from this software
 *  without specific prior written permission.
 *
 *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY
 *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 *  POSSIBILITY OF SUCH DAMAGE.
 */

/**
 * Microsoft PlayReady DRM
 *
 * @class
 * @implements KeySystem
 */
var uuid = '9a04f079-9840-4286-ab92-e65be0885f95';
var systemString = 'com.microsoft.playready';
var schemeIdURI = 'urn:uuid:' + uuid;

function KeySystemPlayReady() {

    var instance_ = void 0;
    var messageFormat = 'utf16';

    function getRequestHeadersFromMessage(message) {
        var msg, xmlDoc;
        var headers = {};
        var parser = new DOMParser();
        var dataview = messageFormat === 'utf16' ? new Uint16Array(message) : new Uint8Array(message);

        msg = String.fromCharCode.apply(null, dataview);
        xmlDoc = parser.parseFromString(msg, 'application/xml');

        var headerNameList = xmlDoc.getElementsByTagName('name');
        var headerValueList = xmlDoc.getElementsByTagName('value');
        for (var i = 0; i < headerNameList.length; i++) {
            headers[headerNameList[i].childNodes[0].nodeValue] = headerValueList[i].childNodes[0].nodeValue;
        }
        // some versions of the PlayReady CDM return 'Content' instead of 'Content-Type'.
        // this is NOT w3c conform and license servers may reject the request!
        // -> rename it to proper w3c definition!
        if (headers.hasOwnProperty('Content')) {
            headers['Content-Type'] = headers.Content;
            delete headers.Content;
        }
        return headers;
    }

    function getLicenseRequestFromMessage(message) {
        var msg, xmlDoc;
        var licenseRequest = null;
        var parser = new DOMParser();
        var dataview = messageFormat === 'utf16' ? new Uint16Array(message) : new Uint8Array(message);

        msg = String.fromCharCode.apply(null, dataview);
        xmlDoc = parser.parseFromString(msg, 'application/xml');

        if (xmlDoc.getElementsByTagName('Challenge')[0]) {
            var Challenge = xmlDoc.getElementsByTagName('Challenge')[0].childNodes[0].nodeValue;
            if (Challenge) {
                licenseRequest = _base2.default.decode(Challenge);
            }
        }
        return licenseRequest;
    }

    function getLicenseServerURLFromInitData(initData) {
        if (initData) {
            var data = new DataView(initData);
            var numRecords = data.getUint16(4, true);
            var offset = 6;
            var parser = new DOMParser();

            for (var i = 0; i < numRecords; i++) {
                // Parse the PlayReady Record header
                var recordType = data.getUint16(offset, true);
                offset += 2;
                var recordLength = data.getUint16(offset, true);
                offset += 2;
                if (recordType !== 0x0001) {
                    offset += recordLength;
                    // VO BEGIN - https://sh.visualon.com/node/64225
                    if (offset >= data.byteLength - 2) {
                        return null;
                    }
                    // VO END
                    continue;
                }

                var recordData = initData.slice(offset, offset + recordLength);
                var record = String.fromCharCode.apply(null, new Uint16Array(recordData));
                var xmlDoc = parser.parseFromString(record, 'application/xml');

                // First try <LA_URL>
                if (xmlDoc.getElementsByTagName('LA_URL')[0]) {
                    var laURL = xmlDoc.getElementsByTagName('LA_URL')[0].childNodes[0].nodeValue;
                    if (laURL) {
                        return laURL;
                    }
                }

                // Optionally, try <LUI_URL>
                if (xmlDoc.getElementsByTagName('LUI_URL')[0]) {
                    var luiurl = xmlDoc.getElementsByTagName('LUI_URL')[0].childNodes[0].nodeValue;
                    if (luiurl) {
                        return luiurl;
                    }
                }
            }
        }

        return null;
    }

    function getInitData(cpData) {
        // * desc@ getInitData
        // *   generate PSSH data from PROHeader defined in MPD file
        // *   PSSH format:
        // *   size (4)
        // *   box type(PSSH) (8)
        // *   Protection SystemID (16)
        // *   protection system data size (4) - length of decoded PROHeader
        // *   decoded PROHeader data from MPD file
        var PSSHBoxType = new Uint8Array([0x70, 0x73, 0x73, 0x68, 0x00, 0x00, 0x00, 0x00]); //'PSSH' 8 bytes
        var playreadySystemID = new Uint8Array([0x9a, 0x04, 0xf0, 0x79, 0x98, 0x40, 0x42, 0x86, 0xab, 0x92, 0xe6, 0x5b, 0xe0, 0x88, 0x5f, 0x95]);

        var byteCursor = 0;
        var uint8arraydecodedPROHeader = null;

        var PROSize, PSSHSize, PSSHBoxBuffer, PSSHBox, PSSHData;

        // Handle common encryption PSSH
        if ('pssh' in cpData) {
            return _CommonEncryption2.default.parseInitDataFromContentProtection(cpData);
        }
        // Handle native MS PlayReady ContentProtection elements
        if ('pro' in cpData) {
            uint8arraydecodedPROHeader = _base2.default.decodeArray(cpData.pro.__text);
        } else if ('prheader' in cpData) {
            uint8arraydecodedPROHeader = _base2.default.decodeArray(cpData.prheader.__text);
        } else {
            return null;
        }

        PROSize = uint8arraydecodedPROHeader.length;
        PSSHSize = 0x4 + PSSHBoxType.length + playreadySystemID.length + 0x4 + PROSize;

        PSSHBoxBuffer = new ArrayBuffer(PSSHSize);

        PSSHBox = new Uint8Array(PSSHBoxBuffer);
        PSSHData = new DataView(PSSHBoxBuffer);

        PSSHData.setUint32(byteCursor, PSSHSize);
        byteCursor += 0x4;

        PSSHBox.set(PSSHBoxType, byteCursor);
        byteCursor += PSSHBoxType.length;

        PSSHBox.set(playreadySystemID, byteCursor);
        byteCursor += playreadySystemID.length;

        PSSHData.setUint32(byteCursor, PROSize);
        byteCursor += 0x4;

        PSSHBox.set(uint8arraydecodedPROHeader, byteCursor);
        byteCursor += PROSize;

        return PSSHBox.buffer;
    }

    /**
     * It seems that some PlayReady implementations return their XML-based CDM
     * messages using UTF16, while others return them as UTF8.  Use this function
     * to modify the message format to expect when parsing CDM messages.
     *
     * @param {string} format the expected message format.  Either "utf8" or "utf16".
     * @throws {Error} Specified message format is not one of "utf8" or "utf16"
     */
    function setPlayReadyMessageFormat(format) {
        if (format !== 'utf8' && format !== 'utf16') {
            throw new _Error2.default('Illegal PlayReady message format! -- ' + format);
        }
        messageFormat = format;
    }

    instance_ = {
        uuid: uuid,
        schemeIdURI: schemeIdURI,
        systemString: systemString,
        getInitData: getInitData,
        getRequestHeadersFromMessage: getRequestHeadersFromMessage,
        getLicenseRequestFromMessage: getLicenseRequestFromMessage,
        getLicenseServerURLFromInitData: getLicenseServerURLFromInitData,
        setPlayReadyMessageFormat: setPlayReadyMessageFormat
    };

    return instance_;
}

KeySystemPlayReady.__h5player_factory_name = 'KeySystemPlayReady';
exports.default = _FactoryMaker2.default.getSingletonFactory(KeySystemPlayReady);

},{"13":13,"20":20,"35":35,"51":51}],32:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _CommonEncryption = _dereq_(35);

var _CommonEncryption2 = _interopRequireDefault(_CommonEncryption);

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

var uuid = 'edef8ba9-79d6-4ace-a3c8-27dcd51d21ed';
var systemString = 'com.widevine.alpha';
var schemeIdURI = 'urn:uuid:' + uuid;

function KeySystemWidevine() {

    var instance_ = void 0;

    function getInitData(cp) {
        return _CommonEncryption2.default.parseInitDataFromContentProtection(cp);
    }

    function getRequestHeadersFromMessage() /*message*/{
        return null;
    }

    function getLicenseRequestFromMessage(message) {
        return new Uint8Array(message);
    }

    function getLicenseServerURLFromInitData() /*initData*/{
        return null;
    }

    instance_ = {
        uuid: uuid,
        schemeIdURI: schemeIdURI,
        systemString: systemString,
        getInitData: getInitData,
        getRequestHeadersFromMessage: getRequestHeadersFromMessage,
        getLicenseRequestFromMessage: getLicenseRequestFromMessage,
        getLicenseServerURLFromInitData: getLicenseServerURLFromInitData
    };

    return instance_;
}

KeySystemWidevine.__h5player_factory_name = 'KeySystemWidevine';
exports.default = _FactoryMaker2.default.getSingletonFactory(KeySystemWidevine);

},{"13":13,"35":35}],33:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

var _string_utils = _dereq_(53);

var _string_utils2 = _interopRequireDefault(_string_utils);

var _CommonEncryption = _dereq_(35);

var _CommonEncryption2 = _interopRequireDefault(_CommonEncryption);

var _MediaCapability = _dereq_(38);

var _MediaCapability2 = _interopRequireDefault(_MediaCapability);

var _KeySystemConfiguration = _dereq_(37);

var _KeySystemConfiguration2 = _interopRequireDefault(_KeySystemConfiguration);

var _KeySystemWidevine = _dereq_(32);

var _KeySystemWidevine2 = _interopRequireDefault(_KeySystemWidevine);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

// This takes the place of a license server.
// kids is an array of base64-encoded key IDs
// keys is an array of base64-encoded keys
function generateLicense(message, key) {
    // Parse the clearkey license request.
    var request = JSON.parse(new TextDecoder().decode(message));
    // We only know one key, so there should only be one key ID.
    // A real license server could easily serve multiple keys.
    console.assert(request.kids.length === 1);

    var keyObj = {
        kty: 'oct',
        //alg: 'A128KW',
        kid: request.kids[0],
        k: _string_utils2.default.u8arrToB64(key)
    };
    return new TextEncoder().encode(JSON.stringify({
        keys: [keyObj]
    }));
}

function dumpKSConfig(ksString, ksConfig) {
    console.log('H5Player, requestMediaKeySystemAccess, keySystem_ = ' + ksString);
    console.log('H5Player, requestMediaKeySystemAccess, config, initDataTypes: ' + ksConfig.initDataTypes[0]);
    console.log('H5Player, requestMediaKeySystemAccess, config, distinctiveIdentifier: ' + ksConfig.distinctiveIdentifier);
    console.log('H5Player, requestMediaKeySystemAccess, config, persistentState: ' + ksConfig.persistentState);
    console.log('H5Player, requestMediaKeySystemAccess, config, sessionTypes: ' + ksConfig.sessionTypes[0]);
    console.log('H5Player, requestMediaKeySystemAccess, config, videoCapabilities[0].contentType: ' + ksConfig.videoCapabilities[0].contentType);
    console.log('H5Player, requestMediaKeySystemAccess, config, videoCapabilities[0].robustness: ' + ksConfig.videoCapabilities[0].robustness);

    // liteH5Player.debug.js:3558 H5Player, requestMediaKeySystemAccess, keySystem_ = com.chromecast.playready
    // liteH5Player.debug.js:3559 H5Player, requestMediaKeySystemAccess, config, initDataTypes: cenc
    // liteH5Player.debug.js:3560 H5Player, requestMediaKeySystemAccess, config, distinctiveIdentifier: optional
    // liteH5Player.debug.js:3561 H5Player, requestMediaKeySystemAccess, config, persistentState: optional
    // liteH5Player.debug.js:3562 H5Player, requestMediaKeySystemAccess, config, sessionTypes: temporary
    // liteH5Player.debug.js:3563 H5Player, requestMediaKeySystemAccess, config, videoCapabilities[0].contentType: video/mp4; codecs="avc1.42C014"
    // liteH5Player.debug.js:3564 H5Player, requestMediaKeySystemAccess, config, videoCapabilities[0].robustness: 

    // shaka-player.compiled.debug.js:100 DRM: queryMediaKeys_, keySystem: com.chromecast.playready
    // shaka-player.compiled.debug.js:100 DRM: queryMediaKeys_, videoCapabilities = [object Object]
    // shaka-player.compiled.debug.js:100 DRM: queryMediaKeys_, distinctiveIdentifier = optional
    // shaka-player.compiled.debug.js:100 DRM: queryMediaKeys_, persistentState = optional
    // shaka-player.compiled.debug.js:100 DRM: queryMediaKeys_, sessionTypes = temporary
    // shaka-player.compiled.debug.js:100 DRM: queryMediaKeys_, label = com.chromecast.playready
    // shaka-player.compiled.debug.js:100 DRM: queryMediaKeys_, drmInfos = [object Object]
    // shaka-player.compiled.debug.js:100 DRM: queryMediaKeys_, videoCapabilities[0].contentType video/mp4; codecs="avc1.42C014"
    // shaka-player.compiled.debug.js:100 DRM: queryMediaKeys_, videoCapabilities[0].robustness 

    // for (var i in ksConfig) {
    //     console.log('H5Player, ' + i + ' = ' + ksConfig[i]);
    // }
}

/**
 * Most recent EME implementation
 *
 * Implemented by Google Chrome v36+ (Windows, OSX, Linux), Edge
 */

var ProtectionModel_21Jan2015 = function ProtectionModel_21Jan2015() {
    this.media_ = null;

    this.initDataType_ = null;
    this.initData_ = null;
    this.keySystem_ = null;

    this.streamInfo_ = null;

    this.promiseAction_ = null;
};

ProtectionModel_21Jan2015.prototype.attachMedia = function (media) {
    this.media_ = media;
    this.media_.addEventListener('encrypted', this.onNeedKey.bind(this), false);
};

ProtectionModel_21Jan2015.prototype.detachMedia = function () {
    if (this.media_) {
        this.media_.removeEventListener('encrypted', this.onNeedKey.bind(this), false);
        this.media_ = null;
    }
};

ProtectionModel_21Jan2015.prototype.setKeySystem = function (keySystem) {
    this.keySystem_ = keySystem;
};

// ev.initData: it is pssh data hidden in mp4 pssh box
ProtectionModel_21Jan2015.prototype.onNeedKey = function (ev) {
    console.log('onNeedKey, initDataType: ' + ev.initDataType);
    console.log('onNeedKey, initData length: ' + ev.initData.byteLength);
    console.log('onNeedKey, initData', _string_utils2.default.ab2str_v1(ev.initData));

    // 
    if (this.streamInfo_.drm.initDataType && this.streamInfo_.drm.initData) {
        this.initDataType_ = this.streamInfo_.drm.initDataType;
        this.initData_ = this.streamInfo_.drm.initData;
    } else {
        this.initDataType_ = ev.initDataType;
        this.initData_ = ev.initData;
    }

    // BD
    // var pssh = CommonEncryption.parsePSSHList(ev.initData);
    // let a1 = StringUtils.ab2str_v1(pssh['edef8ba9-79d6-4ace-a3c8-27dcd51d21ed']);
    // let a2 = StringUtils.ab2str_v1(pssh['9a04f079-9840-4286-ab92-e65be0885f95']);
    // console.log('DRM, a1: ' + a1);
    // console.log('DRM, a2: ' + a2);
    // ED

    this.requestKeySystemAccess();
};

ProtectionModel_21Jan2015.prototype.onSessionMessage = function (ev) {
    console.log('message event: ', ev);
    // If you had a license server, you would make an asynchronous XMLHttpRequest
    // with event.message as the body.  The response from the server, as a
    // Uint8Array, would then be passed to session.update().
    // Instead, we will generate the license synchronously on the client, using
    // the hard-coded KEY at the top.

    console.log('session message, length: ' + ev.message.byteLength);
    console.log('session message, data:', _string_utils2.default.ab2str_v1(ev.message));

    // Determine license server URL
    var laUrl = this.streamInfo_.drm.laUrl;

    if (!laUrl) {
        console.log('DRM: no license url');

        if (this.streamInfo_.drm.type === 'org.w3.clearkey') {
            var license = generateLicense(event.message, this.streamInfo_.drm.key);
            console.log('license: ', license);
            var session = ev.target;
            session.update(license);
        }

        return;
    }
    var self = this;
    //
    // All remaining key system scenarios require a request to a remote license server
    var xhr = new XMLHttpRequest();

    xhr.open('POST', laUrl, true);
    xhr.responseType = 'arraybuffer';
    xhr.timeout = 0;
    xhr.withCredentials = false;

    console.log('DRM: open method: POST');
    console.log('DRM: timeout: ' + xhr.timeout);
    console.log('DRM: withCredentials: ' + xhr.withCredentials);
    console.log('DRM: message: ' + _string_utils2.default.ab2str_v1(ev.message));
    xhr.onload = function (event) {
        if (this.status == 200) {
            var data = this.response;

            console.log('DRM: request response length: ' + data.byteLength);
            self.session_.update(new Uint8Array(this.response));
        }
    };
    xhr.onabort = function () {
        console.log('license request abort');
    };
    xhr.onerror = function () {
        console.log('license request error');
    };

    // BD
    var updateHeaders = function updateHeaders(headers) {
        var key;
        if (headers) {
            for (key in headers) {
                console.log('DRM: key: ' + key + ', value: ' + headers[key]);
                xhr.setRequestHeader(key, headers[key]);
            }
        }
    };

    updateHeaders(this.streamInfo_.drm.headers);
    // ED

    //xhr.setRequestHeader('Content-Type', 'text/xml; charset=utf-8');
    //xhr.setRequestHeader('SOAPAction', '\"http://schemas.microsoft.com/DRM/2007/03/protocols/AcquireLicense\"');
    var body = this.keySystem_.getLicenseRequestFromMessage(ev.message);
    console.log('body: ', body);
    xhr.send(body);
};

ProtectionModel_21Jan2015.prototype.onSessionChange = function (ev) {
    var a = 2;
    var b = a;
};

ProtectionModel_21Jan2015.prototype.setDrmInfo = function (streamInfo) {
    console.log('--setDrmInfo in 21Jan2015--');
    this.streamInfo_ = streamInfo;
};

ProtectionModel_21Jan2015.prototype.requestKeySystemAccess = function () {
    var audioCapabilities = [];
    var videoCapabilities = [];
    var robustnessLevel = ''; // SW_SECURE_CRYPTO
    if (this.streamInfo_.audioCodec) {
        audioCapabilities.push(new _MediaCapability2.default(this.streamInfo_.audioCodec, robustnessLevel));
    }
    if (this.streamInfo_.videoCodec) {
        videoCapabilities.push(new _MediaCapability2.default(this.streamInfo_.videoCodec, robustnessLevel));
    }

    var ksConfig = new _KeySystemConfiguration2.default(audioCapabilities, videoCapabilities, 'optional', 'optional', ['temporary']);

    var configs_ = [];
    configs_.push(ksConfig);

    // BD
    //dumpKSConfig(this.keySystem_.systemString, ksConfig);
    // ED

    if (this.promiseAction_) {
        return;
    }

    var self = this;
    this.promiseAction_ = navigator.requestMediaKeySystemAccess(self.keySystem_.systemString, configs_).then(function (keySystemAccess) {
        console.log('H5Player, requestMediaKeySystemAccess is ok');
        return keySystemAccess.createMediaKeys();
    }).then(function (mediaKeys) {
        console.log('H5Player, createMediaKeys is ok, mediaKeys: ' + mediaKeys);
        var ret = self.media_.setMediaKeys(mediaKeys);
        return ret;
    }).then(function () {
        // create session
        var mediaKeys = self.media_.mediaKeys;
        self.session_ = mediaKeys.createSession('temporary');
        self.session_.addEventListener('message', self.onSessionMessage.bind(self), false);
        self.session_.addEventListener('keystatuseschange', self.onSessionChange.bind(self), false);
        self.session_.generateRequest(self.initDataType_, self.initData_).then(function () {
            console.log('generateRequest is ok');
        }).catch(function (error) {
            console.error('generateRequest failed at: ', error);
        });
    }).catch(function (error) {
        console.error('Failed to set up MediaKeys', error);
    });
};

exports.default = ProtectionModel_21Jan2015;

},{"13":13,"32":32,"35":35,"37":37,"38":38,"53":53}],34:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

var _string_utils = _dereq_(53);

var _string_utils2 = _interopRequireDefault(_string_utils);

var _MediaCapability = _dereq_(38);

var _MediaCapability2 = _interopRequireDefault(_MediaCapability);

var _KeySystemConfiguration = _dereq_(37);

var _KeySystemConfiguration2 = _interopRequireDefault(_KeySystemConfiguration);

var _KSUtils = _dereq_(36);

var _KSUtils2 = _interopRequireDefault(_KSUtils);

var _CommonEncryption = _dereq_(35);

var _CommonEncryption2 = _interopRequireDefault(_CommonEncryption);

var _base = _dereq_(20);

var _base2 = _interopRequireDefault(_base);

var _KeySystemPlayReady = _dereq_(31);

var _KeySystemPlayReady2 = _interopRequireDefault(_KeySystemPlayReady);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

/**
 * Most recent EME implementation
 *
 * Implemented by IE11
 */
function ProtectionModel_3Feb2014(media) {
    var context_ = this.context;
    var instance_ = null;
    var media_ = null;
    var streamInfo_ = null;
    var session_ = null;
    var keySystem_ = null;
    var mediaKeys_ = null;

    function attachMedia(media) {
        media_ = media;

        media_.addEventListener('msneedkey', onNeedKey);
    }

    function detachMedia() {
        if (media_) {
            media_.addEventListener('msneedkey', onNeedKey);
        }
    }

    function setKeySystem(keySystem) {
        keySystem_ = keySystem;
    }

    function setDrmInfo(streamInfo) {
        streamInfo_ = streamInfo;
    }

    function onNeedKey(ev) {
        var initDataType = 'cenc';
        // Some browsers return initData as Uint8Array (IE), some as ArrayBuffer (Chrome).
        // Convert to ArrayBuffer
        var abInitData = ev.initData;
        if (ArrayBuffer.isView(abInitData)) {
            abInitData = abInitData.buffer;
        }

        var pssh = _CommonEncryption2.default.parsePSSHList(abInitData);
        var uuid = _KSUtils2.default.GetKSUUID(streamInfo_.drm.type);

        var actualInitData = pssh[uuid];

        // select key system
        if (media_.readyState >= 1) {
            mediaKeys_ = new window.MSMediaKeys(keySystem_.systemString);
            media_.msSetMediaKeys(mediaKeys_);

            session_ = mediaKeys_.createSession(streamInfo_.videoCodec, new Uint8Array(abInitData));
            session_.addEventListener('mskeyerror', onSessionError);
            session_.addEventListener('mskeymessage', onSessionMessage);
            session_.addEventListener('mskeyadded', onSessionAdded);
            session_.addEventListener('mskeyclose', onSessionClose);
        }
    }

    function onSessionError(ev) {}

    function onSessionMessage(ev) {
        console.log("DRM: Key Message");

        var abMessage = ev.message;
        if (ArrayBuffer.isView(abMessage)) {
            abMessage = abMessage.buffer;
        }

        // license request here
        var xhr = new XMLHttpRequest();
        xhr.open('POST', streamInfo_.drm.laUrl, true);
        xhr.responseType = 'arraybuffer';
        xhr.onload = function () {
            if (this.status === 200) {
                session_.update(new Uint8Array(this.response));
            }
        };
        xhr.onabort = function () {
            console.log('DRM: xhr abort');
        };
        xhr.onerror = function () {
            console.log('DRM: xhr error');
        };

        // 
        var headers = keySystem_.getRequestHeadersFromMessage(abMessage);
        for (var key in headers) {
            if ('authorization' === key.toLowerCase()) {
                xhr.withCredentials = true;
            }
            xhr.setRequestHeader(key, headers[key]);
        }

        xhr.send(keySystem_.getLicenseRequestFromMessage(abMessage));
    }

    function onSessionAdded(ev) {
        console.log('DRM: Key added');
    }

    function onSessionClose(ev) {}

    function requestKeySystemAccess() {
        var ksString = _KSUtils2.default.GetKSString(streamInfo_.drm.type);

        var audioCapabilities = [];
        var videoCapabilities = [];
        var robustnessLevel = '';
        if (streamInfo_.audioCodec) {
            audioCapabilities.push(new _MediaCapability2.default(streamInfo_.audioCodec, robustnessLevel));
        }
        if (streamInfo_.videoCodec) {
            videoCapabilities.push(new _MediaCapability2.default(streamInfo_.videoCodec, robustnessLevel));
        }

        var ksConfig = new _KeySystemConfiguration2.default(audioCapabilities, videoCapabilities, 'optional', 'optional', ['temporary']);

        var configs_ = [];
        configs_.push(ksConfig);

        // check is supported?
        for (var configIdx = 0; configIdx < configs_.length; configIdx++) {
            var videos = configs_[configIdx].videoCapabilities;

            // Look for supported video container/codecs
            if (videos && videos.length !== 0) {
                for (var videoIdx = 0; videoIdx < videos.length; videoIdx++) {
                    if (window['MSMediaKeys'].isTypeSupported(ksString, videos[videoIdx].contentType)) {}
                }
            }
        }

        // 
        selectKeySystem(ksString);
    }

    function selectKeySystem(ksString) {
        var mediaKeys = new window['MSMediaKeys'](ksString);

        if (media_.readyState >= 1) {
            media_.msSetMediaKeys(mediaKeys);
        }
    }

    function createKeySession(initData) {}

    instance_ = {
        attachMedia: attachMedia,
        detachMedia: detachMedia,
        setKeySystem: setKeySystem,
        setDrmInfo: setDrmInfo
    };
    return instance_;
}

exports.default = ProtectionModel_3Feb2014;

},{"13":13,"20":20,"31":31,"35":35,"36":36,"37":37,"38":38,"53":53}],35:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () {
    function defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);
        }
    }return function (Constructor, protoProps, staticProps) {
        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;
    };
}(); /**
      * The copyright in this software is being made available under the BSD License,
      * included below. This software may be subject to other third party and contributor
      * rights, including patent rights, and no such rights are granted under this license.
      *
      * Copyright (c) 2013, Dash Industry Forum.
      * All rights reserved.
      *
      * Redistribution and use in source and binary forms, with or without modification,
      * are permitted provided that the following conditions are met:
      *  * Redistributions of source code must retain the above copyright notice, this
      *  list of conditions and the following disclaimer.
      *  * Redistributions in binary form must reproduce the above copyright notice,
      *  this list of conditions and the following disclaimer in the documentation and/or
      *  other materials provided with the distribution.
      *  * Neither the name of Dash Industry Forum nor the names of its
      *  contributors may be used to endorse or promote products derived from this software
      *  without specific prior written permission.
      *
      *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY
      *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
      *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
      *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
      *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
      *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
      *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
      *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
      *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
      *  POSSIBILITY OF SUCH DAMAGE.
      */

var _base = _dereq_(20);

var _base2 = _interopRequireDefault(_base);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

var CommonEncryption = function () {
    function CommonEncryption() {
        _classCallCheck(this, CommonEncryption);
    }

    _createClass(CommonEncryption, null, [{
        key: 'findCencContentProtection',

        /**
         * Find and return the ContentProtection element in the given array
         * that indicates support for MPEG Common Encryption
         *
         * @param {Array} cpArray array of content protection elements
         * @returns {Object|null} the Common Encryption content protection element or
         * null if one was not found
         */
        value: function findCencContentProtection(cpArray) {
            var retVal = null;
            for (var i = 0; i < cpArray.length; ++i) {
                var cp = cpArray[i];
                if (cp.schemeIdUri.toLowerCase() === 'urn:mpeg:dash:mp4protection:2011' && cp.value.toLowerCase() === 'cenc') retVal = cp;
            }
            return retVal;
        }

        /**
         * Returns just the data portion of a single PSSH
         *
         * @param {ArrayBuffer} pssh - the PSSH
         * @return {ArrayBuffer} data portion of the PSSH
         */

    }, {
        key: 'getPSSHData',
        value: function getPSSHData(pssh) {
            var offset = 8; // Box size and type fields
            var view = new DataView(pssh);

            // Read version
            var version = view.getUint8(offset);

            offset += 20; // Version (1), flags (3), system ID (16)

            if (version > 0) {
                offset += 4 + 16 * view.getUint32(offset); // Key ID count (4) and All key IDs (16*count)
            }

            offset += 4; // Data size
            return pssh.slice(offset);
        }

        /**
         * Returns the PSSH associated with the given key system from the concatenated
         * list of PSSH boxes in the given initData
         *
         * @param {KeySystem} keySystem the desired
         * key system
         * @param {ArrayBuffer} initData 'cenc' initialization data.  Concatenated list of PSSH.
         * @returns {ArrayBuffer|null} The PSSH box data corresponding to the given key system, null if not found
         * or null if a valid association could not be found.
         */

    }, {
        key: 'getPSSHForKeySystem',
        value: function getPSSHForKeySystem(keySystem, initData) {
            var psshList = CommonEncryption.parsePSSHList(initData);
            if (psshList.hasOwnProperty(keySystem.uuid.toLowerCase())) {
                return psshList[keySystem.uuid.toLowerCase()];
            }
            return null;
        }

        /**
         * Parse a standard common encryption PSSH which contains a simple
         * base64-encoding of the init data
         *
         * @param {Object} cpData the ContentProtection element
         * @returns {ArrayBuffer|null} the init data or null if not found
         */

    }, {
        key: 'parseInitDataFromContentProtection',
        value: function parseInitDataFromContentProtection(cpData) {
            if ('pssh' in cpData) {
                return _base2.default.decodeArray(cpData.pssh.__text).buffer;
            }
            return null;
        }

        /**
         * Parses list of PSSH boxes into keysystem-specific PSSH data
         *
         * @param {ArrayBuffer} data - the concatenated list of PSSH boxes as provided by
         * CDM as initialization data when CommonEncryption content is detected
         * @returns {Object|Array} an object that has a property named according to each of
         * the detected key system UUIDs (e.g. 00000000-0000-0000-0000-0000000000)
         * and a ArrayBuffer (the entire PSSH box) as the property value
         */
        // you can refer https://www.w3.org/TR/eme-initdata-cenc/ for more detail.

    }, {
        key: 'parsePSSHList',
        value: function parsePSSHList(data) {

            if (data === null) return [];

            var dv = new DataView(data);
            var done = false;
            var pssh = {};

            // TODO: Need to check every data read for end of buffer
            var byteCursor = 0;
            while (!done) {

                var size, nextBox, version, systemID, psshDataSize;
                var boxStart = byteCursor;

                if (byteCursor >= dv.buffer.byteLength) break;

                /* Box size */
                size = dv.getUint32(byteCursor);
                nextBox = byteCursor + size;
                byteCursor += 4;

                /* Verify PSSH */
                if (dv.getUint32(byteCursor) !== 0x70737368) {
                    byteCursor = nextBox;
                    continue;
                }
                byteCursor += 4;

                /* Version must be 0 or 1 */
                version = dv.getUint8(byteCursor);
                if (version !== 0 && version !== 1) {
                    byteCursor = nextBox;
                    continue;
                }
                byteCursor++;

                byteCursor += 3; /* skip flags */

                // 16-byte UUID/SystemID
                systemID = '';
                var i, val;
                for (i = 0; i < 4; i++) {
                    val = dv.getUint8(byteCursor + i).toString(16);
                    systemID += val.length === 1 ? '0' + val : val;
                }
                byteCursor += 4;
                systemID += '-';
                for (i = 0; i < 2; i++) {
                    val = dv.getUint8(byteCursor + i).toString(16);
                    systemID += val.length === 1 ? '0' + val : val;
                }
                byteCursor += 2;
                systemID += '-';
                for (i = 0; i < 2; i++) {
                    val = dv.getUint8(byteCursor + i).toString(16);
                    systemID += val.length === 1 ? '0' + val : val;
                }
                byteCursor += 2;
                systemID += '-';
                for (i = 0; i < 2; i++) {
                    val = dv.getUint8(byteCursor + i).toString(16);
                    systemID += val.length === 1 ? '0' + val : val;
                }
                byteCursor += 2;
                systemID += '-';
                for (i = 0; i < 6; i++) {
                    val = dv.getUint8(byteCursor + i).toString(16);
                    systemID += val.length === 1 ? '0' + val : val;
                }
                byteCursor += 6;

                systemID = systemID.toLowerCase();

                /* PSSH Data Size */
                psshDataSize = dv.getUint32(byteCursor);
                byteCursor += 4;

                /* PSSH Data */
                pssh[systemID] = dv.buffer.slice(boxStart, nextBox);
                byteCursor = nextBox;
            }

            return pssh;
        }
    }]);

    return CommonEncryption;
}();

exports.default = CommonEncryption;

},{"20":20}],36:[function(_dereq_,module,exports){
'use strict';

var KSUtils = {
    GetKSString: function GetKSString(drmType) {
        if (drmType === 'widevine') {
            return 'com.widevine.alpha';
        } else if (drmType === 'playready') {
            return 'com.microsoft.playready';
        } else if (drmType === 'chromecast.playready') {
            return 'com.chromecast.playready';
        }
    },

    GetKSUUID: function GetKSUUID(drmType) {
        if (drmType === 'widevine') {
            return 'edef8ba9-79d6-4ace-a3c8-27dcd51d21ed';
        } else if (drmType === 'playready') {
            return '9a04f079-9840-4286-ab92-e65be0885f95';
        } else if (drmType === 'chromecast.playready') {
            return '9a04f079-9840-4286-ab92-e65be0885f95';
        }
    }
};

module.exports = KSUtils;

},{}],37:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
    }
}

/**
 * The copyright in this software is being made available under the BSD License,
 * included below. This software may be subject to other third party and contributor
 * rights, including patent rights, and no such rights are granted under this license.
 *
 * Copyright (c) 2013, Dash Industry Forum.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *  * Redistributions of source code must retain the above copyright notice, this
 *  list of conditions and the following disclaimer.
 *  * Redistributions in binary form must reproduce the above copyright notice,
 *  this list of conditions and the following disclaimer in the documentation and/or
 *  other materials provided with the distribution.
 *  * Neither the name of Dash Industry Forum nor the names of its
 *  contributors may be used to endorse or promote products derived from this software
 *  without specific prior written permission.
 *
 *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY
 *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 *  POSSIBILITY OF SUCH DAMAGE.
 */

/**
 * @classdesc Represents a set of configurations that describe the capabilities desired for
 *  support by a given CDM
 * @ignore
 */
var KeySystemConfiguration =
/**
 * @param {Array.<MediaCapability>} audioCapabilities array of
 * desired audio capabilities.  Higher preference capabilities should be placed earlier
 * in the array.
 * @param {Array.<MediaCapability>} videoCapabilities array of
 * desired video capabilities.  Higher preference capabilities should be placed earlier
 * in the array.
 * @param {string} distinctiveIdentifier desired use of distinctive identifiers.
 * One of "required", "optional", or "not-allowed"
 * @param {string} persistentState desired support for persistent storage of
 * key systems.  One of "required", "optional", or "not-allowed"
 * @param {Array.<string>} sessionTypes List of session types that must
 * be supported by the key system
 * @class
 */
function KeySystemConfiguration(audioCapabilities, videoCapabilities, distinctiveIdentifier, persistentState, sessionTypes) {
    _classCallCheck(this, KeySystemConfiguration);

    // new
    //this.initDataTypes = [ 'keyids' ];
    this.initDataTypes = ['cenc'];

    if (audioCapabilities && audioCapabilities.length) {
        this.audioCapabilities = audioCapabilities;
    }
    if (videoCapabilities && videoCapabilities.length) {
        this.videoCapabilities = videoCapabilities;
    }
    this.distinctiveIdentifier = distinctiveIdentifier;
    this.persistentState = persistentState;
    this.sessionTypes = sessionTypes;
};

exports.default = KeySystemConfiguration;

},{}],38:[function(_dereq_,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

/**
 * The copyright in this software is being made available under the BSD License,
 * included below. This software may be subject to other third party and contributor
 * rights, including patent rights, and no such rights are granted under this license.
 *
 * Copyright (c) 2013, Dash Industry Forum.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *  * Redistributions of source code must retain the above copyright notice, this
 *  list of conditions and the following disclaimer.
 *  * Redistributions in binary form must reproduce the above copyright notice,
 *  this list of conditions and the following disclaimer in the documentation and/or
 *  other materials provided with the distribution.
 *  * Neither the name of Dash Industry Forum nor the names of its
 *  contributors may be used to endorse or promote products derived from this software
 *  without specific prior written permission.
 *
 *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY
 *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 *  POSSIBILITY OF SUCH DAMAGE.
 */
/**
 * @classdesc A media capability
 * @ignore
 */
var MediaCapability =
/**
 * @param {string} contentType MIME type and codecs (RFC6386)
 * @param {string} robustness
 * @class
 * @ignore
 */
function MediaCapability(contentType, robustness) {
  _classCallCheck(this, MediaCapability);

  this.contentType = contentType;
  this.robustness = robustness;
};

exports.default = MediaCapability;

},{}],39:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _IsoFile = _dereq_(41);

var _IsoFile2 = _interopRequireDefault(_IsoFile);

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

var _codemIsoboxer = _dereq_(1);

var _codemIsoboxer2 = _interopRequireDefault(_codemIsoboxer);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

function BoxParser() /*config*/{

    var instance = void 0;
    var context = this.context;

    /**
     * @param {ArrayBuffer} data
     * @returns {IsoFile|null}
     * @memberof BoxParser#
     */
    function parse(data) {
        if (!data) return null;

        if (data.fileStart === undefined) {
            data.fileStart = 0;
        }

        var parsedFile = _codemIsoboxer2.default.parseBuffer(data);
        var dashIsoFile = (0, _IsoFile2.default)(context).create();

        dashIsoFile.setData(parsedFile);

        return dashIsoFile;
    }

    instance = {
        parse: parse
    };

    return instance;
} /**
   * The copyright in this software is being made available under the BSD License,
   * included below. This software may be subject to other third party and contributor
   * rights, including patent rights, and no such rights are granted under this license.
   *
   * Copyright (c) 2013, Dash Industry Forum.
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without modification,
   * are permitted provided that the following conditions are met:
   *  * Redistributions of source code must retain the above copyright notice, this
   *  list of conditions and the following disclaimer.
   *  * Redistributions in binary form must reproduce the above copyright notice,
   *  this list of conditions and the following disclaimer in the documentation and/or
   *  other materials provided with the distribution.
   *  * Neither the name of Dash Industry Forum nor the names of its
   *  contributors may be used to endorse or promote products derived from this software
   *  without specific prior written permission.
   *
   *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY
   *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
   *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
   *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
   *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
   *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
   *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
   *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   *  POSSIBILITY OF SUCH DAMAGE.
   */

BoxParser.__h5player_factory_name = 'BoxParser';
exports.default = _FactoryMaker2.default.getSingletonFactory(BoxParser);

},{"1":1,"13":13,"41":41}],40:[function(_dereq_,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

/**
 * The copyright in this software is being made available under the BSD License,
 * included below. This software may be subject to other third party and contributor
 * rights, including patent rights, and no such rights are granted under this license.
 *
 * Copyright (c) 2013, Dash Industry Forum.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *  * Redistributions of source code must retain the above copyright notice, this
 *  list of conditions and the following disclaimer.
 *  * Redistributions in binary form must reproduce the above copyright notice,
 *  this list of conditions and the following disclaimer in the documentation and/or
 *  other materials provided with the distribution.
 *  * Neither the name of Dash Industry Forum nor the names of its
 *  contributors may be used to endorse or promote products derived from this software
 *  without specific prior written permission.
 *
 *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY
 *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 *  POSSIBILITY OF SUCH DAMAGE.
 */
/**
 * @class
 * @ignore
 */
var IsoBox = function IsoBox() {
  _classCallCheck(this, IsoBox);

  this.offset = NaN;
  this.type = null;
  this.size = NaN;
  this.isComplete = true;
};

exports.default = IsoBox;

},{}],41:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _IsoBox = _dereq_(40);

var _IsoBox2 = _interopRequireDefault(_IsoBox);

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

/**
 * The copyright in this software is being made available under the BSD License,
 * included below. This software may be subject to other third party and contributor
 * rights, including patent rights, and no such rights are granted under this license.
 *
 * Copyright (c) 2013, Dash Industry Forum.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *  * Redistributions of source code must retain the above copyright notice, this
 *  list of conditions and the following disclaimer.
 *  * Redistributions in binary form must reproduce the above copyright notice,
 *  this list of conditions and the following disclaimer in the documentation and/or
 *  other materials provided with the distribution.
 *  * Neither the name of Dash Industry Forum nor the names of its
 *  contributors may be used to endorse or promote products derived from this software
 *  without specific prior written permission.
 *
 *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY
 *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 *  POSSIBILITY OF SUCH DAMAGE.
 */

function IsoFile() {

    var instance = void 0,
        parsedIsoFile = void 0,
        commonProps = void 0,
        sidxProps = void 0,
        sidxRefProps = void 0,
        emsgProps = void 0,
        mdhdProps = void 0,
        mfhdProps = void 0,
        tfhdProps = void 0,
        tfdtProps = void 0,
        trunProps = void 0,
        trunSampleProps = void 0;

    /**
    * @param {string} type
    * @returns {IsoBox|null}
    * @memberof IsoFile#
    */
    function getBox(type) {
        if (!type || !parsedIsoFile || !parsedIsoFile.boxes || parsedIsoFile.boxes.length === 0) return null;

        return convertToDashIsoBox(parsedIsoFile.fetch(type));
    }

    /**
    * @param {string} type
    * @returns {Array} array of {@link IsoBox}
    * @memberof IsoFile#
    */
    function getBoxes(type) {
        var boxData = parsedIsoFile.fetchAll(type);
        var boxes = [];
        var box;

        for (var i = 0, ln = boxData.length; i < ln; i++) {
            box = convertToDashIsoBox(boxData[i]);

            if (box) {
                boxes.push(box);
            }
        }

        return boxes;
    }

    /**
    * @param {string} value
    * @memberof IsoFile#
    */
    function setData(value) {
        parsedIsoFile = value;
    }

    /**
    * @returns {IsoBox|null}
    * @memberof IsoFile#
    */
    function getLastBox() {
        if (!parsedIsoFile || !parsedIsoFile.boxes || !parsedIsoFile.boxes.length) return null;

        var type = parsedIsoFile.boxes[parsedIsoFile.boxes.length - 1].type;
        var boxes = getBoxes(type);

        return boxes[boxes.length - 1];
    }

    /**
    * @returns {number}
    * @memberof IsoFile#
    */
    function getOffset() {
        return parsedIsoFile._cursor.offset;
    }

    function setup() {
        commonProps = {
            offset: '_offset',
            size: 'size',
            type: 'type'
        };

        sidxProps = {
            references: 'references',
            timescale: 'timescale',
            earliest_presentation_time: 'earliest_presentation_time',
            first_offset: 'first_offset'
        };

        sidxRefProps = {
            reference_type: 'reference_type',
            referenced_size: 'referenced_size',
            subsegment_duration: 'subsegment_duration'
        };

        emsgProps = {
            id: 'id',
            value: 'value',
            timescale: 'timescale',
            scheme_id_uri: 'scheme_id_uri',
            presentation_time_delta: 'presentation_time_delta',
            event_duration: 'event_duration',
            message_data: 'message_data'
        };

        mdhdProps = {
            timescale: 'timescale'
        };

        mfhdProps = {
            sequence_number: 'sequence_number'
        };

        tfhdProps = {
            base_data_offset: 'base_data_offset',
            sample_description_index: 'sample_description_index',
            default_sample_duration: 'default_sample_duration',
            default_sample_size: 'default_sample_size',
            default_sample_flags: 'default_sample_flags',
            flags: 'flags'
        };

        tfdtProps = {
            version: 'version',
            baseMediaDecodeTime: 'baseMediaDecodeTime',
            flags: 'flags'
        };

        trunProps = {
            sample_count: 'sample_count',
            first_sample_flags: 'first_sample_flags',
            data_offset: 'data_offset',
            flags: 'flags',
            samples: 'samples'
        };

        trunSampleProps = {
            sample_size: 'sample_size',
            sample_duration: 'sample_duration',
            sample_composition_time_offset: 'sample_composition_time_offset'
        };
    }

    function copyProps(from, to, props) {
        for (var prop in props) {
            to[prop] = from[props[prop]];
        }
    }

    function convertToDashIsoBox(boxData) {
        if (!boxData) return null;

        var box = new _IsoBox2.default();
        var i, ln;

        copyProps(boxData, box, commonProps);

        if (boxData.hasOwnProperty('_incomplete')) {
            box.isComplete = !boxData._incomplete;
        }

        switch (box.type) {
            case 'sidx':
                copyProps(boxData, box, sidxProps);
                if (box.references) {
                    for (i = 0, ln = box.references.length; i < ln; i++) {
                        copyProps(boxData.references[i], box.references[i], sidxRefProps);
                    }
                }
                break;
            case 'emsg':
                copyProps(boxData, box, emsgProps);
                break;
            case 'mdhd':
                copyProps(boxData, box, mdhdProps);
                break;
            case 'mfhd':
                copyProps(boxData, box, mfhdProps);
                break;
            case 'tfhd':
                copyProps(boxData, box, tfhdProps);
                break;
            case 'tfdt':
                copyProps(boxData, box, tfdtProps);
                break;
            case 'trun':
                copyProps(boxData, box, trunProps);
                if (box.samples) {
                    for (i = 0, ln = box.samples.length; i < ln; i++) {
                        copyProps(boxData.samples[i], box.samples[i], trunSampleProps);
                    }
                }
                break;
        }

        return box;
    }

    instance = {
        getBox: getBox,
        getBoxes: getBoxes,
        setData: setData,
        getLastBox: getLastBox,
        getOffset: getOffset
    };

    setup();

    return instance;
}
IsoFile.__h5player_factory_name = 'IsoFile';
exports.default = _FactoryMaker2.default.getClassFactory(IsoFile);

},{"13":13,"40":40}],42:[function(_dereq_,module,exports){
'use strict';

var _typeof2 = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && _typeof2(Symbol.iterator) === "symbol" ? function (obj) {
    return typeof obj === "undefined" ? "undefined" : _typeof2(obj);
} : function (obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof2(obj);
}; /**
    * The copyright in this software is being made available under the BSD License,
    * included below. This software may be subject to other third party and contributor
    * rights, including patent rights, and no such rights are granted under this license.
    *
    * Copyright (c) 2013, Dash Industry Forum.
    * All rights reserved.
    *
    * Redistribution and use in source and binary forms, with or without modification,
    * are permitted provided that the following conditions are met:
    *  * Redistributions of source code must retain the above copyright notice, this
    *  list of conditions and the following disclaimer.
    *  * Redistributions in binary form must reproduce the above copyright notice,
    *  this list of conditions and the following disclaimer in the documentation and/or
    *  other materials provided with the distribution.
    *  * Neither the name of Dash Industry Forum nor the names of its
    *  contributors may be used to endorse or promote products derived from this software
    *  without specific prior written permission.
    *
    *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY
    *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
    *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
    *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
    *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
    *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
    *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
    *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
    *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
    *  POSSIBILITY OF SUCH DAMAGE.
    */

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

var _xml2json = _dereq_(48);

var _xml2json2 = _interopRequireDefault(_xml2json);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

var SECONDS_IN_HOUR = 60 * 60; // Expression of an hour in seconds
var SECONDS_IN_MIN = 60; // Expression of a minute in seconds

function TTMLParser() {

    var context = this.context;
    //let console.log = Debug(context).getInstance().console.log;

    /*
     * This TTML parser follows "EBU-TT-D SUBTITLING DISTRIBUTION FORMAT - tech3380" spec - https://tech.ebu.ch/docs/tech/tech3380.pdf.
     * */
    var instance = void 0,
        timingRegex = void 0,
        ttml = void 0,

    // contains the whole ttml document received
    ttmlStyling = void 0,

    // contains the styling information from the document (from head following EBU-TT-D)
    ttmlLayout = void 0,

    // contains the positioning information from the document (from head following EBU-TT-D)
    fontSize = void 0,
        lineHeight = void 0,
        linePadding = void 0,
        defaultLayoutProperties = void 0,
        defaultStyleProperties = void 0,
        fontFamilies = void 0,
        textAlign = void 0,
        multiRowAlign = void 0,
        wrapOption = void 0,
        unicodeBidi = void 0,
        displayAlign = void 0,
        writingMode = void 0,
        videoModel = void 0;

    var cueCounter = 0; // Used to give every cue a unique ID.

    function setConfig(config) {
        if (!config) return;

        if (config.videoModel) {
            videoModel = config.videoModel;
        }
    }

    /**
     * Get the begin-end interval if present, or null otherwise.
     *
     * @param {Object} element - TTML element which may have begin and end attributes
     */
    function getInterval(element) {
        if (element.hasOwnProperty('begin') && element.hasOwnProperty('end')) {
            var beginTime = parseTimings(element.begin);
            var endTime = parseTimings(element.end);
            return [beginTime, endTime];
        } else {
            return null;
        }
    }

    function getCueID() {
        var id = 'cue_TTML_' + cueCounter;
        cueCounter++;
        return id;
    }

    /*
    * Create list of intervals where spans start and end. Empty list if no times.
    * Clip to interval using startInterval and endInterval and add these two times.
    * Also support case when startInterval/endInteval not given (sideloaded file)
    *
    * @param {Array} spans - array of span elements
    */
    function createSpanIntervalList(spans, startInterval, endInterval) {

        var spanChangeTimes = [];
        var spanChangeTimeStrings = [];
        var cue_intervals = [];

        function addSpanTime(span, name) {
            if (span.hasOwnProperty(name)) {
                var timeString = span[name];
                if (spanChangeTimeStrings.indexOf(timeString) < 0) {
                    spanChangeTimeStrings.push(timeString);
                }
            }
        }

        for (var i = 0; i < spans.length; i++) {
            var span = spans[i];
            addSpanTime(span, 'begin');
            addSpanTime(span, 'end');
        }
        if (spanChangeTimeStrings.length === 0) {
            return cue_intervals; // No span timing so no intervals.
        }

        if (typeof startInterval !== 'undefined' && typeof endInterval !== 'undefined') {
            for (var _i = 0; _i < spanChangeTimeStrings.length; _i++) {
                var changeTime = parseTimings(spanChangeTimeStrings[_i]);
                if (startInterval < changeTime && changeTime < endInterval) {
                    spanChangeTimes.push(changeTime);
                }
            }
            spanChangeTimes.push(startInterval);
            spanChangeTimes.push(endInterval);
        } else {
            for (var _i2 = 0; _i2 < spanChangeTimeStrings.length; _i2++) {
                spanChangeTimes.push(parseTimings(spanChangeTimeStrings[_i2]));
            }
        }
        spanChangeTimes.sort(function (a, b) {
            return a - b;
        });
        for (var _i3 = 0; _i3 < spanChangeTimes.length - 1; _i3++) {
            cue_intervals.push([spanChangeTimes[_i3], spanChangeTimes[_i3 + 1]]);
        }
        return cue_intervals;
    }

    function clipStartTime(startTime, intervalStart) {
        if (typeof startInterval !== 'undefined') {
            if (startTime < intervalStart) {
                startTime = intervalStart;
            }
        }
        return startTime;
    }

    function clipEndTime(endTime, intervalEnd) {
        if (typeof intervalEnd !== 'undefined') {
            if (endTime > intervalEnd) {
                endTime = intervalEnd;
            }
        }
        return endTime;
    }

    /*
     * Get interval from entity that has begin and end properties.
     * If intervalStart and intervalEnd defined, use them to clip the interval.
     * Return null if no overlap with interval
     */
    function getClippedInterval(entity, intervalStart, intervalEnd) {
        var startTime = parseTimings(entity.begin);
        var endTime = parseTimings(entity.end);
        startTime = clipStartTime(startTime, intervalStart);
        endTime = clipEndTime(endTime, intervalEnd);
        if (typeof intervalStart !== 'undefined' && typeof intervalEnd !== 'undefined') {
            if (endTime < intervalStart || startTime > intervalEnd) {
                console.log('TTML: Cue ' + startTime + '-' + endTime + ' outside interval ' + intervalStart + '-' + intervalEnd);
                return null;
            }
        }
        return [startTime, endTime];
    }

    /*
     * Check if entity timing has some overlap with interval
     */
    function inIntervalOrNoTiming(entity, interval) {
        var inInterval = true;
        if (entity.hasOwnProperty('span')) {
            var entityInterval = getInterval(entity.span);
            if (entityInterval !== null) {
                //Timing
                inInterval = entityInterval[0] < interval[1] && entityInterval[1] > interval[0];
            }
        }
        return inInterval;
    }

    /**
     * Parse the raw data and process it to return the HTML element representing the cue.
     * Return the region to be processed and controlled (hide/show) by the caption controller.
     * @param {string} data - raw data received from the TextSourceBuffer
     * @param {number} intervalStart
     * @param {number} intervalEnd
     *
     */

    function parse(data, intervalStart, intervalEnd) {
        var tt = void 0,

        // Top element
        head = void 0,

        // head in tt
        body = void 0,

        // body in tt
        ttExtent = void 0,

        // extent attribute of tt element
        type = void 0;

        var errorMsg = '';

        var converter = new _xml2json2.default([], '', false);

        // Parse the TTML in a JSON object.
        ttml = converter.xml_str2json(data);

        if (!ttml) {
            throw new Error('TTML document could not be parsed');
        }

        if (videoModel && videoModel.getTTMLRenderingDiv()) {
            type = 'html';
        }

        // Check the document and compare to the specification (TTML and EBU-TT-D).
        tt = ttml.tt;
        if (!tt) {
            throw new Error('TTML document lacks tt element');
        }

        // Get the namespace if there is one defined in the JSON object.
        var ttNS = getNamespacePrefix(tt, 'http://www.w3.org/ns/ttml');

        // Remove the namespace before each node if it exists:
        if (ttNS) {
            removeNamespacePrefix(tt, ttNS);
        }

        ttExtent = tt['tts:extent']; // Should check that tts is right namespace.

        head = tt.head;
        if (!head) {
            throw new Error('TTML document lacks head element');
        }
        if (head.layout) {
            ttmlLayout = head.layout.region_asArray; //Mandatory in EBU-TT-D
        }
        if (head.styling) {
            ttmlStyling = head.styling.style_asArray; // Mandatory in EBU-TT-D
        }
        body = tt.body;
        if (!body) {
            throw new Error('TTML document lacks body element');
        }

        // Extract the cellResolution information
        var cellResolution = getCellResolution();

        // Recover the video width and height displayed by the player.
        //var videoWidth = videoModel.getElement().clientWidth;
        //var videoHeight = videoModel.getElement().clientHeight;
        var videoWidth = 640;
        var videoHeight = 480;
        if (videoModel) {
            videoWidth = videoModel.getElement().clientWidth;
            videoHeight = videoModel.getElement().clientHeight;
        }

        // Compute the CellResolution unit in order to process properties using sizing (fontSize, linePadding, etc).
        var cellUnit = [videoWidth / cellResolution[0], videoHeight / cellResolution[1]];
        defaultStyleProperties['font-size'] = cellUnit[1] + 'px;';

        var regions = [];
        if (ttmlLayout) {
            for (var i = 0; i < ttmlLayout.length; i++) {
                regions.push(processRegion(JSON.parse(JSON.stringify(ttmlLayout[i])), cellUnit));
            }
        }

        // Get the namespace prefix.
        var nsttp = getNamespacePrefix(ttml.tt, 'http://www.w3.org/ns/ttml#parameter');

        // Set the framerate.
        if (tt.hasOwnProperty(nsttp + ':frameRate')) {
            tt.frameRate = parseInt(tt[nsttp + ':frameRate'], 10);
        }
        var captionArray = [];
        // Extract the div
        var divs = tt.body_asArray[0].__children;

        // Timing is either on div, paragraph or span level.

        for (var k = 0; k < divs.length; k++) {
            var div = divs[k].div;
            var divInterval = null; // This is mainly for image subtitles.

            if (null !== (divInterval = getInterval(div))) {
                // Timing on div level is not allowed by EBU-TT-D.
                // We only use it for SMPTE-TT image subtitle profile.

                // Layout should be defined by a region. Given early test material, we also support that it is on
                // div level
                var layout = void 0;
                if (div.region) {
                    var region = findRegionFromID(ttmlLayout, div.region);
                    layout = getRelativePositioning(region, ttExtent);
                }
                if (!layout) {
                    layout = getRelativePositioning(div, ttExtent);
                }

                var images = tt.head.metadata.image_asArray; // TODO. Add URL image sources

                if (div['smpte:backgroundImage'] !== undefined) {
                    for (var j = 0; j < images.length; j++) {
                        if ('#' + images[j]['xml:id'] === div['smpte:backgroundImage']) {
                            captionArray.push({
                                start: divInterval[0],
                                end: divInterval[1],
                                id: getCueID(),
                                data: 'data:image/' + images[j].imagetype.toLowerCase() + ';base64, ' + images[j].__text,
                                type: 'image',
                                layout: layout
                            });
                        }
                    }
                }
                continue; // Next div
            }

            var paragraphs = div.p_asArray;
            // Check if cues is not empty or undefined.
            if (divInterval === null && (!paragraphs || paragraphs.length === 0)) {
                errorMsg = 'TTML has div that contains no timing and no paragraphs.';
                console.log(errorMsg);
                return captionArray;
            }

            for (var j2 = 0; j2 < paragraphs.length; j2++) {
                var paragraph = paragraphs[j2];
                var spans = paragraph.span_asArray;
                var cueIntervals = [];
                // For timing, the overall goal is to find the intervals where there should be cues
                // The timing may either be on paragraph or span level.
                if (paragraph.hasOwnProperty('begin') && paragraph.hasOwnProperty('end')) {
                    // Timing on paragraph level
                    var clippedInterval = getClippedInterval(paragraph, intervalStart, intervalEnd);
                    if (clippedInterval !== null) {
                        cueIntervals.push(clippedInterval);
                    }
                } else {
                    // Timing must be on span level
                    cueIntervals = createSpanIntervalList(spans, intervalStart, intervalEnd);
                }
                if (cueIntervals.length === 0) {
                    errorMsg = 'TTML: Empty paragraph';
                    continue; // Nothing in this paragraph
                }

                var paragraphChildren = paragraph.__children;

                for (var i2 = 0; i2 < cueIntervals.length; i2++) {
                    var interval = cueIntervals[i2];
                    var childrenInInterval = [];
                    for (var k2 = 0; k2 < paragraphChildren.length; k2++) {
                        var child = paragraphChildren[k2];
                        if (inIntervalOrNoTiming(child, interval)) {
                            childrenInInterval.push(child);
                        }
                    }
                    if (childrenInInterval.length === 0) {
                        continue; // No children to render
                    }

                    if (type === 'html') {
                        lineHeight = {};
                        linePadding = {};
                        fontSize = {};

                        /**
                         * Find the region defined for the cue.
                         */
                        // properties to be put in the "captionRegion" HTML element.
                        var cueRegionProperties = constructCueRegion(paragraph, div, cellUnit);

                        /**
                         * Find the style defined for the cue.
                         */
                        // properties to be put in the "paragraph" HTML element.
                        var cueStyleProperties = constructCueStyle(paragraph, cellUnit);

                        /**
                         * /!\ Create the cue HTML Element containing the whole cue.
                         */
                        var styleIDs = cueStyleProperties[1];
                        cueStyleProperties = cueStyleProperties[0];

                        // Final cue HTML element.
                        var cueParagraph = document.createElement('div');
                        cueParagraph.className = styleIDs;

                        // Create a wrapper containing the cue information about unicodeBidi and direction
                        // as they need to be defined on at this level.
                        // We append to the wrapper the cue itself.
                        var cueDirUniWrapper = constructCue(childrenInInterval, cellUnit);
                        cueDirUniWrapper.className = 'cueDirUniWrapper';

                        // If the style defines these two properties, we place them in cueContainer
                        // and delete them from the cue style so it is not added afterwards to the final cue.
                        if (arrayContains('unicode-bidi', cueStyleProperties)) {
                            cueDirUniWrapper.style.cssText += getPropertyFromArray('unicode-bidi', cueStyleProperties);
                            deletePropertyFromArray('unicode-bidi', cueStyleProperties);
                        }
                        if (arrayContains('direction', cueStyleProperties)) {
                            cueDirUniWrapper.style.cssText += getPropertyFromArray('direction', cueStyleProperties);
                            deletePropertyFromArray('direction', cueStyleProperties);
                        }

                        // Apply the linePadding property if it is specified in the cue style.
                        if (arrayContains('padding-left', cueStyleProperties) && arrayContains('padding-right', cueStyleProperties)) {
                            cueDirUniWrapper.innerHTML = applyLinePadding(cueDirUniWrapper, cueStyleProperties);
                        }

                        /**
                         * Clean and set the style and region for the cue to be returned.
                         */

                        // Remove the line padding property from being added at the "paragraph" element level.
                        if (arrayContains('padding-left', cueStyleProperties) && arrayContains('padding-right', cueStyleProperties)) {
                            deletePropertyFromArray('padding-left', cueStyleProperties);
                            deletePropertyFromArray('padding-right', cueStyleProperties);
                        }

                        // Remove the ID of the region from being added at the "paragraph" element level.
                        var regionID = '';
                        if (arrayContains('regionID', cueRegionProperties)) {
                            var wholeRegionID = getPropertyFromArray('regionID', cueRegionProperties);
                            regionID = wholeRegionID.slice(wholeRegionID.indexOf(':') + 1, wholeRegionID.length - 1);
                        }

                        // We link the p style to the finale cueParagraph element.
                        if (cueStyleProperties) {
                            cueParagraph.style.cssText = cueStyleProperties.join(' ') + 'display:flex;';
                        }
                        // We define the CSS style for the cue region.
                        if (cueRegionProperties) {
                            cueRegionProperties = cueRegionProperties.join(' ');
                        }

                        // We then place the cue wrapper inside the paragraph element.
                        cueParagraph.appendChild(cueDirUniWrapper);

                        // Final cue.
                        var finalCue = document.createElement('div');
                        finalCue.appendChild(cueParagraph);
                        finalCue.id = getCueID();
                        finalCue.style.cssText = 'position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;' + cueRegionProperties;

                        if (Object.keys(fontSize).length === 0) {
                            fontSize.defaultFontSize = '100';
                        }

                        // We add all the cue information in captionArray.
                        captionArray.push({
                            start: interval[0],
                            end: interval[1],
                            type: 'html',
                            cueHTMLElement: finalCue,
                            regions: regions,
                            regionID: regionID,
                            cueID: finalCue.id,
                            videoHeight: videoHeight,
                            videoWidth: videoWidth,
                            cellResolution: cellResolution,
                            fontSize: fontSize || {
                                defaultFontSize: '100'
                            },
                            lineHeight: lineHeight,
                            linePadding: linePadding
                        });
                    } else {
                        var text = '';
                        var textElements = childrenInInterval;
                        if (textElements.length) {
                            textElements.forEach(function (el) {
                                if (el.hasOwnProperty('span')) {
                                    var spanElements = el.span.__children;
                                    spanElements.forEach(function (spanEl) {
                                        // If metadata is present, do not process.
                                        if (spanElements.hasOwnProperty('metadata')) {
                                            return;
                                        }
                                        // If the element is a string
                                        if (spanEl.hasOwnProperty('#text')) {
                                            text += spanEl['#text'].replace(/[\r\n]+/gm, ' ').trim();
                                            // If the element is a 'br' tag
                                        } else if ('br' in spanEl) {
                                            // Create a br element.
                                            text += '\n';
                                        }
                                    });
                                } else if (el.hasOwnProperty('br')) {
                                    text += '\n';
                                } else {
                                    text += el['#text'].replace(/[\r\n]+/gm, ' ').trim();
                                }
                            });
                        }

                        captionArray.push({
                            start: interval[0],
                            end: interval[1],
                            data: text,
                            type: 'text'
                        });
                    }
                }
            }
        }

        if (errorMsg !== '') {
            console.log(errorMsg);
        }

        if (captionArray.length > 0) {
            return captionArray;
        } else {
            // This seems too strong given that there are segments with no TTML subtitles
            throw new Error(errorMsg);
        }
    }

    function setup() {
        /*
         * This TTML parser follows "EBU-TT-D SUBTITLING DISTRIBUTION FORMAT - tech3380" spec - https://tech.ebu.ch/docs/tech/tech3380.pdf.
         * */
        timingRegex = /^([0-9][0-9]+):([0-5][0-9]):([0-5][0-9])|(60)(\.([0-9])+)?$/; // Regex defining the time
        fontSize = {};
        lineHeight = {};
        linePadding = {};
        defaultLayoutProperties = {
            'top': 'auto;',
            'left': 'auto;',
            'width': '90%;',
            'height': '10%;',
            'align-items': 'flex-start;',
            'overflow': 'visible;',
            '-ms-writing-mode': 'lr-tb, horizontal-tb;',
            '-webkit-writing-mode': 'horizontal-tb;',
            '-moz-writing-mode': 'horizontal-tb;',
            'writing-mode': 'horizontal-tb;'
        };
        defaultStyleProperties = {
            'color': 'rgb(255,255,255);',
            'direction': 'ltr;',
            'font-family': 'monospace, sans-serif;',
            'font-style': 'normal;',
            'line-height': 'normal;',
            'font-weight': 'normal;',
            'text-align': 'start;',
            'justify-content': 'flex-start;',
            'text-decoration': 'none;',
            'unicode-bidi': 'normal;',
            'white-space': 'normal;',
            'width': '100%;'
        };
        fontFamilies = {
            monospace: 'font-family: monospace;',
            sansSerif: 'font-family: sans-serif;',
            serif: 'font-family: serif;',
            monospaceSansSerif: 'font-family: monospace, sans-serif;',
            monospaceSerif: 'font-family: monospace, serif;',
            proportionalSansSerif: 'font-family: Arial;',
            proportionalSerif: 'font-family: Times New Roman;',
            'default': 'font-family: monospace, sans-serif;'
        };
        textAlign = {
            right: ['justify-content: flex-end;', 'text-align: right;'],
            start: ['justify-content: flex-start;', 'text-align: start;'],
            center: ['justify-content: center;', 'text-align: center;'],
            end: ['justify-content: flex-end;', 'text-align: end;'],
            left: ['justify-content: flex-start;', 'text-align: left;']
        };
        multiRowAlign = {
            start: 'text-align: start;',
            center: 'text-align: center;',
            end: 'text-align: end;',
            auto: ''
        };
        wrapOption = {
            wrap: 'white-space: normal;',
            noWrap: 'white-space: nowrap;'
        };
        unicodeBidi = {
            normal: 'unicode-bidi: normal;',
            embed: 'unicode-bidi: embed;',
            bidiOverride: 'unicode-bidi: bidi-override;'
        };
        displayAlign = {
            before: 'align-items: flex-start;',
            center: 'align-items: center;',
            after: 'align-items: flex-end;'
        };
        writingMode = {
            lrtb: '-webkit-writing-mode: horizontal-tb;' + 'writing-mode: horizontal-tb;',
            rltb: '-webkit-writing-mode: horizontal-tb;' + 'writing-mode: horizontal-tb;' + 'direction: rtl;' + 'unicode-bidi: bidi-override;',
            tbrl: '-webkit-writing-mode: vertical-rl;' + 'writing-mode: vertical-rl;' + '-webkit-text-orientation: upright;' + 'text-orientation: upright;',
            tblr: '-webkit-writing-mode: vertical-lr;' + 'writing-mode: vertical-lr;' + '-webkit-text-orientation: upright;' + 'text-orientation: upright;',
            lr: '-webkit-writing-mode: horizontal-tb;' + 'writing-mode: horizontal-tb;',
            rl: '-webkit-writing-mode: horizontal-tb;' + 'writing-mode: horizontal-tb;' + 'direction: rtl;',
            tb: '-webkit-writing-mode: vertical-rl;' + 'writing-mode: vertical-rl;' + '-webkit-text-orientation: upright;' + 'text-orientation: upright;'
        };
    }

    function parseTimings(timingStr) {
        // Test if the time provided by the caption is valid.
        var test = timingRegex.test(timingStr);
        var timeParts, parsedTime, frameRate;

        if (!test) {
            // Return NaN so it will throw an exception at internalParse if the time is incorrect.
            return NaN;
        }

        timeParts = timingStr.split(':');

        // Process the timings by decomposing it and converting it in numbers.
        parsedTime = parseFloat(timeParts[0]) * SECONDS_IN_HOUR + parseFloat(timeParts[1]) * SECONDS_IN_MIN + parseFloat(timeParts[2]);

        // In case a frameRate is provided, we adjust the parsed time.
        if (timeParts[3]) {
            frameRate = ttml.tt.frameRate;
            if (frameRate && !isNaN(frameRate)) {
                parsedTime += parseFloat(timeParts[3]) / frameRate;
            } else {
                return NaN;
            }
        }
        return parsedTime;
    }

    function getNamespacePrefix(json, ns) {
        // Obtain the namespace prefix.
        var r = Object.keys(json).filter(function (k) {
            return (k.split(':')[0] === 'xmlns' || k.split(':')[1] === 'xmlns') && json[k] === ns;
        }).map(function (k) {
            return k.split(':')[2] || k.split(':')[1];
        });
        if (r.length != 1) {
            return null;
        }
        return r[0];
    }

    function removeNamespacePrefix(json, nsPrefix) {
        for (var key in json) {
            if (json.hasOwnProperty(key)) {
                if ((_typeof(json[key]) === 'object' || json[key] instanceof Object) && !Array.isArray(json[key])) {
                    removeNamespacePrefix(json[key], nsPrefix);
                } else if (Array.isArray(json[key])) {
                    for (var i = 0; i < json[key].length; i++) {
                        removeNamespacePrefix(json[key][i], nsPrefix);
                    }
                }
                var newKey = key.slice(key.indexOf(nsPrefix) + nsPrefix.length + 1);
                json[newKey] = json[key];
                delete json[key];
            }
        }
    }

    // backgroundColor = background-color, convert from camelCase to dash.
    function camelCaseToDash(key) {
        return key.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();
    }

    // Convert an RGBA value written in Hex to rgba(v,v,v,a).
    function convertHexToRGBA(rgba) {
        // Get the hexadecimal value without the #.
        var hex = rgba.slice(1);
        // Separate the values in pairs.
        var hexMatrice = hex.match(/.{2}/g);
        // Convert the alpha value in decimal between 0 and 1.
        var alpha = parseFloat(parseInt(parseInt(hexMatrice[3], 16) / 255 * 1000, 10) / 1000);
        // Get the standard RGB value.
        var rgb = hexMatrice.slice(0, 3).map(function (i) {
            return parseInt(i, 16);
        });
        // Return the RGBA value for CSS.
        return 'rgba(' + rgb.join(',') + ',' + alpha + ');';
    }

    // Return whether or not an array contains a certain text
    function arrayContains(text, array) {
        for (var i = 0; i < array.length; i++) {
            if (array[i].indexOf(text) > -1) {
                return true;
            }
        }
        return false;
    }

    // Return the whole value that contains "text"
    function getPropertyFromArray(text, array) {
        for (var i = 0; i < array.length; i++) {
            if (array[i].indexOf(text) > -1) {
                return array[i];
            }
        }
        return null;
    }

    // Delete a a property from an array.
    function deletePropertyFromArray(property, array) {
        array.splice(array.indexOf(getPropertyFromArray(property, array)), 1);
    }

    function mergeArrays(primeArray, arrayToAdd) {
        for (var i = 0; i < primeArray.length; i++) {
            for (var j = 0; j < arrayToAdd.length; j++) {
                // Take only the name of the property
                if (primeArray[i]) {
                    if (primeArray[i].split(':')[0].indexOf(arrayToAdd[j].split(':')[0]) > -1) {
                        primeArray.splice(i, 1);
                    }
                }
            }
        }
        return primeArray.concat(arrayToAdd);
    }

    /**
     * Processing of styling information:
     * - processStyle: return an array of strings with the cue style under a CSS style form.
     * - findStyleFromID: Return the unprocessed style from TTMLStyling corresponding to the ID researched.
     * - getProcessedStyle: Return the processed style(s) from the ID(s) received in entry.
     * **/

    // Compute the style properties to return an array with the cleaned properties.
    function processStyle(cueStyle, cellUnit, includeRegionStyles) {
        var properties = [];

        // Clean up from the xml2json parsing:
        for (var key in cueStyle) {
            if (cueStyle.hasOwnProperty(key)) {
                //Clean the properties from the parsing.
                var newKey = key.replace('ebutts:', '');
                newKey = newKey.replace('xml:', '');
                newKey = newKey.replace('tts:', '');

                // Clean the properties' names.
                newKey = camelCaseToDash(newKey);
                cueStyle[newKey] = cueStyle[key];
                delete cueStyle[key];
            }
        }

        // Line padding is computed from the cellResolution.
        if ('line-padding' in cueStyle) {
            var valuePadding = parseFloat(cueStyle['line-padding'].slice(cueStyle['line-padding'].indexOf(':') + 1, cueStyle['line-padding'].indexOf('c')));
            if ('id' in cueStyle) {
                linePadding[cueStyle.id] = valuePadding;
            }
            var valuePaddingInPx = valuePadding * cellUnit[0] + 'px;';
            properties.push('padding-left:' + valuePaddingInPx);
            properties.push('padding-right:' + valuePaddingInPx);
        }
        // Font size is computed from the cellResolution.
        if ('font-size' in cueStyle) {
            var valueFtSize = parseFloat(cueStyle['font-size'].slice(cueStyle['font-size'].indexOf(':') + 1, cueStyle['font-size'].indexOf('%')));
            if ('id' in cueStyle) {
                fontSize[cueStyle.id] = valueFtSize;
            }
            var valueFtSizeInPx = valueFtSize / 100 * cellUnit[1] + 'px;';
            properties.push('font-size:' + valueFtSizeInPx);
        }
        // Line height is computed from the cellResolution.
        if ('line-height' in cueStyle) {
            if (cueStyle['line-height'] === 'normal') {
                properties.push('line-height: normal;');
            } else {
                var valueLHSize = parseFloat(cueStyle['line-height'].slice(cueStyle['line-height'].indexOf(':') + 1, cueStyle['line-height'].indexOf('%')));
                if ('id' in cueStyle) {
                    lineHeight[cueStyle.id] = valueLHSize;
                }
                var valueLHSizeInPx = valueLHSize / 100 * cellUnit[1] + 'px;';
                properties.push('line-height' + ':' + valueLHSizeInPx);
            }
        }
        // Font-family can be specified by a generic family name or a custom family name.
        if ('font-family' in cueStyle) {
            if (cueStyle['font-family'] in fontFamilies) {
                properties.push(fontFamilies[cueStyle['font-family']]);
            } else {
                properties.push('font-family:' + cueStyle['font-family'] + ';');
            }
        }
        // Text align needs to be set from two properties:
        // The standard text-align CSS property.
        // The justify-content property as we use flex boxes.
        if ('text-align' in cueStyle) {
            if (cueStyle['text-align'] in textAlign) {
                properties.push(textAlign[cueStyle['text-align']][0]);
                properties.push(textAlign[cueStyle['text-align']][1]);
            }
        }
        // Multi Row align is set only by the text-align property.
        // TODO: TO CHECK
        if ('multi-row-align' in cueStyle) {
            if (arrayContains('text-align', properties) && cueStyle['multi-row-align'] != 'auto') {
                deletePropertyFromArray('text-align', properties);
            }
            if (cueStyle['multi-row-align'] in multiRowAlign) {
                properties.push(multiRowAlign[cueStyle['multi-row-align']]);
            }
        }
        // Background color can be specified from hexadecimal (RGB or RGBA) value.
        var rgbaValue;
        if ('background-color' in cueStyle) {
            if (cueStyle['background-color'].indexOf('#') > -1 && cueStyle['background-color'].length - 1 === 8) {
                rgbaValue = convertHexToRGBA(cueStyle['background-color']);
                properties.push('background-color: ' + rgbaValue);
            } else {
                properties.push('background-color:' + cueStyle['background-color'] + ';');
            }
        }
        // Color can be specified from hexadecimal (RGB or RGBA) value.
        if ('color' in cueStyle) {
            if (cueStyle.color.indexOf('#') > -1 && cueStyle.color.length - 1 === 8) {
                rgbaValue = convertHexToRGBA(cueStyle.color);
                properties.push('color: ' + rgbaValue);
            } else {
                properties.push('color:' + cueStyle.color + ';');
            }
        }
        // Wrap option is determined by the white-space CSS property.
        if ('wrap-option' in cueStyle) {
            if (cueStyle['wrap-option'] in wrapOption) {
                properties.push(wrapOption[cueStyle['wrap-option']]);
            } else {
                properties.push('white-space:' + cueStyle['wrap-option']);
            }
        }
        // Unicode bidi is determined by the unicode-bidi CSS property.
        if ('unicode-bidi' in cueStyle) {
            if (cueStyle['unicode-bidi'] in unicodeBidi) {
                properties.push(unicodeBidi[cueStyle['unicode-bidi']]);
            } else {
                properties.push('unicode-bidi:' + cueStyle['unicode-bidi']);
            }
        }

        // Standard properties identical to CSS.

        if ('font-style' in cueStyle) {
            properties.push('font-style:' + cueStyle['font-style'] + ';');
        }
        if ('font-weight' in cueStyle) {
            properties.push('font-weight:' + cueStyle['font-weight'] + ';');
        }
        if ('direction' in cueStyle) {
            properties.push('direction:' + cueStyle.direction + ';');
        }
        if ('text-decoration' in cueStyle) {
            properties.push('text-decoration:' + cueStyle['text-decoration'] + ';');
        }

        if (includeRegionStyles) {
            properties = properties.concat(processRegion(cueStyle, cellUnit));
        }

        // Handle white-space preserve
        if (ttml.tt.hasOwnProperty('xml:space')) {
            if (ttml.tt['xml:space'] === 'preserve') {
                properties.push('white-space: pre;');
            }
        }

        return properties;
    }

    // Find the style set by comparing the style IDs available.
    // Return null if no style is found
    function findStyleFromID(ttmlStyling, cueStyleID) {
        // For every styles available, search the corresponding style in ttmlStyling.
        for (var j = 0; j < ttmlStyling.length; j++) {
            var currStyle = ttmlStyling[j];
            if (currStyle['xml:id'] === cueStyleID || currStyle.id === cueStyleID) {
                // Return the style corresponding to the ID in parameter.
                return currStyle;
            }
        }
        return null;
    }
    // Return the computed style from a certain ID.
    function getProcessedStyle(reference, cellUnit, includeRegionStyles) {
        var styles = [];
        var ids = reference.match(/\S+/g);
        ids.forEach(function (id) {
            // Find the style for each id received.
            var cueStyle = findStyleFromID(ttmlStyling, id);
            if (cueStyle) {
                // Process the style for the cue in CSS form.
                // Send a copy of the style object, so it does not modify the original by cleaning it.
                var stylesFromId = processStyle(JSON.parse(JSON.stringify(cueStyle)), cellUnit, includeRegionStyles);
                styles = styles.concat(stylesFromId);
            }
        });
        return styles;
    }

    // Calculate relative left, top, width, height from extent and origin in percent.
    // Return object with {left, top, width, height} as numbers in percent or null.
    function getRelativePositioning(element, ttExtent) {

        var pairRe = /([\d\.]+)(%|px)\s+([\d\.]+)(%|px)/;

        if ('tts:extent' in element && 'tts:origin' in element) {
            var extentParts = pairRe.exec(element['tts:extent']);
            var originParts = pairRe.exec(element['tts:origin']);
            if (extentParts === null || originParts === null) {
                console.log('Bad extent or origin: ' + element['tts:extent'] + ' ' + element['tts:origin']);
                return null;
            }
            var width = parseFloat(extentParts[1]);
            var height = parseFloat(extentParts[3]);
            var left = parseFloat(originParts[1]);
            var top = parseFloat(originParts[3]);

            if (ttExtent) {
                // Should give overall scale in pixels
                var ttExtentParts = pairRe.exec(ttExtent);
                if (ttExtentParts === null || ttExtentParts[2] !== 'px' || ttExtentParts[4] !== 'px') {
                    console.log('Bad tt.extent: ' + ttExtent);
                    return null;
                }
                var exWidth = parseFloat(ttExtentParts[1]);
                var exHeight = parseFloat(ttExtentParts[3]);
                if (extentParts[2] === 'px') {
                    width = width / exWidth * 100;
                }
                if (extentParts[4] === 'px') {
                    height = height / exHeight * 100;
                }
                if (originParts[2] === 'px') {
                    left = left / exWidth * 100;
                }
                if (originParts[4] === 'px') {
                    top = top / exHeight * 100;
                }
            }
            return { 'left': left, 'top': top, 'width': width, 'height': height };
        } else {
            return null;
        }
    }

    /**
     * Processing of layout information:
     * - processRegion: return an array of strings with the cue region under a CSS style form.
     * - findRegionFromID: Return the unprocessed region from TTMLLayout corresponding to the ID researched.
     * - getProcessedRegion: Return the processed region(s) from the ID(s) received in entry.
     ***/

    // Compute the region properties to return an array with the cleaned properties.
    function processRegion(cueRegion, cellUnit) {
        var properties = [];

        // Clean up from the xml2json parsing:
        for (var key in cueRegion) {
            //Clean the properties from the parsing.
            var newKey = key.replace('tts:', '');
            newKey = newKey.replace('xml:', '');

            // Clean the properties' names.
            newKey = camelCaseToDash(newKey);
            cueRegion[newKey] = cueRegion[key];
            if (newKey !== key) {
                delete cueRegion[key];
            }
        }
        // Extent property corresponds to width and height
        if ('extent' in cueRegion) {
            var coordsExtent = cueRegion.extent.split(/\s/);
            properties.push('width: ' + coordsExtent[0] + ';');
            properties.push('height: ' + coordsExtent[1] + ';');
        }
        // Origin property corresponds to top and left
        if ('origin' in cueRegion) {
            var coordsOrigin = cueRegion.origin.split(/\s/);
            properties.push('left: ' + coordsOrigin[0] + ';');
            properties.push('top: ' + coordsOrigin[1] + ';');
        }
        // DisplayAlign property corresponds to vertical-align
        if ('display-align' in cueRegion) {
            properties.push(displayAlign[cueRegion['display-align']]);
        }
        // WritingMode is not yet implemented (for CSS3, to come)
        if ('writing-mode' in cueRegion) {
            properties.push(writingMode[cueRegion['writing-mode']]);
        }
        // Style will give to the region the style properties from the style selected
        if ('style' in cueRegion) {
            var styleFromID = getProcessedStyle(cueRegion.style, cellUnit, true);
            properties = properties.concat(styleFromID);
        }

        // Standard properties identical to CSS.

        if ('padding' in cueRegion) {
            properties.push('padding:' + cueRegion.padding + ';');
        }
        if ('overflow' in cueRegion) {
            properties.push('overflow:' + cueRegion.overflow + ';');
        }
        if ('show-background' in cueRegion) {
            properties.push('show-background:' + cueRegion['show-background'] + ';');
        }
        if ('id' in cueRegion) {
            properties.push('regionID:' + cueRegion.id + ';');
        }

        return properties;
    }

    // Find the region set by comparing the region IDs available.
    // Return null if no region is found
    function findRegionFromID(ttmlLayout, cueRegionID) {
        // For every region available, search the corresponding style in ttmlLayout.
        for (var j = 0; j < ttmlLayout.length; j++) {
            var currReg = ttmlLayout[j];
            if (currReg['xml:id'] === cueRegionID || currReg.id === cueRegionID) {
                // Return the region corresponding to the ID in parameter.
                return currReg;
            }
        }
        return null;
    }

    // Return the computed region from a certain ID.
    function getProcessedRegion(reference, cellUnit) {
        var regions = [];
        var ids = reference.match(/\S+/g);
        ids.forEach(function (id) {
            // Find the region for each id received.
            var cueRegion = findRegionFromID(ttmlLayout, id);
            if (cueRegion) {
                // Process the region for the cue in CSS form.
                // Send a copy of the style object, so it does not modify the original by cleaning it.
                var regionsFromId = processRegion(JSON.parse(JSON.stringify(cueRegion)), cellUnit);
                regions = regions.concat(regionsFromId);
            }
        });
        return regions;
    }

    //Return the cellResolution defined by the TTML document.
    function getCellResolution() {
        var defaultCellResolution = [32, 15]; // Default cellResolution.
        if (ttml.tt.hasOwnProperty('ttp:cellResolution')) {
            return ttml.tt['ttp:cellResolution'].split(' ').map(parseFloat);
        } else {
            return defaultCellResolution;
        }
    }

    // Return the cue wrapped into a span specifying its linePadding.
    function applyLinePadding(cueHTML, cueStyle) {
        // Extract the linePadding property from cueStyleProperties.
        var linePaddingLeft = getPropertyFromArray('padding-left', cueStyle);
        var linePaddingRight = getPropertyFromArray('padding-right', cueStyle);
        var linePadding = linePaddingLeft.concat(' ' + linePaddingRight + ' ');

        // Declaration of the HTML elements to be used in the cue innerHTML construction.
        var outerHTMLBeforeBr = '';
        var outerHTMLAfterBr = '';
        var cueInnerHTML = '';

        // List all the nodes of the subtitle.
        var nodeList = Array.prototype.slice.call(cueHTML.children);
        // Take a br element as reference.
        var brElement = cueHTML.getElementsByClassName('lineBreak')[0];
        // First index of the first br element.
        var idx = nodeList.indexOf(brElement);
        // array of all the br element indices
        var indices = [];
        // Find all the indices of the br elements.
        while (idx != -1) {
            indices.push(idx);
            idx = nodeList.indexOf(brElement, idx + 1);
        }

        // Strings for the cue innerHTML construction.
        var spanStringEnd = '<\/span>';
        var br = '<br>';
        var clonePropertyString = '<span' + ' class="spanPadding" ' + 'style="-webkit-box-decoration-break: clone; box-decoration-break: clone; ';

        // If br elements are found:
        if (indices.length) {
            // For each index of a br element we compute the HTML coming before and/or after it.
            indices.forEach(function (i, index) {
                // If this is the first line break, we compute the HTML of the element coming before.
                if (index === 0) {
                    var styleBefore = '';
                    // for each element coming before the line break, we add its HTML.
                    for (var j = 0; j < i; j++) {
                        outerHTMLBeforeBr += nodeList[j].outerHTML;
                        // If this is the first element, we add its style to the wrapper.
                        if (j === 0) {
                            styleBefore = linePadding.concat(nodeList[j].style.cssText);
                        }
                    }
                    // The before element will comprises the clone property (for line wrapping), the style that
                    // need to be applied (ex: background-color) and the rest og the HTML.
                    outerHTMLBeforeBr = clonePropertyString + styleBefore + '">' + outerHTMLBeforeBr;
                }
                // For every element of the list, we compute the element coming after the line break.s
                var styleAfter = '';
                // for each element coming after the line break, we add its HTML.
                for (var k = i + 1; k < nodeList.length; k++) {
                    outerHTMLAfterBr += nodeList[k].outerHTML;
                    // If this is the last element, we add its style to the wrapper.
                    if (k === nodeList.length - 1) {
                        styleAfter += linePadding.concat(nodeList[k].style.cssText);
                    }
                }

                // The before element will comprises the clone property (for line wrapping), the style that
                // need to be applied (ex: background-color) and the rest og the HTML.
                outerHTMLAfterBr = clonePropertyString + styleAfter + '">' + outerHTMLAfterBr;

                // For each line break we must add the before and/or after element to the final cue as well as
                // the line break when needed.
                if (outerHTMLBeforeBr && outerHTMLAfterBr && index === indices.length - 1) {
                    cueInnerHTML += outerHTMLBeforeBr + spanStringEnd + br + outerHTMLAfterBr + spanStringEnd;
                } else if (outerHTMLBeforeBr && outerHTMLAfterBr && index !== indices.length - 1) {
                    cueInnerHTML += outerHTMLBeforeBr + spanStringEnd + br + outerHTMLAfterBr + spanStringEnd + br;
                } else if (outerHTMLBeforeBr && !outerHTMLAfterBr) {
                    cueInnerHTML += outerHTMLBeforeBr + spanStringEnd;
                } else if (!outerHTMLBeforeBr && outerHTMLAfterBr && index === indices.length - 1) {
                    cueInnerHTML += outerHTMLAfterBr + spanStringEnd;
                } else if (!outerHTMLBeforeBr && outerHTMLAfterBr && index !== indices.length - 1) {
                    cueInnerHTML += outerHTMLAfterBr + spanStringEnd + br;
                }
            });
        } else {
            // If there is no line break in the subtitle, we simply wrap cue in a span indicating the linePadding.
            var style = '';
            for (var k = 0; k < nodeList.length; k++) {
                style += nodeList[k].style.cssText;
            }
            cueInnerHTML = clonePropertyString + linePadding + style + '">' + cueHTML.innerHTML + spanStringEnd;
        }
        return cueInnerHTML;
    }

    /*
    * Create the cue element
     * I. The cues are text only:
     *      i) The cue contains a 'br' element
     *      ii) The cue contains a span element
     *      iii) The cue contains text
     */

    function constructCue(cueElements, cellUnit) {
        var cue = document.createElement('div');
        cueElements.forEach(function (el) {
            // If metadata is present, do not process.
            if (el.hasOwnProperty('metadata')) {
                return;
            }

            /**
             * If the p element contains spans: create the span elements.
             */
            if (el.hasOwnProperty('span')) {

                // Stock the span subtitles in an array (in case there are only one value).
                var spanElements = el.span.__children;

                // Create the span element.
                var spanHTMLElement = document.createElement('span');
                // Extract the style of the span.
                if (el.span.hasOwnProperty('style')) {
                    var spanStyle = getProcessedStyle(el.span.style, cellUnit);
                    spanHTMLElement.className = 'spanPadding ' + el.span.style;
                    spanHTMLElement.style.cssText = spanStyle.join(' ');
                }

                // if the span has more than one element, we check for each of them their nature (br or text).
                spanElements.forEach(function (spanEl) {
                    // If metadata is present, do not process.
                    if (spanElements.hasOwnProperty('metadata')) {
                        return;
                    }
                    // If the element is a string
                    if (spanEl.hasOwnProperty('#text')) {
                        var textNode = document.createTextNode(spanEl['#text']);
                        spanHTMLElement.appendChild(textNode);
                        // If the element is a 'br' tag
                    } else if ('br' in spanEl) {
                        // To handle br inside span we need to add the current span
                        // to the cue and then create a br and add that the cue
                        // then create a new span that we use for the next line of
                        // text, that is a copy of the current span

                        // Add the current span to the cue, only if it has childNodes (text)
                        if (spanHTMLElement.hasChildNodes()) {
                            cue.appendChild(spanHTMLElement);
                        }

                        // Create a br and add that to the cue
                        var brEl = document.createElement('br');
                        brEl.className = 'lineBreak';
                        cue.appendChild(brEl);

                        // Create an replacement span and copy the style and classname from the old one
                        var newSpanHTMLElement = document.createElement('span');
                        newSpanHTMLElement.className = spanHTMLElement.className;
                        newSpanHTMLElement.style.cssText = spanHTMLElement.style.cssText;

                        // Replace the current span with the one we just created
                        spanHTMLElement = newSpanHTMLElement;
                    }
                });
                // We append the element to the cue container.
                cue.appendChild(spanHTMLElement);
            }

            /**
             * Create a br element if there is one in the cue.
             */
            else if (el.hasOwnProperty('br')) {
                    // We append the line break to the cue container.
                    var brEl = document.createElement('br');
                    brEl.className = 'lineBreak';
                    cue.appendChild(brEl);
                }

                /**
                 * Add the text that is not in any inline element
                 */
                else if (el.hasOwnProperty('#text')) {
                        // Add the text to an individual span element (to add line padding if it is defined).
                        var textNode = document.createElement('span');
                        textNode.textContent = el['#text'];

                        // We append the element to the cue container.
                        cue.appendChild(textNode);
                    }
        });
        return cue;
    }

    function constructCueRegion(cue, div, cellUnit) {
        var cueRegionProperties = []; // properties to be put in the "captionRegion" HTML element
        // Obtain the region ID(s) assigned to the cue.
        var pRegionID = cue.region;
        // If div has a region.
        var divRegionID = div.region;

        var divRegion;
        var pRegion;

        // If the div element reference a region.
        if (divRegionID) {
            divRegion = getProcessedRegion(divRegionID, cellUnit);
        }
        // If the p element reference a region.
        if (pRegionID) {
            pRegion = cueRegionProperties.concat(getProcessedRegion(pRegionID, cellUnit));
            if (divRegion) {
                cueRegionProperties = mergeArrays(divRegion, pRegion);
            } else {
                cueRegionProperties = pRegion;
            }
        } else if (divRegion) {
            cueRegionProperties = divRegion;
        }

        // Add initial/default values to what's not defined in the layout:
        applyDefaultProperties(cueRegionProperties, defaultLayoutProperties);

        return cueRegionProperties;
    }

    function constructCueStyle(cue, cellUnit) {
        var cueStyleProperties = []; // properties to be put in the "paragraph" HTML element
        // Obtain the style ID(s) assigned to the cue.
        var pStyleID = cue.style;
        // If body has a style.
        var bodyStyleID = ttml.tt.body.style;
        // If div has a style.
        var divStyleID = ttml.tt.body.div.style;

        var bodyStyle;
        var divStyle;
        var pStyle;
        var styleIDs = '';

        // If the body element reference a style.
        if (bodyStyleID) {
            bodyStyle = getProcessedStyle(bodyStyleID, cellUnit);
            styleIDs = 'paragraph ' + bodyStyleID;
        }

        // If the div element reference a style.
        if (divStyleID) {
            divStyle = getProcessedStyle(divStyleID, cellUnit);
            if (bodyStyle) {
                divStyle = mergeArrays(bodyStyle, divStyle);
                styleIDs += ' ' + divStyleID;
            } else {
                styleIDs = 'paragraph ' + divStyleID;
            }
        }

        // If the p element reference a style.
        if (pStyleID) {
            pStyle = getProcessedStyle(pStyleID, cellUnit);
            if (bodyStyle && divStyle) {
                cueStyleProperties = mergeArrays(divStyle, pStyle);
                styleIDs += ' ' + pStyleID;
            } else if (bodyStyle) {
                cueStyleProperties = mergeArrays(bodyStyle, pStyle);
                styleIDs += ' ' + pStyleID;
            } else if (divStyle) {
                cueStyleProperties = mergeArrays(divStyle, pStyle);
                styleIDs += ' ' + pStyleID;
            } else {
                cueStyleProperties = pStyle;
                styleIDs = 'paragraph ' + pStyleID;
            }
        } else if (bodyStyle && !divStyle) {
            cueStyleProperties = bodyStyle;
        } else if (!bodyStyle && divStyle) {
            cueStyleProperties = divStyle;
        }

        // Add initial/default values to what's not defined in the styling:
        applyDefaultProperties(cueStyleProperties, defaultStyleProperties);

        return [cueStyleProperties, styleIDs];
    }

    function applyDefaultProperties(array, defaultProperties) {
        for (var key in defaultProperties) {
            if (defaultProperties.hasOwnProperty(key)) {
                if (!arrayContains(key, array)) {
                    array.push(key + ':' + defaultProperties[key]);
                }
            }
        }
    }

    instance = {
        parse: parse,
        setConfig: setConfig
    };

    setup();
    return instance;
}
TTMLParser.__h5player_factory_name = 'TTMLParser';
exports.default = _FactoryMaker2.default.getSingletonFactory(TTMLParser);

},{"13":13,"48":48}],43:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

//import Debug from '../../core/Debug';

function VTTParser() {
    var context = this.context;
    var log = console.log; //Debug(context).getInstance().log;

    var instance = void 0,
        regExNewLine = void 0,
        regExToken = void 0,
        regExWhiteSpace = void 0,
        regExWhiteSpaceWordBoundary = void 0;

    function setup() {
        regExNewLine = /(?:\r\n|\r|\n)/gm;
        regExToken = /-->/;
        regExWhiteSpace = /(^[\s]+|[\s]+$)/g;
        regExWhiteSpaceWordBoundary = /\s\b/g;
    }

    function parse(data) {
        var captionArray = [];
        var len, lastStartTime;

        data = data.split(regExNewLine);
        len = data.length;
        lastStartTime = -1;

        for (var i = 0; i < len; i++) {
            var item = data[i];

            if (item.length > 0 && item !== 'WEBVTT') {
                if (item.match(regExToken)) {
                    var attributes = parseItemAttributes(item);
                    var cuePoints = attributes.cuePoints;
                    var styles = attributes.styles;
                    var text = getSublines(data, i + 1);
                    var startTime = convertCuePointTimes(cuePoints[0].replace(regExWhiteSpace, ''));
                    var endTime = convertCuePointTimes(cuePoints[1].replace(regExWhiteSpace, ''));

                    if (!isNaN(startTime) && !isNaN(endTime) && startTime >= lastStartTime && endTime > startTime) {
                        if (text !== '') {
                            lastStartTime = startTime;
                            //TODO Make VO external so other parsers can use.
                            captionArray.push({
                                start: startTime,
                                end: endTime,
                                data: text,
                                styles: styles
                            });
                        } else {
                            log('Skipping cue due to empty/malformed cue text');
                        }
                    } else {
                        log('Skipping cue due to incorrect cue timing');
                    }
                }
            }
        }

        return captionArray;
    }

    function convertCuePointTimes(time) {
        var timeArray = time.split(':');
        var len = timeArray.length - 1;

        time = parseInt(timeArray[len - 1], 10) * 60 + parseFloat(timeArray[len]);

        if (len === 2) {
            time += parseInt(timeArray[0], 10) * 3600;
        }

        return time;
    }

    function parseItemAttributes(data) {
        var vttCuePoints = data.split(regExToken);
        var arr = vttCuePoints[1].split(regExWhiteSpaceWordBoundary);
        arr.shift(); //remove first array index it is empty...
        vttCuePoints[1] = arr[0];
        arr.shift();
        return { cuePoints: vttCuePoints, styles: getCaptionStyles(arr) };
    }

    function getCaptionStyles(arr) {
        var styleObject = {};
        arr.forEach(function (element) {
            if (element.split(/:/).length > 1) {
                var val = element.split(/:/)[1];
                if (val && val.search(/%/) != -1) {
                    val = parseInt(val.replace(/%/, ''), 10);
                }
                if (element.match(/align/) || element.match(/A/)) {
                    styleObject.align = val;
                }
                if (element.match(/line/) || element.match(/L/)) {
                    styleObject.line = val;
                }
                if (element.match(/position/) || element.match(/P/)) {
                    styleObject.position = val;
                }
                if (element.match(/size/) || element.match(/S/)) {
                    styleObject.size = val;
                }
            }
        });

        return styleObject;
    }

    /*
    * VTT can have multiple lines to display per cuepoint.
    */
    function getSublines(data, idx) {
        var i = idx;

        var subline = '';
        var lineData = '';
        var lineCount;

        while (data[i] !== '' && i < data.length) {
            i++;
        }

        lineCount = i - idx;
        if (lineCount > 1) {
            for (var j = 0; j < lineCount; j++) {
                lineData = data[idx + j];
                if (!lineData.match(regExToken)) {
                    subline += lineData;
                    if (j !== lineCount - 1) {
                        subline += '\n';
                    }
                } else {
                    // caption text should not have '-->' in it
                    subline = '';
                    break;
                }
            }
        } else {
            lineData = data[idx];
            if (!lineData.match(regExToken)) subline = lineData;
        }
        return decodeURI(subline);
    }

    instance = {
        parse: parse
    };

    setup();
    return instance;
} /**
   * The copyright in this software is being made available under the BSD License,
   * included below. This software may be subject to other third party and contributor
   * rights, including patent rights, and no such rights are granted under this license.
   *
   * Copyright (c) 2013, Dash Industry Forum.
   * All rights reserved.
   *
   * Redistribution and use in source and binary forms, with or without modification,
   * are permitted provided that the following conditions are met:
   *  * Redistributions of source code must retain the above copyright notice, this
   *  list of conditions and the following disclaimer.
   *  * Redistributions in binary form must reproduce the above copyright notice,
   *  this list of conditions and the following disclaimer in the documentation and/or
   *  other materials provided with the distribution.
   *  * Neither the name of Dash Industry Forum nor the names of its
   *  contributors may be used to endorse or promote products derived from this software
   *  without specific prior written permission.
   *
   *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY
   *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
   *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
   *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
   *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
   *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
   *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
   *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
   *  POSSIBILITY OF SUCH DAMAGE.
   */

VTTParser.__h5player_factory_name = 'VTTParser';
exports.default = _FactoryMaker2.default.getSingletonFactory(VTTParser);

},{"13":13}],44:[function(_dereq_,module,exports){
'use strict';

/**
 * The copyright in this software is being made available under the BSD License,
 * included below. This software may be subject to other third party and contributor
 * rights, including patent rights, and no such rights are granted under this license.
 *
 * Copyright (c) 2015-2016, DASH Industry Forum.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *  1. Redistributions of source code must retain the above copyright notice, this
 *  list of conditions and the following disclaimer.
 *  * Redistributions in binary form must reproduce the above copyright notice,
 *  this list of conditions and the following disclaimer in the documentation and/or
 *  other materials provided with the distribution.
 *  2. Neither the name of Dash Industry Forum nor the names of its
 *  contributors may be used to endorse or promote products derived from this software
 *  without specific prior written permission.
 *
 *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY
 *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 *  POSSIBILITY OF SUCH DAMAGE.
 */

(function (exports) {

    "use strict";

    /**
     *  Exceptions from regular ASCII. CodePoints are mapped to UTF-16 codes
     */

    var specialCea608CharsCodes = {
        0x2a: 0xe1, // lowercase a, acute accent
        0x5c: 0xe9, // lowercase e, acute accent
        0x5e: 0xed, // lowercase i, acute accent
        0x5f: 0xf3, // lowercase o, acute accent
        0x60: 0xfa, // lowercase u, acute accent
        0x7b: 0xe7, // lowercase c with cedilla
        0x7c: 0xf7, // division symbol
        0x7d: 0xd1, // uppercase N tilde
        0x7e: 0xf1, // lowercase n tilde
        0x7f: 0x2588, // Full block
        // THIS BLOCK INCLUDES THE 16 EXTENDED (TWO-BYTE) LINE 21 CHARACTERS
        // THAT COME FROM HI BYTE=0x11 AND LOW BETWEEN 0x30 AND 0x3F
        // THIS MEANS THAT \x50 MUST BE ADDED TO THE VALUES
        0x80: 0xae, // Registered symbol (R)
        0x81: 0xb0, // degree sign
        0x82: 0xbd, // 1/2 symbol
        0x83: 0xbf, // Inverted (open) question mark
        0x84: 0x2122, // Trademark symbol (TM)
        0x85: 0xa2, // Cents symbol
        0x86: 0xa3, // Pounds sterling
        0x87: 0x266a, // Music 8'th note
        0x88: 0xe0, // lowercase a, grave accent
        0x89: 0x20, // transparent space (regular)
        0x8a: 0xe8, // lowercase e, grave accent
        0x8b: 0xe2, // lowercase a, circumflex accent
        0x8c: 0xea, // lowercase e, circumflex accent
        0x8d: 0xee, // lowercase i, circumflex accent
        0x8e: 0xf4, // lowercase o, circumflex accent
        0x8f: 0xfb, // lowercase u, circumflex accent
        // THIS BLOCK INCLUDES THE 32 EXTENDED (TWO-BYTE) LINE 21 CHARACTERS
        // THAT COME FROM HI BYTE=0x12 AND LOW BETWEEN 0x20 AND 0x3F
        0x90: 0xc1, // capital letter A with acute
        0x91: 0xc9, // capital letter E with acute
        0x92: 0xd3, // capital letter O with acute
        0x93: 0xda, // capital letter U with acute
        0x94: 0xdc, // capital letter U with diaresis
        0x95: 0xfc, // lowercase letter U with diaeresis
        0x96: 0x2018, // opening single quote
        0x97: 0xa1, // inverted exclamation mark
        0x98: 0x2a, // asterisk
        0x99: 0x2019, // closing single quote
        0x9a: 0x2501, // box drawings heavy horizontal
        0x9b: 0xa9, // copyright sign
        0x9c: 0x2120, // Service mark
        0x9d: 0x2022, // (round) bullet
        0x9e: 0x201c, // Left double quotation mark
        0x9f: 0x201d, // Right double quotation mark
        0xa0: 0xc0, // uppercase A, grave accent
        0xa1: 0xc2, // uppercase A, circumflex
        0xa2: 0xc7, // uppercase C with cedilla
        0xa3: 0xc8, // uppercase E, grave accent
        0xa4: 0xca, // uppercase E, circumflex
        0xa5: 0xcb, // capital letter E with diaresis
        0xa6: 0xeb, // lowercase letter e with diaresis
        0xa7: 0xce, // uppercase I, circumflex
        0xa8: 0xcf, // uppercase I, with diaresis
        0xa9: 0xef, // lowercase i, with diaresis
        0xaa: 0xd4, // uppercase O, circumflex
        0xab: 0xd9, // uppercase U, grave accent
        0xac: 0xf9, // lowercase u, grave accent
        0xad: 0xdb, // uppercase U, circumflex
        0xae: 0xab, // left-pointing double angle quotation mark
        0xaf: 0xbb, // right-pointing double angle quotation mark
        // THIS BLOCK INCLUDES THE 32 EXTENDED (TWO-BYTE) LINE 21 CHARACTERS
        // THAT COME FROM HI BYTE=0x13 AND LOW BETWEEN 0x20 AND 0x3F
        0xb0: 0xc3, // Uppercase A, tilde
        0xb1: 0xe3, // Lowercase a, tilde
        0xb2: 0xcd, // Uppercase I, acute accent
        0xb3: 0xcc, // Uppercase I, grave accent
        0xb4: 0xec, // Lowercase i, grave accent
        0xb5: 0xd2, // Uppercase O, grave accent
        0xb6: 0xf2, // Lowercase o, grave accent
        0xb7: 0xd5, // Uppercase O, tilde
        0xb8: 0xf5, // Lowercase o, tilde
        0xb9: 0x7b, // Open curly brace
        0xba: 0x7d, // Closing curly brace
        0xbb: 0x5c, // Backslash
        0xbc: 0x5e, // Caret
        0xbd: 0x5f, // Underscore
        0xbe: 0x7c, // Pipe (vertical line)
        0xbf: 0x223c, // Tilde operator
        0xc0: 0xc4, // Uppercase A, umlaut
        0xc1: 0xe4, // Lowercase A, umlaut
        0xc2: 0xd6, // Uppercase O, umlaut
        0xc3: 0xf6, // Lowercase o, umlaut
        0xc4: 0xdf, // Esszett (sharp S)
        0xc5: 0xa5, // Yen symbol
        0xc6: 0xa4, // Generic currency sign
        0xc7: 0x2503, // Box drawings heavy vertical
        0xc8: 0xc5, // Uppercase A, ring
        0xc9: 0xe5, // Lowercase A, ring
        0xca: 0xd8, // Uppercase O, stroke
        0xcb: 0xf8, // Lowercase o, strok
        0xcc: 0x250f, // Box drawings heavy down and right
        0xcd: 0x2513, // Box drawings heavy down and left
        0xce: 0x2517, // Box drawings heavy up and right
        0xcf: 0x251b // Box drawings heavy up and left
    };

    /**
     * Get Unicode Character from CEA-608 byte code
     */
    var getCharForByte = function getCharForByte(byte) {
        var charCode = byte;
        if (specialCea608CharsCodes.hasOwnProperty(byte)) {
            charCode = specialCea608CharsCodes[byte];
        }
        return String.fromCharCode(charCode);
    };

    var NR_ROWS = 15,
        NR_COLS = 32;
    // Tables to look up row from PAC data
    var rowsLowCh1 = { 0x11: 1, 0x12: 3, 0x15: 5, 0x16: 7, 0x17: 9, 0x10: 11, 0x13: 12, 0x14: 14 };
    var rowsHighCh1 = { 0x11: 2, 0x12: 4, 0x15: 6, 0x16: 8, 0x17: 10, 0x13: 13, 0x14: 15 };
    var rowsLowCh2 = { 0x19: 1, 0x1A: 3, 0x1D: 5, 0x1E: 7, 0x1F: 9, 0x18: 11, 0x1B: 12, 0x1C: 14 };
    var rowsHighCh2 = { 0x19: 2, 0x1A: 4, 0x1D: 6, 0x1E: 8, 0x1F: 10, 0x1B: 13, 0x1C: 15 };

    var backgroundColors = ['white', 'green', 'blue', 'cyan', 'red', 'yellow', 'magenta', 'black', 'transparent'];

    /**
     * Simple logger class to be able to write with time-stamps and filter on level.
     */
    var logger = {
        //verboseFilter : {'DATA' : 3, 'DEBUG' : 3, 'INFO' : 2, 'WARNING' : 2, 'TEXT' : 1, 'ERROR' : 0},
        verboseFilter: { 'DATA': 4, 'DEBUG': 4, 'INFO': 4, 'WARNING': 2, 'TEXT': 1, 'ERROR': 0 },
        time: null,
        verboseLevel: 0, // Only write errors
        setTime: function setTime(newTime) {
            this.time = newTime;
        },
        log: function log(severity, msg) {
            var minLevel = this.verboseFilter[severity];
            if (this.verboseLevel >= minLevel) {
                console.log(this.time + " [" + severity + "] " + msg);
            }
        },

        setLogLevel: function setLogLevel(level) {
            this.verboseLevel = level;
        }
    };

    var numArrayToHexArray = function numArrayToHexArray(numArray) {
        var hexArray = [];
        for (var j = 0; j < numArray.length; j++) {
            hexArray.push(numArray[j].toString(16));
        }
        return hexArray;
    };

    /**
     * State of CEA-608 pen or character
     * @constructor
     */
    var PenState = function PenState(foreground, underline, italics, background, flash) {
        this.foreground = foreground || "white";
        this.underline = underline || false;
        this.italics = italics || false;
        this.background = background || "black";
        this.flash = flash || false;
    };

    PenState.prototype = {

        reset: function reset() {
            this.foreground = "white";
            this.underline = false;
            this.italics = false;
            this.background = "black";
            this.flash = false;
        },

        setStyles: function setStyles(styles) {
            var attribs = ["foreground", "underline", "italics", "background", "flash"];
            for (var i = 0; i < attribs.length; i++) {
                var style = attribs[i];
                if (styles.hasOwnProperty(style)) {
                    this[style] = styles[style];
                }
            }
        },

        isDefault: function isDefault() {
            return this.foreground === "white" && !this.underline && !this.italics && this.background === "black" && !this.flash;
        },

        equals: function equals(other) {
            return this.foreground === other.foreground && this.underline === other.underline && this.italics === other.italics && this.background === other.background && this.flash === other.flash;
        },

        copy: function copy(newPenState) {
            this.foreground = newPenState.foreground;
            this.underline = newPenState.underline;
            this.italics = newPenState.italics;
            this.background = newPenState.background;
            this.flash = newPenState.flash;
        },

        toString: function toString() {
            return "color=" + this.foreground + ", underline=" + this.underline + ", italics=" + this.italics + ", background=" + this.background + ", flash=" + this.flash;
        }
    };

    /**
     * Unicode character with styling and background.
     * @constructor
     */
    var StyledUnicodeChar = function StyledUnicodeChar(uchar, foreground, underline, italics, background, flash) {
        this.uchar = uchar || ' '; // unicode character
        this.penState = new PenState(foreground, underline, italics, background, flash);
    };

    StyledUnicodeChar.prototype = {

        reset: function reset() {
            this.uchar = ' ';
            this.penState.reset();
        },

        setChar: function setChar(uchar, newPenState) {
            this.uchar = uchar;
            this.penState.copy(newPenState);
        },

        setPenState: function setPenState(newPenState) {
            this.penState.copy(newPenState);
        },

        equals: function equals(other) {
            return this.uchar === other.uchar && this.penState.equals(other.penState);
        },

        copy: function copy(newChar) {
            this.uchar = newChar.uchar;
            this.penState.copy(newChar.penState);
        },

        isEmpty: function isEmpty() {
            return this.uchar === ' ' && this.penState.isDefault();
        }
    };

    /**
     * CEA-608 row consisting of NR_COLS instances of StyledUnicodeChar.
     * @constructor
     */
    var Row = function Row() {
        this.chars = [];
        for (var i = 0; i < NR_COLS; i++) {
            this.chars.push(new StyledUnicodeChar());
        }
        this.pos = 0;
        this.currPenState = new PenState();
    };

    Row.prototype = {

        equals: function equals(other) {
            var equal = true;
            for (var i = 0; i < NR_COLS; i++) {
                if (!this.chars[i].equals(other.chars[i])) {
                    equal = false;
                    break;
                }
            }
            return equal;
        },

        copy: function copy(other) {
            for (var i = 0; i < NR_COLS; i++) {
                this.chars[i].copy(other.chars[i]);
            }
        },

        isEmpty: function isEmpty() {
            var empty = true;
            for (var i = 0; i < NR_COLS; i++) {
                if (!this.chars[i].isEmpty()) {
                    empty = false;
                    break;
                }
            }
            return empty;
        },

        /**
         *  Set the cursor to a valid column.
         */
        setCursor: function setCursor(absPos) {
            if (this.pos !== absPos) {
                this.pos = absPos;
            }
            if (this.pos < 0) {
                logger.log("ERROR", "Negative cursor position " + this.pos);
                this.pos = 0;
            } else if (this.pos > NR_COLS) {
                logger.log("ERROR", "Too large cursor position " + this.pos);
                this.pos = NR_COLS;
            }
        },

        /** 
         * Move the cursor relative to current position.
         */
        moveCursor: function moveCursor(relPos) {
            var newPos = this.pos + relPos;
            if (relPos > 1) {
                for (var i = this.pos + 1; i < newPos + 1; i++) {
                    this.chars[i].setPenState(this.currPenState);
                }
            }
            this.setCursor(newPos);
        },

        /**
         * Backspace, move one step back and clear character.
         */
        backSpace: function backSpace() {
            this.moveCursor(-1);
            this.chars[this.pos].setChar(' ', this.currPenState);
        },

        insertChar: function insertChar(byte) {
            if (byte >= 0x90) {
                //Extended char
                this.backSpace();
            }
            var char = getCharForByte(byte);
            if (this.pos >= NR_COLS) {
                logger.log("ERROR", "Cannot insert " + byte.toString(16) + " (" + char + ") at position " + this.pos + ". Skipping it!");
                return;
            }
            this.chars[this.pos].setChar(char, this.currPenState);
            this.moveCursor(1);
        },

        clearFromPos: function clearFromPos(startPos) {
            var i;
            for (i = startPos; i < NR_COLS; i++) {
                this.chars[i].reset();
            }
        },

        clear: function clear() {
            this.clearFromPos(0);
            this.pos = 0;
            this.currPenState.reset();
        },

        clearToEndOfRow: function clearToEndOfRow() {
            this.clearFromPos(this.pos);
        },

        getTextString: function getTextString() {
            var chars = [];
            var empty = true;
            for (var i = 0; i < NR_COLS; i++) {
                var char = this.chars[i].uchar;
                if (char !== " ") {
                    empty = false;
                }
                chars.push(char);
            }
            if (empty) {
                return "";
            } else {
                return chars.join("");
            }
        },

        setPenStyles: function setPenStyles(styles) {
            this.currPenState.setStyles(styles);
            var currChar = this.chars[this.pos];
            currChar.setPenState(this.currPenState);
        }
    };

    /**
     * Keep a CEA-608 screen of 32x15 styled characters
     * @constructor
    */
    var CaptionScreen = function CaptionScreen() {

        this.rows = [];
        for (var i = 0; i < NR_ROWS; i++) {
            this.rows.push(new Row()); // Note that we use zero-based numbering (0-14)
        }
        this.currRow = NR_ROWS - 1;
        this.nrRollUpRows = null;
        this.reset();
    };

    CaptionScreen.prototype = {

        reset: function reset() {
            for (var i = 0; i < NR_ROWS; i++) {
                this.rows[i].clear();
            }
            this.currRow = NR_ROWS - 1;
        },

        equals: function equals(other) {
            var equal = true;
            for (var i = 0; i < NR_ROWS; i++) {
                if (!this.rows[i].equals(other.rows[i])) {
                    equal = false;
                    break;
                }
            }
            return equal;
        },

        copy: function copy(other) {
            for (var i = 0; i < NR_ROWS; i++) {
                this.rows[i].copy(other.rows[i]);
            }
        },

        isEmpty: function isEmpty() {
            var empty = true;
            for (var i = 0; i < NR_ROWS; i++) {
                if (!this.rows[i].isEmpty()) {
                    empty = false;
                    break;
                }
            }
            return empty;
        },

        backSpace: function backSpace() {
            var row = this.rows[this.currRow];
            row.backSpace();
        },

        clearToEndOfRow: function clearToEndOfRow() {
            var row = this.rows[this.currRow];
            row.clearToEndOfRow();
        },

        /**
         * Insert a character (without styling) in the current row.
         */
        insertChar: function insertChar(char) {
            var row = this.rows[this.currRow];
            row.insertChar(char);
        },

        setPen: function setPen(styles) {
            var row = this.rows[this.currRow];
            row.setPenStyles(styles);
        },

        moveCursor: function moveCursor(relPos) {
            var row = this.rows[this.currRow];
            row.moveCursor(relPos);
        },

        setCursor: function setCursor(absPos) {
            logger.log("INFO", "setCursor: " + absPos);
            var row = this.rows[this.currRow];
            row.setCursor(absPos);
        },

        setPAC: function setPAC(pacData) {
            logger.log("INFO", "pacData = " + JSON.stringify(pacData));
            var newRow = pacData.row - 1;
            if (this.nrRollUpRows && newRow < this.nrRollUpRows - 1) {
                newRow = this.nrRollUpRows - 1;
            }
            this.currRow = newRow;
            var row = this.rows[this.currRow];
            if (pacData.indent !== null) {
                var indent = pacData.indent;
                var prevPos = Math.max(indent - 1, 0);
                row.setCursor(pacData.indent);
                pacData.color = row.chars[prevPos].penState.foreground;
            }
            var styles = { foreground: pacData.color, underline: pacData.underline, italics: pacData.italics, background: 'black', flash: false };
            this.setPen(styles);
        },

        /**
         * Set background/extra foreground, but first do back_space, and then insert space (backwards compatibility).
         */
        setBkgData: function setBkgData(bkgData) {

            logger.log("INFO", "bkgData = " + JSON.stringify(bkgData));
            this.backSpace();
            this.setPen(bkgData);
            this.insertChar(0x20); //Space
        },

        setRollUpRows: function setRollUpRows(nrRows) {
            this.nrRollUpRows = nrRows;
        },

        rollUp: function rollUp() {
            if (this.nrRollUpRows === null) {
                logger.log("DEBUG", "roll_up but nrRollUpRows not set yet");
                return; //Not properly setup
            }
            logger.log("TEXT", this.getDisplayText());
            var topRowIndex = this.currRow + 1 - this.nrRollUpRows;
            var topRow = this.rows.splice(topRowIndex, 1)[0];
            topRow.clear();
            this.rows.splice(this.currRow, 0, topRow);
            logger.log("INFO", "Rolling up");
            //logger.log("TEXT", this.get_display_text())
        },

        /**
         * Get all non-empty rows with as unicode text. 
         */
        getDisplayText: function getDisplayText(asOneRow) {
            asOneRow = asOneRow || false;
            var displayText = [];
            var text = "";
            var rowNr = -1;
            for (var i = 0; i < NR_ROWS; i++) {
                var rowText = this.rows[i].getTextString();
                if (rowText) {
                    rowNr = i + 1;
                    if (asOneRow) {
                        displayText.push("Row " + rowNr + ': "' + rowText + '"');
                    } else {
                        displayText.push(rowText.trim());
                    }
                }
            }
            if (displayText.length > 0) {
                if (asOneRow) {
                    text = "[" + displayText.join(" | ") + "]";
                } else {
                    text = displayText.join("\n");
                }
            }
            return text;
        },

        getTextAndFormat: function getTextAndFormat() {
            return this.rows;
        }
    };

    /**
     * Handle a CEA-608 channel and send decoded data to outputFilter
     * @constructor
     * @param {Number} channelNumber (1 or 2)
     * @param {CueHandler} outputFilter Output from channel1 newCue(startTime, endTime, captionScreen)
    */
    var Cea608Channel = function Cea608Channel(channelNumber, outputFilter) {

        this.chNr = channelNumber;
        this.outputFilter = outputFilter;
        this.mode = null;
        this.verbose = 0;
        this.displayedMemory = new CaptionScreen();
        this.nonDisplayedMemory = new CaptionScreen();
        this.lastOutputScreen = new CaptionScreen();
        this.currRollUpRow = this.displayedMemory.rows[NR_ROWS - 1];
        this.writeScreen = this.displayedMemory;
        this.mode = null;
        this.cueStartTime = null; // Keeps track of where a cue started.
    };

    Cea608Channel.prototype = {

        modes: ["MODE_ROLL-UP", "MODE_POP-ON", "MODE_PAINT-ON", "MODE_TEXT"],

        reset: function reset() {
            this.mode = null;
            this.displayedMemory.reset();
            this.nonDisplayedMemory.reset();
            this.lastOutputScreen.reset();
            this.currRollUpRow = this.displayedMemory.rows[NR_ROWS - 1];
            this.writeScreen = this.displayedMemory;
            this.mode = null;
            this.cueStartTime = null;
            this.lastCueEndTime = null;
        },

        getHandler: function getHandler() {
            return this.outputFilter;
        },

        setHandler: function setHandler(newHandler) {
            this.outputFilter = newHandler;
        },

        setPAC: function setPAC(pacData) {
            this.writeScreen.setPAC(pacData);
        },

        setBkgData: function setBkgData(bkgData) {
            this.writeScreen.setBkgData(bkgData);
        },

        setMode: function setMode(newMode) {
            if (newMode === this.mode) {
                return;
            }
            this.mode = newMode;
            logger.log("INFO", "MODE=" + newMode);
            if (this.mode == "MODE_POP-ON") {
                this.writeScreen = this.nonDisplayedMemory;
            } else {
                this.writeScreen = this.displayedMemory;
                this.writeScreen.reset();
            }
            if (this.mode !== "MODE_ROLL-UP") {
                this.displayedMemory.nrRollUpRows = null;
                this.nonDisplayedMemory.nrRollUpRows = null;
            }
            this.mode = newMode;
        },

        insertChars: function insertChars(chars) {
            for (var i = 0; i < chars.length; i++) {
                this.writeScreen.insertChar(chars[i]);
            }
            var screen = this.writeScreen === this.displayedMemory ? "DISP" : "NON_DISP";
            logger.log("INFO", screen + ": " + this.writeScreen.getDisplayText(true));
            if (this.mode === "MODE_PAINT-ON" || this.mode === "MODE_ROLL-UP") {
                logger.log("TEXT", "DISPLAYED: " + this.displayedMemory.getDisplayText(true));
                this.outputDataUpdate();
            }
        },

        cc_RCL: function cc_RCL() {
            // Resume Caption Loading (switch mode to Pop On)
            logger.log("INFO", "RCL - Resume Caption Loading");
            this.setMode("MODE_POP-ON");
        },
        cc_BS: function cc_BS() {
            // BackSpace
            logger.log("INFO", "BS - BackSpace");
            if (this.mode === "MODE_TEXT") {
                return;
            }
            this.writeScreen.backSpace();
            if (this.writeScreen === this.displayedMemory) {
                this.outputDataUpdate();
            }
        },
        cc_AOF: function cc_AOF() {
            // Reserved (formerly Alarm Off)
            return;
        },
        cc_AON: function cc_AON() {
            // Reserved (formerly Alarm On)
            return;
        },
        cc_DER: function cc_DER() {
            // Delete to End of Row
            logger.log("INFO", "DER- Delete to End of Row");
            this.writeScreen.clearToEndOfRow();
            this.outputDataUpdate();
        },
        cc_RU: function cc_RU(nrRows) {
            //Roll-Up Captions-2,3,or 4 Rows
            logger.log("INFO", "RU(" + nrRows + ") - Roll Up");
            this.writeScreen = this.displayedMemory;
            this.setMode("MODE_ROLL-UP");
            this.writeScreen.setRollUpRows(nrRows);
        },
        cc_FON: function cc_FON() {
            //Flash On
            logger.log("INFO", "FON - Flash On");
            this.writeScreen.setPen({ flash: true });
        },
        cc_RDC: function cc_RDC() {
            // Resume Direct Captioning (switch mode to PaintOn)
            logger.log("INFO", "RDC - Resume Direct Captioning");
            this.setMode("MODE_PAINT-ON");
        },
        cc_TR: function cc_TR() {
            // Text Restart in text mode (not supported, however)
            logger.log("INFO", "TR");
            this.setMode("MODE_TEXT");
        },
        cc_RTD: function cc_RTD() {
            // Resume Text Display in Text mode (not supported, however)
            logger.log("INFO", "RTD");
            this.setMode("MODE_TEXT");
        },
        cc_EDM: function cc_EDM() {
            // Erase Displayed Memory
            logger.log("INFO", "EDM - Erase Displayed Memory");
            this.displayedMemory.reset();
            this.outputDataUpdate();
        },
        cc_CR: function cc_CR() {
            // Carriage Return
            logger.log("CR - Carriage Return");
            this.writeScreen.rollUp();
            this.outputDataUpdate();
        },
        cc_ENM: function cc_ENM() {
            //Erase Non-Displayed Memory
            logger.log("INFO", "ENM - Erase Non-displayed Memory");
            this.nonDisplayedMemory.reset();
        },
        cc_EOC: function cc_EOC() {
            //End of Caption (Flip Memories)
            logger.log("INFO", "EOC - End Of Caption");
            if (this.mode === "MODE_POP-ON") {
                var tmp = this.displayedMemory;
                this.displayedMemory = this.nonDisplayedMemory;
                this.nonDisplayedMemory = tmp;
                this.writeScreen = this.nonDisplayedMemory;
                logger.log("TEXT", "DISP: " + this.displayedMemory.getDisplayText());
            }
            this.outputDataUpdate();
        },
        cc_TO: function cc_TO(nrCols) {
            // Tab Offset 1,2, or 3 columns
            logger.log("INFO", "TO(" + nrCols + ") - Tab Offset");
            this.writeScreen.moveCursor(nrCols);
        },
        cc_MIDROW: function cc_MIDROW(secondByte) {
            // Parse MIDROW command
            var styles = { flash: false };
            styles.underline = secondByte % 2 === 1;
            styles.italics = secondByte >= 0x2e;
            if (!styles.italics) {
                var colorIndex = Math.floor(secondByte / 2) - 0x10;
                var colors = ["white", "green", "blue", "cyan", "red", "yellow", "magenta"];
                styles.foreground = colors[colorIndex];
            } else {
                styles.foreground = "white";
            }
            logger.log("INFO", "MIDROW: " + JSON.stringify(styles));
            this.writeScreen.setPen(styles);
        },

        outputDataUpdate: function outputDataUpdate() {
            var t = logger.time;
            if (t === null) {
                return;
            }
            if (this.outputFilter) {
                if (this.outputFilter.updateData) {
                    this.outputFilter.updateData(t, this.displayedMemory);
                }
                if (this.cueStartTime === null && !this.displayedMemory.isEmpty()) {
                    // Start of a new cue
                    this.cueStartTime = t;
                } else {
                    if (!this.displayedMemory.equals(this.lastOutputScreen)) {
                        if (this.outputFilter.newCue) {
                            this.outputFilter.newCue(this.cueStartTime, t, this.lastOutputScreen);
                        }
                        this.cueStartTime = this.displayedMemory.isEmpty() ? null : t;
                    }
                }
                this.lastOutputScreen.copy(this.displayedMemory);
            }
        },

        cueSplitAtTime: function cueSplitAtTime(t) {
            if (this.outputFilter) {
                if (!this.displayedMemory.isEmpty()) {
                    if (this.outputFilter.newCue) {
                        this.outputFilter.newCue(this.cueStartTime, t, this.displayedMemory);
                    }
                    this.cueStartTime = t;
                }
            }
        }
    };

    /**
     * Parse CEA-608 data and send decoded data to out1 and out2.
     * @constructor
     * @param {Number} field  CEA-608 field (1 or 2)
     * @param {CueHandler} out1 Output from channel1 newCue(startTime, endTime, captionScreen)
     * @param {CueHandler} out2 Output from channel2 newCue(startTime, endTime, captionScreen)
     */
    var Cea608Parser = function Cea608Parser(field, out1, out2) {
        this.field = field || 1;
        this.outputs = [out1, out2];
        this.channels = [new Cea608Channel(1, out1), new Cea608Channel(2, out2)];
        this.currChNr = -1; // Will be 1 or 2
        this.lastCmdA = null; // First byte of last command
        this.lastCmdB = null; // Second byte of last command
        this.bufferedData = [];
        this.startTime = null;
        this.lastTime = null;
        this.dataCounters = { 'padding': 0, 'char': 0, 'cmd': 0, 'other': 0 };
    };

    Cea608Parser.prototype = {

        getHandler: function getHandler(index) {
            return this.channels[index].getHandler();
        },

        setHandler: function setHandler(index, newHandler) {
            this.channels[index].setHandler(newHandler);
        },

        /**
         * Add data for time t in forms of list of bytes (unsigned ints). The bytes are treated as pairs.
         */
        addData: function addData(t, byteList) {
            var cmdFound,
                a,
                b,
                charsFound = false;

            this.lastTime = t;
            logger.setTime(t);

            for (var i = 0; i < byteList.length; i += 2) {
                a = byteList[i] & 0x7f;
                b = byteList[i + 1] & 0x7f;
                if (a === 0 && b === 0) {
                    this.dataCounters.padding += 2;
                    continue;
                } else {
                    logger.log("DATA", "[" + numArrayToHexArray([byteList[i], byteList[i + 1]]) + "] -> (" + numArrayToHexArray([a, b]) + ")");
                }
                cmdFound = this.parseCmd(a, b);
                if (!cmdFound) {
                    cmdFound = this.parseMidrow(a, b);
                }
                if (!cmdFound) {
                    cmdFound = this.parsePAC(a, b);
                }
                if (!cmdFound) {
                    cmdFound = this.parseBackgroundAttributes(a, b);
                }
                if (!cmdFound) {
                    charsFound = this.parseChars(a, b);
                    if (charsFound) {
                        if (this.currChNr && this.currChNr >= 0) {
                            var channel = this.channels[this.currChNr - 1];
                            channel.insertChars(charsFound);
                        } else {
                            logger.log("WARNING", "No channel found yet. TEXT-MODE?");
                        }
                    }
                }
                if (cmdFound) {
                    this.dataCounters.cmd += 2;
                } else if (charsFound) {
                    this.dataCounters.char += 2;
                } else {
                    this.dataCounters.other += 2;
                    logger.log("WARNING", "Couldn't parse cleaned data " + numArrayToHexArray([a, b]) + " orig: " + numArrayToHexArray([byteList[i], byteList[i + 1]]));
                }
            }
        },

        /**
         * Parse Command.
         * @returns {Boolean} Tells if a command was found
         */
        parseCmd: function parseCmd(a, b) {
            var chNr = null;

            var cond1 = (a === 0x14 || a === 0x1C) && 0x20 <= b && b <= 0x2F;
            var cond2 = (a === 0x17 || a === 0x1F) && 0x21 <= b && b <= 0x23;
            if (!(cond1 || cond2)) {
                return false;
            }

            if (a === this.lastCmdA && b === this.lastCmdB) {
                this.lastCmdA = null;
                this.lastCmdB = null; // Repeated commands are dropped (once)
                logger.log("DEBUG", "Repeated command (" + numArrayToHexArray([a, b]) + ") is dropped");
                return true;
            }

            if (a === 0x14 || a === 0x17) {
                chNr = 1;
            } else {
                chNr = 2; // (a === 0x1C || a=== 0x1f)
            }

            var channel = this.channels[chNr - 1];

            if (a === 0x14 || a === 0x1C) {
                if (b === 0x20) {
                    channel.cc_RCL();
                } else if (b === 0x21) {
                    channel.cc_BS();
                } else if (b === 0x22) {
                    channel.cc_AOF();
                } else if (b === 0x23) {
                    channel.cc_AON();
                } else if (b === 0x24) {
                    channel.cc_DER();
                } else if (b === 0x25) {
                    channel.cc_RU(2);
                } else if (b === 0x26) {
                    channel.cc_RU(3);
                } else if (b === 0x27) {
                    channel.cc_RU(4);
                } else if (b === 0x28) {
                    channel.cc_FON();
                } else if (b === 0x29) {
                    channel.cc_RDC();
                } else if (b === 0x2A) {
                    channel.cc_TR();
                } else if (b === 0x2B) {
                    channel.cc_RTD();
                } else if (b === 0x2C) {
                    channel.cc_EDM();
                } else if (b === 0x2D) {
                    channel.cc_CR();
                } else if (b === 0x2E) {
                    channel.cc_ENM();
                } else if (b === 0x2F) {
                    channel.cc_EOC();
                }
            } else {
                //a == 0x17 || a == 0x1F
                channel.cc_TO(b - 0x20);
            }
            this.lastCmdA = a;
            this.lastCmdB = b;
            this.currChNr = chNr;
            return true;
        },

        /**
         * Parse midrow styling command
         * @returns {Boolean}
         */
        parseMidrow: function parseMidrow(a, b) {
            var chNr = null;

            if ((a === 0x11 || a === 0x19) && 0x20 <= b && b <= 0x2f) {
                if (a === 0x11) {
                    chNr = 1;
                } else {
                    chNr = 2;
                }
                if (chNr !== this.currChNr) {
                    logger.log("ERROR", "Mismatch channel in midrow parsing");
                    return false;
                }
                var channel = this.channels[chNr - 1];
                channel.cc_MIDROW(b);
                logger.log("DEBUG", "MIDROW (" + numArrayToHexArray([a, b]) + ")");
                return true;
            }
            return false;
        },
        /**
         * Parse Preable Access Codes (Table 53).
         * @returns {Boolean} Tells if PAC found
         */
        parsePAC: function parsePAC(a, b) {

            var chNr = null;
            var row = null;

            var case1 = (0x11 <= a && a <= 0x17 || 0x19 <= a && a <= 0x1F) && 0x40 <= b && b <= 0x7F;
            var case2 = (a === 0x10 || a === 0x18) && 0x40 <= b && b <= 0x5F;
            if (!(case1 || case2)) {
                return false;
            }

            if (a === this.lastCmdA && b === this.lastCmdB) {
                this.lastCmdA = null;
                this.lastCmdB = null;
                return true; // Repeated commands are dropped (once)
            }

            chNr = a <= 0x17 ? 1 : 2;

            if (0x40 <= b && b <= 0x5F) {
                row = chNr === 1 ? rowsLowCh1[a] : rowsLowCh2[a];
            } else {
                // 0x60 <= b <= 0x7F
                row = chNr === 1 ? rowsHighCh1[a] : rowsHighCh2[a];
            }
            var pacData = this.interpretPAC(row, b);
            var channel = this.channels[chNr - 1];
            channel.setPAC(pacData);
            this.lastCmdA = a;
            this.lastCmdB = b;
            this.currChNr = chNr;
            return true;
        },

        /**
         * Interpret the second byte of the pac, and return the information.
         * @returns {Object} pacData with style parameters.
         */
        interpretPAC: function interpretPAC(row, byte) {
            var pacIndex = byte;
            var pacData = { color: null, italics: false, indent: null, underline: false, row: row };

            if (byte > 0x5F) {
                pacIndex = byte - 0x60;
            } else {
                pacIndex = byte - 0x40;
            }
            pacData.underline = (pacIndex & 1) === 1;
            if (pacIndex <= 0xd) {
                pacData.color = ['white', 'green', 'blue', 'cyan', 'red', 'yellow', 'magenta', 'white'][Math.floor(pacIndex / 2)];
            } else if (pacIndex <= 0xf) {
                pacData.italics = true;
                pacData.color = 'white';
            } else {
                pacData.indent = Math.floor((pacIndex - 0x10) / 2) * 4;
            }
            return pacData; // Note that row has zero offset. The spec uses 1.
        },

        /**
         * Parse characters.
         * @returns An array with 1 to 2 codes corresponding to chars, if found. null otherwise.
         */
        parseChars: function parseChars(a, b) {

            var channelNr = null,
                charCodes = null,
                charCode1 = null;
            //charCode2 = null;

            if (a >= 0x19) {
                channelNr = 2;
                charCode1 = a - 8;
            } else {
                channelNr = 1;
                charCode1 = a;
            }
            if (0x11 <= charCode1 && charCode1 <= 0x13) {
                // Special character
                var oneCode = b;
                if (charCode1 === 0x11) {
                    oneCode = b + 0x50;
                } else if (charCode1 === 0x12) {
                    oneCode = b + 0x70;
                } else {
                    oneCode = b + 0x90;
                }
                logger.log("INFO", "Special char '" + getCharForByte(oneCode) + "' in channel " + channelNr);
                charCodes = [oneCode];
            } else if (0x20 <= a && a <= 0x7f) {
                charCodes = b === 0 ? [a] : [a, b];
            }
            if (charCodes) {
                var hexCodes = numArrayToHexArray(charCodes);
                logger.log("DEBUG", "Char codes =  " + hexCodes.join(","));
                this.lastCmdA = null;
                this.lastCmdB = null;
            }
            return charCodes;
        },

        /**
        * Parse extended background attributes as well as new foreground color black.
        * @returns{Boolean} Tells if background attributes are found
        */
        parseBackgroundAttributes: function parseBackgroundAttributes(a, b) {
            var bkgData, index, chNr, channel;

            var case1 = (a === 0x10 || a === 0x18) && 0x20 <= b && b <= 0x2f;
            var case2 = (a === 0x17 || a === 0x1f) && 0x2d <= b && b <= 0x2f;
            if (!(case1 || case2)) {
                return false;
            }
            bkgData = {};
            if (a === 0x10 || a === 0x18) {
                index = Math.floor((b - 0x20) / 2);
                bkgData.background = backgroundColors[index];
                if (b % 2 === 1) {
                    bkgData.background = bkgData.background + "_semi";
                }
            } else if (b === 0x2d) {
                bkgData.background = "transparent";
            } else {
                bkgData.foreground = "black";
                if (b === 0x2f) {
                    bkgData.underline = true;
                }
            }
            chNr = a < 0x18 ? 1 : 2;
            channel = this.channels[chNr - 1];
            channel.setBkgData(bkgData);
            this.lastCmdA = null;
            this.lastCmdB = null;
            return true;
        },

        /**
         * Reset state of parser and its channels.
         */
        reset: function reset() {
            for (var i = 0; i < this.channels.length; i++) {
                if (this.channels[i]) {
                    this.channels[i].reset();
                }
            }
            this.lastCmdA = null;
            this.lastCmdB = null;
        },

        /**
         * Trigger the generation of a cue, and the start of a new one if displayScreens are not empty.
         */
        cueSplitAtTime: function cueSplitAtTime(t) {
            for (var i = 0; i < this.channels.length; i++) {
                if (this.channels[i]) {
                    this.channels[i].cueSplitAtTime(t);
                }
            }
        }
    };

    /**
     * Find ranges corresponding to SEA CEA-608 NALUS in sizeprepended NALU array.
     * @param {raw} dataView of binary data
     * @param {startPos} start position in raw
     * @param {size} total size of data in raw to consider
     * @returns 
     */
    var findCea608Nalus = function findCea608Nalus(raw, startPos, size) {
        var nalSize = 0,
            cursor = startPos,
            nalType = 0,
            cea608NaluRanges = [],


        // Check SEI data according to ANSI-SCTE 128
        isCEA608SEI = function isCEA608SEI(payloadType, payloadSize, raw, pos) {
            if (payloadType !== 4 || payloadSize < 8) {
                return null;
            }
            var countryCode = raw.getUint8(pos);
            var providerCode = raw.getUint16(pos + 1);
            var userIdentifier = raw.getUint32(pos + 3);
            var userDataTypeCode = raw.getUint8(pos + 7);
            return countryCode == 0xB5 && providerCode == 0x31 && userIdentifier == 0x47413934 && userDataTypeCode == 0x3;
        };
        while (cursor < startPos + size) {
            nalSize = raw.getUint32(cursor);
            nalType = raw.getUint8(cursor + 4) & 0x1F;
            //console.log(time + "  NAL " + nalType);
            if (nalType === 6) {
                // SEI NAL Unit. The NAL header is the first byte
                //console.log("SEI NALU of size " + nalSize + " at time " + time);
                var pos = cursor + 5;
                var payloadType = -1;
                while (pos < cursor + 4 + nalSize - 1) {
                    // The last byte should be rbsp_trailing_bits
                    payloadType = 0;
                    var b = 0xFF;
                    while (b === 0xFF) {
                        b = raw.getUint8(pos);
                        payloadType += b;
                        pos++;
                    }
                    var payloadSize = 0;
                    b = 0xFF;
                    while (b === 0xFF) {
                        b = raw.getUint8(pos);
                        payloadSize += b;
                        pos++;
                    }
                    if (isCEA608SEI(payloadType, payloadSize, raw, pos)) {
                        //console.log("CEA608 SEI " + time + " " + payloadSize);
                        cea608NaluRanges.push([pos, payloadSize]);
                    }
                    pos += payloadSize;
                }
            }
            cursor += nalSize + 4;
        }
        return cea608NaluRanges;
    };

    var extractCea608DataFromRange = function extractCea608DataFromRange(raw, cea608Range) {
        var pos = cea608Range[0];
        var fieldData = [[], []];

        pos += 8; // Skip the identifier up to userDataTypeCode
        var ccCount = raw.getUint8(pos) & 0x1f;
        pos += 2; // Advance 1 and skip reserved byte

        for (var i = 0; i < ccCount; i++) {
            var byte = raw.getUint8(pos);
            var ccValid = byte & 0x4;
            var ccType = byte & 0x3;
            pos++;
            var ccData1 = raw.getUint8(pos); // Keep parity bit
            pos++;
            var ccData2 = raw.getUint8(pos); // Keep parity bit
            pos++;
            if (ccValid && (ccData1 & 0x7f) + (ccData2 & 0x7f) !== 0) {
                //Check validity and non-empty data
                if (ccType === 0) {
                    fieldData[0].push(ccData1);
                    fieldData[0].push(ccData2);
                } else if (ccType === 1) {
                    fieldData[1].push(ccData1);
                    fieldData[1].push(ccData2);
                }
            }
        }
        return fieldData;
    };

    exports.logger = logger;
    exports.PenState = PenState;
    exports.CaptionScreen = CaptionScreen;
    exports.Cea608Parser = Cea608Parser;
    exports.findCea608Nalus = findCea608Nalus;
    exports.extractCea608DataFromRange = extractCea608DataFromRange;
})(typeof exports === 'undefined' ? undefined.cea608parser = {} : exports);

},{}],45:[function(_dereq_,module,exports){
"use strict";

(function (exports) {
    "use strict";

    var C0_SET_START_CODE_CEA_708 = 0x0;
    var C0_SET_END_CODE_CEA_708 = 0x1F;
    var C0_SET_EXT_CODE_CEA_708 = 0x10;
    var C0_SET_P10_CODE_CEA_708 = 0x18;
    var C1_SET_START_CODE_CEA_708 = 0x80;
    var C1_SET_Mid_CODE_CEA_708 = 0x8F;
    var C1_SET_END_CODE_CEA_708 = 0x9F;

    var G0_G2_SET_START_CODE_CEA_708 = 0x20;
    var G0_G2_SET_END_CODE_CEA_708 = 0x7F;

    var G1_G3_SET_START_CODE_CEA_708 = 0xA0;
    //var G1_G3_SET_END_CODE_CEA_708 = 0xFF;
    var ASCII_SPACE_CHAR = " ";

    var CC_DF0 = 0x98,
        CC_DF7 = 0x9F,
        CC_CW0 = 0x80,
        CC_CW7 = 0x87,
        CC_CLW = 0x88,
        CC_DSW = 0x89,
        CC_HDW = 0x8A,
        CC_TGW = 0x8B,
        CC_DLW = 0x8C,
        CC_DLY = 0x8D,
        CC_DLC = 0x8E,
        CC_RET = 0x8F,
        CC_SPA = 0x90,
        CC_SPC = 0x91,
        CC_SPL = 0x92,
        CC_SWA = 0x97;

    var NR_ROWS = 15,
        NR_COLS = 32,
        CC_WINDOWS = 8;

    var CC708RGB_TIMESCALE = 85,

    ///<255/3
    COUNT_G2G3_CHARACTER = 0x1B,
        CC_MAX_SERVICE_BLOCK_SIZE = 0x3F,
        CC_MAX_SERVICE_NUM = 6;

    if (typeof print_scrollDirection === 'undefined') {
        var print_sDirection = {
            LEFT_TO_RIGHT: 0,
            RIGHT_TO_LEFT: 1,
            TOP_TO_BOTTOM: 2,
            BOTTOM_TO_TOP: 3
        };
    }

    var ExtendedG2G3CodeMap = [[0x20, 0x20], [0x21, 0x20], [0x25, 0x2026], ///<Ellipsis
    [0x2A, 0x0160], ///<
    [0x2C, 0x0152], [0x30, 0x2588], ///<solid block
    [0x31, 0x2018], [0x32, 0x2019], [0x33, 0x201C], [0x34, 0x201D], [0x35, 0x2022], [0x39, 0x2122], [0x3A, 0x0161], [0x3C, 0x0153], [0x3D, 0x2120], [0x3F, 0x0178], [0x76, 0x215B], [0x77, 0x215C], [0x78, 0x215D], [0x79, 0x215E], [0x7A, 0x2014], [0x7B, 0x2309], [0x7C, 0x230A], [0x7D, 0x2014], [0x7E, 0x230B], [0x7F, 0x2308], [0xA0, 0x201D]];

    var PresetWinAttri = [[0x00, 0x00, 0x0C, 0x00], [0xC0, 0x00, 0x0C, 0x00], [0x00, 0x00, 0x0E, 0x00], [0x00, 0x00, 0x4C, 0x00], [0xC0, 0x00, 0x4C, 0x00], [0x00, 0x00, 0x4E, 0x00], [0x00, 0x00, 0x24, 0x00]];

    var PresetPenAttri = [[0x05, 0x00], [0x05, 0x01], [0x05, 0x02], [0x05, 0x03], [0x05, 0x04], [0x05, 0x1B], [0x05, 0x1C]];

    var PresetPenColor = [[0x2A, 0x00, 0x00], [0x2A, 0x00, 0x00], [0x2A, 0x00, 0x00], [0x2A, 0x00, 0x00], [0x2A, 0x00, 0x00], [0x2A, 0x30, 0x00], [0x2A, 0x30, 0x00]];

    var R1B7 = function R1B7(d) {
        return d >> 7;
    };
    var R1B6 = function R1B6(d) {
        return d >> 6 & 0x01;
    };
    var R1B5 = function R1B5(d) {
        return d >> 5 & 0x01;
    };
    var R1B4 = function R1B4(d) {
        return d >> 4 & 0x01;
    };
    var R1B3 = function R1B3(d) {
        return d >> 3 & 0x01;
    };
    // var R1B2 = function (d) {
    //     return (d >> 2) & 0x01;
    // };
    // var R1B1 = function (d) {
    //     return (d >> 1) & 0x01;
    // };
    //
    // //
    // var R1B0 = function (d) {
    //     return d & 0x01;
    // };
    var R2B7 = function R2B7(d) {
        return d >> 6;
    };
    // var R2B6 = function(d) {
    //     return ((d >> 5) & 0x03);
    // };
    var R2B5 = function R2B5(d) {
        return d >> 4 & 0x03;
    };
    // var R2B4 = function(d){
    //     return ((d >> 3) & 0x03);
    // };
    var R2B3 = function R2B3(d) {
        return d >> 2 & 0x03;
    };
    // var  R2B2 = function(d) {
    //     return ((d >> 1) & 0x03);
    // };
    var R2B1 = function R2B1(d) {
        return d & 0x03;
    };

    //
    var R3B7 = function R3B7(d) {
        return d >> 5;
    };
    // var R3B6 = function(d) {
    //     return ((d >> 4) & 0x07);
    // };
    var R3B5 = function R3B5(d) {
        return d >> 3 & 0x07;
    };
    // var R3B4 = function(d) {
    //     return ((d >> 2) & 0x07);
    // };
    // var R3B3 = function(d) {
    //     return ((d >> 1) & 0x07);
    // };
    var R3B2 = function R3B2(d) {
        return d & 0x07;
    };

    //
    var R4B7 = function R4B7(d) {
        return d >> 4;
    };
    // var R4B6 = function(d) {
    //     return ((d >> 3) & 0x0f);
    // };
    // var R4B5 = function(d) {
    //     return ((d >> 2) & 0x0f);
    // };
    // var R4B4 = function(d) {
    //     return ((d >> 1) & 0x0f);
    // };
    var R4B3 = function R4B3(d) {
        return d & 0x0f;
    };

    //
    // var R5B7 = function(d) {
    //     return (d >> 3);
    // };
    // var R5B6 = function(d) {
    //     return ((d >> 2) & 0x1f);
    // };
    // var R5B5 = function(d) {
    //     return ((d >> 1) & 0x1f);
    // };
    var R5B4 = function R5B4(d) {
        return d & 0x1f;
    };

    //
    // var R6B7 = function(d) {
    //     return (d >> 2);
    // };
    // var R6B6 = function(d) {
    //     return ((d >> 1) & 0x3f);
    // };
    var R6B5 = function R6B5(d) {
        return d & 0x3f;
    };

    //
    // var R7B7 = function(d) {
    //     return (d >> 1);
    // };
    var R7B6 = function R7B6(d) {
        return d & 0x7f;
    };

    /**
     * Simple logger class to be able to write with time-stamps and filter on level.
     */
    var logger = {
        verboseFilter: { 'DATA': 3, 'DEBUG': 4, 'INFO': 2, 'WARNING': 2, 'TEXT': 1, 'ERROR': 0 },
        time: null,
        verboseLevel: 0, // Only write errors
        setTime: function setTime(newTime) {
            this.time = newTime;
        },
        log: function log(severity, msg) {
            var minLevel = this.verboseFilter[severity];
            if (this.verboseLevel >= minLevel) {
                console.log(this.time + " [" + severity + "] " + msg);
            }
        },
        setLogLevel: function setLogLevel(level) {
            this.verboseLevel = level;
        }
    };

    var numArrayToHexArray = function numArrayToHexArray(numArray) {
        var hexArray = [];
        for (var j = 0; j < numArray.length; j++) {
            hexArray.push(numArray[j].toString(16));
        }
        return hexArray;
    };

    var isAttriValid = function isAttriValid(value, attri) {
        return value.hasOwnProperty(attri);
    };

    var updateAttribute = function updateAttribute(attris, newValue, oldValue) {
        for (var i = 0; i < attris.length; i++) {
            var style = attris[i];
            if (isAttriValid(newValue, style)) {
                oldValue[style] = newValue[style];
            }
        }
        return oldValue;
    };

    var TranslateRowNoToPos = function TranslateRowNoToPos(nRowNo, bSafeArea) {
        bSafeArea = typeof bSafeArea == 'undefined' ? true : bSafeArea;
        if (nRowNo > NR_ROWS) {
            logger.log("ClosedCaption Error:Error nRowNo");
            return 0;
        }
        var Pos = nRowNo * 5;

        if (bSafeArea) {
            return Pos + 10;
        }
        return Pos;
    };

    var TranslatePosToRowNo = function TranslatePosToRowNo(nPos, bSafeArea) {
        bSafeArea = typeof bSafeArea == 'undefined' ? true : bSafeArea;
        var nRowNo = 0;
        if (bSafeArea) {
            nPos -= 10;
        }
        if (nPos === 0) {
            return nRowNo;
        }

        nRowNo = nPos / 5;
        return nRowNo;
    };

    var TranslateColNoToPos = function TranslateColNoToPos(nColumnNo, bSafeArea) {
        bSafeArea = typeof bSafeArea == 'undefined' ? true : bSafeArea;
        if (nColumnNo > 33) //to match isColumnNo is 32,and right col is 32+1;task 19956
            {
                logger.log("ClosedCaption Error:Error nColumnNo");
                return 0;
            }
        var Pos = parseInt(nColumnNo * 25 / 10);

        if (bSafeArea) {
            return Pos + 10;
        }
        return Pos;
    };

    // var TranslatePosToColNo = function(nPos, bSafeArea){
    //     bSafeArea = typeof(bSafeArea) == 'undefined' ? true : bSafeArea;
    //     var nColNo = 0;
    //     if (bSafeArea)
    //     {
    //         nPos -= 10;
    //     }
    //     if (nPos === 0)
    //     {
    //         return 0;
    //     }
    //
    //     nColNo = parseInt(nPos*10/25) + ((parseInt((nPos*10) % 25) === 0) ? 0 : 1);
    //     return nColNo;
    // };

    var setRectPos = function setRectPos(rect, nMinRow, nMaxRow, nMinCol, nMaxCol, bSafeArea) {
        bSafeArea = typeof bSafeArea == 'undefined' ? true : bSafeArea;

        if (nMinRow < NR_ROWS) {
            rect.Top = TranslateRowNoToPos(nMinRow, bSafeArea);
        }
        if (nMaxRow < NR_ROWS) {
            rect.Bottom = TranslateRowNoToPos(nMaxRow + 1, bSafeArea);
        }

        if (nMinCol < NR_COLS) {
            rect.Left = TranslateColNoToPos(nMinCol, bSafeArea);
        }
        if (nMaxCol < NR_COLS) {
            rect.Right = TranslateColNoToPos(nMaxCol + 1, bSafeArea);
        }
        return rect;
    };

    var Color = function Color(red, green, blue, trans) {
        this.Red = red || 0xFF;
        this.Green = green || 0xFF;
        this.Blue = blue || 0xFF;
        this.Trans = trans || 0xFF;
    };

    Color.prototype = {
        reset: function reset() {
            //white
            this.Red = 0xFF;
            this.Green = 0xFF;
            this.Blue = 0xFF;
            this.Trans = 0xFF;
        },

        isDefault: function isDefault() {
            return this.Red === 0xFF && this.Green === 0xFF && this.Blue === 0xFF && this.Trans === 0xFF;
        },

        setColor: function setColor(newColor) {
            if (!newColor) {
                return false;
            }
            // logger.log("DEBUG", "Color:" + "R:" + newColor.Red + " G:" + newColor.Green + " B:" + newColor.Blue);
            var attris = ["Red", "Green", "Blue", "Trans"];
            updateAttribute(attris, newColor, this);
            return true;
        },
        equals: function equals(other) {
            return this.Red === other.Red && this.Green === other.Green && this.Blue === other.Blue && this.Trans === other.Trans;
        }
    };

    var RectDisplayEffect = function RectDisplayEffect(effectType, effectDirection, effectSpeed) {
        this.EffectType = effectType; ///<Refer to VOEFFECTTYPE
        this.EffectDirection = effectDirection; ///<Refer to VOEFFECTDIRECTION
        this.EffectSpeed = effectSpeed; ///<second
    };

    RectDisplayEffect.prototype = {
        reset: function reset() {
            this.EffectType = 0;
            this.EffectDirection = 0;
            this.EffectSpeed = 0;
        },

        setRectDisplayEffect: function setRectDisplayEffect(newRectDisplayEffect) {
            if (!newRectDisplayEffect) {
                return;
            }
            var attris = ["EffectType", "EffectDirection", "EffectSpeed"];
            updateAttribute(attris, newRectDisplayEffect, this);
        },

        isDefault: function isDefault() {
            return 0 === this.EffectType && 0 === this.EffectDirection && 0 === this.EffectSpeed;
        }
    };

    var RectPos = function RectPos(top, left, bottom, right) {
        this.Top = top || 0xFFFFFFFF; ///<0xFFFFFFFF indicates the default value
        this.Left = left || 0xFFFFFFFF; ///<0xFFFFFFFF indicates the default value
        this.Bottom = bottom || 0xFFFFFFFF; ///<0xFFFFFFFF indicates the default value
        this.Right = right || 0xFFFFFFFF;
    };

    RectPos.prototype = {
        reset: function reset() {
            this.Top = 0xFFFFFFFF;
            this.Left = 0xFFFFFFFF;
            this.Bottom = 0xFFFFFFFF;
            this.Right = 0xFFFFFFFF;
        },

        copy: function copy(newRect) {
            this.Top = newRect.Top;
            this.Left = newRect.Left;
            this.Bottom = newRect.Bottom;
            this.Right = newRect.Right;
        },

        setRect: function setRect(newRect) {
            if (!newRect) {
                return;
            }

            var attris = ["Top", "Left", "Bottom", "Right"];
            updateAttribute(attris, newRect, this);

            logger.log("DEBUG", "[setRect]" + ", T:" + this.Top + "，L：" + this.Left + ", B:" + this.Bottom + ", R:" + this.Right);
        },

        isDefault: function isDefault() {
            return this.Top === 0xFFFFFFFF && this.Left === 0xFFFFFFFF && this.Bottom === 0xFFFFFFFF && this.Right === 0xFFFFFFFF;
        }
    };

    var RectInfo = function RectInfo(bt, ZOrder) {
        this.RectBorderType = bt; ///<Refer to VORECTBORDERTYPE
        this.RectZOrder = ZOrder;
        this.Rect = new RectPos();
        this.RectBorderColor = new Color();
        this.RectFillColor = new Color();
        this.RectDisplayEffect = new RectDisplayEffect();
    };

    RectInfo.prototype = {
        reset: function reset() {
            this.RectBorderType = 0;
            this.RectZOrder = 0;
            this.Rect.reset();
            this.RectBorderColor.reset();
            this.RectFillColor.reset();
            this.RectDisplayEffect.reset();
        },

        setRectInfo: function setRectInfo(newRectInfo) {
            if (!newRectInfo) {
                return;
            }

            if (isAttriValid(newRectInfo, "RectBorderType")) {
                this.RectBorderType = newRectInfo.RectBorderType;
            }
            if (isAttriValid(newRectInfo, "RectZOrder")) {
                this.RectZOrder = newRectInfo.RectZOrder;
            }

            if (isAttriValid(newRectInfo, "Rect")) {
                this.Rect.setRect(newRectInfo.Rect);
            }
            if (isAttriValid(newRectInfo, "RectBorderColor")) {
                this.RectBorderColor.setColor(newRectInfo.RectBorderColor);
            }
            if (isAttriValid(newRectInfo, "RectFillColor")) {
                this.RectFillColor.setColor(newRectInfo.RectFillColor);
            }
            if (isAttriValid(newRectInfo, "RectDisplayEffect")) {
                this.RectDisplayEffect.setRectDisplayEffect(newRectInfo.RectDisplayEffect);
            }
        },
        isDefault: function isDefault() {
            return 0 === this.RectBorderType && 0 === this.RectZOrder && this.Rect.isDefault() && this.RectBorderColor.isDefault() && this.RectFillColor.isDefault() && this.RectDisplayEffect.isDefault();
        }

    };

    var FontEffectInfo = function FontEffectInfo(Italic, Underline, EdgeType, TxtTag, Offset) {
        this.Italic = Italic || false;
        this.Underline = Underline || false;
        this.EdgeType = EdgeType;
        this.TextTag = TxtTag;
        this.Offset = Offset;
        this.EdgeColor = new Color();
    };

    FontEffectInfo.prototype = {
        reset: function reset() {
            this.Italic = false;
            this.Underline = false;
            this.EdgeType = 0;
            this.TextTag = 0;
            this.Offset = 0;
            this.EdgeColor.reset();
        },

        isDefault: function isDefault() {
            return this.EdgeColor.isDefault() && !this.Underline && !this.Italic && this.EdgeType === 0 && this.TextTag === 0 && this.Offset === 0;
        },

        setFontEffectInfo: function setFontEffectInfo(NewFontEffectInfo) {
            if (!NewFontEffectInfo) {
                return false;
            }
            //logger.log("DEBUG", "[FontEffectInfo: setFontEffectInfo]");
            var attris = ["Italic", "Underline", "EdgeType", "TxtTag", "Offset"];
            updateAttribute(attris, NewFontEffectInfo, this);
            if (isAttriValid(NewFontEffectInfo, "EdgeColor")) {
                this.EdgeColor.setColor(NewFontEffectInfo.EdgeColor);
            }
            return true;
        },

        equals: function equals(other) {
            return this.Italic === other.Italic && this.Underline === other.Underline && this.EdgeType === other.EdgeType && this.TextTag === other.TextTag && this.Offset === other.Offset && this.EdgeColor.equals(other);
        }
    };

    var FontInfo = function FontInfo(FontSize, FontStyle) {
        this.FontSize = FontSize || 0;
        this.FontStyle = FontStyle || 0;
        this.FontColor = new Color();
    };

    FontInfo.prototype = {
        reset: function reset() {
            this.FontSize = 0;
            this.FontStyle = 0;
            this.FontColor.reset();
        },

        isDefault: function isDefault() {
            return this.FontColor.isDefault() && this.FontSize === 0 && this.FontStyle === 0;
        },

        setFontInfo: function setFontInfo(NewFontInfo) {
            if (!NewFontInfo) {
                return false;
            }
            // logger.log("DEBUG", "[FontInfo: setFontInfo]" + " fontsize:" + NewFontInfo.FonSize +
            //     " fontstyle:" + NewFontInfo.FontStyle);
            if (isAttriValid(NewFontInfo, "FontSize")) {
                this.FontSize = NewFontInfo.FontSize;
            }
            if (isAttriValid(NewFontInfo, "FontStyle")) {
                this.FontStyle = NewFontInfo.FontStyle;
            }
            if (isAttriValid(NewFontInfo, "FontColor")) {
                this.FontColor.setColor(NewFontInfo.FontColor);
            }
            return true;
        },

        equals: function equals(other) {
            return this.FontSize === other.FontSize && this.FontStyle === other.FontStyle && this.FontColor.equals(other.FontColor);
        }
    };

    var CharInfo = function CharInfo(fontInfo, fontEffectInfo) {
        this.FontInfo = new FontInfo(fontInfo);
        this.FontEffectInfo = new FontEffectInfo(fontEffectInfo);
    };

    CharInfo.prototype = {
        reset: function reset() {
            this.FontInfo.reset();
            this.FontEffectInfo.reset();
        },

        isDefault: function isDefault() {
            return this.FontInfo.isDefault() && this.FontEffectInfo.isDefault();
        },

        setCharInfo: function setCharInfo(newCharInfo) {
            if (!newCharInfo) {
                return;
            }
            // logger.log("DEBUG", "[CharInfo: setCharInfo]");
            if (isAttriValid(newCharInfo, "FontInfo")) {
                this.FontInfo.setFontInfo(newCharInfo.FontInfo);
            }
            if (isAttriValid(newCharInfo, "FontEffectInfo")) {
                this.FontEffectInfo.setFontEffectInfo(newCharInfo.FontEffectInfo);
            }
        },

        equals: function equals(other) {
            return this.FontInfo.equals(other.FontInfo) && this.FontEffectInfo.equals(other.FontEffectInfo);
        }
    };

    /**
     * Unicode character with styling and background.
     * @constructor
     */
    var StyledUnicodeChar = function StyledUnicodeChar(uchar, charInfo) {
        this.uchar = uchar || ASCII_SPACE_CHAR; // unicode character
        this.CharInfo = new CharInfo(charInfo);
    };

    StyledUnicodeChar.prototype = {

        reset: function reset() {
            this.uchar = ASCII_SPACE_CHAR;
            this.CharInfo.reset();
        },

        setChar: function setChar(uchar, newCharInfo) {
            this.uchar = uchar;
            this.CharInfo.setCharInfo(newCharInfo);
        },

        setCharInfo: function setCharInfo(newCharInfo) {
            this.CharInfo.setCharInfo(newCharInfo);
        },

        getCharInfo: function getCharInfo() {
            return this.CharInfo;
        },

        equals: function equals(other) {
            return this.uchar === other.uchar && this.CharInfo.equals(other.CharInfo);
        },

        // copy: function(newChar) {
        //     this.uchar = newChar.uchar;
        //     this.CharInfo.UpdateCharInfo(newChar.CharInfo);
        // },

        isEmpty: function isEmpty() {
            return this.uchar === ASCII_SPACE_CHAR && this.CharInfo.isDefault();
        }
    };

    var textDes = function textDes(hj, vj, pd) {
        this.dataBox = new RectInfo();
        this.hj = hj || 0;
        this.vj = vj || 0;
        this.pd = pd || 0;
    };

    textDes.prototype = {
        reset: function reset() {
            this.dataBox.reset();
            this.hj = 0;
            this.vj = 0;
            this.pd = 0;
        },
        setTextDes: function setTextDes(newTextDes) {
            if (!newTextDes) {
                return false;
            }
            if (isAttriValid(newTextDes, "dataBox")) {
                this.dataBox.setRectInfo(newTextDes.dataBox);
            }

            var attris = ["hj", "vj", "pd"];
            updateAttribute(attris, newTextDes, this);

            return true;
        },

        isDefault: function isDefault() {
            return this.dataBox.isDefault() && 0 === this.hj && 0 === this.vj && 0 === this.pd;
        }
    };

    var Cea708PenColor = function Cea708PenColor() {
        this.fo = 0;
        this.fr = 0;
        this.fg = 0;
        this.fb = 0;

        this.bo = 0;
        this.br = 0;
        this.bg = 0;
        this.bb = 0;

        this.er = 0;
        this.eg = 0;
        this.eb = 0;
    };
    Cea708PenColor.prototype = {
        load: function load(Arr, Size) {
            if (3 > Size) {
                logger.log("ERROR", "708ClosedCaption Error:PenColor less para");
                return 0;
            }
            this.fo = R2B7(Arr[0]);
            this.fr = R2B5(Arr[0]);
            this.fg = R2B3(Arr[0]);
            this.fb = R2B1(Arr[0]);

            this.bo = R2B7(Arr[1]);
            this.br = R2B5(Arr[1]);
            this.bg = R2B3(Arr[1]);
            this.bb = R2B1(Arr[1]);

            this.er = R2B5(Arr[2]);
            this.eg = R2B3(Arr[2]);
            this.eb = R2B1(Arr[2]);
            return 3;
        }

    };

    var Cea708PenAttri = function Cea708PenAttri() {
        this.tt = 0;
        this.o = 0;
        this.s = 0;
        this.i = 0;
        this.u = 0;
        this.et = 0;
        this.fs = 0;
    };

    Cea708PenAttri.prototype = {
        load: function load(Arr, Size) {
            if (2 > Size) {
                console.log("ERROR", "708 ClosedCaption Error:PenAttri less para");
                return 0;
            }
            this.tt = R4B7(Arr[0]);
            this.o = R2B3(Arr[0]);
            this.s = R2B1(Arr[0]);

            this.i = R1B7(Arr[1]);
            this.u = R1B6(Arr[1]);
            this.et = R3B5(Arr[1]);
            this.fs = R3B2(Arr[1]);
            return 2;
        }

    };

    var Cea708WinAttri = function Cea708WinAttri() {
        this.fo = 0;
        this.fr = 0;
        this.fg = 0;
        this.fb = 0;

        this.bt0 = 0;
        this.br = 0;
        this.bg = 0;
        this.bb = 0;

        this.bt2 = 0;
        this.ww = 0;
        this.pd = 0;
        this.sd = 0;
        this.j = 0;

        this.es = 0;
        this.ed = 0;
        this.de = 0;
    };

    Cea708WinAttri.prototype = {

        load: function load(Arr, Size) {
            if (4 > Size) {
                logger.log("ERROR", "708 ClosedCaption Error:WindAttri less para");
                return 0;
            }

            this.fo = R2B7(Arr[0]);
            this.fr = R2B5(Arr[0]);
            this.fg = R2B3(Arr[0]);
            this.fb = R2B1(Arr[0]);

            this.bt0 = R2B7(Arr[1]);
            this.br = R2B5(Arr[1]);
            this.bg = R2B3(Arr[1]);
            this.bb = R2B1(Arr[1]);

            this.bt2 = R1B7(Arr[2]);
            this.ww = R1B6(Arr[2]);
            this.pd = R2B5(Arr[2]);
            this.sd = R2B3(Arr[2]);
            this.j = R2B1(Arr[2]);

            this.es = R4B7(Arr[3]);
            this.ed = R2B3(Arr[3]);
            this.de = R2B1(Arr[3]);
            return 4;
        }
    };

    var lineInfo = function lineInfo(columnCnt) {
        this.columnCnt = columnCnt || NR_COLS;
        this.pos = 0;
        this.text = [];
        for (var i = 0; i < this.columnCnt; i++) {
            this.text.push(new StyledUnicodeChar());
        }
        this.textDes = new textDes();
    };
    lineInfo.prototype = {
        reset: function reset() {
            this.pos = 0;
            for (var i = 0; i < this.columnCnt; i++) {
                this.text[i].reset();
            }
            this.textDes.reset();
        },
        isEmpty: function isEmpty() {
            var empty = true;
            for (var i = 0; i < this.columnCnt; i++) {
                if (!this.text[i].isEmpty()) {
                    empty = false;
                    break;
                }
            }
            return empty;
        },

        setTextDes: function setTextDes(newTextDes) {
            this.textDes.setTextDes(newTextDes);
        },

        getTextDes: function getTextDes() {
            return this.textDes;
        },

        insertTextInfo: function insertTextInfo(byte, strInfo) {
            if (this.pos + byte.length > this.columnCnt) {
                return false;
            }

            var char = String.fromCharCode(byte);
            if (this.pos >= this.columnCnt) {
                logger.log("ERROR", "Cannot insert " + byte.toString(16) + " (" + char + ") at position " + this.pos + ". Skipping it!");
                return false;
            }
            //console.log("textInfo len:%d, pos:%d", this.text.length, this.pos);

            this.text[this.pos].setChar(char, strInfo);
            //console.log("textInfo char:" + this.textInfo[this.pos].char + ", ori char:" + char);
            this.moveCursor(1);

            return true;
        },

        moveAbsCursor: function moveAbsCursor(absPos) {
            var relPos = absPos - this.pos;
            this.moveCursor(relPos);
        },

        moveCursor: function moveCursor(relPos, bDel) {
            bDel = typeof bDel === 'undefined' ? false : bDel;
            var newPos = this.pos + relPos;
            if (newPos > this.columnCnt) {
                return 1;
            }
            if (0 === relPos) {
                return 0;
            }

            if (relPos > 1) {
                for (var i = this.pos + 1; i < newPos + 1; i++) {
                    this.text[i].setChar(ASCII_SPACE_CHAR, this.text[this.pos].getCharInfo());
                }
            }
            this.setCursor(newPos);
        },

        /**
         *  Set the cursor to a valid column.
         */
        setCursor: function setCursor(absPos) {
            if (this.pos !== absPos) {
                this.pos = absPos;
            }
            if (this.pos < 0) {
                logger.log("ERROR", "Negative cursor position " + this.pos);
                this.pos = 0;
            } else if (this.pos > this.columnCnt) {
                logger.log("ERROR", "Too large cursor position " + this.pos);
                this.pos = this.columnCnt;
            }
        },

        getCursor: function getCursor() {
            return this.pos;
        },

        clearFromPos: function clearFromPos(startPos) {
            var i;
            for (i = startPos; i < this.columnCnt; i++) {
                this.text[i].uchar = ASCII_SPACE_CHAR;
                this.text[i].CharInfo.reset();
            }
        },

        clear: function clear() {
            this.clearFromPos(0);
            this.pos = 0;
        },
        getTextString: function getTextString() {
            var chars = [];
            var empty = true;
            if (0 === this.pos) {
                return "";
            }
            for (var i = 0; i < this.columnCnt; i++) {
                var char = ' ';
                if (this.text[i]) {
                    char = this.text[i].uchar;
                }
                if (char !== " ") {
                    empty = false;
                }
                chars.push(char);
            }
            if (empty) {
                return "";
            } else {
                return chars.join("");
            }
        },

        isEqual: function isEqual(other, pos) {
            return this.textInfos[pos].char == other.textInfos[pos].char && this.textInfos[pos].stringInfo == other.textInfos[pos].stringInfo;
        },

        equals: function equals(other) {
            var equal = true;
            for (var i = 0; i < this.columnCnt; i++) {
                if (!this.isEqual(other, i)) {
                    equal = false;
                    break;
                }
            }
            return equal;
        }
    };

    var textDescriptor = function textDescriptor(wrap, sd) {
        this.wrap = wrap || 0;
        this.sd = sd || 0;
    };

    textDescriptor.prototype = {
        reset: function reset() {
            this.wrap = 0;
            this.sd = 0;
        },

        setTextDescriptor: function setTextDescriptor(newTextDes) {
            var attris = ["wrap", "sd"];
            updateAttribute(attris, newTextDes, this);
        }
    };

    var Cea708Window = function Cea708Window(WindID, rowCnt, columnCnt) {
        this.WindID = -1;
        this.visible = false;
        this.rl = 0;
        this.cl = 0;
        this.priority = 0;
        this.rp = 0;
        this.av = 0;
        this.ah = 0;
        this.ap = 0;
        this.rc = 0;
        this.cc = 0;
        this.ws = 0;
        this.ps = 0;
        this.penColor = new Cea708PenColor();
        this.penAttri = new Cea708PenAttri();
        this.windAttri = new Cea708WinAttri();
        this.update = false;

        this.bAdjustRowFlag = false;
        this.currRow = -1;
        this.rowCnt = rowCnt || NR_ROWS;
        this.columnCnt = columnCnt || NR_COLS;

        this.rectInfo = new RectInfo();
        this.textDisplayInfo = new textDescriptor();
        this.curCharInfo = new CharInfo();
        this.rowTextInfos = [];
        for (var i = 0; i < this.rowCnt; i++) {
            this.rowTextInfos.push(new lineInfo(this.columnCnt)); // Note that we use zero-based numbering (0-14)
        }
    };

    Cea708Window.prototype = {

        reset: function reset() {
            this.WindID = -1;
            this.visible = false;
            this.update = false;

            this.bAdjustRowFlag = false;
            this.currRow = -1;
            this.textDisplayInfo.reset();
            this.resetTextInfo();
        },
        resetTextInfo: function resetTextInfo(bCLW) {
            bCLW = typeof bCLW === 'undefined' ? false : bCLW;
            for (var i = 0; i < this.rowTextInfos.length; i++) {
                this.rowTextInfos[i].reset();
            }
            this.curCharInfo.reset();
            if (!bCLW) {
                this.rectInfo.reset();
                this.rectInfo.RectBorderColor.Trans = 0;
                this.rectInfo.RectFillColor.Trans = 0;
            }
        },

        setCurrRow: function setCurrRow(row) {
            if (!this.isRowValid(row)) {
                return false;
            }
            logger.log("DEBUG", "[Cea708Window] " + "[setCurrRow] " + row);
            this.currRow = row;
            return true;
        },

        getCurrRow: function getCurrRow() {
            logger.log("DEBUG", "[Cea708Window] " + "[getCurrRow] " + this.currRow);
            return this.currRow;
        },

        isRowValid: function isRowValid(row) {
            if (0 > row || this.rowCnt <= row) {
                return false;
            }
            return true;
        },

        setRectInfo: function setRectInfo(newRectInfo) {
            if (!newRectInfo) {
                return;
            }
            console.log("[setRectInfo] windID:%d", this.WindID);
            this.rectInfo.setRectInfo(newRectInfo);
        },

        getRectInfo: function getRectInfo() {
            console.log("[getRectInfo] windID:%d", this.WindID);
            return this.rectInfo;
        },

        setRowDes: function setRowDes(rowDes) {
            for (var i = 0; i < this.rowCnt; i++) {
                this.rowTextInfos[i].setTextDes(rowDes);
            }
        },

        setTextDisplayInfo: function setTextDisplayInfo(newTextDisplayInfo) {
            if (!newTextDisplayInfo) {
                return;
            }
            this.textDisplayInfo.setTextDescriptor(newTextDisplayInfo);
        },

        setCharInfo: function setCharInfo(newCharInfo) {
            if (!newCharInfo) {
                return;
            }
            this.curCharInfo.setCharInfo(newCharInfo);
        },

        insertChars: function insertChars(chars) {
            if (!this.isRowValid(this.currRow)) {
                return false;
            }
            var rowInfo = this.rowTextInfos[this.currRow];
            logger.log("DEBUG", "[window:insertChar] row:" + this.currRow);
            for (var i = 0; i < chars.length; i++) {
                rowInfo.insertTextInfo(chars[i], this.curCharInfo);
            }

            this.UpdateWindInfo(true);

            logger.log("DEBUG", "[cea708window: insertChars] chars:" + this.getDisplayText(true));

            // if(this.update){
            //     logger.log("TEXT", "DISPLAYED: " + this.getDisplayText(true));
            //     this.outputDataUpdate();
            // }
            return true;
        },

        UpdateWindInfo: function UpdateWindInfo(bForce) {
            bForce = typeof bForce == 'undefined' ? false : bForce;
            if (this.visible || bForce) {
                this.update = true;
            }
        },

        cc_BS: function cc_BS() {
            logger.log("708 Info: BS");

            if (this.isRowValid(this.currRow)) {
                var pos = this.rowTextInfos[this.currRow].pos;
                if (pos > 0) {
                    this.rowTextInfos[this.currRow].moveCursor(-1);
                }
            }
        },

        cc_CR: function cc_CR() {
            // Carriage Return
            logger.log("708 CR - Carriage Return");
            // this.writeScreen.rollUp();
            // this.outputDataUpdate();
            if (!this.isRowValid(this.currRow)) {
                return;
            }

            var winTopNo = TranslatePosToRowNo(this.rectInfo.Rect.Top);
            var winBottomNo = TranslatePosToRowNo(this.rectInfo.Rect.Bottom) - 1;
            // console.log("[708 CR - Carriage Return] CR, WinTop:%d, WinBottom:%d, CurRow:%d",
            //     winTopNo, winBottomNo, this.currRow);

            if (winBottomNo >= this.getCurrRow() + 1) {
                this.parseCRNonRollup();
            } else {
                this.parseCRRollup(winTopNo);
            }
        },

        cc_HCR: function cc_HCR() {
            //HCR
            logger.log("708 HCR");
            if (this.isRowValid(this.currRow)) {
                this.rowTextInfos[this.currRow].moveAbsCursor(0);
            }
            //this.outputDataUpdate();
        },

        parseCRNonRollup: function parseCRNonRollup() {
            //console.log("[ParseCRNonRollup] pd:%d, sd:%d", this.windAttri.pd, this.windAttri.sd);
            switch (this.windAttri.pd) {
                case print_sDirection.LEFT_TO_RIGHT:
                    {
                        if (print_sDirection.BOTTOM_TO_TOP == this.windAttri.sd) {
                            this.setCurrRow(this.getCurrRow() + 1);
                        } else if (print_sDirection.TOP_TO_BOTTOM == this.windAttri.sd) {
                            this.setCurrRow(this.getCurrRow() - 1);
                        }
                        //console.log("row:%d, info:%p", this.currRow, this.rowTextInfos[this.currRow]);
                        this.rowTextInfos[this.currRow].moveAbsCursor(0);
                        break;
                    }
                case print_sDirection.RIGHT_TO_LEFT:
                    {
                        if (print_sDirection.BOTTOM_TO_TOP == this.windAttri.sd) {
                            this.setCurrRow(this.getCurrRow() + 1);
                        } else if (print_sDirection.TOP_TO_BOTTOM == this.windAttri.sd) {
                            this.setCurrRow(this.getCurrRow() - 1);
                        }
                        this.rowTextInfos[this.getCurrRow()].moveAbsCursor(TranslateColNoToPos(this.rectInfo.Rect.Right - 1));
                        break;
                    }
                case print_sDirection.TOP_TO_BOTTOM:
                    {
                        if (print_sDirection.LEFT_TO_RIGHT == this.windAttri.sd) {
                            this.rowTextInfos[this.currRow].moveCursor(-1);
                        } else if (print_sDirection.RIGHT_TO_LEFT == this.windAttri.sd) {
                            this.rowTextInfos[this.currRow].moveCursor(1);
                        }
                        this.setCurrRow(this.rectInfo.Rect.Top);
                        break;
                    }
                case print_sDirection.BOTTOM_TO_TOP:
                    {
                        if (print_sDirection.LEFT_TO_RIGHT == this.windAttri.sd) {
                            this.rowTextInfos[this.currRow].moveCursor(-1);
                        } else if (print_sDirection.RIGHT_TO_LEFT == this.windAttri.sd) {
                            this.rowTextInfos[this.currRow].moveCursor(1);
                        }
                        this.setCurrRow(this.rectInfo.Rect.Bottom - 1);
                        break;
                    }
                default:
                    break;
            }
        },

        parseCRRollup: function parseCRRollup(winTopNo) {
            winTopNo += 1;
            if (this.isRowValid(this.currRow)) {
                if (this.bAdjustRowFlag) {
                    this.adjustRowWhenNoSPLCmd(this.getCurrRow());
                } else {
                    while (winTopNo <= this.getCurrRow()) {
                        this.copyChar(winTopNo, winTopNo - 1);
                        winTopNo++;
                    }
                }
            }
        },

        adjustRowWhenNoSPLCmd: function adjustRowWhenNoSPLCmd(CurRowNo) {
            var nWinMaxRow = TranslatePosToRowNo(this.rectInfo.Rect.Bottom) - 1;
            // console.log("[adjustRowWhenNoSPLCmd] Flag:%d, CurRowNo:%d, nWinMaxRow:%d", this.bAdjustRowFlag, CurRowNo, nWinMaxRow);

            if (CurRowNo >= nWinMaxRow || 3 <= CurRowNo) {
                this.setCurrRow(0);
                for (var i = 0; i <= CurRowNo; i++) {
                    if (this.rowTextInfos[i]) {
                        this.rowTextInfos[i].moveAbsCursor(0);
                    }
                }
            } else {
                this.setCurrRow(CurRowNo + 1);
                if (this.rowTextInfos[this.currRow]) {
                    this.rowTextInfos[this.currRow].moveAbsCursor(0);
                }
            }
        },

        copyChar: function copyChar(srcRow, desRow) {
            // console.log("[CopyChar] srcRow:%d, desRow:%d, m_RowCnt:%d, Charcnt:%d",
            //     srcRow, desRow, this.rowCnt, this.rowTextInfos[srcRow].pos);
            if (srcRow >= this.rowCnt || desRow >= this.rowCnt || !this.rowTextInfos[srcRow].pos) {
                return;
            }

            this.rowTextInfos[desRow].textInfos = this.rowTextInfos[srcRow].textInfos;
            this.rowTextInfos[desRow].pos = this.rowTextInfos[srcRow].pos;
            this.rowTextInfos[srcRow].pos = 0;
        },

        setAdjustRowFlag: function setAdjustRowFlag(bAdjustFlag) {
            this.bAdjustRowFlag = bAdjustFlag;
        },

        /**
         * Get all non-empty rows with as unicode text.
         */
        getDisplayText: function getDisplayText(asOneRow) {
            asOneRow = asOneRow || false;
            var displayText = [];
            var text = "";
            var rowNr = -1;
            for (var i = 0; i < this.rowCnt; i++) {
                var rowText = this.rowTextInfos[i].getTextString();
                if (rowText) {
                    rowNr = i;
                    if (asOneRow) {
                        displayText.push("Row " + rowNr + ': "' + rowText + '"');
                    } else {
                        displayText.push(rowText.trim());
                    }
                }
            }
            if (displayText.length > 0) {
                if (asOneRow) {
                    text = "[" + displayText.join("|") + "]";
                } else {
                    text = displayText.join("\n");
                }
            }
            return text;
        },

        SetWindowRectInfo: function SetWindowRectInfo(nAnchorID, bRelPos, nAnchorVer, nAnchorHor, nRowCnt, nColCnt) {
            var nMinRow = 0,
                nMaxRow = 0,
                nMinCol = 0,
                nMaxCol = 0;
            if (bRelPos) {
                nMinRow = parseInt(nAnchorVer * NR_ROWS / 100);
                nMinCol = parseInt(nAnchorHor * NR_COLS / 100);
            } else {
                nMinRow = parseInt(nAnchorVer / 5);
                nMinCol = parseInt(nAnchorHor / 5);
            }

            if (1 === parseInt(nAnchorID / 3)) {
                if (nMinRow >= parseInt(nRowCnt / 2)) {
                    nMinRow = nMinRow - parseInt(nRowCnt / 2);
                }
            } else if (2 === parseInt(nAnchorID / 3)) {
                if (nMinRow >= nRowCnt - 1) {
                    nMinRow = nMinRow - (nRowCnt - 1);
                }
            }

            if (parseInt(nAnchorID % 3) == 1) {
                if (nMinCol >= parseInt(nColCnt / 2)) {
                    nMinCol = nMinCol - parseInt(nColCnt / 2);
                }
            } else if (parseInt(nAnchorID % 3) == 2) {
                if (nMinCol >= nColCnt - 1) {
                    nMinCol = nMinCol - (nColCnt - 1);
                }
            }

            nMaxRow = nMinRow + (nRowCnt - 1);
            nMaxCol = nMinCol + (nColCnt - 1);

            nMinRow = nMinRow > NR_ROWS - 1 ? NR_ROWS - 1 : nMinRow;
            nMaxRow = nMaxRow > NR_ROWS - 1 ? NR_ROWS - 1 : nMaxRow;

            nMinCol = nMinCol > NR_COLS - 1 ? NR_COLS - 1 : nMinCol;
            nMaxCol = nMaxCol > NR_COLS - 1 ? NR_COLS - 1 : nMaxCol;

            var rect = new RectPos();
            if (!rect) {
                return;
            }
            setRectPos(rect, nMinRow, nMaxRow, nMinCol, nMaxCol);
            var rectInfo = { Rect: rect };
            this.setRectInfo(rectInfo);
        },

        MapColor2RGB: function MapColor2RGB(uRed, uGreen, uBlue) {
            if (uRed > 3 || uGreen > 3 || uBlue > 3) {
                return null;
            }
            var voRGBValue = new Color();
            voRGBValue.Red = uRed * CC708RGB_TIMESCALE;
            voRGBValue.Green = uGreen * CC708RGB_TIMESCALE;
            voRGBValue.Blue = uBlue * CC708RGB_TIMESCALE;
            return voRGBValue;
        },

        SetWindowAttri: function SetWindowAttri(WinAttri, Arr, Size) {
            var ret = WinAttri.load(Arr, Size);
            var rowDes = { hj: parseInt(WinAttri.j % 3), pd: WinAttri.pd };
            this.setRowDes(rowDes);

            var rectBorderColor = this.MapColor2RGB(this.windAttri.br, this.windAttri.bg, this.windAttri.bb);
            rectBorderColor.Trans = 0;
            var rectFillColor = this.MapColor2RGB(this.windAttri.fr, this.windAttri.fg, this.windAttri.fb);
            rectFillColor.Trans = 0;
            switch (this.windAttri.fo) {
                case 0:
                case 1:
                    rectFillColor.Trans = 0xFF; ///<100%
                    break;
                case 2:
                    rectFillColor.Trans = 0xBF; ///<75%
                    break;
                case 3:
                    rectFillColor.Trans = 0x0; ///<0%
                    break;
                default:
                    break;
            }

            var rectInfo = { RectBorderType: this.windAttri.bt2 << 3 | this.windAttri.bt0,
                RectBorderColor: rectBorderColor, RectFillColor: rectFillColor,
                RectDisplayEffect: { EffectType: this.windAttri.de, EffectSpeed: this.windAttri.es,
                    EffectDirection: this.windAttri.ed } };

            this.setRectInfo(rectInfo);
            this.setTextDisplayInfo({ wrap: this.windAttri.ww, sd: this.windAttri.sd });
            this.UpdateWindInfo();
            return ret;
        },

        SetPenAtti: function SetPenAtti(PenAttri, Arr, Size) {
            var ret = PenAttri.load(Arr, Size);
            var fontEffectInfo = { Italic: this.penAttri.i, Underline: this.penAttri.u,
                EdgeType: this.penAttri.et, TextTag: this.penAttri.tt,
                offSet: this.penAttri.o };
            var fontInfo = { FontSize: this.penAttri.s, FontStyle: this.penAttri.fs };
            var charInfo = { FontInfo: fontInfo, FontEffectInfo: fontEffectInfo };
            this.setCharInfo(charInfo);

            this.UpdateWindInfo();
            //this.outputDataUpdate();
            logger.log("DEBUG", "[wind: SetPenAtti]");
            return ret;
        },

        SetPenColor: function SetPenColor(PenColor, Arr, Size) {
            var ret = PenColor.load(Arr, Size);

            var fontColor = this.MapColor2RGB(this.penColor.fr, this.penColor.fb, this.penColor.fg);
            if (0 === this.penColor.fo || 1 === this.penColor.fo) {
                fontColor.Trans = 0xFF;
            } else if (2 === this.penColor.fo) {
                fontColor.Trans = 0xBF;
            } else {
                fontColor.Trans = 0x0;
            }
            var edgeColor = this.MapColor2RGB(this.penColor.er, this.penColor.eg, this.penColor.eb);
            edgeColor.Trans = fontColor.Trans;
            var charInfo = { FontInfo: { FontColor: fontColor }, FontEffectInfo: { EdgeColor: edgeColor } };
            this.setCharInfo(charInfo);

            var rectFillColor = this.MapColor2RGB(this.penColor.br, this.penColor.bg, this.penColor.bb);
            if (this.penColor.bo === 0 || this.penColor.bo === 1) {
                rectFillColor.Trans = 0xFF;
            } else if (this.penColor.bo === 2) {
                rectFillColor.Trans = 0xBF;
            } else {
                rectFillColor.Trans = 0x0;
            }
            var txtDes = new textDes();
            txtDes.dataBox.RectFillColor = rectFillColor;
            //this.setRowDes(txtDes);
            this.setRowDes({ dataBox: { RectFillColor: rectFillColor } });

            this.UpdateWindInfo();
            //this.outputDataUpdate();
            logger.log("DEBUG", "[wind: SetPenColor]");
            return ret;
        },

        load: function load(Arr, Size) {
            if (7 > Size) {
                logger.log("ERROR", "ClosedCaption Error:DFCommandPara less para");
                return Size;
            }
            this.WindID = R3B2(Arr[0]);
            this.setVisible(R1B5(Arr[1]));
            logger.log("DEBUG", "[wind: load] windID:" + this.WindID, ", visible:" + R1B5(Arr[1]));
            this.rl = R1B4(Arr[1]);
            this.cl = R1B3(Arr[1]);
            this.priority = R3B2(Arr[1]);
            //priority handle???

            this.rp = R1B7(Arr[2]);
            this.av = R7B6(Arr[2]);
            this.ah = Arr[3];
            this.ap = R4B7(Arr[4]);
            this.rc = R4B3(Arr[4]);
            this.rc += 1;

            this.cc = R6B5(Arr[5]);
            this.cc += 1;

            this.SetWindowRectInfo(this.ap, this.rp, this.av, this.ah, this.rc, this.cc);
            this.ws = R3B5(Arr[6]);
            if (!this.ws) {
                this.ws = 1;
            }
            this.ps = R3B2(Arr[6]);
            if (!this.ps) {
                this.ps = 1;
            }

            if (this.ws) {
                this.SetWindowAttri(this.windAttri, PresetWinAttri[this.ws - 1], 4);
            }

            if (this.ps) {
                this.SetPenAtti(this.penAttri, PresetPenAttri[this.ps - 1], 2);
                this.SetPenColor(this.penColor, PresetPenColor[this.ps - 1], 3);
            }

            var currRectInfo = this.getRectInfo();
            var winMinRow = TranslatePosToRowNo(currRectInfo.Rect.Top, true);
            var winMaxRow = TranslatePosToRowNo(currRectInfo.Rect.Bottom, true) - 1;
            var currRow = this.getCurrRow();
            //console.log("load currRow:%d, minRow:%d, maxRow:%d", currRow, winMinRow, winMaxRow);
            if (this.isRowValid(currRow) && (currRow < winMinRow || currRow > winMaxRow)) {
                var row = 0;
                while (row < winMinRow) {
                    this.rowTextInfos[currRow].clear();
                    row++;
                }
                row = winMaxRow + 1;
                while (row < this.rowCnt) {
                    this.rowTextInfos[currRow].clear();
                    row++;
                }

                this.setCurrRow(winMinRow);
                if (3 === this.windAttri.sd) {
                    this.setCurrRow(winMaxRow);
                }
            }
            //this.outputDataUpdate();
            return 7;
        },

        setVisible: function setVisible(bVisible) {
            logger.log("DEBUG", "[setVisible]" + "this.visible:" + this.visible + ", bVisible:" + bVisible);
            if (bVisible !== this.visible) {
                this.UpdateWindInfo(true);
                this.visible = bVisible;
            }
        },

        isEmpty: function isEmpty() {
            var empty = true;
            for (var i = 0; i < this.rowCnt; i++) {
                if (!this.rowTextInfos[i]) {
                    continue;
                }
                if (!this.rowTextInfos[i].isEmpty()) {
                    empty = false;
                    break;
                }
            }
            return empty;
        },

        equals: function equals(other) {
            var equal = true;
            for (var i = 0; i < this.rowCnt; i++) {
                if (!this.rowTextInfos[i].equals(other.rowTextInfos[i])) {
                    equal = false;
                    break;
                }
            }
            return equal;
        },

        getSubtitleData: function getSubtitleData() {
            var subtitleDate = [];
            var textInfo = [];
            var row = TranslatePosToRowNo(this.getRectInfo().Rect.Top);
            var maxRow = TranslatePosToRowNo(this.getRectInfo().Rect.Bottom) - 1;
            maxRow = maxRow <= this.rowCnt - 1 ? maxRow : this.rowCnt - 1;
            row = row <= maxRow ? row : 0;

            while (row <= maxRow) {
                if (!this.rowTextInfos[row].pos) {
                    row++;
                    continue;
                }

                textInfo.push(this.rowTextInfos[row]);
                row++;
            }

            subtitleDate.push({
                rectInfo: this.rectInfo,
                TextRowInfo: textInfo,
                TextDisplayInfo: this.TextDisplayInfo
            });
            return subtitleDate;
        }
    };

    var captionScreen = function captionScreen(arr) {
        this.captionArray = arr || null;
        this.is708cc = true;
    };

    captionScreen.prototype = {
        reset: function reset() {
            for (var i = 0; i < this.captionArray.length; i++) {
                this.captionArray[i].reset();
            }
        },

        getDisplayText: function getDisplayText(asOneRow) {
            asOneRow = asOneRow || false;
            var displayText = [];
            var text = "";
            var winNr = -1;
            if (!this.captionArray) {
                return text;
            }
            for (var i = 0; i < this.captionArray.length; i++) {
                if (!this.captionArray[i]) {
                    continue;
                }
                var winText = this.captionArray[i].getDisplayText(asOneRow);
                if (winText) {
                    winNr = this.captionArray[i].WindID;
                    if (asOneRow) {
                        displayText.push("Window " + winNr + ': "' + winText + '"');
                    } else {
                        displayText.push(winText.trim());
                    }
                }
            }
            if (displayText.length > 0) {
                if (asOneRow) {
                    text = "[" + displayText.join("|") + "]";
                } else {
                    text = displayText.join("\n");
                }
            }
            return text;
        },
        isEmpty: function isEmpty() {
            var empty = true;
            if (this.captionArray) {
                for (var i = 0; i < this.captionArray.length; i++) {
                    if (this.captionArray[i]) {
                        if (!this.captionArray[i].isEmpty()) {
                            empty = false;
                            break;
                        }
                    }
                }
            }
            return empty;
        }
    };

    var outputData_Null = new Cea708Window();
    outputData_Null.reset();
    var rectInfo = { 'Rect': { 'Top': 0, 'Left': 0, 'Bottom': 14, 'Right': 31 } };
    outputData_Null.setRectInfo(rectInfo);
    outputData_Null.rectInfo.RectBorderColor.Trans = 0;
    outputData_Null.rectInfo.RectFillColor.Trans = 0;
    var Cea708parser = function Cea708parser(out) {
        this.windows = [];
        this.outputFilter = out;
        for (var i = 0; i < CC_WINDOWS; i++) {
            this.windows.push(new Cea708Window(i));
        }
        this.CurrWindID = -1;
        this.bClearScreen = false;
        this.cueStartTime = null; // Keeps track of where a cue started.
        this.captionScreen = null;
        this.startTime = null;
        this.lastTime = null;
        this.dataCounters = { 'padding': 0, 'char': 0, 'cmd': 0, 'other': 0 };
    };

    Cea708parser.prototype = {
        reset: function reset() {
            this.CurrWindID = -1;
            this.bClearScreen = false;
            this.cueStartTime = null;
            for (var i = 0; i < this.windows.length; i++) {
                if (this.windows[i]) {
                    this.windows[i].reset();
                }
            }
        },

        getHandler: function getHandler() {
            return this.outputFilter;
        },

        setHandler: function setHandler(newHandler) {
            this.outputFilter = newHandler;
        },

        outputDataUpdate: function outputDataUpdate() {
            this.captionScreen = new captionScreen(this.setOutputScreen());
            console.log("captionText:" + this.captionScreen.getDisplayText(true));

            var t = logger.time;
            if (t === null) {
                logger.log("ERROR", "[outputDataUpdate]" + "t is null." + ", logger time:" + logger.time);
                return;
            }

            if (this.outputFilter) {
                if (this.outputFilter.updateData) {
                    this.outputFilter.updateData(t, this.captionScreen);
                }
                if (this.cueStartTime === null && !this.captionScreen.isEmpty()) {
                    // Start of a new cue
                    this.cueStartTime = t;
                } else {
                    if (this.outputFilter.newCue) {
                        logger.log("DEBUG", "[outputDataUpdate]" + ", startime:" + this.cueStartTime + ", time:" + t);
                        this.outputFilter.newCue(this.cueStartTime, t, this.captionScreen);
                    }
                    this.cueStartTime = this.captionScreen.isEmpty() ? null : t;
                }
            }
        },

        cueSplitAtTime: function cueSplitAtTime(t) {
            logger.log("DEBUG", "cueSplitAtTime: " + t);
            if (this.outputFilter) {
                if (this.outputFilter.newCue) {
                    this.outputFilter.newCue(this.cueStartTime, t, this.captionScreen);
                }
                this.cueStartTime = t;
            }
        },

        setOutputScreen: function setOutputScreen() {
            var captionArray = null; //[];
            var bUpdate = false;
            var i = 0;
            for (i = 0; i < this.windows.length; i++) {
                if (!this.windows[i]) {
                    continue;
                }
                logger.log("DEBUG", "[setOutputScreen]" + "windID:" + this.windows[i].WindID + ", update:" + this.windows[i].update + ", visible:" + this.windows[i].visible);
                if (-1 != this.windows[i].WindID && this.windows[i].update) {
                    bUpdate = true;
                    break;
                }
            }
            if (this.bClearScreen) {
                this.bClearScreen = false;
                captionArray = outputData_Null;
            } else if (bUpdate) {
                captionArray = this.getWindowsInfo();
            } else {
                captionArray = [null];
            }

            for (i = 0; i < this.windows.length; i++) {
                if (this.windows[i] && this.windows[i].update) {
                    this.windows[i].update = false;
                }
            }
            return captionArray;
        },

        getWindInfo: function getWindInfo() {
            var captionArray = [];
            var empty = true;
            for (var i = 0; i < this.windows.length; i++) {
                if (!this.windows[i] || -1 === this.windows[i].WindID) {
                    continue;
                }
                if (!this.windows[i].visible) {
                    continue;
                }
                if (this.windows[i].isEmpty()) {
                    continue;
                }
                empty = false;
                var subtitleData = this.windows[i].getSubtitleData();
                if (subtitleData.length) {
                    captionArray.push(subtitleData);
                    logger.log("DEBUG", "[getWindInfo]" + "wind:" + this.windows[i].WindID + ", Text:" + this.windows[i].getDisplayText(true));
                }
            }
            if (empty) {
                captionArray.push(outputData_Null);
            }
            return captionArray;
        },

        getWindowsInfo: function getWindowsInfo() {
            var captionArray = [];
            var empty = true;
            for (var i = 0; i < this.windows.length; i++) {
                if (!this.windows[i] || -1 === this.windows[i].WindID) {
                    continue;
                }
                if (!this.windows[i].visible) {
                    continue;
                }
                if (this.windows[i].isEmpty()) {
                    continue;
                }
                empty = false;
                // var subtitleData = this.windows[i].getSubtitleData();
                if (ASCII_SPACE_CHAR != this.windows[i].getDisplayText(true)) {
                    captionArray.push(this.windows[i]);
                    //var text = captionArray[0].getDisplayText(true);
                    logger.log("DEBUG", "[getWindInfo]" + "wind:" + this.windows[i].WindID + ", Text:" + this.windows[i].getDisplayText(true));
                }
            }
            // if(empty){
            //     captionArray.push(outputData_Null);
            // }
            return captionArray;
        },

        FindWindByID: function FindWindByID(windID) {
            if (0 > windID || 7 < windID) {
                return null;
            }
            if (windID === this.windows[windID].WindID) {
                return this.windows[windID];
            }
        },

        addData: function addData(t, byteList) {
            this.lastTime = t;
            logger.setTime(t);

            var i = 0;
            console.log("[ Cea708Parser:addData]:" + "time: " + t);
            // for(var j = 0; j < byteList.length; j ++){
            //     console.log("%d(%s)",  byteList[j], byteList[j].toString(16));
            // }
            while (i < byteList.length) {
                var bExtCode = false;
                if (C0_SET_EXT_CODE_CEA_708 === byteList[i]) {
                    bExtCode = true;
                    i += 1;
                }
                if (0 === byteList[i]) {
                    this.dataCounters.padding += 1;
                    i += 1;
                    continue;
                }
                // else {
                //     //logger.log("DATA", "[" + numArrayToHexArray([byteList[i], byteList[i+1]]) +"] -> (" + numArrayToHexArray([a, b]) + ")");
                // }

                if (G0_G2_SET_START_CODE_CEA_708 <= byteList[i] && G0_G2_SET_END_CODE_CEA_708 >= byteList[i] || G1_G3_SET_START_CODE_CEA_708 <= byteList[i]) {
                    this.parseStandardChar(byteList[i], 1, bExtCode);
                    this.dataCounters.char += 1;
                    i += 1;
                } else if (C0_SET_START_CODE_CEA_708 <= byteList[i] && C0_SET_END_CODE_CEA_708 >= byteList[i] || C1_SET_START_CODE_CEA_708 <= byteList[i] && C1_SET_END_CODE_CEA_708 >= byteList[i]) {
                    var Tmpchar = byteList.slice(i);
                    var DataSize = this.parseNonStandardChar(Tmpchar, byteList.length - i, bExtCode);
                    i += DataSize;
                    this.dataCounters.cmd += DataSize;
                } else {
                    this.dataCounters.other += 1;
                    // console.log("Couldn't parse cleaned data[%d]:%d", i, byteList[i]);
                    //logger.log("WARNING", "Couldn't parse cleaned data " + byteList[i]);
                    // logger.log("WARNING", "Couldn't parse cleaned data " +
                    //     " orig: " + numArrayToHexArray([byteList[i], byteList[i+1]]));
                    i += 1;
                }
            }
            this.outputDataUpdate();
        },

        parseNonStandardChar: function parseNonStandardChar(Arr, size, ExtCode) {
            logger.log("INFO", "[parseNonStandardChar] byte:" + Arr[0].toString(16) + "(" + Arr[0] + ")" + ", size:" + size + ", ExtCode:" + ExtCode);
            var ret = 0;
            if (C0_SET_START_CODE_CEA_708 <= Arr[0] && C0_SET_END_CODE_CEA_708 >= Arr[0]) {
                if (ExtCode) {
                    return Arr[0] / 8 + 1;
                } else {
                    ret = this.parseC0Code(Arr, size);
                }
            } else if (C1_SET_START_CODE_CEA_708 <= Arr[0] && C1_SET_END_CODE_CEA_708 >= Arr[0]) {
                if (ExtCode) {
                    if (C1_SET_Mid_CODE_CEA_708 >= Arr[0]) {
                        return (Arr[0] - C1_SET_START_CODE_CEA_708) / 8 + 5;
                    } else {
                        if (2 > size) {
                            logger.log("ERROR", "ClosedCaption Error:ParserC1 EXT Code size <2:%d", size);
                            return size;
                        } else {
                            return (Arr[1] & 0x1F) + 2;
                        }
                    }
                } else {
                    ret = this.parseC1Code(Arr, size);
                }
            }
            //this.outputDataUpdate();
            return ret;
        },

        parseC0Code: function parseC0Code(Arr, size) {
            var ret = 1;
            if (C0_SET_EXT_CODE_CEA_708 <= Arr[0] && C0_SET_P10_CODE_CEA_708 > Arr[0]) {
                ret = 2;
            } else if (C0_SET_P10_CODE_CEA_708 <= Arr[0] && C0_SET_END_CODE_CEA_708 >= Arr[0]) {
                ret = 3;
            } else if (size < ret) {
                logger.log("ERROR", "ClosedCaption Error:ParserC0Code cbInputData < ret:%d:%d", size, ret);
                return size;
            }

            if (0 <= this.CurrWindID && 7 >= this.CurrWindID) {
                var CurrWind = this.FindWindByID(this.CurrWindID);
                if (!CurrWind) {
                    return ret;
                }

                CurrWind.UpdateWindInfo(false);

                switch (Arr[0]) {
                    case 0x3:
                        {
                            //ETX
                            break;
                        }
                    case 0x8:
                        {
                            //BS
                            CurrWind.cc_BS();
                            break;
                        }
                    case 0xC:
                        {
                            CurrWind.resetTextInfo(true);
                            var currRectInfo = CurrWind.getRectInfo();
                            var windowTopNo = TranslatePosToRowNo(currRectInfo.Rect.Top, true);
                            CurrWind.setCurrRow(windowTopNo);
                            break;
                        }
                    case 0xD:
                        {
                            //CR
                            CurrWind.cc_CR();
                            break;
                        }
                    case 0xE:
                        {
                            //HCR
                            CurrWind.cc_HCR();
                            break;
                        }
                    case 0x10:
                        {
                            logger.log("DEBUG", "ClosedCaption Error:EXT1 should not exist here");
                            break;
                        }
                    case 0x18:
                        {
                            logger.log("DEBUG", "ClosedCaption Error:not supported P16");
                            break;
                        }
                    default:
                        break;
                }
            }

            return ret;
        },

        parseC1Code: function parseC1Code(Arr, size) {
            var ret = 0;
            if (CC_DF0 <= Arr[0] && CC_DF7 >= Arr[0]) {
                this.CurrWindID = Arr[0] - CC_DF0;
                var CurrWind = this.windows[this.CurrWindID];
                if (!CurrWind) {
                    return ret;
                }
                CurrWind.reset();
                ret = CurrWind.load(Arr, size);
            } else if (CC_CW0 <= Arr[0] && CC_CW7 >= Arr[0]) {
                this.CurrWindID = Arr[0] - CC_CW0;
                ret = 1;
            } else {
                switch (Arr[0]) {
                    case CC_CLW:
                        {
                            ret = this.parseCLWCode(Arr, size);
                        }
                        break;
                    case CC_DSW:
                        {
                            ret = this.parseDSWCode(Arr, size);
                        }
                        break;
                    case CC_HDW:
                        {
                            ret = this.parseHDWCode(Arr, size);
                        }
                        break;
                    case CC_TGW:
                        {
                            ret = this.parseTGWCode(Arr, size);
                        }
                        break;
                    case CC_DLW:
                        {
                            ret = this.parseDLWCode(Arr, size);
                        }
                        break;
                    case CC_DLY:
                        {
                            ret = 2;
                        }
                        break;
                    case CC_DLC:
                        {
                            ret = 1;
                        }
                        break;
                    case CC_RET:
                        {
                            logger.log("DEBUG", "[CC_RET] CurrWindID:" + this.CurrWindID);
                            var wind = this.FindWindByID(this.CurrWindID);
                            if (wind) {
                                wind.reset();
                            }

                            ret = 1;
                        }
                        break;
                    case CC_SPA:
                        {
                            ret = this.parseSPACode(Arr, size);
                        }
                        break;
                    case CC_SPC:
                        {
                            ret = this.parseSPCCode(Arr, size);
                        }
                        break;
                    case CC_SPL:
                        {
                            ret = this.parseSPLCode(Arr, size);
                        }
                        break;
                    case CC_SWA:
                        {
                            ret = this.parseSWACode(Arr, size);
                        }
                        break;
                    default:
                        {
                            ///<0x93~0x96
                            ret = 1;
                        }
                        break;
                }
            }
            return ret;
        },

        parseCLWCode: function parseCLWCode(Arr, size) {
            var dwWinID = 0,
                bitValue = 1;
            if (2 > size) {
                logger.log("ERROR", "ClosedCaption Error:CLW less para");
                return size;
            }
            while (8 > dwWinID) {
                if (Arr[1] & bitValue) {
                    var wind = this.FindWindByID(dwWinID);
                    if (!wind) {
                        return 2;
                    }
                    wind.resetTextInfo(true);
                    wind.UpdateWindInfo();
                    var currRectInfo = wind.getRectInfo();
                    var windowTopNo = TranslatePosToRowNo(currRectInfo.Rect.Top, true);
                    wind.setCurrRow(windowTopNo);
                }
                bitValue *= 2;
                dwWinID++;
            }
            return 2;
        },

        parseDSWCode: function parseDSWCode(Arr, size) {
            if (2 > size) {
                logger.log("ERROR", "ClosedCaption Error:DSW less para");
                return size;
            }
            var dwWinID = 0,
                bitValue = 1;
            while (8 > dwWinID) {
                if (Arr[1] & bitValue) {
                    var CurWin = this.FindWindByID(dwWinID);
                    if (CurWin) {
                        CurWin.setVisible(true);
                    }
                }
                bitValue *= 2;
                dwWinID++;
            }
            return 2;
        },

        parseHDWCode: function parseHDWCode(Arr, size) {
            if (2 > size) {
                logger.log("ERROR", "ClosedCaption Error:HDW less para");
                return size;
            }
            var dwWinID = 0,
                bitValue = 1;
            while (8 > dwWinID) {
                if (Arr[1] & bitValue) {
                    var CurWin = this.FindWindByID(dwWinID);
                    if (CurWin) {
                        CurWin.setVisible(false);
                    }
                }
                bitValue *= 2;
                dwWinID++;
            }
            return 2;
        },

        parseTGWCode: function parseTGWCode(Arr, size) {
            if (2 > size) {
                logger.log("ERROR", "ClosedCaption Error:TGW less para");
                return size;
            }
            var dwWinID = 0,
                bitValue = 1;
            while (8 > dwWinID) {
                if (Arr[1] & bitValue) {
                    var CurWin = this.FindWindByID(dwWinID);
                    if (CurWin) {
                        CurWin.setVisible((CurWin.visible + 1) % 2);
                    }
                }
                bitValue *= 2;
                dwWinID++;
            }
            return 2;
        },

        parseDLWCode: function parseDLWCode(Arr, size) {
            if (2 > size) {
                logger.log("ERROR", "ClosedCaption Error:DLW less para");
                return size;
            }
            var dwWinID = 0,
                bitValue = 1;
            while (8 > dwWinID) {
                if (Arr[1] & bitValue) {
                    if (dwWinID == this.CurrWindID) {
                        this.windows[this.CurrWindID].reset();
                        this.CurrWindID = -1;
                        this.bClearScreen = true;
                    }
                }
                bitValue *= 2;
                dwWinID++;
            }
            return 2;
        },

        parseSPACode: function parseSPACode(Arr, size) {
            if (3 > size) {
                logger.log("ERROR", "ClosedCaption Error:SPA less para");
                return size;
            }

            var CurWin = this.FindWindByID(this.CurrWindID);
            if (CurWin) {
                var newArr = Arr.slice(1);
                CurWin.SetPenAtti(CurWin.penAttri, newArr, size - 1);
            }
            return 3;
        },

        parseSPCCode: function parseSPCCode(Arr, size) {
            if (4 > size) {
                logger.log("ERROR", "ClosedCaption Error:SPC less para");
                return size;
            }

            var curWin = this.FindWindByID(this.CurrWindID);
            if (curWin) {
                var newArr = Arr.slice(1);
                curWin.SetPenColor(curWin.penColor, newArr, size - 1);
            }
            return 4;
        },

        parseSPLCode: function parseSPLCode(Arr, size) {
            if (2 > size) {
                logger.log("ERROR", "ClosedCaption Error:SPL less para");
                return size;
            }

            var curWind = this.FindWindByID(this.CurrWindID);
            if (!curWind) {
                return size > 2 ? 3 : 2;
            }

            var nWindowTopNo = TranslatePosToRowNo(curWind.getRectInfo().Rect.Top);
            var nCurRelRow = R4B3(Arr[1]);
            curWind.setCurrRow(nWindowTopNo + nCurRelRow);
            var colNo = 0;
            if (2 < size) colNo = R6B5(Arr[2]);

            var curRow = curWind.getCurrRow();
            if (curWind.isRowValid(curRow)) {
                if (curWind.rowTextInfos[curRow].pos > 0) {
                    curWind.rowTextInfos[curRow].moveAbsCursor(colNo);
                } else {
                    curWind.rowTextInfos[curRow].setCursor(colNo);
                }
            }
            curWind.UpdateWindInfo(false);
            return size > 2 ? 3 : 2;
        },

        parseSWACode: function parseSWACode(Arr, size) {
            if (5 > size) {
                logger.log("ERROR", "ClosedCaption Error:SWA less para");
                return size;
            }
            var curWind = this.FindWindByID(this.CurrWindID);
            if (curWind) {
                var newArr = Arr.slice(1);
                curWind.SetWindowAttri(curWind.windAttri, newArr, size - 1);
            }
            return 5;
        },

        parseStandardChar: function parseStandardChar(char, size, ExtCode) {
            logger.log("INFO", "[parseStandardChar] byte:" + char.toString(16) + "(" + char + ")" + ", size:" + size + ", ExtCode:" + ExtCode + ", curWindID:" + this.CurrWindID);
            var nUniCode = char,
                charCodes = null;
            if (ExtCode) {
                var nSpeCharCnt = 0;
                for (; nSpeCharCnt < COUNT_G2G3_CHARACTER; nSpeCharCnt++) {
                    if (nUniCode == ExtendedG2G3CodeMap[nSpeCharCnt][0]) {
                        nUniCode = ExtendedG2G3CodeMap[nSpeCharCnt][1];
                        break;
                    }
                }
                if (COUNT_G2G3_CHARACTER == nSpeCharCnt) {
                    nUniCode = 0x5F;
                }
            } else if (nUniCode == 0x7F) {
                nUniCode = 0x266A;
            }
            charCodes = [nUniCode];
            if (charCodes) {
                var hexCodes = numArrayToHexArray(charCodes);
                logger.log("DEBUG", "708 Char codes =  " + hexCodes.join(","));

                if (this.CurrWindID >= 0) {
                    var wind = this.FindWindByID(this.CurrWindID);
                    if (wind) {
                        if (-1 === wind.getCurrRow()) {
                            var rectInfo = wind.getRectInfo();
                            if (rectInfo) {
                                var windTop = TranslatePosToRowNo(rectInfo.Rect.Top);
                                wind.setCurrRow(windTop);
                                wind.setAdjustRowFlag(true);
                            }
                        }
                        wind.insertChars(charCodes);
                        //this.outputDataUpdate();
                    }
                } else {
                    logger.log("WARNING", "No window found yet.");
                }
                return true;
            }

            return false;
        }
    };

    var serviceData = function serviceData() {
        this.serData = [];
        this.serDataSize = 0;
    };
    serviceData.prototype = {
        reset: function reset() {
            this.serDataSize = 0;
            this.serData = [];
        },
        saveSerDate: function saveSerDate(data) {
            this.serData = this.serData.concat(data);
        }
    };

    var Cea708ServiceBlock = function Cea708ServiceBlock() {
        this.allserDataSize = 0;
        this.serData = [];
        for (var i = 1; i <= CC_MAX_SERVICE_NUM; i++) {
            this.serData[i] = new serviceData();
        }
    };

    Cea708ServiceBlock.prototype = {
        reset: function reset() {
            for (var i = 1; i < this.serData.length; i++) {
                this.serData[i].reset();
            }
            this.allserDataSize = 0;
        },

        extractCea708DataFromService: function extractCea708DataFromService(serviceData, len) {
            this.reset();
            var tmpSize = len;
            var tmpDataIndex = 0;
            while (tmpSize > 0) {
                var serviceNo = R3B7(serviceData[tmpDataIndex]);
                var blockSize = R5B4(serviceData[tmpDataIndex]);
                tmpSize--;
                tmpDataIndex++;
                if (0 === serviceNo) {
                    if (0 !== blockSize) {
                        logger.log("ERROR", "[extractCea708DataFromService] Error:serviceNo is 0,but blockSize is not 0");
                    }
                    return this.allserDataSize; ///<once NULL service block,there are no more service block need to be processed
                }
                if (7 == serviceNo && 0 < blockSize) {
                    serviceNo = R6B5(serviceData[tmpDataIndex]);
                    tmpSize--;
                    tmpDataIndex++;
                }

                if (blockSize > len - tmpDataIndex) {
                    blockSize = len - tmpDataIndex;
                    logger.log("DEBUG", "[extractCea708DataFromService] ServiceBlock Packet size bigger than nBlockSize");
                }
                if (this.allserDataSize + blockSize > CC_MAX_SERVICE_BLOCK_SIZE) {
                    logger.log("DEBUG", "[extractCea708DataFromService] ServiceBlock Packet Out of Memory");
                    blockSize = 63 - this.allserDataSize;
                }
                var tmpBuffer = serviceData.slice(tmpDataIndex, blockSize + tmpDataIndex);
                if (this.serData[serviceNo]) {
                    this.serData[serviceNo].saveSerDate(tmpBuffer);
                    this.serData[serviceNo].serDataSize += blockSize;
                    this.allserDataSize += blockSize;
                }

                tmpDataIndex += blockSize;
                tmpSize -= blockSize;
            }
            return this.allserDataSize;
        }
    };

    var Cea708PacketParser = function Cea708PacketParser() {
        this.seqNo = -1;
        this.packetSize = 0;
        this.serviceBlock = new Cea708ServiceBlock();
        this.lastSeqNo = -1;
        this.serNoSetting = 1;
    };

    Cea708PacketParser.prototype = {
        reset: function reset() {
            this.seqNo = -1;
            this.packetSize = 0;
            this.serviceBlok.reset();
            this.lastSeqNo = -1;
            this.serNoSetting = 1;
        },

        extractCea708DataFromPacket: function extractCea708DataFromPacket(ccData) {
            this.seqNo = R2B7(ccData[0]);
            if (this.lastSeqNo != -1 && this.seqNo != (this.lastSeqNo + 1) % 4) {
                logger.log("DEBUG", "[extractCea708DataFromPacket] Error:DTVCCCaption Packet lost." + " lastSeqNo: " + this.lastSeqNo + " SeqNo: " + this.seqNo); ///<we should add packet lost handle
            }
            this.lastSeqNo = this.seqNo;
            this.packetSize = R6B5(ccData[0]);
            if (!this.packetSize) {
                this.packetSize = 128;
            } else {
                this.packetSize = this.packetSize * 2 - 1;
            }
            if (this.packetSize > ccData.length - 1) {
                this.packetSize = ccData.length - 1;
                logger.log("DEBUG", "[extractCea708DataFromPacket] Error:DTVCCCaption Packet size bigger than nPacketSize");
            }
            var tmpData = ccData.slice(1);
            return this.serviceBlock.extractCea708DataFromService(tmpData, this.packetSize);
        }
    };

    exports.logger = logger;
    exports.Cea708parser = Cea708parser;
    exports.Cea708PacketParser = Cea708PacketParser;
    exports.setRectPos = setRectPos;
    exports.RectPos = RectPos;
})(typeof exports === 'undefined' ? undefined.cea708parser = {} : exports);

},{}],46:[function(_dereq_,module,exports){
'use strict';

//import cea608parser from 'cea608-parser';
//import cea708parser from 'cea708-parser';
//import cea608parser from 'E:/xampp/htdocs/dash.js/externals/cea608-parser';
//import cea608parser from './cea608-parser';

var cea608Parser = _dereq_(44);
var cea708Parser = _dereq_(45);
//var cea708Parser = require('./cea708-parser - v1');
(function (exports) {

    // if(typeof cc_Type === "undefined") {
    //     var cc_Type = {
    //         CEA_NO708AND608: 0x00,
    //         CEA_608: 0x02,
    //         CEA_708: 0x04,
    //         CEA_708AND608: 0x06
    //     };
    // }
    //
    // if(typeof caption_Type === "undefined") {
    //     var caption_Type = {
    //         VO_CAPTION_TYPE_EIA608: 0,
    //         VO_CAPTION_TYPE_EIA708: 1,
    //         VO_CAPTION_TYPE_DEFAULT_608: 2,
    //         VO_CAPTION_TYPE_DEFAULT_708: 3,
    //         VO_CAPTION_TYPE_ARIB: 4
    //     };
    // }
    var CEA_NO708AND608 = 0x00,
        CEA_608 = 0x02,
        CEA_708 = 0x04,
        CEA_708AND608 = 0x06,
        VO_CAPTION_TYPE_EIA608 = 0,
        VO_CAPTION_TYPE_EIA708 = 1,
        VO_CAPTION_TYPE_DEFAULT_608 = 2,
        VO_CAPTION_TYPE_DEFAULT_708 = 3;
    //VO_CAPTION_TYPE_ARIB = 4;

    var INVALID_608CC_VALUE = 0x80;
    // MAX_FIELD_NUM = 2;

    var logger = {
        verboseFilter: { 'DATA': 3, 'DEBUG': 3, 'INFO': 2, 'WARNING': 2, 'TEXT': 1, 'ERROR': 0 },
        time: null,
        verboseLevel: 0, // Only write errors
        setTime: function setTime(newTime) {
            this.time = newTime;
        },
        log: function log(severity, msg) {
            var minLevel = this.verboseFilter[severity];
            if (this.verboseLevel >= minLevel) {
                console.log(this.time + " [" + severity + "] " + msg);
            }
        },
        setLogLevel: function setLogLevel(level) {
            this.verboseLevel = level;
        }
    };

    //var numArrayToHexArray = function(numArray) {
    //    var hexArray = [];
    //    for (var j = 0; j < numArray.length; j++) {
    //        hexArray.push(numArray[j].toString(16));
    //    }
    //    return hexArray;
    //};

    var ccParserType = CEA_NO708AND608,
        allCCType = CEA_NO708AND608;

    var ceaParserManager = function ceaParserManager(trackID, out1, out2) {
        this.trackID = trackID;
        this.outputs = [out1, out2];
        this.ceaParserType = VO_CAPTION_TYPE_EIA608;
        this.ceaParser = null;
    };

    ceaParserManager.prototype = {
        reset: function reset() {
            this.ceaParserType = VO_CAPTION_TYPE_EIA608;
            this.ceaParser.reset();
        },

        getHandler: function getHandler() {
            return this.ceaParser.getHandler();
        },

        setHandler: function setHandler(newHandler) {
            this.ceaParser.setHandler(newHandler);
        },

        setCeaParserType: function setCeaParserType(type) {
            if (this.ceaParserType != type) {
                this.ceaParserType = type;
            }
            //console.log("INFO", "setCeaParserType" + " this.ceaParserType:" + this.ceaParserType +
            //" ccParserType:" + type);
        },

        CreateCeaParser: function CreateCeaParser(trackID, out1, out2) {
            if ('608_1' == trackID) {
                this.ceaParser = new cea608Parser.Cea608Parser(0, out1, out2);
                if (!this.ceaParser) {
                    return false;
                }
                //disable output the log message except the error message
                cea608Parser.logger.setLogLevel(0);
            } else if ('608_3' == trackID) {
                this.ceaParser = new cea608Parser.Cea608Parser(1, out1, out2);
                if (!this.ceaParser) {
                    return false;
                }
                // cea608Parser.logger.setLogLevel(3);
            } else {
                this.ceaParser = new cea708Parser.Cea708parser(out1);
                if (!this.ceaParser) {
                    return false;
                }
                //disable output the log message except the error message
                cea708Parser.logger.setLogLevel(0);
            }
            return true;
        },

        addData: function addData(t, byteList) {
            //console.log("ceaParserManager addData trackID:" + this.trackID +
            //    ",byte:" + numArrayToHexArray(byteList).join(","));

            if (!this.ceaParser) {
                this.CreateCeaParser(this.trackID, this.outputs[0], this.outputs[1]);
            }
            if (this.ceaParser) {
                this.ceaParser.addData(t, byteList);
            }
        },

        cueSplitAtTime: function cueSplitAtTime(t) {
            if (this.ceaParser) {
                this.ceaParser.cueSplitAtTime(t);
            }
        }
    };

    /**
     * Find ranges corresponding to SEA CEA-608 NALUS in sizeprepended NALU array.
     * @param {raw} dataView of binary data
     * @param {startPos} start position in raw
     * @param {size} total size of data in raw to consider
     * @returns
     */
    var findCeaNalus = function findCeaNalus(raw, startPos, size) {
        var nalSize = 0,
            cursor = startPos,
            nalType = 0,
            cea608NaluRanges = [],


        // Check SEI data according to ANSI-SCTE 128
        isCEA608SEI = function isCEA608SEI(payloadType, payloadSize, raw, pos) {
            if (payloadType !== 4 || payloadSize < 8) {
                return null;
            }
            var countryCode = raw.getUint8(pos);
            var providerCode = raw.getUint16(pos + 1);
            var userIdentifier = raw.getUint32(pos + 3);
            var userDataTypeCode = raw.getUint8(pos + 7);
            return countryCode == 0xB5 && providerCode == 0x31 && userIdentifier == 0x47413934 && userDataTypeCode == 0x3;
        };
        while (cursor < startPos + size) {
            nalSize = raw.getUint32(cursor);
            nalType = raw.getUint8(cursor + 4) & 0x1F;
            //console.log(time + "  NAL " + nalType);
            if (nalType === 6) {
                // SEI NAL Unit. The NAL header is the first byte
                //console.log("SEI NALU of size " + nalSize + " cursor:" + cursor);
                var pos = cursor + 5;
                var payloadType = -1;
                while (pos < cursor + 4 + nalSize - 1) {
                    // The last byte should be rbsp_trailing_bits
                    payloadType = 0;
                    var b = 0xFF;
                    while (b === 0xFF) {
                        b = raw.getUint8(pos);
                        payloadType += b;
                        pos++;
                    }
                    var payloadSize = 0;
                    b = 0xFF;
                    while (b === 0xFF) {
                        b = raw.getUint8(pos);
                        payloadSize += b;
                        pos++;
                    }
                    if (isCEA608SEI(payloadType, payloadSize, raw, pos)) {
                        //console.log("CEA608 SEI " + time + " " + payloadSize);
                        // console.log("[findCeaNalus] pos:%d, payloadsize:%d, nalType:%d, nalSize:%d, cursor:%d",
                        //     pos, payloadSize, nalType, nalSize, cursor);
                        // console.log(" nal data:" + raw.getUint8(cursor).toString(16), raw.getUint8(cursor + 1).toString(16),
                        //     raw.getUint8(cursor + 2).toString(16),raw.getUint8(cursor + 3).toString(16),
                        // raw.getUint8(cursor + 4).toString(16));
                        //remove the 8 byte userDataTypeCode
                        cea608NaluRanges.push([pos + 8, payloadSize - 8]);
                    }
                    pos += payloadSize;
                }
            }
            cursor += nalSize + 4;
        }
        return cea608NaluRanges;
    };

    var packetData = [];
    var packetParser = new cea708Parser.Cea708PacketParser();
    var extractCeaDataFromRange = function extractCeaDataFromRange(raw, cea608Range) {
        var pos = cea608Range[0];
        var fieldData = [[], [], [], [], [], [], [], []],
            isValid608Data = function isValid608Data(valid, data1, data2, ccType) {
            if (0 === valid) {
                return false;
            }
            if (0 !== ccType && 1 !== ccType) {
                return false;
            }
            if (INVALID_608CC_VALUE == data1 && INVALID_608CC_VALUE == data2 || 0x0 === data1 && 0x0 === data2 || (data1 & 0x7f) + (data2 & 0x7f) === 0) {
                return false;
            }
            return true;
        },
            isValid708Data = function isValid708Data(valid, data1, data2, ccType) {
            if (0 === valid) {
                return false;
            }
            if (2 !== ccType && 3 !== ccType) {
                return false;
            }
            if (0x0 === data1 && 0x0 === data2) {
                return false;
            }
            return true;
        },
            whatCCDataTypeHave = function whatCCDataTypeHave(type, ccType, ccValid, data1, data2) {
            if (isValid608Data(ccValid, data1, data2, ccType)) {
                return type | CEA_608;
            }

            if (isValid708Data(ccValid, data1, data2, ccType)) {
                return type | CEA_708;
            }

            return type;
        },
            setParserType = function setParserType(type) {
            //console.log("setParserType type:%d", type);
            var b608Valid = false,
                b708Valid = false;
            switch (type) {
                case CEA_NO708AND608:
                    {
                        b608Valid = false;
                        b708Valid = false;
                        break;
                    }
                case CEA_708:
                    {
                        b708Valid = true;
                        break;
                    }
                case CEA_608:
                    {
                        b608Valid = true;
                        break;
                    }
                case CEA_708AND608:
                    {
                        b608Valid = true;
                        b708Valid = true;
                        break;
                    }
                default:
                    {
                        b608Valid = false;
                        b708Valid = false;
                        break;
                    }
            }

            if (!b608Valid && !b708Valid) {
                return false;
            }
            if (ccParserType == VO_CAPTION_TYPE_EIA608) {
                if (b708Valid) {
                    ccParserType = VO_CAPTION_TYPE_EIA708;
                }
            } else if (ccParserType == VO_CAPTION_TYPE_EIA708) {
                if (!b708Valid && b608Valid) {
                    ccParserType = VO_CAPTION_TYPE_EIA608;
                }
            } else if (ccParserType == VO_CAPTION_TYPE_DEFAULT_608) {
                if (b608Valid) {
                    ccParserType = VO_CAPTION_TYPE_EIA608;
                } else ccParserType = VO_CAPTION_TYPE_EIA708;
            } else if (ccParserType == VO_CAPTION_TYPE_DEFAULT_708) {
                if (b708Valid) {
                    ccParserType = VO_CAPTION_TYPE_EIA708;
                } else ccParserType = VO_CAPTION_TYPE_EIA608;
            }

            return true;
        },
            CheckCCDataType = function CheckCCDataType(type) {
            if (allCCType != type) {
                if (CEA_708AND608 != allCCType) {
                    allCCType = allCCType | type;
                }
            }
            //console.log("[CheckCCDataType] allCCType:%d, type:%d", allCCType, type);
            setParserType(allCCType);
        },
            reset = function reset() {
            packetData = [];
        },
            is708End = function is708End(len, ccType, ccValid) {
            if (len > 0 && (ccType === 3 && ccValid === 1 || ccValid === 0)) {
                return true;
            }
            return false;
        },
            get708CCData = function get708CCData() {
            //console.log("[get708CCData] len:" + packetData.length + ", packetData:" + numArrayToHexArray(packetData));
            var dataSize = packetParser.extractCea708DataFromPacket(packetData);
            if (dataSize) {
                for (var serviceNO = 1; serviceNO < packetParser.serviceBlock.serData.length; serviceNO++) {
                    if (packetParser.serviceBlock.serData[serviceNO].serData.length) {
                        fieldData[serviceNO + 1] = fieldData[serviceNO + 1].concat(packetParser.serviceBlock.serData[serviceNO].serData);
                        // console.log("[get708CCData] ccData:" + numArrayToHexArray(fieldData[serviceNO + 1]) +
                        //     ", len:" + fieldData[serviceNO + 1].length + ", serviceNO:" + serviceNO);
                    }
                }
            }
        },
            restructCCData = function restructCCData(srcData) {
            var arr = [];
            for (var i = 0; i < srcData.length; i++) {
                if (0 < srcData[i].length) {
                    if (0 === i) {
                        arr.push(["608_1", srcData[i]]);
                    } else if (1 == i) {
                        arr.push(["608_3", srcData[i]]);
                    } else {
                        arr.push(["708_" + (i - 1).toString(), srcData[i]]);
                    }
                }
            }
            return arr;
        };
        //pos += 8; // Skip the identifier up to userDataTypeCode
        var ccCount = raw.getUint8(pos) & 0x1f;
        pos += 2; // Advance 1 and skip reserved byte
        var type = 0;
        for (var i = 0; i < ccCount; i++) {
            var byte = raw.getUint8(pos);
            var ccValid = (byte & 0x4) >> 2;
            var ccType = byte & 0x3;

            pos++;
            var ccData1 = raw.getUint8(pos); // Keep parity bit
            pos++;
            var ccData2 = raw.getUint8(pos); // Keep parity bit
            pos++;
            //console.log(" [extractCeaDataFromRange]count:%d, ccType:%d, i:%d,valid:%d", ccCount, ccType, i, ccValid);
            //console.log("[extractCeaDataFromRange] data1:" + ccData1.toString(16) + " data2:" + ccData2.toString(16));
            var typeTmp = whatCCDataTypeHave(type, ccType, ccValid, ccData1, ccData2);
            type = typeTmp;
            if (isValid608Data(ccValid, ccData1, ccData2, ccType)) {
                //Check validity and non-empty data
                if (ccType === 0) {
                    fieldData[0].push(ccData1);
                    fieldData[0].push(ccData2);
                } else if (ccType === 1) {
                    fieldData[1].push(ccData1);
                    fieldData[1].push(ccData2);
                }
            } else if (ccType === 2 || ccType === 3) {
                if (is708End(packetData.length, ccType, ccValid)) {
                    get708CCData();
                    reset();
                    i--;
                    pos -= 3;
                } else if (isValid708Data(ccValid, ccData1, ccData2, ccType)) {
                    packetData.push(ccData1);
                    packetData.push(ccData2);
                }
            }
        }
        CheckCCDataType(type);
        var ccData = restructCCData(fieldData);
        return ccData;
    };

    exports.logger = logger;
    exports.ceaParserManager = ceaParserManager;
    exports.findCeaNalus = findCeaNalus;
    exports.extractCeaDataFromRange = extractCeaDataFromRange;
})(typeof exports === 'undefined' ? undefined.ceaParserManager = {} : exports);

},{"44":44,"45":45}],47:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.test_cea608 = test_cea608;

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

var _BoxParser = _dereq_(39);

var _BoxParser2 = _interopRequireDefault(_BoxParser);

var _ceaParserManager = _dereq_(46);

var _ceaParserManager2 = _interopRequireDefault(_ceaParserManager);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

var context = window;
var boxParser = (0, _BoxParser2.default)(context).getInstance();

function extractCeaData(data) {
  /* Insert [time, data] pairs in order into array. */
  var insertInOrder = function insertInOrder(arr, time, data) {
    var len = arr.length;
    if (len > 0) {
      if (time >= arr[len - 1][0]) {
        arr.push([time, data]);
      } else {
        for (var pos = len - 1; pos >= 0; pos--) {
          if (time < arr[pos][0]) {
            arr.splice(pos, 0, [time, data]);
            break;
          }
        }
      }
    } else {
      arr.push([time, data]);
    }
  };

  var saveCCData = function saveCCData(arr, time, data) {
    if (0 === data.length || 'undefined' === data[0] || 'undefined' === data[1]) {
      return;
    }
    var bFound = false;
    for (var i = 0; i < arr.length; i++) {
      if (arr[i][0] == data[0]) {
        arr[i].push([time, data[1]]);
        bFound = true;
        break;
      }
    }
    if (!bFound) {
      arr.push([data[0], [time, data[1]]]);
    }
  };

  var isoFile = boxParser.parse(data);
  var moof = isoFile.getBox('moof');
  var tfdt = isoFile.getBox('tfdt');
  var tfhd = isoFile.getBox('tfhd'); //Can have a base_data_offset and other default values
  //log("tfhd: " + tfhd);
  //var saio = isoFile.getBox('saio'); // Offset possibly
  //var saiz = isoFile.getBox('saiz'); // Possible sizes
  var truns = isoFile.getBoxes('trun'); //
  var trun = null;

  if (truns.length === 0) {
    return null;
  }
  trun = truns[0];
  if (truns.length > 1) {
    log('Warning: Too many truns');
  }
  var baseOffset = moof.offset + trun.data_offset;
  //Doublecheck that trun.offset == moof.size + 8
  var sampleCount = trun.sample_count;
  var startPos = baseOffset;
  var baseSampleTime = tfdt.baseMediaDecodeTime;
  var raw = new DataView(data);
  var allCcData = { 'StartTime': null, 'EndTime': null, fields: [] };
  var allCeaNalus = [];
  var accDuration = 0;
  for (var i = 0; i < sampleCount; i++) {
    var sample = trun.samples[i];

    var test = 'Index: ' + i.toString() + ', BaseSampleTime: ' + baseSampleTime;
    if (accDuration == 0) {
      test += ', ActualDuration: ' + accDuration + ' (Error, actual duration cannot be 0)';
    } else {
      test += ', ActualDuration: ' + accDuration;
    }
    if (sample.sample_duration === undefined) {
      if (tfhd.default_sample_duration === undefined) {
        sample.sample_duration = 0;
      } else {
        sample.sample_duration = tfhd.default_sample_duration;
      }
      test += ', Duration: ' + sample.sample_duration;
    } else {
      test += ', Duration: ' + sample.sample_duration;
    }
    if (sample.sample_size === undefined) {
      sample.sample_size = tfhd.default_sample_size;
    }

    if (sample.sample_composition_time_offset === undefined) {
      test += ', CompositionTime: 0';
      sample.sample_composition_time_offset = 0;
    } else {
      test += ', CompositionTime: ' + sample.sample_composition_time_offset;
    }

    var sampleTime = baseSampleTime + accDuration + sample.sample_composition_time_offset;
    test += ', SampleTime: ' + sampleTime;

    var cea608Ranges = _ceaParserManager2.default.findCeaNalus(raw, startPos, sample.sample_size);
    if (0 < cea608Ranges.length) {
      insertInOrder(allCeaNalus, sampleTime, cea608Ranges);
    }

    accDuration += sample.sample_duration;
    startPos += sample.sample_size;
  }

  for (var i = 0; i < allCeaNalus.length; i++) {
    if ('undefined' === allCeaNalus[i][0] || 'undefined' === allCeaNalus[i][1]) {
      continue;
    }
    for (var j = 0; j < allCeaNalus[i][1].length; j++) {
      //console.debug('[extractCeaData] i:' + i + ', j:' + j );
      var ccData = _ceaParserManager2.default.extractCeaDataFromRange(raw, allCeaNalus[i][1][j]);
      for (var k = 0; k < ccData.length; k++) {
        if (ccData[k].length > 0) {
          saveCCData(allCcData.fields, allCeaNalus[i][0], ccData[k]);
        }
      }
    }
  }

  var endSampleTime = baseSampleTime + accDuration;
  allCcData.startTime = baseSampleTime;
  allCcData.endTime = endSampleTime;
  return allCcData;
}

var ccParsers = new Map();

function createCcParser(type) {
  var makeCueAdderForIndex = function makeCueAdderForIndex(self, type) {
    function newCue(startTime, endTime, captionScreen) {
      var text = captionScreen.getDisplayText();
      console.log(type + ': startTime: ' + startTime + ', endTime: ' + endTime + ', ' + text);
    }
    return newCue;
  };
  var handler = makeCueAdderForIndex(this, type);
  return new _ceaParserManager2.default.ceaParserManager(type, { 'newCue': handler }, null);
}

function mytest2(bytes) {
  // init parsers
  ccParsers.set('608_1', createCcParser('608_1'));
  ccParsers.set('608_2', createCcParser('608_2'));
  ccParsers.set('608_3', createCcParser('608_3'));
  ccParsers.set('608_4', createCcParser('608_4'));
  ccParsers.set('708_1', createCcParser('708_1'));
  ccParsers.set('708_2', createCcParser('708_2'));
  ccParsers.set('708_3', createCcParser('708_3'));
  ccParsers.set('708_4', createCcParser('708_4'));
  ccParsers.set('708_5', createCcParser('708_5'));
  ccParsers.set('708_6', createCcParser('708_6'));

  var embeddedTimescale = 90000;

  var allCcData = extractCeaData(bytes);
  for (var i = 0; i < allCcData.fields.length; i++) {
    var ccData = allCcData.fields[i];

    var type = ccData[0];
    var parser = ccParsers.get(type);

    for (var j = 1; j < ccData.length; j++) {
      var a1 = ccData[j][0];
      var a2 = ccData[j][1];
      parser.addData(ccData[j][0] / embeddedTimescale, ccData[j][1]);
    }
  }
}

function test_cea608() {
  console.log('--------test_cea608--------');

  var xhttp = new XMLHttpRequest();
  xhttp.responseType = 'arraybuffer';

  xhttp.onload = function () {
    if (this.status == 200) {
      mytest2(this.response);
    }
  };

  xhttp.open("GET", "http://localhost/2/mydash/subtitles/608_0/V300_with_cc1_and_cc3/1.m4s", true);
  xhttp.send();
}

},{"13":13,"39":39,"46":46}],48:[function(_dereq_,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});
/*
 Copyright 2011 Abdulla Abdurakhmanov
 Original sources are available at https://code.google.com/p/x2js/

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 */

/*
 Modified to keep track of children nodes in order in attribute __children.
*/

function X2JS(matchers, attrPrefix, ignoreRoot) {
	if (attrPrefix === null || attrPrefix === undefined) {
		attrPrefix = "_";
	}

	if (ignoreRoot === null || ignoreRoot === undefined) {
		ignoreRoot = false;
	}

	var VERSION = "1.0.11";
	var escapeMode = false;

	var DOMNodeTypes = {
		ELEMENT_NODE: 1,
		TEXT_NODE: 3,
		CDATA_SECTION_NODE: 4,
		COMMENT_NODE: 8,
		DOCUMENT_NODE: 9
	};

	function getNodeLocalName(node) {
		var nodeLocalName = node.localName;
		if (nodeLocalName == null) // Yeah, this is IE!! 
			nodeLocalName = node.baseName;
		if (nodeLocalName == null || nodeLocalName == "") // =="" is IE too
			nodeLocalName = node.nodeName;
		return nodeLocalName;
	}

	function getNodePrefix(node) {
		return node.prefix;
	}

	function escapeXmlChars(str) {
		if (typeof str == "string") return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;').replace(/'/g, '&#x27;').replace(/\//g, '&#x2F;');else return str;
	}

	function unescapeXmlChars(str) {
		return str.replace(/&amp;/g, '&').replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&quot;/g, '"').replace(/&#x27;/g, "'").replace(/&#x2F;/g, '\/');
	}

	function parseDOMChildren(node) {
		if (node.nodeType == DOMNodeTypes.DOCUMENT_NODE) {
			var result,
			    child = node.firstChild,
			    i,
			    len;

			// get the first node that isn't a comment
			for (i = 0, len = node.childNodes.length; i < len; i += 1) {
				if (node.childNodes[i].nodeType !== DOMNodeTypes.COMMENT_NODE) {
					child = node.childNodes[i];
					break;
				}
			}

			if (ignoreRoot) {
				result = parseDOMChildren(child);
			} else {
				result = {};
				var childName = getNodeLocalName(child);
				result[childName] = parseDOMChildren(child);
			}

			return result;
		} else if (node.nodeType == DOMNodeTypes.ELEMENT_NODE) {
			var result = new Object();
			result.__cnt = 0;

			var children = [];

			var nodeChildren = node.childNodes;

			// Children nodes
			for (var cidx = 0; cidx < nodeChildren.length; cidx++) {
				var child = nodeChildren.item(cidx); // nodeChildren[cidx];
				var childName = getNodeLocalName(child);

				result.__cnt++;
				if (result[childName] == null) {
					var c = parseDOMChildren(child);
					if (childName != "#text" || /[^\s]/.test(c)) {
						var o = {};
						o[childName] = c;
						children.push(o);
					}
					result[childName] = c;
					result[childName + "_asArray"] = new Array(1);
					result[childName + "_asArray"][0] = result[childName];
				} else {
					if (result[childName] != null) {
						if (!(result[childName] instanceof Array)) {
							var tmpObj = result[childName];
							result[childName] = new Array();
							result[childName][0] = tmpObj;

							result[childName + "_asArray"] = result[childName];
						}
					}
					var aridx = 0;
					while (result[childName][aridx] != null) {
						aridx++;
					}var c = parseDOMChildren(child);
					if (childName != "#text" || /[^\s]/.test(c)) {
						// Don't add white-space text nodes
						var o = {};
						o[childName] = c;
						children.push(o);
					}
					result[childName][aridx] = c;
				}
			}

			result.__children = children;

			// Attributes
			for (var aidx = 0; aidx < node.attributes.length; aidx++) {
				var attr = node.attributes.item(aidx); // [aidx];
				result.__cnt++;

				var value2 = attr.value;
				for (var m = 0, ml = matchers.length; m < ml; m++) {
					var matchobj = matchers[m];
					if (matchobj.test(attr)) {
						value2 = matchobj.converter(attr.value);
					}
				}

				result[attrPrefix + attr.name] = value2;
			}

			// Node namespace prefix
			var nodePrefix = getNodePrefix(node);
			if (nodePrefix != null && nodePrefix != "") {
				result.__cnt++;
				result.__prefix = nodePrefix;
			}

			if (result.__cnt == 1 && result["#text"] != null) {
				result = result["#text"];
			}

			if (result["#text"] != null) {
				result.__text = result["#text"];
				if (escapeMode) result.__text = unescapeXmlChars(result.__text);
				delete result["#text"];
				delete result["#text_asArray"];
			}
			if (result["#cdata-section"] != null) {
				result.__cdata = result["#cdata-section"];
				delete result["#cdata-section"];
				delete result["#cdata-section_asArray"];
			}

			if (result.__text != null || result.__cdata != null) {
				result.toString = function () {
					return (this.__text != null ? this.__text : '') + (this.__cdata != null ? this.__cdata : '');
				};
			}
			return result;
		} else if (node.nodeType == DOMNodeTypes.TEXT_NODE || node.nodeType == DOMNodeTypes.CDATA_SECTION_NODE) {
			return node.nodeValue;
		} else if (node.nodeType == DOMNodeTypes.COMMENT_NODE) {
			return null;
		}
	}

	function startTag(jsonObj, element, attrList, closed) {
		var resultStr = "<" + (jsonObj != null && jsonObj.__prefix != null ? jsonObj.__prefix + ":" : "") + element;
		if (attrList != null) {
			for (var aidx = 0; aidx < attrList.length; aidx++) {
				var attrName = attrList[aidx];
				var attrVal = jsonObj[attrName];
				resultStr += " " + attrName.substr(1) + "='" + attrVal + "'";
			}
		}
		if (!closed) resultStr += ">";else resultStr += "/>";
		return resultStr;
	}

	function endTag(jsonObj, elementName) {
		return "</" + (jsonObj.__prefix != null ? jsonObj.__prefix + ":" : "") + elementName + ">";
	}

	function endsWith(str, suffix) {
		return str.indexOf(suffix, str.length - suffix.length) !== -1;
	}

	function jsonXmlSpecialElem(jsonObj, jsonObjField) {
		if (endsWith(jsonObjField.toString(), "_asArray") || jsonObjField.toString().indexOf("_") == 0 || jsonObj[jsonObjField] instanceof Function) return true;else return false;
	}

	function jsonXmlElemCount(jsonObj) {
		var elementsCnt = 0;
		if (jsonObj instanceof Object) {
			for (var it in jsonObj) {
				if (jsonXmlSpecialElem(jsonObj, it)) continue;
				elementsCnt++;
			}
		}
		return elementsCnt;
	}

	function parseJSONAttributes(jsonObj) {
		var attrList = [];
		if (jsonObj instanceof Object) {
			for (var ait in jsonObj) {
				if (ait.toString().indexOf("__") == -1 && ait.toString().indexOf("_") == 0) {
					attrList.push(ait);
				}
			}
		}
		return attrList;
	}

	function parseJSONTextAttrs(jsonTxtObj) {
		var result = "";

		if (jsonTxtObj.__cdata != null) {
			result += "<![CDATA[" + jsonTxtObj.__cdata + "]]>";
		}

		if (jsonTxtObj.__text != null) {
			if (escapeMode) result += escapeXmlChars(jsonTxtObj.__text);else result += jsonTxtObj.__text;
		}
		return result;
	}

	function parseJSONTextObject(jsonTxtObj) {
		var result = "";

		if (jsonTxtObj instanceof Object) {
			result += parseJSONTextAttrs(jsonTxtObj);
		} else if (jsonTxtObj != null) {
			if (escapeMode) result += escapeXmlChars(jsonTxtObj);else result += jsonTxtObj;
		}

		return result;
	}

	function parseJSONArray(jsonArrRoot, jsonArrObj, attrList) {
		var result = "";
		if (jsonArrRoot.length == 0) {
			result += startTag(jsonArrRoot, jsonArrObj, attrList, true);
		} else {
			for (var arIdx = 0; arIdx < jsonArrRoot.length; arIdx++) {
				result += startTag(jsonArrRoot[arIdx], jsonArrObj, parseJSONAttributes(jsonArrRoot[arIdx]), false);
				result += parseJSONObject(jsonArrRoot[arIdx]);
				result += endTag(jsonArrRoot[arIdx], jsonArrObj);
			}
		}
		return result;
	}

	function parseJSONObject(jsonObj) {
		var result = "";

		var elementsCnt = jsonXmlElemCount(jsonObj);

		if (elementsCnt > 0) {
			for (var it in jsonObj) {

				if (jsonXmlSpecialElem(jsonObj, it)) continue;

				var subObj = jsonObj[it];

				var attrList = parseJSONAttributes(subObj);

				if (subObj == null || subObj == undefined) {
					result += startTag(subObj, it, attrList, true);
				} else if (subObj instanceof Object) {

					if (subObj instanceof Array) {
						result += parseJSONArray(subObj, it, attrList);
					} else {
						var subObjElementsCnt = jsonXmlElemCount(subObj);
						if (subObjElementsCnt > 0 || subObj.__text != null || subObj.__cdata != null) {
							result += startTag(subObj, it, attrList, false);
							result += parseJSONObject(subObj);
							result += endTag(subObj, it);
						} else {
							result += startTag(subObj, it, attrList, true);
						}
					}
				} else {
					result += startTag(subObj, it, attrList, false);
					result += parseJSONTextObject(subObj);
					result += endTag(subObj, it);
				}
			}
		}
		result += parseJSONTextObject(jsonObj);

		return result;
	}

	this.parseXmlString = function (xmlDocStr) {
		var xmlDoc, parser, ns;

		if (window.DOMParser) {
			parser = new window.DOMParser();

			try {
				ns = parser.parseFromString('<', 'text/xml').getElementsByTagName("parsererror")[0].namespaceURI;
			} catch (e) {
				// IE11 will definitely throw SyntaxError here
				// ns will be undefined
			}

			try {
				xmlDoc = parser.parseFromString(xmlDocStr, "text/xml");

				if (ns) {
					if (xmlDoc.getElementsByTagNameNS(ns, 'parsererror').length) {
						xmlDoc = undefined;
					}
				}
			} catch (e) {
				// IE11 may throw SyntaxError here if xmlDocStr is
				// not well formed. xmlDoc will be undefined
			}
		} else {
			// IE :(
			if (xmlDocStr.indexOf("<?") == 0) {
				xmlDocStr = xmlDocStr.substr(xmlDocStr.indexOf("?>") + 2);
			}
			xmlDoc = new ActiveXObject("Microsoft.XMLDOM");
			xmlDoc.async = "false";
			xmlDoc.loadXML(xmlDocStr);
		}
		return xmlDoc;
	};

	this.xml2json = function (xmlDoc) {
		return parseDOMChildren(xmlDoc);
	};

	this.xml_str2json = function (xmlDocStr) {
		var xmlDoc = this.parseXmlString(xmlDocStr);
		return xmlDoc ? this.xml2json(xmlDoc) : undefined;
	};

	this.json2xml_str = function (jsonObj) {
		return parseJSONObject(jsonObj);
	};

	this.json2xml = function (jsonObj) {
		var xmlDocStr = this.json2xml_str(jsonObj);
		return this.parseXmlString(xmlDocStr);
	};

	this.getVersion = function () {
		return VERSION;
	};

	this.escapeMode = function (enabled) {
		escapeMode = enabled;
	};
}
exports.default = X2JS;

},{}],49:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

var _EventBus = _dereq_(12);

var _EventBus2 = _interopRequireDefault(_EventBus);

var _common_utils = _dereq_(52);

var _common_utils2 = _interopRequireDefault(_common_utils);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

var Cue = window.VTTCue || window.TextTrackCue;

var TextEngine = function TextEngine(media) {
    this.media = media;
};

TextEngine.prototype.clearCurrentCues = function (track) {
    if (track && track.cues) {
        while (track.cues.length > 0) {
            track.removeCue(track.cues[0]);
        }
    }
};

TextEngine.prototype.addTextTrack = function () {
    // method1
    // let textTrack = media.addTextTrack('subtitles', 'English', 'eng');
    // textTrack.myId = 'test1';
    // textTrack.mode = 'showing';
    // method2
    var textTrack = document.createElement('track');
    textTrack.id = 'test1';
    textTrack.kind = 'subtitle';
    textTrack.label = 'English';
    textTrack.srclang = 'eng';
    media.appendChild(textTrack);
    textTrack = media.textTracks[0];
    textTrack.mode = 'showing';

    // BD
    console.log('begin add first cue');
    var cue = new Cue(10, 15, 'This is a placeholder text');
    textTrack.addCue(cue);
    console.log('after add first cue');

    this.clearCurrentCues(textTrack);

    console.log('begin add second cue');
    var cue1 = new Cue(0, 12, 'This is a placeholder text1');
    textTrack.addCue(cue1);
    console.log('after add second cue');

    var a = 2;
    var b = a;
    // ED

    return;

    //
    // let cue = new Cue(0, 100, 'This is a placeholder text');
    // textTrack.addCue(cue);

    //for (let i = 0; i <= 10; i ++) {
    //  let cue = new Cue(i, i+1, 'current time: ' + i.toString());

    //// test1
    //let n = 5;
    //if (i % n == 0) {
    //  cue.align = "start"; 
    //} else if (i % n == 1) {
    //  cue.align = "center";
    //} else if (i % n == 2) {
    //  cue.align = "end";
    //} else if (i % n == 3) {
    //  cue.align = "left";
    //} else if (i % n == 4) {
    //  cue.align = "right";
    //}


    // test2, text在哪一行
    //cue.lineAlign = "start";
    //cue.line = i;

    // test3
    //cue.positionAlign = "start";
    //cue.position = i*10;

    // chrome
    //cue.align = "start";
    //cue.line = 0;
    //cue.lineAlign = "start";
    //cue.position = "auto";
    //cue.size = 100;
    //cue.snapToLines = false;

    // firefox47
    //cue.align = "start";
    //cue.line = 0;
    //cue.lineAlign = "start";
    //cue.position = 10;
    //cue.positionAlign = "end";
    //cue.size = 100;
    //cue.snapToLines = false;

    // firefox53
    //cue.position = 'auto';
    //cue.positionAlign = 'center';

    //  textTrack.addCue(cue);
    //}
};

TextEngine.prototype.setTextTrackHidden = function () {
    var inUseTracks = media ? media.textTracks : [];
    for (var i = 0; i < inUseTracks.length; i++) {
        var track = inUseTracks[i];
        // Track mode was defined by html textTrack element.
        track.mode = 'hidden';
    }
};

TextEngine.prototype.setCueAlign = function (align) {
    var textTrack = media.textTracks[0];

    for (var i = 0; i < textTrack.cues.length; i++) {
        var cue = textTrack.cues[i];
        cue.align = align;
    }
};

TextEngine.prototype.setCueLine = function (line) {
    var textTrack = media.textTracks[0];

    for (var i = 0; i < textTrack.cues.length; i++) {
        var cue = textTrack.cues[i];
        cue.line = line;
    }
};

TextEngine.prototype.setCueLineAlign = function (lineAlign) {};

exports.default = TextEngine;

////
//function TextEngine()
//{
//  let instance;
//  let media;

//  function setup() {
//    media = null;
//  }

//  function setMedia(param_media) {
//    media = param_media;
//  }

//function clearCurrentCues(track) {
//  if (track && track.cues) {
//    while (track.cues.length > 0) {
//      track.removeCue(track.cues[0]);
//    }
//  }
//}

//  function addTextTrack() {
//    // method1
//    let textTrack = media.addTextTrack('subtitles', 'English', 'eng');
//    textTrack.mode = 'showing';
//    //// method2
//    //let textTrack = document.createElement('track');
//    //textTrack.kind = 'subtitle';
//    //textTrack.label = 'English';
//    //textTrack.srclang = 'eng';
//    //media.appendChild(textTrack);

//    //textTrack = media.textTracks[0];
//    //textTrack.mode = 'showing';

//    // BD
//    console.log('begin add first cue');
//    let cue = new Cue(10, 15, 'This is a placeholder text');
//    textTrack.addCue(cue);
//    console.log('after add first cue');

//    clearCurrentCues(textTrack);

//    console.log('begin add second cue');
//    let cue1 = new Cue(0, 12, 'This is a placeholder text1');
//    textTrack.addCue(cue1);
//    console.log('after add second cue');

//    let a=2;
//    let b=a;
//    // ED

//    return;

//    //
//    // let cue = new Cue(0, 100, 'This is a placeholder text');
//    // textTrack.addCue(cue);

//    //for (let i = 0; i <= 10; i ++) {
//    //  let cue = new Cue(i, i+1, 'current time: ' + i.toString());

//      //// test1
//      //let n = 5;
//      //if (i % n == 0) {
//      //  cue.align = "start"; 
//      //} else if (i % n == 1) {
//      //  cue.align = "center";
//      //} else if (i % n == 2) {
//      //  cue.align = "end";
//      //} else if (i % n == 3) {
//      //  cue.align = "left";
//      //} else if (i % n == 4) {
//      //  cue.align = "right";
//      //}


//      // test2, text在哪一行
//      //cue.lineAlign = "start";
//      //cue.line = i;

//      // test3
//      //cue.positionAlign = "start";
//      //cue.position = i*10;

//      // chrome
//      //cue.align = "start";
//      //cue.line = 0;
//      //cue.lineAlign = "start";
//      //cue.position = "auto";
//      //cue.size = 100;
//      //cue.snapToLines = false;

//      // firefox47
//      //cue.align = "start";
//      //cue.line = 0;
//      //cue.lineAlign = "start";
//      //cue.position = 10;
//      //cue.positionAlign = "end";
//      //cue.size = 100;
//      //cue.snapToLines = false;

//      // firefox53
//      //cue.position = 'auto';
//      //cue.positionAlign = 'center';

//    //  textTrack.addCue(cue);
//    //}
//  }

//  function setTextTrackHidden() {
//    const inUseTracks = media ? media.textTracks : [];
//    for(let i = 0; i < inUseTracks.length; i ++) {
//      let track = inUseTracks[i];
//      // Track mode was defined by html textTrack element.
//      track.mode = 'hidden';
//    }
//  }

//  function setCueAlign(align) {
//    let textTrack = media.textTracks[0];

//    for (let i=0; i < textTrack.cues.length; i ++) {
//      let cue = textTrack.cues[i];
//      cue.align = align;
//    }
//  }

//  function setCueLine(line) {
//    let textTrack = media.textTracks[0];

//    for (let i=0; i < textTrack.cues.length; i ++) {
//      let cue = textTrack.cues[i];
//      cue.line = line;
//    }
//  }

//  function setCueLineAlign(lineAlign) {

//  }

//  instance = {
//    setMedia: setMedia,
//    addTextTrack: addTextTrack,
//    setTextTrackHidden: setTextTrackHidden,
//    setCueAlign: setCueAlign,
//    setCueLine: setCueLine,
//    setCueLineAlign: setCueLineAlign,
//  };

//  setup();

//  return instance;
//}


//TextEngine.__h5player_factory_name = 'TextEngine';
//export default FactoryMaker.getSingletonFactory(TextEngine);

},{"12":12,"13":13,"52":52}],50:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : { default: obj };
}

function UIEngine() {
    var playerContainer_ = null;
    var videoContainer_ = null;
    var video_ = null;
    var adContainer_ = null;

    function initUI(playerContainer) {
        playerContainer_ = document.getElementById(playerContainer);
        initUIElement();
    }

    function initUIStyle() {
        var style = document.createElement('style');
        style.type = 'text/css';
        style.innerHTML = 'body{margin:0px;background-color:lightgray;}.player{position:relative;width:640px;height:360px;margin:16px;}.html5-video-player{width:100%;height:100%;}.vop-autohide{cursor:none}.vop-video-container,.vop-video-ads{position:absolute;width:100%;height:100%;background-color:black;}.vop-video{width:100%;height:100%;}.vop-shade{position:absolute;width:100%;height:100%;z-index:100;}.vop-shade:not(.vop-shade-test1){}.vop-gradient-bottom{width:100%;position:absolute;background-repeat:repeat-x;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==);-moz-transition:opacity .25s cubic-bezier(0.0,0.0,0.2,1);-webkit-transition:opacity .25s cubic-bezier(0.0,0.0,0.2,1);transition:opacity .25s cubic-bezier(0.0,0.0,0.2,1);pointer-events:none}.vop-gradient-bottom{height:49px;padding-top:49px;bottom:0;z-index:22;background-position:bottom}.vop-chrome-bottom{position:absolute;text-shadow:0 0 2px rgba(0,0,0,.5)}.vop-chrome-bottom{bottom:0;height:41px;z-index:60;text-align:left;direction:ltr;left:12px;right:12px;}.vop-chrome-bottom{-moz-transition:opacity .25s cubic-bezier(0.0,0.0,0.2,1);-webkit-transition:opacity .25s cubic-bezier(0.0,0.0,0.2,1);transition:opacity .25s cubic-bezier(0.0,0.0,0.2,1)}.vop-autohide .vop-chrome-bottom{opacity:0;-moz-transition:opacity .25s cubic-bezier(0.0,0.0,0.2,1);-webkit-transition:opacity .25s cubic-bezier(0.0,0.0,0.2,1);transition:opacity .25s cubic-bezier(0.0,0.0,0.2,1);}.vop-progress-bar{width:100%;height:5px;background-color:orange;}.vop-controls{width:100%;height:36px;}.vop-left-controls{height:100%;float:left;}.vop-right-controls{float:right;}.vop-button{width:36px;height:100%;border:none;color:inherit;background-color:transparent;padding:0;text-align:inherit;font-size:100%;font-family:inherit;cursor:default;line-height:inherit}.vop-button:focus,.vop-button{outline:0}.vop-button::-moz-focus-inner{padding:0;border:0}.vop-time-display{float:left;}.vop-time-text{color:white;position:absolute;top:50%;transform:translateY(-50%);}.vop-svg-shadow{stroke:#000;stroke-opacity:.15;stroke-width:2px;fill:none}.vop-svg-fill{fill:#fff}.vop-play-button{float:left;cursor:pointer;}.vop-autohide .vop-play-button{cursor:none;}.vop-play-button::before{content:"";display:block;height:100%;width:12px;position:absolute;top:0;left:-12px;}.vop-ads-container{position:absolute;top:0px;left:0px;width:100%;height:100%;}#idBtnController{position:relative;}#idBufferingContainer{position:absolute;background-color:lightgreen;margin:auto;width:200px;height:200px;top:0;left:0;bottom:0;right:0;}.spinnerSvg{position:absolute;width:100%;height:100%;top:0;bottom:0;left:0;right:0;margin:auto;animation:rotate 2s linear infinite;transform-origin:center center;}.spinnerPath{stroke:#d62d20;stroke-dasharray:20,200;stroke-dashoffset:0;animation:dash 1.5s ease-in-out infinite,color 6s ease-in-out infinite;stroke-linecap:round;}@keyframes rotate{100%{transform:rotate(360deg);}}@keyframes dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0;}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px;}100%{stroke-dasharray:89,200;stroke-dashoffset:-124px;}}@keyframes color{100%,0%{stroke:#d62d20;}40%{stroke:#0057e7;}66%{stroke:#008744;}80%,90%{stroke:#ffa700;}}.spinner{position:absolute;width:300px;height:301px;background-image:url("assets/buffering7.png");-webkit-animation:spin 1s infinite linear;top:50%;left:50%;display:block;}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);}100%{-webkit-transform:rotate(-360deg);}}';

        document.getElementsByTagName('HEAD').item(0).appendChild(style);
    }

    function initUIElement() {
        // create video element here
        video_ = document.createElement('video');
        video_.setAttribute('class', 'vop-video');
        //video_.setAttribute('autoplay', 'true');
        video_.setAttribute('playsinline', 'true');
        video_.setAttribute('webkit-playsinline', 'true');

        videoContainer_ = document.createElement('div');
        videoContainer_.setAttribute('class', 'vop-video-container');
        videoContainer_.appendChild(video_);

        // create ads container
        adContainer_ = document.createElement('div');
        adContainer_.setAttribute('class', 'vop-ads-container');

        //
        var firstChild = playerContainer_.firstChild;
        if (firstChild) {
            playerContainer_.insertBefore(videoContainer_, firstChild);
        } else {
            playerContainer_.appendChild(videoContainer_);
        }

        var h5pShade = document.querySelector('.vop-shade');
        firstChild = h5pShade.firstChild;
        if (firstChild) {
            h5pShade.insertBefore(adContainer_, firstChild);
        } else {
            h5pShade.appendChild(adContainer_);
        }
    }

    function getVideo() {
        return video_;
    }

    function getVideoContainer() {
        return videoContainer_;
    }

    function getAdContainer() {
        return adContainer_;
    }

    var instance = {
        initUI: initUI,
        getVideo: getVideo,
        getAdContainer: getAdContainer
    };

    return instance;
};

UIEngine.__h5player_factory_name = 'UIEngine';
exports.default = _FactoryMaker2.default.getSingletonFactory(UIEngine);

},{"13":13}],51:[function(_dereq_,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

/**
 * The copyright in this software is being made available under the BSD License,
 * included below. This software may be subject to other third party and contributor
 * rights, including patent rights, and no such rights are granted under this license.
 *
 * Copyright (c) 2013, Dash Industry Forum.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 *  * Redistributions of source code must retain the above copyright notice, this
 *  list of conditions and the following disclaimer.
 *  * Redistributions in binary form must reproduce the above copyright notice,
 *  this list of conditions and the following disclaimer in the documentation and/or
 *  other materials provided with the distribution.
 *  * Neither the name of Dash Industry Forum nor the names of its
 *  contributors may be used to endorse or promote products derived from this software
 *  without specific prior written permission.
 *
 *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY
 *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
 *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 *  POSSIBILITY OF SUCH DAMAGE.
 */
/**
 * @class
 * @ignore
 */
var Error = function Error(code, message, data) {
  _classCallCheck(this, Error);

  this.code = code || null;
  this.message = message || null;
  this.data = data || null;
};

exports.default = Error;

},{}],52:[function(_dereq_,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var CommonUtils = {};

/**
 * return IE,IE6,IE7,IE8,IE9,Chrome,Firefox,Opera,WebKit,Safari,Others
 */
CommonUtils.getBrowserInfo = function () {
    var sys = {};
    var ua = navigator.userAgent.toLowerCase();
    var s;
    var s;
    if (s = ua.match(/edge\/([\d.]+)/)) {
        sys.edge = s[1];
    } else if (s = ua.match(/rv:([\d.]+)\) like gecko/)) {
        sys.ie = s[1];
    } else if (s = ua.match(/msie ([\d.]+)/)) {
        sys.ie = s[1];
    } else if (s = ua.match(/firefox\/([\d.]+)/)) {
        sys.firefox = s[1];
    } else if (s = ua.match(/chrome\/([\d.]+)/)) {
        sys.chrome = s[1];
    } else if (s = ua.match(/opera.([\d.]+)/)) {
        sys.opera = s[1];
    } else if (s = ua.match(/version\/([\d.]+).*safari/)) {
        sys.safari = s[1];
    }

    if (sys.edge) return { browser: "Edge", version: sys.edge };
    if (sys.ie) return { browser: "IE", version: sys.ie };
    if (sys.firefox) return { browser: "Firefox", version: sys.firefox };
    if (sys.chrome) return { browser: "Chrome", version: sys.chrome };
    if (sys.opera) return { browser: "Opera", version: sys.opera };
    if (sys.safari) return { browser: "Safari", version: sys.safari };

    return { browser: "", version: "0" };
};

CommonUtils.isSafari = function () {
    if (CommonUtils.getBrowserInfo().browser === 'Safari') {
        return true;
    } else {
        return false;
    }
};

CommonUtils.isFirefox = function () {
    if (CommonUtils.getBrowserInfo().browser === 'Firefox') {
        return true;
    } else {
        return false;
    }
};

CommonUtils.isChrome = function () {
    if (CommonUtils.getBrowserInfo().browser === 'Chrome') {
        return true;
    } else {
        return false;
    }
};

CommonUtils.isChromecast = function () {
    if (window.cast && window.cast.__platform__) {
        return true;
    } else {
        return false;
    }
};

CommonUtils.isEdge = function () {
    var userAgent = navigator.userAgent;
    var isEdge = userAgent.indexOf("Edge") > -1;
    return isEdge;
};

CommonUtils.isIE = function () {
    if (!!window.ActiveXObject || "ActiveXObject" in window) {
        return true;
    } else {
        return false;
    }
};

CommonUtils.getOSVersion = function () {
    var os, osVersion;

    // system
    var nAgt = navigator.userAgent;
    var nVer = navigator.appVersion;

    os = 'unknown';
    osVersion = 'unknown';
    var clientStrings = [{ s: 'Windows 10', r: /(Windows 10.0|Windows NT 10.0)/ }, { s: 'Windows 8.1', r: /(Windows 8.1|Windows NT 6.3)/ }, { s: 'Windows 8', r: /(Windows 8|Windows NT 6.2)/ }, { s: 'Windows 7', r: /(Windows 7|Windows NT 6.1)/ }, { s: 'Windows Vista', r: /Windows NT 6.0/ }, { s: 'Windows Server 2003', r: /Windows NT 5.2/ }, { s: 'Windows XP', r: /(Windows NT 5.1|Windows XP)/ }, { s: 'Windows 2000', r: /(Windows NT 5.0|Windows 2000)/ }, { s: 'Windows ME', r: /(Win 9x 4.90|Windows ME)/ }, { s: 'Windows 98', r: /(Windows 98|Win98)/ }, { s: 'Windows 95', r: /(Windows 95|Win95|Windows_95)/ }, { s: 'Windows NT 4.0', r: /(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/ }, { s: 'Windows CE', r: /Windows CE/ }, { s: 'Windows 3.11', r: /Win16/ }, { s: 'Android', r: /Android/ }, { s: 'Open BSD', r: /OpenBSD/ }, { s: 'Sun OS', r: /SunOS/ }, { s: 'Linux', r: /(Linux|X11)/ }, { s: 'iOS', r: /(iPhone|iPad|iPod)/ }, { s: 'Mac OS X', r: /Mac OS X/ }, { s: 'Mac OS', r: /(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/ }, { s: 'QNX', r: /QNX/ }, { s: 'UNIX', r: /UNIX/ }, { s: 'BeOS', r: /BeOS/ }, { s: 'OS/2', r: /OS\/2/ }, { s: 'Search Bot', r: /(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/ }];
    for (var id in clientStrings) {
        var cs = clientStrings[id];
        if (cs.r.test(nAgt)) {
            os = cs.s;
            break;
        }
    }

    if (/Windows/.test(os)) {
        osVersion = /Windows (.*)/.exec(os)[1];
        os = 'Windows';
    }

    switch (os) {
        case 'Mac OS X':
            osVersion = /Mac OS X (10[\.\_\d]+)/.exec(nAgt)[1];
            break;

        case 'Android':
            osVersion = /Android ([\.\_\d]+)/.exec(nAgt)[1];
            break;

        case 'iOS':
            osVersion = /OS (\d+)_(\d+)_?(\d+)?/.exec(nVer);
            osVersion = osVersion[1] + '.' + osVersion[2] + '.' + (osVersion[3] | 0);
            break;
    }

    console.log('nAgt: ' + nAgt);
    console.log('nVer: ' + nVer);
    console.log('os: ' + os);
    console.log('osVersion: ' + osVersion);

    var pattern = 'Linux';
    var ua = 'Mozilla/5.0 (X11; Linux armv7l) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.17 Safari/537.36 CrKey/1.28.100555';
    var arrOSV = RegExp('\\b' + pattern + '(?:/[\\d.]+|[ \\w.]*)', 'i').exec(ua);
    var osv = arrOSV[0];
    var patternLen = pattern.length;
    console.log('pattern length: ' + patternLen);
    osv.indexOf(pattern);

    var out = osv.slice(patternLen + 1);
    console.log('out: ' + out);

    var a = 2;
    var b = a;
};

CommonUtils.isMobilePlatform = function () {
    return navigator.userAgent.match(/(iPod|iPhone|iPad)/) || navigator.userAgent.toLowerCase().indexOf('android') > -1;
};

/////////////////////////////////////////////////////////////
CommonUtils.init = function () {
    // Add startsWith prototype method to String object
    if (!String.prototype.startsWith) {
        // Add prototype methods for Number object
        if (!Number.isInteger) {
            Number.isInteger = function (num) {
                return (num ^ 0) === num;
            };
        }

        // Add prototype methods for String object
        if (!String.prototype.startsWith) {
            String.prototype.startsWith = function (searchString, position) {
                position = position || 0;
                return this.indexOf(searchString, position) === position;
            };
        }
    }
};

//////////////////////////////////////////////
CommonUtils.getFormatTime = function () {
    var message = '';
    var d = null;

    d = new Date();
    message += '[' + ('0' + (d.getMonth() + 1)).slice(-2) + '-' + ('0' + d.getDate()).slice(-2) + ' ' + ('0' + d.getHours()).slice(-2) + ':' + ('0' + d.getMinutes()).slice(-2) + ':' + ('0' + d.getSeconds()).slice(-2) + '.' + ('0' + d.getMilliseconds()).slice(-3) + ']';

    return message;
};

CommonUtils.timeToString = function (value) {
    function formatTimeUnit(time) {
        return time < 10 ? '0' + time.toString() : time.toString();
    }

    value = Math.max(value, 0);
    var h = Math.floor(value / 3600);
    var m = Math.floor(value % 3600 / 60);
    var s = Math.floor(value % 3600 % 60);
    return (h === 0 ? '' : formatTimeUnit(h) + ':') + formatTimeUnit(m) + ':' + formatTimeUnit(s);
};

//
CommonUtils.test1 = function (aa) {
    CommonUtils.init();

    var s1 = "aaabbcder";
    var ret = s1.startsWith('aaa', 0);
    var ret2 = s1.startsWith('abc', 0);
    console.log('startsWith ret: ' + ret);
    console.log('startsWith ret2: ' + ret2);

    var b1 = Number.isInteger(123);
    var b2 = Number.isInteger(123.123);
    var b3 = Number.isInteger(undefined);
    console.log('b1: ' + b1);
    console.log('b2: ' + b2);
    console.log('b3: ' + b3);
};

exports.default = CommonUtils;

},{}],53:[function(_dereq_,module,exports){
'use strict';

var StringUtils = {

    // ArrayBuffer转为字符串，参数为ArrayBuffer对象
    ab2str: function ab2str(buf) {
        return String.fromCharCode.apply(null, new Uint16Array(buf));
    },
    // 字符串转为ArrayBuffer对象，参数为字符串
    str2ab: function str2ab(str) {
        var buf = new ArrayBuffer(str.length * 2); // 每个字符占用2个字节
        var bufView = new Uint16Array(buf);
        for (var i = 0, strLen = str.length; i < strLen; i++) {
            bufView[i] = str.charCodeAt(i);
        }
        return buf;
    },
    ab2str_v1: function ab2str_v1(buf) {
        return String.fromCharCode.apply(null, new Uint8Array(buf));
    },
    // 字符串转为ArrayBuffer对象，参数为字符串
    str2ab_v1: function str2ab_v1(str) {
        var buf = new ArrayBuffer(str.length); // 每个字符占用1个字节
        var bufView = new Uint8Array(buf);
        for (var i = 0, strLen = str.length; i < strLen; i++) {
            bufView[i] = str.charCodeAt(i);
        }
        return buf;
    },
    u8arrToB64: function u8arrToB64(u8arr) {
        return btoa(String.fromCharCode.apply(null, u8arr)).replace(/\+/g, '-').replace(/\//g, '_').replace(/=*$/, '');
    },
    b64ToU8arr: function b64ToU8arr(encoded) {
        return new Uint8Array(atob(encoded).split('').map(function (c) {
            return c.charCodeAt(0);
        }));
    }
};

module.exports = StringUtils;

},{}],54:[function(_dereq_,module,exports){
'use strict';

/**
 *  TimeRanges to string helper
 */

var TimeRanges = {
  toString: function toString(r) {
    var log = '',
        len = r.length;
    for (var i = 0; i < len; i++) {
      var beg = r.start(i);
      var end = r.end(i);

      //console.log('start: ' + beg + ', end: ' + end);
      log += '[' + r.start(i) + ',' + r.end(i) + ']';
    }
    return log;
  }
};

module.exports = TimeRanges;

},{}],55:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _FactoryMaker = _dereq_(13);

var _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : { default: obj };
}

function XHRLoader(config) {
  var config_ = config || {
    remainingAttempts: 0,
    retryInterval: 4000
  };

  var request_ = null;
  var xhr_ = null;
  var needFailureReport_ = false;

  // for debug
  var enableLog_ = false;

  function loadInternal() {}

  function load(request) {
    printlog('begin load time: ' + new Date().getTime() / 1000);

    request_ = request;
    printlog(request_.url + ', remainingAttempts_: ' + config_.remainingAttempts);

    needFailureReport_ = true;

    xhr_ = new XMLHttpRequest();

    printlog('--before open--, readyState: ' + xhr_.readyState);

    xhr_.open('GET', request_.url);
    xhr_.responseType = 'arraybuffer';
    if (request_.rangeEnd) {
      xhr_.setRequestHeader('Range', 'bytes=' + request_.rangeStart + '-' + (request_.rangeEnd - 1));
    }

    xhr_.onloadstart = function () {
      printlog('--onloadstart--');
    };

    var onload = function onload(ev) {
      printlog('--onload--, status:' + xhr_.status + ', length: ' + xhr_.response.byteLength + ', readyState:' + xhr_.readyState);

      if (xhr_.status >= 200 && xhr_.status <= 299) {
        request_.cbSuccess(xhr_.response);
        needFailureReport_ = false;
      };
    };

    var onloadend = function onloadend() {
      printlog('--onloadend--, remainingAttempts_: ' + config_.remainingAttempts + ', readystate: ' + xhr_.readyState);
      printlog('--------------------------------------------------------------');

      if (needFailureReport_) {
        if (config_.remainingAttempts > 0) {
          config_.remainingAttempts--;

          // BD, test retry counts
          // if (config_.remainingAttempts === 0) {
          //   request_.url = 'http://localhost/1/tmp/test.txt';
          // }
          // // ED

          printlog('begin load timeout: ' + new Date().getTime() / 1000);

          //setTimeout(retryFunc, config_.retryInterval);
          setTimeout(load.bind(this, request_), config_.retryInterval);
        }
      }
    };

    xhr_.onprogress = function (ev) {
      printlog('--onprogress--, loaded:' + ev.loaded + ', total:' + ev.total + ', readyState:' + xhr_.readyState);
    };

    xhr_.ontimeout = function () {
      printlog('--ontimeout--, readystate: ' + xhr_.readyState);
    };

    xhr_.onabort = function () {
      printlog('--onabort--, readystate: ' + xhr_.readyState);
    };

    xhr_.onerror = function () {
      printlog('--onerror--, readystate: ' + xhr_.readyState);
    };

    xhr_.onreadystatechange = function (ev) {
      printlog('--onreadystatechange--, readystate: ' + xhr_.readyState);
    };

    xhr_.onload = onload.bind(this);
    xhr_.onloadend = onloadend.bind(this);

    printlog('--before send--, readyState: ' + xhr_.readyState);
    xhr_.send();
  };

  function printlog(log) {
    if (enableLog_) {
      console.log(log);
    }
  }

  var instance = {
    load: load
  };

  return instance;
}

XHRLoader.__h5player_factory_name = 'XHRLoader';
exports.default = _FactoryMaker2.default.getSingletonFactory(XHRLoader);

},{"13":13}]},{},[22])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9ncnVudC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvY29kZW0taXNvYm94ZXIvZGlzdC9pc29fYm94ZXIuanMiLCJzcmNcXFBsYXllci5qcyIsInNyY1xcU291cmNlQnVmZmVyV3JhcHBlci5qcyIsInNyY1xcVGVzdEZlYXR1cmUuanMiLCJzcmNcXFV0aWxzXFxGaWxlU2F2ZXIuanMiLCJzcmNcXGFkc1xcYWRzX2VuZ2luZS5qcyIsInNyY1xcY2FzdFxcY2FzdF9yZWNlaXZlci5qcyIsInNyY1xcY2FzdFxcY2FzdF9zZW5kZXIuanMiLCJzcmNcXGNhc3RcXGNhc3RfdXRpbHMuanMiLCJzcmNcXGNvcmVcXENvcmVFdmVudHMuanMiLCJzcmNcXGNvcmVcXERlYnVnLmpzIiwic3JjXFxjb3JlXFxFdmVudEJ1cy5qcyIsInNyY1xcY29yZVxcRmFjdG9yeU1ha2VyLmpzIiwic3JjXFxjcnlwdFxcYWVzLWNyeXB0by5qcyIsInNyY1xcY3J5cHRcXGFlcy1kZWNyeXB0b3IuanMiLCJzcmNcXGNyeXB0XFxkZWNyeXB0ZXIuanMiLCJzcmNcXGNyeXB0XFxmYXN0LWFlcy1rZXkuanMiLCJzcmNcXGRhc2hcXGRhc2hfcGFyc2VyLmpzIiwic3JjXFxkcm1fZW5naW5lLmpzIiwic3JjXFxleHRlcm5hbHNcXGJhc2U2NC5qcyIsInNyY1xcaGxzXFxobHNfcGFyc2VyLmpzIiwic3JjXFxzcmNcXGluZGV4LmpzIiwic3JjXFxtZWRpYVxcbWFuaWZlc3RfcGFyc2VyLmpzIiwic3JjXFxtZWRpYVxcc2NoZWR1bGVfY29udHJvbGxlci5qcyIsInNyY1xcbWVkaWFfZW5naW5lLmpzIiwic3JjXFxtZWRpYV9zb3VyY2VfZW5naW5lLmpzIiwic3JjXFxwZFxccGRfcGFyc2VyLmpzIiwic3JjXFxwcm90ZWN0aW9uXFxjb250cm9sbGVyXFxQcm90ZWN0aW9uS2V5Q29udHJvbGxlci5qcyIsInNyY1xccHJvdGVjdGlvblxcZHJtXFxLZXlTeXN0ZW1DQ1BsYXlSZWFkeS5qcyIsInNyY1xccHJvdGVjdGlvblxcZHJtXFxLZXlTeXN0ZW1DbGVhcktleS5qcyIsInNyY1xccHJvdGVjdGlvblxcZHJtXFxLZXlTeXN0ZW1QbGF5UmVhZHkuanMiLCJzcmNcXHByb3RlY3Rpb25cXGRybVxcS2V5U3lzdGVtV2lkZXZpbmUuanMiLCJzcmNcXHByb3RlY3Rpb25cXG1vZGVsc1xcUHJvdGVjdGlvbk1vZGVsXzIxSmFuMjAxNS5qcyIsInNyY1xccHJvdGVjdGlvblxcbW9kZWxzXFxQcm90ZWN0aW9uTW9kZWxfM0ZlYjIwMTQuanMiLCJzcmNcXHByb3RlY3Rpb25cXHZvXFxDb21tb25FbmNyeXB0aW9uLmpzIiwic3JjXFxwcm90ZWN0aW9uXFx2b1xcS1NVdGlscy5qcyIsInNyY1xccHJvdGVjdGlvblxcdm9cXEtleVN5c3RlbUNvbmZpZ3VyYXRpb24uanMiLCJzcmNcXHByb3RlY3Rpb25cXHZvXFxNZWRpYUNhcGFiaWxpdHkuanMiLCJzcmNcXHRlc3RcXEJveFBhcnNlci5qcyIsInNyY1xcdGVzdFxcSXNvQm94LmpzIiwic3JjXFx0ZXN0XFxJc29GaWxlLmpzIiwic3JjXFx0ZXN0XFxUVE1MUGFyc2VyLmpzIiwic3JjXFx0ZXN0XFxWVFRQYXJzZXIuanMiLCJzcmNcXHRlc3RcXGNlYTYwOC1wYXJzZXIuanMiLCJzcmNcXHRlc3RcXGNlYTcwOC1wYXJzZXIuanMiLCJzcmNcXHRlc3RcXGNlYVBhcnNlck1hbmFnZXIuanMiLCJzcmNcXHRlc3RcXHRlc3RjYy5qcyIsInNyY1xcdGVzdFxceG1sMmpzb24uanMiLCJzcmNcXHRleHRfZW5naW5lLmpzIiwic3JjXFx1aVxcdWlfZW5naW5lLmpzIiwic3JjXFx1dGlsc1xcRXJyb3IuanMiLCJzcmNcXHV0aWxzXFxjb21tb25fdXRpbHMuanMiLCJzcmNcXHV0aWxzXFxzdHJpbmdfdXRpbHMuanMiLCJzcmNcXHV0aWxzXFx0aW1lUmFuZ2VzLmpzIiwic3JjXFx1dGlsc1xceGhyX2xvYWRlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5b0NDOzs7Ozs7QUFFRDs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUVBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUVBOzs7O0FBQ0E7Ozs7QUFFQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7O0FBRUE7QUFDQSxTQUFBLEFBQVMsT0FBVCxBQUFnQixhQUFhLEFBQ3pCO1FBQUksZUFBSixBQUFtQixBQUNuQjtRQUFJLFlBQUosQUFDQTtRQUFJLFdBQUosQUFBZSxBQUVmOztRQUFJLGlCQUFKLEFBQ0E7UUFBSSxjQUFKLEFBRUE7O1FBQUksb0JBQUosQUFBd0IsQUFDeEI7UUFBSSxjQUFKLEFBQWtCLEFBQ2xCO1FBQUksb0JBQUosQUFBd0IsQUFDeEI7UUFBSSxjQUFKLEFBQWtCLEFBQ2xCO1FBQUksY0FBSixBQUFrQixBQUVsQjs7UUFBSSxpQkFBSixBQUNBO1FBQUksY0FBSixBQUNBO1FBQUksa0JBQUosQUFDQTtRQUFJLG9CQUFKLEFBQ0E7UUFBSSxtQkFBSixBQUNBO1FBQUksa0JBQUosQUFDQTtRQUFJLGtCQUFKLEFBQ0E7UUFBSSx1QkFBSixBQUNBO1FBQUksZUFBSixBQUVBOztRQUFJLHFCQUFKLEFBRUE7O0FBQ0E7UUFBSSxrQkFBSixBQUVBOztBQUNBO1FBQUksd0JBQUosQUFDQTtRQUFJLDhCQUFKLEFBRUE7O2FBQUEsQUFBUyxRQUFRLEFBQ2I7b0JBQVkseUJBQUEsQUFBUyxRQUFyQixBQUFZLEFBQWlCLEFBQzdCO2tCQUFBLEFBQVUsT0FBVixBQUFpQixBQUNqQjtpQkFBUyxVQUFULEFBQVMsQUFBVSxBQUN0QjtBQUVEOzthQUFBLEFBQVMsS0FBVCxBQUFjLEtBQUssQUFDZjtlQUFBLEFBQU8sQUFFUDs7QUFDQTtBQUNBO0FBQ0E7QUFDSDtBQUVEOzthQUFBLEFBQVMsS0FBVCxBQUFjLE1BQU0sQUFDaEI7c0JBQUEsQUFBYyxBQUNkO2VBQUEsQUFBTyxJQUFQLEFBQVcsQUFFWDs7QUFDQTtZQUFJLFlBQUosQUFBZ0IsS0FBSyxBQUNqQjtzQkFBVSxnQkFBQSxBQUFnQixVQUFVLFlBQXBDLEFBQVUsQUFBc0MsQUFDaEQ7d0JBQUEsQUFBWSxlQUFlLFFBQUEsQUFBUSxhQUFhLFlBQWhELEFBQTJCLEFBQWlDLEFBQy9EO0FBRUQ7O0FBQ0E7QUFDQTtZQUFJLFlBQUEsQUFBWSxhQUFoQixBQUE2QixPQUFPLEFBQ2hDO0FBQ0E7QUFDSDtBQUNEO0FBRUE7O0FBQ0E7WUFBSSxDQUFDLE9BQUwsQUFBWSxhQUFhLEFBQ3JCO21CQUFBLEFBQU8sSUFBUCxBQUFXLEFBQ1g7QUFDSDtBQUVEOztZQUFJLFlBQUEsQUFBWSxhQUFoQixBQUE2QixNQUFNLEFBQy9CO2dCQUFJLFlBQUEsQUFBWSxhQUFaLEFBQXlCLEtBQTdCLEFBQWtDLFFBQVEsQUFDdEM7dUJBQUEsQUFBTyxJQUFJLG9CQUFvQixZQUFBLEFBQVksYUFBWixBQUF5QixLQUF4RCxBQUE2RCxBQUNoRTtBQUVEOztnQkFBSSxZQUFBLEFBQVksYUFBWixBQUF5QixLQUF6QixBQUE4QixVQUM5QixPQURBLEFBQ08sZUFDUCxDQUFDLE9BQUEsQUFBTyxZQUFQLEFBQW1CLGdCQUFnQixZQUFBLEFBQVksYUFBWixBQUF5QixLQUZqRSxBQUVLLEFBQWlFLFNBQVMsQUFDM0U7dUJBQUEsQUFBTyxJQUFJLHFCQUFxQixZQUFBLEFBQVksYUFBWixBQUF5QixLQUF6RCxBQUE4RCxBQUM5RDtBQUNIO0FBQ0o7QUFFRDs7WUFBSSxZQUFBLEFBQVksYUFBaEIsQUFBNkIsTUFBTSxBQUMvQjtnQkFBSSxZQUFBLEFBQVksYUFBWixBQUF5QixLQUE3QixBQUFrQyxRQUFRLEFBQ3RDO3VCQUFBLEFBQU8sSUFBSSxvQkFBb0IsWUFBQSxBQUFZLGFBQVosQUFBeUIsS0FBeEQsQUFBNkQsQUFDaEU7QUFFRDs7Z0JBQUksWUFBQSxBQUFZLGFBQVosQUFBeUIsS0FBekIsQUFBOEIsVUFDOUIsT0FEQSxBQUNPLGVBQ1AsQ0FBQyxPQUFBLEFBQU8sWUFBUCxBQUFtQixnQkFBZ0IsWUFBQSxBQUFZLGFBQVosQUFBeUIsS0FGakUsQUFFSyxBQUFpRSxTQUFTLEFBQzNFO3VCQUFBLEFBQU8sSUFBSSxxQkFBcUIsWUFBQSxBQUFZLGFBQVosQUFBeUIsS0FBekQsQUFBOEQsQUFDOUQ7QUFDSDtBQUNKO0FBRUQ7O1lBQUksWUFBQSxBQUFZLGFBQWhCLEFBQTZCLE9BQU8sQUFDaEM7Z0JBQUksWUFBQSxBQUFZLGFBQVosQUFBeUIsTUFBN0IsQUFBbUMsUUFBUSxBQUN2Qzt1QkFBQSxBQUFPLElBQUksb0JBQW9CLFlBQUEsQUFBWSxhQUFaLEFBQXlCLE1BQXhELEFBQThELEFBQ2pFO0FBRUQ7O2dCQUFJLFlBQUEsQUFBWSxhQUFaLEFBQXlCLE1BQXpCLEFBQStCLFVBQy9CLE9BREEsQUFDTyxlQUNQLENBQUMsT0FBQSxBQUFPLFlBQVAsQUFBbUIsZ0JBQWdCLFlBQUEsQUFBWSxhQUFaLEFBQXlCLE1BRmpFLEFBRUssQUFBa0UsU0FBUyxBQUM1RTt1QkFBQSxBQUFPLElBQUkscUJBQXFCLFlBQUEsQUFBWSxhQUFaLEFBQXlCLE1BQXpELEFBQStELEFBQy9EO0FBQ0g7QUFDSjtBQUVEOzttQkFBQSxBQUFXLEtBQUssWUFBaEIsQUFBNEIsQUFFNUI7O1lBQUksU0FBUyxPQUFBLEFBQU8sSUFBUCxBQUFXLGdCQUFnQixXQUF4QyxBQUFhLEFBQTJCLEFBQVcsQUFDbkQ7cUJBQUEsQUFBYSxPQUFiLEFBQW9CLEFBQ3BCO21CQUFBLEFBQVcsV0FBWCxBQUFzQixBQUV0Qjs7WUFBQSxBQUFJLFlBQVksQUFDWjt1QkFBQSxBQUFXLEFBQ2Q7QUFFRDs7ZUFBQSxBQUFPLElBQVAsQUFBVyxBQUNkO0FBRUQ7O2FBQUEsQUFBUyxRQUFRLEFBQ2I7WUFBQSxBQUFJLGVBQWUsQUFDZjswQkFBQSxBQUFjLEFBQ2pCO0FBQ0Q7WUFBQSxBQUFJLFlBQVksQUFDWjt1QkFBQSxBQUFXLEFBQ2Q7QUFDRDtZQUFBLEFBQUksWUFBWSxBQUNaO3VCQUFBLEFBQVcsQUFDZDtBQUNEO1lBQUEsQUFBSSxjQUFjLEFBQ2Q7eUJBQUEsQUFBYSxBQUNoQjtBQUVEOztzQkFBQSxBQUFjLEFBQ2Q7c0JBQUEsQUFBYyxBQUNkO3NCQUFBLEFBQWMsQUFDakI7QUFFRDs7YUFBQSxBQUFTLFVBQVUsQUFDZjttQkFBQSxBQUFXLEFBQ2Q7QUFFRDs7YUFBQSxBQUFTLE9BQU8sQUFDWjtZQUFJLGVBQWUsWUFBQSxBQUFZLGFBQVosQUFBeUIsS0FBekIsQUFBOEIsTUFBakQsQUFBdUQsUUFBUSxBQUMzRDttQkFBQSxBQUFPLElBQVAsQUFBVyxBQUNYO0FBQ0g7QUFFRDs7WUFBSSxNQUFKLEFBQVUsQUFDVjtZQUFJLHNCQUFKLEFBQTBCLE9BQU8sQUFDN0I7a0JBQU0sWUFBQSxBQUFZLGFBQVosQUFBeUIsS0FBL0IsQUFBb0MsQUFDdkM7QUFGRCxlQUVPLEFBQ0g7a0JBQU0sWUFBQSxBQUFZLGFBQVosQUFBeUIsS0FBekIsQUFBOEIsTUFBcEMsQUFBTSxBQUFvQyxBQUM3QztBQUVEOztZQUFJLE9BQUosQUFBVyxBQUNYO2lCQUFBLEFBQVMsVUFBVCxBQUFtQixPQUFPLEFBQ3RCO3VCQUFBLEFBQVcsYUFBYSxFQUFDLE1BQU0sWUFBQSxBQUFZLGFBQVosQUFBeUIsS0FBaEMsQUFBcUMsTUFBTSxRQUFuRSxBQUF3QixBQUFtRCxBQUUzRTs7Z0JBQUEsQUFBSSxtQkFBbUIsQUFDbkI7QUFDSDtBQUZELG1CQUVPLEFBQ0g7b0NBQUEsQUFBb0IsQUFDdkI7QUFDSjtBQUVEOztZQUFJO2lCQUFVLEFBQ0wsQUFDTDt1QkFBVyxVQUFBLEFBQVUsS0FGekIsQUFBYyxBQUVDLEFBQWUsQUFFOUI7QUFKYyxBQUNWO21CQUdKLEFBQVcsS0FBWCxBQUFnQixBQUNuQjtBQUVEOzthQUFBLEFBQVMsT0FBTyxBQUNaO1lBQUksZUFBZSxZQUFBLEFBQVksYUFBWixBQUF5QixLQUF6QixBQUE4QixNQUFqRCxBQUF1RCxRQUFRLEFBQzNEO21CQUFBLEFBQU8sSUFBUCxBQUFXLEFBQ1g7QUFDSDtBQUVEOztZQUFJLE1BQUosQUFBVSxBQUNWO1lBQUksc0JBQUosQUFBMEIsT0FBTyxBQUM3QjtrQkFBTSxZQUFBLEFBQVksYUFBWixBQUF5QixLQUEvQixBQUFvQyxBQUN2QztBQUZELGVBRU8sQUFDSDtrQkFBTSxZQUFBLEFBQVksYUFBWixBQUF5QixLQUF6QixBQUE4QixNQUFwQyxBQUFNLEFBQW9DLEFBQzdDO0FBRUQ7O1lBQUksT0FBSixBQUFXLEFBQ1g7aUJBQUEsQUFBUyxVQUFULEFBQW1CLE9BQU8sQUFDdEI7dUJBQUEsQUFBVyxhQUFhLEVBQUMsTUFBTSxZQUFBLEFBQVksYUFBWixBQUF5QixLQUFoQyxBQUFxQyxNQUFNLFFBQW5FLEFBQXdCLEFBQW1ELEFBRTNFOztnQkFBQSxBQUFJLG1CQUFtQixBQUNuQjtBQUNIO0FBRkQsbUJBRU8sQUFDSDtvQ0FBQSxBQUFvQixBQUN2QjtBQUNKO0FBRUQ7O1lBQUk7aUJBQVUsQUFDTCxBQUNMO3VCQUFXLFVBQUEsQUFBVSxLQUZ6QixBQUFjLEFBRUMsQUFBZSxBQUU5QjtBQUpjLEFBQ1Y7bUJBR0osQUFBVyxLQUFYLEFBQWdCLEFBQ25CO0FBRUQ7O2FBQUEsQUFBUyxRQUFRLEFBQ2I7ZUFBQSxBQUFPLElBQUksd0JBQXdCLFlBQUEsQUFBWSxhQUEvQyxBQUE0RCxBQUM1RDtZQUFJLE1BQU0sWUFBQSxBQUFZLGFBQVosQUFBeUIsTUFBbkMsQUFBeUMsQUFFekM7O2VBQUEsQUFBTyxNQUFQLEFBQWEsQUFDaEI7QUFFRDs7QUFDQTtBQUNBO2FBQUEsQUFBUyxHQUFULEFBQVksTUFBWixBQUFrQixVQUFsQixBQUE0QixPQUFPLEFBQy9CO2tCQUFBLEFBQVUsR0FBVixBQUFhLE1BQWIsQUFBbUIsVUFBbkIsQUFBNkIsQUFDaEM7QUFFRDs7YUFBQSxBQUFTLElBQVQsQUFBYSxNQUFiLEFBQW1CLFVBQW5CLEFBQTZCLE9BQU8sQUFDaEM7a0JBQUEsQUFBVSxJQUFWLEFBQWMsTUFBZCxBQUFvQixVQUFwQixBQUE4QixBQUNqQztBQUVEOzthQUFBLEFBQVMsT0FBTyxBQUNaO1lBQUksY0FBYyxXQUFkLEFBQWMsQUFBVyxpQkFBaUIsV0FBOUMsQUFBOEMsQUFBVyxjQUFjLEFBQ25FO3VCQUFBLEFBQVcsQUFDZDtBQUZELGVBRU8sQUFDSDtnQkFBSSxDQUFKLEFBQUssY0FBYyxBQUNmO0FBQ0g7QUFDRDt5QkFBQSxBQUFhLEFBQ2hCO0FBQ0o7QUFFRDs7YUFBQSxBQUFTLFFBQVEsQUFDYjtZQUFJLGNBQWMsV0FBZCxBQUFjLEFBQVcsaUJBQWlCLFdBQTlDLEFBQThDLEFBQVcsY0FBYyxBQUNuRTt1QkFBQSxBQUFXLEFBQ2Q7QUFGRCxlQUVPLEFBQ0g7Z0JBQUksQ0FBSixBQUFLLGNBQWMsQUFBRTtBQUFTO0FBQzlCO3lCQUFBLEFBQWEsQUFDaEI7QUFDSjtBQUVEOzthQUFBLEFBQVMsV0FBVyxBQUNoQjtZQUFJLGNBQWMsV0FBZCxBQUFjLEFBQVcsaUJBQWlCLFdBQTlDLEFBQThDLEFBQVcsY0FBYyxBQUNuRTttQkFBTyxXQUFQLEFBQU8sQUFBVyxBQUNyQjtBQUZELGVBRU8sQUFDSDtnQkFBSSxDQUFKLEFBQUssY0FBYyxBQUFFO0FBQVM7QUFDOUI7bUJBQU8sYUFBUCxBQUFPLEFBQWEsQUFDdkI7QUFDSjtBQUVEOzthQUFBLEFBQVMsY0FBYyxBQUNuQjtZQUFJLGNBQWMsV0FBZCxBQUFjLEFBQVcsaUJBQWlCLFdBQTlDLEFBQThDLEFBQVcsY0FBYyxBQUNuRTttQkFBTyxXQUFQLEFBQU8sQUFBVyxBQUNyQjtBQUZELGVBRU8sQUFDSDtnQkFBSSxDQUFKLEFBQUssY0FBYyxBQUFFO0FBQVM7QUFDOUI7bUJBQU8sYUFBUCxBQUFPLEFBQWEsQUFDdkI7QUFDSjtBQUVEOzthQUFBLEFBQVMsY0FBYyxBQUNuQjtZQUFJLGNBQWMsV0FBZCxBQUFjLEFBQVcsaUJBQWlCLFdBQTlDLEFBQThDLEFBQVcsY0FBYyxBQUNuRTttQkFBTyxXQUFQLEFBQU8sQUFBVyxBQUNyQjtBQUZELGVBRU8sQUFDSDtnQkFBSSxDQUFKLEFBQUssY0FBYyxBQUFFO0FBQVM7QUFDOUI7bUJBQU8sYUFBUCxBQUFPLEFBQWEsQUFDdkI7QUFDSjtBQUVEOzthQUFBLEFBQVMsVUFBVSxBQUNmO1lBQUksY0FBYyxXQUFkLEFBQWMsQUFBVyxpQkFBaUIsV0FBOUMsQUFBOEMsQUFBVyxjQUFjLEFBRXRFLENBRkQsT0FHSyxBQUNEO2dCQUFJLENBQUosQUFBSyxjQUFjLEFBQUU7QUFBUztBQUM5QjttQkFBTyxhQUFQLEFBQU8sQUFBYSxBQUN2QjtBQUNKO0FBRUQ7O2FBQUEsQUFBUyxPQUFPLEFBQ1o7WUFBSSxjQUFjLFdBQWQsQUFBYyxBQUFXLGlCQUFpQixXQUE5QyxBQUE4QyxBQUFXLGNBQWMsQUFDbkU7dUJBQUEsQUFBVyxBQUNkO0FBRkQsZUFFTyxBQUNIO2dCQUFJLENBQUosQUFBSyxjQUFjLEFBQUU7QUFBUztBQUM5Qjt5QkFBQSxBQUFhLEFBQ2hCO0FBQ0o7QUFFRDs7YUFBQSxBQUFTLFNBQVMsQUFDZDtZQUFJLGNBQWMsV0FBZCxBQUFjLEFBQVcsaUJBQWlCLFdBQTlDLEFBQThDLEFBQVcsY0FBYyxBQUNuRTt1QkFBQSxBQUFXLEFBQ2Q7QUFGRCxlQUVPLEFBQ0g7Z0JBQUksQ0FBSixBQUFLLGNBQWMsQUFBRTtBQUFTO0FBQzlCO3lCQUFBLEFBQWEsQUFDaEI7QUFDSjtBQUVEOzthQUFBLEFBQVMsVUFBVSxBQUNmO1lBQUksY0FBYyxXQUFkLEFBQWMsQUFBVyxpQkFBaUIsV0FBOUMsQUFBOEMsQUFBVyxjQUFjLEFBQ25FO21CQUFPLFdBQVAsQUFBTyxBQUFXLEFBQ3JCO0FBRkQsZUFFTyxBQUNIO2dCQUFJLENBQUosQUFBSyxjQUFjLEFBQUU7QUFBUztBQUM5QjttQkFBTyxhQUFQLEFBQU8sQUFBYSxBQUN2QjtBQUNKO0FBRUQ7O2FBQUEsQUFBUyxVQUFULEFBQW1CLFFBQVEsQUFDdkI7WUFBSSxjQUFjLFdBQWQsQUFBYyxBQUFXLGlCQUFpQixXQUE5QyxBQUE4QyxBQUFXLGNBQWMsQUFDbkU7dUJBQUEsQUFBVyxVQUFYLEFBQXFCLEFBQ3hCO0FBRkQsZUFFTyxBQUNIO2dCQUFJLENBQUosQUFBSyxjQUFjLEFBQUU7QUFBUztBQUM5Qjt5QkFBQSxBQUFhLFVBQWIsQUFBdUIsQUFDMUI7QUFDSjtBQUVEOzthQUFBLEFBQVMsWUFBWSxBQUNqQjtZQUFJLENBQUosQUFBSyxjQUFjLEFBQUU7QUFBUztBQUU5Qjs7ZUFBTyxhQUFQLEFBQU8sQUFBYSxBQUN2QjtBQUVEOzthQUFBLEFBQVMsWUFBVCxBQUFxQixNQUFNLEFBQ3ZCO3FCQUFBLEFBQWEsWUFBYixBQUF5QixBQUM1QjtBQUVEOzthQUFBLEFBQVMsV0FBVyxBQUNoQjtlQUFPLGFBQVAsQUFBTyxBQUFhLEFBQ3ZCO0FBRUQ7O2FBQUEsQUFBUyxZQUFZLEFBQ2pCO2VBQU8sYUFBUCxBQUFPLEFBQWEsQUFDdkI7QUFFRDs7YUFBQSxBQUFTLE9BQVQsQUFBZ0IsT0FBaEIsQUFBdUIsUUFBUSxBQUMzQjtZQUFBLEFBQUksWUFBWSxBQUNaO3VCQUFBLEFBQVcsT0FBWCxBQUFrQixPQUFsQixBQUF5QixBQUM1QjtBQUNKO0FBRUQ7O2FBQUEsQUFBUyxTQUFTLEFBQ2Q7WUFBQSxBQUFJLFlBQVksQUFDWjt1QkFBQSxBQUFXLEFBQ2Q7QUFGRCxlQUVPLEFBRU4sQ0FDSjtBQUVEOzthQUFBLEFBQVMsZUFBZSxBQUNwQjtlQUFPLFNBQUEsQUFBUyxxQkFDaEIsU0FETyxBQUNFLHVCQUNULFNBRk8sQUFFRSxpQkFDVCxTQUhBLEFBR1MsQUFDWjtBQUVEOzthQUFBLEFBQVMsdUJBQVQsQUFBZ0MsWUFBWSxBQUN4QztlQUFPLGFBQUEsQUFBYSx1QkFBcEIsQUFBTyxBQUFvQyxBQUM5QztBQUVEOztBQUNBO0FBQ0E7YUFBQSxBQUFTLGVBQWUsQUFDcEI7b0JBQUEsQUFBWSxBQUNmO0FBRUQ7O2FBQUEsQUFBUyxrQkFBa0IsQUFBRSxDQUU3Qjs7YUFBQSxBQUFTLHFCQUFxQixBQUMxQjtvQkFBQSxBQUFZLEFBQ2Y7QUFFRDs7YUFBQSxBQUFTLFlBQVQsQUFBcUIsT0FBTyxBQUN4QjtvQkFBQSxBQUFZLFlBQVosQUFBd0IsQUFDM0I7QUFFRDs7YUFBQSxBQUFTLFdBQVQsQUFBb0IsTUFBTSxBQUN0QjtvQkFBQSxBQUFZLFdBQVosQUFBdUIsQUFDMUI7QUFFRDs7YUFBQSxBQUFTLGdCQUFULEFBQXlCLFdBQVcsQUFDaEM7b0JBQUEsQUFBWSxnQkFBWixBQUE0QixBQUMvQjtBQUNEO0FBRUE7O0FBQ0E7QUFDQTthQUFBLEFBQVMsZ0JBQWdCLEFBQ3JCO0FBQ0E7b0JBQVksd0JBQUEsQUFBUyxRQUFyQixBQUFZLEFBQWlCLEFBQzdCO2lCQUFTLHFCQUFBLEFBQU0sUUFBZixBQUFTLEFBQWMsQUFDdkI7cUJBQWEsMEJBQUEsQUFBVSxRQUF2QixBQUFhLEFBQWtCLEFBQy9CO3VCQUFlLDRCQUFBLEFBQVksUUFBWixBQUFvQixZQUFwQixBQUFnQyxRQUEvQyxBQUFlLEFBQXdDLEFBQ3ZEO3NCQUFjLDBCQUFkLEFBQWMsQUFBZSxBQUM3QjtxQkFBYSwwQkFBYixBQUNBO3FCQUFhLHlCQUFiLEFBQWEsQUFBYyxBQUMzQjswQkFBa0IsK0JBQUEsQUFBZSxRQUFqQyxBQUFrQixBQUF1QixBQUV6Qzs7WUFBSSxLQUFKLEFBQVMsUUFBUSxBQUNiO21CQUFBLEFBQU8sU0FBUyxLQUFoQixBQUFxQixBQUN4QjtBQUNEO1lBQUksS0FBSixBQUFTLGFBQWEsQUFDbEI7Z0JBQUksY0FBYyxVQUFsQixBQUFrQixBQUFVLEFBQzVCO3lCQUFhLHlCQUFBLEFBQWMsYUFBZCxBQUEyQixRQUFRLEtBQWhELEFBQWEsQUFBd0MsQUFDeEQ7QUFDSjtBQUVEOzthQUFBLEFBQVMsV0FBVyxBQUNoQjtzQkFBQSxBQUFjLEFBQ2Q7c0JBQUEsQUFBYyxBQUNkO3NCQUFBLEFBQWMsQUFDakI7QUFFRDs7YUFBQSxBQUFTLG9CQUFvQixBQUN6QjtrQkFBQSxBQUFVLEdBQUcsT0FBQSxBQUFPLE9BQXBCLEFBQTJCLFlBQTNCLEFBQXVDLGFBQXZDLEFBQW9ELEFBRXBEOztrQkFBQSxBQUFVLEdBQUcsT0FBQSxBQUFPLE9BQXBCLEFBQTJCLGFBQTNCLEFBQXdDLGNBQXhDLEFBQXNELEFBQ3REO2tCQUFBLEFBQVUsR0FBRyxPQUFBLEFBQU8sT0FBcEIsQUFBMkIsNEJBQTNCLEFBQXVELDJCQUF2RCxBQUFrRixBQUNsRjtrQkFBQSxBQUFVLEdBQUcsT0FBQSxBQUFPLE9BQXBCLEFBQTJCLDZCQUEzQixBQUF3RCw0QkFBeEQsQUFBb0YsQUFDcEY7a0JBQUEsQUFBVSxHQUFHLE9BQUEsQUFBTyxPQUFwQixBQUEyQixZQUEzQixBQUF1QyxhQUF2QyxBQUFvRCxBQUN2RDtBQUVEOzthQUFBLEFBQVMsb0JBQW9CLEFBQ3pCO0FBQ0E7aUJBQUEsQUFBUyxpQkFBVCxBQUEwQixvQkFBMUIsQUFBOEMsQUFDOUM7aUJBQUEsQUFBUyxpQkFBVCxBQUEwQix1QkFBMUIsQUFBaUQsQUFDakQ7aUJBQUEsQUFBUyxpQkFBVCxBQUEwQiwwQkFBMUIsQUFBb0QsQUFDcEQ7aUJBQUEsQUFBUyxpQkFBVCxBQUEwQixzQkFBMUIsQUFBZ0QsQUFDaEQ7aUJBQUEsQUFBUyxpQkFBVCxBQUEwQixzQkFBMUIsQUFBZ0QsQUFDbkQ7QUFFRDs7YUFBQSxBQUFTLHFCQUFxQixBQUMxQjtBQUNBO2tCQUFBLEFBQVUsUUFBUSxPQUFBLEFBQU8sT0FBekIsQUFBZ0MsQUFDbkM7QUFFRDs7QUFDQTtBQUNBO2FBQUEsQUFBUyxjQUFjLEFBQ25CO3FCQUFBLEFBQWEsQUFFYjs7QUFDQTtBQUVBOztBQUNBO3dCQUFnQixtQ0FBQSxBQUFtQixRQUFuQyxBQUFnQixBQUEyQixBQUMzQztzQkFBQSxBQUFjLE1BQWQsQUFBb0IsQUFDdkI7QUFFRDs7YUFBQSxBQUFTLDRCQUE0QixBQUNqQztxQkFBQSxBQUFhLEFBQ2hCO0FBRUQ7O2FBQUEsQUFBUyw2QkFBNkIsQUFDbEM7WUFBSSxDQUFDLGFBQUwsQUFBSyxBQUFhLFdBQVcsQUFDekI7eUJBQUEsQUFBYSxBQUNoQjtBQUNKO0FBRUQ7O2FBQUEsQUFBUyxjQUFjLEFBQ3RCLENBRUQ7O2FBQUEsQUFBUyxlQUFlLEFBQUUsQ0FDMUI7QUFFQTs7QUFDQTtBQUNBO2FBQUEsQUFBUyxZQUFZLEFBQ2xCO2dCQUFBLEFBQVEsSUFBUixBQUFZLEFBQ2Q7QUFFRDs7YUFBQSxBQUFTLE9BQU8sQUFDWjtZQUFJLFFBQUosQUFBWSxBQUVmO0FBRUQ7O2FBQUEsQUFBUyxRQUFRLEFBQ2hCLENBRUQ7O2FBQUEsQUFBUyxZQUFZLEFBQ2pCO1lBQUksUUFBSixBQUFZLEFBQ1o7ZUFBQSxBQUFPLDBCQUF3QixxQkFBQSxBQUFXLFNBQVMsTUFBbkQsQUFBK0IsQUFBMEIsQUFDekQ7ZUFBQSxBQUFPLHlCQUF1QixxQkFBQSxBQUFXLFNBQVMsTUFBbEQsQUFBOEIsQUFBMEIsQUFFeEQ7O21CQUFBLEFBQVcsWUFBWCxBQUF1QixBQUV2Qjs7WUFBSSxJQUFKLEFBQVEsQUFDUjtZQUFJLElBQUosQUFBUSxBQUNYO0FBRUQ7O1FBQUk7Y0FBVyxBQUNMLEFBQ047Y0FGVyxBQUVMLEFBQ047ZUFIVyxBQUdKLEFBQ1A7Y0FKVyxBQUlMLEFBQ047Y0FMVyxBQUtMLEFBQ047ZUFOVyxBQU1KLEFBQ1A7WUFQVyxBQU9QLEFBQ0o7YUFSVyxBQVFOLEFBQ0w7Y0FUVyxBQVNMLEFBQ047ZUFWVyxBQVVKLEFBQ1A7a0JBWFcsQUFXRCxBQUNWO3FCQVpXLEFBWUUsQUFDYjtxQkFiVyxBQWFFLEFBQ2I7cUJBZFcsQUFjRSxBQUNiO2lCQWZXLEFBZUYsQUFDVDtjQWhCVyxBQWdCTCxBQUNOO2dCQWpCVyxBQWlCSCxBQUNSO2lCQWxCVyxBQWtCRixBQUNUO21CQW5CVyxBQW1CQSxBQUNYO21CQXBCVyxBQW9CQSxBQUNYO0FBQ0E7a0JBdEJXLEFBc0JELEFBQ1Y7bUJBdkJXLEFBdUJBLEFBQ1g7Z0JBeEJXLEFBd0JILEFBQ1I7c0JBekJXLEFBeUJHLEFBQ2Q7QUFDQTtnQ0EzQlcsQUEyQmEsQUFDeEI7QUFDQTtnQkE3QlcsQUE2QkgsQUFDUjtBQUNBO2NBL0JXLEFBK0JMLEFBQ047ZUFoQ0osQUFBZSxBQWdDSixBQUdYO0FBbkNlLEFBQ1g7O0FBb0NKOztXQUFBLEFBQU8sQUFDVjs7O2tCLEFBRWM7Ozs7Ozs7OztBQzFpQmY7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7QUFFQSxTQUFBLEFBQVMsb0JBQVQsQUFBNkIsS0FBSyxBQUNoQztNQUFJLE9BQUosQUFBVyxBQUNYO01BQUksU0FBSixBQUFhLEFBQ2I7TUFBSSxZQUFKLEFBQWdCLEFBQ2hCO01BQUksYUFBSixBQUFpQixBQUNqQjtNQUFJLFlBQVksd0JBQUEsQUFBUyxRQUF6QixBQUFnQixBQUFpQixBQUNqQztNQUFJLFNBQVMscUJBQUEsQUFBTSxRQUFuQixBQUFhLEFBQWMsQUFFM0I7O1dBQUEsQUFBUyxRQUFRLEFBQ2hCLENBRUQ7O1dBQUEsQUFBUyxLQUFULEFBQWMsYUFBYSxBQUN6QjtnQkFBQSxBQUFZLEFBRVo7O2lCQUFhLFlBQUEsQUFBWSxnQkFBZ0IsS0FBekMsQUFBYSxBQUFpQyxBQUU5Qzs7ZUFBQSxBQUFXLGlCQUFYLEFBQTRCLGVBQTVCLEFBQTJDLEFBQzNDO2VBQUEsQUFBVyxpQkFBWCxBQUE0QixVQUE1QixBQUFzQyxBQUN0QztlQUFBLEFBQVcsaUJBQVgsQUFBNEIsYUFBNUIsQUFBeUMsQUFDekM7ZUFBQSxBQUFXLGlCQUFYLEFBQTRCLFNBQTVCLEFBQXFDLEFBQ3JDO2VBQUEsQUFBVyxpQkFBWCxBQUE0QixTQUE1QixBQUFxQyxBQUVyQzs7V0FBQSxBQUFPLEFBQ1I7QUFFRDs7V0FBQSxBQUFTLFFBQVEsQUFDZjtRQUFJLEFBQ0Y7aUJBQUEsQUFBVyxvQkFBWCxBQUErQixlQUEvQixBQUE4QyxBQUM5QztpQkFBQSxBQUFXLG9CQUFYLEFBQStCLFVBQS9CLEFBQXlDLEFBQ3pDO2lCQUFBLEFBQVcsb0JBQVgsQUFBK0IsYUFBL0IsQUFBNEMsQUFDNUM7aUJBQUEsQUFBVyxvQkFBWCxBQUErQixTQUEvQixBQUF3QyxBQUN4QztpQkFBQSxBQUFXLG9CQUFYLEFBQStCLFNBQS9CLEFBQXdDLEFBRXhDOztnQkFBQSxBQUFVLG1CQUFWLEFBQTZCLEFBQzlCO0FBUkQsTUFRRSxPQUFBLEFBQU8sSUFBSSxBQUNYO2FBQUEsQUFBTyxJQUNSO0FBQ0Y7QUFFRDs7V0FBQSxBQUFTLGFBQVQsQUFBc0IsUUFBUSxBQUM1QjtxQkFBQSxBQUFpQixRQUFRLFlBQVcsQUFDbEM7VUFBQSxBQUFJLFlBQVksQUFDZDtZQUFJLEFBQ0Y7cUJBQUEsQUFBVyxhQUFYLEFBQXdCLEFBQ3pCO0FBRkQsVUFFRSxPQUFBLEFBQU8sS0FBSyxBQUNaO2lCQUFBLEFBQU8sNkNBQTJDLElBQWxELEFBQXNELEFBQ3ZEO0FBQ0Y7QUFDRjtBQVJELEFBU0Q7QUFFRDs7V0FBQSxBQUFTLGVBQWUsQUFDdEI7V0FBQSxBQUFPLElBQVAsQUFBVyxBQUVYOztRQUFJLGdCQUFKLEFBQ0E7UUFBSSxjQUFKLEFBQ0E7U0FBSyxJQUFJLElBQVQsQUFBYSxHQUFHLElBQUksV0FBQSxBQUFXLFNBQS9CLEFBQXdDLFFBQXhDLEFBQWdELEtBQUssQUFDbkQ7aUJBQVcsV0FBQSxBQUFXLFNBQVgsQUFBb0IsTUFBL0IsQUFBVyxBQUEwQixBQUNyQztlQUFTLFdBQUEsQUFBVyxTQUFYLEFBQW9CLElBQTdCLEFBQVMsQUFBd0IsQUFFakM7O2lCQUFBLEFBQVcsT0FBWCxBQUFrQixVQUFsQixBQUE0QixBQUM3QjtBQUNGO0FBRUQ7O1dBQUEsQUFBUywyQkFBMkIsQUFDbEM7QUFDRDtBQUVEOztXQUFBLEFBQVMsc0JBQXNCLEFBQzdCO0FBQ0Q7QUFFRDs7V0FBQSxBQUFTLHlCQUF5QixBQUNoQztBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDRTthQUFBLEFBQU8saUJBQWUsS0FBdEIsQUFBMkIsd0JBQW1CLHFCQUFBLEFBQVcsU0FBUyxXQUFsRSxBQUE4QyxBQUErQixBQUM5RTtBQUNEO0FBQ0E7Y0FBQSxBQUFVLFFBQVEscUJBQWxCLEFBQXlCLGlCQUF6QixBQUEwQyxBQUMzQztBQUVEOztXQUFBLEFBQVMsbUJBQVQsQUFBNEIsR0FBRyxBQUM3QjtXQUFBLEFBQU8sSUFBUCxBQUFXLHVCQUFYLEFBQWtDLEFBQ25DO0FBRUQ7O1dBQUEsQUFBUyxxQkFBcUIsQUFDNUI7V0FBQSxBQUFPLElBQVAsQUFBVyxBQUNaO0FBRUQ7O1dBQUEsQUFBUyxpQkFBVCxBQUEwQixRQUExQixBQUFrQyxVQUFVLEFBQzFDO1FBQUksQ0FBQyxXQUFMLEFBQWdCLFVBQVUsQUFDdEI7QUFDQTtBQUNIO0FBRUQ7O1FBQUksbUJBQW1CLFNBQW5CLEFBQW1CLG1CQUFZLEFBQy9CO2lCQUFBLEFBQVcsb0JBQVgsQUFBK0IsYUFBL0IsQUFBNEMsa0JBQTVDLEFBQThELEFBQzlEO0FBQ0g7QUFIRCxBQUlBO2VBQUEsQUFBVyxpQkFBWCxBQUE0QixhQUE1QixBQUF5QyxrQkFBekMsQUFBMkQsQUFDNUQ7QUFFRDs7TUFBSTtVQUFXLEFBQ1AsQUFDTjtXQUZhLEFBRU4sQUFDUDtrQkFIYSxBQUdDLEFBQ2Q7a0JBSkYsQUFBZSxBQUlDLEFBRWhCO0FBTmUsQUFDYjtBQU1GO1NBQUEsQUFBTyxBQUNSOzs7a0IsQUFFYzs7O0FDOUhkOzs7Ozs7QUFFRDs7OztBQUNBOzs7O0FBRUE7Ozs7QUFDQTs7OztBQUVBOztBQUNBOzs7O0FBRUE7Ozs7QUFFQTs7OztBQUVBOzs7Ozs7OztBQUNBLElBQUksdUJBQUo7O0FBRUEsSUFBSSxVQUFKLEFBQWM7O0FBR2Q7QUFDQSxTQUFBLEFBQVMsY0FBYyxBQUNyQjtNQUFJLFdBQVcsS0FBZixBQUFvQixBQUNwQjtNQUFJLGdCQUFKLEFBQ0E7TUFBSSxpQkFBSixBQUVBOztXQUFBLEFBQVMsUUFBUSxBQUNmO2dCQUFZLDBCQUFBLEFBQVUsVUFBdEIsQUFBWSxBQUFvQixBQUNqQztBQUVEOztXQUFBLEFBQVMsa0JBQWtCLEFBQ3pCO1lBQUEsQUFBUSxNQUFSLEFBQWMsQUFDZjtBQUVEOztXQUFBLEFBQVMsbUJBQW1CLEFBQzFCO1lBQUEsQUFBUSxNQUFSLEFBQWMsQUFDZjtBQUVEOztXQUFBLEFBQVMsWUFBWSxBQUNuQjtRQUFNLFdBQVcsd0JBQUEsQUFBUyxTQUExQixBQUFpQixBQUFrQixBQUVuQzs7YUFBQSxBQUFTLEdBQVQsQUFBWSxNQUFaLEFBQWtCLGlCQUFsQixBQUFtQyxBQUNuQzthQUFBLEFBQVMsR0FBVCxBQUFZLE1BQVosQUFBa0Isa0JBQWxCLEFBQW9DLEFBRXBDOzthQUFBLEFBQVMsUUFBVCxBQUFpQixNQUFqQixBQUF1QixBQUN2QjthQUFBLEFBQVMsSUFBVCxBQUFhLE1BQWIsQUFBbUIsaUJBQW5CLEFBQW9DLEFBQ3BDO2FBQUEsQUFBUyxJQUFULEFBQWEsTUFBYixBQUFtQixrQkFBbkIsQUFBcUMsQUFDdEM7QUFFRDs7V0FBQSxBQUFTLGNBQWMsQUFDckI7UUFBSSxRQUFKLEFBQVksQUFDWjtVQUFBLEFBQU0sS0FBTixBQUFXLEFBQ1g7VUFBQSxBQUFNLEtBQU4sQUFBVyxBQUNYO1VBQUEsQUFBTSxLQUFOLEFBQVcsQUFDWDtVQUFBLEFBQU0sS0FBTixBQUFXLEFBRVg7O1VBQUEsQUFBTSxRQUFRLFVBQUEsQUFBQyxLQUFRLEFBQ3JCO2NBQUEsQUFBUSxNQUFSLEFBQWMsQUFDZjtBQUZELEFBR0Q7QUFFRDs7V0FBQSxBQUFTLFFBQVEsQUFDZjtZQUFBLEFBQVEsSUFBUixBQUFZLEFBQ1o7QUFDQTsyQkFBQSxBQUFXLEFBQ1g7WUFBQSxBQUFRLElBQVIsQUFBWSxBQUNiO0FBRUQ7O1dBQUEsQUFBUyxnQkFBZ0IsQUFFeEIsQ0FFRDs7V0FBQSxBQUFTLFdBQVcsQUFDbEI7WUFBQSxBQUFRLE1BQVIsQUFBYyxBQUVkOztRQUFJLE1BQU0sSUFBVixBQUFVLEFBQUksQUFDZDtRQUFBLEFBQUksU0FBUyxZQUFZLEFBQ3ZCO1VBQUksS0FBQSxBQUFLLFVBQVQsQUFBbUIsS0FBSyxBQUV0Qjs7WUFBSSxTQUFTLHlCQUFBLEFBQVUsU0FBdkIsQUFBYSxBQUFtQixBQUNoQztZQUFJLGVBQWUsT0FBQSxBQUFPLE1BQU0sS0FBaEMsQUFBbUIsQUFBa0IsQUFDckM7YUFBSyxJQUFJLElBQVQsQUFBVyxHQUFHLElBQUksYUFBbEIsQUFBK0IsUUFBL0IsQUFBdUMsS0FBTSxBQUMzQztrQkFBQSxBQUFRLE1BQU0sTUFBTSxhQUFBLEFBQWEsR0FBbkIsQUFBc0IsUUFBdEIsQUFBOEIsTUFBTSxhQUFBLEFBQWEsR0FBakQsQUFBb0QsTUFBcEQsQUFBMEQsT0FBTyxhQUFBLEFBQWEsR0FBNUYsQUFBK0YsQUFDaEc7QUFDRjtBQUNGO0FBVEQsQUFXQTs7UUFBQSxBQUFJLEtBQUosQUFBUyxPQUFULEFBQWdCLDZDQUFoQixBQUE2RCxBQUM3RDtRQUFBLEFBQUksQUFDTDtBQUdEOztXQUFBLEFBQVMsWUFBWSxBQUNuQjtZQUFBLEFBQVEsTUFBUixBQUFjLEFBRWQ7O1FBQUksTUFBTSxJQUFWLEFBQVUsQUFBSSxBQUNkO1FBQUEsQUFBSSxTQUFTLFlBQVksQUFDdkI7VUFBSSxLQUFBLEFBQUssVUFBVCxBQUFtQixLQUFLLEFBQ3RCO1lBQUksU0FBUywwQkFBQSxBQUFXLFNBQXhCLEFBQWEsQUFBb0IsQUFDakM7ZUFBQSxBQUFPLE1BQU0sS0FBYixBQUFrQixBQUNuQjtBQUNGO0FBTEQsQUFPQTs7UUFBQSxBQUFJLEtBQUosQUFBUyxPQUFULEFBQWdCLDBDQUFoQixBQUEwRCxBQUMxRDtRQUFBLEFBQUksQUFDTDtBQUVEOztNQUFJLFFBQUosQUFBWSxBQUNaO1dBQUEsQUFBUyxjQUFjLEFBQ3JCO1FBQUksTUFBTSxJQUFWLEFBQVUsQUFBSSxBQUNkO1FBQUEsQUFBSSxlQUFKLEFBQW1CLEFBRW5COztRQUFBLEFBQUksU0FBUyxZQUFZLEFBQ3ZCO1VBQUksS0FBQSxBQUFLLFVBQVQsQUFBbUIsS0FBSyxBQUV0Qjs7QUFDQTtZQUFJLE9BQU8sS0FBWCxBQUFnQixBQUVoQjs7WUFBSSxZQUFZLHdCQUFjLEVBQUMsbUJBQS9CLEFBQWdCLEFBQWMsQUFBb0IsQUFDbEQ7WUFBSSxNQUFNLENBQUEsQUFBQyxNQUFELEFBQU8sTUFBUCxBQUFhLE1BQWIsQUFBbUIsTUFBbkIsQUFBeUIsTUFBekIsQUFBK0IsTUFBL0IsQUFBcUMsTUFBckMsQUFBMkMsTUFBM0MsQUFBaUQsTUFBakQsQUFBdUQsTUFBdkQsQUFBNkQsTUFBN0QsQUFBbUUsTUFBbkUsQUFBeUUsTUFBekUsQUFBK0UsTUFBL0UsQUFBcUYsTUFBL0YsQUFBVSxBQUEyRixBQUNyRztZQUFJLFNBQVMsSUFBQSxBQUFJLFdBQWpCLEFBQWEsQUFBZSxBQUM1QjtZQUFJLGFBQWEsT0FBakIsQUFBd0IsQUFDeEI7WUFBSSxLQUFNLENBQUEsQUFBQyxNQUFELEFBQU8sTUFBUCxBQUFhLE1BQWIsQUFBbUIsTUFBbkIsQUFBeUIsTUFBekIsQUFBK0IsTUFBL0IsQUFBcUMsTUFBckMsQUFBMkMsTUFBM0MsQUFBaUQsTUFBakQsQUFBdUQsTUFBdkQsQUFBNkQsTUFBN0QsQUFBbUUsTUFBbkUsQUFBeUUsTUFBekUsQUFBK0UsTUFBL0UsQUFBcUYsTUFBL0YsQUFBVSxBQUEyRixBQUNyRztZQUFJLFFBQVEsSUFBQSxBQUFJLFdBQWhCLEFBQVksQUFBZSxBQUMzQjtZQUFJLFlBQVksTUFBaEIsQUFBc0IsQUFFdEI7O2tCQUFBLEFBQVUsUUFBVixBQUFrQixNQUFsQixBQUF3QixZQUF4QixBQUFvQyxXQUFXLFVBQUEsQUFBVSxlQUFlLEFBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtjQUFJLE9BQU8sSUFBQSxBQUFJLEtBQUssQ0FBQyxJQUFBLEFBQUksV0FBZCxBQUFTLEFBQUMsQUFBZSxpQkFBaUIsRUFBQyxNQUF0RCxBQUFXLEFBQTBDLEFBQU8sQUFDNUQ7Y0FBSSxXQUFXLE1BQUEsQUFBTSxhQUFyQixBQUFrQyxBQUNsQzttQkFBQSxBQUFTLE9BQVQsQUFBZ0IsTUFBaEIsQUFBc0IsQUFDdEI7QUFDRDtBQWZELEFBZ0JEO0FBQ0Y7QUEvQkQsQUFpQ0E7O1FBQUEsQUFBSSxLQUFKLEFBQVMsT0FBVCxBQUFnQiw2RUFBaEIsQUFBNkYsQUFDN0Y7UUFBQSxBQUFJLEFBQ0w7QUFFRDs7V0FBQSxBQUFTLGlCQUFpQixBQUN4QjtRQUFJLFVBQVUsRUFBQyxLQUFELEFBQU0sa0RBQWtELFlBQXhELEFBQW9FLEdBQUcsVUFBckYsQUFBYyxBQUFpRixBQUUvRjs7YUFBQSxBQUFTLFVBQVQsQUFBbUIsT0FBTyxBQUN4QjtjQUFBLEFBQVEsSUFBSSx1Q0FBdUMsTUFBbkQsQUFBeUQsQUFDMUQ7QUFFRDs7Y0FBQSxBQUFVLEtBQVYsQUFBZSxTQUFmLEFBQXdCLEFBQ3pCO0FBRUQ7O1dBQUEsQUFBUyxpQkFBaUIsQUFFekIsQ0FFRDs7O1dBQVcsQUFDRixBQUNQO21CQUZTLEFBRU0sQUFDZjtjQUhTLEFBR0MsQUFDVjt5QkFKUyxBQUtUO2lCQUxTLEFBS0ksQUFDYjtvQkFOUyxBQU1PLEFBQ2hCO29CQVBGLEFBQVcsQUFPTyxBQUdsQjtBQVZXLEFBQ1Q7O0FBVUY7U0FBQSxBQUFPLEFBQ1I7OztBQUVELFlBQUEsQUFBWSwwQkFBWixBQUFzQztBQUN0QyxJQUFJLFVBQVUsdUJBQUEsQUFBYSxnQkFBM0IsQUFBYyxBQUE2QjtrQixBQUM1Qjs7Ozs7QUNwTGY7Ozs7Ozs7Ozs7QUFVQTtBQUNBOztBQUVBOztBQUVBLElBQUksU0FBUyxvQkFBVyxBQUFVLE1BQU0sQUFDdEM7QUFDQTtBQUNBOztNQUFJLE9BQUEsQUFBTyxTQUFQLEFBQWdCLGVBQWUsT0FBQSxBQUFPLGNBQVAsQUFBcUIsZUFBZSxlQUFBLEFBQWUsS0FBSyxVQUEzRixBQUF1RSxBQUE4QixZQUFZLEFBQy9HO0FBQ0Q7QUFDRDtNQUNJLE1BQU0sS0FBSyxBQUNYO0FBRko7OztNQUdJLFVBQVUsU0FBVixBQUFVLFVBQVksQUFDdEI7V0FBTyxLQUFBLEFBQUssT0FBTyxLQUFaLEFBQWlCLGFBQXhCLEFBQXFDLEFBQ3RDO0FBTEg7TUFNSSxZQUFZLElBQUEsQUFBSSxnQkFBSixBQUFvQixnQ0FOcEMsQUFNZ0IsQUFBb0Q7TUFDaEUsb0JBQW9CLGNBUHhCLEFBT3NDO01BQ2xDLFFBQVEsU0FBUixBQUFRLE1BQUEsQUFBVSxNQUFNLEFBQ3hCO1FBQUksUUFBUSxJQUFBLEFBQUksV0FBaEIsQUFBWSxBQUFlLEFBQzNCO1NBQUEsQUFBSyxjQUFMLEFBQW1CLEFBQ3BCO0FBWEg7TUFZSSxZQUFZLGVBQUEsQUFBZSxLQUFLLEtBQXBCLEFBQXlCLGdCQUFnQixLQVp6RCxBQVk4RDtNQUMxRCxnQkFBZ0IsZUFBQSxBQUFlLEtBQUssVUFieEMsQUFhb0IsQUFBOEI7TUFDOUMsZ0JBQWdCLFNBQWhCLEFBQWdCLGNBQUEsQUFBVSxJQUFJLEFBQzlCO0tBQUMsS0FBQSxBQUFLLGdCQUFnQixLQUF0QixBQUEyQixZQUFZLFlBQVksQUFDakQ7WUFBQSxBQUFNLEFBQ1A7QUFGRCxPQUFBLEFBRUcsQUFDSjtBQWxCSDtNQW1CSSxzQkFBc0IsQUFDeEI7QUFwQkY7OztNQXFCSSwyQkFBMkIsT0FyQi9CLEFBcUJzQyxHQXJCdEMsQUFxQnlDOzs7TUFDckMsU0FBUyxTQUFULEFBQVMsT0FBQSxBQUFVLE1BQU0sQUFDekI7UUFBSSxVQUFVLFNBQVYsQUFBVSxVQUFZLEFBQ3hCO1VBQUksT0FBQSxBQUFPLFNBQVgsQUFBb0IsVUFBVSxBQUFFO0FBQzlCO2tCQUFBLEFBQVUsZ0JBQVYsQUFBMEIsQUFDM0I7QUFGRCxhQUVPLEFBQUU7QUFDUDthQUFBLEFBQUssQUFDTjtBQUNGO0FBTkQsQUFPQTtlQUFBLEFBQVcsU0FBWCxBQUFvQixBQUNyQjtBQS9CSDtNQWdDSSxXQUFXLFNBQVgsQUFBVyxTQUFBLEFBQVUsV0FBVixBQUFxQixhQUFyQixBQUFrQyxPQUFPLEFBQ3BEO2tCQUFjLEdBQUEsQUFBRyxPQUFqQixBQUFjLEFBQVUsQUFDeEI7UUFBSSxJQUFJLFlBQVIsQUFBb0IsQUFDcEI7V0FBQSxBQUFPLEtBQUssQUFDVjtVQUFJLFdBQVcsVUFBVSxPQUFPLFlBQWhDLEFBQWUsQUFBaUIsQUFBWSxBQUM1QztVQUFJLE9BQUEsQUFBTyxhQUFYLEFBQXdCLFlBQVksQUFDbEM7WUFBSSxBQUNGO21CQUFBLEFBQVMsS0FBVCxBQUFjLFdBQVcsU0FBekIsQUFBa0MsQUFDbkM7QUFGRCxVQUVFLE9BQUEsQUFBTyxJQUFJLEFBQ1g7d0JBQUEsQUFBYyxBQUNmO0FBQ0Y7QUFDRjtBQUNGO0FBN0NIO01BOENJLFdBQVcsU0FBWCxBQUFXLFNBQUEsQUFBVSxNQUFNLEFBQzNCO0FBQ0E7QUFDQTtRQUFJLDZFQUFBLEFBQTZFLEtBQUssS0FBdEYsQUFBSSxBQUF1RixPQUFPLEFBQ2hHO2FBQU8sSUFBQSxBQUFJLEtBQUssQ0FBQyxPQUFBLEFBQU8sYUFBUixBQUFDLEFBQW9CLFNBQTlCLEFBQVMsQUFBOEIsT0FBTyxFQUFFLE1BQU0sS0FBN0QsQUFBTyxBQUE4QyxBQUFhLEFBQ25FO0FBQ0Q7V0FBQSxBQUFPLEFBQ1I7QUFyREg7TUFzREksWUFBWSxTQUFaLEFBQVksVUFBQSxBQUFVLE1BQVYsQUFBZ0IsTUFBaEIsQUFBc0IsYUFBYSxBQUMvQztRQUFJLENBQUosQUFBSyxhQUFhLEFBQ2hCO2FBQU8sU0FBUCxBQUFPLEFBQVMsQUFDakI7QUFDRDtBQUNBO1FBQ0EsWUFEQSxBQUNZO1FBQ1IsT0FBTyxLQUZYLEFBRWdCO1FBQ1osUUFBUSxTQUhaLEFBR3FCO1FBSHJCLEFBSUk7UUFDQSxlQUFlLFNBQWYsQUFBZSxlQUFZLEFBQzNCO2VBQUEsQUFBUyxXQUFXLHFDQUFBLEFBQXFDLE1BQXpELEFBQW9CLEFBQTJDLEFBQ2hFO0FBQ0Q7QUFSRjs7O1FBU0ksV0FBVyxTQUFYLEFBQVcsV0FBWSxBQUN2QjtVQUFJLENBQUMsaUJBQWtCLFNBQW5CLEFBQTRCLGNBQWUsS0FBL0MsQUFBb0QsWUFBWSxBQUM5RDtBQUNBO1lBQUksU0FBUyxJQUFiLEFBQWEsQUFBSSxBQUNqQjtlQUFBLEFBQU8sWUFBWTtjQUNiLE1BQU0sZ0JBQWdCLE9BQWhCLEFBQXVCLFNBQVMsT0FBQSxBQUFPLE9BQVAsQUFBYyxRQUFkLEFBQXNCLGdCQUFoRSxBQUEwQyxBQUFzQyxBQUNoRjtjQUFJLFFBQVEsS0FBQSxBQUFLLEtBQUwsQUFBVSxLQUF0QixBQUFZLEFBQWUsQUFDM0I7Y0FBSSxDQUFKLEFBQUssT0FBTyxLQUFBLEFBQUssU0FBTCxBQUFjLE9BQWQsQUFBcUIsQUFDakM7Z0JBSjZCLEFBSTdCLEFBQU0sVUFKdUIsQUFDN0IsQ0FHaUIsQUFDakI7b0JBQUEsQUFBVSxhQUFhLFVBQXZCLEFBQWlDLEFBQ2pDO0FBQ0Q7QUFQRCxBQVFBO2VBQUEsQUFBTyxjQUFQLEFBQXFCLEFBQ3JCO2tCQUFBLEFBQVUsYUFBYSxVQUF2QixBQUFpQyxBQUNqQztBQUNEO0FBQ0Q7QUFDQTtVQUFJLENBQUosQUFBSyxZQUFZLEFBQ2Y7cUJBQWEsVUFBQSxBQUFVLGdCQUF2QixBQUFhLEFBQTBCLEFBQ3hDO0FBQ0Q7VUFBQSxBQUFJLE9BQU8sQUFDVDthQUFBLEFBQUssU0FBTCxBQUFjLE9BQWQsQUFBcUIsQUFDdEI7QUFGRCxhQUVPLEFBQ0w7WUFBSSxTQUFTLEtBQUEsQUFBSyxLQUFMLEFBQVUsWUFBdkIsQUFBYSxBQUFzQixBQUNuQztZQUFJLENBQUosQUFBSyxRQUFRLEFBQ1g7QUFDQTtlQUFBLEFBQUssU0FBTCxBQUFjLE9BQWQsQUFBcUIsQUFDdEI7QUFDRjtBQUNEO2dCQUFBLEFBQVUsYUFBYSxVQUF2QixBQUFpQyxBQUNqQztBQUNBO2FBQUEsQUFBTyxBQUNSO0FBekNILEFBMkNBO2NBQUEsQUFBVSxhQUFhLFVBQXZCLEFBQWlDLEFBRWpDOztRQUFBLEFBQUksbUJBQW1CLEFBQ3JCO21CQUFhLFVBQUEsQUFBVSxnQkFBdkIsQUFBYSxBQUEwQixBQUN2QztpQkFBVyxZQUFZLEFBQ3JCO2tCQUFBLEFBQVUsT0FBVixBQUFpQixBQUNqQjtrQkFBQSxBQUFVLFdBQVYsQUFBcUIsQUFDckI7Y0FBQSxBQUFNLEFBQ047QUFDQTtlQUFBLEFBQU8sQUFDUDtrQkFBQSxBQUFVLGFBQWEsVUFBdkIsQUFBaUMsQUFDbEM7QUFQRCxBQVFBO0FBQ0Q7QUFFRDs7QUFDRDtBQXRISDtNQXVISSxXQUFXLFVBdkhmLEFBdUh5QjtNQUNyQixTQUFTLFNBQVQsQUFBUyxPQUFBLEFBQVUsTUFBVixBQUFnQixNQUFoQixBQUFzQixhQUFhLEFBQzVDO1dBQU8sSUFBQSxBQUFJLFVBQUosQUFBYyxNQUFNLFFBQVEsS0FBUixBQUFhLFFBQWpDLEFBQXlDLFlBQWhELEFBQU8sQUFBcUQsQUFDN0Q7QUExSEgsQUE0SEE7QUFDQTtNQUFJLE9BQUEsQUFBTyxjQUFQLEFBQXFCLGVBQWUsVUFBeEMsQUFBa0Qsa0JBQWtCLEFBQ2xFO1dBQU8sVUFBQSxBQUFVLE1BQVYsQUFBZ0IsTUFBaEIsQUFBc0IsYUFBYSxBQUN4QzthQUFPLFFBQVEsS0FBUixBQUFhLFFBQXBCLEFBQTRCLEFBRTVCOztVQUFJLENBQUosQUFBSyxhQUFhLEFBQ2hCO2VBQU8sU0FBUCxBQUFPLEFBQVMsQUFDakI7QUFDRDthQUFPLFVBQUEsQUFBVSxpQkFBVixBQUEyQixNQUFsQyxBQUFPLEFBQWlDLEFBQ3pDO0FBUEQsQUFRRDtBQUVEOztXQUFBLEFBQVMsUUFBUSxZQUFZLEFBQUcsQ0FBaEMsQUFDQTtXQUFBLEFBQVMsYUFBYSxTQUFBLEFBQVMsT0FBL0IsQUFBc0MsQUFDdEM7V0FBQSxBQUFTLFVBQVQsQUFBbUIsQUFDbkI7V0FBQSxBQUFTLE9BQVQsQUFBZ0IsQUFFaEI7O1dBQUEsQUFBUyxRQUNULFNBQUEsQUFBUyxlQUNULFNBQUEsQUFBUyxhQUNULFNBQUEsQUFBUyxVQUNULFNBQUEsQUFBUyxVQUNULFNBQUEsQUFBUyxVQUNULFNBQUEsQUFBUyxhQU5ULEFBT0UsQUFFRjs7U0FBQSxBQUFPLEFBQ1I7QUE3SnVCLENBQUEsQ0E4Sm5CLE9BQUEsQUFBTyxTQUFQLEFBQWdCLGVBQWhCLEFBQStCLFFBQy9CLE9BQUEsQUFBTyxXQUFQLEFBQWtCLGVBRGxCLEFBQ2lDLFVBQ2pDLFVBaEtMLEFBQXdCLEFBZ0tkO0FBRVY7QUFDQTtBQUNBOztBQUVBLElBQUksT0FBQSxBQUFPLFdBQVAsQUFBa0IsZUFBZSxPQUFyQyxBQUE0QyxTQUFTLEFBQ25EO1NBQUEsQUFBTyxRQUFQLEFBQWUsU0FBZixBQUF3QixBQUN6QjtBQUZELE9BRU8sSUFBSyxPQUFBLEFBQU8sV0FBUCxBQUFrQixlQUFlLFdBQWxDLEFBQTZDLFFBQVUsT0FBQSxBQUFPLFFBQWxFLEFBQTBFLE1BQU8sQUFDdEY7U0FBQSxBQUFPLGdCQUFnQixZQUFZLEFBQ2pDO1dBQUEsQUFBTyxBQUNSO0FBRkQsQUFHRDs7Ozs7Ozs7OztBQzNMRDs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7QUFFQSxTQUFBLEFBQVMsb0JBQVQsQUFBNkIsUUFBUSxBQUNqQztRQUFJLE9BQU8sU0FBUyxTQUFwQixBQUFXLEFBQWtCLEFBQzdCO1FBQUksTUFBTSxTQUFTLFNBQVUsU0FBVixBQUFtQixRQUF0QyxBQUFVLEFBQXFDLEFBQy9DO1FBQUksTUFBTSxTQUFTLFNBQVUsU0FBVixBQUFtQixRQUF0QyxBQUFVLEFBQXFDLEFBRS9DOztXQUFPLEtBQUEsQUFBSyxhQUFMLEFBQWtCLE1BQU0sSUFBeEIsQUFBd0IsQUFBSSxhQUE1QixBQUF5QyxNQUFNLElBQS9DLEFBQStDLEFBQUksYUFBMUQsQUFBdUUsQUFDMUU7OztBQUVELFNBQUEsQUFBUyxZQUFULEFBQXFCLFNBQXJCLEFBQThCLFFBQTlCLEFBQXNDLEtBQUssQUFDdkM7UUFBSSxZQUFKLEFBQWdCLEFBQ2hCO1FBQUksVUFBSixBQUFjLEFBQ2Q7UUFBSSxhQUFhLG9CQUFqQixBQUFpQixBQUFvQixBQUNyQztRQUFJLE1BQUosQUFBVSxBQUVWOztRQUFJLE9BQU8sdVBBQUEsQUFBdVAsUUFBdlAsQUFBK1AsV0FBL1AsQUFBMFEsV0FBMVEsQUFBcVIsUUFBclIsQUFBNlIsa0JBQTdSLEFBQStTLFNBQS9TLEFBQXdULFFBQXhULEFBQWdVLGFBQWhVLEFBQTZVLFlBQTdVLEFBQXlWLFFBQXpWLEFBQWlXLFVBQTVXLEFBQVcsQUFBMlcsQUFDdFg7V0FBQSxBQUFPLEFBQ1Y7OztBQUVELFNBQUEsQUFBUyxVQUFULEFBQW1CLGFBQW5CLEFBQWdDLE9BQWhDLEFBQXVDO1FBQy9CLFlBQVksd0JBQUEsQUFBUyxRQUF6QixBQUFnQixBQUFpQixBQUNqQztRQUFJLFNBQVMscUJBQUEsQUFBTSxRQUFuQixBQUFhLEFBQWMsQUFDM0I7UUFBSSxlQUFKLEFBQW1CLEFBQ25CO1FBQUksU0FBSixBQUFhLEFBQ2I7UUFBSSxlQUFKLEFBQW1CLEFBRW5COztBQUNBO1FBQUksc0JBQUosQUFBMEIsQUFDMUI7UUFBSSxhQUFKLEFBQWlCLEFBQ2pCO1FBQUksY0FBSixBQUFrQixBQUVsQjs7QUFDQTtRQUFJLGFBQUosQUFBaUIsQUFFakI7O0FBQ0E7UUFBSSxjQUFKLEFBQ0E7UUFBSSxlQUFKLEFBRUE7O0FBQ0E7UUFBSSxZQUFKLEFBQWdCLEFBQ2hCO1FBQUksY0FBSixBQUFrQixBQUNsQjtRQUFJLFlBQUosQUFBZ0IsQUFFaEI7O1FBQUksYUFBSixBQUFpQixBQUNqQjtRQUFJLHNCQUFKLEFBQTBCLEFBRTFCOztRQUFJLGtCQUFKLEFBQXNCLEFBQ3RCO1FBQUksaUJBQUosQUFDQTtRQUFJLGlCQUFKLEFBRUE7O1FBQUksb0JBL0I0QyxBQStCaEQsQUFBd0IsTUEvQndCLEFBQ2hELENBOEIrQixBQUUvQjs7YUFBQSxBQUFTLFFBQVEsQUFDYjtZQUFJLGFBQUosQUFBaUIsV0FBVyxBQUN4QjtnQkFBSSxPQUFPLENBQVgsQUFBWSxBQUNaO2dCQUFJLGFBQUEsQUFBYSxjQUFqQixBQUErQixZQUFZLEFBQ3ZDO3VCQUFPLE9BQUEsQUFBTyxJQUFQLEFBQVcsZUFBWCxBQUEwQixVQUFqQyxBQUEyQyxBQUM5QztBQUZELHVCQUVXLGFBQUEsQUFBYSxjQUFqQixBQUErQixXQUFXLEFBQzdDO3VCQUFPLE9BQUEsQUFBTyxJQUFQLEFBQVcsZUFBWCxBQUEwQixVQUFqQyxBQUEyQyxBQUM5QztBQUZNLGFBQUEsTUFFQSxJQUFJLGFBQUEsQUFBYSxjQUFqQixBQUErQixZQUFZLEFBQzlDO3VCQUFPLE9BQUEsQUFBTyxJQUFQLEFBQVcsZUFBWCxBQUEwQixVQUFqQyxBQUEyQyxBQUM5QztBQUNEO2dCQUFJLFNBQVMsQ0FBYixBQUFjLEdBQUcsQUFDYjt1QkFBQSxBQUFPLElBQVAsQUFBVyxTQUFYLEFBQW9CLGFBQXBCLEFBQWlDLEFBQ3BDO0FBQ0o7QUFFRDs7WUFBSSxhQUFKLEFBQWlCLFFBQVEsQUFDckI7bUJBQUEsQUFBTyxJQUFQLEFBQVcsU0FBWCxBQUFvQixVQUFVLGFBQTlCLEFBQTJDLEFBQzlDO0FBRUQ7OzhCQUNJLElBQUksT0FBQSxBQUFPLElBQVgsQUFBZSxtQkFBZixBQUNJLGNBREosQUFFSSxRQUNBLGFBQUEsQUFBYSxXQUFiLEFBQXdCLEtBQUssYUFBQSxBQUFhLFdBQWIsQUFBd0IsR0FBckQsQUFBd0QsTUFKaEUsQUFDSSxBQUdrRSxBQUV0RTs7cUJBQWEsSUFBSSxPQUFBLEFBQU8sSUFBWCxBQUFlLFVBQTVCLEFBQWEsQUFBeUIsQUFDdEM7QUFDQTtBQUNBO21CQUFBLEFBQVcsY0FBWCxBQUF5QixxQ0FBekIsQUFBOEQsQUFDOUQ7bUJBQUEsQUFBVyxpQkFDUCxPQUFBLEFBQU8sSUFBUCxBQUFXLHNCQUFYLEFBQWlDLEtBRHJDLEFBQzBDLG9CQUQxQyxBQUVJLG9CQUZKLEFBR0ksT0FISixBQUlJLEFBQ0o7bUJBQUEsQUFBVyxpQkFDUCxPQUFBLEFBQU8sSUFBUCxBQUFXLGFBQVgsQUFBd0IsS0FENUIsQUFDaUMsVUFEakMsQUFFSSxXQUZKLEFBR0ksT0FISixBQUlJLEFBRUo7O0FBQ0E7cUJBQUEsQUFBYSxBQUNiOzhCQUFBLEFBQXNCLEFBQ3RCO2tCQUFBLEFBQVUsR0FBRyxPQUFBLEFBQU8sT0FBcEIsQUFBMkIsc0JBQTNCLEFBQWlELHVCQUFqRCxBQUF3RSxBQUN4RTtrQkFBQSxBQUFVLEdBQUcsT0FBQSxBQUFPLE9BQXBCLEFBQTJCLGFBQTNCLEFBQXdDLGNBQXhDLEFBQXNELEFBQ3pEO0FBRUQ7O2FBQUEsQUFBUyxPQUFPLEFBQ1o7QUFDQTtBQUNIO0FBRUQ7O2FBQUEsQUFBUyxRQUFRLEFBQ2I7QUFDQTtZQUFBLEFBQUksYUFBYSxBQUNiO3dCQUFBLEFBQVksQUFDWjswQkFBQSxBQUFjLEFBQ2pCO0FBQ0o7QUFFRDs7YUFBQSxBQUFTLG9CQUFvQixBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOzRCQUFBLEFBQW9CLEFBQ3ZCO0FBRUQ7O2FBQUEsQUFBUyxhQUFhLEFBQ2xCO2lCQUFTLGFBQVQsQUFBc0IsQUFDdEI7a0JBQVUsYUFBVixBQUF1QixBQUN2QjtBQUNBO0FBQ0E7QUFFQTs7ZUFBQSxBQUFPLElBQUkscUNBQXFDLGFBQWhELEFBQTZELEFBQzdEO1lBQUksYUFBYSxJQUFJLE9BQUEsQUFBTyxJQUE1QixBQUFpQixBQUFlLEFBQ2hDO21CQUFBLEFBQVcsV0FBVyxhQUF0QixBQUFtQyxBQUNuQztBQUNBO0FBQ0E7bUJBQUEsQUFBVyxvQkFBWCxBQUErQixBQUMvQjttQkFBQSxBQUFXLHFCQUFYLEFBQWdDLEFBQ2hDO21CQUFBLEFBQVcsdUJBQVgsQUFBa0MsQUFDbEM7bUJBQUEsQUFBVyx3QkFBWCxBQUFtQyxBQUVuQzs7QUFDQTtBQUNBO21CQUFBLEFBQVcseUJBQXlCLGFBQXBDLEFBQWlELEFBRWpEOztBQU1BOzs7Ozs7QUFFQTs7bUJBQUEsQUFBVyxXQUFYLEFBQXNCLEFBQ3pCO0FBRUQ7O0FBQ0E7YUFBQSxBQUFTLFNBQVMsQUFDZDtZQUFJLHVCQUFKLEFBQTJCLFlBQVksQUFDbkM7Z0JBQUksQUFDQTtBQUNBOzRCQUFBLEFBQVksS0FBWixBQUFpQixRQUFqQixBQUF5QixTQUFTLE9BQUEsQUFBTyxJQUFQLEFBQVcsU0FBN0MsQUFBc0QsQUFDdEQ7NEJBQUEsQUFBWSxBQUNmO0FBSkQsY0FJRSxPQUFBLEFBQU8sU0FBUyxBQUNkO0FBQ0g7QUFDSjtBQUNKO0FBRUQ7O2FBQUEsQUFBUyxtQkFBbUIsQUFDeEI7ZUFBQSxBQUFPLElBQVAsQUFBVyxBQUVYOztBQUNBO1lBQUksQ0FBSixBQUFLLGFBQWEsQUFDZDtBQUNIO0FBRUQ7O0FBQ0g7QUFFRDs7YUFBQSxBQUFTLFdBQVcsQUFDaEI7ZUFBQSxBQUFPLEFBQ1Y7QUFFRDs7YUFBQSxBQUFTLGNBQWMsQUFDbkI7ZUFBQSxBQUFPLEFBQ1Y7QUFFRDs7YUFBQSxBQUFTLGFBQWEsQUFDbEI7ZUFBQSxBQUFPLEFBQ1Y7QUFFRDs7YUFBQSxBQUFTLFVBQVUsQUFDZjtZQUFJLFlBQUEsQUFBWSxnQkFBaEIsQUFBZ0MsR0FBRyxBQUMvQjttQkFBQSxBQUFPLEFBQ1Y7QUFGRCxlQUVPLEFBQ0g7bUJBQUEsQUFBTyxBQUNWO0FBQ0o7QUFFRDs7YUFBQSxBQUFTLE9BQU8sQUFDWjtvQkFBQSxBQUFZLFVBQVosQUFBc0IsQUFDekI7QUFFRDs7YUFBQSxBQUFTLFNBQVMsQUFDZDtvQkFBQSxBQUFZLFVBQVosQUFBc0IsQUFDekI7QUFFRDs7YUFBQSxBQUFTLFlBQVksQUFDakI7ZUFBTyxZQUFQLEFBQU8sQUFBWSxBQUN0QjtBQUVEOzthQUFBLEFBQVMsVUFBVCxBQUFtQixRQUFRLEFBQ3ZCO29CQUFBLEFBQVksVUFBWixBQUFzQixBQUN6QjtBQUVEOzthQUFBLEFBQVMsY0FBYyxBQUNuQjtlQUFBLEFBQU8sQUFDVjtBQUVEOzthQUFBLEFBQVMsV0FBVyxBQUNoQjtlQUFBLEFBQU8sQUFDVjtBQUVEOzthQUFBLEFBQVMsT0FBTyxBQUNaO1lBQUEsQUFBSSxhQUFhLEFBQ2I7d0JBQUEsQUFBWSxBQUNmO0FBQ0o7QUFFRDs7YUFBQSxBQUFTLFFBQVEsQUFDYjtZQUFBLEFBQUksYUFBYSxBQUNiO3dCQUFBLEFBQVksQUFDZjtBQUNKO0FBRUQ7O2FBQUEsQUFBUyxPQUFULEFBQWdCLE9BQWhCLEFBQXVCLFFBQXZCLEFBQStCLFlBQVksQUFDdkM7WUFBQSxBQUFJLGFBQWEsQUFDYjtxQkFBQSxBQUFTLEFBQ1Q7c0JBQUEsQUFBVSxBQUNWO3dCQUFBLEFBQVksT0FBWixBQUFtQixRQUFuQixBQUEyQixTQUFTLE9BQUEsQUFBTyxJQUFQLEFBQVcsU0FBL0MsQUFBd0QsQUFDM0Q7QUFDSjtBQUVEOztBQUNBO2FBQUEsQUFBUyxtQkFBVCxBQUE0Qix1QkFBdUIsQUFDL0M7ZUFBQSxBQUFPLElBQVAsQUFBVyxBQUVYOztZQUFJLHVCQUF1QixJQUFJLE9BQUEsQUFBTyxJQUF0QyxBQUEyQixBQUFlLEFBQzFDO1lBQUksYUFBSixBQUFpQixrQkFBa0IsQUFDL0I7aUNBQUEsQUFBcUIsbUJBQW1CLGFBQXhDLEFBQXFELEFBQ3hEO0FBQ0Q7NkJBQUEsQUFBcUIsOENBQXJCLEFBQW1FLEFBRW5FOztzQkFBYyxzQkFBQSxBQUFzQixjQUF0QixBQUNOLFFBRFIsQUFBYyxBQUNFLEFBRWhCOztBQUNBO0FBQ0E7b0JBQUEsQUFBWSxpQkFDUixPQUFBLEFBQU8sSUFBUCxBQUFXLGFBQVgsQUFBd0IsS0FENUIsQUFDaUMsVUFEakMsQUFFSSxXQUZKLEFBR0ksT0FISixBQUlJLEFBQ0o7WUFBSSxTQUFTLEFBQ1Q7QUFDQTtlQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsS0FGVixBQUVlLGdCQUN4QixPQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsS0FIVixBQUdlLGFBQ3hCLE9BQUEsQUFBTyxJQUFQLEFBQVcsUUFBWCxBQUFtQixLQUpWLEFBSWUsbUJBQ3hCLE9BQUEsQUFBTyxJQUFQLEFBQVcsUUFBWCxBQUFtQixLQUxWLEFBS2UsT0FDeEIsT0FBQSxBQUFPLElBQVAsQUFBVyxRQUFYLEFBQW1CLEtBTlYsQUFNZSxVQUN4QixPQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsS0FQVixBQU9lLHlCQUN4QixPQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsS0FSVixBQVFlLDBCQUN4QixPQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsS0FUVixBQVNlLGlCQUN4QixPQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsS0FWVixBQVVlLGdCQUN4QixPQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsS0FYVixBQVdlLFlBQ3hCLE9BQUEsQUFBTyxJQUFQLEFBQVcsUUFBWCxBQUFtQixLQVpWLEFBWWUsYUFDeEIsT0FBQSxBQUFPLElBQVAsQUFBVyxRQUFYLEFBQW1CLEtBYlYsQUFhZSxnQkFDeEIsT0FBQSxBQUFPLElBQVAsQUFBVyxRQUFYLEFBQW1CLEtBZFYsQUFjZSxRQUN4QixPQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsS0FmVixBQWVlLEtBQ3hCLE9BQUEsQUFBTyxJQUFQLEFBQVcsUUFBWCxBQUFtQixLQWhCVixBQWdCZSxVQUN4QixPQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsS0FqQlYsQUFpQmUsUUFDeEIsT0FBQSxBQUFPLElBQVAsQUFBVyxRQUFYLEFBQW1CLEtBbEJWLEFBa0JlLFNBQ3hCLE9BQUEsQUFBTyxJQUFQLEFBQVcsUUFBWCxBQUFtQixLQW5CVixBQW1CZSx5QkFDeEIsT0FBQSxBQUFPLElBQVAsQUFBVyxRQUFYLEFBQW1CLEtBcEJWLEFBb0JlLFNBQ3hCLE9BQUEsQUFBTyxJQUFQLEFBQVcsUUFBWCxBQUFtQixLQXJCVixBQXFCZSxTQUN4QixPQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsS0F0QlYsQUFzQmUsZ0JBQ3hCLE9BQUEsQUFBTyxJQUFQLEFBQVcsUUFBWCxBQUFtQixLQXZCVixBQXVCZSxZQUN4QixPQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsS0F4QlYsQUF3QmUsZ0JBQ3hCLE9BQUEsQUFBTyxJQUFQLEFBQVcsUUFBWCxBQUFtQixLQXpCdkIsQUFBYSxBQXlCZSxBQUM1QjthQUFLLElBQUwsQUFBUyxTQUFULEFBQWtCLFFBQVEsQUFDdEI7d0JBQUEsQUFBWSxpQkFDUixPQURKLEFBQ0ksQUFBTyxRQURYLEFBRUksV0FGSixBQUdJLE9BSEosQUFJSSxBQUNQO0FBRUQ7O3FCQUFBLEFBQWEsQUFDYjtZQUFJLHVCQUF1QixDQUEzQixBQUE0QixtQkFBbUIsQUFDM0M7bUJBQUEsQUFBTyxJQUFQLEFBQVcsQUFDWDtBQUNIO0FBRUQ7O2VBQUEsQUFBTyxJQUFQLEFBQVcsQUFDZDtBQUVEOzthQUFBLEFBQVMsVUFBVCxBQUFtQixjQUFjLEFBQzdCO2VBQUEsQUFBTyxJQUFJLG9CQUFvQixhQUFBLEFBQWEsV0FBNUMsQUFBK0IsQUFBd0IsQUFDdkQ7WUFBSSxNQUFNLGFBQVYsQUFBVSxBQUFhLEFBQ3ZCO0FBQ0E7Z0JBQUEsQUFBUSxJQUFSLEFBQVksWUFBWixBQUF3QixBQUV4Qjs7WUFBSSxVQUFVLElBQWQsQUFBYyxBQUFJLEFBQ2xCO1lBQUksU0FBUyxJQUFiLEFBQWEsQUFBSSxBQUVqQjs7WUFBQSxBQUFJLGFBQWEsQUFDYjt3QkFBQSxBQUFZLEFBQ2Y7QUFDRDtBQUNIO0FBRUQ7O2FBQUEsQUFBUyxVQUFULEFBQW1CLFNBQVMsQUFDeEI7ZUFBQSxBQUFPLElBQUksaUJBQWlCLFFBQTVCLEFBQW9DLEFBQ3BDO1lBQUksS0FBSyxRQUFULEFBQVMsQUFBUSxBQUVqQjs7Z0JBQVEsUUFBUixBQUFnQixBQUNoQjtpQkFBSyxPQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsS0FBeEIsQUFBNkIsQUFBZ0I7QUFDckM7NEJBQUEsQUFBUSxJQUFJLDRCQUE0QixRQUFBLEFBQVEsRUFBaEQsQUFBa0QsQUFDckQ7QUFDRDtBQUNKO2lCQUFLLE9BQUEsQUFBTyxJQUFQLEFBQVcsUUFBWCxBQUFtQixLQUF4QixBQUE2QixBQUFhO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO2lDQUFhLFFBQWIsQUFBYSxBQUFRLEFBQ3JCOzRCQUFBLEFBQVEsSUFBSSxpQkFBaUIsV0FBQSxBQUFXLEVBQVgsQUFBYSxLQUExQyxBQUE2QixBQUFrQixBQUNsRDtBQUNEO0FBQ0o7aUJBQUssT0FBQSxBQUFPLElBQVAsQUFBVyxRQUFYLEFBQW1CLEtBQXhCLEFBQTZCLEFBQU87QUFDNUI7QUFDSDtBQUNEO0FBQ0o7aUJBQUssT0FBQSxBQUFPLElBQVAsQUFBVyxRQUFYLEFBQW1CLEtBQXhCLEFBQTZCLEFBQVU7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDSDtBQUNEO0FBQ0o7aUJBQUssT0FBQSxBQUFPLElBQVAsQUFBVyxRQUFYLEFBQW1CLEtBQXhCLEFBQTZCLEFBQXlCO0FBQzlDOzhCQUFBLEFBQVUsUUFBUSxxQkFBbEIsQUFBeUIsQUFDNUI7QUFDRDtBQUNKO2lCQUFLLE9BQUEsQUFBTyxJQUFQLEFBQVcsUUFBWCxBQUFtQixLQUF4QixBQUE2QixBQUEwQjtBQUMvQzs4QkFBQSxBQUFVLFFBQVEscUJBQWxCLEFBQXlCLEFBQzVCO0FBQ0Q7QUFDSjtpQkFBSyxPQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsS0FBeEIsQUFBNkIsQUFBaUI7QUFBRSxpQkFDNUM7QUFDSjtpQkFBSyxPQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsS0FBeEIsQUFBNkIsQUFBWTtBQUFFLGlCQUN2QztBQUNKO2lCQUFLLE9BQUEsQUFBTyxJQUFQLEFBQVcsUUFBWCxBQUFtQixLQUF4QixBQUE2QixBQUFnQjtBQUFFLGlCQUMzQztBQUNKO2lCQUFLLE9BQUEsQUFBTyxJQUFQLEFBQVcsUUFBWCxBQUFtQixLQUF4QixBQUE2QixBQUFRO0FBQzdCO0FBQ0E7QUFDQTt3QkFBSSxDQUFDLEdBQUwsQUFBSyxBQUFHLFlBQVksQUFDaEI7QUFDQTtBQUVIOztBQUNKO0FBQ0Q7QUFDSjtpQkFBSyxPQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsS0FBeEIsQUFBNkIsQUFBUTtBQUM3QjtnQ0FBQSxBQUFZLEFBQ2Y7QUFDRDtBQUNKO2lCQUFLLE9BQUEsQUFBTyxJQUFQLEFBQVcsUUFBWCxBQUFtQixLQUF4QixBQUE2QixBQUFTO0FBQzlCO2dDQUFBLEFBQVksQUFDZjtBQUNEO0FBQ0o7aUJBQUssT0FBQSxBQUFPLElBQVAsQUFBVyxRQUFYLEFBQW1CLEtBQXhCLEFBQTZCLEFBQVM7QUFDOUI7QUFDQTtBQUNIO0FBQ0Q7QUFDSjtpQkFBSyxPQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsS0FBeEIsQUFBNkIsQUFBUztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtnQ0FBQSxBQUFZLEFBQ1o7a0NBQWMsR0FBZCxBQUFjLEFBQUcsQUFFakI7O2dDQUFBLEFBQVksQUFDWjtnQ0FBWSxHQUFaLEFBQVksQUFBRyxBQUVmOzs4QkFBQSxBQUFVLFFBQVEscUJBQWxCLEFBQXlCO29DQUF6QixBQUFxQyxBQUNyQixBQUVoQjtBQUhxQyxBQUNqQzt3QkFFSixBQUFJLGFBQWEsQUFDYjtBQUNBO2tDQUFBLEFBQVUsUUFBUSxxQkFBbEIsQUFBeUIsQUFDNUI7QUFIRCwyQkFHTyxBQUNIO2tDQUFBLEFBQVUsUUFBUSxxQkFBbEIsQUFBeUIsQUFDNUI7QUFFRDs7QUFDQTt3QkFBSSxvQkFBb0IsSUFBSSxPQUFBLEFBQU8sSUFBbkMsQUFBd0IsQUFBZSxBQUN2QztzQ0FBQSxBQUFrQixlQUFlLE9BQUEsQUFBTyxJQUFQLEFBQVcsNkJBQVgsQUFBd0MsYUFBekUsQUFBc0YsQUFDdEY7c0NBQUEsQUFBa0IsZUFBZSxPQUFBLEFBQU8sSUFBUCxBQUFXLDZCQUFYLEFBQXdDLGFBQXpFLEFBQXNGLEFBQ3RGO3NDQUFBLEFBQWtCLGVBQWUsT0FBQSxBQUFPLElBQVAsQUFBVyw2QkFBWCxBQUF3QyxhQUF6RSxBQUFzRixBQUV0Rjs7QUFDQTt3QkFBSSxlQUFlLEdBQUEsQUFBRyxnQkFBSCxBQUFtQixRQUFuQixBQUEyQixTQUE5QyxBQUFtQixBQUFvQyxBQUN2RDt5QkFBSyxJQUFJLElBQVQsQUFBYSxHQUFHLElBQUksYUFBcEIsQUFBaUMsUUFBakMsQUFBeUMsS0FBTSxBQUMzQzs0QkFBSSxjQUFjLGFBQWxCLEFBQWtCLEFBQWEsQUFDL0I7Z0NBQUEsQUFBUSxtQkFBUixBQUF5QixpQkFBWSxZQUFyQyxBQUFxQyxBQUFZLCtCQUEwQixZQUEzRSxBQUEyRSxBQUFZLDJCQUFzQixZQUE3RyxBQUE2RyxBQUFZLEFBQzVIO0FBQ0o7QUFDRDtBQUNKO2lCQUFLLE9BQUEsQUFBTyxJQUFQLEFBQVcsUUFBWCxBQUFtQixLQUF4QixBQUE2QixBQUFnQjtBQUFFLGlCQUMzQztBQUNKO2lCQUFLLE9BQUEsQUFBTyxJQUFQLEFBQVcsUUFBWCxBQUFtQixLQUF4QixBQUE2QixBQUFZO0FBQ2pDO0FBQ0g7QUFDRDtBQUNKO2lCQUFLLE9BQUEsQUFBTyxJQUFQLEFBQVcsUUFBWCxBQUFtQixLQUF4QixBQUE2QixBQUFnQjtBQUNyQzs0QkFBQSxBQUFRLElBQUksd0JBQXdCLFlBQXBDLEFBQW9DLEFBQVksQUFDbkQ7QUFDRDtBQUNKO2lCQUFLLE9BQUEsQUFBTyxJQUFQLEFBQVcsUUFBWCxBQUFtQixLQUF4QixBQUE2QixBQUFjO0FBQ25DOzRCQUFBLEFBQVEsSUFBSSxzQkFBc0IsWUFBbEMsQUFBa0MsQUFBWSxBQUNqRDtBQUNEO0FBQ0o7QUFDSTtBQTlHSixBQWdISDs7QUFFRDs7YUFBQSxBQUFTLHdCQUF3QixBQUM3QjtBQUNBO0FBQ0E7a0JBQUEsQUFBVSxJQUFJLE9BQUEsQUFBTyxPQUFyQixBQUE0QixzQkFBNUIsQUFBa0QsdUJBQWxELEFBQXlFLEFBQ3pFO2VBQUEsQUFBTyxJQUFJLDJCQUFBLEFBQTJCLE9BQTNCLEFBQ1AsMEJBRE8sQUFDbUIsc0JBRG5CLEFBQ3lDLE9BRHpDLEFBRVAsaUJBRkosQUFFcUIsQUFDckI7OEJBQUEsQUFBc0IsQUFDdEI7WUFBSSxjQUFjLENBQWxCLEFBQW1CLG1CQUFtQixBQUNsQzttQkFBQSxBQUFPLElBQVAsQUFBVyxBQUNYO0FBQ0g7QUFDRDtlQUFBLEFBQU8sSUFBUCxBQUFXLEFBQ2Q7QUFFRDs7YUFBQSxBQUFTLGVBQWUsQUFDcEI7bUJBQUEsQUFBVyxBQUNkO0FBRUQ7O0FBQ0E7YUFBQSxBQUFTLGVBQWUsQUFDcEI7c0NBQThCLFlBQVksQUFDbEM7Z0JBQUksZ0JBQWdCLFlBQXBCLEFBQW9CLEFBQVksQUFDaEM7QUFDQTtnQkFBSSxrQkFBa0IsQ0FBdEIsQUFBdUIsR0FBRyxBQUN0QjtBQUNIO0FBRUQ7O3dCQUFZLFlBQVosQUFBd0IsQUFDeEI7QUFDQTtnQkFBSSxhQUFhLENBQWpCLEFBQWtCLFdBQVcsQUFDekI7d0JBQUEsQUFBUSxJQUFJLDBCQUFBLEFBQTBCLGdCQUExQixBQUEwQyxpQkFBMUMsQUFBMkQsWUFBM0QsQUFBdUUsaUJBQW5GLEFBQW9HLEFBQ3BHOzBCQUFBLEFBQVUsUUFBUSxxQkFBbEIsQUFBeUIsQUFDNUI7QUFDSjtBQWJhLFNBQUEsRUFBbEIsQUFBa0IsQUFhWCxBQUNWO0FBRUQ7O2FBQUEsQUFBUyxjQUFjLEFBQ25CO1lBQUEsQUFBSSxpQkFBaUIsQUFDakI7MEJBQUEsQUFBYyxBQUNkOzhCQUFBLEFBQWtCLEFBQ3JCO0FBQ0o7QUFFRDs7YUFBQSxBQUFTLHdCQUF3QixBQUM3QjtvQkFBQSxBQUFZLEFBQ1o7QUFDQTtvQkFBQSxBQUFZLEFBQ1o7a0JBQUEsQUFBVSxRQUFRLHFCQUFsQixBQUF5QixBQUN6QjtrQkFBQSxBQUFVLFFBQVEscUJBQWxCLEFBQXlCLEFBQzVCO0FBRUQ7O0FBQ0E7YUFBQSxBQUFTLE9BQU8sQUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNIO0FBRUQ7O1FBQUk7Y0FBVyxBQUNMLEFBQ047ZUFGVyxBQUVKLEFBQ1A7cUJBSFcsQUFHRSxBQUNiO29CQUpXLEFBSUMsQUFDWjtjQUxXLEFBS0wsQUFDTjtlQU5XLEFBTUosQUFDUDtrQkFQVyxBQU9ELEFBQ1Y7Y0FSVyxBQVFMLEFBQ047Z0JBVFcsQUFTSCxBQUNSO2lCQVZXLEFBVUYsQUFDVDttQkFYVyxBQVdBLEFBQ1g7bUJBWlcsQUFZQSxBQUNYO3FCQWJXLEFBYUUsQUFDYjtrQkFkVyxBQWNELEFBQ1Y7Z0JBZlcsQUFlSCxBQUNSO29CQWhCVyxBQWdCQyxBQUNaO2dCQWpCVyxBQWlCSCxBQUVSOztBQUNBO2NBcEJKLEFBQWUsQUFvQkwsQUFHVjtBQXZCZSxBQUNYOztBQXVCSjtXQUFBLEFBQU8sQUFDVjs7O2tCLEFBRWM7OztBQ2poQmY7Ozs7OztBQUVBOzs7Ozs7OztBQUVBO0FBQ0EsU0FBQSxBQUFTLGFBQVQsQUFBc0IsV0FBVyxBQUM3QjtZQUFBLEFBQVEsSUFBUixBQUFZLEFBRVo7O1FBQUksYUFBSixBQUFpQixBQUNqQjtRQUFJLGdCQUFKLEFBQW9CLEFBQ3BCO1FBQUksbUJBQUosQUFBdUIsQUFDdkI7UUFBSSxjQUFKLEFBQWtCLEFBQ2xCO1FBQUksYUFBSixBQUFpQixBQUNqQjtRQUFJLGdCQUFKLEFBQW9CLEFBQ3BCO1FBQUksY0FBSixBQUFrQixBQUNsQjtRQUFJLG1CQUFKLEFBQXVCLEFBQ3ZCO1FBQUksd0JBQUosQUFBNEIsQUFDNUI7UUFBSSxjQUFKLEFBQWtCLEFBQ2xCO1FBQUksMkJBQUosQUFBK0IsQUFDL0I7UUFBSSxlQUFKLEFBQW1CLEFBQ25CO1FBQUksYUFBSixBQUFpQixBQUNqQjtRQUFJLFVBQUosQUFBYyxBQUNkO1FBQUksZUFBSixBQUFtQixBQUVuQjs7UUFBSSxpQkFBSixBQUVBOzthQUFBLEFBQVMsUUFBUSxBQUNiO2FBQUEsQUFBSyxPQUFMLEFBQVksSUFBWixBQUFnQixlQUFlLEtBQUEsQUFBSyxPQUFMLEFBQVksSUFBWixBQUFnQixZQUEvQyxBQUEyRCxBQUMzRDthQUFBLEFBQUssU0FBTCxBQUFjLE9BQWQsQUFBcUIsY0FBYyxLQUFBLEFBQUssU0FBTCxBQUFjLFlBQWpELEFBQTZELEFBRTdEOztBQUNBOzJCQUFtQixLQUFBLEFBQUssU0FBTCxBQUFjLG9CQUFqQyxBQUFtQixBQUFrQyxBQUNyRDt5QkFBQSxBQUFpQixVQUFqQixBQUEyQixBQUMzQjt5QkFBQSxBQUFpQix1QkFBakIsQUFBd0MsQUFDeEM7eUJBQUEsQUFBaUIsc0JBQWpCLEFBQXVDLEFBRXZDOztBQUNBO2dCQUFBLEFBQVEsSUFBSSwwQ0FBMEMscUJBQXRELEFBQWdFLEFBQ2hFO2dCQUFBLEFBQVEsSUFBSSx5Q0FBeUMscUJBQXJELEFBQStELEFBRS9EOztxQkFBYSxpQkFBQSxBQUFpQixrQkFDdEIscUJBRFIsQUFBYSxBQUNLLEFBQ2xCO21CQUFBLEFBQVcsWUFBWCxBQUF1QixBQUV2Qjs7b0JBQVksT0FBQSxBQUFPLE9BQW5CLEFBQVksQUFBYyxBQUUxQjs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNIO0FBQ0Q7QUFDQTthQUFBLEFBQVMsa0JBQWtCLEFBQ3ZCO2VBQUEsQUFBTyxBQUNWO0FBRUQ7O2FBQUEsQUFBUyxrQkFBa0IsQUFDdkI7ZUFBQSxBQUFPLEFBQ1Y7QUFFRDs7YUFBQSxBQUFTLFlBQVksQUFDakI7ZUFBQSxBQUFPLEFBQ1Y7QUFFRDs7YUFBQSxBQUFTLFdBQVcsQUFDaEI7Z0JBQUEsQUFBUSxJQUFSLEFBQVksQUFDZjtBQUVEOzthQUFBLEFBQVMsc0JBQVQsQUFBK0IsT0FBTyxBQUNsQztnQkFBQSxBQUFRLElBQVIsQUFBWSxBQUNaO0FBQ0E7QUFDQTtZQUFJLGlCQUFBLEFBQWlCLGFBQWpCLEFBQThCLFdBQTlCLEFBQXlDLEtBQ3pDLE1BQUEsQUFBTSxXQUNOLEtBQUEsQUFBSyxTQUFMLEFBQWMsT0FBZCxBQUFxQixpQkFGekIsQUFFMEMscUJBQXFCLEFBQzNEOzZCQUFBLEFBQWlCLEFBQ3BCO0FBQ0o7QUFFRDs7YUFBQSxBQUFTLGVBQWUsQUFDcEI7QUFDQTtBQUVBOztBQUVBOztBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDSDtBQUVEOzthQUFBLEFBQVMsZUFBZSxBQUNwQjtnQkFBQSxBQUFRLElBQVIsQUFBWSxBQUNmO0FBRUQ7O2FBQUEsQUFBUyxhQUFhLEFBQ2xCO2dCQUFBLEFBQVEsSUFBUixBQUFZLEFBQ2Y7QUFFRDs7YUFBQSxBQUFTLHFCQUFULEFBQThCLE9BQU8sQUFDakM7Z0JBQUEsQUFBUSxJQUFSLEFBQVksQUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNIO0FBRUQ7O2FBQUEsQUFBUyxrQkFBVCxBQUEyQixPQUFPLEFBQzlCO2dCQUFBLEFBQVEsSUFBSSwrQkFBK0IsTUFBL0IsQUFBcUMsT0FBckMsQUFBNEMsaUJBQWlCLE1BQXpFLEFBQStFLEFBQy9FO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFFQTs7QUFDQTtBQUNBO2dCQUFRLE1BQUEsQUFBTSxLQUFkLEFBQW1CLEFBQ25CO2lCQUFBLEFBQUssQUFBUTtBQUNMO2tDQUFBLEFBQWMsQUFDakI7QUFDRDtBQUNKO2lCQUFBLEFBQUssQUFBUztBQUNOO2tDQUFBLEFBQWMsQUFDakI7QUFDRDtBQUNKO2lCQUFBLEFBQUssQUFBUTtBQUNMO3dCQUFJLFlBQVksTUFBQSxBQUFNLEtBQXRCLEFBQTJCLEFBQzNCO3dCQUFJLFlBQVksVUFBaEIsQUFBZ0IsQUFBVSxBQUMxQjt3QkFBSSxjQUFKLEFBQWtCLEFBRWxCOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNIO0FBQ0Q7QUFDSjtBQUNJO0FBakNKLEFBbUNIOztBQUVEOzthQUFBLEFBQVMsaUJBQVQsQUFBMEIsT0FBTyxBQUM3QjtZQUFJLFVBQVUscUJBQUEsQUFBVSxZQUFZLE1BQXBDLEFBQWMsQUFBNEIsQUFDMUM7Z0JBQUEsQUFBUSxJQUFJLG1DQUFtQyxNQUEvQyxBQUFxRCxBQUNyRDtnQkFBQSxBQUFRLElBQUksZ0NBQVosQUFBNEMsQUFFNUM7O1lBQUksUUFBQSxBQUFRLFlBQVosQUFBd0IsUUFBUSxBQUM1QjtvQkFBQSxBQUFRLElBQUksYUFBYSxRQUF6QixBQUFpQyxBQUNqQztzQkFBQSxBQUFVLEtBQVYsQUFBZSxBQUNsQjtBQUhELG1CQUdXLFFBQUEsQUFBUSxZQUFaLEFBQXdCLFFBQVEsQUFDbkM7c0JBQUEsQUFBVSxLQUFWLEFBQWUsQUFDbEI7QUFGTSxTQUFBLFVBRUksUUFBQSxBQUFRLFlBQVosQUFBd0IsUUFBUSxBQUNuQztzQkFBQSxBQUFVLEFBQ2I7QUFGTSxTQUFBLFVBRUksUUFBQSxBQUFRLFlBQVosQUFBd0IsU0FBUyxBQUNwQztzQkFBQSxBQUFVLEFBQ2I7QUFGTSxTQUFBLFVBRUksUUFBQSxBQUFRLFlBQVosQUFBd0IsUUFBUSxBQUNuQztzQkFBQSxBQUFVLEFBQ2I7QUFGTSxTQUFBLFVBRUksUUFBQSxBQUFRLFlBQVosQUFBd0IsU0FBUyxBQUNwQztzQkFBQSxBQUFVLEFBQ2I7QUFGTSxTQUFBLE1BRUEsSUFBSSxRQUFBLEFBQVEsWUFBWixBQUF3QixVQUFVLEFBQ3JDO3NCQUFBLEFBQVUsQUFDYjtBQUNEO0FBQ0g7QUFFRDs7YUFBQSxBQUFTLGFBQVQsQUFBc0IsU0FBdEIsQUFBK0IsS0FBL0IsQUFBb0MsY0FBYyxBQUM5QztBQUNBO1lBQUksQ0FBSixBQUFLLGNBQ0QsQUFFSjs7WUFBSSxhQUFhLHFCQUFBLEFBQVUsVUFBM0IsQUFBaUIsQUFBb0IsQUFDckM7WUFBQSxBQUFJLGNBQWMsQUFDZDtnQkFBQSxBQUFJLGVBQUosQUFBbUIsY0FBbkIsQUFBaUMsS0FBakMsQUFBc0MsQUFDekM7QUFGRCxlQUVPLEFBQ0g7Z0JBQUEsQUFBSSxVQUFKLEFBQWMsQUFDakI7QUFDSjtBQUVEOztBQUNBO0FBQ0E7YUFBQSxBQUFTLFFBQVQsQUFBaUIsT0FBTyxBQUNwQjtnQkFBQSxBQUFRLElBQVIsQUFBWSxBQUVaOztZQUFBLEFBQUksU0FBUyxBQUNUO29CQUFBLEFBQVEsQUFDUjtzQkFBQSxBQUFVLEFBQ2I7QUFFRDs7WUFBSSxPQUFPLElBQUksS0FBQSxBQUFLLFNBQUwsQUFBYyxhQUFsQixBQUErQixTQUFTLE1BQXhDLEFBQThDLE1BQU0sTUFBL0QsQUFBVyxBQUEwRCxBQUVyRTs7WUFBSSxNQUFNLEtBQUEsQUFBSyxRQUFMLEFBQWEsTUFBdkIsQUFBNkIsQUFDN0I7WUFBSSxlQUFlLHFCQUFxQixLQUFBLEFBQUssUUFBN0MsQUFBbUIsQUFBa0MsQUFDckQ7WUFBSSxXQUFXLEtBQUEsQUFBSyxPQUFMLEFBQVksSUFBaEIsQUFBb0I7bUJBQUssQUFDckIsQUFDUDs0QkFGUixBQUFXLEFBQXlCLEFBRVosQUFFeEI7QUFKb0MsQUFDNUIsU0FERztrQkFJRCxJQUFJLEtBQUEsQUFBSyxPQUFMLEFBQVksSUFBaEIsQUFBb0IsT0FBOUIsQUFBVSxBQUEyQixBQUNyQztnQkFBQSxBQUFRLEtBQUssYUFBYixBQUFhLEFBQWEsQUFDN0I7QUFFRDs7YUFBQSxBQUFTLGFBQVQsQUFBc0IsT0FBTyxBQUN6QjtnQkFBQSxBQUFRLElBQVIsQUFBWSxvQkFBWixBQUFnQyxBQUNuQztBQUVEOzthQUFBLEFBQVMsa0JBQVQsQUFBMkIsTUFBTSxBQUM3QjtnQkFBQSxBQUFRLElBQVIsQUFBWSxBQUVaOztZQUFJLFlBQVksY0FBaEIsQUFBOEIsQUFDOUI7Z0JBQUEsQUFBUSxJQUFJLGlCQUFaLEFBQTZCLEFBRTdCOzs4QkFBQSxBQUFzQixBQUN6QjtBQUVEOzthQUFBLEFBQVMscUJBQVQsQUFBOEIsT0FBTyxBQUNqQztnQkFBQSxBQUFRLElBQVIsQUFBWSxBQUNaO2lDQUFBLEFBQXlCLEFBQzVCO0FBRUQ7O0FBQ0E7QUFDQTthQUFBLEFBQVMscUJBQVQsQUFBOEIsa0JBQWtCLEFBQzVDO1lBQUksTUFBTSxpQkFBVixBQUEyQixBQUMzQjtZQUFJLE9BQU8saUJBQUEsQUFBaUIsZUFBNUIsQUFBMkMsQUFDM0M7WUFBSSxPQUFPLFNBQUEsQUFBUyxRQUFwQixBQUE0QixBQUM1QjtZQUFJLGNBQUEsQUFBYyxVQUFkLEFBQXdCLFVBQ3hCLFNBREEsQUFDUywyQkFDVCxTQUZKLEFBRWEsaUNBQWlDLEFBQzFDO21CQUFPLEtBQUEsQUFBSyxPQUFMLEFBQVksSUFBbkIsQUFBdUIsQUFDMUI7QUFKRCxtQkFJVyxjQUFBLEFBQWMsVUFBZCxBQUF3QixTQUMvQixTQURHLEFBQ00sd0JBQXdCLEFBQ2pDO21CQUFPLEtBQUEsQUFBSyxPQUFMLEFBQVksSUFBbkIsQUFBdUIsQUFDMUI7QUFITSxTQUFBLE1BR0EsSUFBSSxLQUFBLEFBQUssUUFBTCxBQUFhLFVBQVUsQ0FBdkIsQUFBd0IsS0FDL0IsU0FERyxBQUNNLCtCQUErQixBQUN4QzttQkFBTyxLQUFBLEFBQUssT0FBTCxBQUFZLElBQW5CLEFBQXVCLEFBQzFCO0FBQ0Q7ZUFBQSxBQUFPLEFBQ1Y7QUFFRDs7YUFBQSxBQUFTLGdCQUFULEFBQXlCLEtBQUssQUFDMUI7Y0FBTSxLQUFBLEFBQUssTUFBWCxBQUFNLEFBQVcsQUFDakI7aUJBQUEsQUFBUyxNQUFULEFBQWUsR0FBRyxBQUNkO21CQUFPLENBQUMsT0FBTyxLQUFBLEFBQUssTUFBYixBQUFRLEFBQVcsSUFBbkIsQUFBdUIsTUFBTSxDQUFwQyxBQUFPLEFBQThCLEFBQ3hDO0FBQ0Q7WUFBSSxLQUFLLEtBQUEsQUFBSyxNQUFNLE1BQXBCLEFBQVMsQUFBaUIsQUFDMUI7WUFBSSxNQUFNLEtBQUEsQUFBSyxNQUFNLE1BQVgsQUFBaUIsTUFBM0IsQUFBaUMsQUFDakM7WUFBSSxNQUFNLE1BQVYsQUFBZ0IsQUFDaEI7WUFBSSxDQUFKLEFBQUssSUFBSSxBQUNMO21CQUFPLE1BQUEsQUFBTSxPQUFOLEFBQWEsTUFBTSxNQUExQixBQUEwQixBQUFNLEFBQ25DO0FBRkQsZUFFTyxBQUNIO21CQUFPLE1BQUEsQUFBTSxNQUFOLEFBQVksTUFBTSxNQUFsQixBQUFrQixBQUFNLE9BQXhCLEFBQStCLE1BQU0sTUFBNUMsQUFBNEMsQUFBTSxBQUNyRDtBQUNKO0FBRUQ7O0FBT0E7Ozs7Ozs7YUFBQSxBQUFTLGNBQVQsQUFBdUIsS0FBSyxBQUN4QjtZQUFJLFFBQVEsSUFBQSxBQUFJLE1BQWhCLEFBQVksQUFBVSxBQUN0QjtBQUNBO1lBQUksTUFBQSxBQUFNLFdBQU4sQUFBaUIsS0FBTSxNQUFBLEFBQU0sT0FBTixBQUFhLE1BQU0sTUFBQSxBQUFNLFdBQXBELEFBQStELEdBQUksQUFDL0Q7bUJBQUEsQUFBTyxBQUNWO0FBQ0Q7ZUFBTyxNQUFBLEFBQU0sTUFBYixBQUFPLEFBQVksQUFDdEI7QUFFRDs7QUFPQTs7Ozs7OzthQUFBLEFBQVMsU0FBVCxBQUFrQixLQUFLLEFBQ25CO1lBQUksT0FBTyxTQUFBLEFBQVMsY0FBcEIsQUFBVyxBQUF1QixBQUNsQzthQUFBLEFBQUssT0FBTCxBQUFZLEFBQ1o7ZUFBTyxLQUFBLEFBQUssWUFBWixBQUF3QixBQUMzQjtBQUVEOzthQUFBLEFBQVMsUUFBUSxBQUNiO3lCQUFBLEFBQWlCLEFBQ3BCO0FBRUQ7O2FBQUEsQUFBUyxpQkFBVCxBQUEwQixJQUExQixBQUE4QixJQUFJLEFBQzlCO21CQUFBLEFBQVcsTUFBWCxBQUFpQixBQUNwQjtBQUVEOztRQUFJO2VBQVcsQUFDSixBQUNQOzBCQUZKLEFBQWUsQUFFTyxBQUV0QjtBQUplLEFBQ1g7QUFJSjtXQUFBLEFBQU8sQUFDVjs7a0IsQUFDYzs7O0FDaldmOzs7Ozs7QUFFQTs7Ozs7Ozs7QUFFQTtBQUNBO0FBQ0EsU0FBQSxBQUFTLHNCQUFzQixBQUUzQjs7YUFBQSxBQUFTLEtBQVQsQUFBYyxjQUFkLEFBQTRCLHdCQUF3QixBQUNoRDt1QkFBQSxBQUFlLEFBQ2Y7aUNBQUEsQUFBeUIsQUFFekI7OytCQUFBLEFBQXVCLGlCQUNuQixLQUFBLEFBQUssVUFBTCxBQUFlLHNCQURuQixBQUN5QyxrQkFDckMsWUFBWSxBQUNSO29CQUFBLEFBQVEsSUFBSSxZQUFZLGFBQXhCLEFBQXFDLEFBQzVDO0FBSkQsQUFNQTs7K0JBQUEsQUFBdUIsaUJBQ25CLEtBQUEsQUFBSyxVQUFMLEFBQWUsc0JBRG5CLEFBQ3lDLHNCQUNyQyxZQUFZLEFBQ1I7Z0JBQUksWUFBWSxhQUFoQixBQUE2QixBQUM3QjtvQkFBQSxBQUFRLElBQUksbUJBQVosQUFBK0IsQUFDbEM7QUFMTCxBQU1IO0FBRUQ7O2FBQUEsQUFBUyxPQUFPLEFBQ1o7WUFBSSxhQUFKLEFBQWlCLFVBQVUsQUFDdkI7bUNBQUEsQUFBdUIsQUFDMUI7QUFDSjtBQUVEOzthQUFBLEFBQVMsUUFBUSxBQUNiO1lBQUksQ0FBQyxhQUFMLEFBQWtCLFVBQVUsQUFDeEI7bUNBQUEsQUFBdUIsQUFDMUI7QUFDSjtBQUVEOzthQUFBLEFBQVMsVUFBVCxBQUFtQixRQUFRLEFBQ3ZCO3FCQUFBLEFBQWEsY0FBYixBQUEyQixBQUMzQjsrQkFBQSxBQUF1QixBQUV2Qjs7QUFDQTtBQUNIO0FBRUQ7O2FBQUEsQUFBUyxZQUFZLEFBQ2pCO2VBQU8sYUFBUCxBQUFvQixBQUN2QjtBQUVEOzthQUFBLEFBQVMsS0FBVCxBQUFjLE1BQU0sQUFDaEI7cUJBQUEsQUFBYSxjQUFiLEFBQTJCLEFBQzNCOytCQUFBLEFBQXVCLEFBQzFCO0FBRUQ7O2FBQUEsQUFBUyxPQUFPLEFBQ1o7K0JBQUEsQUFBdUIsQUFDMUI7QUFFRDs7UUFBSTtjQUFXLEFBQ0wsQUFDTjtjQUZXLEFBRUwsQUFDTjtlQUhXLEFBR0osQUFDUDttQkFKVyxBQUlBLEFBQ1g7bUJBTFcsQUFLQSxBQUNYO2NBTlcsQUFNTCxBQUNOO2NBUEosQUFBZSxBQU9MLEFBRVY7QUFUZSxBQUNYO1dBUUosQUFBTyxBQUNWOzs7QUFFRDtBQUNBO0FBQ0EsU0FBQSxBQUFTLFdBQVQsQUFBb0IsZUFBZSxBQUMvQjtRQUFJLGlCQUFKLEFBQXFCLEFBQ3JCO1FBQUksZUFBSixBQUFtQixBQUNuQjtRQUFJLHlCQUFKLEFBQTZCLEFBQzdCO1FBQUksZUFBSixBQUFtQixBQUNuQjtRQUFJLFdBQUosQUFBZSxBQUVmOztRQUFJLHNCQUFzQixJQUExQixBQUEwQixBQUFJLEFBRTlCOzthQUFBLEFBQVMsUUFBUSxBQUNiO2dCQUFBLEFBQVEsSUFBUixBQUFZLEFBRVo7O1lBQUksVUFBSixBQUFjLEFBRWQ7O0FBQ0E7QUFDQTtBQUNBO2dCQUFBLEFBQVEsd0JBQVIsQUFBZ0MsQUFFaEM7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Z0JBQUEsQUFBUSxpQkFBaUIsT0FBQSxBQUFPLEtBQVAsQUFBWSxlQUFyQyxBQUFvRCxBQUNwRDt1QkFBZSxLQUFBLEFBQUssVUFBTCxBQUFlLFlBQTlCLEFBQWUsQUFBMkIsQUFDMUM7cUJBQUEsQUFBYSxXQUFiLEFBQXdCLEFBRXhCOztxQkFBQSxBQUFhLGlCQUFpQixLQUFBLEFBQUssVUFBTCxBQUFlLHFCQUE3QyxBQUFrRSxvQkFDOUQsVUFBQSxBQUFVLEdBQUcsQUFDYjtvQkFBQSxBQUFRLElBQVIsQUFBWSxzQkFBWixBQUFrQyxBQUNyQztBQUhELEFBS0E7O3FCQUFBLEFBQWEsaUJBQ1QsS0FBQSxBQUFLLFVBQUwsQUFBZSxxQkFEbkIsQUFDd0MsdUJBQ3BDLFVBQUEsQUFBVSxPQUFPLEFBQ2pCO29CQUFBLEFBQVEsSUFBSSx5QkFBeUIsTUFBckMsQUFBMkMsQUFDM0M7b0JBQVEsTUFBUixBQUFjLEFBQ2Q7cUJBQUssS0FBQSxBQUFLLFVBQUwsQUFBZSxhQUFwQixBQUFpQyxBQUNqQztxQkFBSyxLQUFBLEFBQUssVUFBTCxBQUFlLGFBQXBCLEFBQWlDLEFBQzdCO0FBQ0o7cUJBQUssS0FBQSxBQUFLLFVBQUwsQUFBZSxhQUFwQixBQUFpQyxBQUM3QjtBQUNBO0FBQ0E7QUFQSixBQVNIOztBQWJELEFBZUE7O3VCQUFlLElBQUksS0FBQSxBQUFLLFVBQXhCLEFBQWUsQUFBbUIsQUFDbEM7aUNBQXlCLElBQUksS0FBQSxBQUFLLFVBQVQsQUFBbUIsdUJBQTVDLEFBQXlCLEFBQTBDLEFBQ25FOytCQUFBLEFBQXVCLGlCQUNuQixLQUFBLEFBQUssVUFBTCxBQUFlLHNCQURuQixBQUN5QyxzQkFEekMsQUFFSSxBQUNKOytCQUFBLEFBQXVCLGlCQUNuQixLQUFBLEFBQUssVUFBTCxBQUFlLHNCQURuQixBQUN5Qyx5QkFEekMsQUFFSSxBQUVKOztBQUNBOzRCQUFBLEFBQW9CLEtBQXBCLEFBQXlCLGNBQXpCLEFBQXVDLEFBQzFDO0FBRUQ7O2FBQUEsQUFBUyxxQkFBcUIsQUFDMUI7Z0JBQUEsQUFBUSxJQUFJLDBEQUEwRCxhQUF0RSxBQUFtRixBQUVuRjs7bUJBQVcsS0FBQSxBQUFLLFVBQUwsQUFBZSxZQUFmLEFBQTJCLGNBQXRDLEFBQVcsQUFBeUMsQUFDcEQ7WUFBQSxBQUFJLFVBQVUsQUFDVjtxQkFBQSxBQUFTLG1CQUFtQixxQkFBNUIsQUFBc0MsMEJBQXRDLEFBQ0ksQUFDUDtBQUhELGVBR08sQUFDSDtvQkFBQSxBQUFRLElBQVIsQUFBWSxBQUNmO0FBQ0o7QUFFRDs7YUFBQSxBQUFTLHVCQUF1QixBQUM1QjtnQkFBQSxBQUFRLElBQVIsQUFBWSxBQUNmO0FBRUQ7O2FBQUEsQUFBUyxzQkFBc0IsQUFDM0I7Z0JBQUEsQUFBUSxJQUFSLEFBQVksQUFDZjtBQUVEOzthQUFBLEFBQVMsb0JBQW9CLEFBQ3pCO2dCQUFBLEFBQVEsSUFBUixBQUFZLEFBQ2Y7QUFFRDs7YUFBQSxBQUFTLFNBQVQsQUFBa0IsU0FBUyxBQUN2QjtnQkFBQSxBQUFRLFVBQVIsQUFBa0IsQUFDbEI7cUJBQUEsQUFBYSxBQUNoQjtBQUVEOzthQUFBLEFBQVMsU0FBVCxBQUFrQixTQUFTLEFBQ3ZCO2dCQUFBLEFBQVEsVUFBUixBQUFrQixBQUNsQjtxQkFBQSxBQUFhLEFBQ2hCO0FBRUQ7O2FBQUEsQUFBUyxXQUFXLEFBQ2hCO1lBQUksTUFBTSxFQUFDLFdBQVgsQUFBVSxBQUFZLEFBQ3RCO3FCQUFBLEFBQWEsQUFDaEI7QUFFRDs7YUFBQSxBQUFTLFlBQVksQUFDakI7WUFBSSxNQUFNLEVBQUMsV0FBWCxBQUFVLEFBQVksQUFDdEI7cUJBQUEsQUFBYSxBQUNoQjtBQUVEOzthQUFBLEFBQVMsV0FBVyxBQUNoQjtZQUFJLE1BQU0sRUFBQyxXQUFYLEFBQVUsQUFBWSxBQUN0QjtxQkFBQSxBQUFhLEFBQ2hCO0FBRUQ7O2FBQUEsQUFBUyxZQUFZLEFBQ2pCO1lBQUksTUFBTSxFQUFDLFdBQVgsQUFBVSxBQUFZLEFBQ3RCO3FCQUFBLEFBQWEsQUFDaEI7QUFFRDs7YUFBQSxBQUFTLGFBQWEsQUFDbEI7WUFBSSxNQUFNLEVBQUMsV0FBWCxBQUFVLEFBQVksQUFDdEI7cUJBQUEsQUFBYSxBQUNoQjtBQUVEOzthQUFBLEFBQVMsV0FBVyxBQUNoQjtZQUFJLHVCQUFKLEFBQTJCLEFBRTNCOztZQUFJLE1BQUosQUFBVSxBQUNWO2VBQVEsTUFBUixBQUFjLEFBQ2Q7ZUFBUSxNQUFSLEFBQWMsQUFFZDs7aUJBQUEsQUFBUyxZQUNMLHFCQURKLEFBQ2MsMEJBRGQsQUFFSSxLQUNBLFlBQVksQUFBRSxDQUhsQixHQUdvQixBQUNoQjtvQkFBWSxBQUFFLENBWEYsQUFPaEIsSUFJcUIsQUFDeEI7QUFFRDs7QUFDQTthQUFBLEFBQVMsaUJBQWlCLEFBQ3RCO1lBQUksQ0FBSixBQUFLLGNBQWMsQUFDZjtvQkFBQSxBQUFRLEtBQVIsQUFBYSxBQUNiO0FBQ0g7QUFFRDs7cUJBQUEsQUFBYSxBQUNoQjtBQUVEOzthQUFBLEFBQVMsYUFBYSxBQUNsQjtZQUFJLENBQUosQUFBSyxjQUFjLEFBQ2Y7QUFDSDtBQUVEOztZQUFJLGNBQWMsYUFBbEIsQUFBa0IsQUFBYSxBQUMvQjtBQUNBO0FBQ0E7b0JBQUEsQUFBWSxXQUFaLEFBQXVCLEFBQzFCO0FBRUQ7O2FBQUEsQUFBUyxXQUFXLEFBQUUsQ0FFdEI7O2FBQUEsQUFBUyxVQUFULEFBQW1CLEtBQW5CLEFBQXdCLE1BQU0sQUFDMUI7Z0JBQUEsQUFBUSxJQUFSLEFBQVksQUFFWjs7WUFBSSxRQUFRLEtBQVIsQUFBYSxhQUFhLGFBQTlCLEFBQTJDLGFBQWEsQUFDcEQ7Z0JBQUksWUFBWSxJQUFJLE9BQUEsQUFBTyxLQUFQLEFBQVksTUFBaEIsQUFBc0IsVUFBdEIsQUFBZ0MsS0FBaEQsQUFBZ0IsQUFBcUMsQUFFckQ7O3NCQUFBLEFBQVUsV0FBVyxJQUFJLE9BQUEsQUFBTyxLQUFQLEFBQVksTUFBckMsQUFBcUIsQUFBc0IsQUFDM0M7c0JBQUEsQUFBVSxTQUFWLEFBQW1CLGVBQWUsT0FBQSxBQUFPLEtBQVAsQUFBWSxNQUFaLEFBQWtCLGFBQXBELEFBQWlFLEFBRWpFOztnQkFBSSxVQUFVLElBQUksT0FBQSxBQUFPLEtBQVAsQUFBWSxNQUFoQixBQUFzQixZQUFwQyxBQUFjLEFBQWtDLEFBRWhEOztBQUNBO0FBRUE7O3FCQUFBLEFBQVMsVUFBVCxBQUFtQixTQUFuQixBQUE0QixxQkFBNUIsQUFBaUQsQUFDcEQ7QUFaRCxlQVlPLEFBQ0g7MkJBQUEsQUFBZSxBQUNmO3FDQUFBLEFBQXlCLEFBQzVCO0FBRUQ7O2dCQUFBLEFBQVEsSUFBUixBQUFZLEFBQ2Y7QUFFRDs7YUFBQSxBQUFTLG1CQUFULEFBQTRCLFdBQTVCLEFBQXVDLFlBQVksQUFDL0M7Z0JBQUEsQUFBUSxJQUFJLDZCQUFaLEFBQXlDLEFBQ3pDO2dCQUFBLEFBQVEsSUFBSSw4QkFBWixBQUEwQyxBQUUxQzs7WUFBSSxVQUFVLHFCQUFBLEFBQVUsWUFBeEIsQUFBYyxBQUFzQixBQUNwQztnQkFBUSxRQUFSLEFBQWdCLEFBQ2hCO2lCQUFBLEFBQUssQUFBYztBQUNYOzRCQUFBLEFBQVEsOEJBQTRCLFFBQUEsQUFBUSxLQUE1QyxBQUFpRCxnQkFBVyxRQUFBLEFBQVEsS0FBcEUsQUFBeUUsQUFDNUU7QUFDRDtBQUNKO0FBQ0k7QUFOSixBQVFIOztBQUVEOzthQUFBLEFBQVMsT0FBTyxBQUNaOzRCQUFBLEFBQW9CLEFBQ3ZCO0FBRUQ7O2FBQUEsQUFBUyxRQUFRLEFBQ2I7NEJBQUEsQUFBb0IsQUFDdkI7QUFFRDs7YUFBQSxBQUFTLFlBQVksQUFDakI7WUFBSSxTQUFTLG9CQUFBLEFBQW9CLGNBQWpDLEFBQStDLEFBRS9DOzs0QkFBQSxBQUFvQixVQUFwQixBQUE4QixBQUNqQztBQUVEOzthQUFBLEFBQVMsVUFBVCxBQUFtQixRQUFRLEFBQ3ZCO1lBQUksU0FBUyxvQkFBQSxBQUFvQixjQUFqQyxBQUErQyxBQUMvQzs0QkFBQSxBQUFvQixVQUFwQixBQUE4QixBQUNqQztBQUVEOzthQUFBLEFBQVMsVUFBVCxBQUFtQixRQUFRLEFBQ3ZCOzRCQUFBLEFBQW9CLFVBQXBCLEFBQThCLEFBQ2pDO0FBRUQ7O2FBQUEsQUFBUyxjQUFjLEFBQ25CO2VBQU8sZ0JBQWdCLGFBQXZCLEFBQW9DLEFBQ3ZDO0FBRUQ7O2FBQUEsQUFBUyxLQUFULEFBQWMsTUFBTSxBQUNoQjs0QkFBQSxBQUFvQixLQUFLLFdBQXpCLEFBQXlCLEFBQVcsQUFDdkM7QUFFRDs7YUFBQSxBQUFTLE9BQU8sQUFDWjs0QkFBQSxBQUFvQixBQUN2QjtBQUVEOzthQUFBLEFBQVMsWUFBWSxBQUNqQjtnQkFBQSxBQUFRLElBQUkseUJBQXlCLGFBQXJDLEFBQWtELEFBQ2xEO1lBQUksYUFBSixBQUFpQixrQkFBa0IsQUFDL0I7b0JBQUEsQUFBUSxJQUFJLGdEQUFnRCxhQUFBLEFBQWEsaUJBQXpFLEFBQTBGLEFBQzdGO0FBQ0o7QUFFRDs7UUFBSSxNQUFKLEFBQVUsQUFDVjthQUFBLEFBQVMsT0FBTyxBQUNaO0FBRUE7O2lCQUFBLEFBQVMsWUFBWSxxQkFBckIsQUFBK0IsMEJBQzNCLElBREosQUFDSSxBQUFJLFlBQ0osWUFBWSxBQUFFLENBRmxCLEdBRW9CLEFBQ2hCO29CQUFZLEFBQUUsQ0FOTixBQUdaLElBR3FCLEFBQ3JCO0FBQ0g7QUFFRDs7YUFBQSxBQUFTLFlBQVQsQUFBcUIsWUFBckIsQUFBaUMsWUFBWSxBQUN6QztZQUFJLE9BQU8sTUFBQSxBQUFNLFVBQU4sQUFBZ0IsTUFBaEIsQUFBc0IsS0FBdEIsQUFBMkIsV0FBdEMsQUFBVyxBQUFzQyxBQUNqRDs7b0JBQWEsQUFDRCxBQUNSOzBCQUZTLEFBRUssQUFDZDswQkFIUyxBQUdLLEFBQ2Q7b0JBSkosQUFBYSxBQUlELEFBRWY7QUFOZ0IsQUFDVDtBQU9SOzthQUFBLEFBQVMsYUFBVCxBQUFzQjtZQUNkLGFBQWEscUJBQUEsQUFBVSxVQUEzQixBQUFpQixBQUFvQixBQUNyQztnQkFBQSxBQUFRLElBQUksZUFBWixBQUEyQixBQUMzQjtBQUNBO2lCQUFBLEFBQVMsWUFDTCxxQkFESixBQUNjLDBCQURkLEFBRUksWUFDQSxZQUFZLEFBQUUsQ0FIbEIsR0FHb0IsQUFDaEI7b0JBQVksQUFBRSxDQVJTLEFBSTNCLEdBSjJCLEFBQzNCLENBT3FCLEFBQ3hCO0FBRUQ7O1FBQUk7QUFFQTtrQkFGVyxBQUVELEFBQ1Y7a0JBSFcsQUFHRCxBQUNWO2tCQUpXLEFBSUQsQUFDVjttQkFMVyxBQUtBLEFBQ1g7a0JBTlcsQUFNRCxBQUNWO21CQVBXLEFBT0EsQUFDWDtvQkFSVyxBQVFDLEFBQ1o7a0JBVFcsQUFTRCxBQUNWO0FBQ0E7d0JBWFcsQUFXSyxBQUNoQjtvQkFaVyxBQVlDLEFBQ1o7a0JBYlcsQUFhRCxBQUNWO21CQWRXLEFBY0EsQUFDWDtjQWZXLEFBZUwsQUFDTjtjQWhCVyxBQWdCTCxBQUNOO2VBakJXLEFBaUJKLEFBQ1A7bUJBbEJXLEFBa0JBLEFBQ1g7bUJBbkJXLEFBbUJBLEFBQ1g7Y0FwQlcsQUFvQkwsQUFDTjttQkFyQlcsQUFxQkEsQUFDWDtjQXRCSixBQUFlLEFBc0JMLEFBR1Y7QUF6QmUsQUFDWDs7QUF5Qko7V0FBQSxBQUFPLEFBQ1Y7OztrQixBQUVjOzs7Ozs7Ozs7Ozs7Ozs7OztBQ2xYZixJQUFJLFlBQVksU0FBWixBQUFZLFlBQVksQUFBRSxDQUE5Qjs7QUFFQTtBQUNBO0FBQ0EsVUFBQSxBQUFVLDRCQUFWLEFBQXNDO0FBQ3RDLFVBQUEsQUFBVSwyQkFBVixBQUFxQzs7QUFFckMsVUFBQSxBQUFVLHNCQUFzQixVQUFBLEFBQVMsS0FBSyxBQUM1Qzs7WUFDVSxJQURILEFBQ08sQUFDWjtBQUNBO0FBQ0E7QUFDQTtXQUFPLGVBQUEsQUFBUyxHQUFHLEFBQUU7YUFBTyxJQUFBLEFBQUksTUFBWCxBQUFPLEFBQVUsQUFBSztBQUx0QyxBQU1MO1NBQUssYUFBQSxBQUFTLEdBQUcsQUFBRTthQUFPLElBQUEsQUFBSSxJQUFYLEFBQU8sQUFBUSxBQUFLO0FBTnpDLEFBQU8sQUFRUjtBQVJRLEFBQ0w7QUFGSjs7QUFXQSxVQUFBLEFBQVUsWUFBWSxVQUFBLEFBQVMsT0FBTyxBQUNwQztTQUFPLEtBQUEsQUFBSyxVQUFaLEFBQU8sQUFBZSxBQUN2QjtBQUZEOztBQUlBLFVBQUEsQUFBVSxjQUFjLFVBQUEsQUFBUyxLQUFLLEFBQ3BDO2NBQU8sQUFBSyxNQUFMLEFBQVcsS0FBSyxVQUFBLEFBQVMsS0FBVCxBQUFjLE9BQU8sQUFDMUM7UUFBSSxTQUFKLEFBQWEsT0FBTyxBQUNsQjthQUFBLEFBQU8sQUFDUjtBQUZELGVBRVcsU0FBSixBQUFhLGFBQWEsQUFDL0I7YUFBTyxDQUFQLEFBQVEsQUFDVDtBQUZNLEtBQUEsVUFFSSxTQUFKLEFBQWEsWUFBWSxBQUM5QjthQUFBLEFBQU8sQUFDUjtBQUZNLEtBQUEsTUFFQSxJQUFJLFNBQVMsUUFBQSxBQUFPLDhDQUFQLEFBQU8sV0FBaEIsQUFBeUIsWUFDekIsTUFBQSxBQUFNLGVBRFYsQUFDeUIsY0FBYyxBQUM1QztBQUNBO0FBQ0E7YUFBTyxVQUFBLEFBQVUsb0JBQWpCLEFBQU8sQUFBOEIsQUFDdEM7QUFDRDtXQUFBLEFBQU8sQUFDUjtBQWRELEFBQU8sQUFlUixHQWZRO0FBRFQ7QUFpQkE7QUFDQTs7a0IsQUFFZTs7Ozs7Ozs7Ozs7Ozs7O0FDMUNkOzs7O0ksQUFJSzs7QUFFRjs7O0FBR0Esc0JBQWU7MEJBQ1g7O0FBQ0E7U0FBQSxBQUFLLGFBQUwsQUFBa0IsQUFFbEI7O0FBQ0E7U0FBQSxBQUFLLGtCQUFMLEFBQXVCLEFBRXZCOztBQUNBO1NBQUEsQUFBSyx3QkFBTCxBQUE2QixBQUM3QjtTQUFBLEFBQUsseUJBQUwsQUFBOEIsQUFDOUI7U0FBQSxBQUFLLGNBQUwsQUFBbUIsQUFDbkI7U0FBQSxBQUFLLG1CQUFMLEFBQXdCLEFBQ3hCO1NBQUEsQUFBSyx1QkFBTCxBQUE0QixBQUM1QjtTQUFBLEFBQUssZUFBTCxBQUFvQixBQUNwQjtTQUFBLEFBQUssZ0JBQUwsQUFBcUIsQUFDckI7U0FBQSxBQUFLLGdCQUFMLEFBQXFCLEFBQ3JCO1NBQUEsQUFBSyxlQUFMLEFBQW9CLEFBQ3BCO1NBQUEsQUFBSyxtQkFBTCxBQUF3QixBQUN4QjtTQUFBLEFBQUssdUJBQUwsQUFBNEIsQUFDNUI7U0FBQSxBQUFLLGdCQUFMLEFBQXFCLEFBRXJCOztBQUNBO1NBQUEsQUFBSyxXQUFMLEFBQWdCLEFBQ2hCO1NBQUEsQUFBSyxhQUFMLEFBQWtCLEFBQ2xCO1NBQUEsQUFBSyxjQUFMLEFBQW1CLEFBQ25CO1NBQUEsQUFBSyw2QkFBTCxBQUFrQyxBQUNsQztTQUFBLEFBQUssOEJBQUwsQUFBbUMsQUFDbkM7U0FBQSxBQUFLLHdCQUFMLEFBQTZCLEFBQzdCO1NBQUEsQUFBSyxnQkFBTCxBQUFxQixBQUVyQjs7QUFDQTtTQUFBLEFBQUssTUFBTCxBQUFXLEFBRVg7O0FBQ0E7U0FBQSxBQUFLLG9CQUFMLEFBQXlCLEFBRXpCOztBQUNBO1NBQUEsQUFBSyxzQkFBTCxBQUEyQixBQUMzQjtTQUFBLEFBQUssNEJBQUwsQUFBaUMsQUFFakM7O0FBQ0E7U0FBQSxBQUFLLFdBQUwsQUFBZ0IsQUFDbkI7QTs7QUFHTCxJQUFJLGFBQWEsSUFBakIsQUFBaUIsQUFBSTtrQixBQUNOOzs7Ozs7Ozs7QUN6QmY7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7OztBQUVBOzs7QUFHQSxTQUFBLEFBQVMsUUFBUSxBQUViOztRQUFJLFVBQVUsS0FBZCxBQUFtQixBQUNuQjtRQUFJLFdBQVcsd0JBQUEsQUFBUyxTQUF4QixBQUFlLEFBQWtCLEFBRWpDOztRQUFJLGdCQUFKO1FBQ0ksMkJBREo7UUFFSSx3QkFGSjtRQUdJLHNCQUhKO1FBSUksaUJBSkosQUFNQTs7YUFBQSxBQUFTLFFBQVEsQUFDYjs4QkFBQSxBQUFzQixBQUN0QjsyQkFBQSxBQUFtQixBQUNuQjt5QkFBQSxBQUFpQixBQUNqQjtvQkFBWSxJQUFBLEFBQUksT0FBaEIsQUFBWSxBQUFXLEFBQzFCO0FBRUQ7O0FBT0E7Ozs7Ozs7YUFBQSxBQUFTLHVCQUFULEFBQWdDLE9BQU8sQUFDbkM7MkJBQUEsQUFBbUIsQUFDdEI7QUFDRDtBQU9BOzs7Ozs7O2FBQUEsQUFBUyxxQkFBVCxBQUE4QixPQUFPLEFBQ2pDO3lCQUFBLEFBQWlCLEFBQ3BCO0FBQ0Q7QUFPQTs7Ozs7OzthQUFBLEFBQVMsdUJBQVQsQUFBZ0MsT0FBTyxBQUNuQzs4QkFBQSxBQUFzQixBQUN6QjtBQUNEO0FBTUE7Ozs7OzthQUFBLEFBQVMseUJBQXlCLEFBQzlCO2VBQUEsQUFBTyxBQUNWO0FBQ0Q7QUFNQTs7Ozs7O2FBQUEsQUFBUyxNQUFNLEFBRVg7O1lBQUksVUFBSixBQUFjLEFBQ2Q7WUFBSSxVQUFKLEFBQWMsQUFFZDs7WUFBQSxBQUFJLGtCQUFrQixBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO3NCQUFVLElBQVYsQUFBVSxBQUFJLEFBQ2Q7dUJBQVcsTUFBTSxDQUFDLE9BQU8sUUFBQSxBQUFRLGFBQWhCLEFBQUMsQUFBNEIsSUFBN0IsQUFBaUMsTUFBTSxDQUE3QyxBQUFNLEFBQXdDLEtBQTlDLEFBQW1ELE1BQzFELENBQUMsTUFBTSxRQUFQLEFBQU8sQUFBUSxXQUFmLEFBQTBCLE1BQU0sQ0FEekIsQUFDUCxBQUFpQyxLQUQxQixBQUMrQixNQUN0QyxDQUFDLE1BQU0sUUFBUCxBQUFPLEFBQVEsWUFBZixBQUEyQixNQUFNLENBRjFCLEFBRVAsQUFBa0MsS0FGM0IsQUFFZ0MsTUFDdkMsQ0FBQyxNQUFNLFFBQVAsQUFBTyxBQUFRLGNBQWYsQUFBNkIsTUFBTSxDQUg1QixBQUdQLEFBQW9DLEtBSDdCLEFBR2tDLE1BQ3pDLENBQUMsTUFBTSxRQUFQLEFBQU8sQUFBUSxjQUFmLEFBQTZCLE1BQU0sQ0FKNUIsQUFJUCxBQUFvQyxLQUo3QixBQUlrQyxNQUN6QyxDQUFDLE1BQU0sUUFBUCxBQUFPLEFBQVEsbUJBQWYsQUFBa0MsTUFBTSxDQUxqQyxBQUtQLEFBQXlDLEtBTDdDLEFBS2tELEFBQ3JEO0FBRUQ7O1lBQUksa0JBQUEsQUFBa0IsUUFBUSxLQUE5QixBQUFtQyxjQUFjLEFBQzdDO3VCQUFXLE1BQU0sS0FBTixBQUFNLEFBQUssaUJBQXRCLEFBQXVDLEFBQ3ZDO2dCQUFJLEtBQUosQUFBUyxTQUFTLEFBQ2Q7MkJBQVcsTUFBTSxLQUFOLEFBQU0sQUFBSyxZQUF0QixBQUFrQyxBQUNyQztBQUNKO0FBRUQ7O1lBQUksUUFBQSxBQUFRLFNBQVosQUFBcUIsR0FBRyxBQUNwQjt1QkFBQSxBQUFXLEFBQ2Q7QUFFRDs7Y0FBQSxBQUFNLE1BQU4sQUFBWSxNQUFaLEFBQWtCLFdBQWxCLEFBQTZCLFFBQVEsVUFBQSxBQUFVLE1BQU0sQUFDakQ7dUJBQVcsT0FBWCxBQUFrQixBQUNyQjtBQUZELEFBSUE7O1lBQUEsQUFBSSxxQkFBcUIsQUFDckI7b0JBQUEsQUFBUSxJQUFSLEFBQVksQUFDZjtBQUVEOztpQkFBQSxBQUFTLFFBQVEscUJBQWpCLEFBQXdCLEtBQUssRUFBQyxTQUE5QixBQUE2QixBQUFVLEFBQzFDO0FBRUQ7OzthQUFXLEFBQ0YsQUFDTDtnQ0FGTyxBQUVpQixBQUN4Qjs4QkFITyxBQUdlLEFBQ3RCO2dDQUpPLEFBSWlCLEFBQ3hCO2dDQUxKLEFBQVcsQUFLaUIsQUFHNUI7QUFSVyxBQUNQOztBQVNKOztXQUFBLEFBQU8sQUFDVjtBLEVBeEpEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBMEpBLE1BQUEsQUFBTSwwQkFBTixBQUFnQztrQkFDakIsdUJBQUEsQUFBYSxvQixBQUFiLEFBQWlDOzs7Ozs7Ozs7QUM3SGhEOzs7Ozs7OztBQUVBLElBQU0scUIsQUFBTixBQUEyQixHQWhDM0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQ0EsSUFBTSxzQkFBTixBQUE0Qjs7QUFFNUIsU0FBQSxBQUFTLFdBQVcsQUFFaEI7O1FBQUksV0FBSixBQUFlLEFBRWY7O2FBQUEsQUFBUyxHQUFULEFBQVksUUFBWixBQUFvQixVQUFwQixBQUE4QixPQUFzQztZQUEvQixBQUErQiwrRUFBcEIsQUFBb0IsQUFFaEU7O1lBQUksQ0FBSixBQUFLLFFBQVEsQUFDVDtrQkFBTSxJQUFBLEFBQUksTUFBVixBQUFNLEFBQVUsQUFDbkI7QUFDRDtZQUFJLENBQUEsQUFBQyxZQUFZLE9BQUEsQUFBUSxhQUF6QixBQUF1QyxZQUFZLEFBQy9DO2tCQUFNLElBQUEsQUFBSSxNQUFNLGtDQUFoQixBQUFNLEFBQTRDLEFBQ3JEO0FBRUQ7O1lBQUksY0FBQSxBQUFjLFFBQWQsQUFBc0IsVUFBdEIsQUFBZ0MsVUFBcEMsQUFBOEMsR0FBRyxBQUVqRDs7aUJBQUEsQUFBUyxVQUFVLFNBQUEsQUFBUyxXQUE1QixBQUF1QyxBQUV2Qzs7WUFBTTtzQkFBVSxBQUNGLEFBQ1Y7bUJBRlksQUFFTCxBQUNQO3NCQUhKLEFBQWdCLEFBR0YsQUFHZDtBQU5nQixBQUNaOztZQUtFLG9CQUFXLEFBQVMsUUFBVCxBQUFpQixLQUFLLFVBQUEsQUFBQyxNQUFELEFBQVEsS0FBUSxBQUNuRDtnQkFBSSxXQUFXLEtBQWYsQUFBb0IsVUFBVyxBQUMzQjt5QkFBQSxBQUFTLFFBQVQsQUFBaUIsT0FBakIsQUFBd0IsS0FBeEIsQUFBNkIsR0FBN0IsQUFBZ0MsQUFDaEM7dUJBQUEsQUFBTyxBQUNWO0FBQ0o7QUFMRCxBQUFpQixBQU9qQixTQVBpQjs7WUFPYixDQUFKLEFBQUssVUFBVSxBQUNYO3FCQUFBLEFBQVMsUUFBVCxBQUFpQixLQUFqQixBQUFzQixBQUN6QjtBQUNKO0FBRUQ7O2FBQUEsQUFBUyxJQUFULEFBQWEsUUFBYixBQUFxQixVQUFyQixBQUErQixPQUFPLEFBQ2xDO1lBQUksQ0FBQSxBQUFDLFVBQVUsQ0FBWCxBQUFZLFlBQVksQ0FBQyxTQUE3QixBQUE2QixBQUFTLFNBQVMsQUFDL0M7WUFBTSxNQUFNLGNBQUEsQUFBYyxRQUFkLEFBQXNCLFVBQWxDLEFBQVksQUFBZ0MsQUFDNUM7WUFBSSxNQUFKLEFBQVUsR0FBRyxBQUNiO2lCQUFBLEFBQVMsUUFBVCxBQUFpQixPQUFqQixBQUF3QixLQUF4QixBQUE2QixBQUNoQztBQUVEOzthQUFBLEFBQVMsUUFBVCxBQUFpQixRQUFqQixBQUF5QixTQUFTLEFBQzlCO1lBQUksQ0FBQSxBQUFDLFVBQVUsQ0FBQyxTQUFoQixBQUFnQixBQUFTLFNBQVMsQUFFbEM7O2tCQUFVLFdBQVYsQUFBcUIsQUFFckI7O1lBQUksUUFBQSxBQUFRLGVBQVosQUFBSSxBQUF1QixXQUFXLE1BQU0sSUFBQSxBQUFJLE1BQVYsQUFBTSxBQUFVLEFBRXREOztnQkFBQSxBQUFRLFNBQVIsQUFBaUIsQUFFakI7O2lCQUFBLEFBQVMsUUFBVCxBQUFpQixRQUFTLG1CQUFBO21CQUFXLFFBQUEsQUFBUSxTQUFSLEFBQWlCLEtBQUssUUFBdEIsQUFBOEIsT0FBekMsQUFBVyxBQUFxQztBQUExRSxBQUNIO0FBRUQ7O2FBQUEsQUFBUyxjQUFULEFBQXVCLFFBQXZCLEFBQStCLFVBQS9CLEFBQXlDLE9BQU8sQUFFNUM7O1lBQUksTUFBTSxDQUFWLEFBQVcsQUFFWDs7WUFBSSxDQUFDLFNBQUwsQUFBSyxBQUFTLFNBQVMsT0FBQSxBQUFPLEFBRTlCOztpQkFBQSxBQUFTLFFBQVQsQUFBaUIsS0FBTSxVQUFBLEFBQUMsTUFBRCxBQUFPLE9BQVUsQUFDcEM7Z0JBQUksS0FBQSxBQUFLLGFBQUwsQUFBa0IsYUFBYSxDQUFBLEFBQUMsU0FBUyxVQUFVLEtBQXZELEFBQUksQUFBd0QsUUFBUSxBQUNoRTtzQkFBQSxBQUFNLEFBQ047dUJBQUEsQUFBTyxBQUNWO0FBQ0o7QUFMRCxBQU1BO2VBQUEsQUFBTyxBQUNWO0FBRUQ7O2FBQUEsQUFBUyxRQUFRLEFBQ2I7bUJBQUEsQUFBVyxBQUNkO0FBRUQ7O1FBQU07WUFBVyxBQUNULEFBQ0o7YUFGYSxBQUVSLEFBQ0w7aUJBSGEsQUFHSixBQUNUO2VBSkosQUFBaUIsQUFJTixBQUdYO0FBUGlCLEFBQ2I7O1dBTUosQUFBTyxBQUNWOzs7QUFFRCxTQUFBLEFBQVMsMEJBQVQsQUFBbUM7QUFDbkMsSUFBTSxVQUFVLHVCQUFBLEFBQWEsb0JBQTdCLEFBQWdCLEFBQWlDO0FBQ2pELFFBQUEsQUFBUSxxQkFBUixBQUE2QjtBQUM3QixRQUFBLEFBQVEsc0JBQVIsQUFBOEI7a0IsQUFDZjs7Ozs7Ozs7QUMxSGY7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQThCQTs7O0FBR0EsSUFBSSwyQkFBNEIsQUFFNUI7O1FBQUksZ0JBQUosQUFDQTtRQUFJLGFBQUosQUFBaUIsQUFDakI7UUFBSSxvQkFBSixBQUF3QixBQUV4Qjs7YUFBQSxBQUFTLE9BQVQsQUFBZ0IsTUFBaEIsQUFBc0IsZUFBdEIsQUFBcUMsVUFBckMsQUFBK0MsU0FBUyxBQUNwRDtZQUFJLG1CQUFtQixvQkFBdkIsQUFBdUIsQUFBb0IsQUFDM0M7WUFBSSxDQUFDLGlCQUFELEFBQUMsQUFBaUIsU0FBdEIsQUFBK0IsZUFBZSxBQUMxQzs2QkFBQSxBQUFpQixRQUFRLEVBQUMsVUFBRCxBQUFXLGVBQWUsVUFBbkQsQUFBeUIsQUFBb0MsQUFDaEU7QUFDSjtBQUVEOztBQVlBOzs7Ozs7Ozs7Ozs7YUFBQSxBQUFTLHFCQUFULEFBQThCLFNBQTlCLEFBQXVDLFdBQVcsQUFDOUM7YUFBSyxJQUFMLEFBQVMsS0FBVCxBQUFjLG1CQUFtQixBQUM3QjtnQkFBSSxNQUFNLGtCQUFWLEFBQVUsQUFBa0IsQUFDNUI7Z0JBQUksSUFBQSxBQUFJLFlBQUosQUFBZ0IsV0FBVyxJQUFBLEFBQUksU0FBbkMsQUFBNEMsV0FBVyxBQUNuRDt1QkFBTyxJQUFQLEFBQVcsQUFDZDtBQUNKO0FBQ0Q7ZUFBQSxBQUFPLEFBQ1Y7QUFFRDs7QUFTQTs7Ozs7Ozs7O2FBQUEsQUFBUyxxQkFBVCxBQUE4QixTQUE5QixBQUF1QyxXQUF2QyxBQUFrRCxVQUFVLEFBQ3hEO2FBQUssSUFBTCxBQUFTLEtBQVQsQUFBYyxtQkFBbUIsQUFDN0I7Z0JBQUksTUFBTSxrQkFBVixBQUFVLEFBQWtCLEFBQzVCO2dCQUFJLElBQUEsQUFBSSxZQUFKLEFBQWdCLFdBQVcsSUFBQSxBQUFJLFNBQW5DLEFBQTRDLFdBQVcsQUFDbkQ7a0NBQUEsQUFBa0IsR0FBbEIsQUFBcUIsV0FBckIsQUFBZ0MsQUFDaEM7QUFDSDtBQUNKO0FBQ0Q7MEJBQUEsQUFBa0IsS0FBSyxFQUFFLE1BQUYsQUFBUSxXQUFXLFNBQW5CLEFBQTRCLFNBQVMsVUFBNUQsQUFBdUIsQUFBK0MsQUFDekU7QUFFRDs7YUFBQSxBQUFTLGdCQUFULEFBQXlCLGtCQUFrQixBQUN2QztlQUFPLFVBQUEsQUFBVSxTQUFTLEFBQ3RCO2dCQUFJLFlBQUosQUFBZ0IsV0FBVyxBQUN2QjswQkFBQSxBQUFVLEFBQ2I7QUFFRDs7O3dCQUNZLGtCQUFZLEFBQ2hCOzJCQUFPLE1BQU0saUJBQU4sQUFBdUIseUJBQXlCLGlCQUFBLEFBQWlCLE1BQU0sRUFBRSxTQUF6QixBQUF1QixBQUFXLFdBQWxGLEFBQWdELEFBQTZDLFlBQTdGLEFBQXlHLFNBQWhILEFBQU8sQUFBa0gsQUFDNUg7QUFITCxBQUFPLEFBS1Y7QUFMVSxBQUNIO0FBTlIsQUFXSDtBQUVEOzthQUFBLEFBQVMsb0JBQVQsQUFBNkIsa0JBQWtCLEFBQzNDO2VBQU8sVUFBQSxBQUFVLFNBQVMsQUFDdEI7Z0JBQUksZ0JBQUosQUFDQTtnQkFBSSxZQUFKLEFBQWdCLFdBQVcsQUFDdkI7MEJBQUEsQUFBVSxBQUNiO0FBQ0Q7OzZCQUNpQix1QkFBWSxBQUNyQjtBQUNBO3dCQUFJLENBQUosQUFBSyxVQUFVLEFBQ1g7bUNBQVcscUJBQUEsQUFBcUIsU0FBUyxpQkFBekMsQUFBVyxBQUErQyxBQUM3RDtBQUNEO0FBQ0E7d0JBQUksQ0FBSixBQUFLLFVBQVUsQUFDWDttQ0FBVyxNQUFNLGlCQUFOLEFBQXVCLHlCQUF5QixpQkFBQSxBQUFpQixNQUFNLEVBQUUsU0FBekIsQUFBdUIsQUFBVyxXQUFsRixBQUFnRCxBQUE2QyxZQUE3RixBQUF5RyxTQUFwSCxBQUFXLEFBQWtILEFBQzdIOzBDQUFBLEFBQWtCLEtBQUssRUFBRSxNQUFNLGlCQUFSLEFBQXlCLHlCQUF5QixTQUFsRCxBQUEyRCxTQUFTLFVBQTNGLEFBQXVCLEFBQThFLEFBQ3hHO0FBQ0Q7MkJBQUEsQUFBTyxBQUNWO0FBWkwsQUFBTyxBQWNWO0FBZFUsQUFDSDtBQU5SLEFBb0JIO0FBRUQ7O2FBQUEsQUFBUyxNQUFULEFBQWUsTUFBZixBQUFxQixrQkFBckIsQUFBdUMsU0FBdkMsQUFBZ0QsTUFBTSxBQUNsRDtZQUFJLG1CQUFtQixvQkFBdkIsQUFBdUIsQUFBb0IsQUFDM0M7WUFBSSxrQkFBa0IsaUJBQXRCLEFBQXNCLEFBQWlCLEFBQ3ZDO1lBQUEsQUFBSSxpQkFBaUIsQUFDakI7Z0JBQUksWUFBWSxnQkFBaEIsQUFBZ0MsQUFDaEM7Z0JBQUksZ0JBQUosQUFBb0IsVUFBVSxBQUFFO0FBQzVCOzRCQUFZLFVBQUEsQUFBVSxNQUFNLEVBQUUsU0FBRixBQUFXLFNBQVMsU0FBcEIsQUFBNkIsVUFBVSxRQUF2RCxBQUFnQixBQUErQyxvQkFBM0UsQUFBWSxBQUFrRixBQUM5RjtxQkFBSyxJQUFMLEFBQVcsUUFBWCxBQUFtQixXQUFXLEFBQzFCO3dCQUFJLGlCQUFBLEFBQWlCLGVBQXJCLEFBQUksQUFBZ0MsT0FBTyxBQUN2Qzt5Q0FBQSxBQUFpQixRQUFRLFVBQXpCLEFBQXlCLEFBQVUsQUFDdEM7QUFDSjtBQUNKO0FBUEQsbUJBT08sQUFBRTtBQUNMO3VCQUFPLFVBQUEsQUFBVSxNQUFNLEVBQUUsU0FBRixBQUFXLFNBQVMsU0FBcEMsQUFBZ0IsQUFBNkIsWUFBcEQsQUFBTyxBQUF3RCxBQUNsRTtBQUNKO0FBQ0Q7ZUFBQSxBQUFPLEFBQ1Y7QUFFRDs7YUFBQSxBQUFTLG9CQUFULEFBQTZCLFNBQVMsQUFDbEM7WUFBSSx3QkFBSixBQUNBO21CQUFBLEFBQVcsUUFBUSxVQUFBLEFBQVUsS0FBSyxBQUM5QjtnQkFBSSxRQUFKLEFBQVksU0FBUyxBQUNqQjttQ0FBQSxBQUFtQixBQUN0QjtBQUNKO0FBSkQsQUFLQTtZQUFJLENBQUosQUFBSyxrQkFBa0IsQUFDbkI7K0JBQW1CLFdBQUEsQUFBVyxLQUE5QixBQUFtQixBQUFnQixBQUN0QztBQUNEO2VBQUEsQUFBTyxBQUNWO0FBRUQ7OztnQkFBVyxBQUNDLEFBQ1I7OEJBRk8sQUFFZSxBQUN0Qjs4QkFITyxBQUdlLEFBQ3RCOzZCQUpPLEFBSWMsQUFDckI7eUJBTEosQUFBVyxBQUtVLEFBR3JCO0FBUlcsQUFDUDs7V0FPSixBQUFPLEFBRVY7QUF0SUQsQUFBb0IsQ0FBQTs7a0IsQUF3SUw7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SSxBQ3pLTSx3QkFDbkI7cUJBQUEsQUFBWSxRQUFaLEFBQW1CLElBQUk7MEJBQ3JCOztTQUFBLEFBQUssU0FBTCxBQUFjLEFBQ2Q7U0FBQSxBQUFLLFFBQUwsQUFBYSxBQUNkOzs7Ozs0QixBQUVPLE0sQUFBTSxLQUFLLEFBQ2pCO2FBQU8sS0FBQSxBQUFLLE9BQUwsQUFBWSxRQUFRLEVBQUMsTUFBRCxBQUFPLFdBQVcsSUFBSSxLQUExQyxBQUFvQixBQUEyQixTQUEvQyxBQUF1RCxLQUE5RCxBQUFPLEFBQTRELEFBQ3BFOzs7Ozs7O2tCLEFBUmtCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0ksQUNBZiwyQkFDSjswQkFBYzswQkFDWjs7QUFDQTtTQUFBLEFBQUssT0FBTyxDQUFBLEFBQUMsS0FBRCxBQUFNLEtBQU4sQUFBVyxLQUFYLEFBQWdCLEtBQWhCLEFBQXFCLEtBQXJCLEFBQTBCLE1BQTFCLEFBQWdDLE1BQWhDLEFBQXNDLE1BQXRDLEFBQTRDLE1BQTVDLEFBQWtELE1BQTlELEFBQVksQUFBd0QsQUFFcEU7O1NBQUEsQUFBSyxTQUFMLEFBQWMsQUFDZDtTQUFBLEFBQUssT0FBTCxBQUFZLEtBQUssSUFBQSxBQUFJLFlBQXJCLEFBQWlCLEFBQWdCLEFBQ2pDO1NBQUEsQUFBSyxPQUFMLEFBQVksS0FBSyxJQUFBLEFBQUksWUFBckIsQUFBaUIsQUFBZ0IsQUFDakM7U0FBQSxBQUFLLE9BQUwsQUFBWSxLQUFLLElBQUEsQUFBSSxZQUFyQixBQUFpQixBQUFnQixBQUNqQztTQUFBLEFBQUssT0FBTCxBQUFZLEtBQUssSUFBQSxBQUFJLFlBQXJCLEFBQWlCLEFBQWdCLEFBRWpDOztTQUFBLEFBQUssWUFBTCxBQUFpQixBQUNqQjtTQUFBLEFBQUssVUFBTCxBQUFlLEtBQUssSUFBQSxBQUFJLFlBQXhCLEFBQW9CLEFBQWdCLEFBQ3BDO1NBQUEsQUFBSyxVQUFMLEFBQWUsS0FBSyxJQUFBLEFBQUksWUFBeEIsQUFBb0IsQUFBZ0IsQUFDcEM7U0FBQSxBQUFLLFVBQUwsQUFBZSxLQUFLLElBQUEsQUFBSSxZQUF4QixBQUFvQixBQUFnQixBQUNwQztTQUFBLEFBQUssVUFBTCxBQUFlLEtBQUssSUFBQSxBQUFJLFlBQXhCLEFBQW9CLEFBQWdCLEFBRXBDOztTQUFBLEFBQUssT0FBTyxJQUFBLEFBQUksWUFBaEIsQUFBWSxBQUFnQixBQUM1QjtTQUFBLEFBQUssVUFBVSxJQUFBLEFBQUksWUFBbkIsQUFBZSxBQUFnQixBQUUvQjs7QUFDQTtTQUFBLEFBQUssTUFBTSxJQUFBLEFBQUksWUFBZixBQUFXLEFBQWdCLEFBRTNCOztTQUFBLEFBQUssQUFDTjtBQUVEOzs7Ozs7OzZDLEFBQ3lCLGFBQWEsQUFDcEM7VUFBSSxPQUFPLElBQUEsQUFBSSxTQUFmLEFBQVcsQUFBYSxBQUN4QjtVQUFJLFdBQVcsSUFBQSxBQUFJLFlBQW5CLEFBQWUsQUFBZ0IsQUFDL0I7V0FBSyxJQUFJLElBQVQsQUFBYSxHQUFHLElBQUksU0FBcEIsQUFBNkIsUUFBN0IsQUFBcUMsS0FBSyxBQUN4QztpQkFBQSxBQUFTLEtBQUssS0FBQSxBQUFLLFVBQVUsSUFBN0IsQUFBYyxBQUFtQixBQUNsQztBQUNEO2FBQUEsQUFBTyxBQUNSOzs7O2dDQUVXLEFBQ1Y7VUFBSSxPQUFPLEtBQVgsQUFBZ0IsQUFDaEI7VUFBSSxVQUFVLEtBQWQsQUFBbUIsQUFDbkI7VUFBSSxVQUFVLEtBQUEsQUFBSyxPQUFuQixBQUFjLEFBQVksQUFDMUI7VUFBSSxVQUFVLEtBQUEsQUFBSyxPQUFuQixBQUFjLEFBQVksQUFDMUI7VUFBSSxVQUFVLEtBQUEsQUFBSyxPQUFuQixBQUFjLEFBQVksQUFDMUI7VUFBSSxVQUFVLEtBQUEsQUFBSyxPQUFuQixBQUFjLEFBQVksQUFDMUI7VUFBSSxhQUFhLEtBQUEsQUFBSyxVQUF0QixBQUFpQixBQUFlLEFBQ2hDO1VBQUksYUFBYSxLQUFBLEFBQUssVUFBdEIsQUFBaUIsQUFBZSxBQUNoQztVQUFJLGFBQWEsS0FBQSxBQUFLLFVBQXRCLEFBQWlCLEFBQWUsQUFDaEM7VUFBSSxhQUFhLEtBQUEsQUFBSyxVQUF0QixBQUFpQixBQUFlLEFBRWhDOztVQUFJLElBQUksSUFBQSxBQUFJLFlBQVosQUFBUSxBQUFnQixBQUN4QjtVQUFJLElBQUosQUFBUSxBQUNSO1VBQUksS0FBSixBQUFTLEFBQ1Q7VUFBSSxJQUFKLEFBQVEsQUFDUjtXQUFLLElBQUwsQUFBUyxHQUFHLElBQVosQUFBZ0IsS0FBaEIsQUFBcUIsS0FBSyxBQUN4QjtZQUFJLElBQUosQUFBUSxLQUFLLEFBQ1g7WUFBQSxBQUFFLEtBQUssS0FBUCxBQUFZLEFBQ2I7QUFGRCxlQUVPLEFBQ0w7WUFBQSxBQUFFLEtBQU0sS0FBRCxBQUFNLElBQWIsQUFBa0IsQUFDbkI7QUFDRjtBQUVEOztXQUFLLElBQUwsQUFBUyxHQUFHLElBQVosQUFBZ0IsS0FBaEIsQUFBcUIsS0FBSyxBQUN4QjtZQUFJLEtBQUssS0FBTSxNQUFOLEFBQVksSUFBTSxNQUFsQixBQUF3QixJQUFNLE1BQTlCLEFBQW9DLElBQU0sTUFBbkQsQUFBeUQsQUFDekQ7YUFBTSxPQUFELEFBQVEsSUFBTSxLQUFkLEFBQW1CLE9BQXhCLEFBQWdDLEFBQ2hDO2FBQUEsQUFBSyxLQUFMLEFBQVUsQUFDVjtnQkFBQSxBQUFRLE1BQVIsQUFBYyxBQUVkOztBQUNBO1lBQUksS0FBSyxFQUFULEFBQVMsQUFBRSxBQUNYO1lBQUksS0FBSyxFQUFULEFBQVMsQUFBRSxBQUNYO1lBQUksS0FBSyxFQUFULEFBQVMsQUFBRSxBQUVYOztBQUNBO1lBQUksSUFBSyxFQUFBLEFBQUUsTUFBSCxBQUFTLFFBQVUsS0FBM0IsQUFBZ0MsQUFDaEM7Z0JBQUEsQUFBUSxLQUFNLEtBQUQsQUFBTSxLQUFPLE1BQTFCLEFBQWdDLEFBQ2hDO2dCQUFBLEFBQVEsS0FBTSxLQUFELEFBQU0sS0FBTyxNQUExQixBQUFnQyxBQUNoQztnQkFBQSxBQUFRLEtBQU0sS0FBRCxBQUFNLElBQU0sTUFBekIsQUFBK0IsQUFDL0I7Z0JBQUEsQUFBUSxLQUFSLEFBQWEsQUFFYjs7QUFDQTtZQUFLLEtBQUQsQUFBTSxZQUFjLEtBQXBCLEFBQXlCLFVBQVksS0FBckMsQUFBMEMsUUFBVSxJQUF4RCxBQUE0RCxBQUM1RDttQkFBQSxBQUFXLE1BQU8sS0FBRCxBQUFNLEtBQU8sTUFBOUIsQUFBb0MsQUFDcEM7bUJBQUEsQUFBVyxNQUFPLEtBQUQsQUFBTSxLQUFPLE1BQTlCLEFBQW9DLEFBQ3BDO21CQUFBLEFBQVcsTUFBTyxLQUFELEFBQU0sSUFBTSxNQUE3QixBQUFtQyxBQUNuQzttQkFBQSxBQUFXLE1BQVgsQUFBaUIsQUFFakI7O0FBQ0E7WUFBSSxDQUFKLEFBQUssR0FBRyxBQUNOO2NBQUksS0FBSixBQUFTLEFBQ1Y7QUFGRCxlQUVPLEFBQ0w7Y0FBSSxLQUFLLEVBQUUsRUFBRSxFQUFFLEtBQWYsQUFBUyxBQUFFLEFBQUUsQUFBTyxBQUNwQjtnQkFBTSxFQUFFLEVBQVIsQUFBTSxBQUFFLEFBQUUsQUFDWDtBQUNGO0FBQ0Y7Ozs7OEIsQUFFUyxXQUFXLEFBQ25CO0FBQ0E7VUFBSSxNQUFNLEtBQUEsQUFBSyx5QkFBZixBQUFVLEFBQThCLEFBQ3hDO1VBQUksVUFBSixBQUFjLEFBQ2Q7VUFBSSxTQUFKLEFBQWEsQUFFYjs7YUFBTyxTQUFTLElBQVQsQUFBYSxVQUFwQixBQUE4QixTQUFTLEFBQ3JDO2tCQUFXLElBQUEsQUFBSSxZQUFZLEtBQUEsQUFBSyxJQUFoQyxBQUEyQixBQUFTLEFBQ3BDO0FBQ0Q7QUFFRDs7VUFBQSxBQUFJLFNBQVMsQUFDWDtBQUNEO0FBRUQ7O1dBQUEsQUFBSyxNQUFMLEFBQVcsQUFDWDtVQUFJLFVBQVUsS0FBQSxBQUFLLFVBQVUsSUFBN0IsQUFBaUMsQUFFakM7O1VBQUksWUFBQSxBQUFZLEtBQUssWUFBakIsQUFBNkIsS0FBSyxZQUF0QyxBQUFrRCxHQUFHLEFBQ25EO2NBQU0sSUFBQSxBQUFJLE1BQU0sMEJBQWhCLEFBQU0sQUFBb0MsQUFDM0M7QUFFRDs7VUFBSSxTQUFTLEtBQUEsQUFBSyxTQUFTLENBQUMsVUFBQSxBQUFVLElBQVgsQUFBZSxLQUExQyxBQUErQyxBQUMvQztVQUFJLGFBQUosQUFDQTtVQUFJLGdCQUFKLEFBRUE7O1VBQUksY0FBYyxLQUFBLEFBQUssY0FBYyxJQUFBLEFBQUksWUFBWSxLQUFyRCxBQUFxQyxBQUFxQixBQUMxRDtVQUFJLGlCQUFpQixLQUFBLEFBQUssaUJBQWlCLElBQUEsQUFBSSxZQUFZLEtBQTNELEFBQTJDLEFBQXFCLEFBQ2hFO1VBQUksT0FBTyxLQUFYLEFBQWdCLEFBQ2hCO1VBQUksT0FBTyxLQUFYLEFBQWdCLEFBRWhCOztVQUFJLGFBQWEsS0FBQSxBQUFLLFVBQXRCLEFBQWlCLEFBQWUsQUFDaEM7VUFBSSxhQUFhLEtBQUEsQUFBSyxVQUF0QixBQUFpQixBQUFlLEFBQ2hDO1VBQUksYUFBYSxLQUFBLEFBQUssVUFBdEIsQUFBaUIsQUFBZSxBQUNoQztVQUFJLGFBQWEsS0FBQSxBQUFLLFVBQXRCLEFBQWlCLEFBQWUsQUFFaEM7O1VBQUksWUFBSixBQUNBO1VBQUksU0FBSixBQUVBOztXQUFLLFFBQUwsQUFBYSxHQUFHLFFBQWhCLEFBQXdCLFFBQXhCLEFBQWdDLFNBQVMsQUFDdkM7WUFBSSxRQUFKLEFBQVksU0FBUyxBQUNuQjtpQkFBTyxZQUFBLEFBQVksU0FBUyxJQUE1QixBQUE0QixBQUFJLEFBQ2hDO0FBQ0Q7QUFDRDtZQUFBLEFBQUksQUFFSjs7WUFBSSxRQUFBLEFBQVEsWUFBWixBQUF3QixHQUFHLEFBQ3pCO0FBQ0E7Y0FBSyxLQUFELEFBQU0sSUFBTSxNQUFoQixBQUFzQixBQUV0Qjs7QUFDQTtjQUFLLEtBQUssTUFBTCxBQUFXLE9BQVosQUFBbUIsS0FBTyxLQUFNLE1BQUQsQUFBTyxLQUFaLEFBQWtCLFNBQTVDLEFBQXFELEtBQU8sS0FBTSxNQUFELEFBQU8sSUFBWixBQUFpQixTQUE3RSxBQUFzRixJQUFLLEtBQUssSUFBcEcsQUFBK0YsQUFBUyxBQUV4Rzs7QUFDQTtlQUFLLEtBQU0sUUFBRCxBQUFTLFVBQWQsQUFBeUIsTUFBOUIsQUFBb0MsQUFDckM7QUFURCxlQVNPLElBQUksVUFBQSxBQUFVLEtBQUssUUFBQSxBQUFRLFlBQTNCLEFBQXVDLEdBQUksQUFDaEQ7QUFDQTtjQUFLLEtBQUssTUFBTCxBQUFXLE9BQVosQUFBbUIsS0FBTyxLQUFNLE1BQUQsQUFBTyxLQUFaLEFBQWtCLFNBQTVDLEFBQXFELEtBQU8sS0FBTSxNQUFELEFBQU8sSUFBWixBQUFpQixTQUE3RSxBQUFzRixJQUFLLEtBQUssSUFBcEcsQUFBK0YsQUFBUyxBQUN6RztBQUVEOztvQkFBQSxBQUFZLFNBQVMsT0FBTyxDQUFDLFlBQVksUUFBWixBQUFvQixXQUFyQixBQUFnQyxPQUE1RCxBQUFtRSxBQUNwRTtBQUVEOztXQUFLLFdBQUwsQUFBZ0IsR0FBRyxXQUFuQixBQUE4QixRQUE5QixBQUFzQyxZQUFZLEFBQ2hEO2dCQUFRLFNBQVIsQUFBaUIsQUFDakI7WUFBSSxXQUFKLEFBQWUsR0FBRyxBQUNoQjtjQUFJLFlBQUosQUFBSSxBQUFZLEFBQ2pCO0FBRkQsZUFFTyxBQUNMO2NBQUksWUFBWSxRQUFoQixBQUFJLEFBQW9CLEFBQ3pCO0FBRUQ7O1lBQUksV0FBQSxBQUFXLEtBQUssU0FBcEIsQUFBNkIsR0FBRyxBQUM5Qjt5QkFBQSxBQUFlLFlBQWYsQUFBMkIsQUFDNUI7QUFGRCxlQUVPLEFBQ0w7eUJBQUEsQUFBZSxZQUFZLFdBQVcsS0FBSyxNQUFoQixBQUFXLEFBQVcsT0FBTyxXQUFXLEtBQU0sTUFBRCxBQUFPLEtBQXBELEFBQTZCLEFBQVcsQUFBa0IsU0FBUyxXQUFXLEtBQU0sTUFBRCxBQUFPLElBQTFGLEFBQW1FLEFBQVcsQUFBaUIsU0FBUyxXQUFXLEtBQUssSUFBbkosQUFBbUksQUFBVyxBQUFTLEFBQ3hKO0FBRUQ7O3VCQUFBLEFBQWUsWUFBWSxlQUFBLEFBQWUsY0FBMUMsQUFBd0QsQUFDekQ7QUFDRjtBQUVEOzs7Ozs7MkMsQUFDdUIsTUFBTSxBQUMzQjthQUFRLFFBQUQsQUFBUyxLQUFPLENBQUMsT0FBRCxBQUFRLFdBQXhCLEFBQW1DLElBQU0sQ0FBQyxPQUFELEFBQVEsYUFBakQsQUFBOEQsSUFBTSxTQUEzRSxBQUFvRixBQUNyRjs7Ozs0QixBQUVPLGtCLEFBQWtCLFEsQUFBUSxPQUFPLEFBQ3ZDO1VBQUksVUFBVSxLQUFBLEFBQUssVUFBbkIsQUFBNkIsQUFDN0I7VUFBSSxpQkFBaUIsS0FBckIsQUFBMEIsQUFDMUI7VUFBSSxVQUFVLEtBQWQsQUFBbUIsQUFFbkI7O1VBQUksYUFBYSxLQUFBLEFBQUssVUFBdEIsQUFBaUIsQUFBZSxBQUNoQztVQUFJLGFBQWEsS0FBQSxBQUFLLFVBQXRCLEFBQWlCLEFBQWUsQUFDaEM7VUFBSSxhQUFhLEtBQUEsQUFBSyxVQUF0QixBQUFpQixBQUFlLEFBQ2hDO1VBQUksYUFBYSxLQUFBLEFBQUssVUFBdEIsQUFBaUIsQUFBZSxBQUVoQzs7VUFBSSxhQUFhLEtBQUEsQUFBSyx5QkFBdEIsQUFBaUIsQUFBOEIsQUFDL0M7VUFBSSxjQUFjLFdBQWxCLEFBQWtCLEFBQVcsQUFDN0I7VUFBSSxjQUFjLFdBQWxCLEFBQWtCLEFBQVcsQUFDN0I7VUFBSSxjQUFjLFdBQWxCLEFBQWtCLEFBQVcsQUFDN0I7VUFBSSxjQUFjLFdBQWxCLEFBQWtCLEFBQVcsQUFFN0I7O1VBQUksYUFBYSxJQUFBLEFBQUksV0FBckIsQUFBaUIsQUFBZSxBQUNoQztVQUFJLGNBQWMsSUFBQSxBQUFJLFdBQVcsV0FBakMsQUFBa0IsQUFBMEIsQUFFNUM7O1VBQUksVUFBSjtVQUFRLFVBQVI7VUFBWSxVQUFaO1VBQWdCLFVBQWhCLEFBQ0E7VUFBSSxVQUFKO1VBQVEsVUFBUjtVQUFZLFVBQVo7VUFBZ0IsVUFBaEIsQUFDQTtVQUFJLG1CQUFKO1VBQWlCLG1CQUFqQjtVQUE4QixtQkFBOUI7VUFBMkMsbUJBQTNDLEFBRUE7O1VBQUEsQUFBSSxPQUFKLEFBQVcsQUFFWDs7YUFBTyxTQUFTLFdBQWhCLEFBQTJCLFFBQVEsQUFDakM7c0JBQWMsS0FBQSxBQUFLLHVCQUF1QixXQUExQyxBQUFjLEFBQTRCLEFBQVcsQUFDckQ7c0JBQWMsS0FBQSxBQUFLLHVCQUF1QixXQUFXLFNBQXJELEFBQWMsQUFBNEIsQUFBb0IsQUFDOUQ7c0JBQWMsS0FBQSxBQUFLLHVCQUF1QixXQUFXLFNBQXJELEFBQWMsQUFBNEIsQUFBb0IsQUFDOUQ7c0JBQWMsS0FBQSxBQUFLLHVCQUF1QixXQUFXLFNBQXJELEFBQWMsQUFBNEIsQUFBb0IsQUFFOUQ7O2FBQUssY0FBYyxlQUFuQixBQUFtQixBQUFlLEFBQ2xDO2FBQUssY0FBYyxlQUFuQixBQUFtQixBQUFlLEFBQ2xDO2FBQUssY0FBYyxlQUFuQixBQUFtQixBQUFlLEFBQ2xDO2FBQUssY0FBYyxlQUFuQixBQUFtQixBQUFlLEFBRWxDOztnQkFBQSxBQUFRLEFBRVI7O0FBQ0E7YUFBSyxJQUFMLEFBQVMsR0FBRyxJQUFaLEFBQWdCLFNBQWhCLEFBQXlCLEtBQUssQUFDNUI7ZUFBSyxXQUFXLE9BQVgsQUFBa0IsTUFBTSxXQUFZLE1BQUQsQUFBTyxLQUExQyxBQUF3QixBQUF3QixRQUFRLFdBQVksTUFBRCxBQUFPLElBQTFFLEFBQXdELEFBQXVCLFFBQVEsV0FBVyxLQUFsRyxBQUF1RixBQUFnQixRQUFRLGVBQXBILEFBQW9ILEFBQWUsQUFDbkk7ZUFBSyxXQUFXLE9BQVgsQUFBa0IsTUFBTSxXQUFZLE1BQUQsQUFBTyxLQUExQyxBQUF3QixBQUF3QixRQUFRLFdBQVksTUFBRCxBQUFPLElBQTFFLEFBQXdELEFBQXVCLFFBQVEsV0FBVyxLQUFsRyxBQUF1RixBQUFnQixRQUFRLGVBQWUsUUFBbkksQUFBb0gsQUFBdUIsQUFDM0k7ZUFBSyxXQUFXLE9BQVgsQUFBa0IsTUFBTSxXQUFZLE1BQUQsQUFBTyxLQUExQyxBQUF3QixBQUF3QixRQUFRLFdBQVksTUFBRCxBQUFPLElBQTFFLEFBQXdELEFBQXVCLFFBQVEsV0FBVyxLQUFsRyxBQUF1RixBQUFnQixRQUFRLGVBQWUsUUFBbkksQUFBb0gsQUFBdUIsQUFDM0k7ZUFBSyxXQUFXLE9BQVgsQUFBa0IsTUFBTSxXQUFZLE1BQUQsQUFBTyxLQUExQyxBQUF3QixBQUF3QixRQUFRLFdBQVksTUFBRCxBQUFPLElBQTFFLEFBQXdELEFBQXVCLFFBQVEsV0FBVyxLQUFsRyxBQUF1RixBQUFnQixRQUFRLGVBQWUsUUFBbkksQUFBb0gsQUFBdUIsQUFDM0k7QUFDQTtlQUFBLEFBQUssQUFDTDtlQUFBLEFBQUssQUFDTDtlQUFBLEFBQUssQUFDTDtlQUFBLEFBQUssQUFFTDs7a0JBQVEsUUFBUixBQUFnQixBQUNqQjtBQUVEOztBQUNBO2FBQU8sUUFBUSxPQUFSLEFBQWUsT0FBaEIsQUFBdUIsS0FBTyxRQUFTLE1BQUQsQUFBTyxLQUFmLEFBQXFCLFNBQW5ELEFBQTRELEtBQU8sUUFBUyxNQUFELEFBQU8sSUFBZixBQUFvQixTQUF2RixBQUFnRyxJQUFLLFFBQVEsS0FBOUcsQUFBc0csQUFBYSxRQUFTLGVBQWpJLEFBQWlJLEFBQWUsQUFDaEo7YUFBTyxRQUFRLE9BQVIsQUFBZSxPQUFoQixBQUF1QixLQUFPLFFBQVMsTUFBRCxBQUFPLEtBQWYsQUFBcUIsU0FBbkQsQUFBNEQsS0FBTyxRQUFTLE1BQUQsQUFBTyxJQUFmLEFBQW9CLFNBQXZGLEFBQWdHLElBQUssUUFBUSxLQUE5RyxBQUFzRyxBQUFhLFFBQVMsZUFBZSxRQUFoSixBQUFpSSxBQUF1QixBQUN4SjthQUFPLFFBQVEsT0FBUixBQUFlLE9BQWhCLEFBQXVCLEtBQU8sUUFBUyxNQUFELEFBQU8sS0FBZixBQUFxQixTQUFuRCxBQUE0RCxLQUFPLFFBQVMsTUFBRCxBQUFPLElBQWYsQUFBb0IsU0FBdkYsQUFBZ0csSUFBSyxRQUFRLEtBQTlHLEFBQXNHLEFBQWEsUUFBUyxlQUFlLFFBQWhKLEFBQWlJLEFBQXVCLEFBQ3hKO2FBQU8sUUFBUSxPQUFSLEFBQWUsT0FBaEIsQUFBdUIsS0FBTyxRQUFTLE1BQUQsQUFBTyxLQUFmLEFBQXFCLFNBQW5ELEFBQTRELEtBQU8sUUFBUyxNQUFELEFBQU8sSUFBZixBQUFvQixTQUF2RixBQUFnRyxJQUFLLFFBQVEsS0FBOUcsQUFBc0csQUFBYSxRQUFTLGVBQWUsUUFBaEosQUFBaUksQUFBdUIsQUFDeEo7Z0JBQVEsUUFBUixBQUFnQixBQUVoQjs7QUFDQTtvQkFBQSxBQUFZLFVBQVUsS0FBQSxBQUFLLHVCQUF1QixLQUFsRCxBQUFzQixBQUFpQyxBQUN2RDtvQkFBWSxTQUFaLEFBQXFCLEtBQUssS0FBQSxBQUFLLHVCQUF1QixLQUF0RCxBQUEwQixBQUFpQyxBQUMzRDtvQkFBWSxTQUFaLEFBQXFCLEtBQUssS0FBQSxBQUFLLHVCQUF1QixLQUF0RCxBQUEwQixBQUFpQyxBQUMzRDtvQkFBWSxTQUFaLEFBQXFCLEtBQUssS0FBQSxBQUFLLHVCQUF1QixLQUF0RCxBQUEwQixBQUFpQyxBQUUzRDs7QUFDQTtzQkFBQSxBQUFjLEFBQ2Q7c0JBQUEsQUFBYyxBQUNkO3NCQUFBLEFBQWMsQUFDZDtzQkFBQSxBQUFjLEFBRWQ7O2lCQUFTLFNBQVQsQUFBa0IsQUFDbkI7QUFFRDs7YUFBTyxZQUFQLEFBQW1CLEFBQ3BCOzs7OzhCQUVTLEFBQ1I7V0FBQSxBQUFLLE1BQUwsQUFBVyxBQUNYO1dBQUEsQUFBSyxVQUFMLEFBQWUsQUFDZjtXQUFBLEFBQUssU0FBTCxBQUFjLEFBRWQ7O1dBQUEsQUFBSyxPQUFMLEFBQVksQUFDWjtXQUFBLEFBQUssVUFBTCxBQUFlLEFBQ2Y7V0FBQSxBQUFLLFNBQUwsQUFBYyxBQUNkO1dBQUEsQUFBSyxZQUFMLEFBQWlCLEFBQ2pCO1dBQUEsQUFBSyxjQUFMLEFBQW1CLEFBQ25CO1dBQUEsQUFBSyxpQkFBTCxBQUFzQixBQUV0Qjs7V0FBQSxBQUFLLE9BQUwsQUFBWSxBQUNiOzs7Ozs7O2tCLEFBR1k7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNuUmY7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7Ozs7Ozs7OztBQUVBO0FBQ0E7O0FBRUE7O0ksQUFFTSx3QkFDSjtxQkFBQSxBQUFZLFFBQVE7MEJBQ2xCOztBQUNBO1NBQUEsQUFBSyxTQUFMLEFBQWMsQUFDZDtTQUFBLEFBQUssYUFBTCxBQUFrQixBQUNsQjtRQUFJLEFBQ0Y7VUFBTSxnQkFBZ0IsU0FBQSxBQUFTLFNBQVMsS0FBeEMsQUFBNkMsQUFDN0M7V0FBQSxBQUFLLFNBQVMsY0FBQSxBQUFjLFVBQVUsY0FBdEMsQUFBb0QsQUFDckQ7QUFIRCxNQUdFLE9BQUEsQUFBTyxHQUFHLEFBQUUsQ0FDZDtTQUFBLEFBQUssbUJBQW1CLENBQUMsS0FBekIsQUFBOEIsQUFDL0I7Ozs7OzZCQUVRLEFBQ1A7YUFBUSxLQUFBLEFBQUssb0JBQW9CLEtBQUEsQUFBSyxPQUF0QyxBQUE2QyxBQUM5Qzs7Ozs0QixBQUVPLE0sQUFBTSxLLEFBQUssSSxBQUFJLFVBQVU7a0JBQy9COztVQUFJLEtBQUEsQUFBSyxvQkFBb0IsS0FBQSxBQUFLLE9BQWxDLEFBQXlDLG1CQUFtQixBQUMxRDtZQUFJLEtBQUosQUFBUyxZQUFZLEFBQ25CO2tCQUFBLEFBQVEsSUFBUixBQUFZLEFBQ1o7ZUFBQSxBQUFLLGFBQUwsQUFBa0IsQUFDbkI7QUFDRDtZQUFJLFlBQVksS0FBaEIsQUFBcUIsQUFDckI7WUFBSSxDQUFKLEFBQUssV0FBVyxBQUNkO2VBQUEsQUFBSyxZQUFZLFlBQVksbUJBQTdCLEFBQ0Q7QUFDRDtrQkFBQSxBQUFVLFVBQVYsQUFBb0IsQUFDcEI7aUJBQVMsVUFBQSxBQUFVLFFBQVYsQUFBa0IsTUFBbEIsQUFBd0IsR0FBakMsQUFBUyxBQUEyQixBQUNyQztBQVhELGFBWUssQUFDSDtZQUFJLEtBQUosQUFBUyxZQUFZLEFBQ25CO2tCQUFBLEFBQVEsSUFBUixBQUFZLEFBQ1o7ZUFBQSxBQUFLLGFBQUwsQUFBa0IsQUFDbkI7QUFDRDtZQUFNLFNBQVMsS0FBZixBQUFvQixBQUNwQjtZQUFJLEtBQUEsQUFBSyxRQUFULEFBQWlCLEtBQUssQUFDcEI7ZUFBQSxBQUFLLE1BQUwsQUFBVyxBQUNYO2VBQUEsQUFBSyxhQUFhLHlCQUFBLEFBQWUsUUFBakMsQUFBa0IsQUFBc0IsQUFDekM7QUFFRDs7YUFBQSxBQUFLLFdBQUwsQUFBZ0IsWUFBaEIsQUFDRSxLQUFLLFVBQUEsQUFBQyxRQUFXLEFBQ2Y7QUFDQTtjQUFJLFNBQVMsd0JBQUEsQUFBYyxRQUEzQixBQUFhLEFBQXFCLEFBQ2xDO2lCQUFBLEFBQU8sUUFBUCxBQUFlLE1BQWYsQUFBcUIsUUFBckIsQUFDQSxNQUFPLFVBQUEsQUFBQyxLQUFRLEFBQ2Q7a0JBQUEsQUFBSyxpQkFBTCxBQUFzQixLQUF0QixBQUEyQixNQUEzQixBQUFpQyxLQUFqQyxBQUFzQyxJQUF0QyxBQUEwQyxBQUMzQztBQUhELGFBQUEsQUFJQSxLQUFLLFVBQUEsQUFBQyxRQUFXLEFBQ2Y7cUJBQUEsQUFBUyxBQUNWO0FBTkQsQUFPRDtBQVhILFdBQUEsQUFZRSxNQUFPLFVBQUEsQUFBQyxLQUFRLEFBQ2Q7Z0JBQUEsQUFBSyxpQkFBTCxBQUFzQixLQUF0QixBQUEyQixNQUEzQixBQUFpQyxLQUFqQyxBQUFzQyxJQUF0QyxBQUEwQyxBQUMzQztBQWRILEFBZUQ7QUFDRjs7OztxQyxBQUVnQixLLEFBQUssTSxBQUFNLEssQUFBSyxJLEFBQUksVUFBVSxBQUM3QztVQUFJLEtBQUEsQUFBSyxPQUFULEFBQWdCLG1CQUFtQixBQUNqQztnQkFBQSxBQUFRLElBQVIsQUFBWSxBQUNaO2FBQUEsQUFBSyxtQkFBTCxBQUF3QixBQUN4QjthQUFBLEFBQUssYUFBTCxBQUFrQixBQUNsQjthQUFBLEFBQUssUUFBTCxBQUFhLE1BQWIsQUFBbUIsS0FBbkIsQUFBd0IsSUFBeEIsQUFBNEIsQUFDN0I7QUFMRCxhQU1LLEFBQ0g7Z0JBQUEsQUFBUSw4QkFBNEIsSUFBcEMsQUFBd0MsQUFDeEM7QUFDRDtBQUNGOzs7OzhCQUVTLEFBQ1I7VUFBSSxZQUFZLEtBQWhCLEFBQXFCLEFBQ3JCO1VBQUEsQUFBSSxXQUFXLEFBQ2I7a0JBQUEsQUFBVSxBQUNWO2FBQUEsQUFBSyxZQUFMLEFBQWlCLEFBQ2xCO0FBQ0Y7Ozs7Ozs7a0IsQUFHWTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJLEFDekZULHlCQUNKO3NCQUFBLEFBQVksUUFBWixBQUFtQixLQUFLOzBCQUN0Qjs7U0FBQSxBQUFLLFNBQUwsQUFBYyxBQUNkO1NBQUEsQUFBSyxNQUFMLEFBQVcsQUFDWjs7Ozs7Z0NBRVcsQUFDVjthQUFPLEtBQUEsQUFBSyxPQUFMLEFBQVksVUFBWixBQUFzQixPQUFPLEtBQTdCLEFBQWtDLEtBQUssRUFBQyxNQUF4QyxBQUF1QyxBQUFPLGFBQTlDLEFBQTBELE9BQU8sQ0FBQSxBQUFDLFdBQXpFLEFBQU8sQUFBaUUsQUFBWSxBQUNyRjs7Ozs7OztrQixBQUdZOzs7Ozs7Ozs7QUNYZjs7OztBQUNBOzs7Ozs7OztBQUVBLFNBQUEsQUFBUyxhQUFhLEFBQ2xCO1FBQUksZ0JBQUo7UUFDQSxxQkFEQSxBQUdBOztBQUNBO1FBQUksb0JBQUosQUFBd0IsQUFDeEI7UUFBSSxjQUFKLEFBQWtCLEFBRWxCOztRQUFJLG9CQUFKLEFBQXdCLEFBQ3hCO1FBQUksY0FBSixBQUFrQixBQUVsQjs7YUFBQSxBQUFTLG9CQUFvQixBQUN6QjtZQUFJLE9BQUosQUFBVyxBQUVYOztBQUNBO1lBQUksWUFBSixBQUFnQixBQUNoQjthQUFLLElBQUksSUFBVCxBQUFhLEdBQUcsS0FBaEIsQUFBcUIsSUFBckIsQUFBeUIsS0FBSyxBQUMxQjtnQkFBSSxVQUFVLHdEQUF3RCxFQUF4RCxBQUF3RCxBQUFFLGFBQXhFLEFBQXFGLEFBQ3JGO3NCQUFBLEFBQVUsS0FBVixBQUFlLEFBQ2xCO0FBRUQ7OztrQkFBTyxBQUNHLEFBQ047b0JBRkcsQUFFSyxBQUNSOzRCQUhHLEFBR2EsQUFDaEI7bUJBSkosQUFBTyxBQUlJLEFBR1g7QUFQTyxBQUNIOzs7a0JBTVksQUFDTixBQUNOO2tCQUZKLEFBQWdCLEFBRU4sQUFHVjtBQUxnQixBQUNaOztlQUlKLEFBQU8sQUFDVjtBQUVEOzthQUFBLEFBQVMsb0JBQW9CLEFBQ3pCO1lBQUksT0FBSixBQUFXLEFBQ1g7WUFBSSxZQUFKLEFBQWdCLEFBQ2hCO2FBQUssSUFBSSxJQUFULEFBQWEsR0FBRyxLQUFoQixBQUFxQixJQUFyQixBQUF5QixLQUFLLEFBQzFCO2dCQUFJLFVBQVUsMEVBQTBFLEVBQTFFLEFBQTBFLEFBQUUsYUFBMUYsQUFBdUcsQUFDdkc7c0JBQUEsQUFBVSxLQUFWLEFBQWUsQUFDbEI7QUFDRDs7a0JBQU8sQUFDRyxBQUNOO29CQUZHLEFBRUssQUFDUjs0QkFIRyxBQUdhLEFBQ2hCO21CQUpKLEFBQU8sQUFJSSxBQUdYO0FBUE8sQUFDSDs7O2tCQU1ZLEFBQ04sQUFDTjtrQkFGSixBQUFnQixBQUVOLEFBR1Y7QUFMZ0IsQUFDWjs7ZUFJSixBQUFPLEFBQ1Y7QUFFRDs7YUFBQSxBQUFTLFNBQVMsQUFDZDtZQUFJLE9BQUosQUFBVyxBQUNYO1lBQUksT0FBSixBQUFXLEFBRVg7O0FBQ0E7WUFBSSxZQUFKLEFBQWdCLEFBQ2hCO2FBQUssSUFBSSxJQUFULEFBQWEsR0FBRyxLQUFoQixBQUFxQixJQUFyQixBQUF5QixLQUFLLEFBQzFCO2dCQUFJLFVBQVUsd0RBQXdELEVBQXhELEFBQXdELEFBQUUsYUFBeEUsQUFBcUYsQUFDckY7c0JBQUEsQUFBVSxLQUFWLEFBQWUsQUFDbEI7QUFFRDs7O2tCQUFPLEFBQ0csQUFDTjtvQkFGRyxBQUVLLEFBQ1I7NEJBSEcsQUFHYSxBQUNoQjttQkFKSixBQUFPLEFBSUksQUFHWDtBQVBPLEFBQ0g7O0FBT0o7WUFBSSxZQUFKLEFBQWdCLEFBQ2hCO2FBQUssSUFBSSxLQUFULEFBQWEsR0FBRyxNQUFoQixBQUFxQixJQUFyQixBQUF5QixNQUFLLEFBQzFCO2dCQUFJLFdBQVUsMEVBQTBFLEdBQTFFLEFBQTBFLEFBQUUsYUFBMUYsQUFBdUcsQUFDdkc7c0JBQUEsQUFBVSxLQUFWLEFBQWUsQUFDbEI7QUFDRDs7a0JBQU8sQUFDRyxBQUNOO29CQUZHLEFBRUssQUFDUjs0QkFIRyxBQUdhLEFBQ2hCO21CQUpKLEFBQU8sQUFJSSxBQUdYO0FBUE8sQUFDSDs7O2tCQU1ZLEFBQ04sQUFDTjtrQkFGSixBQUFnQixBQUVOLEFBR1Y7QUFMZ0IsQUFDWjs7ZUFJSixBQUFPLEFBQ1Y7QUFFRDs7YUFBQSxBQUFTLFNBQVMsQUFDZDtBQUNBO1lBQUksT0FBSixBQUFXLEFBQ1g7WUFBSSxPQUFKLEFBQVcsQUFDWDtZQUFJLFlBQUosQUFBZ0IsQUFDaEI7YUFBSyxJQUFJLElBQVQsQUFBYSxHQUFHLEtBQWhCLEFBQXFCLEdBQXJCLEFBQXdCLEtBQUssQUFDekI7Z0JBQUksVUFBVSxnREFBZ0QsRUFBaEQsQUFBZ0QsQUFBRSxhQUFoRSxBQUE2RSxBQUM3RTtzQkFBQSxBQUFVLEtBQVYsQUFBZSxBQUNsQjtBQUNEOztrQkFBTyxBQUNHLEFBQ047b0JBRkcsQUFFSyxBQUNSOzRCQUhHLEFBR2EsQUFDaEI7bUJBSkosQUFBTyxBQUlJLEFBR1g7QUFQTyxBQUNIOzs7a0JBTVksQUFDTixBQUNOO2tCQUZZLEFBRU4sQUFDTjt1Q0FISixBQUFnQixBQUdlLEFBRy9CO0FBTmdCLEFBQ1o7O2VBS0osQUFBTyxBQUNWO0FBRUQ7O2FBQUEsQUFBUyxTQUFTLEFBQ2Q7WUFBSSxPQUFKLEFBQVcsQUFDWDtZQUFJLE9BQUosQUFBVyxBQUVYOztZQUFJLE1BQUosQUFBVSxBQUVWOztBQUNBO1lBQUksWUFBSixBQUFnQixBQUNoQjthQUFLLElBQUksSUFBVCxBQUFhLEdBQUcsS0FBaEIsQUFBcUIsS0FBckIsQUFBMEIsS0FBSyxBQUMzQjtnQkFBSSxVQUFVLDJEQUEyRCxFQUEzRCxBQUEyRCxBQUFFLGFBQTNFLEFBQXdGLEFBQ3hGO3NCQUFBLEFBQVUsS0FBVixBQUFlLEFBQ2xCO0FBRUQ7OztrQkFBTyxBQUNHLEFBQ047b0JBRkcsQUFFSyxBQUNSOzRCQUhHLEFBR2EsQUFDaEI7bUJBSkosQUFBTyxBQUlJLEFBR1g7QUFQTyxBQUNIOztBQU9KO1lBQUksWUFBSixBQUFnQixBQUNoQjthQUFLLElBQUksTUFBVCxBQUFhLEdBQUcsT0FBaEIsQUFBcUIsS0FBckIsQUFBMEIsT0FBSyxBQUMzQjtnQkFBSSxZQUFVLDJEQUEyRCxJQUEzRCxBQUEyRCxBQUFFLGFBQTNFLEFBQXdGLEFBQ3hGO3NCQUFBLEFBQVUsS0FBVixBQUFlLEFBQ2xCO0FBQ0Q7O2tCQUFPLEFBQ0csQUFDTjtvQkFGRyxBQUVLLEFBQ1I7NEJBSEcsQUFHYSxBQUNoQjttQkFKSixBQUFPLEFBSUksQUFHWDtBQVBPLEFBQ0g7OztrQkFNWSxBQUNOLEFBQ047a0JBRlksQUFFTixBQUNOO3VDQUhZLEFBR2UsSUFIL0IsQUFBZ0IsQUFHbUIsQUFHbkM7QUFOZ0IsQUFDWjs7ZUFLSixBQUFPLEFBQ1Y7QUFFRDs7YUFBQSxBQUFTLGFBQVQsQUFBc0IsS0FBSyxBQUN2Qjs0QkFBQSxBQUFvQixBQUNwQjtzQkFBQSxBQUFjLEFBQ2Q7NEJBQUEsQUFBb0IsQUFDcEI7c0JBQUEsQUFBYyxBQUVkOztZQUFJLElBQUEsQUFBSSxRQUFKLEFBQVkseUJBQXlCLENBQXpDLEFBQTBDLEdBQUcsQUFDekM7bUJBQUEsQUFBTyxBQUNWO0FBRkQsbUJBRVcsSUFBQSxBQUFJLFFBQUosQUFBWSx5QkFBeUIsQ0FBekMsQUFBMEMsR0FBRyxBQUNoRDttQkFBQSxBQUFPLEFBQ1Y7QUFGTSxTQUFBLFVBRUksSUFBQSxBQUFJLFFBQUosQUFBWSxjQUFjLENBQTlCLEFBQStCLEdBQUcsQUFDckM7bUJBQUEsQUFBTyxBQUNWO0FBRk0sU0FBQSxVQUVJLElBQUEsQUFBSSxRQUFKLEFBQVksY0FBYyxDQUE5QixBQUErQixHQUFHLEFBQ3JDO21CQUFBLEFBQU8sQUFDVjtBQUZNLFNBQUEsTUFFQSxJQUFJLElBQUEsQUFBSSxRQUFKLEFBQVksY0FBYyxDQUE5QixBQUErQixHQUFHLEFBQ3JDO21CQUFBLEFBQU8sQUFDVjtBQUNKO0FBRUQ7O2FBQUEsQUFBUyxrQkFBa0IsQUFDdkI7WUFBSSxNQUFKLEFBQVUsQUFFVjs7WUFBSSxjQUFBLEFBQWMsUUFBUSxjQUExQixBQUF3QyxNQUFNLEFBQzFDO2VBQUcsQUFDSDtBQUNBO29CQUFJLHNCQUFKLEFBQTBCLE9BQU8sQUFDN0I7d0JBQUEsQUFBSSxPQUFPLGNBQUEsQUFBYyxLQUF6QixBQUE4QixBQUM5Qjt3QkFBQSxBQUFJLE1BQU0sY0FBQSxBQUFjLEtBQXhCLEFBQTZCLEFBQzdCO3dDQUFBLEFBQW9CLEFBQ3BCO0FBQ0g7QUFDRDtvQkFBSSxzQkFBSixBQUEwQixPQUFPLEFBQzdCO3dCQUFBLEFBQUksT0FBTyxjQUFBLEFBQWMsS0FBekIsQUFBOEIsQUFDOUI7d0JBQUEsQUFBSSxNQUFNLGNBQUEsQUFBYyxLQUF4QixBQUE2QixBQUM3Qjt3Q0FBQSxBQUFvQixBQUNwQjtBQUNIO0FBRUQ7O0FBQ0E7b0JBQUksY0FBSixBQUFrQixHQUFHLEFBQ2pCO3dCQUFBLEFBQUksT0FBTyxjQUFBLEFBQWMsS0FBekIsQUFBOEIsQUFDOUI7d0JBQUEsQUFBSSxNQUFNLGNBQUEsQUFBYyxLQUFkLEFBQW1CLE1BQTdCLEFBQVUsQUFBeUIsQUFDbkM7QUFDQTtBQUNIO0FBQ0Q7QUFFQTs7QUFDQTtvQkFBSSxlQUFlLGNBQUEsQUFBYyxLQUFkLEFBQW1CLE1BQWxDLEFBQXdDLFVBQ3hDLGVBQWUsY0FBQSxBQUFjLEtBQWQsQUFBbUIsTUFEdEMsQUFDNEMsUUFBUSxBQUNoRDswQkFBQSxBQUFNLEFBQ1Q7QUFIRCx1QkFHTyxBQUNIO3dCQUFJLGNBQUosQUFBa0IsYUFBYSxBQUMzQjs0QkFBSSxjQUFjLGNBQUEsQUFBYyxLQUFkLEFBQW1CLE1BQXJDLEFBQTJDLFFBQVEsQUFDL0M7Z0NBQUEsQUFBSSxPQUFPLGNBQUEsQUFBYyxLQUF6QixBQUE4QixBQUM5QjtnQ0FBQSxBQUFJLE1BQU0sY0FBQSxBQUFjLEtBQWQsQUFBbUIsTUFBN0IsQUFBVSxBQUF5QixBQUNuQztBQUNIO0FBQ0o7QUFORCwyQkFNTyxBQUNIOzRCQUFJLGNBQWMsY0FBQSxBQUFjLEtBQWQsQUFBbUIsTUFBckMsQUFBMkMsUUFBUSxBQUMvQztnQ0FBQSxBQUFJLE9BQU8sY0FBQSxBQUFjLEtBQXpCLEFBQThCLEFBQzlCO2dDQUFBLEFBQUksTUFBTSxjQUFBLEFBQWMsS0FBZCxBQUFtQixNQUE3QixBQUFVLEFBQXlCLEFBQ25DO0FBQ0g7QUFDSjtBQUNKO0FBQ0E7QUEzQ0QscUJBQUEsQUEyQ1MsQUFDWjtBQTdDRCxlQTZDTyxBQUNIO2dCQUFJLGNBQUosQUFBa0IsTUFBTSxBQUNwQjtvQkFBQSxBQUFJLE9BQU8sY0FBQSxBQUFjLEtBQXpCLEFBQThCLEFBRTlCOztvQkFBSSxzQkFBSixBQUEwQixPQUFPLEFBQzdCO3dCQUFBLEFBQUksTUFBTSxjQUFBLEFBQWMsS0FBeEIsQUFBNkIsQUFDN0I7d0NBQUEsQUFBb0IsQUFDdkI7QUFIRCx1QkFHTyxBQUNIO3dCQUFJLGNBQWMsY0FBQSxBQUFjLEtBQWQsQUFBbUIsTUFBckMsQUFBMkMsUUFBUSxBQUMvQzs0QkFBQSxBQUFJLE1BQU0sY0FBQSxBQUFjLEtBQWQsQUFBbUIsTUFBN0IsQUFBVSxBQUF5QixBQUNuQztBQUNIO0FBSEQsMkJBR08sQUFDSDs4QkFBQSxBQUFNLEFBQ1Q7QUFDSjtBQUNKO0FBZEQsbUJBY08sSUFBSSxjQUFKLEFBQWtCLE1BQU0sQUFDM0I7b0JBQUEsQUFBSSxPQUFPLGNBQUEsQUFBYyxLQUF6QixBQUE4QixBQUU5Qjs7b0JBQUksc0JBQUosQUFBMEIsT0FBTyxBQUM3Qjt3QkFBQSxBQUFJLE1BQU0sY0FBQSxBQUFjLEtBQXhCLEFBQTZCLEFBQzdCO3dDQUFBLEFBQW9CLEFBQ3ZCO0FBSEQsdUJBR08sQUFDSDt3QkFBSSxjQUFjLGNBQUEsQUFBYyxLQUFkLEFBQW1CLE1BQXJDLEFBQTJDLFFBQVEsQUFDL0M7NEJBQUEsQUFBSSxNQUFNLGNBQUEsQUFBYyxLQUFkLEFBQW1CLE1BQTdCLEFBQVUsQUFBeUIsQUFDbkM7QUFDSDtBQUhELDJCQUdPLEFBQ0g7OEJBQUEsQUFBTSxBQUNUO0FBQ0o7QUFDSjtBQUNKO0FBRUQ7O2VBQUEsQUFBTyxBQUNWO0FBRUQ7OztzQkFBVyxBQUNPLEFBQ2Q7eUJBRkosQUFBVyxBQUVVLEFBRXJCO0FBSlcsQUFDUDtXQUdKLEFBQU8sQUFDVjs7O0FBRUQsV0FBQSxBQUFXLDBCQUFYLEFBQXFDO2tCQUN0Qix1QkFBQSxBQUFhLG9CLEFBQWIsQUFBaUM7Ozs7Ozs7OztBQ3JSL0M7Ozs7QUFDRDs7OztBQUVBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7QUFFQTtBQUNBLElBQUksWUFBWSxTQUFaLEFBQVksVUFBQSxBQUFVLE9BQU8sQUFDN0I7U0FBQSxBQUFLLFNBQUwsQUFBYyxBQUNkO1NBQUEsQUFBSyxtQkFBTCxBQUF3QixBQUV4Qjs7U0FBQSxBQUFLLDJCQUEyQix1Q0FBQSxBQUF3QixNQUF4RCxBQUFnQyxBQUE4QixBQUU5RDs7U0FBQSxBQUFLLG1CQUFtQixLQUFBLEFBQUssbUJBQW1CLEtBQWhELEFBQXdCLEFBQTZCLEFBQ3JEO1NBQUEsQUFBSyxpQkFBTCxBQUFzQixZQUFZLEtBQWxDLEFBQXVDLEFBQzFDO0FBUkQ7O0FBVUEsVUFBQSxBQUFVLFVBQVYsQUFBb0IscUJBQXFCLFVBQUEsQUFBVSxPQUFPLEFBQ3REO1FBQUksTUFBQSxBQUFNLGdCQUFOLEFBQXNCLGFBQ3RCLE1BQUEsQUFBTSxjQUROLEFBQ29CLGFBQ3BCLFVBQUEsQUFBVSxnQ0FGVixBQUUwQyxhQUMxQyxPQUFPLFVBQVAsQUFBaUIsZ0NBSHJCLEFBR3FELFlBQVksQUFDN0Q7Z0JBQUEsQUFBUSxJQUFSLEFBQVksQUFDWjtlQUFPLDRCQUFQLEFBQ0g7QUFORCxXQU1PLEFBQ0g7Z0JBQUEsQUFBUSxJQUFSLEFBQVksQUFDWjtlQUFPLDJCQUFQLEFBQ0g7QUFDSjtBQVhEOztBQWFBLFVBQUEsQUFBVSxVQUFWLEFBQW9CLGFBQWEsVUFBQSxBQUFVLE1BQU0sQUFDN0M7UUFBSSxDQUFDLEtBQUQsQUFBTSxPQUFPLENBQUMsS0FBQSxBQUFLLElBQXZCLEFBQTJCLE1BQU0sQUFBRTtBQUFTO0FBRTVDOztRQUFJLFlBQVksS0FBQSxBQUFLLHlCQUFMLEFBQThCLDJCQUEyQixLQUFBLEFBQUssSUFBOUUsQUFBZ0IsQUFBa0UsQUFDbEY7WUFBQSxBQUFRLElBQUkscUNBQXFDLFVBQWpELEFBQTJELEFBQzNEO1NBQUEsQUFBSyxpQkFBTCxBQUFzQixhQUF0QixBQUFtQyxBQUNuQztTQUFBLEFBQUssaUJBQUwsQUFBc0IsV0FBdEIsQUFBaUMsQUFDcEM7QUFQRDs7a0IsQUFTZTs7Ozs7QUN4Q2Y7O0FBRUE7QUFDQTs7QUFFQSxJQUFJLE9BQUosQUFBVztBQUNYLEtBQUEsQUFBSyxTQUFTLFVBQUEsQUFBUyxHQUFHLEFBQ3RCO1FBQUksSUFBSixBQUFRLEFBQ1I7U0FBSyxJQUFJLElBQVQsQUFBYSxHQUFHLElBQUksRUFBcEIsQUFBc0IsUUFBUSxFQUE5QixBQUFnQyxHQUFHLEFBQy9CO1lBQUksSUFBSSxFQUFBLEFBQUUsV0FBVixBQUFRLEFBQWEsQUFDckI7WUFBSSxJQUFKLEFBQVEsTUFBTSxBQUNWO2NBQUEsQUFBRSxLQUFGLEFBQU8sQUFDVjtBQUZELG1CQUVXLElBQUosQUFBUSxPQUFPLEFBQ2xCO2NBQUEsQUFBRSxLQUFLLE9BQVEsS0FBZixBQUFvQixBQUNwQjtjQUFBLEFBQUUsS0FBSyxPQUFRLEtBQWYsQUFBb0IsQUFDdkI7QUFITSxTQUFBLFVBR0ksSUFBSixBQUFRLFNBQVMsQUFDcEI7Y0FBQSxBQUFFLEtBQUssT0FBUSxLQUFmLEFBQW9CLEFBQ3BCO2NBQUEsQUFBRSxLQUFLLE9BQVEsS0FBTSxLQUFyQixBQUEwQixBQUMxQjtjQUFBLEFBQUUsS0FBSyxPQUFRLEtBQWYsQUFBb0IsQUFDdkI7QUFKTSxTQUFBLE1BSUEsQUFDSDtjQUFBLEFBQUUsS0FBSyxPQUFRLEtBQWYsQUFBb0IsQUFDcEI7Y0FBQSxBQUFFLEtBQUssT0FBUSxLQUFNLEtBQXJCLEFBQTBCLEFBQzFCO2NBQUEsQUFBRSxLQUFLLE9BQVEsS0FBTSxLQUFyQixBQUEwQixBQUMxQjtjQUFBLEFBQUUsS0FBSyxPQUFRLEtBQWYsQUFBb0IsQUFDdkI7QUFDSjtBQUNEO1dBQUEsQUFBTyxBQUNWO0FBckJEO0FBc0JBLEtBQUEsQUFBSyxTQUFTLFVBQUEsQUFBUyxHQUFHLEFBQ3RCO1FBQUksSUFBSixBQUFRLEFBQ1I7UUFBSSxJQUFKLEFBQVEsQUFDUjtXQUFPLElBQUksRUFBWCxBQUFhLFFBQVEsQUFDakI7WUFBSSxJQUFJLEVBQVIsQUFBUSxBQUFFLEFBQ1Y7WUFBSSxJQUFKLEFBQVEsTUFBTSxBQUNWO0FBQ0g7QUFGRCxtQkFFVyxJQUFKLEFBQVEsTUFBTSxBQUNqQjtnQkFBSSxDQUFDLEtBQUQsQUFBTSxNQUFWLEFBQWdCLEFBQ2hCO2lCQUFNLEtBQUssRUFBWCxBQUFXLEFBQUUsQUFDaEI7QUFITSxTQUFBLFVBR0ksSUFBSixBQUFRLE1BQU0sQUFDakI7Z0JBQUksQ0FBQyxLQUFELEFBQU0sTUFBVixBQUFnQixBQUNoQjtpQkFBSyxDQUFDLEtBQUssRUFBTixBQUFNLEFBQUUsU0FBYixBQUFzQixBQUN0QjtpQkFBTSxLQUFLLEVBQVgsQUFBVyxBQUFFLEFBQ2hCO0FBSk0sU0FBQSxNQUlBLEFBQ0g7Z0JBQUksQ0FBQyxJQUFELEFBQUssTUFBVCxBQUFlLEFBQ2Y7aUJBQUssQ0FBQyxLQUFLLEVBQU4sQUFBTSxBQUFFLFNBQWIsQUFBc0IsQUFDdEI7aUJBQUssQ0FBQyxLQUFLLEVBQU4sQUFBTSxBQUFFLFNBQWIsQUFBc0IsQUFDdEI7aUJBQU0sS0FBSyxFQUFYLEFBQVcsQUFBRSxBQUNoQjtBQUNEO1VBQUEsQUFBRSxLQUFLLE9BQUEsQUFBTyxhQUFkLEFBQU8sQUFBb0IsQUFDOUI7QUFDRDtXQUFPLEVBQUEsQUFBRSxLQUFULEFBQU8sQUFBTyxBQUNqQjtBQXZCRDs7QUF5QkEsSUFBSSxTQUFKLEFBQWE7QUFDYixDQUFDLFVBQUEsQUFBUyxHQUFFLEFBQ1I7UUFBSSxjQUFjLFNBQWQsQUFBYyxZQUFBLEFBQVMsR0FBRyxBQUMxQjtZQUFJLElBQUosQUFBUSxBQUNSO1lBQUksSUFBSixBQUFRLEFBQ1I7WUFBSSxJQUFJLElBQUssRUFBQSxBQUFFLFNBQWYsQUFBd0IsQUFDeEI7ZUFBTyxJQUFQLEFBQVcsS0FBSyxBQUNaO2dCQUFJLElBQUksQ0FBQyxFQUFBLEFBQUUsTUFBSCxBQUFTLE9BQU8sRUFBRSxJQUFGLEFBQUksTUFBcEIsQUFBMEIsS0FBSyxFQUFFLElBQXpDLEFBQXVDLEFBQUksQUFDM0M7aUJBQUEsQUFBSyxBQUNMO2NBQUEsQUFBRSxLQUFLLEVBQUEsQUFBRSxPQUFPLEtBQU0sS0FBdEIsQUFBTyxBQUFvQixBQUMzQjtjQUFBLEFBQUUsS0FBSyxFQUFBLEFBQUUsT0FBTyxLQUFNLEtBQXRCLEFBQU8sQUFBb0IsQUFDM0I7Y0FBQSxBQUFFLEtBQUssRUFBQSxBQUFFLE9BQU8sS0FBTSxLQUF0QixBQUFPLEFBQW9CLEFBQzNCO2NBQUEsQUFBRSxLQUFLLEVBQUEsQUFBRSxPQUFPLEtBQWhCLEFBQU8sQUFBYyxBQUN4QjtBQUNEO1lBQUksS0FBTSxFQUFBLEFBQUUsU0FBWixBQUFxQixHQUFJLEFBQ3JCO2dCQUFJLElBQUksQ0FBQyxFQUFBLEFBQUUsTUFBSCxBQUFTLE9BQU8sRUFBRSxJQUFGLEFBQUksTUFBNUIsQUFBUSxBQUEwQixBQUNsQztjQUFBLEFBQUUsS0FBSyxFQUFBLEFBQUUsT0FBTyxLQUFNLEtBQXRCLEFBQU8sQUFBb0IsQUFDM0I7Y0FBQSxBQUFFLEtBQUssRUFBQSxBQUFFLE9BQU8sS0FBTSxLQUF0QixBQUFPLEFBQW9CLEFBQzNCO2NBQUEsQUFBRSxLQUFLLEVBQUEsQUFBRSxPQUFPLEtBQU0sS0FBdEIsQUFBTyxBQUFvQixBQUMzQjtjQUFBLEFBQUUsS0FBRixBQUFPLEFBQ1Y7QUFORCxlQU1PLElBQUksS0FBTSxFQUFBLEFBQUUsU0FBWixBQUFxQixHQUFJLEFBQzVCO2dCQUFJLElBQUssRUFBQSxBQUFFLE1BQVgsQUFBaUIsQUFDakI7Y0FBQSxBQUFFLEtBQUssRUFBQSxBQUFFLE9BQU8sS0FBTSxLQUF0QixBQUFPLEFBQW9CLEFBQzNCO2NBQUEsQUFBRSxLQUFLLEVBQUEsQUFBRSxPQUFPLEtBQU0sS0FBdEIsQUFBTyxBQUFvQixBQUMzQjtjQUFBLEFBQUUsS0FBRixBQUFPLEFBQ1Y7QUFDRDtlQUFPLEVBQUEsQUFBRSxLQUFULEFBQU8sQUFBTyxBQUNqQjtBQXpCRCxBQTBCQTtRQUFJLGdCQUFlLEFBQ2Y7WUFBSSxJQUFKLEFBQVEsQUFDUjthQUFLLElBQUksSUFBVCxBQUFXLEdBQUcsSUFBRSxFQUFoQixBQUFrQixRQUFRLEVBQTFCLEFBQTRCLEdBQUcsQUFDM0I7Y0FBRSxFQUFBLEFBQUUsV0FBSixBQUFFLEFBQWEsTUFBZixBQUFxQixBQUN4QjtBQUNEO1VBQUUsSUFBQSxBQUFJLFdBQU4sQUFBRSxBQUFlLE1BQWpCLEFBQXVCLEFBQ3ZCO2VBQUEsQUFBTyxBQUNWO0FBUEQsQUFBUSxBQVFSLEtBUlM7UUFRTCxjQUFjLFNBQWQsQUFBYyxZQUFBLEFBQVMsR0FBRyxBQUMxQjtZQUFJLElBQUosQUFBUSxBQUNSO1lBQUksSUFBSixBQUFRLEFBQ1I7WUFBSSxJQUFJLElBQUssRUFBQSxBQUFFLFNBQWYsQUFBd0IsQUFDeEI7ZUFBTyxJQUFQLEFBQVcsS0FBSyxBQUNaO2dCQUFJLElBQUksQ0FBQyxFQUFFLEVBQUEsQUFBRSxXQUFKLEFBQUUsQUFBYSxPQUFoQixBQUF1QixPQUFPLEVBQUUsRUFBQSxBQUFFLFdBQVcsSUFBZixBQUFFLEFBQWUsT0FBL0MsQUFBc0QsT0FBTyxFQUFFLEVBQUEsQUFBRSxXQUFXLElBQWYsQUFBRSxBQUFlLE9BQTlFLEFBQXFGLEtBQUssRUFBRSxFQUFBLEFBQUUsV0FBVyxJQUFqSCxBQUFrRyxBQUFFLEFBQWUsQUFDbkg7Y0FBQSxBQUFFLEtBQUssTUFBTyxLQUFkLEFBQW1CLEFBQ25CO2NBQUEsQUFBRSxLQUFLLE1BQU8sS0FBZCxBQUFtQixBQUNuQjtjQUFBLEFBQUUsS0FBSyxNQUFQLEFBQWEsQUFDYjtpQkFBQSxBQUFLLEFBQ1I7QUFDRDtZQUFBLEFBQUksR0FBRyxBQUNIO2dCQUFJLE9BQU8sRUFBQSxBQUFFLE9BQU8sSUFBcEIsQUFBVyxBQUFXLElBQUksQUFDdEI7a0JBQUEsQUFBRSxBQUNGO2tCQUFBLEFBQUUsQUFDTDtBQUhELG1CQUdPLElBQUksT0FBTyxFQUFBLEFBQUUsT0FBTyxJQUFwQixBQUFXLEFBQVcsSUFBSSxBQUM3QjtrQkFBQSxBQUFFLEFBQ0w7QUFDSjtBQUNEO2VBQUEsQUFBTyxBQUNWO0FBcEJELEFBcUJBO1FBQUksUUFBSixBQUFZLEFBQ1o7VUFBQSxBQUFNLFNBQVMsVUFBQSxBQUFTLEdBQUcsQUFDdkI7WUFBSSxJQUFKLEFBQVEsQUFDUjthQUFLLElBQUksSUFBVCxBQUFhLEdBQUcsSUFBRSxFQUFsQixBQUFvQixRQUFRLEVBQTVCLEFBQThCLEdBQUcsQUFDN0I7Y0FBQSxBQUFFLEtBQUssRUFBQSxBQUFFLFdBQVQsQUFBTyxBQUFhLEFBQ3ZCO0FBQ0Q7ZUFBQSxBQUFPLEFBQ1Y7QUFORCxBQU9BO1VBQUEsQUFBTSxTQUFTLFVBQUEsQUFBUyxHQUFHLEFBQ3ZCO2FBQUssSUFBSSxJQUFULEFBQWEsR0FBRyxJQUFFLEVBQWxCLEFBQW9CLFFBQVEsRUFBNUIsQUFBOEIsR0FBRyxBQUM3QjtjQUFBLEFBQUUsS0FBSyxPQUFBLEFBQU8sYUFBYSxFQUEzQixBQUFPLEFBQW9CLEFBQUUsQUFDaEM7QUFDRDtlQUFPLEVBQUEsQUFBRSxLQUFULEFBQU8sQUFBTyxBQUNqQjtBQUxELEFBTUE7V0FBQSxBQUFPLGNBQWMsVUFBQSxBQUFTLEdBQUcsQUFDN0I7WUFBSSxJQUFJLFlBQVIsQUFBUSxBQUFZLEFBQ3BCO2VBQU8sSUFBQSxBQUFJLFdBQVgsQUFBTyxBQUFlLEFBQ3pCO0FBSEQsQUFJQTtXQUFBLEFBQU8sY0FBYyxVQUFBLEFBQVMsR0FBRyxBQUM3QjtZQUFJLElBQUksTUFBQSxBQUFNLE9BQWQsQUFBUSxBQUFhLEFBQ3JCO2VBQU8sWUFBUCxBQUFPLEFBQVksQUFDdEI7QUFIRCxBQUlBO1dBQUEsQUFBTyxjQUFjLFVBQUEsQUFBUyxHQUFHLEFBQzdCO1lBQUksSUFBSSxZQUFSLEFBQVEsQUFBWSxBQUNwQjtlQUFPLE1BQUEsQUFBTSxPQUFiLEFBQU8sQUFBYSxBQUN2QjtBQUhELEFBSUE7V0FBQSxBQUFPLFNBQVMsVUFBQSxBQUFTLEdBQUcsQUFDeEI7WUFBSSxJQUFJLEtBQUEsQUFBSyxPQUFiLEFBQVEsQUFBWSxBQUNwQjtlQUFPLFlBQVAsQUFBTyxBQUFZLEFBQ3RCO0FBSEQsQUFJQTtXQUFBLEFBQU8sU0FBUyxVQUFBLEFBQVMsR0FBRyxBQUN4QjtZQUFJLElBQUksWUFBUixBQUFRLEFBQVksQUFDcEI7ZUFBTyxLQUFBLEFBQUssT0FBWixBQUFPLEFBQVksQUFDdEI7QUFIRCxBQUlIO0FBMUZELEdBQUEsQUEwRkc7O0FBRUg7Ozs7Ozs7Ozs7QUFVQSxJQUFJLE9BQUEsQUFBTyxZQUFYLEFBQXVCLGFBQWEsQUFDaEM7WUFBQSxBQUFRLFNBQVMsT0FBakIsQUFBd0IsQUFDeEI7WUFBQSxBQUFRLGNBQWMsT0FBdEIsQUFBNkIsQUFDaEM7Ozs7Ozs7Ozs7QUMvSkQ7Ozs7Ozs7O0FBR0EsU0FBQSxBQUFTLFlBQWEsQUFFcEI7O01BQUksV0FBSixBQUFlLEFBQ2Y7U0FBQSxBQUFPLEFBQ1I7OztBQUVELFVBQUEsQUFBVSwwQkFBVixBQUFvQztrQkFDckIsdUJBQUEsQUFBYSxvQixBQUFiLEFBQWlDOzs7Ozs7Ozs7O0FDVGhEOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFHQTs7Ozs7Ozs7QUFFQTtBQVZDO0FBV0QsSUFBSSxVQUFXLE9BQUEsQUFBTyxXQUFQLEFBQWtCLGVBQW5CLEFBQWtDLFVBQWhELEFBQTJEOztBQUozRDs7O0FBTUEsSUFBSSxTQUFTLFFBQWIsQUFBcUI7QUFDckIsSUFBSSxDQUFKLEFBQUssUUFBUSxBQUNUO2FBQVMsUUFBQSxBQUFRLFNBQWpCLEFBQTBCLEFBQzdCOzs7QUFFRCxPQUFBLEFBQU87QUFDUCxPQUFBLEFBQU87QUFDUCxPQUFBLEFBQU87QUFDUCxPQUFBLEFBQU87QUFDUCxPQUFBLEFBQU87O0FBRVAsT0FBQSxBQUFPOztrQixBQUdROzs7Ozs7Ozs7OztBQzNCZjs7OztBQUVBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7QUFFQSxTQUFBLEFBQVMsaUJBQWlCLEFBRXRCOzthQUFBLEFBQVMsVUFBVCxBQUFtQixLQUFLLEFBQ3BCO1lBQUksU0FBSixBQUFhLEFBQ2I7WUFBSSxZQUFZLElBQUEsQUFBSSxNQUFKLEFBQVUsS0FBMUIsQUFBZ0IsQUFBZSxBQUMvQjtZQUFJLGNBQUosQUFBa0IsT0FBTyxBQUNyQjtxQkFBUywyQkFBQSxBQUFXLFFBQXBCLEFBQVMsQUFBbUIsQUFDL0I7QUFGRCxtQkFFVyxjQUFKLEFBQWtCLFFBQVEsQUFDN0I7cUJBQVMsMEJBQUEsQUFBVSxRQUFuQixBQUFTLEFBQWtCLEFBQzlCO0FBRk0sU0FBQSxNQUVBLElBQUksY0FBSixBQUFrQixPQUFPLEFBQzVCO3FCQUFTLHlCQUFBLEFBQVMsUUFBbEIsQUFBUyxBQUFpQixBQUM3QjtBQUVEOztlQUFBLEFBQU8sQUFDVjtBQUVEOztRQUFJO21CQUFKLEFBQWUsQUFDQSxBQUVmO0FBSGUsQUFDWDtXQUVKLEFBQU8sQUFDVjs7O0FBRUQsZUFBQSxBQUFlLDBCQUFmLEFBQXlDO2tCQUMxQix1QkFBQSxBQUFhLG9CLEFBQWIsQUFBaUM7Ozs7Ozs7OztBQzdCaEQ7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7O0FBRUEsU0FBQSxBQUFTLHFCQUFxQixBQUMxQjtRQUFJLGVBQUosQUFDQTtRQUFJLHdCQUFKLEFBQ0E7UUFBSSxhQUFhLDBCQUFBLEFBQVUsUUFBM0IsQUFBaUIsQUFBa0IsQUFDbkM7UUFBSSxZQUFZLHdCQUFBLEFBQVMsUUFBekIsQUFBZ0IsQUFBaUIsQUFFakM7O0FBQ0E7UUFBSSx3QkFBSixBQUE0QixBQUU1Qjs7YUFBQSxBQUFTLFFBQVEsQUFFaEIsQ0FFRDs7YUFBQSxBQUFTLFdBQVcsQUFDaEI7WUFBQSxBQUFJLHVCQUF1QixBQUN2QjsrQkFBQSxBQUFtQixBQUNuQjtBQUNIO0FBRUQ7O1lBQUksV0FBVyxRQUFmLEFBQWUsQUFBUSxBQUN2QjtZQUFJLENBQUosQUFBSyxVQUFVLEFBQ1g7c0JBQUEsQUFBVSxRQUFRLHFCQUFsQixBQUF5QixBQUN6QjtBQUNIO0FBRUQ7O2lCQUFBLEFBQVMsVUFBVCxBQUFtQixPQUFPLEFBQ3RCO3FCQUFBLEFBQVMsUUFBVCxBQUFpQixBQUNqQjtzQkFBQSxBQUFVLFFBQVEscUJBQWxCLEFBQXlCLHFCQUF6QixBQUE4QyxBQUM5QztvQ0FBQSxBQUF3QixBQUV4Qjs7K0JBQUEsQUFBbUIsQUFDdEI7QUFFRDs7WUFBSTtpQkFDSyxTQURLLEFBQ0ksQUFDZDt1QkFGSixBQUFjLEFBRUMsQUFFZjtBQUpjLEFBQ1Y7Z0NBR0osQUFBd0IsQUFDeEI7bUJBQUEsQUFBVyxLQUFYLEFBQWdCLEFBQ25CO0FBRUQ7O2FBQUEsQUFBUyxtQkFBVCxBQUE0QixPQUFPLEFBQy9CO1lBQUEsQUFBSSxrQkFBa0IsQUFDbEI7eUJBQUEsQUFBYSxBQUNiOytCQUFBLEFBQW1CLEFBQ3RCO0FBQ0Q7MkJBQW1CLFdBQUEsQUFBVyxVQUE5QixBQUFtQixBQUFxQixBQUMzQztBQUVEOzthQUFBLEFBQVMsTUFBVCxBQUFlLFFBQVEsQUFDbkI7a0JBQUEsQUFBVSxBQUNWOzJCQUFBLEFBQW1CLEFBQ3RCO0FBRUQ7O2FBQUEsQUFBUyxPQUFPLEFBQ1o7WUFBQSxBQUFJLGtCQUFrQixBQUNsQjt5QkFBQSxBQUFhLEFBQ2I7K0JBQUEsQUFBbUIsQUFDdEI7QUFDSjtBQUVEOztRQUFJO2VBQVcsQUFDSixBQUNQO2NBRkosQUFBZSxBQUVMLEFBRVY7QUFKZSxBQUNYO0FBSUo7V0FBQSxBQUFPLEFBQ1Y7OztBQUdELG1CQUFBLEFBQW1CLDBCQUFuQixBQUE2QztrQkFDOUIsdUJBQUEsQUFBYSxvQixBQUFiLEFBQWlDOzs7Ozs7Ozs7QUM1RS9DOzs7O0FBQ0Q7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7QUFFQTs7Ozs7Ozs7OztBQVVBLFNBQUEsQUFBUyxZQUFULEFBQXFCLE9BQXJCLEFBQTRCLEtBQUssQUFDN0I7UUFBSSxTQUFKLEFBQWEsQUFDYjtRQUFJLE9BQUosQUFBVyxBQUNYO1FBQUksWUFBWSx3QkFBQSxBQUFTLFFBQXpCLEFBQWdCLEFBQWlCLEFBQ2pDO1FBQUksU0FBUyxxQkFBQSxBQUFNLFFBQW5CLEFBQWEsQUFBYyxBQUUzQjs7QUFDQTtRQUFJLHdCQUFKLEFBQ0E7UUFBSSw4QkFBSixBQUVBOzthQUFBLEFBQVMsUUFBUSxBQUNiO0FBQ0g7QUFFRDs7QUFDQTthQUFBLEFBQVMsaUJBQWlCLEFBQ3RCO2VBQUEsQUFBTyxJQUFJLHNCQUFzQixLQUFqQyxBQUFzQyxBQUN0QztZQUFJLEtBQUosQUFBUyxVQUFVLEFBQ2Y7QUFDQTtnQkFBSSxjQUZXLEFBRWYsQUFBa0IsUUFBUSxBQUMxQjtnQkFBSSxnQkFBSixBQUFvQixXQUFXLEFBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7NEJBQUEsQUFBWSxLQUFaLEFBQWlCLDRCQUFqQixBQUE2QyxNQUE3QyxBQUFtRCxBQUN0RDtBQUNKO0FBQ0o7QUFFRDs7YUFBQSxBQUFTLE9BQU8sQUFDWjtlQUFBLEFBQU8sSUFBUCxBQUFXLEFBQ1g7ZUFBTyxPQUFQLEFBQU8sQUFBTyxBQUNqQjtBQUVEOzthQUFBLEFBQVMsUUFBUSxBQUNiO2VBQUEsQUFBTyxJQUFQLEFBQVcsQUFDWDtlQUFBLEFBQU8sQUFDVjtBQUVEOzthQUFBLEFBQVMsV0FBVyxBQUNoQjtlQUFPLE9BQVAsQUFBYyxBQUNqQjtBQUVEOzthQUFBLEFBQVMsY0FBYyxBQUNuQjtlQUFPLE9BQVAsQUFBYyxBQUNqQjtBQUVEOzthQUFBLEFBQVMsY0FBYyxBQUNuQjtlQUFPLE9BQVAsQUFBYyxBQUNqQjtBQUVEOzthQUFBLEFBQVMsWUFBVCxBQUFxQixNQUFNLEFBQ3ZCO2VBQUEsQUFBTyxjQUFQLEFBQXFCLEFBQ3hCO0FBRUQ7O2FBQUEsQUFBUyxZQUFZLEFBQ2pCO2VBQU8sT0FBUCxBQUFjLEFBQ2pCO0FBRUQ7O2FBQUEsQUFBUyxVQUFVLEFBQ2Y7ZUFBTyxPQUFQLEFBQWMsQUFDakI7QUFFRDs7YUFBQSxBQUFTLE9BQU8sQUFDWjtlQUFBLEFBQU8sUUFBUCxBQUFlLEFBQ2xCO0FBRUQ7O2FBQUEsQUFBUyxTQUFTLEFBQ2Q7ZUFBQSxBQUFPLFFBQVAsQUFBZSxBQUNsQjtBQUVEOzthQUFBLEFBQVMsVUFBVSxBQUNmO2VBQU8sT0FBUCxBQUFjLEFBQ2pCO0FBRUQ7O2FBQUEsQUFBUyxVQUFULEFBQW1CLFFBQVEsQUFDdkI7ZUFBQSxBQUFPLFNBQVAsQUFBZ0IsQUFDbkI7QUFFRDs7YUFBQSxBQUFTLFlBQVksQUFDakI7ZUFBTyxPQUFQLEFBQWMsQUFDakI7QUFFRDs7YUFBQSxBQUFTLGFBQWEsQUFDbEI7ZUFBTyxPQUFQLEFBQWMsQUFDakI7QUFFRDs7YUFBQSxBQUFTLGNBQWMsQUFDbkI7ZUFBTyxPQUFQLEFBQWMsQUFDakI7QUFDRDtBQUdBOzs7QUFDQTtBQUNBO0FBQ0E7YUFBQSxBQUFTLHlCQUF5QixBQUM5QjtlQUFBLEFBQU8sSUFBUCxBQUFXLEFBQ1g7MkJBQUEsQUFBbUIsQUFDbkI7aUNBQUEsQUFBeUIsQUFDNUI7QUFFRDs7YUFBQSxBQUFTLHNCQUFzQixBQUMzQjtlQUFBLEFBQU8sSUFBUCxBQUFXLEFBQ1g7QUFDQTsyQkFBQSxBQUFtQixBQUNuQjtpQ0FBQSxBQUF5QixBQUV6Qjs7a0JBQUEsQUFBVSxBQUNWO0FBQ0g7QUFFRDs7YUFBQSxBQUFTLDRCQUE0QixBQUNqQztlQUFBLEFBQU8sSUFBUCxBQUFXLEFBQ1g7a0JBQUEsQUFBVSxBQUNWO0FBQ0E7WUFBSSxjQUFKLEFBQWtCLEFBQ2xCO1lBQUksZ0JBQUosQUFBb0IsV0FBVyxBQUMzQjt3QkFBQSxBQUFZLEtBQVosQUFBaUIsd0JBQWpCLEFBQXlDLE1BQXpDLEFBQStDLEFBQ2xEO0FBQ0o7QUFFRDs7YUFBQSxBQUFTLDJCQUFULEFBQW9DLE1BQU0sQUFDdEM7QUFDQTtlQUFBLEFBQU8sSUFBUCxBQUFXLEFBQ1g7MkJBQUEsQUFBbUIsQUFDbkI7aUNBQUEsQUFBeUIsQUFDNUI7QUFFRDs7YUFBQSxBQUFTLHdCQUFULEFBQWlDLEtBQUssQUFDbEM7QUFDQTtlQUFBLEFBQU8sSUFBUCxBQUFXLG1DQUFYLEFBQThDLEFBQzlDOzJCQUFBLEFBQW1CLEFBQ25CO1lBQUksS0FBSixBQUFTLGVBQWUsQUFDcEI7QUFDSDtBQUNKO0FBQ0Q7QUFFQTs7QUFDQTthQUFBLEFBQVMsd0JBQXdCLEFBQzdCO2VBQUEsQUFBTyxJQUFQLEFBQVcsQUFDZDtBQUVEOzthQUFBLEFBQVMsZUFBZSxBQUNwQjtlQUFBLEFBQU8sSUFBUCxBQUFXLEFBQ2Q7QUFFRDs7YUFBQSxBQUFTLGlCQUFpQixBQUN0QjtBQUNBO2VBQUEsQUFBTyxJQUFQLEFBQVcsQUFDWDtZQUFJLElBQUosQUFBUSxBQUNYO0FBRUQ7O2FBQUEsQUFBUyx3QkFBd0IsQUFDN0I7ZUFBQSxBQUFPLElBQVAsQUFBVyxBQUNYO1lBQUksSUFBSixBQUFRLEFBQ1I7a0JBQUEsQUFBVSxRQUFRLHFCQUFsQixBQUF5QixBQUM1QjtBQUVEOzthQUFBLEFBQVMseUJBQXlCLEFBQzlCO0FBQ0E7QUFDQTtBQUNBO2tCQUFBLEFBQVUsUUFBUSxxQkFBbEIsQUFBeUIsQUFDNUI7QUFFRDs7YUFBQSxBQUFTLGVBQWUsQUFDcEI7ZUFBQSxBQUFPLElBQVAsQUFBVyxBQUNYO2tCQUFBLEFBQVUsUUFBUSxxQkFBbEIsQUFBeUIsQUFDNUI7QUFFRDs7YUFBQSxBQUFTLGVBQWUsQUFDcEI7ZUFBQSxBQUFPLElBQVAsQUFBVyxBQUNkO0FBRUQ7O2FBQUEsQUFBUyx3QkFBd0IsQUFDN0I7ZUFBQSxBQUFPLElBQVAsQUFBVyxBQUNkO0FBRUQ7O2FBQUEsQUFBUyxzQkFBc0IsQUFDM0I7ZUFBQSxBQUFPLElBQVAsQUFBVyxBQUNkO0FBRUQ7O2FBQUEsQUFBUyxvQkFBb0IsQUFDekI7ZUFBQSxBQUFPLElBQVAsQUFBVyxBQUNYO2lCQUFBLEFBQVMsV0FBVyxBQUNoQjtnQkFBSSxPQUFPLE9BQVAsQUFBYyxnQ0FBbEIsQUFBa0QsYUFBYSxBQUMzRDtBQUNBO29CQUFJLE9BQUEsQUFBTyw4QkFBWCxBQUF5QyxHQUFHLEFBQ3hDOzRCQUFBLEFBQVEsSUFBUixBQUFZLEFBQ2Y7QUFGRCx1QkFFTyxBQUNIOzRCQUFBLEFBQVEsSUFBUixBQUFZLEFBQ2Y7QUFDSjtBQVBELHVCQU9XLE9BQU8sT0FBUCxBQUFjLGdCQUFsQixBQUFrQyxhQUFhLEFBQ2xEO0FBQ0E7b0JBQUksT0FBSixBQUFXLGFBQWEsQUFDcEI7NEJBQUEsQUFBUSxJQUFSLEFBQVksQUFDZjtBQUZELHVCQUVPLEFBQ0g7NEJBQUEsQUFBUSxJQUFSLEFBQVksQUFDZjtBQUNKO0FBUE0sYUFBQSxNQU9BLEFBQ0g7d0JBQUEsQUFBUSxJQUFSLEFBQVksQUFDZjtBQUNKO0FBRUQ7O2VBQUEsQUFBTyxJQUFJLGVBQVgsQUFBMEIsQUFDMUI7a0JBQUEsQUFBVSxRQUFRLHFCQUFsQixBQUF5QixBQUM1QjtBQUVEOzthQUFBLEFBQVMsd0JBQXdCLEFBQzdCO2VBQUEsQUFBTyxJQUFJLDBDQUFBLEFBQ1AsY0FBYyxPQURQLEFBQ2MsYUFEZCxBQUVQLGVBQWUsT0FGUixBQUVlLGNBRmYsQUFHUCxpQkFBaUIsT0FIckIsQUFHNEIsQUFDNUI7WUFBSSxRQUFRLE9BQVosQUFBbUIsQUFDbkI7WUFBSSxTQUFTLE9BQWIsQUFBb0IsQUFDcEI7a0JBQUEsQUFBVSxRQUFRLHFCQUFsQixBQUF5QjttQkFBc0IsQUFDcEMsQUFDUDtvQkFGSixBQUErQyxBQUVuQyxBQUVmO0FBSmtELEFBQzNDO0FBS1I7O2FBQUEsQUFBUyxtQkFBbUIsQUFDeEI7ZUFBQSxBQUFPLElBQVAsQUFBVyxBQUNkO0FBRUQ7O2FBQUEsQUFBUyxnQkFBZ0IsQUFDckI7ZUFBQSxBQUFPLElBQVAsQUFBVyxBQUNYO2tCQUFBLEFBQVUsUUFBUSxxQkFBbEIsQUFBeUIsQUFDNUI7QUFFRDs7YUFBQSxBQUFTLGNBQWMsQUFDbkI7ZUFBQSxBQUFPLElBQVAsQUFBVyxBQUNkO0FBRUQ7O2FBQUEsQUFBUyxpQkFBaUIsQUFDdEI7ZUFBQSxBQUFPLElBQVAsQUFBVyxBQUNYO2tCQUFBLEFBQVUsUUFBUSxxQkFBbEIsQUFBeUIsQUFDNUI7QUFFRDs7YUFBQSxBQUFTLGdCQUFULEFBQXlCLEdBQUcsQUFDeEI7WUFBSSxXQUFXLHFCQUFBLEFBQVcsU0FBUyxPQUFuQyxBQUFlLEFBQTJCLEFBRTFDOztBQUNIO0FBRUQ7O2FBQUEsQUFBUyxrQkFBVCxBQUEyQixHQUFHLEFBQzFCO2VBQUEsQUFBTyxJQUFQLEFBQVcsQUFDZDtBQUVEOzthQUFBLEFBQVMsaUJBQWlCLEFBQ3RCO2tCQUFBLEFBQVUsUUFBUSxxQkFBbEIsQUFBeUIsQUFDNUI7QUFFRDs7YUFBQSxBQUFTLGdCQUFnQixBQUNyQjtrQkFBQSxBQUFVLFFBQVEscUJBQWxCLEFBQXlCLEFBQzVCO0FBRUQ7O2FBQUEsQUFBUyxpQkFBaUIsQUFDdEI7ZUFBQSxBQUFPLElBQVAsQUFBVyxBQUNkO0FBRUQ7O2FBQUEsQUFBUyxtQkFBVCxBQUE0QixHQUFHLEFBQzNCO2tCQUFBLEFBQVUsUUFBUSxxQkFBbEIsQUFBeUIsQUFDekI7QUFDSDtBQUVEOzthQUFBLEFBQVMsdUJBQXVCLEFBQzVCO2VBQUEsQUFBTyxJQUFJLHVEQUF1RCxPQUF2RCxBQUE4RCxRQUE5RCxBQUFzRSxlQUFlLE9BQWhHLEFBQXVHLEFBQ3ZHO2tCQUFBLEFBQVUsUUFBUSxxQkFBbEIsQUFBeUIsQUFDNUI7QUFFRDs7YUFBQSxBQUFTLGlCQUFpQixBQUN0QjtlQUFBLEFBQU8sSUFBUCxBQUFXLEFBQ1g7a0JBQUEsQUFBVSxRQUFRLHFCQUFsQixBQUF5QixBQUM1QjtBQUNEO0FBRUE7O0FBQ0E7YUFBQSxBQUFTLG9CQUFvQixBQUN6QjtlQUFBLEFBQU8saUJBQVAsQUFBd0IscUJBQXhCLEFBQTZDLEFBQzdDO2VBQUEsQUFBTyxpQkFBUCxBQUF3QixTQUF4QixBQUFpQyxBQUNqQztlQUFBLEFBQU8saUJBQVAsQUFBd0IsV0FBeEIsQUFBbUMsQUFDbkM7ZUFBQSxBQUFPLGlCQUFQLEFBQXdCLGtCQUF4QixBQUEwQyxBQUMxQztlQUFBLEFBQU8saUJBQVAsQUFBd0Isa0JBQXhCLEFBQTBDLEFBQzFDO2VBQUEsQUFBTyxpQkFBUCxBQUF3QixTQUF4QixBQUFpQyxBQUNqQztlQUFBLEFBQU8saUJBQVAsQUFBd0IsU0FBeEIsQUFBaUMsQUFDakM7ZUFBQSxBQUFPLGlCQUFQLEFBQXdCLGtCQUF4QixBQUEwQyxBQUMxQztlQUFBLEFBQU8saUJBQVAsQUFBd0IsZ0JBQXhCLEFBQXdDLEFBQ3hDO2VBQUEsQUFBTyxpQkFBUCxBQUF3QixjQUF4QixBQUFzQyxBQUN0QztlQUFBLEFBQU8saUJBQVAsQUFBd0Isa0JBQXhCLEFBQTBDLEFBQzFDO2VBQUEsQUFBTyxpQkFBUCxBQUF3QixhQUF4QixBQUFxQyxBQUNyQztlQUFBLEFBQU8saUJBQVAsQUFBd0IsU0FBeEIsQUFBaUMsQUFDakM7ZUFBQSxBQUFPLGlCQUFQLEFBQXdCLFFBQXhCLEFBQWdDLEFBQ2hDO2VBQUEsQUFBTyxpQkFBUCxBQUF3QixXQUF4QixBQUFtQyxBQUNuQztlQUFBLEFBQU8saUJBQVAsQUFBd0IsWUFBeEIsQUFBb0MsQUFDcEM7ZUFBQSxBQUFPLGlCQUFQLEFBQXdCLGNBQXhCLEFBQXNDLEFBQ3RDO2VBQUEsQUFBTyxpQkFBUCxBQUF3QixXQUF4QixBQUFtQyxBQUNuQztlQUFBLEFBQU8saUJBQVAsQUFBd0IsVUFBeEIsQUFBa0MsQUFDbEM7ZUFBQSxBQUFPLGlCQUFQLEFBQXdCLFdBQXhCLEFBQW1DLEFBQ25DO2VBQUEsQUFBTyxpQkFBUCxBQUF3QixjQUF4QixBQUFzQyxBQUN0QztlQUFBLEFBQU8saUJBQVAsQUFBd0IsZ0JBQXhCLEFBQXdDLEFBQ3hDO2VBQUEsQUFBTyxpQkFBUCxBQUF3QixXQUF4QixBQUFtQyxBQUN0QztBQUVEOzthQUFBLEFBQVMsd0JBQXdCLEFBQzdCO2VBQUEsQUFBTyxvQkFBUCxBQUEyQixxQkFBM0IsQUFBZ0QsQUFDaEQ7ZUFBQSxBQUFPLG9CQUFQLEFBQTJCLFNBQTNCLEFBQW9DLEFBQ3BDO2VBQUEsQUFBTyxvQkFBUCxBQUEyQixXQUEzQixBQUFzQyxBQUN0QztlQUFBLEFBQU8sb0JBQVAsQUFBMkIsa0JBQTNCLEFBQTZDLEFBQzdDO2VBQUEsQUFBTyxvQkFBUCxBQUEyQixrQkFBM0IsQUFBNkMsQUFDN0M7ZUFBQSxBQUFPLG9CQUFQLEFBQTJCLFNBQTNCLEFBQW9DLEFBQ3BDO2VBQUEsQUFBTyxvQkFBUCxBQUEyQixTQUEzQixBQUFvQyxBQUNwQztlQUFBLEFBQU8sb0JBQVAsQUFBMkIsa0JBQTNCLEFBQTZDLEFBQzdDO2VBQUEsQUFBTyxvQkFBUCxBQUEyQixnQkFBM0IsQUFBMkMsQUFDM0M7ZUFBQSxBQUFPLG9CQUFQLEFBQTJCLGNBQTNCLEFBQXlDLEFBQ3pDO2VBQUEsQUFBTyxvQkFBUCxBQUEyQixrQkFBM0IsQUFBNkMsQUFDN0M7ZUFBQSxBQUFPLG9CQUFQLEFBQTJCLGFBQTNCLEFBQXdDLEFBQ3hDO2VBQUEsQUFBTyxvQkFBUCxBQUEyQixTQUEzQixBQUFvQyxBQUNwQztlQUFBLEFBQU8sb0JBQVAsQUFBMkIsUUFBM0IsQUFBbUMsQUFDbkM7ZUFBQSxBQUFPLG9CQUFQLEFBQTJCLFdBQTNCLEFBQXNDLEFBQ3RDO2VBQUEsQUFBTyxvQkFBUCxBQUEyQixZQUEzQixBQUF1QyxBQUN2QztlQUFBLEFBQU8sb0JBQVAsQUFBMkIsY0FBM0IsQUFBeUMsQUFDekM7ZUFBQSxBQUFPLG9CQUFQLEFBQTJCLFdBQTNCLEFBQXNDLEFBQ3RDO2VBQUEsQUFBTyxvQkFBUCxBQUEyQixVQUEzQixBQUFxQyxBQUNyQztlQUFBLEFBQU8sb0JBQVAsQUFBMkIsV0FBM0IsQUFBc0MsQUFDdEM7ZUFBQSxBQUFPLG9CQUFQLEFBQTJCLGNBQTNCLEFBQXlDLEFBQ3pDO2VBQUEsQUFBTyxvQkFBUCxBQUEyQixnQkFBM0IsQUFBMkMsQUFDM0M7ZUFBQSxBQUFPLG9CQUFQLEFBQTJCLFdBQTNCLEFBQXNDLEFBQ3pDO0FBRUQ7O2FBQUEsQUFBUyxPQUFULEFBQWdCLFFBQVEsQUFDcEI7ZUFBQSxBQUFPLE1BQVAsQUFBYSxBQUNoQjtBQUVEOzthQUFBLEFBQVMsU0FBUyxBQUNkO2VBQU8sT0FBUCxBQUFjLEFBQ2pCO0FBRUQ7O2FBQUEsQUFBUyxZQUFZLEFBQ2pCO1lBQUEsQUFBSSxnQkFBZ0IsT0FBcEIsQUFBMkIsQUFDOUI7QUFFRDs7YUFBQSxBQUFTLHVCQUFULEFBQWdDLFlBQVksQUFDeEM7WUFBSSxtQkFBSixBQUNBO2FBQUssSUFBSSxJQUFULEFBQWEsR0FBRyxJQUFJLE9BQUEsQUFBTyxTQUEzQixBQUFvQyxRQUFRLEVBQTVDLEFBQThDLEdBQUcsQUFDN0M7Z0JBQUksUUFBUSxPQUFBLEFBQU8sU0FBUCxBQUFnQixNQUE1QixBQUFZLEFBQXNCLEFBQ2xDO2dCQUFJLE1BQU0sT0FBQSxBQUFPLFNBQVAsQUFBZ0IsSUFBMUIsQUFBVSxBQUFvQixBQUU5Qjs7Z0JBQUksY0FBQSxBQUFjLFNBQVMsY0FBM0IsQUFBeUMsS0FBSyxBQUMxQzs4QkFBQSxBQUFjLEFBQ2Q7QUFDSDtBQUNKO0FBRUQ7O2VBQUEsQUFBTyxBQUNWO0FBRUQ7O2FBQUEsQUFBUyxRQUFRLEFBQ2I7ZUFBQSxBQUFPLElBQVAsQUFBVyxBQUNYO0FBQ0E7QUFDQTtZQUFBLEFBQUksUUFBUSxBQUNSO21CQUFBLEFBQU8sZ0JBQVAsQUFBdUIsQUFDdkI7bUJBQUEsQUFBTyxBQUNWO0FBQ0o7QUFFRDs7UUFBSTt3QkFBVyxBQUNLLEFBQ2hCO2NBRlcsQUFFTCxBQUNOO2VBSFcsQUFHSixBQUNQO2tCQUpXLEFBSUQsQUFDVjtxQkFMVyxBQUtFLEFBQ2I7cUJBTlcsQUFNRSxBQUNiO3FCQVBXLEFBT0UsQUFDYjttQkFSVyxBQVFBLEFBQ1g7aUJBVFcsQUFTRixBQUNUO2NBVlcsQUFVTCxBQUNOO2dCQVhXLEFBV0gsQUFDUjtpQkFaVyxBQVlGLEFBQ1Q7bUJBYlcsQUFhQSxBQUNYO21CQWRXLEFBY0EsQUFDWDtvQkFmVyxBQWVDLEFBQ1o7cUJBaEJXLEFBZ0JFLEFBRWI7O2VBbEJXLEFBa0JKLEFBQ1A7Z0JBbkJXLEFBbUJILEFBQ1I7bUJBcEJXLEFBb0JBLEFBQ1g7Z0NBckJKLEFBQWUsQUFxQmEsQUFHNUI7QUF4QmUsQUFDWDs7QUF3Qko7V0FBQSxBQUFPLEFBQ1Y7OztBQUVELFlBQUEsQUFBWSwwQkFBWixBQUFzQztrQkFDdkIsdUJBQUEsQUFBYSxvQixBQUFiLEFBQWlDOzs7Ozs7Ozs7QUNsYS9DOzs7O0FBQ0Q7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7OztBQUVBLFNBQUEsQUFBUyxvQkFBb0IsQUFDekI7UUFBSSxZQUFZLHdCQUFBLEFBQVMsUUFBekIsQUFBZ0IsQUFBaUIsQUFDakM7UUFBSSxTQUFTLHFCQUFBLEFBQU0sUUFBbkIsQUFBYSxBQUFjLEFBQzNCO1FBQUksWUFBSixBQUFnQixBQUNoQjtRQUFJLGdCQUFKLEFBQW9CLEFBQ3BCO1FBQUksaUJBQUosQUFBcUIsQUFDckI7UUFBSSxpQkFBSixBQUFxQixBQUNyQjtRQUFJLGtCQUFKLEFBQXNCLEFBRXRCOztXQUFBLEFBQU8sSUFBUCxBQUFXLEFBRVg7O2FBQUEsQUFBUyxRQUFRLEFBQ2I7a0JBQUEsQUFBVSxHQUFHLHFCQUFiLEFBQW9CLHFCQUFwQixBQUF5QyxBQUN6QztrQkFBQSxBQUFVLEdBQUcscUJBQWIsQUFBb0IsMkJBQXBCLEFBQStDLEFBQ2xEO0FBRUQ7O2FBQUEsQUFBUyxLQUFULEFBQWMsY0FBYyxBQUN4QjtlQUFBLEFBQU8sSUFBUCxBQUFXLEFBQ1g7d0JBQUEsQUFBZ0IsQUFFaEI7O1lBQUksY0FBSixBQUFrQixNQUFNLEFBQ3BCOzZCQUFpQixrQ0FBd0IsY0FBekMsQUFBaUIsQUFBc0MsQUFDMUQ7QUFDRDtZQUFJLGNBQUosQUFBa0IsTUFBTSxBQUNwQjs2QkFBaUIsa0NBQXdCLGNBQXpDLEFBQWlCLEFBQXNDLEFBQzFEO0FBQ0Q7WUFBSSxjQUFKLEFBQWtCLE9BQU8sQUFDckI7OEJBQWtCLGtDQUF3QixjQUExQyxBQUFrQixBQUFzQyxBQUMzRDtBQUVEOztBQUNBO1lBQUksWUFBYSx1QkFBakIsQUFBd0MsQUFDeEM7WUFBSSxpQkFBa0IsaUJBQXRCLEFBQXVDLEFBRXZDOztZQUFBLEFBQUksZ0JBQWdCLEFBQ2hCO3dCQUFZLElBQVosQUFBWSxBQUFJLEFBQ2hCO3NCQUFBLEFBQVUsaUJBQVYsQUFBMkIsY0FBM0IsQUFBeUMsbUJBQXpDLEFBQTRELEFBQzVEO3NCQUFBLEFBQVUsaUJBQVYsQUFBMkIsZUFBM0IsQUFBMEMsb0JBQTFDLEFBQThELEFBQzlEO3NCQUFBLEFBQVUsaUJBQVYsQUFBMkIsZUFBM0IsQUFBMEMsb0JBQTFDLEFBQThELEFBQ2pFO0FBTEQsZUFLTyxJQUFBLEFBQUksV0FBVyxBQUNsQjt3QkFBWSxJQUFaLEFBQVksQUFBSSxBQUNoQjtzQkFBQSxBQUFVLGlCQUFWLEFBQTJCLG9CQUEzQixBQUErQyxtQkFBL0MsQUFBa0UsQUFDckU7QUFFRDs7ZUFBQSxBQUFPLElBQVAsQUFBVyxBQUNkO0FBRUQ7O2FBQUEsQUFBUyxRQUFRLEFBQ2I7QUFDQTtvQkFBQSxBQUFZLEFBQ2Y7QUFFRDs7YUFBQSxBQUFTLFlBQVQsQUFBcUIsT0FBTyxBQUN4QjtZQUFJLFVBQUEsQUFBVSxZQUFkLEFBQTBCLE9BQU8sQUFDN0I7c0JBQUEsQUFBVSxXQUFWLEFBQXFCLEFBQ3hCO0FBRUQ7O2VBQU8sVUFBUCxBQUFpQixBQUNwQjtBQUVEOzthQUFBLEFBQVMsb0JBQW9CLEFBQ3pCO2VBQUEsQUFBTyxJQUFQLEFBQVcsQUFDWDtrQkFBQSxBQUFVLEFBQ2I7QUFFRDs7YUFBQSxBQUFTLGlCQUFpQixBQUN0QjtlQUFBLEFBQU8sQUFDVjtBQUVEOzthQUFBLEFBQVMsYUFBVCxBQUFzQixHQUFHLEFBQ3JCO1lBQUksRUFBQSxBQUFFLFNBQU4sQUFBZSxTQUFTLEFBQ3BCOzJCQUFBLEFBQWUsYUFBYSxFQUE1QixBQUE4QixBQUNqQztBQUZELG1CQUVXLEVBQUEsQUFBRSxTQUFOLEFBQWUsU0FBUyxBQUMzQjsyQkFBQSxBQUFlLGFBQWEsRUFBNUIsQUFBOEIsQUFDakM7QUFGTSxTQUFBLE1BRUEsSUFBSSxFQUFBLEFBQUUsU0FBTixBQUFlLE1BQU0sQUFDeEI7NEJBQUEsQUFBZ0IsYUFBYSxFQUE3QixBQUErQixBQUNsQztBQUNKO0FBRUQ7O2FBQUEsQUFBUyxlQUFlLEFBQ3BCO1lBQUEsQUFBSSxnQkFBZ0IsQUFDaEI7MkJBQUEsQUFBZSxBQUNsQjtBQUNEO1lBQUEsQUFBSSxnQkFBZ0IsQUFDaEI7MkJBQUEsQUFBZSxBQUNsQjtBQUNEO1lBQUEsQUFBSSxpQkFBaUIsQUFDakI7NEJBQUEsQUFBZ0IsQUFDbkI7QUFFRDs7eUJBQUEsQUFBaUIsQUFDakI7eUJBQUEsQUFBaUIsQUFDcEI7QUFFRDs7YUFBQSxBQUFTLG9CQUFvQixBQUN6QjtlQUFBLEFBQU8sSUFBUCxBQUFXLEFBRVg7O0FBQ0E7a0JBQUEsQUFBVSxvQkFBVixBQUE4QixjQUE5QixBQUE0QyxBQUM1QztrQkFBQSxBQUFVLG9CQUFWLEFBQThCLG9CQUE5QixBQUFrRCxBQUVsRDs7QUFDQTtZQUFJLGNBQUosQUFBa0IsMkJBQTJCLEFBQ3pDO3dCQUFZLGNBQVosQUFBMEIsQUFDN0I7QUFFRDs7WUFBQSxBQUFJLGdCQUFnQixBQUNoQjsyQkFBQSxBQUFlLEtBQWYsQUFBb0IsQUFDdkI7QUFDRDtZQUFBLEFBQUksZ0JBQWdCLEFBQ2hCOzJCQUFBLEFBQWUsS0FBZixBQUFvQixBQUN2QjtBQUNEO1lBQUEsQUFBSSxpQkFBaUIsQUFDakI7NEJBQUEsQUFBZ0IsS0FBaEIsQUFBcUIsQUFDeEI7QUFFRDs7a0JBQUEsQUFBVSxRQUFRLHFCQUFsQixBQUF5QixZQUF6QixBQUFxQyxBQUN4QztBQUVEOzthQUFBLEFBQVMscUJBQXFCLEFBQzFCO2VBQUEsQUFBTyxJQUFQLEFBQVcsQUFDZDtBQUVEOzthQUFBLEFBQVMscUJBQXFCLEFBQzFCO2VBQUEsQUFBTyxJQUFQLEFBQVcsQUFDZDtBQUVEOzthQUFBLEFBQVMscUJBQVQsQUFBOEIsR0FBRyxBQUM3QjtxQkFBQSxBQUFhLEFBQ2hCO0FBRUQ7O2FBQUEsQUFBUyw0QkFBNEIsQUFDakM7QUFDSDtBQUVEOztRQUFJO2NBQVcsQUFDTCxBQUNOO2VBRlcsQUFFSixBQUNQO3FCQUhXLEFBR0UsQUFDYjsyQkFKVyxBQUlRLEFBQ25CO3dCQUxXLEFBS0ssQUFDaEI7c0JBTlcsQUFNRyxBQUNkO3NCQVBKLEFBQWUsQUFPRyxBQUVsQjtBQVRlLEFBQ1g7QUFTSjtXQUFBLEFBQU8sQUFDVjs7O2tCLEFBRWM7Ozs7Ozs7OztBQ3pKZjs7Ozs7Ozs7QUFFQSxTQUFBLEFBQVMsV0FBVyxBQUNoQjtRQUFJLHFCQUFKLEFBQ0E7QUFDQTtRQUFJLHFCQUFKLEFBQ0E7YUFBQSxBQUFTLGFBQVQsQUFBc0IsS0FBSyxBQUN2Qjt3QkFBQSxBQUFnQixBQUVoQjs7WUFBSTtrQkFBUSxBQUNGLEFBQ047b0JBRlEsQUFFQSxBQUNSO21CQUhKLEFBQVksQUFHRCxBQUdYO0FBTlksQUFDUjs7QUFNSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OzttQkFBQSxBQUFnQixBQUNMLEFBRVg7QUFIZ0IsQUFDWjtlQUVKLEFBQU8sQUFDVjtBQUVEOzthQUFBLEFBQVMsa0JBQWtCLEFBQ3ZCO1lBQUksTUFBSixBQUFVLEFBQ1Y7WUFBSSxDQUFKLEFBQUssZUFBZSxBQUNoQjtrQkFBTSxFQUFFLE1BQU0sY0FBQSxBQUFjLE1BQXRCLEFBQTRCLE1BQU0sS0FBSyxjQUFBLEFBQWMsTUFBM0QsQUFBTSxBQUEyRCxBQUNqRTs0QkFBQSxBQUFnQixBQUNuQjtBQUVEOztlQUFBLEFBQU8sQUFDVjtBQUVEOztRQUFJO3NCQUFXLEFBQ0csQUFDZDt5QkFGSixBQUFlLEFBRU0sQUFFckI7QUFKZSxBQUNYO1dBR0osQUFBTyxBQUNWOzs7QUFFRCxTQUFBLEFBQVMsMEJBQVQsQUFBbUM7a0JBQ3BCLHVCQUFBLEFBQWEsb0IsQUFBYixBQUFpQzs7Ozs7Ozs7O0FDOUNoRDs7OztBQUVBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7OztBQUdBLFNBQUEsQUFBUywwQkFBMEIsQUFDL0I7UUFBSSxXQUFXLEtBQWYsQUFBb0IsQUFFcEI7O1FBQUksaUJBQUosQUFDQTtRQUFJLG1CQUFKLEFBRUE7O2FBQUEsQUFBUyxhQUFhLEFBQ2xCO3NCQUFBLEFBQWMsQUFFZDs7WUFBQSxBQUFJLEFBRUo7O0FBQ0E7b0JBQVksaUNBQUEsQUFBa0IsVUFBOUIsQUFBWSxBQUE0QixBQUN4QztvQkFBQSxBQUFZLEtBQVosQUFBaUIsQUFFakI7O0FBQ0E7b0JBQVksa0NBQUEsQUFBbUIsVUFBL0IsQUFBWSxBQUE2QixBQUN6QztvQkFBQSxBQUFZLEtBQVosQUFBaUIsQUFFakI7O0FBQ0E7b0JBQVksaUNBQUEsQUFBa0IsVUFBOUIsQUFBWSxBQUE0QixBQUN4QztvQkFBQSxBQUFZLEtBQVosQUFBaUIsQUFFakI7O0FBQ0E7b0JBQVksb0NBQUEsQUFBcUIsVUFBakMsQUFBWSxBQUErQixBQUMzQztvQkFBQSxBQUFZLEtBQVosQUFBaUIsQUFDcEI7QUFFRDs7YUFBQSxBQUFTLGdCQUFnQixBQUNyQjtlQUFBLEFBQU8sQUFDVjtBQUVEOzthQUFBLEFBQVMsMkJBQVQsQUFBb0MsY0FBYyxBQUM5QztZQUFJLE9BQUEsQUFBTyxRQUFRLE9BQUEsQUFBTyxLQUExQixBQUErQixjQUFjLEFBQ3pDO2dCQUFJLGlCQUFKLEFBQXFCLDJCQUEyQixBQUM1QzsrQkFBQSxBQUFlLEFBQ2xCO0FBQ0o7QUFFRDs7YUFBSyxJQUFJLElBQVQsQUFBYSxHQUFHLElBQUksWUFBcEIsQUFBZ0MsUUFBaEMsQUFBd0MsS0FBSyxBQUN6QztnQkFBSSxZQUFBLEFBQVksR0FBWixBQUFlLGlCQUFuQixBQUFvQyxjQUFjLEFBQzlDO3VCQUFPLFlBQVAsQUFBTyxBQUFZLEFBQ3RCO0FBQ0o7QUFDRDtlQUFBLEFBQU8sQUFDVjtBQUVEOzs7dUJBQVksQUFDTyxBQUNmO29DQUZKLEFBQVksQUFFb0IsQUFHaEM7QUFMWSxBQUNSOztBQUtKO1dBQUEsQUFBTyxBQUNWOzs7QUFFRCx3QkFBQSxBQUF3QiwwQkFBeEIsQUFBa0Q7a0JBQ25DLHVCQUFBLEFBQWEsb0IsQUFBYixBQUFpQzs7Ozs7Ozs7O0FDNUJoRDs7OztBQUNBOzs7O0FBRUE7Ozs7QUFDQTs7Ozs7Ozs7QUF6Q0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUErQkE7Ozs7OztBQVlBLElBQU0sT0FBTixBQUFhO0FBQ2IsSUFBTSxlQUFOLEFBQXFCO0FBQ3JCLElBQU0sY0FBYyxjQUFwQixBQUFrQzs7QUFFbEMsU0FBQSxBQUFTLHVCQUF1QixBQUU1Qjs7UUFBSSxpQkFBSixBQUNBO1FBQUksZ0JBQUosQUFBb0IsQUFFcEI7O2FBQUEsQUFBUyw2QkFBVCxBQUFzQyxTQUFTLEFBQzNDO1lBQUksVUFBSixBQUFjLEFBQ2Q7Z0JBQUEsQUFBUSxrQkFBUixBQUEwQixBQUMxQjtnQkFBQSxBQUFRLGdCQUFSLEFBQXdCLEFBQ3hCO2VBQUEsQUFBTyxBQUNWO0FBRUQ7O2FBQUEsQUFBUyw2QkFBVCxBQUFzQyxTQUFTLEFBQzNDO2dCQUFBLEFBQVEsSUFBUixBQUFZLEFBQ1o7ZUFBTyxJQUFBLEFBQUksV0FBWCxBQUFPLEFBQWUsQUFDekI7QUFFRDs7YUFBQSxBQUFTLGdDQUFULEFBQXlDLFVBQVUsQUFDL0M7WUFBQSxBQUFJLFVBQVUsQUFDVjtnQkFBSSxPQUFPLElBQUEsQUFBSSxTQUFmLEFBQVcsQUFBYSxBQUN4QjtnQkFBSSxhQUFhLEtBQUEsQUFBSyxVQUFMLEFBQWUsR0FBaEMsQUFBaUIsQUFBa0IsQUFDbkM7Z0JBQUksU0FBSixBQUFhLEFBQ2I7Z0JBQUksU0FBUyxJQUFiLEFBQWEsQUFBSSxBQUVqQjs7aUJBQUssSUFBSSxJQUFULEFBQWEsR0FBRyxJQUFoQixBQUFvQixZQUFwQixBQUFnQyxLQUFLLEFBQ2pDO0FBQ0E7b0JBQUksYUFBYSxLQUFBLEFBQUssVUFBTCxBQUFlLFFBQWhDLEFBQWlCLEFBQXVCLEFBQ3hDOzBCQUFBLEFBQVUsQUFDVjtvQkFBSSxlQUFlLEtBQUEsQUFBSyxVQUFMLEFBQWUsUUFBbEMsQUFBbUIsQUFBdUIsQUFDMUM7MEJBQUEsQUFBVSxBQUNWO29CQUFJLGVBQUosQUFBbUIsUUFBUSxBQUN2Qjs4QkFBQSxBQUFVLEFBQ1Y7QUFDQTt3QkFBSSxVQUFVLEtBQUEsQUFBSyxhQUFuQixBQUFnQyxHQUFHLEFBQy9COytCQUFBLEFBQU8sQUFDVjtBQUNEO0FBQ0E7QUFDSDtBQUVEOztvQkFBSSxhQUFhLFNBQUEsQUFBUyxNQUFULEFBQWUsUUFBUSxTQUF4QyxBQUFpQixBQUFnQyxBQUNqRDtvQkFBSSxTQUFTLE9BQUEsQUFBTyxhQUFQLEFBQW9CLE1BQXBCLEFBQTBCLE1BQU0sSUFBQSxBQUFJLFlBQWpELEFBQWEsQUFBZ0MsQUFBZ0IsQUFDN0Q7b0JBQUksU0FBUyxPQUFBLEFBQU8sZ0JBQVAsQUFBdUIsUUFBcEMsQUFBYSxBQUErQixBQUU1Qzs7QUFDQTtvQkFBSSxPQUFBLEFBQU8scUJBQVAsQUFBNEIsVUFBaEMsQUFBSSxBQUFzQyxJQUFJLEFBQzFDO3dCQUFJLFFBQVEsT0FBQSxBQUFPLHFCQUFQLEFBQTRCLFVBQTVCLEFBQXNDLEdBQXRDLEFBQXlDLFdBQXpDLEFBQW9ELEdBQWhFLEFBQW1FLEFBQ25FO3dCQUFBLEFBQUksT0FBTyxBQUNQOytCQUFBLEFBQU8sQUFDVjtBQUNKO0FBRUQ7O0FBQ0E7b0JBQUksT0FBQSxBQUFPLHFCQUFQLEFBQTRCLFdBQWhDLEFBQUksQUFBdUMsSUFBSSxBQUMzQzt3QkFBSSxTQUFTLE9BQUEsQUFBTyxxQkFBUCxBQUE0QixXQUE1QixBQUF1QyxHQUF2QyxBQUEwQyxXQUExQyxBQUFxRCxHQUFsRSxBQUFxRSxBQUNyRTt3QkFBQSxBQUFJLFFBQVEsQUFDUjsrQkFBQSxBQUFPLEFBQ1Y7QUFDSjtBQUNKO0FBQ0o7QUFFRDs7ZUFBQSxBQUFPLEFBQ1Y7QUFFRDs7YUFBQSxBQUFTLFlBQVQsQUFBcUIsUUFBUSxBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7WUFBSSxjQUFjLElBQUEsQUFBSSxXQUFXLENBQUEsQUFBQyxNQUFELEFBQU8sTUFBUCxBQUFhLE1BQWIsQUFBbUIsTUFBbkIsQUFBeUIsTUFBekIsQUFBK0IsTUFBL0IsQUFBcUMsTUFUN0MsQUFTekIsQUFBa0IsQUFBZSxBQUEyQyxRQUFRLEFBQ3BGO1lBQUksb0JBQW9CLElBQUEsQUFBSSxXQUFXLENBQUEsQUFBQyxNQUFELEFBQU8sTUFBUCxBQUFhLE1BQWIsQUFBbUIsTUFBbkIsQUFBeUIsTUFBekIsQUFBK0IsTUFBL0IsQUFBcUMsTUFBckMsQUFBMkMsTUFBM0MsQUFBaUQsTUFBakQsQUFBdUQsTUFBdkQsQUFBNkQsTUFBN0QsQUFBbUUsTUFBbkUsQUFBeUUsTUFBekUsQUFBK0UsTUFBL0UsQUFBcUYsTUFBNUgsQUFBd0IsQUFBZSxBQUEyRixBQUVsSTs7WUFBSSxhQUFKLEFBQWlCLEFBQ2pCO1lBQUksNkJBQUosQUFBaUMsQUFFakM7O1lBQUEsQUFBSSxTQUFKLEFBQ0ksVUFESixBQUVJLGVBRkosQUFHSSxTQUhKLEFBSUksQUFFSjs7QUFDQTtZQUFJLFVBQUosQUFBYyxRQUFRLEFBQ2xCO21CQUFPLDJCQUFBLEFBQWlCLG1DQUF4QixBQUFPLEFBQW9ELEFBQzlEO0FBQ0Q7QUFDQTtZQUFJLFNBQUosQUFBYSxRQUFRLEFBQ2pCO3lDQUE2QixlQUFBLEFBQU8sWUFBWSxPQUFBLEFBQU8sSUFBdkQsQUFBNkIsQUFBOEIsQUFDOUQ7QUFGRCxtQkFHUyxjQUFKLEFBQWtCLFFBQVEsQUFDM0I7eUNBQTZCLGVBQUEsQUFBTyxZQUFZLE9BQUEsQUFBTyxTQUF2RCxBQUE2QixBQUFtQyxBQUNuRTtBQUZJLFNBQUEsTUFHQSxBQUNEO21CQUFBLEFBQU8sQUFDVjtBQUVEOztrQkFBVSwyQkFBVixBQUFxQyxBQUNyQzttQkFBVyxNQUFNLFlBQU4sQUFBa0IsU0FBUyxrQkFBM0IsQUFBNkMsU0FBN0MsQUFBc0QsTUFBakUsQUFBdUUsQUFFdkU7O3dCQUFnQixJQUFBLEFBQUksWUFBcEIsQUFBZ0IsQUFBZ0IsQUFFaEM7O2tCQUFVLElBQUEsQUFBSSxXQUFkLEFBQVUsQUFBZSxBQUN6QjttQkFBVyxJQUFBLEFBQUksU0FBZixBQUFXLEFBQWEsQUFFeEI7O2lCQUFBLEFBQVMsVUFBVCxBQUFtQixZQUFuQixBQUErQixBQUMvQjtzQkFBQSxBQUFjLEFBRWQ7O2dCQUFBLEFBQVEsSUFBUixBQUFZLGFBQVosQUFBeUIsQUFDekI7c0JBQWMsWUFBZCxBQUEwQixBQUUxQjs7Z0JBQUEsQUFBUSxJQUFSLEFBQVksbUJBQVosQUFBK0IsQUFDL0I7c0JBQWMsa0JBQWQsQUFBZ0MsQUFFaEM7O2lCQUFBLEFBQVMsVUFBVCxBQUFtQixZQUFuQixBQUErQixBQUMvQjtzQkFBQSxBQUFjLEFBRWQ7O2dCQUFBLEFBQVEsSUFBUixBQUFZLDRCQUFaLEFBQXdDLEFBQ3hDO3NCQUFBLEFBQWMsQUFFZDs7ZUFBTyxRQUFQLEFBQWUsQUFDbEI7QUFFRDs7QUFRQTs7Ozs7Ozs7YUFBQSxBQUFTLDBCQUFULEFBQW1DLFFBQVEsQUFDdkM7WUFBSSxXQUFBLEFBQVcsVUFBVSxXQUF6QixBQUFvQyxTQUFTLEFBQ3pDO2tCQUFNLG9CQUFVLDBDQUFoQixBQUFNLEFBQW9ELEFBQzdEO0FBQ0Q7d0JBQUEsQUFBZ0IsQUFDbkI7QUFFRDs7O2NBQVksQUFDRixBQUNOO3FCQUZRLEFBRUssQUFDYjtzQkFIUSxBQUdNLEFBQ2Q7cUJBSlEsQUFJSyxBQUNiO3NDQUxRLEFBS3NCLEFBQzlCO3NDQU5RLEFBTXNCLEFBQzlCO3lDQVBRLEFBT3lCLEFBQ2pDO21DQVJKLEFBQVksQUFRbUIsQUFHL0I7QUFYWSxBQUNSOztXQVVKLEFBQU8sQUFDVjs7O0FBRUQscUJBQUEsQUFBcUIsMEJBQXJCLEFBQStDO2tCQUNoQyx1QkFBQSxBQUFhLG9CLEFBQWIsQUFBaUM7Ozs7Ozs7OztBQzdLaEQ7Ozs7Ozs7O0FBRUEsSUFBTSxPLEFBQU4sQUFBYSx3Q0FqQ2I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrQ0EsSUFBTSxlQUFOLEFBQXFCO0FBQ3JCLElBQU0sY0FBYyxjQUFwQixBQUFrQzs7QUFFbEMsU0FBQSxBQUFTLG9CQUFvQixBQUV6Qjs7UUFBSSxnQkFBSixBQUNBO0FBVUE7Ozs7Ozs7Ozs7YUFBQSxBQUFTLCtCQUFULEFBQXdDLGdCQUF4QyxBQUF3RCxTQUFTLEFBQzdEO1lBQUksY0FBSixBQUFrQixBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO2VBQUEsQUFBTyxBQUNWO0FBRUQ7O2FBQUEsQUFBUyxZQUFULEFBQXFCLElBQUksQUFDckI7ZUFBTyxpQkFBQSxBQUFpQixtQ0FBeEIsQUFBTyxBQUFvRCxBQUM5RDtBQUVEOzthQUFBLEFBQVMsK0JBQTZCLFdBQWEsQUFDL0M7ZUFBQSxBQUFPLEFBQ1Y7QUFFRDs7YUFBQSxBQUFTLDZCQUFULEFBQXNDLFNBQVMsQUFDM0M7ZUFBTyxJQUFBLEFBQUksV0FBWCxBQUFPLEFBQWUsQUFDekI7QUFFRDs7YUFBQSxBQUFTLGtDQUFnQyxZQUFjLEFBQ25EO2VBQUEsQUFBTyxBQUNWO0FBRUQ7OztjQUFXLEFBQ0QsQUFDTjtxQkFGTyxBQUVNLEFBQ2I7c0JBSE8sQUFHTyxBQUNkO3FCQUpPLEFBSU0sQUFDYjtzQ0FMTyxBQUt1QixBQUM5QjtzQ0FOTyxBQU11QixBQUM5Qjt5Q0FQTyxBQU8wQixBQUNqQzt3Q0FSSixBQUFXLEFBUXlCLEFBR3BDO0FBWFcsQUFDUDs7V0FVSixBQUFPLEFBQ1Y7OztBQUVELGtCQUFBLEFBQWtCLDBCQUFsQixBQUE0QztrQkFDN0IsdUJBQUEsQUFBYSxvQixBQUFiLEFBQWlDOzs7Ozs7Ozs7QUNqRWhEOzs7O0FBQ0E7Ozs7QUFFQTs7OztBQUNBOzs7Ozs7OztBQXpDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQStCQTs7Ozs7O0FBWUEsSUFBTSxPQUFOLEFBQWE7QUFDYixJQUFNLGVBQU4sQUFBcUI7QUFDckIsSUFBTSxjQUFjLGNBQXBCLEFBQWtDOztBQUVsQyxTQUFBLEFBQVMscUJBQXFCLEFBRTFCOztRQUFJLGlCQUFKLEFBQ0E7UUFBSSxnQkFBSixBQUFvQixBQUVwQjs7YUFBQSxBQUFTLDZCQUFULEFBQXNDLFNBQVMsQUFDM0M7WUFBQSxBQUFJLEtBQUosQUFDSSxBQUNKO1lBQUksVUFBSixBQUFjLEFBQ2Q7WUFBSSxTQUFTLElBQWIsQUFBYSxBQUFJLEFBQ2pCO1lBQUksV0FBWSxrQkFBRCxBQUFtQixVQUFXLElBQUEsQUFBSSxZQUFsQyxBQUE4QixBQUFnQixXQUFXLElBQUEsQUFBSSxXQUE1RSxBQUF3RSxBQUFlLEFBRXZGOztjQUFNLE9BQUEsQUFBTyxhQUFQLEFBQW9CLE1BQXBCLEFBQTBCLE1BQWhDLEFBQU0sQUFBZ0MsQUFDdEM7aUJBQVMsT0FBQSxBQUFPLGdCQUFQLEFBQXVCLEtBQWhDLEFBQVMsQUFBNEIsQUFFckM7O1lBQUksaUJBQWlCLE9BQUEsQUFBTyxxQkFBNUIsQUFBcUIsQUFBNEIsQUFDakQ7WUFBSSxrQkFBa0IsT0FBQSxBQUFPLHFCQUE3QixBQUFzQixBQUE0QixBQUNsRDthQUFLLElBQUksSUFBVCxBQUFhLEdBQUcsSUFBSSxlQUFwQixBQUFtQyxRQUFuQyxBQUEyQyxLQUFLLEFBQzVDO29CQUFRLGVBQUEsQUFBZSxHQUFmLEFBQWtCLFdBQWxCLEFBQTZCLEdBQXJDLEFBQXdDLGFBQWEsZ0JBQUEsQUFBZ0IsR0FBaEIsQUFBbUIsV0FBbkIsQUFBOEIsR0FBbkYsQUFBc0YsQUFDekY7QUFDRDtBQUNBO0FBQ0E7QUFDQTtZQUFJLFFBQUEsQUFBUSxlQUFaLEFBQUksQUFBdUIsWUFBWSxBQUNuQztvQkFBQSxBQUFRLGtCQUFrQixRQUExQixBQUFrQyxBQUNsQzttQkFBTyxRQUFQLEFBQWUsQUFDbEI7QUFDRDtlQUFBLEFBQU8sQUFDVjtBQUVEOzthQUFBLEFBQVMsNkJBQVQsQUFBc0MsU0FBUyxBQUMzQztZQUFBLEFBQUksS0FBSixBQUNJLEFBQ0o7WUFBSSxpQkFBSixBQUFxQixBQUNyQjtZQUFJLFNBQVMsSUFBYixBQUFhLEFBQUksQUFDakI7WUFBSSxXQUFZLGtCQUFELEFBQW1CLFVBQVcsSUFBQSxBQUFJLFlBQWxDLEFBQThCLEFBQWdCLFdBQVcsSUFBQSxBQUFJLFdBQTVFLEFBQXdFLEFBQWUsQUFFdkY7O2NBQU0sT0FBQSxBQUFPLGFBQVAsQUFBb0IsTUFBcEIsQUFBMEIsTUFBaEMsQUFBTSxBQUFnQyxBQUN0QztpQkFBUyxPQUFBLEFBQU8sZ0JBQVAsQUFBdUIsS0FBaEMsQUFBUyxBQUE0QixBQUVyQzs7WUFBSSxPQUFBLEFBQU8scUJBQVAsQUFBNEIsYUFBaEMsQUFBSSxBQUF5QyxJQUFJLEFBQzdDO2dCQUFJLFlBQVksT0FBQSxBQUFPLHFCQUFQLEFBQTRCLGFBQTVCLEFBQXlDLEdBQXpDLEFBQTRDLFdBQTVDLEFBQXVELEdBQXZFLEFBQTBFLEFBQzFFO2dCQUFBLEFBQUksV0FBVyxBQUNYO2lDQUFpQixlQUFBLEFBQU8sT0FBeEIsQUFBaUIsQUFBYyxBQUNsQztBQUNKO0FBQ0Q7ZUFBQSxBQUFPLEFBQ1Y7QUFFRDs7YUFBQSxBQUFTLGdDQUFULEFBQXlDLFVBQVUsQUFDL0M7WUFBQSxBQUFJLFVBQVUsQUFDVjtnQkFBSSxPQUFPLElBQUEsQUFBSSxTQUFmLEFBQVcsQUFBYSxBQUN4QjtnQkFBSSxhQUFhLEtBQUEsQUFBSyxVQUFMLEFBQWUsR0FBaEMsQUFBaUIsQUFBa0IsQUFDbkM7Z0JBQUksU0FBSixBQUFhLEFBQ2I7Z0JBQUksU0FBUyxJQUFiLEFBQWEsQUFBSSxBQUVqQjs7aUJBQUssSUFBSSxJQUFULEFBQWEsR0FBRyxJQUFoQixBQUFvQixZQUFwQixBQUFnQyxLQUFLLEFBQ2pDO0FBQ0E7b0JBQUksYUFBYSxLQUFBLEFBQUssVUFBTCxBQUFlLFFBQWhDLEFBQWlCLEFBQXVCLEFBQ3hDOzBCQUFBLEFBQVUsQUFDVjtvQkFBSSxlQUFlLEtBQUEsQUFBSyxVQUFMLEFBQWUsUUFBbEMsQUFBbUIsQUFBdUIsQUFDMUM7MEJBQUEsQUFBVSxBQUNWO29CQUFJLGVBQUosQUFBbUIsUUFBUSxBQUN2Qjs4QkFBQSxBQUFVLEFBQ1Y7QUFDQTt3QkFBSSxVQUFVLEtBQUEsQUFBSyxhQUFuQixBQUFnQyxHQUFHLEFBQy9COytCQUFBLEFBQU8sQUFDVjtBQUNEO0FBQ0E7QUFDSDtBQUVEOztvQkFBSSxhQUFhLFNBQUEsQUFBUyxNQUFULEFBQWUsUUFBUSxTQUF4QyxBQUFpQixBQUFnQyxBQUNqRDtvQkFBSSxTQUFTLE9BQUEsQUFBTyxhQUFQLEFBQW9CLE1BQXBCLEFBQTBCLE1BQU0sSUFBQSxBQUFJLFlBQWpELEFBQWEsQUFBZ0MsQUFBZ0IsQUFDN0Q7b0JBQUksU0FBUyxPQUFBLEFBQU8sZ0JBQVAsQUFBdUIsUUFBcEMsQUFBYSxBQUErQixBQUU1Qzs7QUFDQTtvQkFBSSxPQUFBLEFBQU8scUJBQVAsQUFBNEIsVUFBaEMsQUFBSSxBQUFzQyxJQUFJLEFBQzFDO3dCQUFJLFFBQVEsT0FBQSxBQUFPLHFCQUFQLEFBQTRCLFVBQTVCLEFBQXNDLEdBQXRDLEFBQXlDLFdBQXpDLEFBQW9ELEdBQWhFLEFBQW1FLEFBQ25FO3dCQUFBLEFBQUksT0FBTyxBQUNQOytCQUFBLEFBQU8sQUFDVjtBQUNKO0FBRUQ7O0FBQ0E7b0JBQUksT0FBQSxBQUFPLHFCQUFQLEFBQTRCLFdBQWhDLEFBQUksQUFBdUMsSUFBSSxBQUMzQzt3QkFBSSxTQUFTLE9BQUEsQUFBTyxxQkFBUCxBQUE0QixXQUE1QixBQUF1QyxHQUF2QyxBQUEwQyxXQUExQyxBQUFxRCxHQUFsRSxBQUFxRSxBQUNyRTt3QkFBQSxBQUFJLFFBQVEsQUFDUjsrQkFBQSxBQUFPLEFBQ1Y7QUFDSjtBQUNKO0FBQ0o7QUFFRDs7ZUFBQSxBQUFPLEFBQ1Y7QUFFRDs7YUFBQSxBQUFTLFlBQVQsQUFBcUIsUUFBUSxBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7WUFBSSxjQUFjLElBQUEsQUFBSSxXQUFXLENBQUEsQUFBQyxNQUFELEFBQU8sTUFBUCxBQUFhLE1BQWIsQUFBbUIsTUFBbkIsQUFBeUIsTUFBekIsQUFBK0IsTUFBL0IsQUFBcUMsTUFUN0MsQUFTekIsQUFBa0IsQUFBZSxBQUEyQyxRQUFRLEFBQ3BGO1lBQUksb0JBQW9CLElBQUEsQUFBSSxXQUFXLENBQUEsQUFBQyxNQUFELEFBQU8sTUFBUCxBQUFhLE1BQWIsQUFBbUIsTUFBbkIsQUFBeUIsTUFBekIsQUFBK0IsTUFBL0IsQUFBcUMsTUFBckMsQUFBMkMsTUFBM0MsQUFBaUQsTUFBakQsQUFBdUQsTUFBdkQsQUFBNkQsTUFBN0QsQUFBbUUsTUFBbkUsQUFBeUUsTUFBekUsQUFBK0UsTUFBL0UsQUFBcUYsTUFBNUgsQUFBd0IsQUFBZSxBQUEyRixBQUVsSTs7WUFBSSxhQUFKLEFBQWlCLEFBQ2pCO1lBQUksNkJBQUosQUFBaUMsQUFFakM7O1lBQUEsQUFBSSxTQUFKLEFBQ0ksVUFESixBQUVJLGVBRkosQUFHSSxTQUhKLEFBSUksQUFFSjs7QUFDQTtZQUFJLFVBQUosQUFBYyxRQUFRLEFBQ2xCO21CQUFPLDJCQUFBLEFBQWlCLG1DQUF4QixBQUFPLEFBQW9ELEFBQzlEO0FBQ0Q7QUFDQTtZQUFJLFNBQUosQUFBYSxRQUFRLEFBQ2pCO3lDQUE2QixlQUFBLEFBQU8sWUFBWSxPQUFBLEFBQU8sSUFBdkQsQUFBNkIsQUFBOEIsQUFDOUQ7QUFGRCxtQkFHUyxjQUFKLEFBQWtCLFFBQVEsQUFDM0I7eUNBQTZCLGVBQUEsQUFBTyxZQUFZLE9BQUEsQUFBTyxTQUF2RCxBQUE2QixBQUFtQyxBQUNuRTtBQUZJLFNBQUEsTUFHQSxBQUNEO21CQUFBLEFBQU8sQUFDVjtBQUVEOztrQkFBVSwyQkFBVixBQUFxQyxBQUNyQzttQkFBVyxNQUFNLFlBQU4sQUFBa0IsU0FBUyxrQkFBM0IsQUFBNkMsU0FBN0MsQUFBc0QsTUFBakUsQUFBdUUsQUFFdkU7O3dCQUFnQixJQUFBLEFBQUksWUFBcEIsQUFBZ0IsQUFBZ0IsQUFFaEM7O2tCQUFVLElBQUEsQUFBSSxXQUFkLEFBQVUsQUFBZSxBQUN6QjttQkFBVyxJQUFBLEFBQUksU0FBZixBQUFXLEFBQWEsQUFFeEI7O2lCQUFBLEFBQVMsVUFBVCxBQUFtQixZQUFuQixBQUErQixBQUMvQjtzQkFBQSxBQUFjLEFBRWQ7O2dCQUFBLEFBQVEsSUFBUixBQUFZLGFBQVosQUFBeUIsQUFDekI7c0JBQWMsWUFBZCxBQUEwQixBQUUxQjs7Z0JBQUEsQUFBUSxJQUFSLEFBQVksbUJBQVosQUFBK0IsQUFDL0I7c0JBQWMsa0JBQWQsQUFBZ0MsQUFFaEM7O2lCQUFBLEFBQVMsVUFBVCxBQUFtQixZQUFuQixBQUErQixBQUMvQjtzQkFBQSxBQUFjLEFBRWQ7O2dCQUFBLEFBQVEsSUFBUixBQUFZLDRCQUFaLEFBQXdDLEFBQ3hDO3NCQUFBLEFBQWMsQUFFZDs7ZUFBTyxRQUFQLEFBQWUsQUFDbEI7QUFFRDs7QUFRQTs7Ozs7Ozs7YUFBQSxBQUFTLDBCQUFULEFBQW1DLFFBQVEsQUFDdkM7WUFBSSxXQUFBLEFBQVcsVUFBVSxXQUF6QixBQUFvQyxTQUFTLEFBQ3pDO2tCQUFNLG9CQUFVLDBDQUFoQixBQUFNLEFBQW9ELEFBQzdEO0FBQ0Q7d0JBQUEsQUFBZ0IsQUFDbkI7QUFFRDs7O2NBQVksQUFDRixBQUNOO3FCQUZRLEFBRUssQUFDYjtzQkFIUSxBQUdNLEFBQ2Q7cUJBSlEsQUFJSyxBQUNiO3NDQUxRLEFBS3NCLEFBQzlCO3NDQU5RLEFBTXNCLEFBQzlCO3lDQVBRLEFBT3lCLEFBQ2pDO21DQVJKLEFBQVksQUFRbUIsQUFHL0I7QUFYWSxBQUNSOztXQVVKLEFBQU8sQUFDVjs7O0FBRUQsbUJBQUEsQUFBbUIsMEJBQW5CLEFBQTZDO2tCQUM5Qix1QkFBQSxBQUFhLG9CLEFBQWIsQUFBaUM7Ozs7Ozs7OztBQzNPaEQ7Ozs7QUFDQTs7Ozs7Ozs7QUFFQSxJQUFNLE9BQU4sQUFBYTtBQUNiLElBQU0sZUFBTixBQUFxQjtBQUNyQixJQUFNLGNBQWMsY0FBcEIsQUFBa0M7O0FBRWxDLFNBQUEsQUFBUyxvQkFBb0IsQUFFekI7O1FBQUksaUJBQUosQUFFQTs7YUFBQSxBQUFTLFlBQVQsQUFBcUIsSUFBSSxBQUNyQjtlQUFPLDJCQUFBLEFBQWlCLG1DQUF4QixBQUFPLEFBQW9ELEFBQzlEO0FBRUQ7O2FBQUEsQUFBUywrQkFBNkIsV0FBYSxBQUMvQztlQUFBLEFBQU8sQUFDVjtBQUVEOzthQUFBLEFBQVMsNkJBQVQsQUFBc0MsU0FBUyxBQUMzQztlQUFPLElBQUEsQUFBSSxXQUFYLEFBQU8sQUFBZSxBQUN6QjtBQUVEOzthQUFBLEFBQVMsa0NBQWdDLFlBQWMsQUFDbkQ7ZUFBQSxBQUFPLEFBQ1Y7QUFFRDs7O2NBQVksQUFDRixBQUNOO3FCQUZRLEFBRUssQUFDYjtzQkFIUSxBQUdNLEFBQ2Q7cUJBSlEsQUFJSyxBQUNiO3NDQUxRLEFBS3NCLEFBQzlCO3NDQU5RLEFBTXNCLEFBQzlCO3lDQVBKLEFBQVksQUFPeUIsQUFHckM7QUFWWSxBQUNSOztXQVNKLEFBQU8sQUFDVjs7O0FBRUQsa0JBQUEsQUFBa0IsMEJBQWxCLEFBQTRDO2tCQUM3Qix1QkFBQSxBQUFhLG9CLEFBQWIsQUFBaUM7Ozs7Ozs7OztBQzFDaEQ7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUVBOzs7Ozs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBLFNBQUEsQUFBUyxnQkFBVCxBQUF5QixTQUF6QixBQUFrQyxLQUFLLEFBQ25DO0FBQ0E7UUFBSSxVQUFVLEtBQUEsQUFBSyxNQUFNLElBQUEsQUFBSSxjQUFKLEFBQWtCLE9BQTNDLEFBQWMsQUFBVyxBQUF5QixBQUNsRDtBQUNBO0FBQ0E7WUFBQSxBQUFRLE9BQU8sUUFBQSxBQUFRLEtBQVIsQUFBYSxXQUE1QixBQUF1QyxBQUV2Qzs7UUFBSTthQUFTLEFBQ0osQUFDTDtBQUNBO2FBQUssUUFBQSxBQUFRLEtBSEosQUFHSixBQUFhLEFBQ2xCO1dBQUcsdUJBQUEsQUFBWSxXQUpuQixBQUFhLEFBSU4sQUFBdUIsQUFFOUI7QUFOYSxBQUNUO2VBS0csQUFBSSxjQUFKLEFBQWtCLFlBQU8sQUFBSztjQUMzQixDQURWLEFBQU8sQUFBeUIsQUFBZSxBQUNyQyxBQUFDLEFBRWQ7QUFIa0QsQUFDM0MsS0FENEIsQ0FBekI7OztBQU1YLFNBQUEsQUFBUyxhQUFULEFBQXNCLFVBQXRCLEFBQWdDLFVBQVUsQUFDdEM7WUFBQSxBQUFRLElBQUkseURBQVosQUFBcUUsQUFDckU7WUFBQSxBQUFRLElBQUksbUVBQW1FLFNBQUEsQUFBUyxjQUF4RixBQUErRSxBQUF1QixBQUN0RztZQUFBLEFBQVEsSUFBSSwyRUFBMkUsU0FBdkYsQUFBZ0csQUFDaEc7WUFBQSxBQUFRLElBQUkscUVBQXFFLFNBQWpGLEFBQTBGLEFBQzFGO1lBQUEsQUFBUSxJQUFJLGtFQUFrRSxTQUFBLEFBQVMsYUFBdkYsQUFBOEUsQUFBc0IsQUFDcEc7WUFBQSxBQUFRLElBQUksc0ZBQXNGLFNBQUEsQUFBUyxrQkFBVCxBQUEyQixHQUE3SCxBQUFnSSxBQUNoSTtZQUFBLEFBQVEsSUFBSSxxRkFBcUYsU0FBQSxBQUFTLGtCQUFULEFBQTJCLEdBQTVILEFBQStILEFBRW5JOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFUTs7QUFDQTtBQUNBO0FBQ1A7OztBQUVEOzs7Ozs7QUFNQSxJQUFJLDRCQUE0QixTQUE1QixBQUE0Qiw0QkFBWSxBQUN4QztTQUFBLEFBQUssU0FBTCxBQUFjLEFBRWQ7O1NBQUEsQUFBSyxnQkFBTCxBQUFxQixBQUNyQjtTQUFBLEFBQUssWUFBTCxBQUFpQixBQUNqQjtTQUFBLEFBQUssYUFBTCxBQUFrQixBQUVsQjs7U0FBQSxBQUFLLGNBQUwsQUFBbUIsQUFFbkI7O1NBQUEsQUFBSyxpQkFBTCxBQUFzQixBQUN6QjtBQVZEOztBQVlBLDBCQUFBLEFBQTBCLFVBQTFCLEFBQW9DLGNBQWMsVUFBQSxBQUFVLE9BQU8sQUFDL0Q7U0FBQSxBQUFLLFNBQUwsQUFBYyxBQUNkO1NBQUEsQUFBSyxPQUFMLEFBQVksaUJBQVosQUFBNkIsYUFBYSxLQUFBLEFBQUssVUFBTCxBQUFlLEtBQXpELEFBQTBDLEFBQW9CLE9BQTlELEFBQXFFLEFBQ3hFO0FBSEQ7O0FBS0EsMEJBQUEsQUFBMEIsVUFBMUIsQUFBb0MsY0FBYyxZQUFZLEFBQzFEO1FBQUksS0FBSixBQUFTLFFBQVEsQUFDYjthQUFBLEFBQUssT0FBTCxBQUFZLG9CQUFaLEFBQWdDLGFBQWEsS0FBQSxBQUFLLFVBQUwsQUFBZSxLQUE1RCxBQUE2QyxBQUFvQixPQUFqRSxBQUF3RSxBQUN4RTthQUFBLEFBQUssU0FBTCxBQUFjLEFBQ2pCO0FBQ0o7QUFMRDs7QUFPQSwwQkFBQSxBQUEwQixVQUExQixBQUFvQyxlQUFlLFVBQUEsQUFBVSxXQUFXLEFBQ3BFO1NBQUEsQUFBSyxhQUFMLEFBQWtCLEFBQ3JCO0FBRkQ7O0FBSUE7QUFDQSwwQkFBQSxBQUEwQixVQUExQixBQUFvQyxZQUFZLFVBQUEsQUFBVSxJQUFJLEFBQzFEO1lBQUEsQUFBUSxJQUFJLDhCQUErQixHQUEzQyxBQUE4QyxBQUM5QztZQUFBLEFBQVEsSUFBSSxpQ0FBa0MsR0FBQSxBQUFHLFNBQWpELEFBQTBELEFBQzFEO1lBQUEsQUFBUSxJQUFSLEFBQVksdUJBQXVCLHVCQUFBLEFBQVksVUFBVSxHQUF6RCxBQUFtQyxBQUF5QixBQUU1RDs7QUFDQTtRQUFJLEtBQUEsQUFBSyxZQUFMLEFBQWlCLElBQWpCLEFBQXFCLGdCQUFnQixLQUFBLEFBQUssWUFBTCxBQUFpQixJQUExRCxBQUE4RCxVQUFVLEFBQ3BFO2FBQUEsQUFBSyxnQkFBZ0IsS0FBQSxBQUFLLFlBQUwsQUFBaUIsSUFBdEMsQUFBMEMsQUFDMUM7YUFBQSxBQUFLLFlBQVksS0FBQSxBQUFLLFlBQUwsQUFBaUIsSUFBbEMsQUFBc0MsQUFDekM7QUFIRCxXQUdPLEFBQ0g7YUFBQSxBQUFLLGdCQUFnQixHQUFyQixBQUF3QixBQUN4QjthQUFBLEFBQUssWUFBWSxHQUFqQixBQUFvQixBQUN2QjtBQUVEOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztTQUFBLEFBQUssQUFDUjtBQXZCRDs7QUF5QkEsMEJBQUEsQUFBMEIsVUFBMUIsQUFBb0MsbUJBQW1CLFVBQUEsQUFBVSxJQUFJLEFBQ2pFO1lBQUEsQUFBUSxJQUFSLEFBQVksbUJBQVosQUFBK0IsQUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztZQUFBLEFBQVEsSUFBSSw4QkFBOEIsR0FBQSxBQUFHLFFBQTdDLEFBQXFELEFBQ3JEO1lBQUEsQUFBUSxJQUFSLEFBQVksMEJBQTBCLHVCQUFBLEFBQVksVUFBVSxHQUE1RCxBQUFzQyxBQUF5QixBQUUvRDs7QUFDQTtRQUFJLFFBQVEsS0FBQSxBQUFLLFlBQUwsQUFBaUIsSUFBN0IsQUFBaUMsQUFFakM7O1FBQUksQ0FBSixBQUFLLE9BQU8sQUFDUjtnQkFBQSxBQUFRLElBQVIsQUFBWSxBQUVaOztZQUFJLEtBQUEsQUFBSyxZQUFMLEFBQWlCLElBQWpCLEFBQXFCLFNBQXpCLEFBQWtDLG1CQUFtQixBQUNqRDtnQkFBSSxVQUFVLGdCQUFnQixNQUFoQixBQUFzQixTQUFTLEtBQUEsQUFBSyxZQUFMLEFBQWlCLElBQTlELEFBQWMsQUFBb0QsQUFDbEU7b0JBQUEsQUFBUSxJQUFSLEFBQVksYUFBWixBQUF5QixBQUN6QjtnQkFBSSxVQUFVLEdBQWQsQUFBaUIsQUFDakI7b0JBQUEsQUFBUSxPQUFSLEFBQWUsQUFDbEI7QUFFRDs7QUFDSDtBQUNEO1FBQUksT0FBSixBQUFXLEFBQ1g7QUFDQTtBQUNBO1FBQUksTUFBTSxJQUFWLEFBQVUsQUFBSSxBQUVkOztRQUFBLEFBQUksS0FBSixBQUFTLFFBQVQsQUFBaUIsT0FBakIsQUFBd0IsQUFDeEI7UUFBQSxBQUFJLGVBQUosQUFBbUIsQUFDbkI7UUFBQSxBQUFJLFVBQUosQUFBYyxBQUNkO1FBQUEsQUFBSSxrQkFBSixBQUFzQixBQUV0Qjs7WUFBQSxBQUFRLElBQVIsQUFBWSxBQUNaO1lBQUEsQUFBUSxJQUFJLG1CQUFtQixJQUEvQixBQUFtQyxBQUNuQztZQUFBLEFBQVEsSUFBSSwyQkFBMkIsSUFBdkMsQUFBMkMsQUFDM0M7WUFBQSxBQUFRLElBQUksbUJBQW1CLHVCQUFBLEFBQVksVUFBVSxHQUFyRCxBQUErQixBQUF5QixBQUN4RDtRQUFBLEFBQUksU0FBUyxVQUFBLEFBQVMsT0FBTyxBQUN6QjtZQUFJLEtBQUEsQUFBSyxVQUFULEFBQW1CLEtBQUssQUFDcEI7Z0JBQUksT0FBTyxLQUFYLEFBQWdCLEFBRWhCOztvQkFBQSxBQUFRLElBQUksbUNBQW1DLEtBQS9DLEFBQW9ELEFBQ3BEO2lCQUFBLEFBQUssU0FBTCxBQUFjLE9BQU8sSUFBQSxBQUFJLFdBQVcsS0FBcEMsQUFBcUIsQUFBb0IsQUFDNUM7QUFDSjtBQVBELEFBUUE7UUFBQSxBQUFJLFVBQVUsWUFBVyxBQUNyQjtnQkFBQSxBQUFRLElBQVIsQUFBWSxBQUNmO0FBRkQsQUFHQTtRQUFBLEFBQUksVUFBVSxZQUFXLEFBQ3JCO2dCQUFBLEFBQVEsSUFBUixBQUFZLEFBQ2Y7QUFGRCxBQUlBOztBQUNBO1FBQUksZ0JBQWdCLFNBQWhCLEFBQWdCLGNBQUEsQUFBVSxTQUFTLEFBQ25DO1lBQUEsQUFBSSxBQUNKO1lBQUEsQUFBSSxTQUFTLEFBQ1Q7aUJBQUEsQUFBSyxPQUFMLEFBQVksU0FBUyxBQUNqQjt3QkFBQSxBQUFRLElBQUksZUFBQSxBQUFlLE1BQWYsQUFBcUIsY0FBYyxRQUEvQyxBQUErQyxBQUFRLEFBQ3ZEO29CQUFBLEFBQUksaUJBQUosQUFBcUIsS0FBSyxRQUExQixBQUEwQixBQUFRLEFBQ3JDO0FBQ0o7QUFDSjtBQVJELEFBVUE7O2tCQUFjLEtBQUEsQUFBSyxZQUFMLEFBQWlCLElBQS9CLEFBQW1DLEFBQ25DO0FBRUE7O0FBQ0E7QUFDQTtRQUFJLE9BQU8sS0FBQSxBQUFLLFdBQUwsQUFBZ0IsNkJBQTZCLEdBQXhELEFBQVcsQUFBZ0QsQUFDM0Q7WUFBQSxBQUFRLElBQVIsQUFBWSxVQUFaLEFBQXNCLEFBQ3RCO1FBQUEsQUFBSSxLQUFKLEFBQVMsQUFDWjtBQTFFRDs7QUE0RUEsMEJBQUEsQUFBMEIsVUFBMUIsQUFBb0Msa0JBQWtCLFVBQUEsQUFBVSxJQUFJLEFBQ2hFO1FBQUksSUFBSixBQUFNLEFBQ047UUFBSSxJQUFKLEFBQU0sQUFDVDtBQUhEOztBQUtBLDBCQUFBLEFBQTBCLFVBQTFCLEFBQW9DLGFBQWEsVUFBQSxBQUFVLFlBQVksQUFDbkU7WUFBQSxBQUFRLElBQVIsQUFBWSxBQUNaO1NBQUEsQUFBSyxjQUFMLEFBQW1CLEFBQ3RCO0FBSEQ7O0FBS0EsMEJBQUEsQUFBMEIsVUFBMUIsQUFBb0MseUJBQXlCO1FBQ3JELG9CQUFKLEFBQXdCLEFBQ3hCO1FBQUksb0JBQUosQUFBd0IsQUFDeEI7UUFBSSxrQkFIaUUsQUFHckUsQUFBc0IsR0FIK0MsQUFDckUsQ0FFMEIsQUFDMUI7UUFBSSxLQUFBLEFBQUssWUFBVCxBQUFxQixZQUFZLEFBQzdCOzBCQUFBLEFBQWtCLEtBQUssOEJBQW9CLEtBQUEsQUFBSyxZQUF6QixBQUFxQyxZQUE1RCxBQUF1QixBQUFpRCxBQUMzRTtBQUNEO1FBQUksS0FBQSxBQUFLLFlBQVQsQUFBcUIsWUFBWSxBQUM3QjswQkFBQSxBQUFrQixLQUFLLDhCQUFvQixLQUFBLEFBQUssWUFBekIsQUFBcUMsWUFBNUQsQUFBdUIsQUFBaUQsQUFDM0U7QUFFRDs7UUFBSSxXQUFXLHFDQUFBLEFBQ1gsbUJBRFcsQUFDUSxtQkFEUixBQUMyQixZQUQzQixBQUN1QyxZQUFZLENBRGxFLEFBQWUsQUFDbUQsQUFBQyxBQUVuRTs7UUFBSSxXQUFKLEFBQWUsQUFDZjthQUFBLEFBQVMsS0FBVCxBQUFjLEFBRWQ7O0FBQ0E7QUFDQTtBQUVBOztRQUFJLEtBQUosQUFBUyxnQkFBZ0IsQUFBRTtBQUFTO0FBRXBDOztRQUFJLE9BQUosQUFBVyxBQUNYO1NBQUEsQUFBSywyQkFBaUIsQUFBVSw0QkFBNEIsS0FBQSxBQUFLLFdBQTNDLEFBQXNELGNBQXRELEFBQW9FLFVBQXBFLEFBQ3BCLEtBQUssVUFBQSxBQUFTLGlCQUFpQixBQUN6QjtnQkFBQSxBQUFRLElBQVIsQUFBWSxBQUNaO2VBQU8sZ0JBQVAsQUFBTyxBQUFnQixBQUMxQjtBQUppQixLQUFBLEVBQUEsQUFLcEIsS0FBSyxVQUFBLEFBQVMsV0FBVyxBQUN2QjtnQkFBQSxBQUFRLElBQUksaURBQVosQUFBNkQsQUFDN0Q7WUFBSSxNQUFNLEtBQUEsQUFBSyxPQUFMLEFBQVksYUFBdEIsQUFBVSxBQUF5QixBQUNuQztlQUFBLEFBQU8sQUFDVjtBQVRxQixPQUFBLEFBU25CLEtBQUssWUFBVyxBQUNmO0FBQ0E7WUFBSSxZQUFZLEtBQUEsQUFBSyxPQUFyQixBQUE0QixBQUM1QjthQUFBLEFBQUssV0FBVyxVQUFBLEFBQVUsY0FBMUIsQUFBZ0IsQUFBd0IsQUFDeEM7YUFBQSxBQUFLLFNBQUwsQUFBYyxpQkFBZCxBQUErQixXQUFXLEtBQUEsQUFBSyxpQkFBTCxBQUFzQixLQUFoRSxBQUEwQyxBQUEyQixPQUFyRSxBQUE0RSxBQUM1RTthQUFBLEFBQUssU0FBTCxBQUFjLGlCQUFkLEFBQStCLHFCQUFxQixLQUFBLEFBQUssZ0JBQUwsQUFBcUIsS0FBekUsQUFBb0QsQUFBMEIsT0FBOUUsQUFBcUYsQUFDckY7YUFBQSxBQUFLLFNBQUwsQUFBYyxnQkFBZ0IsS0FBOUIsQUFBbUMsZUFBZSxLQUFsRCxBQUF1RCxXQUF2RCxBQUFrRSxLQUFLLFlBQVcsQUFDMUU7b0JBQUEsQUFBUSxJQUFSLEFBQVksQUFDZjtBQUZMLFdBQUEsQUFFTyxNQUFNLFVBQUEsQUFBUyxPQUFPLEFBQ3JCO29CQUFBLEFBQVEsTUFBUixBQUFjLCtCQUFkLEFBQTZDLEFBQ3BEO0FBSkQsQUFLSDtBQXBCcUIsT0FBQSxBQW9CbkIsTUFBTSxVQUFBLEFBQVMsT0FBTyxBQUNyQjtnQkFBQSxBQUFRLE1BQVIsQUFBYyw4QkFBZCxBQUE0QyxBQUMvQztBQXRCRCxBQUFzQixBQXVCekI7QUEvQ0Q7O2tCLEFBaURlOzs7Ozs7Ozs7QUNsUWY7Ozs7QUFDQTs7OztBQUVBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFQTs7Ozs7Ozs7QUFLQTs7Ozs7QUFLQSxTQUFBLEFBQVMseUJBQVQsQUFBa0MsT0FBTyxBQUNyQztRQUFJLFdBQVcsS0FBZixBQUFvQixBQUNwQjtRQUFJLFlBQUosQUFBZ0IsQUFDaEI7UUFBSSxTQUFKLEFBQWEsQUFDYjtRQUFJLGNBQUosQUFBa0IsQUFDbEI7UUFBSSxXQUFKLEFBQWUsQUFDZjtRQUFJLGFBQUosQUFBaUIsQUFDakI7UUFBSSxhQUFKLEFBQWlCLEFBRWpCOzthQUFBLEFBQVMsWUFBVCxBQUFxQixPQUFPLEFBQ3hCO2lCQUFBLEFBQVMsQUFFVDs7ZUFBQSxBQUFPLGlCQUFQLEFBQXdCLGFBQXhCLEFBQXFDLEFBQ3hDO0FBRUQ7O2FBQUEsQUFBUyxjQUFjLEFBQ25CO1lBQUEsQUFBSSxRQUFRLEFBQ1I7bUJBQUEsQUFBTyxpQkFBUCxBQUF3QixhQUF4QixBQUFxQyxBQUN4QztBQUNKO0FBRUQ7O2FBQUEsQUFBUyxhQUFULEFBQXNCLFdBQVcsQUFDN0I7cUJBQUEsQUFBYSxBQUNoQjtBQUVEOzthQUFBLEFBQVMsV0FBVCxBQUFvQixZQUFZLEFBQzVCO3NCQUFBLEFBQWMsQUFDakI7QUFFRDs7YUFBQSxBQUFTLFVBQVQsQUFBbUIsSUFBSSxBQUNuQjtZQUFJLGVBQUosQUFBbUIsQUFDbkI7QUFDQTtBQUNBO1lBQUksYUFBYSxHQUFqQixBQUFvQixBQUNwQjtZQUFJLFlBQUEsQUFBWSxPQUFoQixBQUFJLEFBQW1CLGFBQWEsQUFDaEM7eUJBQWEsV0FBYixBQUF3QixBQUMzQjtBQUVEOztZQUFJLE9BQU8sMkJBQUEsQUFBaUIsY0FBNUIsQUFBVyxBQUErQixBQUMxQztZQUFJLE9BQU8sa0JBQUEsQUFBUSxVQUFVLFlBQUEsQUFBWSxJQUF6QyxBQUFXLEFBQWtDLEFBRTdDOztZQUFJLGlCQUFpQixLQUFyQixBQUFxQixBQUFLLEFBRTFCOztBQUNBO1lBQUksT0FBQSxBQUFPLGNBQVgsQUFBeUIsR0FBRyxBQUN4Qjt5QkFBYSxJQUFJLE9BQUosQUFBVyxZQUFZLFdBQXBDLEFBQWEsQUFBa0MsQUFDL0M7bUJBQUEsQUFBTyxlQUFQLEFBQXNCLEFBRXRCOzt1QkFBVyxXQUFBLEFBQVcsY0FBYyxZQUF6QixBQUFxQyxZQUFZLElBQUEsQUFBSSxXQUFoRSxBQUFXLEFBQWlELEFBQWUsQUFDM0U7cUJBQUEsQUFBUyxpQkFBVCxBQUEwQixjQUExQixBQUF3QyxBQUN4QztxQkFBQSxBQUFTLGlCQUFULEFBQTBCLGdCQUExQixBQUEwQyxBQUMxQztxQkFBQSxBQUFTLGlCQUFULEFBQTBCLGNBQTFCLEFBQXdDLEFBQ3hDO3FCQUFBLEFBQVMsaUJBQVQsQUFBMEIsY0FBMUIsQUFBd0MsQUFDM0M7QUFDSjtBQUVEOzthQUFBLEFBQVMsZUFBVCxBQUF3QixJQUFJLEFBQzNCLENBRUQ7O2FBQUEsQUFBUyxpQkFBVCxBQUEwQixJQUFJLEFBQzFCO2dCQUFBLEFBQVEsSUFBUixBQUFZLEFBRVo7O1lBQUksWUFBWSxHQUFoQixBQUFtQixBQUNuQjtZQUFJLFlBQUEsQUFBWSxPQUFoQixBQUFJLEFBQW1CLFlBQVksQUFDL0I7d0JBQVksVUFBWixBQUFzQixBQUN6QjtBQUVEOztBQUNBO1lBQUksTUFBTSxJQUFWLEFBQVUsQUFBSSxBQUNkO1lBQUEsQUFBSSxLQUFKLEFBQVMsUUFBUSxZQUFBLEFBQVksSUFBN0IsQUFBaUMsT0FBakMsQUFBd0MsQUFDeEM7WUFBQSxBQUFJLGVBQUosQUFBbUIsQUFDbkI7WUFBQSxBQUFJLFNBQVMsWUFBVyxBQUNwQjtnQkFBSSxLQUFBLEFBQUssV0FBVCxBQUFvQixLQUFLLEFBQ3JCO3lCQUFBLEFBQVMsT0FBTyxJQUFBLEFBQUksV0FBVyxLQUEvQixBQUFnQixBQUFvQixBQUN2QztBQUNKO0FBSkQsQUFLQTtZQUFBLEFBQUksVUFBVSxZQUFXLEFBQ3JCO29CQUFBLEFBQVEsSUFBUixBQUFZLEFBQ2Y7QUFGRCxBQUdBO1lBQUEsQUFBSSxVQUFVLFlBQVksQUFDdEI7b0JBQUEsQUFBUSxJQUFSLEFBQVksQUFDZjtBQUZELEFBSUE7O0FBQ0E7WUFBSSxVQUFVLFdBQUEsQUFBVyw2QkFBekIsQUFBYyxBQUF3QyxBQUN0RDthQUFLLElBQUwsQUFBUyxPQUFULEFBQWdCLFNBQVMsQUFDckI7Z0JBQUksb0JBQW9CLElBQXhCLEFBQXdCLEFBQUksZUFBZSxBQUN2QztvQkFBQSxBQUFJLGtCQUFKLEFBQXNCLEFBQ3pCO0FBQ0Q7Z0JBQUEsQUFBSSxpQkFBSixBQUFxQixLQUFLLFFBQTFCLEFBQTBCLEFBQVEsQUFDckM7QUFFRDs7WUFBQSxBQUFJLEtBQUssV0FBQSxBQUFXLDZCQUFwQixBQUFTLEFBQXdDLEFBQ3BEO0FBRUQ7O2FBQUEsQUFBUyxlQUFULEFBQXdCLElBQUksQUFDeEI7Z0JBQUEsQUFBUSxJQUFSLEFBQVksQUFDZjtBQUVEOzthQUFBLEFBQVMsZUFBVCxBQUF3QixJQUFJLEFBRTNCLENBRUQ7O2FBQUEsQUFBUyx5QkFBeUIsQUFDOUI7WUFBSSxXQUFXLGtCQUFBLEFBQVEsWUFBWSxZQUFBLEFBQVksSUFBL0MsQUFBZSxBQUFvQyxBQUVuRDs7WUFBSSxvQkFBSixBQUF3QixBQUN4QjtZQUFJLG9CQUFKLEFBQXdCLEFBQ3hCO1lBQUksa0JBQUosQUFBc0IsQUFDdEI7WUFBSSxZQUFKLEFBQWdCLFlBQVksQUFDeEI7OEJBQUEsQUFBa0IsS0FBSyw4QkFBb0IsWUFBcEIsQUFBZ0MsWUFBdkQsQUFBdUIsQUFBNEMsQUFDdEU7QUFDRDtZQUFJLFlBQUosQUFBZ0IsWUFBWSxBQUN4Qjs4QkFBQSxBQUFrQixLQUFLLDhCQUFvQixZQUFwQixBQUFnQyxZQUF2RCxBQUF1QixBQUE0QyxBQUN0RTtBQUVEOztZQUFJLFdBQVcscUNBQUEsQUFDYixtQkFEYSxBQUNNLG1CQUROLEFBQ3lCLFlBRHpCLEFBQ3FDLFlBQVksQ0FEaEUsQUFBZSxBQUNpRCxBQUFDLEFBRWpFOztZQUFJLFdBQUosQUFBZSxBQUNmO2lCQUFBLEFBQVMsS0FBVCxBQUFjLEFBRWQ7O0FBQ0E7YUFBSyxJQUFJLFlBQVQsQUFBcUIsR0FBRyxZQUFZLFNBQXBDLEFBQTZDLFFBQTdDLEFBQXFELGFBQWMsQUFDL0Q7Z0JBQUksU0FBUyxTQUFBLEFBQVMsV0FBdEIsQUFBaUMsQUFFakM7O0FBQ0E7Z0JBQUksVUFBVSxPQUFBLEFBQU8sV0FBckIsQUFBZ0MsR0FBRyxBQUMvQjtxQkFBSyxJQUFJLFdBQVQsQUFBb0IsR0FBRyxXQUFXLE9BQWxDLEFBQXlDLFFBQXpDLEFBQWlELFlBQVksQUFDekQ7d0JBQUksT0FBQSxBQUFPLGVBQVAsQUFBc0IsZ0JBQXRCLEFBQXNDLFVBQVUsT0FBQSxBQUFPLFVBQTNELEFBQUksQUFBaUUsY0FBYyxBQUVsRixDQUNKO0FBQ0o7QUFDSjtBQUVEOztBQUNBO3dCQUFBLEFBQWdCLEFBQ25CO0FBRUQ7O2FBQUEsQUFBUyxnQkFBVCxBQUF5QixVQUFVLEFBQy9CO1lBQUksWUFBWSxJQUFJLE9BQUosQUFBSSxBQUFPLGVBQTNCLEFBQWdCLEFBQTBCLEFBRTFDOztZQUFJLE9BQUEsQUFBTyxjQUFYLEFBQXlCLEdBQUcsQUFDeEI7bUJBQUEsQUFBTyxlQUFQLEFBQXNCLEFBQ3pCO0FBQ0o7QUFFRDs7YUFBQSxBQUFTLGlCQUFULEFBQTBCLFVBQVUsQUFDbkMsQ0FFRDs7O3FCQUFZLEFBQ0ssQUFDYjtxQkFGUSxBQUVLLEFBQ2I7c0JBSFEsQUFHTSxBQUNkO29CQUpKLEFBQVksQUFJSSxBQUVoQjtBQU5ZLEFBQ1I7V0FLSixBQUFPLEFBQ1Y7OztrQixBQUdjOzs7Ozs7Ozs7Ozs7Ozs7OztLQ3BMZjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQStCQTs7Ozs7Ozs7Ozs7Ozs7SSxBQUVNOzs7Ozs7YUFDRjs7Ozs7Ozs7OztrRCxBQVFpQyxTQUFTLEFBQ3RDO2dCQUFJLFNBQUosQUFBYSxBQUNiO2lCQUFLLElBQUksSUFBVCxBQUFhLEdBQUcsSUFBSSxRQUFwQixBQUE0QixRQUFRLEVBQXBDLEFBQXNDLEdBQUcsQUFDckM7b0JBQUksS0FBSyxRQUFULEFBQVMsQUFBUSxBQUNqQjtvQkFBSSxHQUFBLEFBQUcsWUFBSCxBQUFlLGtCQUFmLEFBQWlDLHNDQUM3QixHQUFBLEFBQUcsTUFBSCxBQUFTLGtCQURqQixBQUNtQyxRQUMvQixTQUFBLEFBQVMsQUFDaEI7QUFDRDttQkFBQSxBQUFPLEFBQ1Y7QUFFRDs7Ozs7Ozs7Ozs7b0MsQUFNbUI7Z0JBQ1gsU0FEaUIsQUFDckIsQUFBYSxHQUFHLEFBQ2hCO2dCQUFJLE9BQU8sSUFBQSxBQUFJLFNBQWYsQUFBVyxBQUFhLEFBRXhCOztBQUNBO2dCQUFJLFVBQVUsS0FBQSxBQUFLLFNBQW5CLEFBQWMsQUFBYyxBQUU1Qjs7c0JBUHFCLEFBT3JCLEFBQVUsSUFBSSxBQUVkOztnQkFBSSxVQUFKLEFBQWMsR0FBRyxBQUNiOzBCQUFVLElBQUssS0FBSyxLQUFBLEFBQUssVUFEWixBQUNiLEFBQW9CLEFBQWUsU0FBVSxBQUNoRDtBQUVEOztzQkFicUIsQUFhckIsQUFBVSxFQWJXLEFBQ3JCLENBWWEsQUFDYjttQkFBTyxLQUFBLEFBQUssTUFBWixBQUFPLEFBQVcsQUFDckI7QUFFRDs7Ozs7Ozs7Ozs7Ozs7OzRDLEFBVTJCLFcsQUFBVyxVQUFVLEFBQzVDO2dCQUFJLFdBQVcsaUJBQUEsQUFBaUIsY0FBaEMsQUFBZSxBQUErQixBQUM5QztnQkFBSSxTQUFBLEFBQVMsZUFBZSxVQUFBLEFBQVUsS0FBdEMsQUFBSSxBQUF3QixBQUFlLGdCQUFnQixBQUN2RDt1QkFBTyxTQUFTLFVBQUEsQUFBVSxLQUExQixBQUFPLEFBQVMsQUFBZSxBQUNsQztBQUNEO21CQUFBLEFBQU8sQUFDVjtBQUVEOzs7Ozs7Ozs7Ozs7MkQsQUFPMEMsUUFBUSxBQUM5QztnQkFBSSxVQUFKLEFBQWMsUUFBUSxBQUNsQjt1QkFBTyxlQUFBLEFBQU8sWUFBWSxPQUFBLEFBQU8sS0FBMUIsQUFBK0IsUUFBdEMsQUFBOEMsQUFDakQ7QUFDRDttQkFBQSxBQUFPLEFBQ1Y7QUFFRDs7QUFTQTs7Ozs7Ozs7Ozs7OztzQyxBQUNxQixNQUFNLEFBRXZCOztnQkFBSSxTQUFKLEFBQWEsTUFDVCxPQUFBLEFBQU8sQUFFWDs7Z0JBQUksS0FBSyxJQUFBLEFBQUksU0FBYixBQUFTLEFBQWEsQUFDdEI7Z0JBQUksT0FBSixBQUFXLEFBQ1g7Z0JBQUksT0FBSixBQUFXLEFBRVg7O0FBQ0E7Z0JBQUksYUFBSixBQUFpQixBQUNqQjttQkFBTyxDQUFQLEFBQVEsTUFBTSxBQUVWOztvQkFBQSxBQUFJLE1BQUosQUFDSSxTQURKLEFBRUksU0FGSixBQUdJLFVBSEosQUFJSSxBQUNKO29CQUFJLFdBQUosQUFBZSxBQUVmOztvQkFBSSxjQUFjLEdBQUEsQUFBRyxPQUFyQixBQUE0QixZQUN4QixBQUVKOztBQUNBO3VCQUFPLEdBQUEsQUFBRyxVQUFWLEFBQU8sQUFBYSxBQUNwQjswQkFBVSxhQUFWLEFBQXVCLEFBQ3ZCOzhCQUFBLEFBQWMsQUFFZDs7QUFDQTtvQkFBSSxHQUFBLEFBQUcsVUFBSCxBQUFhLGdCQUFqQixBQUFpQyxZQUFZLEFBQ3pDO2lDQUFBLEFBQWEsQUFDYjtBQUNIO0FBQ0Q7OEJBQUEsQUFBYyxBQUVkOztBQUNBOzBCQUFVLEdBQUEsQUFBRyxTQUFiLEFBQVUsQUFBWSxBQUN0QjtvQkFBSSxZQUFBLEFBQVksS0FBSyxZQUFyQixBQUFpQyxHQUFHLEFBQ2hDO2lDQUFBLEFBQWEsQUFDYjtBQUNIO0FBQ0Q7QUFFQTs7OEJBaENVLEFBZ0NWLEFBQWMsR0FBRyxBQUVqQjs7QUFDQTsyQkFBQSxBQUFXLEFBQ1g7b0JBQUEsQUFBSSxHQUFKLEFBQU8sQUFDUDtxQkFBSyxJQUFMLEFBQVMsR0FBRyxJQUFaLEFBQWdCLEdBQWhCLEFBQW1CLEtBQUssQUFDcEI7MEJBQU0sR0FBQSxBQUFHLFNBQVMsYUFBWixBQUF5QixHQUF6QixBQUE0QixTQUFsQyxBQUFNLEFBQXFDLEFBQzNDO2dDQUFhLElBQUEsQUFBSSxXQUFMLEFBQWdCLElBQUssTUFBckIsQUFBMkIsTUFBdkMsQUFBNkMsQUFDaEQ7QUFDRDs4QkFBQSxBQUFjLEFBQ2Q7NEJBQUEsQUFBWSxBQUNaO3FCQUFLLElBQUwsQUFBUyxHQUFHLElBQVosQUFBZ0IsR0FBaEIsQUFBbUIsS0FBSyxBQUNwQjswQkFBTSxHQUFBLEFBQUcsU0FBUyxhQUFaLEFBQXlCLEdBQXpCLEFBQTRCLFNBQWxDLEFBQU0sQUFBcUMsQUFDM0M7Z0NBQWEsSUFBQSxBQUFJLFdBQUwsQUFBZ0IsSUFBSyxNQUFyQixBQUEyQixNQUF2QyxBQUE2QyxBQUNoRDtBQUNEOzhCQUFBLEFBQWMsQUFDZDs0QkFBQSxBQUFZLEFBQ1o7cUJBQUssSUFBTCxBQUFTLEdBQUcsSUFBWixBQUFnQixHQUFoQixBQUFtQixLQUFLLEFBQ3BCOzBCQUFNLEdBQUEsQUFBRyxTQUFTLGFBQVosQUFBeUIsR0FBekIsQUFBNEIsU0FBbEMsQUFBTSxBQUFxQyxBQUMzQztnQ0FBYSxJQUFBLEFBQUksV0FBTCxBQUFnQixJQUFLLE1BQXJCLEFBQTJCLE1BQXZDLEFBQTZDLEFBQ2hEO0FBQ0Q7OEJBQUEsQUFBYyxBQUNkOzRCQUFBLEFBQVksQUFDWjtxQkFBSyxJQUFMLEFBQVMsR0FBRyxJQUFaLEFBQWdCLEdBQWhCLEFBQW1CLEtBQUssQUFDcEI7MEJBQU0sR0FBQSxBQUFHLFNBQVMsYUFBWixBQUF5QixHQUF6QixBQUE0QixTQUFsQyxBQUFNLEFBQXFDLEFBQzNDO2dDQUFhLElBQUEsQUFBSSxXQUFMLEFBQWdCLElBQUssTUFBckIsQUFBMkIsTUFBdkMsQUFBNkMsQUFDaEQ7QUFDRDs4QkFBQSxBQUFjLEFBQ2Q7NEJBQUEsQUFBWSxBQUNaO3FCQUFLLElBQUwsQUFBUyxHQUFHLElBQVosQUFBZ0IsR0FBaEIsQUFBbUIsS0FBSyxBQUNwQjswQkFBTSxHQUFBLEFBQUcsU0FBUyxhQUFaLEFBQXlCLEdBQXpCLEFBQTRCLFNBQWxDLEFBQU0sQUFBcUMsQUFDM0M7Z0NBQWEsSUFBQSxBQUFJLFdBQUwsQUFBZ0IsSUFBSyxNQUFyQixBQUEyQixNQUF2QyxBQUE2QyxBQUNoRDtBQUNEOzhCQUFBLEFBQWMsQUFFZDs7MkJBQVcsU0FBWCxBQUFXLEFBQVMsQUFFcEI7O0FBQ0E7K0JBQWUsR0FBQSxBQUFHLFVBQWxCLEFBQWUsQUFBYSxBQUM1Qjs4QkFBQSxBQUFjLEFBRWQ7O0FBQ0E7cUJBQUEsQUFBSyxZQUFZLEdBQUEsQUFBRyxPQUFILEFBQVUsTUFBVixBQUFnQixVQUFqQyxBQUFpQixBQUEwQixBQUMzQzs2QkFBQSxBQUFhLEFBQ2hCO0FBRUQ7O21CQUFBLEFBQU8sQUFDVjs7Ozs7OztrQixBQUdVOzs7OztBQ25OZixJQUFNO2lCQUNXLHFCQUFBLEFBQVMsU0FBUyxBQUMzQjtZQUFJLFlBQUosQUFBZ0IsWUFBWSxBQUN4QjttQkFBQSxBQUFPLEFBQ1Y7QUFGRCxtQkFFVyxZQUFKLEFBQWdCLGFBQWEsQUFDaEM7bUJBQUEsQUFBTyxBQUNWO0FBRk0sU0FBQSxNQUVBLElBQUksWUFBSixBQUFnQix3QkFBd0IsQUFDM0M7bUJBQUEsQUFBTyxBQUNWO0FBQ0o7QUFUVyxBQVdaOztlQUFXLG1CQUFBLEFBQVMsU0FBUyxBQUN6QjtZQUFJLFlBQUosQUFBZ0IsWUFBWSxBQUN4QjttQkFBQSxBQUFPLEFBQ1Y7QUFGRCxtQkFFVyxZQUFKLEFBQWdCLGFBQWEsQUFDaEM7bUJBQUEsQUFBTyxBQUNWO0FBRk0sU0FBQSxNQUVBLElBQUksWUFBSixBQUFnQix3QkFBd0IsQUFDM0M7bUJBQUEsQUFBTyxBQUNWO0FBQ0o7QUFuQkwsQUFBZ0I7QUFBQSxBQUNaOztBQXNCSixPQUFBLEFBQU8sVUFBUCxBQUFpQjs7Ozs7Ozs7Ozs7Ozs7O0FDdkJqQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQStCQTs7Ozs7SSxBQUtNO0FBQ0Y7Ozs7Ozs7Ozs7Ozs7OztBQWVBLGdDQUFBLEFBQVksbUJBQVosQUFBK0IsbUJBQS9CLEFBQWtELHVCQUFsRCxBQUF5RSxpQkFBekUsQUFBMEYsY0FBYzswQkFDcEc7O0FBQ0E7QUFDQTtTQUFBLEFBQUssZ0JBQWdCLENBQXJCLEFBQXFCLEFBQUUsQUFFdkI7O1FBQUkscUJBQXFCLGtCQUF6QixBQUEyQyxRQUFRLEFBQy9DO2FBQUEsQUFBSyxvQkFBTCxBQUF5QixBQUM1QjtBQUNEO1FBQUkscUJBQXFCLGtCQUF6QixBQUEyQyxRQUFRLEFBQy9DO2FBQUEsQUFBSyxvQkFBTCxBQUF5QixBQUM1QjtBQUNEO1NBQUEsQUFBSyx3QkFBTCxBQUE2QixBQUM3QjtTQUFBLEFBQUssa0JBQUwsQUFBdUIsQUFDdkI7U0FBQSxBQUFLLGVBQUwsQUFBb0IsQUFDdkI7QTs7a0IsQUFHVTs7Ozs7Ozs7Ozs7Ozs7O0FDckVmOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUE4QkE7Ozs7SSxBQUlNO0FBQ0Y7Ozs7OztBQU1BLHlCQUFBLEFBQVksYUFBWixBQUF5QixZQUFZO3dCQUNqQzs7T0FBQSxBQUFLLGNBQUwsQUFBbUIsQUFDbkI7T0FBQSxBQUFLLGFBQUwsQUFBa0IsQUFDckI7QTs7a0IsQUFHVTs7Ozs7Ozs7O0FDaEJmOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7QUFFQSxTQUFBLEFBQVMsWUFBVSxVQUFZLEFBRTNCOztRQUFJLGdCQUFKLEFBQ0E7UUFBSSxVQUFVLEtBQWQsQUFBbUIsQUFFbkI7O0FBS0E7Ozs7O2FBQUEsQUFBUyxNQUFULEFBQWUsTUFBTSxBQUNqQjtZQUFJLENBQUosQUFBSyxNQUFNLE9BQUEsQUFBTyxBQUVsQjs7WUFBSSxLQUFBLEFBQUssY0FBVCxBQUF1QixXQUFXLEFBQzlCO2lCQUFBLEFBQUssWUFBTCxBQUFpQixBQUNwQjtBQUVEOztZQUFJLGFBQWEsd0JBQUEsQUFBUyxZQUExQixBQUFpQixBQUFxQixBQUN0QztZQUFJLGNBQWMsdUJBQUEsQUFBUSxTQUExQixBQUFrQixBQUFpQixBQUVuQzs7b0JBQUEsQUFBWSxRQUFaLEFBQW9CLEFBRXBCOztlQUFBLEFBQU8sQUFDVjtBQUVEOzs7ZUFBQSxBQUFXLEFBQ0EsQUFHWDtBQUpXLEFBQ1A7O1dBR0osQUFBTyxBQUNWO0EsRUFqRUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrRUEsVUFBQSxBQUFVLDBCQUFWLEFBQW9DO2tCQUNyQix1QkFBQSxBQUFhLG9CLEFBQWIsQUFBaUM7Ozs7Ozs7Ozs7Ozs7OztBQ25FaEQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQThCQTs7OztJLEFBSU0sU0FDRixrQkFBYzt3QkFDVjs7T0FBQSxBQUFLLFNBQUwsQUFBYyxBQUNkO09BQUEsQUFBSyxPQUFMLEFBQVksQUFDWjtPQUFBLEFBQUssT0FBTCxBQUFZLEFBQ1o7T0FBQSxBQUFLLGFBQUwsQUFBa0IsQUFDckI7QTs7a0IsQUFHVTs7Ozs7Ozs7O0FDWmY7Ozs7QUFDQTs7Ozs7Ozs7QUFoQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrQ0EsU0FBQSxBQUFTLFVBQVUsQUFFZjs7UUFBSSxnQkFBSjtRQUNJLHFCQURKO1FBRUksbUJBRko7UUFHSSxpQkFISjtRQUlJLG9CQUpKO1FBS0ksaUJBTEo7UUFNSSxpQkFOSjtRQU9JLGlCQVBKO1FBUUksaUJBUko7UUFTSSxpQkFUSjtRQVVJLGlCQVZKO1FBV0ksdUJBWEosQUFhQTs7QUFLQTs7Ozs7YUFBQSxBQUFTLE9BQVQsQUFBZ0IsTUFBTSxBQUNsQjtZQUFJLENBQUEsQUFBQyxRQUFRLENBQVQsQUFBVSxpQkFBaUIsQ0FBQyxjQUE1QixBQUEwQyxTQUFVLGNBQUEsQUFBYyxNQUFkLEFBQW9CLFdBQTVFLEFBQXVGLEdBQUksT0FBQSxBQUFPLEFBRWxHOztlQUFPLG9CQUFvQixjQUFBLEFBQWMsTUFBekMsQUFBTyxBQUFvQixBQUFvQixBQUNsRDtBQUVEOztBQUtBOzs7OzthQUFBLEFBQVMsU0FBVCxBQUFrQixNQUFNLEFBQ3BCO1lBQUksVUFBVSxjQUFBLEFBQWMsU0FBNUIsQUFBYyxBQUF1QixBQUNyQztZQUFJLFFBQUosQUFBWSxBQUNaO1lBQUEsQUFBSSxBQUVKOzthQUFLLElBQUksSUFBSixBQUFRLEdBQUcsS0FBSyxRQUFyQixBQUE2QixRQUFRLElBQXJDLEFBQXlDLElBQXpDLEFBQTZDLEtBQUssQUFDOUM7a0JBQU0sb0JBQW9CLFFBQTFCLEFBQU0sQUFBb0IsQUFBUSxBQUVsQzs7Z0JBQUEsQUFBSSxLQUFLLEFBQ0w7c0JBQUEsQUFBTSxLQUFOLEFBQVcsQUFDZDtBQUNKO0FBRUQ7O2VBQUEsQUFBTyxBQUNWO0FBRUQ7O0FBSUE7Ozs7YUFBQSxBQUFTLFFBQVQsQUFBaUIsT0FBTyxBQUNwQjt3QkFBQSxBQUFnQixBQUNuQjtBQUVEOztBQUlBOzs7O2FBQUEsQUFBUyxhQUFhLEFBQ2xCO1lBQUksQ0FBQSxBQUFDLGlCQUFpQixDQUFDLGNBQW5CLEFBQWlDLFNBQVMsQ0FBQyxjQUFBLEFBQWMsTUFBN0QsQUFBbUUsUUFBUSxPQUFBLEFBQU8sQUFFbEY7O1lBQUksT0FBTyxjQUFBLEFBQWMsTUFBTSxjQUFBLEFBQWMsTUFBZCxBQUFvQixTQUF4QyxBQUFpRCxHQUE1RCxBQUErRCxBQUMvRDtZQUFJLFFBQVEsU0FBWixBQUFZLEFBQVMsQUFFckI7O2VBQU8sTUFBTSxNQUFBLEFBQU0sU0FBbkIsQUFBTyxBQUFxQixBQUMvQjtBQUVEOztBQUlBOzs7O2FBQUEsQUFBUyxZQUFZLEFBQ2pCO2VBQU8sY0FBQSxBQUFjLFFBQXJCLEFBQTZCLEFBQ2hDO0FBRUQ7O2FBQUEsQUFBUyxRQUFRLEFBQ2I7O29CQUFjLEFBQ0YsQUFDUjtrQkFGVSxBQUVKLEFBQ047a0JBSEosQUFBYyxBQUdKLEFBR1Y7QUFOYyxBQUNWOzs7d0JBS1EsQUFDSSxBQUNaO3VCQUZRLEFBRUcsQUFDWDt3Q0FIUSxBQUdvQixBQUM1QjswQkFKSixBQUFZLEFBSU0sQUFHbEI7QUFQWSxBQUNSOzs7NEJBTVcsQUFDSyxBQUNoQjs2QkFGVyxBQUVNLEFBQ2pCO2lDQUhKLEFBQWUsQUFHVSxBQUd6QjtBQU5lLEFBQ1g7OztnQkFLUSxBQUNKLEFBQ0o7bUJBRlEsQUFFRCxBQUNQO3VCQUhRLEFBR0csQUFDWDsyQkFKUSxBQUlPLEFBQ2Y7cUNBTFEsQUFLaUIsQUFDekI7NEJBTlEsQUFNUSxBQUNoQjswQkFQSixBQUFZLEFBT00sQUFHbEI7QUFWWSxBQUNSOzs7dUJBU0osQUFBWSxBQUNHLEFBR2Y7QUFKWSxBQUNSOzs7NkJBR0osQUFBWSxBQUNTLEFBR3JCO0FBSlksQUFDUjs7OzhCQUdRLEFBQ1UsQUFDbEI7c0NBRlEsQUFFa0IsQUFDMUI7cUNBSFEsQUFHaUIsQUFDekI7aUNBSlEsQUFJYSxBQUNyQjtrQ0FMUSxBQUtjLEFBQ3RCO21CQU5KLEFBQVksQUFNRCxBQUdYO0FBVFksQUFDUjs7O3FCQVFRLEFBQ0MsQUFDVDtpQ0FGUSxBQUVhLEFBQ3JCO21CQUhKLEFBQVksQUFHRCxBQUdYO0FBTlksQUFDUjs7OzBCQUtRLEFBQ00sQUFDZDtnQ0FGUSxBQUVZLEFBQ3BCO3lCQUhRLEFBR0ssQUFDYjttQkFKUSxBQUlELEFBQ1A7cUJBTEosQUFBWSxBQUtDLEFBR2I7QUFSWSxBQUNSOzs7eUJBT2MsQUFDRCxBQUNiOzZCQUZjLEFBRUcsQUFDakI7NENBSEosQUFBa0IsQUFHa0IsQUFFdkM7QUFMcUIsQUFDZDtBQU1SOzthQUFBLEFBQVMsVUFBVCxBQUFtQixNQUFuQixBQUF5QixJQUF6QixBQUE2QixPQUFPLEFBQ2hDO2FBQUssSUFBTCxBQUFTLFFBQVQsQUFBaUIsT0FBTyxBQUNwQjtlQUFBLEFBQUcsUUFBUSxLQUFLLE1BQWhCLEFBQVcsQUFBSyxBQUFNLEFBQ3pCO0FBQ0o7QUFFRDs7YUFBQSxBQUFTLG9CQUFULEFBQTZCLFNBQVMsQUFDbEM7WUFBSSxDQUFKLEFBQUssU0FBUyxPQUFBLEFBQU8sQUFFckI7O1lBQUksTUFBTSxhQUFWLEFBQ0E7WUFBQSxBQUFJLEdBQUosQUFDSSxBQUVKOztrQkFBQSxBQUFVLFNBQVYsQUFBbUIsS0FBbkIsQUFBd0IsQUFFeEI7O1lBQUksUUFBQSxBQUFRLGVBQVosQUFBSSxBQUF1QixnQkFBZ0IsQUFDdkM7Z0JBQUEsQUFBSSxhQUFhLENBQUMsUUFBbEIsQUFBMEIsQUFDN0I7QUFFRDs7Z0JBQVEsSUFBUixBQUFZLEFBQ1I7aUJBQUEsQUFBSyxBQUNEOzBCQUFBLEFBQVUsU0FBVixBQUFtQixLQUFuQixBQUF3QixBQUN4QjtvQkFBSSxJQUFKLEFBQVEsWUFBWSxBQUNoQjt5QkFBSyxJQUFBLEFBQUksR0FBRyxLQUFLLElBQUEsQUFBSSxXQUFyQixBQUFnQyxRQUFRLElBQXhDLEFBQTRDLElBQTVDLEFBQWdELEtBQUssQUFDakQ7a0NBQVUsUUFBQSxBQUFRLFdBQWxCLEFBQVUsQUFBbUIsSUFBSSxJQUFBLEFBQUksV0FBckMsQUFBaUMsQUFBZSxJQUFoRCxBQUFvRCxBQUN2RDtBQUNKO0FBQ0Q7QUFDSjtpQkFBQSxBQUFLLEFBQ0Q7MEJBQUEsQUFBVSxTQUFWLEFBQW1CLEtBQW5CLEFBQXdCLEFBQ3hCO0FBQ0o7aUJBQUEsQUFBSyxBQUNEOzBCQUFBLEFBQVUsU0FBVixBQUFtQixLQUFuQixBQUF3QixBQUN4QjtBQUNKO2lCQUFBLEFBQUssQUFDRDswQkFBQSxBQUFVLFNBQVYsQUFBbUIsS0FBbkIsQUFBd0IsQUFDeEI7QUFDSjtpQkFBQSxBQUFLLEFBQ0Q7MEJBQUEsQUFBVSxTQUFWLEFBQW1CLEtBQW5CLEFBQXdCLEFBQ3hCO0FBQ0o7aUJBQUEsQUFBSyxBQUNEOzBCQUFBLEFBQVUsU0FBVixBQUFtQixLQUFuQixBQUF3QixBQUN4QjtBQUNKO2lCQUFBLEFBQUssQUFDRDswQkFBQSxBQUFVLFNBQVYsQUFBbUIsS0FBbkIsQUFBd0IsQUFDeEI7b0JBQUksSUFBSixBQUFRLFNBQVMsQUFDYjt5QkFBSyxJQUFBLEFBQUksR0FBRyxLQUFLLElBQUEsQUFBSSxRQUFyQixBQUE2QixRQUFRLElBQXJDLEFBQXlDLElBQXpDLEFBQTZDLEtBQUssQUFDOUM7a0NBQVUsUUFBQSxBQUFRLFFBQWxCLEFBQVUsQUFBZ0IsSUFBSSxJQUFBLEFBQUksUUFBbEMsQUFBOEIsQUFBWSxJQUExQyxBQUE4QyxBQUNqRDtBQUNKO0FBQ0Q7QUEvQlIsQUFrQ0E7OztlQUFBLEFBQU8sQUFDVjtBQUVEOzs7Z0JBQVcsQUFDQyxBQUNSO2tCQUZPLEFBRUcsQUFDVjtpQkFITyxBQUdFLEFBQ1Q7b0JBSk8sQUFJSyxBQUNaO21CQUxKLEFBQVcsQUFLSSxBQUdmO0FBUlcsQUFDUDs7QUFTSjs7V0FBQSxBQUFPLEFBQ1Y7O0FBQ0QsUUFBQSxBQUFRLDBCQUFSLEFBQWtDO2tCQUNuQix1QkFBQSxBQUFhLGdCLEFBQWIsQUFBNkI7Ozs7Ozs7Ozs7Ozs7OztHQ3ZQNUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUE4QkE7Ozs7QUFDQTs7Ozs7Ozs7QUFFQSxJQUFNLGtCQUFrQixLLEFBQXhCLEFBQTZCLElBQUk7QUFDakMsSUFBTSxpQixBQUFOLEFBQXVCLElBQUk7O0FBRTNCLFNBQUEsQUFBUyxhQUFhLEFBRWxCOztRQUFJLFVBQVUsS0FBZCxBQUFtQixBQUNuQjtBQUVBOztBQUdBOzs7UUFBSSxnQkFBSjtRQUNJLG1CQURKO1FBRUksWUFGSjs7QUFFVSxBQUNOO3VCQUhKOztBQUdpQixBQUNiO3NCQUpKOztBQUlnQixBQUNaO29CQUxKO1FBTUksa0JBTko7UUFPSSxtQkFQSjtRQVFJLCtCQVJKO1FBU0ksOEJBVEo7UUFVSSxvQkFWSjtRQVdJLGlCQVhKO1FBWUkscUJBWko7UUFhSSxrQkFiSjtRQWNJLG1CQWRKO1FBZUksb0JBZko7UUFnQkksbUJBaEJKO1FBaUJJLGtCQWpCSixBQW1CQTs7UUFBSSxhQTNCYyxBQTJCbEIsQUFBaUIsR0FBRyxBQUVwQjs7YUFBQSxBQUFTLFVBQVQsQUFBbUIsUUFBUSxBQUN2QjtZQUFJLENBQUosQUFBSyxRQUFRLEFBRWI7O1lBQUksT0FBSixBQUFXLFlBQVksQUFDbkI7eUJBQWEsT0FBYixBQUFvQixBQUN2QjtBQUNKO0FBRUQ7O0FBS0E7Ozs7O2FBQUEsQUFBUyxZQUFULEFBQXFCLFNBQVMsQUFDMUI7WUFBSSxRQUFBLEFBQVEsZUFBUixBQUF1QixZQUFZLFFBQUEsQUFBUSxlQUEvQyxBQUF1QyxBQUF1QixRQUFRLEFBQ2xFO2dCQUFJLFlBQVksYUFBYSxRQUE3QixBQUFnQixBQUFxQixBQUNyQztnQkFBSSxVQUFVLGFBQWEsUUFBM0IsQUFBYyxBQUFxQixBQUNuQzttQkFBTyxDQUFBLEFBQUMsV0FBUixBQUFPLEFBQVksQUFDdEI7QUFKRCxlQUlPLEFBQ0g7bUJBQUEsQUFBTyxBQUNWO0FBQ0o7QUFFRDs7YUFBQSxBQUFTLFdBQVcsQUFDaEI7WUFBSSxLQUFLLGNBQVQsQUFBdUIsQUFDdkI7QUFDQTtlQUFBLEFBQU8sQUFDVjtBQUVEOztBQU9BOzs7Ozs7O2FBQUEsQUFBUyx1QkFBVCxBQUFnQyxPQUFoQyxBQUF1QyxlQUF2QyxBQUFzRCxhQUFhLEFBRS9EOztZQUFJLGtCQUFKLEFBQXNCLEFBQ3RCO1lBQUksd0JBQUosQUFBNEIsQUFDNUI7WUFBSSxnQkFBSixBQUFvQixBQUVwQjs7aUJBQUEsQUFBUyxZQUFULEFBQXFCLE1BQXJCLEFBQTJCLE1BQU0sQUFDN0I7Z0JBQUksS0FBQSxBQUFLLGVBQVQsQUFBSSxBQUFvQixPQUFPLEFBQzNCO29CQUFJLGFBQWEsS0FBakIsQUFBaUIsQUFBSyxBQUN0QjtvQkFBSSxzQkFBQSxBQUFzQixRQUF0QixBQUE4QixjQUFsQyxBQUFnRCxHQUFHLEFBQy9DOzBDQUFBLEFBQXNCLEtBQXRCLEFBQTJCLEFBQzlCO0FBQ0o7QUFDSjtBQUVEOzthQUFLLElBQUksSUFBVCxBQUFhLEdBQUcsSUFBSSxNQUFwQixBQUEwQixRQUExQixBQUFrQyxLQUFLLEFBQ25DO2dCQUFJLE9BQU8sTUFBWCxBQUFXLEFBQU0sQUFDakI7d0JBQUEsQUFBWSxNQUFaLEFBQWtCLEFBQ2xCO3dCQUFBLEFBQVksTUFBWixBQUFrQixBQUNyQjtBQUNEO1lBQUksc0JBQUEsQUFBc0IsV0FBMUIsQUFBcUM7bUJBQUcsQUFDcEMsQUFBTyxjQUQ2QixBQUNwQyxDQUFzQixBQUN6QjtBQUVEOztZQUFJLE9BQUEsQUFBTyxrQkFBUCxBQUF5QixlQUFlLE9BQUEsQUFBTyxnQkFBbkQsQUFBbUUsYUFBYyxBQUM3RTtpQkFBSyxJQUFJLEtBQVQsQUFBYSxHQUFHLEtBQUksc0JBQXBCLEFBQTBDLFFBQTFDLEFBQWtELE1BQUssQUFDbkQ7b0JBQUksYUFBYSxhQUFhLHNCQUE5QixBQUFpQixBQUFhLEFBQXNCLEFBQ3BEO29CQUFJLGdCQUFBLEFBQWdCLGNBQWMsYUFBbEMsQUFBK0MsYUFBYSxBQUN4RDtvQ0FBQSxBQUFnQixLQUFoQixBQUFxQixBQUN4QjtBQUNKO0FBQ0Q7NEJBQUEsQUFBZ0IsS0FBaEIsQUFBcUIsQUFDckI7NEJBQUEsQUFBZ0IsS0FBaEIsQUFBcUIsQUFDeEI7QUFURCxlQVNPLEFBQ0g7aUJBQUssSUFBSSxNQUFULEFBQWEsR0FBRyxNQUFJLHNCQUFwQixBQUEwQyxRQUExQyxBQUFrRCxPQUFLLEFBQ25EO2dDQUFBLEFBQWdCLEtBQUssYUFBYSxzQkFBbEMsQUFBcUIsQUFBYSxBQUFzQixBQUMzRDtBQUNKO0FBQ0Q7d0JBQUEsQUFBZ0IsS0FBSyxVQUFBLEFBQVUsR0FBVixBQUFhLEdBQUcsQUFBRTttQkFBTyxJQUFQLEFBQVcsQUFBRztBQUFyRCxBQUNBO2FBQUssSUFBSSxNQUFULEFBQWEsR0FBRyxNQUFJLGdCQUFBLEFBQWdCLFNBQXBDLEFBQTZDLEdBQTdDLEFBQWdELE9BQUssQUFDakQ7MEJBQUEsQUFBYyxLQUFLLENBQUMsZ0JBQUQsQUFBQyxBQUFnQixNQUFJLGdCQUFnQixNQUF4RCxBQUFtQixBQUFxQixBQUFvQixBQUMvRDtBQUNEO2VBQUEsQUFBTyxBQUNWO0FBR0Q7O2FBQUEsQUFBUyxjQUFULEFBQXVCLFdBQXZCLEFBQWtDLGVBQWUsQUFDN0M7WUFBSSxPQUFBLEFBQU8sa0JBQVgsQUFBNkIsYUFBYSxBQUN0QztnQkFBSSxZQUFKLEFBQWdCLGVBQWUsQUFDM0I7NEJBQUEsQUFBWSxBQUNmO0FBQ0o7QUFDRDtlQUFBLEFBQU8sQUFDVjtBQUdEOzthQUFBLEFBQVMsWUFBVCxBQUFxQixTQUFyQixBQUE4QixhQUFhLEFBQ3ZDO1lBQUksT0FBQSxBQUFPLGdCQUFYLEFBQTJCLGFBQWEsQUFDcEM7Z0JBQUksVUFBSixBQUFjLGFBQWEsQUFDdkI7MEJBQUEsQUFBVSxBQUNiO0FBQ0o7QUFDRDtlQUFBLEFBQU8sQUFDVjtBQUVEOztBQUtBOzs7OzthQUFBLEFBQVMsbUJBQVQsQUFBNEIsUUFBNUIsQUFBb0MsZUFBcEMsQUFBbUQsYUFBYSxBQUM1RDtZQUFJLFlBQVksYUFBYSxPQUE3QixBQUFnQixBQUFvQixBQUNwQztZQUFJLFVBQVUsYUFBYSxPQUEzQixBQUFjLEFBQW9CLEFBQ2xDO29CQUFZLGNBQUEsQUFBYyxXQUExQixBQUFZLEFBQXlCLEFBQ3JDO2tCQUFVLFlBQUEsQUFBWSxTQUF0QixBQUFVLEFBQXFCLEFBQy9CO1lBQUksT0FBQSxBQUFPLGtCQUFQLEFBQXlCLGVBQWUsT0FBQSxBQUFPLGdCQUFuRCxBQUFtRSxhQUFhLEFBQzVFO2dCQUFJLFVBQUEsQUFBVSxpQkFBaUIsWUFBL0IsQUFBMkMsYUFBYSxBQUNwRDt3QkFBQSxBQUFRLElBQUksZUFBQSxBQUFlLFlBQWYsQUFBMkIsTUFBM0IsQUFBaUMsVUFBakMsQUFBMkMsdUJBQTNDLEFBQ0EsZ0JBREEsQUFDZ0IsTUFENUIsQUFDa0MsQUFDbEM7dUJBQUEsQUFBTyxBQUNWO0FBQ0o7QUFDRDtlQUFPLENBQUEsQUFBQyxXQUFSLEFBQU8sQUFBWSxBQUN0QjtBQUVEOztBQUdBOzs7YUFBQSxBQUFTLHFCQUFULEFBQThCLFFBQTlCLEFBQXNDLFVBQVUsQUFDNUM7WUFBSSxhQUFKLEFBQWlCLEFBQ2pCO1lBQUksT0FBQSxBQUFPLGVBQVgsQUFBSSxBQUFzQixTQUFTLEFBQy9CO2dCQUFJLGlCQUFpQixZQUFZLE9BQWpDLEFBQXFCLEFBQW1CLEFBQ3hDO2dCQUFJLG1CQUFKLEFBQXVCLE1BQU0sQUFBRTtBQUMzQjs2QkFBYyxlQUFBLEFBQWUsS0FBSyxTQUFwQixBQUFvQixBQUFTLE1BQU0sZUFBQSxBQUFlLEtBQUssU0FBckUsQUFBcUUsQUFBUyxBQUNqRjtBQUNKO0FBQ0Q7ZUFBQSxBQUFPLEFBQ1Y7QUFFRDs7QUFTQTs7Ozs7Ozs7O2FBQUEsQUFBUyxNQUFULEFBQWUsTUFBZixBQUFxQixlQUFyQixBQUFvQztZQUM1QixVQUFKOztBQUFRLEFBQ0o7b0JBREo7O0FBQ1UsQUFDTjtvQkFGSjs7QUFFVSxBQUNOO3dCQUhKOztBQUdjLEFBQ1Y7b0JBSkosQUFNQTs7WUFBSSxXQUFKLEFBQWUsQUFFZjs7WUFBSSxZQUFZLHVCQUFBLEFBQVMsSUFBVCxBQUFhLElBQTdCLEFBQWdCLEFBQWlCLEFBRWpDOztBQUNBO2VBQU8sVUFBQSxBQUFVLGFBQWpCLEFBQU8sQUFBdUIsQUFFOUI7O1lBQUksQ0FBSixBQUFLLE1BQU0sQUFDUDtrQkFBTSxJQUFBLEFBQUksTUFBVixBQUFNLEFBQVUsQUFDbkI7QUFFRDs7WUFBSSxjQUFjLFdBQWxCLEFBQWtCLEFBQVcsdUJBQXVCLEFBQ2hEO21CQUFBLEFBQU8sQUFDVjtBQUVEOztBQUNBO2FBQUssS0FBTCxBQUFVLEFBQ1Y7WUFBSSxDQUFKLEFBQUssSUFBSSxBQUNMO2tCQUFNLElBQUEsQUFBSSxNQUFWLEFBQU0sQUFBVSxBQUNuQjtBQUVEOztBQUNBO1lBQUksT0FBTyxtQkFBQSxBQUFtQixJQUE5QixBQUFXLEFBQXVCLEFBRWxDOztBQUNBO1lBQUEsQUFBSSxNQUFNLEFBQ047a0NBQUEsQUFBc0IsSUFBdEIsQUFBMEIsQUFDN0I7QUFFRDs7bUJBQVcsR0FwQ2tDLEFBb0M3QyxBQUFXLEFBQUcsY0FwQytCLEFBQzdDLENBbUM2QixBQUU3Qjs7ZUFBTyxHQUFQLEFBQVUsQUFDVjtZQUFJLENBQUosQUFBSyxNQUFNLEFBQ1A7a0JBQU0sSUFBQSxBQUFJLE1BQVYsQUFBTSxBQUFVLEFBQ25CO0FBQ0Q7WUFBSSxLQUFKLEFBQVMsUUFBUSxBQUNiO3lCQUFhLEtBQUEsQUFBSyxPQURMLEFBQ2IsQUFBeUIsZ0JBQWdCLEFBQzVDO0FBQ0Q7WUFBSSxLQUFKLEFBQVMsU0FBUyxBQUNkOzBCQUFjLEtBQUEsQUFBSyxRQURMLEFBQ2QsQUFBMkIsZUFBZSxBQUM3QztBQUNEO2VBQU8sR0FBUCxBQUFVLEFBQ1Y7WUFBSSxDQUFKLEFBQUssTUFBTSxBQUNQO2tCQUFNLElBQUEsQUFBSSxNQUFWLEFBQU0sQUFBVSxBQUNuQjtBQUVEOztBQUNBO1lBQUksaUJBQUosQUFBcUIsQUFFckI7O0FBQ0E7QUFDQTtBQUNBO1lBQUksYUFBSixBQUFpQixBQUNqQjtZQUFJLGNBQUosQUFBa0IsQUFDbEI7WUFBQSxBQUFJLFlBQVksQUFDWjt5QkFBYSxXQUFBLEFBQVcsYUFBeEIsQUFBcUMsQUFDckM7MEJBQWMsV0FBQSxBQUFXLGFBQXpCLEFBQXNDLEFBQ3pDO0FBRUQ7O0FBQ0E7WUFBSSxXQUFXLENBQUMsYUFBYSxlQUFkLEFBQWMsQUFBZSxJQUFJLGNBQWMsZUFBOUQsQUFBZSxBQUErQyxBQUFlLEFBQzdFOytCQUFBLEFBQXVCLGVBQWUsU0FBQSxBQUFTLEtBQS9DLEFBQW9ELEFBRXBEOztZQUFJLFVBQUosQUFBYyxBQUNkO1lBQUEsQUFBSSxZQUFZLEFBQ1o7aUJBQUssSUFBSSxJQUFULEFBQWEsR0FBRyxJQUFJLFdBQXBCLEFBQStCLFFBQS9CLEFBQXVDLEtBQUssQUFDeEM7d0JBQUEsQUFBUSxLQUFLLGNBQWMsS0FBQSxBQUFLLE1BQU0sS0FBQSxBQUFLLFVBQVUsV0FBeEMsQUFBYyxBQUFXLEFBQWUsQUFBVyxNQUFoRSxBQUFhLEFBQXlELEFBQ3pFO0FBQ0o7QUFFRDs7QUFDQTtZQUFJLFFBQVEsbUJBQW1CLEtBQW5CLEFBQXdCLElBQXBDLEFBQVksQUFBNEIsQUFFeEM7O0FBQ0E7WUFBSSxHQUFBLEFBQUcsZUFBZSxRQUF0QixBQUFJLEFBQTBCLGVBQWUsQUFDekM7ZUFBQSxBQUFHLFlBQVksU0FBUyxHQUFHLFFBQVosQUFBUyxBQUFXLGVBQW5DLEFBQWUsQUFBbUMsQUFDckQ7QUFDRDtZQUFJLGVBQUosQUFBbUIsQUFDbkI7QUFDQTtZQUFJLE9BQU8sR0FBQSxBQUFHLGFBQUgsQUFBZ0IsR0FBM0IsQUFBOEIsQUFFOUI7O0FBRUE7O2FBQUssSUFBSSxJQUFULEFBQWEsR0FBRyxJQUFJLEtBQXBCLEFBQXlCLFFBQXpCLEFBQWlDO2dCQUN6QixNQUFNLEtBQUEsQUFBSyxHQUFmLEFBQWtCLEFBQ2xCO2dCQUFJLGNBRjhCLEFBRWxDLEFBQWtCLEtBRmdCLEFBQ2xDLENBQ3dCLEFBRXhCOztnQkFBSSxVQUFVLGNBQWMsWUFBNUIsQUFBSSxBQUF3QixBQUFZO0FBRXBDO0FBRUE7O0FBQ0E7QUFDQTtvQkFBSSxjQUFKLEFBQ0E7b0JBQUksSUFBSixBQUFRLFFBQVEsQUFDWjt3QkFBSSxTQUFTLGlCQUFBLEFBQWlCLFlBQVksSUFBMUMsQUFBYSxBQUFpQyxBQUM5Qzs2QkFBUyx1QkFBQSxBQUF1QixRQUFoQyxBQUFTLEFBQStCLEFBQzNDO0FBQ0Q7b0JBQUksQ0FBSixBQUFLLFFBQVEsQUFDVDs2QkFBUyx1QkFBQSxBQUF1QixLQUFoQyxBQUFTLEFBQTRCLEFBQ3hDO0FBRUQ7O29CQUFJLFNBQVMsR0FBQSxBQUFHLEtBQUgsQUFBUSxTQWZzQixBQWUzQyxBQUE4QixlQUFlLEFBRTdDOztvQkFBSSxJQUFBLEFBQUksNkJBQVIsQUFBcUMsV0FBVyxBQUM1Qzt5QkFBSyxJQUFJLElBQVQsQUFBYSxHQUFHLElBQUksT0FBcEIsQUFBMkIsUUFBM0IsQUFBbUMsS0FBSyxBQUNwQzs0QkFBSyxNQUFNLE9BQUEsQUFBTyxHQUFkLEFBQU8sQUFBVSxjQUFlLElBQXBDLEFBQW9DLEFBQUksMEJBQTBCLEFBQzlEO3lDQUFBLEFBQWE7dUNBQ0YsWUFETyxBQUNQLEFBQVksQUFDbkI7cUNBQUssWUFGUyxBQUVULEFBQVksQUFDakI7b0NBSGMsQUFHVixBQUNKO3NDQUFNLGdCQUFnQixPQUFBLEFBQU8sR0FBUCxBQUFVLFVBQTFCLEFBQWdCLEFBQW9CLGdCQUFwQyxBQUFvRCxjQUFjLE9BQUEsQUFBTyxHQUpqRSxBQUlvRSxBQUNsRjtzQ0FMYyxBQUtSLEFBQ047d0NBTkosQUFBa0IsQUFNTixBQUVmO0FBUnFCLEFBQ2Q7QUFRWDtBQUNKO0FBQ0Q7QUEvQjJDLHlCQUFBLEFBQzNDLENBOEJVLEFBQ2I7QUFFRDs7Z0JBQUksYUFBYSxJQUFqQixBQUFxQixBQUNyQjtBQUNBO2dCQUFJLGdCQUFBLEFBQWdCLFNBQVMsQ0FBQSxBQUFDLGNBQWMsV0FBQSxBQUFXLFdBQXZELEFBQUksQUFBOEQsSUFBSSxBQUNsRTsyQkFBQSxBQUFXLEFBQ1g7d0JBQUEsQUFBUSxJQUFSLEFBQVksQUFDWjt1QkFBQSxBQUFPLEFBQ1Y7QUFFRDs7aUJBQUssSUFBSSxLQUFULEFBQWMsR0FBRyxLQUFLLFdBQXRCLEFBQWlDLFFBQWpDLEFBQXlDLE1BQU0sQUFDM0M7b0JBQUksWUFBWSxXQUFoQixBQUFnQixBQUFXLEFBQzNCO29CQUFJLFFBQVEsVUFBWixBQUFzQixBQUN0QjtvQkFBSSxlQUFKLEFBQW1CLEFBQ25CO0FBQ0E7QUFDQTtvQkFBSSxVQUFBLEFBQVUsZUFBVixBQUF5QixZQUFZLFVBQUEsQUFBVSxlQUFuRCxBQUF5QyxBQUF5QixRQUFRLEFBQ3RFO0FBQ0E7d0JBQUksa0JBQWtCLG1CQUFBLEFBQW1CLFdBQW5CLEFBQThCLGVBQXBELEFBQXNCLEFBQTZDLEFBQ25FO3dCQUFJLG9CQUFKLEFBQXdCLE1BQU0sQUFDMUI7cUNBQUEsQUFBYSxLQUFiLEFBQWtCLEFBQ3JCO0FBQ0o7QUFORCx1QkFNTyxBQUNIO0FBQ0E7bUNBQWUsdUJBQUEsQUFBdUIsT0FBdkIsQUFBOEIsZUFBN0MsQUFBZSxBQUE2QyxBQUMvRDtBQUNEO29CQUFJLGFBQUEsQUFBYSxXQUFqQixBQUE0QjsrQkFDeEIsQUFBVyxBQUNYO0FBRjJCLDZCQUFBLEFBQzNCLENBQ1UsQUFDYjtBQUVEOztvQkFBSSxvQkFBb0IsVUFBeEIsQUFBa0MsQUFFbEM7O3FCQUFLLElBQUksS0FBVCxBQUFjLEdBQUcsS0FBSyxhQUF0QixBQUFtQyxRQUFuQyxBQUEyQyxNQUFNLEFBQzdDO3dCQUFJLFdBQVcsYUFBZixBQUFlLEFBQWEsQUFDNUI7d0JBQUkscUJBQUosQUFBeUIsQUFDekI7eUJBQUssSUFBSSxLQUFULEFBQWMsR0FBRyxLQUFLLGtCQUF0QixBQUF3QyxRQUF4QyxBQUFnRCxNQUFNLEFBQ2xEOzRCQUFJLFFBQVEsa0JBQVosQUFBWSxBQUFrQixBQUM5Qjs0QkFBSSxxQkFBQSxBQUFxQixPQUF6QixBQUFJLEFBQTRCLFdBQVcsQUFDdkM7K0NBQUEsQUFBbUIsS0FBbkIsQUFBd0IsQUFDM0I7QUFDSjtBQUNEO3dCQUFJLG1CQUFBLEFBQW1CLFdBQXZCLEFBQWtDO0FBQUcsaUNBQUEsQUFDakMsQ0FBVSxBQUNiO0FBRUQ7O3dCQUFJLFNBQUosQUFBYSxRQUFRLEFBQ2pCO3FDQUFBLEFBQWEsQUFDYjtzQ0FBQSxBQUFjLEFBQ2Q7bUNBQUEsQUFBVyxBQUVYOztBQUdBOzs7QUFDQTs0QkFBSSxzQkFBc0IsbUJBQUEsQUFBbUIsV0FBbkIsQUFBOEIsS0FBeEQsQUFBMEIsQUFBbUMsQUFFN0Q7O0FBR0E7OztBQUNBOzRCQUFJLHFCQUFxQixrQkFBQSxBQUFrQixXQUEzQyxBQUF5QixBQUE2QixBQUV0RDs7QUFHQTs7OzRCQUFJLFdBQVcsbUJBQWYsQUFBZSxBQUFtQixBQUNsQzs2Q0FBcUIsbUJBQXJCLEFBQXFCLEFBQW1CLEFBRXhDOztBQUNBOzRCQUFJLGVBQWUsU0FBQSxBQUFTLGNBQTVCLEFBQW1CLEFBQXVCLEFBQzFDO3FDQUFBLEFBQWEsWUFBYixBQUF5QixBQUV6Qjs7QUFDQTtBQUNBO0FBQ0E7NEJBQUksbUJBQW1CLGFBQUEsQUFBYSxvQkFBcEMsQUFBdUIsQUFBaUMsQUFDeEQ7eUNBQUEsQUFBaUIsWUFBakIsQUFBNkIsQUFFN0I7O0FBQ0E7QUFDQTs0QkFBSSxjQUFBLEFBQWMsZ0JBQWxCLEFBQUksQUFBOEIscUJBQXFCLEFBQ25EOzZDQUFBLEFBQWlCLE1BQWpCLEFBQXVCLFdBQVcscUJBQUEsQUFBcUIsZ0JBQXZELEFBQWtDLEFBQXFDLEFBQ3ZFO29EQUFBLEFBQXdCLGdCQUF4QixBQUF3QyxBQUMzQztBQUNEOzRCQUFJLGNBQUEsQUFBYyxhQUFsQixBQUFJLEFBQTJCLHFCQUFxQixBQUNoRDs2Q0FBQSxBQUFpQixNQUFqQixBQUF1QixXQUFXLHFCQUFBLEFBQXFCLGFBQXZELEFBQWtDLEFBQWtDLEFBQ3BFO29EQUFBLEFBQXdCLGFBQXhCLEFBQXFDLEFBQ3hDO0FBRUQ7O0FBQ0E7NEJBQUksY0FBQSxBQUFjLGdCQUFkLEFBQThCLHVCQUF1QixjQUFBLEFBQWMsaUJBQXZFLEFBQXlELEFBQStCLHFCQUFxQixBQUN6Rzs2Q0FBQSxBQUFpQixZQUFZLGlCQUFBLEFBQWlCLGtCQUE5QyxBQUE2QixBQUFtQyxBQUNuRTtBQUVEOztBQUlBOzs7O0FBQ0E7NEJBQUksY0FBQSxBQUFjLGdCQUFkLEFBQThCLHVCQUF1QixjQUFBLEFBQWMsaUJBQXZFLEFBQXlELEFBQStCLHFCQUFxQixBQUN6RztvREFBQSxBQUF3QixnQkFBeEIsQUFBd0MsQUFDeEM7b0RBQUEsQUFBd0IsaUJBQXhCLEFBQXlDLEFBQzVDO0FBRUQ7O0FBQ0E7NEJBQUksV0FBSixBQUFlLEFBQ2Y7NEJBQUksY0FBQSxBQUFjLFlBQWxCLEFBQUksQUFBMEIsc0JBQXNCLEFBQ2hEO2dDQUFJLGdCQUFnQixxQkFBQSxBQUFxQixZQUF6QyxBQUFvQixBQUFpQyxBQUNyRDt1Q0FBVyxjQUFBLEFBQWMsTUFBTSxjQUFBLEFBQWMsUUFBZCxBQUFzQixPQUExQyxBQUFpRCxHQUFHLGNBQUEsQUFBYyxTQUE3RSxBQUFXLEFBQTJFLEFBQ3pGO0FBRUQ7O0FBQ0E7NEJBQUEsQUFBSSxvQkFBb0IsQUFDcEI7eUNBQUEsQUFBYSxNQUFiLEFBQW1CLFVBQVUsbUJBQUEsQUFBbUIsS0FBbkIsQUFBd0IsT0FBckQsQUFBNEQsQUFDL0Q7QUFDRDtBQUNBOzRCQUFBLEFBQUkscUJBQXFCLEFBQ3JCO2tEQUFzQixvQkFBQSxBQUFvQixLQUExQyxBQUFzQixBQUF5QixBQUNsRDtBQUVEOztBQUNBO3FDQUFBLEFBQWEsWUFBYixBQUF5QixBQUV6Qjs7QUFDQTs0QkFBSSxXQUFXLFNBQUEsQUFBUyxjQUF4QixBQUFlLEFBQXVCLEFBQ3RDO2lDQUFBLEFBQVMsWUFBVCxBQUFxQixBQUNyQjtpQ0FBQSxBQUFTLEtBQVQsQUFBYyxBQUNkO2lDQUFBLEFBQVMsTUFBVCxBQUFlLFVBQVUsZ0dBQXpCLEFBQXlILEFBRXpIOzs0QkFBSSxPQUFBLEFBQU8sS0FBUCxBQUFZLFVBQVosQUFBc0IsV0FBMUIsQUFBcUMsR0FBRyxBQUNwQztxQ0FBQSxBQUFTLGtCQUFULEFBQTJCLEFBQzlCO0FBRUQ7O0FBQ0E7cUNBQUEsQUFBYTttQ0FDRixTQURPLEFBQ1AsQUFBUyxBQUNoQjtpQ0FBSyxTQUZTLEFBRVQsQUFBUyxBQUNkO2tDQUhjLEFBR1IsQUFDTjs0Q0FKYyxBQUlFLEFBQ2hCO3FDQUxjLEFBS0wsQUFDVDtzQ0FOYyxBQU1KLEFBQ1Y7bUNBQU8sU0FQTyxBQU9FLEFBQ2hCO3lDQVJjLEFBUUQsQUFDYjt3Q0FUYyxBQVNGLEFBQ1o7NENBVmMsQUFVRSxBQUNoQjtzQ0FBVTtpREFYSSxBQVdRLEFBQ0QsQUFFckI7QUFIc0IsQUFDbEI7d0NBWlUsQUFjRixBQUNaO3lDQWZKLEFBQWtCLEFBZUQsQUFHcEI7QUFsQnFCLEFBQ2Q7QUExRlIsMkJBMkdPLEFBQ0g7NEJBQUksT0FBSixBQUFXLEFBQ1g7NEJBQUksZUFBSixBQUFtQixBQUNuQjs0QkFBSSxhQUFKLEFBQWlCLFFBQVEsQUFDckI7eUNBQUEsQUFBYSxRQUFRLFVBQUEsQUFBVSxJQUFJLEFBQy9CO29DQUFJLEdBQUEsQUFBRyxlQUFQLEFBQUksQUFBa0IsU0FBUyxBQUMzQjt3Q0FBSSxlQUFlLEdBQUEsQUFBRyxLQUF0QixBQUEyQixBQUMzQjtpREFBQSxBQUFhLFFBQVEsVUFBQSxBQUFVLFFBQVEsQUFDbkM7QUFDQTs0Q0FBSSxhQUFBLEFBQWEsZUFBakIsQUFBSSxBQUE0QixhQUFhLEFBQ3pDO0FBQ0g7QUFDRDtBQUNBOzRDQUFJLE9BQUEsQUFBTyxlQUFYLEFBQUksQUFBc0IsVUFBVSxBQUNoQztvREFBUSxPQUFBLEFBQU8sU0FBUCxBQUFnQixRQUFoQixBQUF3QixhQUF4QixBQUFxQyxLQUE3QyxBQUFRLEFBQTBDLEFBQ2xEO0FBQ0g7QUFIRCwrQ0FHTyxJQUFJLFFBQUosQUFBWSxRQUFRLEFBQ3ZCO0FBQ0E7b0RBQUEsQUFBUSxBQUNYO0FBQ0o7QUFiRCxBQWNIO0FBaEJELDJDQWdCVyxHQUFBLEFBQUcsZUFBUCxBQUFJLEFBQWtCLE9BQU8sQUFDaEM7NENBQUEsQUFBUSxBQUNYO0FBRk0saUNBQUEsTUFFQSxBQUNIOzRDQUFRLEdBQUEsQUFBRyxTQUFILEFBQVksUUFBWixBQUFvQixhQUFwQixBQUFpQyxLQUF6QyxBQUFRLEFBQXNDLEFBQ2pEO0FBQ0o7QUF0QkQsQUF1Qkg7QUFFRDs7cUNBQUEsQUFBYTttQ0FDRixTQURPLEFBQ1AsQUFBUyxBQUNoQjtpQ0FBSyxTQUZTLEFBRVQsQUFBUyxBQUNkO2tDQUhjLEFBR1IsQUFDTjtrQ0FKSixBQUFrQixBQUlSLEFBRWI7QUFOcUIsQUFDZDtBQU1YO0FBQ0o7QUFDSjtBQUVEOztZQUFJLGFBQUosQUFBaUIsSUFBSSxBQUNqQjtvQkFBQSxBQUFRLElBQVIsQUFBWSxBQUNmO0FBRUQ7O1lBQUksYUFBQSxBQUFhLFNBQWpCLEFBQTBCLEdBQUcsQUFDekI7bUJBQUEsQUFBTyxBQUNWO0FBRkQsZUFFTyxBQUFFO0FBQ0w7a0JBQU0sSUFBQSxBQUFJLE1BQVYsQUFBTSxBQUFVLEFBQ25CO0FBQ0o7QUFFRDs7YUFBQSxBQUFTLFFBQVEsQUFDYjtBQUdBOzs7c0JBSmEsQUFJYixBQUFjLCtEQUErRCxBQUM3RTttQkFBQSxBQUFXLEFBQ1g7cUJBQUEsQUFBYSxBQUNiO3NCQUFBLEFBQWMsQUFDZDs7bUJBQTBCLEFBQ2YsQUFDUDtvQkFGc0IsQUFFZCxBQUNSO3FCQUhzQixBQUdiLEFBQ1Q7c0JBSnNCLEFBSVosQUFDVjsyQkFMc0IsQUFLUCxBQUNmO3dCQU5zQixBQU1WLEFBQ1o7Z0NBUHNCLEFBT0YsQUFDcEI7b0NBUnNCLEFBUUUsQUFDeEI7aUNBVHNCLEFBU0QsQUFDckI7NEJBVkosQUFBMEIsQUFVTixBQUVwQjtBQVowQixBQUN0Qjs7cUJBV3FCLEFBQ1osQUFDVDt5QkFGcUIsQUFFUixBQUNiOzJCQUhxQixBQUdOLEFBQ2Y7MEJBSnFCLEFBSVAsQUFDZDsyQkFMcUIsQUFLTixBQUNmOzJCQU5xQixBQU1OLEFBQ2Y7MEJBUHFCLEFBT1AsQUFDZDsrQkFScUIsQUFRRixBQUNuQjsrQkFUcUIsQUFTRixBQUNuQjs0QkFWcUIsQUFVTCxBQUNoQjsyQkFYcUIsQUFXTixBQUNmO3FCQVpKLEFBQXlCLEFBWVosQUFFYjtBQWR5QixBQUNyQjs7dUJBYVcsQUFDQSxBQUNYO3VCQUZXLEFBRUEsQUFDWDttQkFIVyxBQUdKLEFBQ1A7Z0NBSlcsQUFJUyxBQUNwQjs0QkFMVyxBQUtLLEFBQ2hCO21DQU5XLEFBTVksQUFDdkI7K0JBUFcsQUFPUSxBQUNuQjt1QkFSSixBQUFlLEFBUUEsQUFFZjtBQVZlLEFBQ1g7O21CQVVPLENBQUEsQUFBQyw4QkFEQSxBQUNELEFBQStCLEFBQ3RDO21CQUFPLENBQUEsQUFBQyxnQ0FGQSxBQUVELEFBQWlDLEFBQ3hDO29CQUFRLENBQUEsQUFBQyw0QkFIRCxBQUdBLEFBQTZCLEFBQ3JDO2lCQUFLLENBQUEsQUFBQyw4QkFKRSxBQUlILEFBQStCLEFBQ3BDO2tCQUFNLENBQUEsQUFBQyxnQ0FMWCxBQUFZLEFBS0YsQUFBaUMsQUFFM0M7QUFQWSxBQUNSOzttQkFNWSxBQUNMLEFBQ1A7b0JBRlksQUFFSixBQUNSO2lCQUhZLEFBR1AsQUFDTDtrQkFKSixBQUFnQixBQUlOLEFBRVY7QUFOZ0IsQUFDWjs7a0JBS1MsQUFDSCxBQUNOO29CQUZKLEFBQWEsQUFFRCxBQUVaO0FBSmEsQUFDVDs7b0JBR1UsQUFDRixBQUNSO21CQUZVLEFBRUgsQUFDUDswQkFISixBQUFjLEFBR0ksQUFFbEI7QUFMYyxBQUNWOztvQkFJVyxBQUNILEFBQ1I7b0JBRlcsQUFFSCxBQUNSO21CQUhKLEFBQWUsQUFHSixBQUVYO0FBTGUsQUFDWDs7a0JBS00seUNBREksQUFFTixBQUNKO2tCQUFNLHlDQUFBLEFBQ0YsaUNBREUsQUFFRixvQkFMTSxBQU1OLEFBQ0o7a0JBQU0sdUNBQUEsQUFDRiwrQkFERSxBQUVGLHVDQVRNLEFBVU4sQUFDSjtrQkFBTSx1Q0FBQSxBQUNGLCtCQURFLEFBRUYsdUNBYk0sQUFjTixBQUNKO2dCQUFJLHlDQWZNLEFBZ0JOLEFBQ0o7Z0JBQUkseUNBQUEsQUFDQSxpQ0FsQk0sQUFtQk4sQUFDSjtnQkFBSSx1Q0FBQSxBQUNBLCtCQURBLEFBRUEsdUNBdEJSLEFBQWMsQUF1Qk4sQUFFWDtBQXpCaUIsQUFDVjtBQTBCUjs7YUFBQSxBQUFTLGFBQVQsQUFBc0IsV0FBVyxBQUM3QjtBQUNBO1lBQUksT0FBTyxZQUFBLEFBQVksS0FBdkIsQUFBVyxBQUFpQixBQUM1QjtZQUFBLEFBQUksV0FBSixBQUNJLFlBREosQUFFSSxBQUVKOztZQUFJLENBQUosQUFBSyxNQUFNLEFBQ1A7QUFDQTttQkFBQSxBQUFPLEFBQ1Y7QUFFRDs7b0JBQVksVUFBQSxBQUFVLE1BQXRCLEFBQVksQUFBZ0IsQUFFNUI7O0FBQ0E7cUJBQWMsV0FBVyxVQUFYLEFBQVcsQUFBVSxNQUFyQixBQUEyQixrQkFDckMsV0FBVyxVQUFYLEFBQVcsQUFBVSxNQURYLEFBQ2lCLGlCQUMzQixXQUFXLFVBRmYsQUFFSSxBQUFXLEFBQVUsQUFFekI7O0FBQ0E7WUFBSSxVQUFKLEFBQUksQUFBVSxJQUFJLEFBQ2Q7d0JBQVksS0FBQSxBQUFLLEdBQWpCLEFBQW9CLEFBQ3BCO2dCQUFJLGFBQWEsQ0FBQyxNQUFsQixBQUFrQixBQUFNLFlBQVksQUFDaEM7OEJBQWMsV0FBVyxVQUFYLEFBQVcsQUFBVSxNQUFuQyxBQUF5QyxBQUM1QztBQUZELG1CQUVPLEFBQ0g7dUJBQUEsQUFBTyxBQUNWO0FBQ0o7QUFDRDtlQUFBLEFBQU8sQUFDVjtBQUVEOzthQUFBLEFBQVMsbUJBQVQsQUFBNEIsTUFBNUIsQUFBa0MsSUFBSSxBQUNsQztBQUNBO1lBQUksV0FBSSxBQUFPLEtBQVAsQUFBWSxNQUFaLEFBQ0gsT0FBTyxVQUFBLEFBQVUsR0FBRyxBQUNqQjttQkFBTyxDQUFDLEVBQUEsQUFBRSxNQUFGLEFBQVEsS0FBUixBQUFhLE9BQWIsQUFBb0IsV0FBVyxFQUFBLEFBQUUsTUFBRixBQUFRLEtBQVIsQUFBYSxPQUE3QyxBQUFvRCxZQUFZLEtBQUEsQUFBSyxPQUE1RSxBQUFtRixBQUN0RjtBQUhHLFNBQUEsRUFBQSxBQUdELElBQUksVUFBQSxBQUFVLEdBQUcsQUFDaEI7bUJBQU8sRUFBQSxBQUFFLE1BQUYsQUFBUSxLQUFSLEFBQWEsTUFBTSxFQUFBLEFBQUUsTUFBRixBQUFRLEtBQWxDLEFBQTBCLEFBQWEsQUFDMUM7QUFMTCxBQUFRLEFBTVI7WUFBSSxFQUFBLEFBQUUsVUFBTixBQUFnQixHQUFHLEFBQ2Y7bUJBQUEsQUFBTyxBQUNWO0FBQ0Q7ZUFBTyxFQUFQLEFBQU8sQUFBRSxBQUNaO0FBRUQ7O2FBQUEsQUFBUyxzQkFBVCxBQUErQixNQUEvQixBQUFxQyxVQUFVLEFBQzNDO2FBQUssSUFBTCxBQUFTLE9BQVQsQUFBZ0IsTUFBTSxBQUNsQjtnQkFBSSxLQUFBLEFBQUssZUFBVCxBQUFJLEFBQW9CLE1BQU0sQUFDMUI7b0JBQUksQ0FBQyxRQUFPLEtBQVAsQUFBTyxBQUFLLFVBQVosQUFBcUIsWUFBWSxLQUFBLEFBQUssZ0JBQXZDLEFBQXVELFdBQVcsQ0FBQyxNQUFBLEFBQU0sUUFBUSxLQUFyRixBQUF1RSxBQUFjLEFBQUssT0FBTyxBQUM3RjswQ0FBc0IsS0FBdEIsQUFBc0IsQUFBSyxNQUEzQixBQUFpQyxBQUNwQztBQUZELHVCQUVPLElBQUksTUFBQSxBQUFNLFFBQVEsS0FBbEIsQUFBSSxBQUFjLEFBQUssT0FBTyxBQUNqQzt5QkFBSyxJQUFJLElBQVQsQUFBYSxHQUFHLElBQUksS0FBQSxBQUFLLEtBQXpCLEFBQThCLFFBQTlCLEFBQXNDLEtBQUssQUFDdkM7OENBQXNCLEtBQUEsQUFBSyxLQUEzQixBQUFzQixBQUFVLElBQWhDLEFBQW9DLEFBQ3ZDO0FBQ0o7QUFDRDtvQkFBSSxTQUFTLElBQUEsQUFBSSxNQUFNLElBQUEsQUFBSSxRQUFKLEFBQVksWUFBWSxTQUF4QixBQUFpQyxTQUF4RCxBQUFhLEFBQW9ELEFBQ2pFO3FCQUFBLEFBQUssVUFBVSxLQUFmLEFBQWUsQUFBSyxBQUNwQjt1QkFBTyxLQUFQLEFBQU8sQUFBSyxBQUNmO0FBQ0o7QUFDSjtBQUVEOztBQUNBO2FBQUEsQUFBUyxnQkFBVCxBQUF5QixLQUFLLEFBQzFCO2VBQU8sSUFBQSxBQUFJLFFBQUosQUFBWSxtQkFBWixBQUErQixTQUF0QyxBQUFPLEFBQXdDLEFBQ2xEO0FBRUQ7O0FBQ0E7YUFBQSxBQUFTLGlCQUFULEFBQTBCLE1BQU0sQUFDNUI7QUFDQTtZQUFJLE1BQU0sS0FBQSxBQUFLLE1BQWYsQUFBVSxBQUFXLEFBQ3JCO0FBQ0E7WUFBSSxhQUFhLElBQUEsQUFBSSxNQUFyQixBQUFpQixBQUFVLEFBQzNCO0FBQ0E7WUFBSSxRQUFRLFdBQVcsU0FBVSxTQUFTLFdBQVQsQUFBUyxBQUFXLElBQXBCLEFBQXdCLE1BQXpCLEFBQStCLE1BQXhDLEFBQStDLE1BQS9DLEFBQXFELE1BQTVFLEFBQVksQUFBc0UsQUFDbEY7QUFDQTtZQUFJLGlCQUFNLEFBQVcsTUFBWCxBQUFpQixHQUFqQixBQUFvQixHQUFwQixBQUF1QixJQUFJLFVBQUEsQUFBVSxHQUFHLEFBQzlDO21CQUFPLFNBQUEsQUFBUyxHQUFoQixBQUFPLEFBQVksQUFDdEI7QUFGRCxBQUFVLEFBR1YsU0FIVTtBQUlWO2VBQU8sVUFBVSxJQUFBLEFBQUksS0FBZCxBQUFVLEFBQVMsT0FBbkIsQUFBMEIsTUFBMUIsQUFBZ0MsUUFBdkMsQUFBK0MsQUFDbEQ7QUFFRDs7QUFDQTthQUFBLEFBQVMsY0FBVCxBQUF1QixNQUF2QixBQUE2QixPQUFPLEFBQ2hDO2FBQUssSUFBSSxJQUFULEFBQWEsR0FBRyxJQUFJLE1BQXBCLEFBQTBCLFFBQTFCLEFBQWtDLEtBQUssQUFDbkM7Z0JBQUksTUFBQSxBQUFNLEdBQU4sQUFBUyxRQUFULEFBQWlCLFFBQVEsQ0FBN0IsQUFBOEIsR0FBRyxBQUM3Qjt1QkFBQSxBQUFPLEFBQ1Y7QUFDSjtBQUNEO2VBQUEsQUFBTyxBQUNWO0FBRUQ7O0FBQ0E7YUFBQSxBQUFTLHFCQUFULEFBQThCLE1BQTlCLEFBQW9DLE9BQU8sQUFDdkM7YUFBSyxJQUFJLElBQVQsQUFBYSxHQUFHLElBQUksTUFBcEIsQUFBMEIsUUFBMUIsQUFBa0MsS0FBSyxBQUNuQztnQkFBSSxNQUFBLEFBQU0sR0FBTixBQUFTLFFBQVQsQUFBaUIsUUFBUSxDQUE3QixBQUE4QixHQUFHLEFBQzdCO3VCQUFPLE1BQVAsQUFBTyxBQUFNLEFBQ2hCO0FBQ0o7QUFDRDtlQUFBLEFBQU8sQUFDVjtBQUVEOztBQUNBO2FBQUEsQUFBUyx3QkFBVCxBQUFpQyxVQUFqQyxBQUEyQyxPQUFPLEFBQzlDO2NBQUEsQUFBTSxPQUFPLE1BQUEsQUFBTSxRQUFRLHFCQUFBLEFBQXFCLFVBQWhELEFBQWEsQUFBYyxBQUErQixTQUExRCxBQUFtRSxBQUN0RTtBQUVEOzthQUFBLEFBQVMsWUFBVCxBQUFxQixZQUFyQixBQUFpQyxZQUFZLEFBQ3pDO2FBQUssSUFBSSxJQUFULEFBQWEsR0FBRyxJQUFJLFdBQXBCLEFBQStCLFFBQS9CLEFBQXVDLEtBQUssQUFDeEM7aUJBQUssSUFBSSxJQUFULEFBQWEsR0FBRyxJQUFJLFdBQXBCLEFBQStCLFFBQS9CLEFBQXVDLEtBQUssQUFDeEM7QUFDQTtvQkFBSSxXQUFKLEFBQUksQUFBVyxJQUFJLEFBQ2Y7d0JBQUksV0FBQSxBQUFXLEdBQVgsQUFBYyxNQUFkLEFBQW9CLEtBQXBCLEFBQXlCLEdBQXpCLEFBQTRCLFFBQVEsV0FBQSxBQUFXLEdBQVgsQUFBYyxNQUFkLEFBQW9CLEtBQXhELEFBQW9DLEFBQXlCLE1BQU0sQ0FBdkUsQUFBd0UsR0FBRyxBQUN2RTttQ0FBQSxBQUFXLE9BQVgsQUFBa0IsR0FBbEIsQUFBcUIsQUFDeEI7QUFDSjtBQUNKO0FBQ0o7QUFDRDtlQUFPLFdBQUEsQUFBVyxPQUFsQixBQUFPLEFBQWtCLEFBQzVCO0FBRUQ7O0FBUUE7Ozs7Ozs7QUFDQTthQUFBLEFBQVMsYUFBVCxBQUFzQixVQUF0QixBQUFnQyxVQUFoQyxBQUEwQyxxQkFBcUIsQUFDM0Q7WUFBSSxhQUFKLEFBQWlCLEFBRWpCOztBQUNBO2FBQUssSUFBTCxBQUFTLE9BQVQsQUFBZ0IsVUFBVSxBQUN0QjtnQkFBSSxTQUFBLEFBQVMsZUFBYixBQUFJLEFBQXdCLE1BQU0sQUFDOUI7QUFDQTtvQkFBSSxTQUFTLElBQUEsQUFBSSxRQUFKLEFBQVksV0FBekIsQUFBYSxBQUF1QixBQUNwQzt5QkFBUyxPQUFBLEFBQU8sUUFBUCxBQUFlLFFBQXhCLEFBQVMsQUFBdUIsQUFDaEM7eUJBQVMsT0FBQSxBQUFPLFFBQVAsQUFBZSxRQUF4QixBQUFTLEFBQXVCLEFBRWhDOztBQUNBO3lCQUFTLGdCQUFULEFBQVMsQUFBZ0IsQUFDekI7eUJBQUEsQUFBUyxVQUFVLFNBQW5CLEFBQW1CLEFBQVMsQUFDNUI7dUJBQU8sU0FBUCxBQUFPLEFBQVMsQUFDbkI7QUFDSjtBQUVEOztBQUNBO1lBQUksa0JBQUosQUFBc0IsVUFBVSxBQUM1QjtnQkFBSSxlQUFlLFdBQVcsU0FBQSxBQUFTLGdCQUFULEFBQXlCLE1BQU0sU0FBQSxBQUFTLGdCQUFULEFBQXlCLFFBQXpCLEFBQWlDLE9BQWhFLEFBQXVFLEdBQ2pHLFNBQUEsQUFBUyxnQkFBVCxBQUF5QixRQUQ3QixBQUFtQixBQUFXLEFBQzFCLEFBQWlDLEFBQ3JDO2dCQUFJLFFBQUosQUFBWSxVQUFVLEFBQ2xCOzRCQUFZLFNBQVosQUFBcUIsTUFBckIsQUFBMkIsQUFDOUI7QUFDRDtnQkFBSSxtQkFBbUIsZUFBZSxTQUFmLEFBQWUsQUFBUyxLQUEvQyxBQUFvRCxBQUNwRDt1QkFBQSxBQUFXLEtBQUssa0JBQWhCLEFBQWtDLEFBQ2xDO3VCQUFBLEFBQVcsS0FBSyxtQkFBaEIsQUFBbUMsQUFDdEM7QUFDRDtBQUNBO1lBQUksZUFBSixBQUFtQixVQUFVLEFBQ3pCO2dCQUFJLGNBQWMsV0FBVyxTQUFBLEFBQVMsYUFBVCxBQUFzQixNQUFNLFNBQUEsQUFBUyxhQUFULEFBQXNCLFFBQXRCLEFBQThCLE9BQTFELEFBQWlFLEdBQzFGLFNBQUEsQUFBUyxhQUFULEFBQXNCLFFBRDFCLEFBQWtCLEFBQVcsQUFDekIsQUFBOEIsQUFDbEM7Z0JBQUksUUFBSixBQUFZLFVBQVUsQUFDbEI7eUJBQVMsU0FBVCxBQUFrQixNQUFsQixBQUF3QixBQUMzQjtBQUNEO2dCQUFJLGtCQUFrQixjQUFBLEFBQWMsTUFBTSxTQUFwQixBQUFvQixBQUFTLEtBQW5ELEFBQXdELEFBQ3hEO3VCQUFBLEFBQVcsS0FBSyxlQUFoQixBQUErQixBQUNsQztBQUNEO0FBQ0E7WUFBSSxpQkFBSixBQUFxQixVQUFVLEFBQzNCO2dCQUFJLFNBQUEsQUFBUyxtQkFBYixBQUFnQyxVQUFVLEFBQ3RDOzJCQUFBLEFBQVcsS0FBWCxBQUFnQixBQUNuQjtBQUZELG1CQUVPLEFBQ0g7b0JBQUksY0FBYyxXQUFXLFNBQUEsQUFBUyxlQUFULEFBQXdCLE1BQU0sU0FBQSxBQUFTLGVBQVQsQUFBd0IsUUFBeEIsQUFBZ0MsT0FBOUQsQUFBcUUsR0FDOUYsU0FBQSxBQUFTLGVBQVQsQUFBd0IsUUFENUIsQUFBa0IsQUFBVyxBQUN6QixBQUFnQyxBQUNwQztvQkFBSSxRQUFKLEFBQVksVUFBVSxBQUNsQjsrQkFBVyxTQUFYLEFBQW9CLE1BQXBCLEFBQTBCLEFBQzdCO0FBQ0Q7b0JBQUksa0JBQWtCLGNBQUEsQUFBYyxNQUFNLFNBQXBCLEFBQW9CLEFBQVMsS0FBbkQsQUFBd0QsQUFDeEQ7MkJBQUEsQUFBVyxLQUFLLGdCQUFBLEFBQWdCLE1BQWhDLEFBQXNDLEFBQ3pDO0FBQ0o7QUFDRDtBQUNBO1lBQUksaUJBQUosQUFBcUIsVUFBVSxBQUMzQjtnQkFBSSxTQUFBLEFBQVMsa0JBQWIsQUFBK0IsY0FBYyxBQUN6QzsyQkFBQSxBQUFXLEtBQUssYUFBYSxTQUE3QixBQUFnQixBQUFhLEFBQVMsQUFDekM7QUFGRCxtQkFFTyxBQUNIOzJCQUFBLEFBQVcsS0FBSyxpQkFBaUIsU0FBakIsQUFBaUIsQUFBUyxpQkFBMUMsQUFBMkQsQUFDOUQ7QUFDSjtBQUNEO0FBQ0E7QUFDQTtBQUNBO1lBQUksZ0JBQUosQUFBb0IsVUFBVSxBQUMxQjtnQkFBSSxTQUFBLEFBQVMsaUJBQWIsQUFBOEIsV0FBVyxBQUNyQzsyQkFBQSxBQUFXLEtBQUssVUFBVSxTQUFWLEFBQVUsQUFBUyxlQUFuQyxBQUFnQixBQUFrQyxBQUNsRDsyQkFBQSxBQUFXLEtBQUssVUFBVSxTQUFWLEFBQVUsQUFBUyxlQUFuQyxBQUFnQixBQUFrQyxBQUNyRDtBQUNKO0FBQ0Q7QUFDQTtBQUNBO1lBQUkscUJBQUosQUFBeUIsVUFBVSxBQUMvQjtnQkFBSSxjQUFBLEFBQWMsY0FBZCxBQUE0QixlQUFlLFNBQUEsQUFBUyxzQkFBeEQsQUFBOEUsUUFBUSxBQUNsRjt3Q0FBQSxBQUF3QixjQUF4QixBQUFzQyxBQUN6QztBQUNEO2dCQUFJLFNBQUEsQUFBUyxzQkFBYixBQUFtQyxlQUFlLEFBQzlDOzJCQUFBLEFBQVcsS0FBSyxjQUFjLFNBQTlCLEFBQWdCLEFBQWMsQUFBUyxBQUMxQztBQUNKO0FBQ0Q7QUFDQTtZQUFBLEFBQUksQUFDSjtZQUFJLHNCQUFKLEFBQTBCLFVBQVUsQUFDaEM7Z0JBQUksU0FBQSxBQUFTLG9CQUFULEFBQTZCLFFBQTdCLEFBQXFDLE9BQU8sQ0FBNUMsQUFBNkMsS0FBTSxTQUFBLEFBQVMsb0JBQVQsQUFBNkIsU0FBOUIsQUFBdUMsTUFBN0YsQUFBb0csR0FBRyxBQUNuRzs0QkFBWSxpQkFBaUIsU0FBN0IsQUFBWSxBQUFpQixBQUFTLEFBQ3RDOzJCQUFBLEFBQVcsS0FBSyx1QkFBaEIsQUFBdUMsQUFDMUM7QUFIRCxtQkFHTyxBQUNIOzJCQUFBLEFBQVcsS0FBSyxzQkFBc0IsU0FBdEIsQUFBc0IsQUFBUyxzQkFBL0MsQUFBcUUsQUFDeEU7QUFDSjtBQUNEO0FBQ0E7WUFBSSxXQUFKLEFBQWUsVUFBVSxBQUNyQjtnQkFBSSxTQUFBLEFBQVMsTUFBVCxBQUFlLFFBQWYsQUFBdUIsT0FBTyxDQUE5QixBQUErQixLQUFNLFNBQUEsQUFBUyxNQUFULEFBQWUsU0FBaEIsQUFBeUIsTUFBakUsQUFBd0UsR0FBRyxBQUN2RTs0QkFBWSxpQkFBaUIsU0FBN0IsQUFBWSxBQUEwQixBQUN0QzsyQkFBQSxBQUFXLEtBQUssWUFBaEIsQUFBNEIsQUFDL0I7QUFIRCxtQkFHTyxBQUNIOzJCQUFBLEFBQVcsS0FBSyxXQUFXLFNBQVgsQUFBb0IsUUFBcEMsQUFBNEMsQUFDL0M7QUFDSjtBQUNEO0FBQ0E7WUFBSSxpQkFBSixBQUFxQixVQUFVLEFBQzNCO2dCQUFJLFNBQUEsQUFBUyxrQkFBYixBQUErQixZQUFZLEFBQ3ZDOzJCQUFBLEFBQVcsS0FBSyxXQUFXLFNBQTNCLEFBQWdCLEFBQVcsQUFBUyxBQUN2QztBQUZELG1CQUVPLEFBQ0g7MkJBQUEsQUFBVyxLQUFLLGlCQUFpQixTQUFqQyxBQUFpQyxBQUFTLEFBQzdDO0FBQ0o7QUFDRDtBQUNBO1lBQUksa0JBQUosQUFBc0IsVUFBVSxBQUM1QjtnQkFBSSxTQUFBLEFBQVMsbUJBQWIsQUFBZ0MsYUFBYSxBQUN6QzsyQkFBQSxBQUFXLEtBQUssWUFBWSxTQUE1QixBQUFnQixBQUFZLEFBQVMsQUFDeEM7QUFGRCxtQkFFTyxBQUNIOzJCQUFBLEFBQVcsS0FBSyxrQkFBa0IsU0FBbEMsQUFBa0MsQUFBUyxBQUM5QztBQUNKO0FBRUQ7O0FBRUE7O1lBQUksZ0JBQUosQUFBb0IsVUFBVSxBQUMxQjt1QkFBQSxBQUFXLEtBQUssZ0JBQWdCLFNBQWhCLEFBQWdCLEFBQVMsZ0JBQXpDLEFBQXlELEFBQzVEO0FBQ0Q7WUFBSSxpQkFBSixBQUFxQixVQUFVLEFBQzNCO3VCQUFBLEFBQVcsS0FBSyxpQkFBaUIsU0FBakIsQUFBaUIsQUFBUyxpQkFBMUMsQUFBMkQsQUFDOUQ7QUFDRDtZQUFJLGVBQUosQUFBbUIsVUFBVSxBQUN6Qjt1QkFBQSxBQUFXLEtBQUssZUFBZSxTQUFmLEFBQXdCLFlBQXhDLEFBQW9ELEFBQ3ZEO0FBQ0Q7WUFBSSxxQkFBSixBQUF5QixVQUFVLEFBQy9CO3VCQUFBLEFBQVcsS0FBSyxxQkFBcUIsU0FBckIsQUFBcUIsQUFBUyxxQkFBOUMsQUFBbUUsQUFDdEU7QUFFRDs7WUFBQSxBQUFJLHFCQUFxQixBQUNyQjt5QkFBYSxXQUFBLEFBQVcsT0FBTyxjQUFBLEFBQWMsVUFBN0MsQUFBYSxBQUFrQixBQUF3QixBQUMxRDtBQUVEOztBQUNBO1lBQUksS0FBQSxBQUFLLEdBQUwsQUFBUSxlQUFaLEFBQUksQUFBdUIsY0FBYyxBQUNyQztnQkFBSSxLQUFBLEFBQUssR0FBTCxBQUFRLGlCQUFaLEFBQTZCLFlBQVksQUFDckM7MkJBQUEsQUFBVyxLQUFYLEFBQWdCLEFBQ25CO0FBQ0o7QUFFRDs7ZUFBQSxBQUFPLEFBQ1Y7QUFFRDs7QUFDQTtBQUNBO2FBQUEsQUFBUyxnQkFBVCxBQUF5QixhQUF6QixBQUFzQyxZQUFZLEFBQzlDO0FBQ0E7YUFBSyxJQUFJLElBQVQsQUFBYSxHQUFHLElBQUksWUFBcEIsQUFBZ0MsUUFBaEMsQUFBd0MsS0FBSyxBQUN6QztnQkFBSSxZQUFZLFlBQWhCLEFBQWdCLEFBQVksQUFDNUI7Z0JBQUksVUFBQSxBQUFVLGNBQVYsQUFBd0IsY0FBYyxVQUFBLEFBQVUsT0FBcEQsQUFBMkQsWUFBWSxBQUNuRTtBQUNBO3VCQUFBLEFBQU8sQUFDVjtBQUNKO0FBQ0Q7ZUFBQSxBQUFPLEFBQ1Y7QUFDRDtBQUNBO2FBQUEsQUFBUyxrQkFBVCxBQUEyQixXQUEzQixBQUFzQyxVQUF0QyxBQUFnRCxxQkFBcUIsQUFDakU7WUFBSSxTQUFKLEFBQWEsQUFDYjtZQUFJLE1BQU0sVUFBQSxBQUFVLE1BQXBCLEFBQVUsQUFBZ0IsQUFDMUI7WUFBQSxBQUFJLFFBQVEsVUFBQSxBQUFVLElBQUksQUFDdEI7QUFDQTtnQkFBSSxXQUFXLGdCQUFBLEFBQWdCLGFBQS9CLEFBQWUsQUFBNkIsQUFDNUM7Z0JBQUEsQUFBSSxVQUFVLEFBQ1Y7QUFDQTtBQUNBO29CQUFJLGVBQWUsYUFBYSxLQUFBLEFBQUssTUFBTSxLQUFBLEFBQUssVUFBN0IsQUFBYSxBQUFXLEFBQWUsWUFBdkMsQUFBbUQsVUFBdEUsQUFBbUIsQUFBNkQsQUFDaEY7eUJBQVMsT0FBQSxBQUFPLE9BQWhCLEFBQVMsQUFBYyxBQUMxQjtBQUNKO0FBVEQsQUFVQTtlQUFBLEFBQU8sQUFDVjtBQUVEOztBQUNBO0FBQ0E7YUFBQSxBQUFTLHVCQUFULEFBQWdDLFNBQWhDLEFBQXlDLFVBQVUsQUFFL0M7O1lBQUksU0FBSixBQUFhLEFBRWI7O1lBQUssZ0JBQUQsQUFBaUIsV0FBYSxnQkFBbEMsQUFBa0QsU0FBVyxBQUN6RDtnQkFBSSxjQUFjLE9BQUEsQUFBTyxLQUFLLFFBQTlCLEFBQWtCLEFBQVksQUFBUSxBQUN0QztnQkFBSSxjQUFjLE9BQUEsQUFBTyxLQUFLLFFBQTlCLEFBQWtCLEFBQVksQUFBUSxBQUN0QztnQkFBSSxnQkFBQSxBQUFnQixRQUFRLGdCQUE1QixBQUE0QyxNQUFNLEFBQzlDO3dCQUFBLEFBQVEsSUFBSSwyQkFBMkIsUUFBM0IsQUFBMkIsQUFBUSxnQkFBbkMsQUFBbUQsTUFBTSxRQUFyRSxBQUFxRSxBQUFRLEFBQzdFO3VCQUFBLEFBQU8sQUFDVjtBQUNEO2dCQUFJLFFBQVEsV0FBVyxZQUF2QixBQUFZLEFBQVcsQUFBWSxBQUNuQztnQkFBSSxTQUFTLFdBQVcsWUFBeEIsQUFBYSxBQUFXLEFBQVksQUFDcEM7Z0JBQUksT0FBTyxXQUFXLFlBQXRCLEFBQVcsQUFBVyxBQUFZLEFBQ2xDO2dCQUFJLE1BQU0sV0FBVyxZQUFyQixBQUFVLEFBQVcsQUFBWSxBQUVqQzs7Z0JBQUEsQUFBSSxVQUFVLEFBQUU7QUFDWjtvQkFBSSxnQkFBZ0IsT0FBQSxBQUFPLEtBQTNCLEFBQW9CLEFBQVksQUFDaEM7b0JBQUksa0JBQUEsQUFBa0IsUUFBUSxjQUFBLEFBQWMsT0FBeEMsQUFBK0MsUUFBUSxjQUFBLEFBQWMsT0FBekUsQUFBZ0YsTUFBTSxBQUNsRjs0QkFBQSxBQUFRLElBQUksb0JBQVosQUFBZ0MsQUFDaEM7MkJBQUEsQUFBTyxBQUNWO0FBQ0Q7b0JBQUksVUFBVSxXQUFXLGNBQXpCLEFBQWMsQUFBVyxBQUFjLEFBQ3ZDO29CQUFJLFdBQVcsV0FBVyxjQUExQixBQUFlLEFBQVcsQUFBYyxBQUN4QztvQkFBSSxZQUFBLEFBQVksT0FBaEIsQUFBdUIsTUFBTSxBQUN6Qjs0QkFBUSxRQUFBLEFBQVEsVUFBaEIsQUFBMEIsQUFDN0I7QUFDRDtvQkFBSSxZQUFBLEFBQVksT0FBaEIsQUFBdUIsTUFBTSxBQUN6Qjs2QkFBUyxTQUFBLEFBQVMsV0FBbEIsQUFBNkIsQUFDaEM7QUFDRDtvQkFBSSxZQUFBLEFBQVksT0FBaEIsQUFBdUIsTUFBTSxBQUN6QjsyQkFBTyxPQUFBLEFBQU8sVUFBZCxBQUF3QixBQUMzQjtBQUNEO29CQUFJLFlBQUEsQUFBWSxPQUFoQixBQUF1QixNQUFNLEFBQ3pCOzBCQUFNLE1BQUEsQUFBTSxXQUFaLEFBQXVCLEFBQzFCO0FBQ0o7QUFDRDttQkFBTyxFQUFFLFFBQUYsQUFBVSxNQUFNLE9BQWhCLEFBQXVCLEtBQUssU0FBNUIsQUFBcUMsT0FBTyxVQUFuRCxBQUFPLEFBQXNELEFBQ2hFO0FBbENELGVBa0NPLEFBQ0g7bUJBQUEsQUFBTyxBQUNWO0FBQ0o7QUFFRDs7QUFPQTs7Ozs7OztBQUNBO2FBQUEsQUFBUyxjQUFULEFBQXVCLFdBQXZCLEFBQWtDLFVBQVUsQUFDeEM7WUFBSSxhQUFKLEFBQWlCLEFBRWpCOztBQUNBO2FBQUssSUFBTCxBQUFTLE9BQVQsQUFBZ0IsV0FBVyxBQUN2QjtBQUNBO2dCQUFJLFNBQVMsSUFBQSxBQUFJLFFBQUosQUFBWSxRQUF6QixBQUFhLEFBQW9CLEFBQ2pDO3FCQUFTLE9BQUEsQUFBTyxRQUFQLEFBQWUsUUFBeEIsQUFBUyxBQUF1QixBQUVoQzs7QUFDQTtxQkFBUyxnQkFBVCxBQUFTLEFBQWdCLEFBQ3pCO3NCQUFBLEFBQVUsVUFBVSxVQUFwQixBQUFvQixBQUFVLEFBQzlCO2dCQUFJLFdBQUosQUFBZSxLQUFLLEFBQ2hCO3VCQUFPLFVBQVAsQUFBTyxBQUFVLEFBQ3BCO0FBQ0o7QUFDRDtBQUNBO1lBQUksWUFBSixBQUFnQixXQUFXLEFBQ3ZCO2dCQUFJLGVBQWUsVUFBQSxBQUFVLE9BQVYsQUFBaUIsTUFBcEMsQUFBbUIsQUFBdUIsQUFDMUM7dUJBQUEsQUFBVyxLQUFLLFlBQVksYUFBWixBQUFZLEFBQWEsS0FBekMsQUFBOEMsQUFDOUM7dUJBQUEsQUFBVyxLQUFLLGFBQWEsYUFBYixBQUFhLEFBQWEsS0FBMUMsQUFBK0MsQUFDbEQ7QUFDRDtBQUNBO1lBQUksWUFBSixBQUFnQixXQUFXLEFBQ3ZCO2dCQUFJLGVBQWUsVUFBQSxBQUFVLE9BQVYsQUFBaUIsTUFBcEMsQUFBbUIsQUFBdUIsQUFDMUM7dUJBQUEsQUFBVyxLQUFLLFdBQVcsYUFBWCxBQUFXLEFBQWEsS0FBeEMsQUFBNkMsQUFDN0M7dUJBQUEsQUFBVyxLQUFLLFVBQVUsYUFBVixBQUFVLEFBQWEsS0FBdkMsQUFBNEMsQUFDL0M7QUFDRDtBQUNBO1lBQUksbUJBQUosQUFBdUIsV0FBVyxBQUM5Qjt1QkFBQSxBQUFXLEtBQUssYUFBYSxVQUE3QixBQUFnQixBQUFhLEFBQVUsQUFDMUM7QUFDRDtBQUNBO1lBQUksa0JBQUosQUFBc0IsV0FBVyxBQUM3Qjt1QkFBQSxBQUFXLEtBQUssWUFBWSxVQUE1QixBQUFnQixBQUFZLEFBQVUsQUFDekM7QUFDRDtBQUNBO1lBQUksV0FBSixBQUFlLFdBQVcsQUFDdEI7Z0JBQUksY0FBYyxrQkFBa0IsVUFBbEIsQUFBNEIsT0FBNUIsQUFBbUMsVUFBckQsQUFBa0IsQUFBNkMsQUFDL0Q7eUJBQWEsV0FBQSxBQUFXLE9BQXhCLEFBQWEsQUFBa0IsQUFDbEM7QUFFRDs7QUFFQTs7WUFBSSxhQUFKLEFBQWlCLFdBQVcsQUFDeEI7dUJBQUEsQUFBVyxLQUFLLGFBQWEsVUFBYixBQUF1QixVQUF2QyxBQUFpRCxBQUNwRDtBQUNEO1lBQUksY0FBSixBQUFrQixXQUFXLEFBQ3pCO3VCQUFBLEFBQVcsS0FBSyxjQUFjLFVBQWQsQUFBd0IsV0FBeEMsQUFBbUQsQUFDdEQ7QUFDRDtZQUFJLHFCQUFKLEFBQXlCLFdBQVcsQUFDaEM7dUJBQUEsQUFBVyxLQUFLLHFCQUFxQixVQUFyQixBQUFxQixBQUFVLHFCQUEvQyxBQUFvRSxBQUN2RTtBQUNEO1lBQUksUUFBSixBQUFZLFdBQVcsQUFDbkI7dUJBQUEsQUFBVyxLQUFLLGNBQWMsVUFBZCxBQUF3QixLQUF4QyxBQUE2QyxBQUNoRDtBQUVEOztlQUFBLEFBQU8sQUFDVjtBQUVEOztBQUNBO0FBQ0E7YUFBQSxBQUFTLGlCQUFULEFBQTBCLFlBQTFCLEFBQXNDLGFBQWEsQUFDL0M7QUFDQTthQUFLLElBQUksSUFBVCxBQUFhLEdBQUcsSUFBSSxXQUFwQixBQUErQixRQUEvQixBQUF1QyxLQUFLLEFBQ3hDO2dCQUFJLFVBQVUsV0FBZCxBQUFjLEFBQVcsQUFDekI7Z0JBQUksUUFBQSxBQUFRLGNBQVIsQUFBc0IsZUFBZSxRQUFBLEFBQVEsT0FBakQsQUFBd0QsYUFBYSxBQUNqRTtBQUNBO3VCQUFBLEFBQU8sQUFDVjtBQUNKO0FBQ0Q7ZUFBQSxBQUFPLEFBQ1Y7QUFFRDs7QUFDQTthQUFBLEFBQVMsbUJBQVQsQUFBNEIsV0FBNUIsQUFBdUMsVUFBVSxBQUM3QztZQUFJLFVBQUosQUFBYyxBQUNkO1lBQUksTUFBTSxVQUFBLEFBQVUsTUFBcEIsQUFBVSxBQUFnQixBQUMxQjtZQUFBLEFBQUksUUFBUSxVQUFBLEFBQVUsSUFBSSxBQUN0QjtBQUNBO2dCQUFJLFlBQVksaUJBQUEsQUFBaUIsWUFBakMsQUFBZ0IsQUFBNkIsQUFDN0M7Z0JBQUEsQUFBSSxXQUFXLEFBQ1g7QUFDQTtBQUNBO29CQUFJLGdCQUFnQixjQUFjLEtBQUEsQUFBSyxNQUFNLEtBQUEsQUFBSyxVQUE5QixBQUFjLEFBQVcsQUFBZSxhQUE1RCxBQUFvQixBQUFxRCxBQUN6RTswQkFBVSxRQUFBLEFBQVEsT0FBbEIsQUFBVSxBQUFlLEFBQzVCO0FBQ0o7QUFURCxBQVVBO2VBQUEsQUFBTyxBQUNWO0FBRUQ7O0FBQ0E7YUFBQSxBQUFTLG9CQUFvQixBQUN6QjtZQUFJLHdCQUF3QixDQUFBLEFBQUMsSUFESixBQUN6QixBQUE0QixBQUFLLEtBQUssQUFDdEM7WUFBSSxLQUFBLEFBQUssR0FBTCxBQUFRLGVBQVosQUFBSSxBQUF1Qix1QkFBdUIsQUFDOUM7bUJBQU8sS0FBQSxBQUFLLEdBQUwsQUFBUSxzQkFBUixBQUE4QixNQUE5QixBQUFvQyxLQUFwQyxBQUF5QyxJQUFoRCxBQUFPLEFBQTZDLEFBQ3ZEO0FBRkQsZUFFTyxBQUNIO21CQUFBLEFBQU8sQUFDVjtBQUNKO0FBRUQ7O0FBQ0E7YUFBQSxBQUFTLGlCQUFULEFBQTBCLFNBQTFCLEFBQW1DLFVBQVUsQUFDekM7QUFDQTtZQUFJLGtCQUFrQixxQkFBQSxBQUFxQixnQkFBM0MsQUFBc0IsQUFBcUMsQUFDM0Q7WUFBSSxtQkFBbUIscUJBQUEsQUFBcUIsaUJBQTVDLEFBQXVCLEFBQXNDLEFBQzdEO1lBQUksY0FBYyxnQkFBQSxBQUFnQixPQUFPLE1BQUEsQUFBTSxtQkFBL0MsQUFBa0IsQUFBZ0QsQUFFbEU7O0FBQ0E7WUFBSSxvQkFBSixBQUF3QixBQUN4QjtZQUFJLG1CQUFKLEFBQXVCLEFBQ3ZCO1lBQUksZUFBSixBQUFtQixBQUVuQjs7QUFDQTtZQUFJLFdBQVcsTUFBQSxBQUFNLFVBQU4sQUFBZ0IsTUFBaEIsQUFBc0IsS0FBSyxRQUExQyxBQUFlLEFBQW1DLEFBQ2xEO0FBQ0E7WUFBSSxZQUFZLFFBQUEsQUFBUSx1QkFBUixBQUErQixhQUEvQyxBQUFnQixBQUE0QyxBQUM1RDtBQUNBO1lBQUksTUFBTSxTQUFBLEFBQVMsUUFBbkIsQUFBVSxBQUFpQixBQUMzQjtBQUNBO1lBQUksVUFBSixBQUFjLEFBQ2Q7QUFDQTtlQUFPLE9BQU8sQ0FBZCxBQUFlLEdBQUcsQUFDZDtvQkFBQSxBQUFRLEtBQVIsQUFBYSxBQUNiO2tCQUFNLFNBQUEsQUFBUyxRQUFULEFBQWlCLFdBQVcsTUFBbEMsQUFBTSxBQUFrQyxBQUMzQztBQUVEOztBQUNBO1lBQUksZ0JBQUosQUFBb0IsQUFDcEI7WUFBSSxLQUFKLEFBQVMsQUFDVDtZQUFJLHNCQUFzQixVQUFBLEFBQVUsMEJBQXBDLEFBQThELEFBRTlEOztBQUNBO1lBQUksUUFBSixBQUFZLFFBQVEsQUFDaEI7QUFDQTtvQkFBQSxBQUFRLFFBQVEsVUFBQSxBQUFVLEdBQVYsQUFBYSxPQUFPLEFBQ2hDO0FBQ0E7b0JBQUksVUFBSixBQUFjLEdBQUcsQUFDYjt3QkFBSSxjQUFKLEFBQWtCLEFBQ2xCO0FBQ0E7eUJBQUssSUFBSSxJQUFULEFBQWEsR0FBRyxJQUFoQixBQUFvQixHQUFwQixBQUF1QixLQUFLLEFBQ3hCOzZDQUFxQixTQUFBLEFBQVMsR0FBOUIsQUFBaUMsQUFDakM7QUFDQTs0QkFBSSxNQUFKLEFBQVUsR0FBRyxBQUNUOzBDQUFjLFlBQUEsQUFBWSxPQUFPLFNBQUEsQUFBUyxHQUFULEFBQVksTUFBN0MsQUFBYyxBQUFxQyxBQUN0RDtBQUNKO0FBQ0Q7QUFDQTtBQUNBO3dDQUFvQixzQkFBQSxBQUFzQixjQUF0QixBQUFvQyxPQUF4RCxBQUErRCxBQUNsRTtBQUNEO0FBQ0E7b0JBQUksYUFBSixBQUFpQixBQUNqQjtBQUNBO3FCQUFLLElBQUksSUFBSSxJQUFiLEFBQWlCLEdBQUcsSUFBSSxTQUF4QixBQUFpQyxRQUFqQyxBQUF5QyxLQUFLLEFBQzFDO3dDQUFvQixTQUFBLEFBQVMsR0FBN0IsQUFBZ0MsQUFDaEM7QUFDQTt3QkFBSSxNQUFNLFNBQUEsQUFBUyxTQUFuQixBQUE0QixHQUFHLEFBQzNCO3NDQUFjLFlBQUEsQUFBWSxPQUFPLFNBQUEsQUFBUyxHQUFULEFBQVksTUFBN0MsQUFBYyxBQUFxQyxBQUN0RDtBQUNKO0FBRUQ7O0FBQ0E7QUFDQTttQ0FBbUIsc0JBQUEsQUFBc0IsYUFBdEIsQUFBbUMsT0FBdEQsQUFBNkQsQUFFN0Q7O0FBQ0E7QUFDQTtvQkFBSSxxQkFBQSxBQUFxQixvQkFBb0IsVUFBVyxRQUFBLEFBQVEsU0FBaEUsQUFBeUUsR0FBSSxBQUN6RTtvQ0FBZ0Isb0JBQUEsQUFBb0IsZ0JBQXBCLEFBQW9DLEtBQXBDLEFBQXlDLG1CQUF6RCxBQUE0RSxBQUMvRTtBQUZELDJCQUVXLHFCQUFBLEFBQXFCLG9CQUFvQixVQUFXLFFBQUEsQUFBUSxTQUFoRSxBQUF5RSxHQUFJLEFBQ2hGO29DQUFnQixvQkFBQSxBQUFvQixnQkFBcEIsQUFBb0MsS0FBcEMsQUFBeUMsbUJBQXpDLEFBQTRELGdCQUE1RSxBQUE0RixBQUMvRjtBQUZNLGlCQUFBLFVBRUkscUJBQXFCLENBQXpCLEFBQTBCLGtCQUFrQixBQUMvQztvQ0FBZ0Isb0JBQWhCLEFBQW9DLEFBQ3ZDO0FBRk0saUJBQUEsVUFFSSxDQUFBLEFBQUMscUJBQUQsQUFBc0Isb0JBQW9CLFVBQVcsUUFBQSxBQUFRLFNBQWpFLEFBQTBFLEdBQUksQUFDakY7b0NBQWdCLG1CQUFoQixBQUFtQyxBQUN0QztBQUZNLGlCQUFBLE1BRUEsSUFBSSxDQUFBLEFBQUMscUJBQUQsQUFBc0Isb0JBQW9CLFVBQVcsUUFBQSxBQUFRLFNBQWpFLEFBQTBFLEdBQUksQUFDakY7b0NBQWdCLG1CQUFBLEFBQW1CLGdCQUFuQyxBQUFtRCxBQUN0RDtBQUNKO0FBNUNELEFBNkNIO0FBL0NELGVBK0NPLEFBQ0g7QUFDQTtnQkFBSSxRQUFKLEFBQVksQUFDWjtpQkFBSyxJQUFJLElBQVQsQUFBYSxHQUFHLElBQUksU0FBcEIsQUFBNkIsUUFBN0IsQUFBcUMsS0FBSyxBQUN0Qzt5QkFBUyxTQUFBLEFBQVMsR0FBVCxBQUFZLE1BQXJCLEFBQTJCLEFBQzlCO0FBQ0Q7MkJBQWUsc0JBQUEsQUFBc0IsY0FBdEIsQUFBb0MsUUFBcEMsQUFBNEMsT0FBTyxRQUFuRCxBQUEyRCxZQUExRSxBQUFzRixBQUN6RjtBQUNEO2VBQUEsQUFBTyxBQUNWO0FBRUQ7O0FBUUE7Ozs7Ozs7O2FBQUEsQUFBUyxhQUFULEFBQXNCLGFBQXRCLEFBQW1DLFVBQVUsQUFDekM7WUFBSSxNQUFNLFNBQUEsQUFBUyxjQUFuQixBQUFVLEFBQXVCLEFBQ2pDO29CQUFBLEFBQVksUUFBUSxVQUFBLEFBQVUsSUFBSSxBQUM5QjtBQUNBO2dCQUFJLEdBQUEsQUFBRyxlQUFQLEFBQUksQUFBa0IsYUFBYSxBQUMvQjtBQUNIO0FBRUQ7O0FBR0E7OztnQkFBSSxHQUFBLEFBQUcsZUFBUCxBQUFJLEFBQWtCLFNBQVMsQUFFM0I7O0FBQ0E7b0JBQUksZUFBZSxHQUFBLEFBQUcsS0FBdEIsQUFBMkIsQUFFM0I7O0FBQ0E7b0JBQUksa0JBQWtCLFNBQUEsQUFBUyxjQUEvQixBQUFzQixBQUF1QixBQUM3QztBQUNBO29CQUFJLEdBQUEsQUFBRyxLQUFILEFBQVEsZUFBWixBQUFJLEFBQXVCLFVBQVUsQUFDakM7d0JBQUksWUFBWSxrQkFBa0IsR0FBQSxBQUFHLEtBQXJCLEFBQTBCLE9BQTFDLEFBQWdCLEFBQWlDLEFBQ2pEO29DQUFBLEFBQWdCLFlBQVksaUJBQWlCLEdBQUEsQUFBRyxLQUFoRCxBQUFxRCxBQUNyRDtvQ0FBQSxBQUFnQixNQUFoQixBQUFzQixVQUFVLFVBQUEsQUFBVSxLQUExQyxBQUFnQyxBQUFlLEFBQ2xEO0FBR0Q7O0FBQ0E7NkJBQUEsQUFBYSxRQUFRLFVBQUEsQUFBVSxRQUFRLEFBQ25DO0FBQ0E7d0JBQUksYUFBQSxBQUFhLGVBQWpCLEFBQUksQUFBNEIsYUFBYSxBQUN6QztBQUNIO0FBQ0Q7QUFDQTt3QkFBSSxPQUFBLEFBQU8sZUFBWCxBQUFJLEFBQXNCLFVBQVUsQUFDaEM7NEJBQUksV0FBVyxTQUFBLEFBQVMsZUFBZSxPQUF2QyxBQUFlLEFBQXdCLEFBQU8sQUFDOUM7d0NBQUEsQUFBZ0IsWUFBaEIsQUFBNEIsQUFDNUI7QUFDSDtBQUpELDJCQUlPLElBQUksUUFBSixBQUFZLFFBQVEsQUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTs0QkFBSSxnQkFBSixBQUFJLEFBQWdCLGlCQUFpQixBQUNqQztnQ0FBQSxBQUFJLFlBQUosQUFBZ0IsQUFDbkI7QUFFRDs7QUFDQTs0QkFBSSxPQUFPLFNBQUEsQUFBUyxjQUFwQixBQUFXLEFBQXVCLEFBQ2xDOzZCQUFBLEFBQUssWUFBTCxBQUFpQixBQUNqQjs0QkFBQSxBQUFJLFlBQUosQUFBZ0IsQUFFaEI7O0FBQ0E7NEJBQUkscUJBQXFCLFNBQUEsQUFBUyxjQUFsQyxBQUF5QixBQUF1QixBQUNoRDsyQ0FBQSxBQUFtQixZQUFZLGdCQUEvQixBQUErQyxBQUMvQzsyQ0FBQSxBQUFtQixNQUFuQixBQUF5QixVQUFVLGdCQUFBLEFBQWdCLE1BQW5ELEFBQXlELEFBRXpEOztBQUNBOzBDQUFBLEFBQWtCLEFBQ3JCO0FBQ0o7QUFsQ0QsQUFtQ0E7QUFDQTtvQkFBQSxBQUFJLFlBQUosQUFBZ0IsQUFDbkI7QUFFRDs7QUF2REE7OztxQkEwRFMsR0FBQSxBQUFHLGVBQVAsQUFBSSxBQUFrQixPQUFPLEFBQzlCO0FBQ0E7d0JBQUksT0FBTyxTQUFBLEFBQVMsY0FBcEIsQUFBVyxBQUF1QixBQUNsQzt5QkFBQSxBQUFLLFlBQUwsQUFBaUIsQUFDakI7d0JBQUEsQUFBSSxZQUFKLEFBQWdCLEFBQ25CO0FBRUQ7O0FBUEs7OztBQUFBLHFCQVVBLElBQUksR0FBQSxBQUFHLGVBQVAsQUFBSSxBQUFrQixVQUFVLEFBQ2pDO0FBQ0E7NEJBQUksV0FBVyxTQUFBLEFBQVMsY0FBeEIsQUFBZSxBQUF1QixBQUN0QztpQ0FBQSxBQUFTLGNBQWMsR0FBdkIsQUFBdUIsQUFBRyxBQUUxQjs7QUFDQTs0QkFBQSxBQUFJLFlBQUosQUFBZ0IsQUFDbkI7QUFDSjtBQXJGRCxBQXNGQTtlQUFBLEFBQU8sQUFDVjtBQUVEOzthQUFBLEFBQVMsbUJBQVQsQUFBNEIsS0FBNUIsQUFBaUMsS0FBakMsQUFBc0M7WUFDOUIsc0JBRHdDLEFBQzVDLEFBQTBCLEdBRGtCLEFBQzVDLENBQThCLEFBQzlCO0FBQ0E7WUFBSSxZQUFZLElBQWhCLEFBQW9CLEFBQ3BCO0FBQ0E7WUFBSSxjQUFjLElBQWxCLEFBQXNCLEFBRXRCOztZQUFBLEFBQUksQUFDSjtZQUFBLEFBQUksQUFFSjs7QUFDQTtZQUFBLEFBQUksYUFBYSxBQUNiO3dCQUFZLG1CQUFBLEFBQW1CLGFBQS9CLEFBQVksQUFBZ0MsQUFDL0M7QUFDRDtBQUNBO1lBQUEsQUFBSSxXQUFXLEFBQ1g7c0JBQVUsb0JBQUEsQUFBb0IsT0FBTyxtQkFBQSxBQUFtQixXQUF4RCxBQUFVLEFBQTJCLEFBQThCLEFBQ25FO2dCQUFBLEFBQUksV0FBVyxBQUNYO3NDQUFzQixZQUFBLEFBQVksV0FBbEMsQUFBc0IsQUFBdUIsQUFDaEQ7QUFGRCxtQkFFTyxBQUNIO3NDQUFBLEFBQXNCLEFBQ3pCO0FBQ0o7QUFQRCxlQU9PLElBQUEsQUFBSSxXQUFXLEFBQ2xCO2tDQUFBLEFBQXNCLEFBQ3pCO0FBRUQ7O0FBQ0E7K0JBQUEsQUFBdUIscUJBQXZCLEFBQTRDLEFBRTVDOztlQUFBLEFBQU8sQUFDVjtBQUVEOzthQUFBLEFBQVMsa0JBQVQsQUFBMkIsS0FBM0IsQUFBZ0M7WUFDeEIscUJBRGtDLEFBQ3RDLEFBQXlCLEdBRGEsQUFDdEMsQ0FBNkIsQUFDN0I7QUFDQTtZQUFJLFdBQVcsSUFBZixBQUFtQixBQUNuQjtBQUNBO1lBQUksY0FBYyxLQUFBLEFBQUssR0FBTCxBQUFRLEtBQTFCLEFBQStCLEFBQy9CO0FBQ0E7WUFBSSxhQUFhLEtBQUEsQUFBSyxHQUFMLEFBQVEsS0FBUixBQUFhLElBQTlCLEFBQWtDLEFBRWxDOztZQUFBLEFBQUksQUFDSjtZQUFBLEFBQUksQUFDSjtZQUFBLEFBQUksQUFDSjtZQUFJLFdBQUosQUFBZSxBQUVmOztBQUNBO1lBQUEsQUFBSSxhQUFhLEFBQ2I7d0JBQVksa0JBQUEsQUFBa0IsYUFBOUIsQUFBWSxBQUErQixBQUMzQzt1QkFBVyxlQUFYLEFBQTBCLEFBQzdCO0FBRUQ7O0FBQ0E7WUFBQSxBQUFJLFlBQVksQUFDWjt1QkFBVyxrQkFBQSxBQUFrQixZQUE3QixBQUFXLEFBQThCLEFBQ3pDO2dCQUFBLEFBQUksV0FBVyxBQUNYOzJCQUFXLFlBQUEsQUFBWSxXQUF2QixBQUFXLEFBQXVCLEFBQ2xDOzRCQUFZLE1BQVosQUFBa0IsQUFDckI7QUFIRCxtQkFHTyxBQUNIOzJCQUFXLGVBQVgsQUFBMEIsQUFDN0I7QUFDSjtBQUVEOztBQUNBO1lBQUEsQUFBSSxVQUFVLEFBQ1Y7cUJBQVMsa0JBQUEsQUFBa0IsVUFBM0IsQUFBUyxBQUE0QixBQUNyQztnQkFBSSxhQUFKLEFBQWlCLFVBQVUsQUFDdkI7cUNBQXFCLFlBQUEsQUFBWSxVQUFqQyxBQUFxQixBQUFzQixBQUMzQzs0QkFBWSxNQUFaLEFBQWtCLEFBQ3JCO0FBSEQsdUJBR08sQUFBSSxXQUFXLEFBQ2xCO3FDQUFxQixZQUFBLEFBQVksV0FBakMsQUFBcUIsQUFBdUIsQUFDNUM7NEJBQVksTUFBWixBQUFrQixBQUNyQjtBQUhNLGFBQUEsVUFHQSxBQUFJLFVBQVUsQUFDakI7cUNBQXFCLFlBQUEsQUFBWSxVQUFqQyxBQUFxQixBQUFzQixBQUMzQzs0QkFBWSxNQUFaLEFBQWtCLEFBQ3JCO0FBSE0sYUFBQSxNQUdBLEFBQ0g7cUNBQUEsQUFBcUIsQUFDckI7MkJBQVcsZUFBWCxBQUEwQixBQUM3QjtBQUNKO0FBZkQsbUJBZVcsYUFBYSxDQUFqQixBQUFrQixVQUFVLEFBQy9CO2lDQUFBLEFBQXFCLEFBQ3hCO0FBRk0sU0FBQSxNQUVBLElBQUksQ0FBQSxBQUFDLGFBQUwsQUFBa0IsVUFBVSxBQUMvQjtpQ0FBQSxBQUFxQixBQUN4QjtBQUdEOztBQUNBOytCQUFBLEFBQXVCLG9CQUF2QixBQUEyQyxBQUUzQzs7ZUFBTyxDQUFBLEFBQUMsb0JBQVIsQUFBTyxBQUFxQixBQUMvQjtBQUVEOzthQUFBLEFBQVMsdUJBQVQsQUFBZ0MsT0FBaEMsQUFBdUMsbUJBQW1CLEFBQ3REO2FBQUssSUFBTCxBQUFTLE9BQVQsQUFBZ0IsbUJBQW1CLEFBQy9CO2dCQUFJLGtCQUFBLEFBQWtCLGVBQXRCLEFBQUksQUFBaUMsTUFBTSxBQUN2QztvQkFBSSxDQUFDLGNBQUEsQUFBYyxLQUFuQixBQUFLLEFBQW1CLFFBQVEsQUFDNUI7MEJBQUEsQUFBTSxLQUFLLE1BQUEsQUFBTSxNQUFNLGtCQUF2QixBQUF1QixBQUFrQixBQUM1QztBQUNKO0FBQ0o7QUFDSjtBQUVEOzs7ZUFBVyxBQUNBLEFBQ1A7bUJBRkosQUFBVyxBQUVJLEFBR2Y7QUFMVyxBQUNQOztBQUtKO1dBQUEsQUFBTyxBQUNWOztBQUNELFdBQUEsQUFBVywwQkFBWCxBQUFxQztrQkFDdEIsdUJBQUEsQUFBYSxvQixBQUFiLEFBQWlDOzs7Ozs7Ozs7QUN2MUNoRDs7Ozs7Ozs7QUFDQTs7QUFFQSxTQUFBLEFBQVMsWUFBWSxBQUNqQjtRQUFJLFVBQVUsS0FBZCxBQUFtQixBQUNuQjtRQUFJLE1BQU0sUUFGTyxBQUVqQixBQUFrQixLQUFJLEFBRXRCOztRQUFJLGdCQUFKO1FBQ0ksb0JBREo7UUFFSSxrQkFGSjtRQUdJLHVCQUhKO1FBSUksbUNBSkosQUFNQTs7YUFBQSxBQUFTLFFBQVEsQUFDYjt1QkFBQSxBQUFlLEFBQ2Y7cUJBQUEsQUFBYSxBQUNiOzBCQUFBLEFBQWtCLEFBQ2xCO3NDQUFBLEFBQThCLEFBQ2pDO0FBRUQ7O2FBQUEsQUFBUyxNQUFULEFBQWUsTUFBTSxBQUNqQjtZQUFJLGVBQUosQUFBbUIsQUFDbkI7WUFBQSxBQUFJLEtBQUosQUFDSSxBQUVKOztlQUFPLEtBQUEsQUFBSyxNQUFaLEFBQU8sQUFBWSxBQUNuQjtjQUFNLEtBQU4sQUFBVyxBQUNYO3dCQUFnQixDQUFoQixBQUFpQixBQUVqQjs7YUFBSyxJQUFJLElBQVQsQUFBYSxHQUFJLElBQWpCLEFBQXFCLEtBQXJCLEFBQTBCLEtBQzFCLEFBQ0k7Z0JBQUksT0FBTyxLQUFYLEFBQVcsQUFBSyxBQUVoQjs7Z0JBQUksS0FBQSxBQUFLLFNBQUwsQUFBYyxLQUFLLFNBQXZCLEFBQWdDLFVBQ2hDLEFBQ0k7b0JBQUksS0FBQSxBQUFLLE1BQVQsQUFBSSxBQUFXLGFBQ2YsQUFDSTt3QkFBSSxhQUFhLG9CQUFqQixBQUFpQixBQUFvQixBQUNyQzt3QkFBSSxZQUFZLFdBQWhCLEFBQTJCLEFBQzNCO3dCQUFJLFNBQVMsV0FBYixBQUF3QixBQUN4Qjt3QkFBSSxPQUFPLFlBQUEsQUFBWSxNQUFNLElBQTdCLEFBQVcsQUFBc0IsQUFDakM7d0JBQUksWUFBWSxxQkFBcUIsVUFBQSxBQUFVLEdBQVYsQUFBYSxRQUFiLEFBQXFCLGlCQUExRCxBQUFnQixBQUFxQixBQUFzQyxBQUMzRTt3QkFBSSxVQUFVLHFCQUFxQixVQUFBLEFBQVUsR0FBVixBQUFhLFFBQWIsQUFBcUIsaUJBQXhELEFBQWMsQUFBcUIsQUFBc0MsQUFFekU7O3dCQUFLLENBQUMsTUFBRCxBQUFDLEFBQU0sY0FBYyxDQUFDLE1BQXZCLEFBQXVCLEFBQU0sWUFBYSxhQUExQyxBQUF1RCxpQkFBaUIsVUFBNUUsQUFBc0YsV0FBVyxBQUM3Rjs0QkFBSSxTQUFKLEFBQWEsSUFBSSxBQUNiOzRDQUFBLEFBQWdCLEFBQ2hCO0FBQ0E7eUNBQUEsQUFBYTt1Q0FBSyxBQUNQLEFBQ1A7cUNBRmMsQUFFVCxBQUNMO3NDQUhjLEFBR1IsQUFDTjt3Q0FKSixBQUFrQixBQUlOLEFBRWY7QUFOcUIsQUFDZDtBQUpSLCtCQVVLLEFBQ0Q7Z0NBQUEsQUFBSSxBQUNQO0FBQ0o7QUFkRCwyQkFlSyxBQUNEOzRCQUFBLEFBQUksQUFDUDtBQUNKO0FBQ0o7QUFDSjtBQUVEOztlQUFBLEFBQU8sQUFDVjtBQUVEOzthQUFBLEFBQVMscUJBQVQsQUFBOEIsTUFBTSxBQUNoQztZQUFJLFlBQVksS0FBQSxBQUFLLE1BQXJCLEFBQWdCLEFBQVcsQUFDM0I7WUFBSSxNQUFNLFVBQUEsQUFBVSxTQUFwQixBQUE2QixBQUU3Qjs7ZUFBTyxTQUFVLFVBQVUsTUFBcEIsQUFBVSxBQUFnQixJQUExQixBQUE4QixNQUE5QixBQUFxQyxLQUFLLFdBQVksVUFBN0QsQUFBaUQsQUFBWSxBQUFVLEFBRXZFOztZQUFLLFFBQUwsQUFBYSxHQUFJLEFBQ2I7b0JBQVEsU0FBVSxVQUFWLEFBQVUsQUFBVSxJQUFwQixBQUF3QixNQUFoQyxBQUF1QyxBQUMxQztBQUVEOztlQUFBLEFBQU8sQUFDVjtBQUVEOzthQUFBLEFBQVMsb0JBQVQsQUFBNkI7WUFDckIsZUFBZSxLQUFBLEFBQUssTUFBeEIsQUFBbUIsQUFBVyxBQUM5QjtZQUFJLE1BQU0sYUFBQSxBQUFhLEdBQWIsQUFBZ0IsTUFBMUIsQUFBVSxBQUFzQixBQUNoQztZQUgrQixBQUcvQixBQUFJLFFBSDJCLEFBQy9CLENBRWEsQUFDYjtxQkFBQSxBQUFhLEtBQUssSUFBbEIsQUFBa0IsQUFBSSxBQUN0QjtZQUFBLEFBQUksQUFDSjtlQUFPLEVBQUMsV0FBRCxBQUFZLGNBQWMsUUFBUSxpQkFBekMsQUFBTyxBQUFrQyxBQUFpQixBQUM3RDtBQUVEOzthQUFBLEFBQVMsaUJBQVQsQUFBMEIsS0FBSyxBQUMzQjtZQUFJLGNBQUosQUFBa0IsQUFDbEI7WUFBQSxBQUFJLFFBQVEsVUFBQSxBQUFVLFNBQVMsQUFDM0I7Z0JBQUksUUFBQSxBQUFRLE1BQVIsQUFBYyxLQUFkLEFBQW1CLFNBQXZCLEFBQWdDLEdBQUcsQUFDL0I7b0JBQUksTUFBTSxRQUFBLEFBQVEsTUFBUixBQUFjLEtBQXhCLEFBQVUsQUFBbUIsQUFDN0I7b0JBQUksT0FBTyxJQUFBLEFBQUksT0FBSixBQUFXLFFBQVEsQ0FBOUIsQUFBK0IsR0FBRyxBQUM5QjswQkFBTSxTQUFTLElBQUEsQUFBSSxRQUFKLEFBQVksS0FBckIsQUFBUyxBQUFpQixLQUFoQyxBQUFNLEFBQStCLEFBQ3hDO0FBQ0Q7b0JBQUksUUFBQSxBQUFRLE1BQVIsQUFBYyxZQUFZLFFBQUEsQUFBUSxNQUF0QyxBQUE4QixBQUFjLE1BQU0sQUFDOUM7Z0NBQUEsQUFBWSxRQUFaLEFBQW9CLEFBQ3ZCO0FBQ0Q7b0JBQUksUUFBQSxBQUFRLE1BQVIsQUFBYyxXQUFXLFFBQUEsQUFBUSxNQUFyQyxBQUE2QixBQUFjLE1BQU8sQUFDOUM7Z0NBQUEsQUFBWSxPQUFaLEFBQW1CLEFBQ3RCO0FBQ0Q7b0JBQUksUUFBQSxBQUFRLE1BQVIsQUFBYyxlQUFlLFFBQUEsQUFBUSxNQUF6QyxBQUFpQyxBQUFjLE1BQU8sQUFDbEQ7Z0NBQUEsQUFBWSxXQUFaLEFBQXVCLEFBQzFCO0FBQ0Q7b0JBQUksUUFBQSxBQUFRLE1BQVIsQUFBYyxXQUFXLFFBQUEsQUFBUSxNQUFyQyxBQUE2QixBQUFjLE1BQU0sQUFDN0M7Z0NBQUEsQUFBWSxPQUFaLEFBQW1CLEFBQ3RCO0FBQ0o7QUFDSjtBQW5CRCxBQXFCQTs7ZUFBQSxBQUFPLEFBQ1Y7QUFFRDs7QUFHQTs7O2FBQUEsQUFBUyxZQUFULEFBQXFCLE1BQXJCLEFBQTJCLEtBQUssQUFDNUI7WUFBSSxJQUFKLEFBQVEsQUFFUjs7WUFBSSxVQUFKLEFBQWMsQUFDZDtZQUFJLFdBQUosQUFBZSxBQUNmO1lBQUEsQUFBSSxBQUVKOztlQUFPLEtBQUEsQUFBSyxPQUFMLEFBQVksTUFBTSxJQUFJLEtBQTdCLEFBQWtDLFFBQVEsQUFDdEM7QUFDSDtBQUVEOztvQkFBWSxJQUFaLEFBQWdCLEFBQ2hCO1lBQUksWUFBSixBQUFnQixHQUFHLEFBQ2Y7aUJBQUssSUFBSSxJQUFULEFBQWEsR0FBRyxJQUFoQixBQUFvQixXQUFwQixBQUErQixLQUFLLEFBQ2hDOzJCQUFXLEtBQU0sTUFBakIsQUFBVyxBQUFZLEFBQ3ZCO29CQUFJLENBQUMsU0FBQSxBQUFTLE1BQWQsQUFBSyxBQUFlLGFBQWEsQUFDN0I7K0JBQUEsQUFBVyxBQUNYO3dCQUFJLE1BQU0sWUFBVixBQUFzQixHQUFHLEFBQ3JCO21DQUFBLEFBQVcsQUFDZDtBQUNKO0FBTEQsdUJBTUssQUFDRDtBQUNBOzhCQUFBLEFBQVUsQUFDVjtBQUNIO0FBQ0o7QUFDSjtBQWZELGVBZU8sQUFDSDt1QkFBVyxLQUFYLEFBQVcsQUFBSyxBQUNoQjtnQkFBSSxDQUFDLFNBQUEsQUFBUyxNQUFkLEFBQUssQUFBZSxhQUNoQixVQUFBLEFBQVUsQUFDakI7QUFDRDtlQUFPLFVBQVAsQUFBTyxBQUFVLEFBQ3BCO0FBRUQ7OztlQUFBLEFBQVcsQUFDQSxBQUdYO0FBSlcsQUFDUDs7QUFJSjtXQUFBLEFBQU8sQUFDVjtBLEVBL0xEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBZ01BLFVBQUEsQUFBVSwwQkFBVixBQUFvQztrQkFDckIsdUJBQUEsQUFBYSxvQixBQUFiLEFBQWlDOzs7OztBQ2pNaEQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUE4QkMsV0FBQSxBQUFTLFNBQVMsQUFFZjs7QUFFQTs7QUFJQTs7OztRQUFJO2NBQTBCLEFBQ25CLE1BQU0sQUFDYjtjQUYwQixBQUVuQixNQUFNLEFBQ2I7Y0FIMEIsQUFHbkIsTUFBTSxBQUNiO2NBSjBCLEFBSW5CLE1BQU0sQUFDYjtjQUwwQixBQUtuQixNQUFNLEFBQ2I7Y0FOMEIsQUFNbkIsTUFBTSxBQUNiO2NBUDBCLEFBT25CLE1BQU0sQUFDYjtjQVIwQixBQVFuQixNQUFNLEFBQ2I7Y0FUMEIsQUFTbkIsTUFBTSxBQUNiO2NBVjBCLEFBVW5CLFFBQVEsQUFDZjtBQUNBO0FBQ0E7QUFDQTtjQWQwQixBQWNuQixNQUFNLEFBQ2I7Y0FmMEIsQUFlbkIsTUFBTSxBQUNiO2NBaEIwQixBQWdCbkIsTUFBTSxBQUNiO2NBakIwQixBQWlCbkIsTUFBTSxBQUNiO2NBbEIwQixBQWtCbkIsUUFBUSxBQUNmO2NBbkIwQixBQW1CbkIsTUFBTSxBQUNiO2NBcEIwQixBQW9CbkIsTUFBTSxBQUNiO2NBckIwQixBQXFCbkIsUUFBUSxBQUNmO2NBdEIwQixBQXNCbkIsTUFBTSxBQUNiO2NBdkIwQixBQXVCbkIsTUFBTSxBQUNiO2NBeEIwQixBQXdCbkIsTUFBTSxBQUNiO2NBekIwQixBQXlCbkIsTUFBTSxBQUNiO2NBMUIwQixBQTBCbkIsTUFBTSxBQUNiO2NBM0IwQixBQTJCbkIsTUFBTSxBQUNiO2NBNUIwQixBQTRCbkIsTUFBTSxBQUNiO2NBN0IwQixBQTZCbkIsTUFBTSxBQUNiO0FBQ0E7QUFDQTtjQWhDMEIsQUFnQ25CLE1BQU0sQUFDYjtjQWpDMEIsQUFpQ25CLE1BQU0sQUFDYjtjQWxDMEIsQUFrQ25CLE1BQU0sQUFDYjtjQW5DMEIsQUFtQ25CLE1BQU0sQUFDYjtjQXBDMEIsQUFvQ25CLE1BQU0sQUFDYjtjQXJDMEIsQUFxQ25CLE1BQU0sQUFDYjtjQXRDMEIsQUFzQ25CLFFBQVEsQUFDZjtjQXZDMEIsQUF1Q25CLE1BQU0sQUFDYjtjQXhDMEIsQUF3Q25CLE1BQU0sQUFDYjtjQXpDMEIsQUF5Q25CLFFBQVEsQUFDZjtjQTFDMEIsQUEwQ25CLFFBQVEsQUFDZjtjQTNDMEIsQUEyQ25CLE1BQU0sQUFDYjtjQTVDMEIsQUE0Q25CLFFBQVEsQUFDZjtjQTdDMEIsQUE2Q25CLFFBQVEsQUFDZjtjQTlDMEIsQUE4Q25CLFFBQVEsQUFDZjtjQS9DMEIsQUErQ25CLFFBQVEsQUFDZjtjQWhEMEIsQUFnRG5CLE1BQU0sQUFDYjtjQWpEMEIsQUFpRG5CLE1BQU0sQUFDYjtjQWxEMEIsQUFrRG5CLE1BQU0sQUFDYjtjQW5EMEIsQUFtRG5CLE1BQU0sQUFDYjtjQXBEMEIsQUFvRG5CLE1BQU0sQUFDYjtjQXJEMEIsQUFxRG5CLE1BQU0sQUFDYjtjQXREMEIsQUFzRG5CLE1BQU0sQUFDYjtjQXZEMEIsQUF1RG5CLE1BQU0sQUFDYjtjQXhEMEIsQUF3RG5CLE1BQU0sQUFDYjtjQXpEMEIsQUF5RG5CLE1BQU0sQUFDYjtjQTFEMEIsQUEwRG5CLE1BQU0sQUFDYjtjQTNEMEIsQUEyRG5CLE1BQU0sQUFDYjtjQTVEMEIsQUE0RG5CLE1BQU0sQUFDYjtjQTdEMEIsQUE2RG5CLE1BQU0sQUFDYjtjQTlEMEIsQUE4RG5CLE1BQU0sQUFDYjtjQS9EMEIsQUErRG5CLE1BQU0sQUFDYjtBQUNBO0FBQ0E7Y0FsRTBCLEFBa0VuQixNQUFNLEFBQ2I7Y0FuRTBCLEFBbUVuQixNQUFNLEFBQ2I7Y0FwRTBCLEFBb0VuQixNQUFNLEFBQ2I7Y0FyRTBCLEFBcUVuQixNQUFNLEFBQ2I7Y0F0RTBCLEFBc0VuQixNQUFNLEFBQ2I7Y0F2RTBCLEFBdUVuQixNQUFNLEFBQ2I7Y0F4RTBCLEFBd0VuQixNQUFNLEFBQ2I7Y0F6RTBCLEFBeUVuQixNQUFNLEFBQ2I7Y0ExRTBCLEFBMEVuQixNQUFNLEFBQ2I7Y0EzRTBCLEFBMkVuQixNQUFNLEFBQ2I7Y0E1RTBCLEFBNEVuQixNQUFNLEFBQ2I7Y0E3RTBCLEFBNkVuQixNQUFNLEFBQ2I7Y0E5RTBCLEFBOEVuQixNQUFNLEFBQ2I7Y0EvRTBCLEFBK0VuQixNQUFNLEFBQ2I7Y0FoRjBCLEFBZ0ZuQixNQUFNLEFBQ2I7Y0FqRjBCLEFBaUZuQixRQUFRLEFBQ2Y7Y0FsRjBCLEFBa0ZuQixNQUFNLEFBQ2I7Y0FuRjBCLEFBbUZuQixNQUFNLEFBQ2I7Y0FwRjBCLEFBb0ZuQixNQUFNLEFBQ2I7Y0FyRjBCLEFBcUZuQixNQUFNLEFBQ2I7Y0F0RjBCLEFBc0ZuQixNQUFNLEFBQ2I7Y0F2RjBCLEFBdUZuQixNQUFNLEFBQ2I7Y0F4RjBCLEFBd0ZuQixNQUFNLEFBQ2I7Y0F6RjBCLEFBeUZuQixRQUFRLEFBQ2Y7Y0ExRjBCLEFBMEZuQixNQUFNLEFBQ2I7Y0EzRjBCLEFBMkZuQixNQUFNLEFBQ2I7Y0E1RjBCLEFBNEZuQixNQUFNLEFBQ2I7Y0E3RjBCLEFBNkZuQixNQUFNLEFBQ2I7Y0E5RjBCLEFBOEZuQixRQUFRLEFBQ2Y7Y0EvRjBCLEFBK0ZuQixRQUFRLEFBQ2Y7Y0FoRzBCLEFBZ0duQixRQUFRLEFBQ2Y7Y0FqRzBCLEFBaUduQixPQWpHWCxBQUE4QixBQWlHWixBQUdsQjtBQXBHOEIsQUFDMUI7O0FBc0dKOzs7UUFBSSxpQkFBaUIsU0FBakIsQUFBaUIsZUFBQSxBQUFTLE1BQU0sQUFDaEM7WUFBSSxXQUFKLEFBQWUsQUFDZjtZQUFJLHdCQUFBLEFBQXdCLGVBQTVCLEFBQUksQUFBdUMsT0FBTyxBQUM5Qzt1QkFBVyx3QkFBWCxBQUFXLEFBQXdCLEFBQ3RDO0FBQ0Q7ZUFBTyxPQUFBLEFBQU8sYUFBZCxBQUFPLEFBQW9CLEFBQzlCO0FBTkQsQUFRQTs7UUFBSSxVQUFKLEFBQWM7UUFDVixVQURKLEFBQ2MsQUFDZDtBQUNBO1FBQUksYUFBYSxFQUFDLE1BQUQsQUFBUSxHQUFHLE1BQVgsQUFBa0IsR0FBRyxNQUFyQixBQUE0QixHQUFHLE1BQS9CLEFBQXNDLEdBQUcsTUFBekMsQUFBZ0QsR0FBRyxNQUFuRCxBQUEwRCxJQUFJLE1BQTlELEFBQXFFLElBQUksTUFBMUYsQUFBaUIsQUFBZ0YsQUFDakc7UUFBSSxjQUFjLEVBQUMsTUFBRCxBQUFRLEdBQUcsTUFBWCxBQUFrQixHQUFHLE1BQXJCLEFBQTRCLEdBQUcsTUFBL0IsQUFBc0MsR0FBRyxNQUF6QyxBQUFnRCxJQUFJLE1BQXBELEFBQTJELElBQUksTUFBakYsQUFBa0IsQUFBc0UsQUFDeEY7UUFBSSxhQUFhLEVBQUMsTUFBRCxBQUFRLEdBQUcsTUFBWCxBQUFrQixHQUFHLE1BQXJCLEFBQTRCLEdBQUcsTUFBL0IsQUFBc0MsR0FBRyxNQUF6QyxBQUFnRCxHQUFHLE1BQW5ELEFBQTBELElBQUksTUFBOUQsQUFBcUUsSUFBSSxNQUExRixBQUFpQixBQUFnRixBQUNqRztRQUFJLGNBQWMsRUFBQyxNQUFELEFBQVEsR0FBRyxNQUFYLEFBQWtCLEdBQUcsTUFBckIsQUFBNEIsR0FBRyxNQUEvQixBQUFzQyxHQUFHLE1BQXpDLEFBQWdELElBQUksTUFBcEQsQUFBMkQsSUFBSSxNQUFqRixBQUFrQixBQUFzRSxBQUV4Rjs7UUFBSSxtQkFBbUIsQ0FBQSxBQUFDLFNBQUQsQUFBVSxTQUFWLEFBQW1CLFFBQW5CLEFBQTJCLFFBQTNCLEFBQW1DLE9BQW5DLEFBQTBDLFVBQTFDLEFBQW9ELFdBQXBELEFBQStELFNBQXRGLEFBQXVCLEFBQXdFLEFBRS9GOztBQUdBOzs7UUFBSTtBQUVBO3VCQUFnQixFQUFDLFFBQUQsQUFBVSxHQUFHLFNBQWIsQUFBdUIsR0FBRyxRQUExQixBQUFtQyxHQUFHLFdBQXRDLEFBQWtELEdBQUcsUUFBckQsQUFBOEQsR0FBRyxTQUZ4RSxBQUVPLEFBQTJFLEFBQzNGO2NBSFMsQUFHRixBQUNQO3NCQUpTLEFBSU0sR0FBRyxBQUNsQjtpQkFBVSxpQkFBQSxBQUFTLFNBQVMsQUFDeEI7aUJBQUEsQUFBSyxPQUFMLEFBQVksQUFDZjtBQVBRLEFBUVQ7YUFBTSxhQUFBLEFBQVMsVUFBVCxBQUFtQixLQUFLLEFBQzFCO2dCQUFJLFdBQVcsS0FBQSxBQUFLLGNBQXBCLEFBQWUsQUFBbUIsQUFDbEM7Z0JBQUksS0FBQSxBQUFLLGdCQUFULEFBQXlCLFVBQVUsQUFDL0I7d0JBQUEsQUFBUSxJQUFJLEtBQUEsQUFBSyxPQUFMLEFBQVksT0FBWixBQUFtQixXQUFuQixBQUE4QixPQUExQyxBQUFpRCxBQUNwRDtBQUNKO0FBYlEsQUFlVDs7cUJBQWEscUJBQUEsQUFBVSxPQUFPLEFBQzFCO2lCQUFBLEFBQUssZUFBTCxBQUFvQixBQUN2QjtBQWpCTCxBQUFhLEFBb0JiO0FBcEJhLEFBQ1Q7O1FBbUJBLHFCQUFxQixTQUFyQixBQUFxQixtQkFBQSxBQUFTLFVBQVUsQUFDeEM7WUFBSSxXQUFKLEFBQWUsQUFDZjthQUFLLElBQUksSUFBVCxBQUFhLEdBQUcsSUFBSSxTQUFwQixBQUE2QixRQUE3QixBQUFxQyxLQUFLLEFBQ3RDO3FCQUFBLEFBQVMsS0FBSyxTQUFBLEFBQVMsR0FBVCxBQUFZLFNBQTFCLEFBQWMsQUFBcUIsQUFDdEM7QUFDRDtlQUFBLEFBQU8sQUFDVjtBQU5ELEFBUUE7O0FBSUE7Ozs7UUFBSSxXQUFXLFNBQVgsQUFBVyxTQUFBLEFBQVMsWUFBVCxBQUFxQixXQUFyQixBQUFnQyxTQUFoQyxBQUF5QyxZQUF6QyxBQUFxRCxPQUFPLEFBQ3ZFO2FBQUEsQUFBSyxhQUFhLGNBQWxCLEFBQWdDLEFBQ2hDO2FBQUEsQUFBSyxZQUFZLGFBQWpCLEFBQThCLEFBQzlCO2FBQUEsQUFBSyxVQUFVLFdBQWYsQUFBMEIsQUFDMUI7YUFBQSxBQUFLLGFBQWEsY0FBbEIsQUFBZ0MsQUFDaEM7YUFBQSxBQUFLLFFBQVEsU0FBYixBQUFzQixBQUN6QjtBQU5ELEFBUUE7O2FBQUEsQUFBUzs7ZUFFRyxpQkFBVyxBQUNmO2lCQUFBLEFBQUssYUFBTCxBQUFrQixBQUNsQjtpQkFBQSxBQUFLLFlBQUwsQUFBaUIsQUFDakI7aUJBQUEsQUFBSyxVQUFMLEFBQWUsQUFDZjtpQkFBQSxBQUFLLGFBQUwsQUFBa0IsQUFDbEI7aUJBQUEsQUFBSyxRQUFMLEFBQWEsQUFDaEI7QUFSZ0IsQUFVakI7O21CQUFZLG1CQUFBLEFBQVMsUUFBUSxBQUN6QjtnQkFBSSxVQUFVLENBQUEsQUFBQyxjQUFELEFBQWUsYUFBZixBQUE0QixXQUE1QixBQUF1QyxjQUFyRCxBQUFjLEFBQXFELEFBQ25FO2lCQUFLLElBQUksSUFBVCxBQUFhLEdBQUksSUFBSSxRQUFyQixBQUE2QixRQUE3QixBQUFxQyxLQUFLLEFBQ3RDO29CQUFJLFFBQVEsUUFBWixBQUFZLEFBQVEsQUFDcEI7b0JBQUksT0FBQSxBQUFPLGVBQVgsQUFBSSxBQUFzQixRQUFRLEFBQzlCO3lCQUFBLEFBQUssU0FBUyxPQUFkLEFBQWMsQUFBTyxBQUN4QjtBQUNKO0FBQ0o7QUFsQmdCLEFBb0JqQjs7bUJBQVkscUJBQVcsQUFDbkI7bUJBQVEsS0FBQSxBQUFLLGVBQUwsQUFBb0IsV0FBVyxDQUFDLEtBQWhDLEFBQXFDLGFBQWEsQ0FBQyxLQUFuRCxBQUF3RCxXQUN4RCxLQUFBLEFBQUssZUFETCxBQUNvQixXQUFXLENBQUMsS0FEeEMsQUFDNkMsQUFDaEQ7QUF2QmdCLEFBeUJqQjs7Z0JBQVMsZ0JBQUEsQUFBUyxPQUFPLEFBQ3JCO21CQUFVLEtBQUEsQUFBSyxlQUFlLE1BQXJCLEFBQTJCLGNBQzFCLEtBQUEsQUFBSyxjQUFjLE1BRHBCLEFBQzBCLGFBQ3pCLEtBQUEsQUFBSyxZQUFZLE1BRmxCLEFBRXdCLFdBQ3ZCLEtBQUEsQUFBSyxlQUFlLE1BSHJCLEFBRzJCLGNBQzFCLEtBQUEsQUFBSyxVQUFVLE1BSnpCLEFBSStCLEFBQ2xDO0FBL0JnQixBQWlDakI7O2NBQU8sY0FBQSxBQUFTLGFBQWEsQUFDekI7aUJBQUEsQUFBSyxhQUFhLFlBQWxCLEFBQThCLEFBQzlCO2lCQUFBLEFBQUssWUFBWSxZQUFqQixBQUE2QixBQUM3QjtpQkFBQSxBQUFLLFVBQVUsWUFBZixBQUEyQixBQUMzQjtpQkFBQSxBQUFLLGFBQWEsWUFBbEIsQUFBOEIsQUFDOUI7aUJBQUEsQUFBSyxRQUFRLFlBQWIsQUFBeUIsQUFDNUI7QUF2Q2dCLEFBeUNqQjs7a0JBQVUsb0JBQVcsQUFDakI7bUJBQVEsV0FBVyxLQUFYLEFBQWdCLGFBQWhCLEFBQTZCLGlCQUFpQixLQUE5QyxBQUFtRCxZQUFuRCxBQUErRCxlQUFlLEtBQTlFLEFBQW1GLFVBQW5GLEFBQ0osa0JBQWtCLEtBRGQsQUFDbUIsYUFEbkIsQUFDZ0MsYUFBYSxLQURyRCxBQUMwRCxBQUM3RDtBQTVDTCxBQUFxQixBQStDckI7QUEvQ3FCLEFBRWpCOztBQWlESjs7OztRQUFJLG9CQUFvQixTQUFwQixBQUFvQixrQkFBQSxBQUFTLE9BQVQsQUFBZ0IsWUFBaEIsQUFBNEIsV0FBNUIsQUFBdUMsU0FBdkMsQUFBZ0QsWUFBaEQsQUFBNEQ7YUFDaEYsQUFBSyxRQUFRLFNBRDBFLEFBQ3ZGLEFBQXNCLElBRGlFLEFBQ3ZGLENBQTJCLEFBQzNCO2FBQUEsQUFBSyxXQUFXLElBQUEsQUFBSSxTQUFKLEFBQWEsWUFBYixBQUF5QixXQUF6QixBQUFtQyxTQUFuQyxBQUE0QyxZQUE1RCxBQUFnQixBQUF3RCxBQUMzRTtBQUhELEFBS0E7O3NCQUFBLEFBQWtCOztlQUVQLGlCQUFXLEFBQ2Q7aUJBQUEsQUFBSyxRQUFMLEFBQWEsQUFDYjtpQkFBQSxBQUFLLFNBQUwsQUFBYyxBQUNqQjtBQUx5QixBQU8xQjs7aUJBQVMsaUJBQUEsQUFBUyxPQUFULEFBQWdCLGFBQWEsQUFDbEM7aUJBQUEsQUFBSyxRQUFMLEFBQWEsQUFDYjtpQkFBQSxBQUFLLFNBQUwsQUFBYyxLQUFkLEFBQW1CLEFBQ3RCO0FBVnlCLEFBWTFCOztxQkFBYSxxQkFBQSxBQUFTLGFBQWEsQUFDL0I7aUJBQUEsQUFBSyxTQUFMLEFBQWMsS0FBZCxBQUFtQixBQUN0QjtBQWR5QixBQWdCMUI7O2dCQUFRLGdCQUFBLEFBQVMsT0FBTyxBQUNwQjttQkFBTyxLQUFBLEFBQUssVUFBVSxNQUFmLEFBQXFCLFNBQVMsS0FBQSxBQUFLLFNBQUwsQUFBYyxPQUFPLE1BQTFELEFBQXFDLEFBQTJCLEFBQ25FO0FBbEJ5QixBQW9CMUI7O2NBQU0sY0FBQSxBQUFTLFNBQVMsQUFDcEI7aUJBQUEsQUFBSyxRQUFRLFFBQWIsQUFBcUIsQUFDckI7aUJBQUEsQUFBSyxTQUFMLEFBQWMsS0FBSyxRQUFuQixBQUEyQixBQUM5QjtBQXZCeUIsQUF5QjFCOztpQkFBVSxtQkFBVyxBQUNqQjttQkFBTyxLQUFBLEFBQUssVUFBTCxBQUFlLE9BQU8sS0FBQSxBQUFLLFNBQWxDLEFBQTZCLEFBQWMsQUFDOUM7QUEzQkwsQUFBOEIsQUE4QjlCO0FBOUI4QixBQUUxQjs7QUFnQ0o7Ozs7UUFBSSxNQUFNLFNBQU4sQUFBTSxNQUFXLEFBQ2pCO2FBQUEsQUFBSyxRQUFMLEFBQWEsQUFDYjthQUFLLElBQUksSUFBVCxBQUFhLEdBQUksSUFBakIsQUFBcUIsU0FBckIsQUFBK0IsS0FBSyxBQUNoQztpQkFBQSxBQUFLLE1BQUwsQUFBVyxLQUFLLElBQWhCLEFBQWdCLEFBQUksQUFDdkI7QUFDRDthQUFBLEFBQUssTUFBTCxBQUFXLEFBQ1g7YUFBQSxBQUFLLGVBQWUsSUFBcEIsQUFBb0IsQUFBSSxBQUMzQjtBQVBELEFBU0E7O1FBQUEsQUFBSTs7Z0JBRVEsZ0JBQUEsQUFBUyxPQUFPLEFBQ3BCO2dCQUFJLFFBQUosQUFBWSxBQUNaO2lCQUFLLElBQUksSUFBVCxBQUFhLEdBQUksSUFBakIsQUFBcUIsU0FBckIsQUFBOEIsS0FBTSxBQUNoQztvQkFBSSxDQUFDLEtBQUEsQUFBSyxNQUFMLEFBQVcsR0FBWCxBQUFjLE9BQU8sTUFBQSxBQUFNLE1BQWhDLEFBQUssQUFBcUIsQUFBWSxLQUFLLEFBQ3ZDOzRCQUFBLEFBQVEsQUFDUjtBQUNIO0FBQ0o7QUFDRDttQkFBQSxBQUFPLEFBQ1Y7QUFYVyxBQWFaOztjQUFNLGNBQUEsQUFBUyxPQUFPLEFBQ2xCO2lCQUFLLElBQUksSUFBVCxBQUFhLEdBQUksSUFBakIsQUFBcUIsU0FBckIsQUFBOEIsS0FBTSxBQUNoQztxQkFBQSxBQUFLLE1BQUwsQUFBVyxHQUFYLEFBQWMsS0FBSyxNQUFBLEFBQU0sTUFBekIsQUFBbUIsQUFBWSxBQUNsQztBQUNKO0FBakJXLEFBbUJaOztpQkFBVSxtQkFBVyxBQUNqQjtnQkFBSSxRQUFKLEFBQVksQUFDWjtpQkFBSyxJQUFJLElBQVQsQUFBYSxHQUFJLElBQWpCLEFBQXFCLFNBQXJCLEFBQThCLEtBQU0sQUFDaEM7b0JBQUksQ0FBQyxLQUFBLEFBQUssTUFBTCxBQUFXLEdBQWhCLEFBQUssQUFBYyxXQUFXLEFBQzFCOzRCQUFBLEFBQVEsQUFDUjtBQUNIO0FBQ0o7QUFDRDttQkFBQSxBQUFPLEFBQ1Y7QUE1QlcsQUE4Qlo7O0FBR0E7OzttQkFBWSxtQkFBQSxBQUFTLFFBQVEsQUFDekI7Z0JBQUksS0FBQSxBQUFLLFFBQVQsQUFBaUIsUUFBUSxBQUNyQjtxQkFBQSxBQUFLLE1BQUwsQUFBVyxBQUNkO0FBQ0Q7Z0JBQUksS0FBQSxBQUFLLE1BQVQsQUFBZSxHQUFHLEFBQ2Q7dUJBQUEsQUFBTyxJQUFQLEFBQVcsU0FBUyw4QkFBOEIsS0FBbEQsQUFBdUQsQUFDdkQ7cUJBQUEsQUFBSyxNQUFMLEFBQVcsQUFDZDtBQUhELG1CQUdPLElBQUksS0FBQSxBQUFLLE1BQVQsQUFBZSxTQUFTLEFBQzNCO3VCQUFBLEFBQU8sSUFBUCxBQUFXLFNBQVMsK0JBQStCLEtBQW5ELEFBQXdELEFBQ3hEO3FCQUFBLEFBQUssTUFBTCxBQUFXLEFBQ2Q7QUFDSjtBQTVDVyxBQThDWjs7QUFHQTs7O29CQUFhLG9CQUFBLEFBQVMsUUFBUSxBQUMxQjtnQkFBSSxTQUFTLEtBQUEsQUFBSyxNQUFsQixBQUF3QixBQUN4QjtnQkFBSSxTQUFKLEFBQWEsR0FBRyxBQUNaO3FCQUFLLElBQUksSUFBSSxLQUFBLEFBQUssTUFBbEIsQUFBc0IsR0FBRyxJQUFJLFNBQTdCLEFBQW9DLEdBQXBDLEFBQXdDLEtBQUssQUFDekM7eUJBQUEsQUFBSyxNQUFMLEFBQVcsR0FBWCxBQUFjLFlBQVksS0FBMUIsQUFBK0IsQUFDbEM7QUFDSjtBQUNEO2lCQUFBLEFBQUssVUFBTCxBQUFlLEFBQ2xCO0FBekRXLEFBMkRaOztBQUdBOzs7bUJBQVkscUJBQVksQUFDcEI7aUJBQUEsQUFBSyxXQUFXLENBQWhCLEFBQWlCLEFBQ2pCO2lCQUFBLEFBQUssTUFBTSxLQUFYLEFBQWdCLEtBQWhCLEFBQXFCLFFBQXJCLEFBQTZCLEtBQUssS0FBbEMsQUFBdUMsQUFDMUM7QUFqRVcsQUFtRVo7O29CQUFZLG9CQUFBLEFBQVMsTUFBTSxBQUN2QjtnQkFBSSxRQUFKLEFBQVksTUFBTSxBQUFFO0FBQ2hCO3FCQUFBLEFBQUssQUFDUjtBQUNEO2dCQUFJLE9BQU8sZUFBWCxBQUFXLEFBQWUsQUFDMUI7Z0JBQUksS0FBQSxBQUFLLE9BQVQsQUFBZ0IsU0FBUyxBQUNyQjt1QkFBQSxBQUFPLElBQVAsQUFBVyxTQUFTLG1CQUFtQixLQUFBLEFBQUssU0FBeEIsQUFBbUIsQUFBYyxNQUFqQyxBQUNSLE9BRFEsQUFDRCxPQURDLEFBQ00sbUJBQW1CLEtBRHpCLEFBQzhCLE1BRGxELEFBQ3dELEFBQ3hEO0FBQ0g7QUFDRDtpQkFBQSxBQUFLLE1BQU0sS0FBWCxBQUFnQixLQUFoQixBQUFxQixRQUFyQixBQUE2QixNQUFNLEtBQW5DLEFBQXdDLEFBQ3hDO2lCQUFBLEFBQUssV0FBTCxBQUFnQixBQUNuQjtBQS9FVyxBQWlGWjs7c0JBQWUsc0JBQUEsQUFBUyxVQUFVLEFBQzlCO2dCQUFBLEFBQUksQUFDSjtpQkFBSyxJQUFMLEFBQVMsVUFBVyxJQUFwQixBQUF3QixTQUF4QixBQUFrQyxLQUFLLEFBQ25DO3FCQUFBLEFBQUssTUFBTCxBQUFXLEdBQVgsQUFBYyxBQUNqQjtBQUNKO0FBdEZXLEFBd0ZaOztlQUFRLGlCQUFXLEFBQ2Y7aUJBQUEsQUFBSyxhQUFMLEFBQWtCLEFBQ2xCO2lCQUFBLEFBQUssTUFBTCxBQUFXLEFBQ1g7aUJBQUEsQUFBSyxhQUFMLEFBQWtCLEFBQ3JCO0FBNUZXLEFBOEZaOzt5QkFBa0IsMkJBQVcsQUFDekI7aUJBQUEsQUFBSyxhQUFhLEtBQWxCLEFBQXVCLEFBQzFCO0FBaEdXLEFBa0daOzt1QkFBZSx5QkFBVyxBQUN0QjtnQkFBSSxRQUFKLEFBQVksQUFDWjtnQkFBSSxRQUFKLEFBQVksQUFDWjtpQkFBSyxJQUFJLElBQVQsQUFBYSxHQUFJLElBQWpCLEFBQXFCLFNBQXJCLEFBQStCLEtBQUssQUFDaEM7b0JBQUksT0FBTyxLQUFBLEFBQUssTUFBTCxBQUFXLEdBQXRCLEFBQXlCLEFBQ3pCO29CQUFJLFNBQUosQUFBYSxLQUFLLEFBQ2Q7NEJBQUEsQUFBUSxBQUNYO0FBQ0Q7c0JBQUEsQUFBTSxLQUFOLEFBQVcsQUFDZDtBQUNEO2dCQUFBLEFBQUksT0FBTyxBQUNQO3VCQUFBLEFBQU8sQUFDVjtBQUZELG1CQUVPLEFBQ0g7dUJBQU8sTUFBQSxBQUFNLEtBQWIsQUFBTyxBQUFXLEFBQ3JCO0FBQ0o7QUFqSFcsQUFtSFo7O3NCQUFjLHNCQUFBLEFBQVMsUUFBUSxBQUMzQjtpQkFBQSxBQUFLLGFBQUwsQUFBa0IsVUFBbEIsQUFBNEIsQUFDNUI7Z0JBQUksV0FBVyxLQUFBLEFBQUssTUFBTSxLQUExQixBQUFlLEFBQWdCLEFBQy9CO3FCQUFBLEFBQVMsWUFBWSxLQUFyQixBQUEwQixBQUM3QjtBQXZITCxBQUFnQixBQTBIaEI7QUExSGdCLEFBRVo7O0FBNEhKOzs7O1FBQUksZ0JBQWdCLFNBQWhCLEFBQWdCLGdCQUFXLEFBRTNCOzthQUFBLEFBQUssT0FBTCxBQUFZLEFBQ1o7YUFBSyxJQUFJLElBQVQsQUFBYSxHQUFJLElBQWpCLEFBQXNCLFNBQXRCLEFBQStCO2lCQUMzQixBQUFLLEtBQUwsQUFBVSxLQUFLLElBRGlCLEFBQ2hDLEFBQWUsQUFBSSxPQURhLEFBQ2hDLENBQTJCLEFBQzlCO0FBQ0Q7YUFBQSxBQUFLLFVBQVUsVUFBZixBQUF5QixBQUN6QjthQUFBLEFBQUssZUFBTCxBQUFvQixBQUNwQjthQUFBLEFBQUssQUFDUjtBQVRELEFBV0E7O2tCQUFBLEFBQWM7O2VBRUYsaUJBQVcsQUFDZjtpQkFBSyxJQUFJLElBQVQsQUFBYSxHQUFJLElBQWpCLEFBQXFCLFNBQXJCLEFBQStCLEtBQUssQUFDaEM7cUJBQUEsQUFBSyxLQUFMLEFBQVUsR0FBVixBQUFhLEFBQ2hCO0FBQ0Q7aUJBQUEsQUFBSyxVQUFVLFVBQWYsQUFBeUIsQUFDNUI7QUFQcUIsQUFTdEI7O2dCQUFTLGdCQUFBLEFBQVMsT0FBTyxBQUNyQjtnQkFBSSxRQUFKLEFBQVksQUFDWjtpQkFBSyxJQUFJLElBQVQsQUFBYSxHQUFJLElBQWpCLEFBQXFCLFNBQXJCLEFBQStCLEtBQUssQUFDaEM7b0JBQUksQ0FBQyxLQUFBLEFBQUssS0FBTCxBQUFVLEdBQVYsQUFBYSxPQUFPLE1BQUEsQUFBTSxLQUEvQixBQUFLLEFBQW9CLEFBQVcsS0FBSyxBQUNyQzs0QkFBQSxBQUFRLEFBQ1I7QUFDSDtBQUNKO0FBQ0Q7bUJBQUEsQUFBTyxBQUNWO0FBbEJxQixBQW9CdEI7O2NBQU8sY0FBQSxBQUFTLE9BQU8sQUFDbkI7aUJBQUssSUFBSSxJQUFULEFBQWEsR0FBSSxJQUFqQixBQUFxQixTQUFyQixBQUErQixLQUFLLEFBQ2hDO3FCQUFBLEFBQUssS0FBTCxBQUFVLEdBQVYsQUFBYSxLQUFLLE1BQUEsQUFBTSxLQUF4QixBQUFrQixBQUFXLEFBQ2hDO0FBQ0o7QUF4QnFCLEFBMEJ0Qjs7aUJBQVUsbUJBQVcsQUFDakI7Z0JBQUksUUFBSixBQUFZLEFBQ1o7aUJBQUssSUFBSSxJQUFULEFBQWEsR0FBSSxJQUFqQixBQUFxQixTQUFyQixBQUErQixLQUFLLEFBQ2hDO29CQUFJLENBQUMsS0FBQSxBQUFLLEtBQUwsQUFBVSxHQUFmLEFBQUssQUFBYSxXQUFXLEFBQ3pCOzRCQUFBLEFBQVEsQUFDUjtBQUNIO0FBQ0o7QUFDRDttQkFBQSxBQUFPLEFBQ1Y7QUFuQ3FCLEFBcUN0Qjs7bUJBQVkscUJBQVcsQUFDbkI7Z0JBQUksTUFBTSxLQUFBLEFBQUssS0FBSyxLQUFwQixBQUFVLEFBQWUsQUFDekI7Z0JBQUEsQUFBSSxBQUNQO0FBeENxQixBQTBDdEI7O3lCQUFrQiwyQkFBVyxBQUN6QjtnQkFBSSxNQUFNLEtBQUEsQUFBSyxLQUFLLEtBQXBCLEFBQVUsQUFBZSxBQUN6QjtnQkFBQSxBQUFJLEFBQ1A7QUE3Q3FCLEFBK0N0Qjs7QUFHQTs7O29CQUFhLG9CQUFBLEFBQVMsTUFBTSxBQUN4QjtnQkFBSSxNQUFNLEtBQUEsQUFBSyxLQUFLLEtBQXBCLEFBQVUsQUFBZSxBQUN6QjtnQkFBQSxBQUFJLFdBQUosQUFBZSxBQUNsQjtBQXJEcUIsQUF1RHRCOztnQkFBUyxnQkFBQSxBQUFTLFFBQVEsQUFDdEI7Z0JBQUksTUFBTSxLQUFBLEFBQUssS0FBSyxLQUFwQixBQUFVLEFBQWUsQUFDekI7Z0JBQUEsQUFBSSxhQUFKLEFBQWlCLEFBQ3BCO0FBMURxQixBQTREdEI7O29CQUFhLG9CQUFBLEFBQVMsUUFBUSxBQUMxQjtnQkFBSSxNQUFNLEtBQUEsQUFBSyxLQUFLLEtBQXBCLEFBQVUsQUFBZSxBQUN6QjtnQkFBQSxBQUFJLFdBQUosQUFBZSxBQUNsQjtBQS9EcUIsQUFpRXRCOzttQkFBWSxtQkFBQSxBQUFTLFFBQVEsQUFDekI7bUJBQUEsQUFBTyxJQUFQLEFBQVcsUUFBUSxnQkFBbkIsQUFBbUMsQUFDbkM7Z0JBQUksTUFBTSxLQUFBLEFBQUssS0FBSyxLQUFwQixBQUFVLEFBQWUsQUFDekI7Z0JBQUEsQUFBSSxVQUFKLEFBQWMsQUFDakI7QUFyRXFCLEFBdUV0Qjs7Z0JBQVMsZ0JBQUEsQUFBUyxTQUFTLEFBQ3ZCO21CQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVEsZUFBZSxLQUFBLEFBQUssVUFBdkMsQUFBa0MsQUFBZSxBQUNqRDtnQkFBSSxTQUFTLFFBQUEsQUFBUSxNQUFyQixBQUEyQixBQUMzQjtnQkFBSSxLQUFBLEFBQUssZ0JBQWlCLFNBQVMsS0FBQSxBQUFLLGVBQXhDLEFBQXVELEdBQUcsQUFDbEQ7eUJBQVMsS0FBQSxBQUFLLGVBQWQsQUFBMkIsQUFDbEM7QUFDRDtpQkFBQSxBQUFLLFVBQUwsQUFBZSxBQUNmO2dCQUFJLE1BQU0sS0FBQSxBQUFLLEtBQUssS0FBcEIsQUFBVSxBQUFlLEFBQ3pCO2dCQUFJLFFBQUEsQUFBUSxXQUFaLEFBQXVCLE1BQU0sQUFDekI7b0JBQUksU0FBUyxRQUFiLEFBQXFCLEFBQ3JCO29CQUFJLFVBQVUsS0FBQSxBQUFLLElBQUksU0FBVCxBQUFnQixHQUE5QixBQUFjLEFBQW1CLEFBQ2pDO29CQUFBLEFBQUksVUFBVSxRQUFkLEFBQXNCLEFBQ3RCO3dCQUFBLEFBQVEsUUFBUSxJQUFBLEFBQUksTUFBSixBQUFVLFNBQVYsQUFBbUIsU0FBbkMsQUFBNEMsQUFDL0M7QUFDRDtnQkFBSSxTQUFTLEVBQUMsWUFBYSxRQUFkLEFBQXNCLE9BQU8sV0FBWSxRQUF6QyxBQUFpRCxXQUFXLFNBQVUsUUFBdEUsQUFBOEUsU0FBUyxZQUF2RixBQUFvRyxTQUFTLE9BQTFILEFBQWEsQUFBcUgsQUFDbEk7aUJBQUEsQUFBSyxPQUFMLEFBQVksQUFDZjtBQXZGcUIsQUF5RnRCOztBQUdBOzs7b0JBQWEsb0JBQUEsQUFBUzs7bUJBRWxCLEFBQU8sSUFBUCxBQUFXLFFBQVEsZUFBZSxLQUFBLEFBQUssVUFBdkMsQUFBa0MsQUFBZSxBQUNqRDtpQkFBQSxBQUFLLEFBQ0w7aUJBQUEsQUFBSyxPQUFMLEFBQVksQUFDWjtpQkFBQSxBQUFLLFdBTHNCLEFBSzNCLEFBQWdCLE1BTFcsQUFFM0IsQ0FHdUIsQUFDMUI7QUFsR3FCLEFBb0d0Qjs7dUJBQWdCLHVCQUFBLEFBQVMsUUFBUSxBQUM3QjtpQkFBQSxBQUFLLGVBQUwsQUFBb0IsQUFDdkI7QUF0R3FCLEFBd0d0Qjs7Z0JBQVMsa0JBQVcsQUFDaEI7Z0JBQUksS0FBQSxBQUFLLGlCQUFULEFBQTBCO3VCQUN0QixBQUFPLElBQVAsQUFBVyxTQUFYLEFBQW9CLEFBQ3BCO0FBRjRCLHVCQUFBLEFBQzVCLENBQ1EsQUFDWDtBQUNEO21CQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVEsS0FBbkIsQUFBbUIsQUFBSyxBQUN4QjtnQkFBSSxjQUFjLEtBQUEsQUFBSyxVQUFMLEFBQWUsSUFBSSxLQUFyQyxBQUEwQyxBQUMxQztnQkFBSSxTQUFTLEtBQUEsQUFBSyxLQUFMLEFBQVUsT0FBVixBQUFpQixhQUFqQixBQUE4QixHQUEzQyxBQUFhLEFBQWlDLEFBQzlDO21CQUFBLEFBQU8sQUFDUDtpQkFBQSxBQUFLLEtBQUwsQUFBVSxPQUFPLEtBQWpCLEFBQXNCLFNBQXRCLEFBQStCLEdBQS9CLEFBQWtDLEFBQ2xDO21CQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsQUFDbkI7QUFDSDtBQXBIcUIsQUFzSHZCOztBQUdDOzs7d0JBQWlCLHdCQUFBLEFBQVMsVUFBVSxBQUNoQzt1QkFBVyxZQUFYLEFBQXVCLEFBQ3ZCO2dCQUFJLGNBQUosQUFBa0IsQUFDbEI7Z0JBQUksT0FBSixBQUFXLEFBQ1g7Z0JBQUksUUFBUSxDQUFaLEFBQWEsQUFDYjtpQkFBSyxJQUFJLElBQVQsQUFBYSxHQUFJLElBQWpCLEFBQXFCLFNBQXJCLEFBQStCLEtBQUssQUFDaEM7b0JBQUksVUFBVSxLQUFBLEFBQUssS0FBTCxBQUFVLEdBQXhCLEFBQWMsQUFBYSxBQUMzQjtvQkFBQSxBQUFJLFNBQVMsQUFDVDs0QkFBUSxJQUFSLEFBQVUsQUFDVjt3QkFBQSxBQUFJLFVBQVUsQUFDVjtvQ0FBQSxBQUFZLEtBQUssU0FBQSxBQUFTLFFBQVQsQUFBaUIsUUFBakIsQUFBeUIsVUFBMUMsQUFBb0QsQUFDdkQ7QUFGRCwyQkFFTyxBQUNIO29DQUFBLEFBQVksS0FBSyxRQUFqQixBQUFpQixBQUFRLEFBQzVCO0FBQ0o7QUFDSjtBQUNEO2dCQUFJLFlBQUEsQUFBWSxTQUFoQixBQUF5QixHQUFHLEFBQ3hCO29CQUFBLEFBQUksVUFBVSxBQUNWOzJCQUFPLE1BQU0sWUFBQSxBQUFZLEtBQWxCLEFBQU0sQUFBaUIsU0FBOUIsQUFBdUMsQUFDMUM7QUFGRCx1QkFFTyxBQUNIOzJCQUFPLFlBQUEsQUFBWSxLQUFuQixBQUFPLEFBQWlCLEFBQzNCO0FBQ0o7QUFDRDttQkFBQSxBQUFPLEFBQ1Y7QUFqSnFCLEFBbUp0Qjs7MEJBQW1CLDRCQUFXLEFBQzFCO21CQUFPLEtBQVAsQUFBWSxBQUNmO0FBckpMLEFBQTBCLEFBd0oxQjtBQXhKMEIsQUFFdEI7O0FBNEpKOzs7Ozs7UUFBSSxnQkFBZ0IsU0FBaEIsQUFBZ0IsY0FBQSxBQUFTLGVBQVQsQUFBd0I7O2FBRXhDLEFBQUssT0FBTCxBQUFZLEFBQ1o7YUFBQSxBQUFLLGVBQUwsQUFBb0IsQUFDcEI7YUFBQSxBQUFLLE9BQUwsQUFBWSxBQUNaO2FBQUEsQUFBSyxVQUFMLEFBQWUsQUFDZjthQUFBLEFBQUssa0JBQWtCLElBQXZCLEFBQXVCLEFBQUksQUFDM0I7YUFBQSxBQUFLLHFCQUFxQixJQUExQixBQUEwQixBQUFJLEFBQzlCO2FBQUEsQUFBSyxtQkFBbUIsSUFBeEIsQUFBd0IsQUFBSSxBQUM1QjthQUFBLEFBQUssZ0JBQWdCLEtBQUEsQUFBSyxnQkFBTCxBQUFxQixLQUFLLFVBQS9DLEFBQXFCLEFBQWtDLEFBQ3ZEO2FBQUEsQUFBSyxjQUFjLEtBQW5CLEFBQXdCLEFBQ3hCO2FBQUEsQUFBSyxPQUFMLEFBQVksQUFDWjthQUFBLEFBQUssZUFaaUQsQUFZdEQsQUFBb0IsS0Faa0MsQUFFdEQsQ0FVMEIsQUFDN0I7QUFiRCxBQWVBOztrQkFBQSxBQUFjOztlQUVGLENBQUEsQUFBQyxnQkFBRCxBQUFpQixlQUFqQixBQUFnQyxpQkFGbEIsQUFFZCxBQUFpRCxBQUV6RDs7ZUFBUSxpQkFBVyxBQUNmO2lCQUFBLEFBQUssT0FBTCxBQUFZLEFBQ1o7aUJBQUEsQUFBSyxnQkFBTCxBQUFxQixBQUNyQjtpQkFBQSxBQUFLLG1CQUFMLEFBQXdCLEFBQ3hCO2lCQUFBLEFBQUssaUJBQUwsQUFBc0IsQUFDdEI7aUJBQUEsQUFBSyxnQkFBZ0IsS0FBQSxBQUFLLGdCQUFMLEFBQXFCLEtBQUssVUFBL0MsQUFBcUIsQUFBa0MsQUFDdkQ7aUJBQUEsQUFBSyxjQUFjLEtBQW5CLEFBQXdCLEFBQ3hCO2lCQUFBLEFBQUssT0FBTCxBQUFZLEFBQ1o7aUJBQUEsQUFBSyxlQUFMLEFBQW9CLEFBQ3BCO2lCQUFBLEFBQUssaUJBQUwsQUFBc0IsQUFDekI7QUFkcUIsQUFnQnRCOztvQkFBYSxzQkFBVyxBQUNwQjttQkFBTyxLQUFQLEFBQVksQUFDZjtBQWxCcUIsQUFvQnRCOztvQkFBYSxvQkFBQSxBQUFTLFlBQVksQUFDOUI7aUJBQUEsQUFBSyxlQUFMLEFBQW9CLEFBQ3ZCO0FBdEJxQixBQXdCdEI7O2dCQUFTLGdCQUFBLEFBQVMsU0FBUyxBQUN2QjtpQkFBQSxBQUFLLFlBQUwsQUFBaUIsT0FBakIsQUFBd0IsQUFDM0I7QUExQnFCLEFBNEJ0Qjs7b0JBQWEsb0JBQUEsQUFBUyxTQUFTLEFBQzNCO2lCQUFBLEFBQUssWUFBTCxBQUFpQixXQUFqQixBQUE0QixBQUMvQjtBQTlCcUIsQUFnQ3RCOztpQkFBVSxpQkFBQSxBQUFTLFNBQVMsQUFDeEI7Z0JBQUksWUFBWSxLQUFoQixBQUFxQixNQUFNLEFBQ3ZCO0FBQ0g7QUFDRDtpQkFBQSxBQUFLLE9BQUwsQUFBWSxBQUNaO21CQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVEsVUFBbkIsQUFBNkIsQUFDN0I7Z0JBQUksS0FBQSxBQUFLLFFBQVQsQUFBaUIsZUFBZSxBQUM1QjtxQkFBQSxBQUFLLGNBQWMsS0FBbkIsQUFBd0IsQUFDM0I7QUFGRCxtQkFFTyxBQUNIO3FCQUFBLEFBQUssY0FBYyxLQUFuQixBQUF3QixBQUN4QjtxQkFBQSxBQUFLLFlBQUwsQUFBaUIsQUFDcEI7QUFDRDtnQkFBSSxLQUFBLEFBQUssU0FBVCxBQUFrQixnQkFBZ0IsQUFDOUI7cUJBQUEsQUFBSyxnQkFBTCxBQUFxQixlQUFyQixBQUFvQyxBQUNwQztxQkFBQSxBQUFLLG1CQUFMLEFBQXdCLGVBQXhCLEFBQXVDLEFBQzFDO0FBQ0Q7aUJBQUEsQUFBSyxPQUFMLEFBQVksQUFDZjtBQWpEcUIsQUFtRHRCOztxQkFBYyxxQkFBQSxBQUFTLE9BQU8sQUFDMUI7aUJBQUssSUFBSSxJQUFULEFBQWEsR0FBSSxJQUFJLE1BQXJCLEFBQTJCLFFBQTNCLEFBQW9DLEtBQUssQUFDckM7cUJBQUEsQUFBSyxZQUFMLEFBQWlCLFdBQVcsTUFBNUIsQUFBNEIsQUFBTSxBQUNyQztBQUNEO2dCQUFJLFNBQVMsS0FBQSxBQUFLLGdCQUFnQixLQUFyQixBQUEwQixrQkFBMUIsQUFBNEMsU0FBekQsQUFBa0UsQUFDbEU7bUJBQUEsQUFBTyxJQUFQLEFBQVcsUUFBUSxTQUFBLEFBQVMsT0FBTyxLQUFBLEFBQUssWUFBTCxBQUFpQixlQUFwRCxBQUFtQyxBQUFnQyxBQUNuRTtnQkFBSSxLQUFBLEFBQUssU0FBTCxBQUFjLG1CQUFtQixLQUFBLEFBQUssU0FBMUMsQUFBbUQsZ0JBQWdCLEFBQy9EO3VCQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVEsZ0JBQWdCLEtBQUEsQUFBSyxnQkFBTCxBQUFxQixlQUF4RCxBQUFtQyxBQUFvQyxBQUN2RTtxQkFBQSxBQUFLLEFBQ1I7QUFDSjtBQTdEcUIsQUErRHRCOztnQkFBUSxrQkFBVyxBQUFFO0FBQ2pCO21CQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsQUFDbkI7aUJBQUEsQUFBSyxRQUFMLEFBQWEsQUFDaEI7QUFsRXFCLEFBbUV0QjtlQUFPLGlCQUFXLEFBQUU7QUFDaEI7bUJBQUEsQUFBTyxJQUFQLEFBQVcsUUFBWCxBQUFtQixBQUNuQjtnQkFBSSxLQUFBLEFBQUssU0FBVCxBQUFrQixhQUFhLEFBQzNCO0FBQ0g7QUFDRDtpQkFBQSxBQUFLLFlBQUwsQUFBaUIsQUFDakI7Z0JBQUksS0FBQSxBQUFLLGdCQUFnQixLQUF6QixBQUE4QixpQkFBaUIsQUFDM0M7cUJBQUEsQUFBSyxBQUNSO0FBQ0o7QUE1RXFCLEFBNkV0QjtnQkFBUyxrQkFBVyxBQUFFO0FBQ2xCO0FBQ0g7QUEvRXFCLEFBZ0Z0QjtnQkFBUSxrQkFBVyxBQUFFO0FBQ2pCO0FBQ0g7QUFsRnFCLEFBbUZ0QjtnQkFBUSxrQkFBVyxBQUFFO0FBQ2pCO21CQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsQUFDbkI7aUJBQUEsQUFBSyxZQUFMLEFBQWlCLEFBQ2pCO2lCQUFBLEFBQUssQUFDUjtBQXZGcUIsQUF3RnRCO2VBQU8sZUFBQSxBQUFTLFFBQVEsQUFBRTtBQUN0QjttQkFBQSxBQUFPLElBQVAsQUFBVyxRQUFRLFFBQUEsQUFBUSxTQUEzQixBQUFtQyxBQUNuQztpQkFBQSxBQUFLLGNBQWMsS0FBbkIsQUFBd0IsQUFDeEI7aUJBQUEsQUFBSyxRQUFMLEFBQWEsQUFDYjtpQkFBQSxBQUFLLFlBQUwsQUFBaUIsY0FBakIsQUFBK0IsQUFDbEM7QUE3RnFCLEFBOEZ0QjtnQkFBUSxrQkFBVyxBQUFFO0FBQ2pCO21CQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsQUFDbkI7aUJBQUEsQUFBSyxZQUFMLEFBQWlCLE9BQU8sRUFBQyxPQUF6QixBQUF3QixBQUFTLEFBQ3BDO0FBakdxQixBQWtHdEI7Z0JBQVEsa0JBQVcsQUFBRTtBQUNqQjttQkFBQSxBQUFPLElBQVAsQUFBVyxRQUFYLEFBQW1CLEFBQ25CO2lCQUFBLEFBQUssUUFBTCxBQUFhLEFBQ2hCO0FBckdxQixBQXNHdEI7ZUFBTyxpQkFBVyxBQUFFO0FBQ2hCO21CQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsQUFDbkI7aUJBQUEsQUFBSyxRQUFMLEFBQWEsQUFDaEI7QUF6R3FCLEFBMEd0QjtnQkFBUSxrQkFBVyxBQUFFO0FBQ2pCO21CQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsQUFDbkI7aUJBQUEsQUFBSyxRQUFMLEFBQWEsQUFDaEI7QUE3R3FCLEFBOEd0QjtnQkFBUSxrQkFBVyxBQUFFO0FBQ2pCO21CQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsQUFDbkI7aUJBQUEsQUFBSyxnQkFBTCxBQUFxQixBQUNyQjtpQkFBQSxBQUFLLEFBQ1I7QUFsSHFCLEFBbUh0QjtlQUFPLGlCQUFXLEFBQUU7QUFDaEI7bUJBQUEsQUFBTyxJQUFQLEFBQVcsQUFDWDtpQkFBQSxBQUFLLFlBQUwsQUFBaUIsQUFDakI7aUJBQUEsQUFBSyxBQUNSO0FBdkhxQixBQXdIdEI7Z0JBQVEsa0JBQVcsQUFBRTtBQUNqQjttQkFBQSxBQUFPLElBQVAsQUFBVyxRQUFYLEFBQW1CLEFBQ25CO2lCQUFBLEFBQUssbUJBQUwsQUFBd0IsQUFDM0I7QUEzSHFCLEFBNEh0QjtnQkFBUSxrQkFBVyxBQUFFO0FBQ2pCO21CQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVgsQUFBbUIsQUFDbkI7Z0JBQUksS0FBQSxBQUFLLFNBQVQsQUFBa0IsZUFBZSxBQUM3QjtvQkFBSSxNQUFNLEtBQVYsQUFBZSxBQUNmO3FCQUFBLEFBQUssa0JBQWtCLEtBQXZCLEFBQTRCLEFBQzVCO3FCQUFBLEFBQUsscUJBQUwsQUFBMEIsQUFDMUI7cUJBQUEsQUFBSyxjQUFjLEtBQW5CLEFBQXdCLEFBQ3hCO3VCQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVEsV0FBVyxLQUFBLEFBQUssZ0JBQW5DLEFBQThCLEFBQXFCLEFBQ3REO0FBQ0Q7aUJBQUEsQUFBSyxBQUNSO0FBdElxQixBQXVJdEI7ZUFBTyxlQUFBLEFBQVMsUUFBUSxBQUFFO0FBQ3RCO21CQUFBLEFBQU8sSUFBUCxBQUFXLFFBQVEsUUFBQSxBQUFRLFNBQTNCLEFBQW9DLEFBQ3BDO2lCQUFBLEFBQUssWUFBTCxBQUFpQixXQUFqQixBQUE0QixBQUMvQjtBQTFJcUIsQUEySXRCO21CQUFXLG1CQUFBLEFBQVMsWUFBWSxBQUFFO0FBQzlCO2dCQUFJLFNBQVMsRUFBQyxPQUFkLEFBQWEsQUFBUyxBQUN0QjttQkFBQSxBQUFPLFlBQVksYUFBQSxBQUFhLE1BQWhDLEFBQXNDLEFBQ3RDO21CQUFBLEFBQU8sVUFBVSxjQUFqQixBQUErQixBQUMvQjtnQkFBSSxDQUFDLE9BQUwsQUFBWSxTQUFTLEFBQ2pCO29CQUFJLGFBQWEsS0FBQSxBQUFLLE1BQU0sYUFBWCxBQUFzQixLQUF2QyxBQUE0QyxBQUM1QztvQkFBSSxTQUFTLENBQUEsQUFBQyxTQUFELEFBQVUsU0FBVixBQUFtQixRQUFuQixBQUEyQixRQUEzQixBQUFtQyxPQUFuQyxBQUEwQyxVQUF2RCxBQUFhLEFBQW9ELEFBQ2pFO3VCQUFBLEFBQU8sYUFBYSxPQUFwQixBQUFvQixBQUFPLEFBQzlCO0FBSkQsbUJBSU8sQUFDSDt1QkFBQSxBQUFPLGFBQVAsQUFBb0IsQUFDdkI7QUFDRDttQkFBQSxBQUFPLElBQVAsQUFBVyxRQUFRLGFBQWEsS0FBQSxBQUFLLFVBQXJDLEFBQWdDLEFBQWUsQUFDL0M7aUJBQUEsQUFBSyxZQUFMLEFBQWlCLE9BQWpCLEFBQXdCLEFBQzNCO0FBeEpxQixBQTBKdEI7OzBCQUFrQiw0QkFBVyxBQUN6QjtnQkFBSSxJQUFJLE9BQVIsQUFBZSxBQUNmO2dCQUFJLE1BQUosQUFBVSxNQUFNLEFBQ1o7QUFDSDtBQUNEO2dCQUFJLEtBQUosQUFBUyxjQUFjLEFBQ25CO29CQUFJLEtBQUEsQUFBSyxhQUFULEFBQXNCLFlBQVksQUFDOUI7eUJBQUEsQUFBSyxhQUFMLEFBQWtCLFdBQWxCLEFBQTZCLEdBQUcsS0FBaEMsQUFBcUMsQUFDeEM7QUFDRDtvQkFBSSxLQUFBLEFBQUssaUJBQUwsQUFBc0IsUUFBUSxDQUFDLEtBQUEsQUFBSyxnQkFBeEMsQUFBbUMsQUFBcUIsV0FBVyxBQUFFO0FBQ2pFO3lCQUFBLEFBQUssZUFBTCxBQUFvQixBQUN2QjtBQUZELHVCQUVPLEFBQ0g7d0JBQUksQ0FBQyxLQUFBLEFBQUssZ0JBQUwsQUFBcUIsT0FBTyxLQUFqQyxBQUFLLEFBQWlDLG1CQUFtQixBQUNyRDs0QkFBSSxLQUFBLEFBQUssYUFBVCxBQUFzQixRQUFRLEFBQzFCO2lDQUFBLEFBQUssYUFBTCxBQUFrQixPQUFPLEtBQXpCLEFBQThCLGNBQTlCLEFBQTRDLEdBQUcsS0FBL0MsQUFBb0QsQUFDdkQ7QUFDRDs2QkFBQSxBQUFLLGVBQWUsS0FBQSxBQUFLLGdCQUFMLEFBQXFCLFlBQXJCLEFBQWlDLE9BQXJELEFBQTRELEFBQy9EO0FBQ0o7QUFDRDtxQkFBQSxBQUFLLGlCQUFMLEFBQXNCLEtBQUssS0FBM0IsQUFBZ0MsQUFDbkM7QUFDSjtBQS9LcUIsQUFpTHRCOzt3QkFBaUIsd0JBQUEsQUFBUyxHQUFHLEFBQ3pCO2dCQUFJLEtBQUosQUFBUyxjQUFjLEFBQ25CO29CQUFJLENBQUMsS0FBQSxBQUFLLGdCQUFWLEFBQUssQUFBcUIsV0FBVyxBQUNqQzt3QkFBSSxLQUFBLEFBQUssYUFBVCxBQUFzQixRQUFRLEFBQzFCOzZCQUFBLEFBQUssYUFBTCxBQUFrQixPQUFPLEtBQXpCLEFBQThCLGNBQTlCLEFBQTRDLEdBQUcsS0FBL0MsQUFBb0QsQUFDdkQ7QUFDRDt5QkFBQSxBQUFLLGVBQUwsQUFBb0IsQUFDdkI7QUFDSjtBQUNKO0FBMUxMLEFBQTBCLEFBNkwxQjtBQTdMMEIsQUFFdEI7O0FBa01KOzs7Ozs7O1FBQUksZUFBZSxTQUFmLEFBQWUsYUFBQSxBQUFTLE9BQVQsQUFBZ0IsTUFBaEIsQUFBc0I7YUFDckMsQUFBSyxRQUFRLFNBQWIsQUFBc0IsQUFDdEI7YUFBQSxBQUFLLFVBQVUsQ0FBQSxBQUFDLE1BQWhCLEFBQWUsQUFBTyxBQUN0QjthQUFBLEFBQUssV0FBVyxDQUFDLElBQUEsQUFBSSxjQUFKLEFBQWtCLEdBQW5CLEFBQUMsQUFBcUIsT0FBTyxJQUFBLEFBQUksY0FBSixBQUFrQixHQUEvRCxBQUFnQixBQUE2QixBQUFxQixBQUNsRTthQUFBLEFBQUssV0FBVyxDQUoyQixBQUkzQyxBQUFpQixFQUowQixBQUMzQyxDQUdvQixBQUNwQjthQUFBLEFBQUssV0FMc0MsQUFLM0MsQUFBZ0IsTUFBTSxBQUN0QjthQUFBLEFBQUssV0FOc0MsQUFNM0MsQUFBZ0IsTUFBTSxBQUN0QjthQUFBLEFBQUssZUFBTCxBQUFvQixBQUNwQjthQUFBLEFBQUssWUFBTCxBQUFpQixBQUNqQjthQUFBLEFBQUssV0FBTCxBQUFnQixBQUNoQjthQUFBLEFBQUssZUFBZSxFQUFDLFdBQUQsQUFBYSxHQUFHLFFBQWhCLEFBQXlCLEdBQUcsT0FBNUIsQUFBb0MsR0FBRyxTQUEzRCxBQUFvQixBQUFpRCxBQUN4RTtBQVhELEFBYUE7O2lCQUFBLEFBQWE7O29CQUVJLG9CQUFBLEFBQVMsT0FBTyxBQUN6QjttQkFBTyxLQUFBLEFBQUssU0FBTCxBQUFjLE9BQXJCLEFBQU8sQUFBcUIsQUFDL0I7QUFKb0IsQUFNckI7O29CQUFhLG9CQUFBLEFBQVMsT0FBVCxBQUFnQixZQUFZLEFBQ3JDO2lCQUFBLEFBQUssU0FBTCxBQUFjLE9BQWQsQUFBcUIsV0FBckIsQUFBZ0MsQUFDbkM7QUFSb0IsQUFVckI7O0FBR0E7OztpQkFBVSxpQkFBQSxBQUFTLEdBQVQsQUFBWSxVQUFVLEFBQzVCO2dCQUFBLEFBQUk7Z0JBQUosQUFBYztnQkFBZCxBQUFpQjtnQkFDakIsYUFEQSxBQUNhLEFBRWI7O2lCQUFBLEFBQUssV0FBTCxBQUFnQixBQUNoQjttQkFBQSxBQUFPLFFBQVAsQUFBZSxBQUVmOztpQkFBSyxJQUFJLElBQVQsQUFBYSxHQUFJLElBQUksU0FBckIsQUFBOEIsUUFBUyxLQUF2QyxBQUEwQyxHQUFHLEFBQ3pDO29CQUFJLFNBQUEsQUFBUyxLQUFiLEFBQWtCLEFBQ2xCO29CQUFJLFNBQVMsSUFBVCxBQUFXLEtBQWYsQUFBb0IsQUFDcEI7b0JBQUksTUFBQSxBQUFNLEtBQUssTUFBZixBQUFxQixHQUFHLEFBQ3BCO3lCQUFBLEFBQUssYUFBTCxBQUFrQixXQUFsQixBQUE2QixBQUM3QjtBQUNIO0FBSEQsdUJBR08sQUFDSDsyQkFBQSxBQUFPLElBQVAsQUFBVyxRQUFRLE1BQU0sbUJBQW1CLENBQUMsU0FBRCxBQUFDLEFBQVMsSUFBSSxTQUFTLElBQWhELEFBQU0sQUFBbUIsQUFBYyxBQUFXLE9BQWxELEFBQXdELFdBQVcsbUJBQW1CLENBQUEsQUFBQyxHQUF2RixBQUFtRSxBQUFtQixBQUFJLE1BQTdHLEFBQW1ILEFBQ3RIO0FBQ0Q7MkJBQVcsS0FBQSxBQUFLLFNBQUwsQUFBYyxHQUF6QixBQUFXLEFBQWlCLEFBQzVCO29CQUFJLENBQUosQUFBSyxVQUFVLEFBQ1g7K0JBQVcsS0FBQSxBQUFLLFlBQUwsQUFBaUIsR0FBNUIsQUFBVyxBQUFvQixBQUNsQztBQUNEO29CQUFJLENBQUosQUFBSyxVQUFVLEFBQ1g7K0JBQVcsS0FBQSxBQUFLLFNBQUwsQUFBYyxHQUF6QixBQUFXLEFBQWlCLEFBQy9CO0FBQ0Q7b0JBQUksQ0FBSixBQUFLLFVBQVUsQUFDWDsrQkFBVyxLQUFBLEFBQUssMEJBQUwsQUFBK0IsR0FBMUMsQUFBVyxBQUFrQyxBQUNoRDtBQUNEO29CQUFJLENBQUosQUFBSyxVQUFVLEFBQ1g7aUNBQWEsS0FBQSxBQUFLLFdBQUwsQUFBZ0IsR0FBN0IsQUFBYSxBQUFtQixBQUNoQzt3QkFBQSxBQUFJLFlBQVksQUFDWjs0QkFBSSxLQUFBLEFBQUssWUFBWSxLQUFBLEFBQUssWUFBMUIsQUFBcUMsR0FBRyxBQUNwQztnQ0FBSSxVQUFVLEtBQUEsQUFBSyxTQUFTLEtBQUEsQUFBSyxXQUFqQyxBQUFjLEFBQTRCLEFBQzFDO29DQUFBLEFBQVEsWUFBUixBQUFvQixBQUN2QjtBQUhELCtCQUdPLEFBQ0g7bUNBQUEsQUFBTyxJQUFQLEFBQVcsV0FBWCxBQUFzQixBQUN6QjtBQUNKO0FBQ0o7QUFDRDtvQkFBQSxBQUFJLFVBQVUsQUFDVjt5QkFBQSxBQUFLLGFBQUwsQUFBa0IsT0FBbEIsQUFBeUIsQUFDNUI7QUFGRCwyQkFFTyxBQUFJLFlBQVksQUFDbkI7eUJBQUEsQUFBSyxhQUFMLEFBQWtCLFFBQWxCLEFBQTBCLEFBQzdCO0FBRk0saUJBQUEsTUFFQSxBQUNIO3lCQUFBLEFBQUssYUFBTCxBQUFrQixTQUFsQixBQUEyQixBQUMzQjsyQkFBQSxBQUFPLElBQVAsQUFBVyxXQUFXLGlDQUFpQyxtQkFBbUIsQ0FBQSxBQUFDLEdBQXJELEFBQWlDLEFBQW1CLEFBQUksTUFBeEQsQUFDVixZQUFZLG1CQUFtQixDQUFDLFNBQUQsQUFBQyxBQUFTLElBQUksU0FBUyxJQURsRSxBQUN3QixBQUFtQixBQUFjLEFBQVcsQUFDdkU7QUFDSjtBQUNKO0FBNURvQixBQThEckI7O0FBSUE7Ozs7a0JBQVUsa0JBQUEsQUFBUyxHQUFULEFBQVksR0FBRyxBQUNyQjtnQkFBSSxPQUFKLEFBQVcsQUFFWDs7Z0JBQUksUUFBUSxDQUFDLE1BQUEsQUFBTSxRQUFRLE1BQWYsQUFBcUIsU0FBVSxRQUFBLEFBQVEsS0FBSyxLQUF4RCxBQUE2RCxBQUM3RDtnQkFBSSxRQUFRLENBQUMsTUFBQSxBQUFNLFFBQVEsTUFBZixBQUFxQixTQUFVLFFBQUEsQUFBUSxLQUFLLEtBQXhELEFBQTZELEFBQzdEO2dCQUFJLEVBQUUsU0FBTixBQUFJLEFBQVcsUUFBUSxBQUNuQjt1QkFBQSxBQUFPLEFBQ1Y7QUFFRDs7Z0JBQUksTUFBTSxLQUFOLEFBQVcsWUFBWSxNQUFNLEtBQWpDLEFBQXNDO3FCQUNsQyxBQUFLLFdBQUwsQUFBZ0IsQUFDaEI7cUJBQUEsQUFBSyxXQUZ1QyxBQUU1QyxBQUFnQixLQUY0QixBQUM1QyxDQUNzQixBQUN0Qjt1QkFBQSxBQUFPLElBQVAsQUFBVyxTQUFTLHVCQUF1QixtQkFBbUIsQ0FBQSxBQUFDLEdBQTNDLEFBQXVCLEFBQW1CLEFBQUksTUFBbEUsQUFBd0UsQUFDeEU7dUJBQUEsQUFBTyxBQUNWO0FBRUQ7O2dCQUFJLE1BQUEsQUFBTSxRQUFRLE1BQWxCLEFBQXdCLE1BQU0sQUFDMUI7dUJBQUEsQUFBTyxBQUNWO0FBRkQsbUJBRU8sQUFDSDt1QkFERyxBQUNILEFBQU8sR0FBRyxBQUNiO0FBRUQ7O2dCQUFJLFVBQVUsS0FBQSxBQUFLLFNBQVMsT0FBNUIsQUFBYyxBQUFxQixBQUVuQzs7Z0JBQUksTUFBQSxBQUFNLFFBQVEsTUFBbEIsQUFBd0IsTUFBTSxBQUMxQjtvQkFBSSxNQUFKLEFBQVUsTUFBTSxBQUNaOzRCQUFBLEFBQVEsQUFDWDtBQUZELDJCQUVXLE1BQUosQUFBVSxNQUFNLEFBQ25COzRCQUFBLEFBQVEsQUFDWDtBQUZNLGlCQUFBLFVBRUksTUFBSixBQUFVLE1BQU0sQUFDbkI7NEJBQUEsQUFBUSxBQUNYO0FBRk0saUJBQUEsVUFFSSxNQUFKLEFBQVUsTUFBTSxBQUNuQjs0QkFBQSxBQUFRLEFBQ1g7QUFGTSxpQkFBQSxVQUVJLE1BQUosQUFBVSxNQUFNLEFBQ25COzRCQUFBLEFBQVEsQUFDWDtBQUZNLGlCQUFBLFVBRUksTUFBSixBQUFVLE1BQU0sQUFDbkI7NEJBQUEsQUFBUSxNQUFSLEFBQWMsQUFDakI7QUFGTSxpQkFBQSxVQUVJLE1BQUosQUFBVSxNQUFNLEFBQ25COzRCQUFBLEFBQVEsTUFBUixBQUFjLEFBQ2pCO0FBRk0saUJBQUEsVUFFSSxNQUFKLEFBQVUsTUFBTSxBQUNuQjs0QkFBQSxBQUFRLE1BQVIsQUFBYyxBQUNqQjtBQUZNLGlCQUFBLFVBRUksTUFBSixBQUFVLE1BQU0sQUFDbkI7NEJBQUEsQUFBUSxBQUNYO0FBRk0saUJBQUEsVUFFSSxNQUFKLEFBQVUsTUFBTSxBQUNuQjs0QkFBQSxBQUFRLEFBQ1g7QUFGTSxpQkFBQSxVQUVJLE1BQUosQUFBVSxNQUFNLEFBQ25COzRCQUFBLEFBQVEsQUFDWDtBQUZNLGlCQUFBLFVBRUksTUFBSixBQUFVLE1BQU0sQUFDbkI7NEJBQUEsQUFBUSxBQUNYO0FBRk0saUJBQUEsVUFFSSxNQUFKLEFBQVUsTUFBTSxBQUNuQjs0QkFBQSxBQUFRLEFBQ1g7QUFGTSxpQkFBQSxVQUVJLE1BQUosQUFBVSxNQUFNLEFBQ25COzRCQUFBLEFBQVEsQUFDWDtBQUZNLGlCQUFBLFVBRUksTUFBSixBQUFVLE1BQU0sQUFDbkI7NEJBQUEsQUFBUSxBQUNYO0FBRk0saUJBQUEsTUFFQSxJQUFJLE1BQUosQUFBVSxNQUFNLEFBQ25COzRCQUFBLEFBQVEsQUFDWDtBQUNKO0FBbENELG1CQWtDTyxBQUFFO0FBQ0w7d0JBQUEsQUFBUSxNQUFNLElBQWQsQUFBa0IsQUFDckI7QUFDRDtpQkFBQSxBQUFLLFdBQUwsQUFBZ0IsQUFDaEI7aUJBQUEsQUFBSyxXQUFMLEFBQWdCLEFBQ2hCO2lCQUFBLEFBQUssV0FBTCxBQUFnQixBQUNoQjttQkFBQSxBQUFPLEFBQ1Y7QUFuSW9CLEFBcUlyQjs7QUFJQTs7OztxQkFBYyxxQkFBQSxBQUFTLEdBQVQsQUFBWSxHQUFHLEFBQ3pCO2dCQUFJLE9BQUosQUFBVyxBQUVYOztnQkFBSyxDQUFFLE1BQUQsQUFBTyxRQUFVLE1BQWxCLEFBQXdCLFNBQVUsUUFBbEMsQUFBMEMsS0FBSyxLQUFwRCxBQUF5RCxNQUFNLEFBQzNEO29CQUFJLE1BQUosQUFBVSxNQUFNLEFBQ1o7MkJBQUEsQUFBTyxBQUNWO0FBRkQsdUJBRVEsQUFDSjsyQkFBQSxBQUFPLEFBQ1Y7QUFDRDtvQkFBSSxTQUFTLEtBQWIsQUFBa0IsVUFBVSxBQUN4QjsyQkFBQSxBQUFPLElBQVAsQUFBVyxTQUFYLEFBQW9CLEFBQ3BCOzJCQUFBLEFBQU8sQUFDVjtBQUNEO29CQUFJLFVBQVUsS0FBQSxBQUFLLFNBQVMsT0FBNUIsQUFBYyxBQUFtQixBQUNqQzt3QkFBQSxBQUFRLFVBQVIsQUFBa0IsQUFDbEI7dUJBQUEsQUFBTyxJQUFQLEFBQVcsU0FBUyxhQUFhLG1CQUFtQixDQUFBLEFBQUMsR0FBakMsQUFBYSxBQUFtQixBQUFJLE1BQXhELEFBQThELEFBQzlEO3VCQUFBLEFBQU8sQUFDVjtBQUNEO21CQUFBLEFBQU8sQUFDVjtBQTVKb0IsQUE2SnJCO0FBSUE7Ozs7a0JBQVcsa0JBQUEsQUFBUyxHQUFULEFBQVksR0FBRyxBQUV2Qjs7Z0JBQUksT0FBSixBQUFXLEFBQ1g7Z0JBQUksTUFBSixBQUFVLEFBRVQ7O2dCQUFJLFFBQVEsQ0FBRSxRQUFBLEFBQVEsS0FBTSxLQUFmLEFBQW9CLFFBQVUsUUFBQSxBQUFRLEtBQUssS0FBNUMsQUFBaUQsU0FBVyxRQUFBLEFBQVEsS0FBSyxLQUFyRixBQUEwRixBQUMxRjtnQkFBSSxRQUFRLENBQUMsTUFBQSxBQUFNLFFBQVEsTUFBZixBQUFxQixTQUFVLFFBQUEsQUFBUSxLQUFLLEtBQXhELEFBQTZELEFBQzdEO2dCQUFJLEVBQUcsU0FBUCxBQUFJLEFBQVksUUFBUSxBQUNwQjt1QkFBQSxBQUFPLEFBQ1Y7QUFFRDs7Z0JBQUksTUFBTSxLQUFOLEFBQVcsWUFBWSxNQUFNLEtBQWpDLEFBQXNDO3FCQUNsQyxBQUFLLFdBQUwsQUFBZ0IsQUFDaEI7cUJBQUEsQUFBSyxXQUFMLEFBQWdCLEFBQ2hCO3VCQUg0QyxBQUc1QyxBQUFPLEtBSHFDLEFBQzVDLENBRWEsQUFDaEI7QUFFRDs7bUJBQVEsS0FBRCxBQUFNLE9BQU4sQUFBYyxJQUFyQixBQUF5QixBQUV6Qjs7Z0JBQUksUUFBQSxBQUFRLEtBQUssS0FBakIsQUFBc0IsTUFBTSxBQUN4QjtzQkFBTyxTQUFELEFBQVUsSUFBSyxXQUFmLEFBQWUsQUFBVyxLQUFLLFdBQXJDLEFBQXFDLEFBQVcsQUFDbkQ7QUFGRCxtQkFFTyxBQUFFO0FBQ0w7c0JBQU8sU0FBRCxBQUFVLElBQUssWUFBZixBQUFlLEFBQVksS0FBSyxZQUF0QyxBQUFzQyxBQUFZLEFBQ3JEO0FBQ0Q7Z0JBQUksVUFBVSxLQUFBLEFBQUssYUFBTCxBQUFrQixLQUFoQyxBQUFjLEFBQXVCLEFBQ3JDO2dCQUFJLFVBQVUsS0FBQSxBQUFLLFNBQVMsT0FBNUIsQUFBYyxBQUFtQixBQUNqQztvQkFBQSxBQUFRLE9BQVIsQUFBZSxBQUNmO2lCQUFBLEFBQUssV0FBTCxBQUFnQixBQUNoQjtpQkFBQSxBQUFLLFdBQUwsQUFBZ0IsQUFDaEI7aUJBQUEsQUFBSyxXQUFMLEFBQWdCLEFBQ2hCO21CQUFBLEFBQU8sQUFDVjtBQWhNb0IsQUFrTXJCOztBQUlBOzs7O3NCQUFlLHNCQUFBLEFBQVUsS0FBVixBQUFlO2dCQUN0QixXQUFKLEFBQWUsQUFDZjtnQkFBSSxVQUFVLEVBQUMsT0FBRCxBQUFTLE1BQU0sU0FBZixBQUF5QixPQUFPLFFBQWhDLEFBQXlDLE1BQU0sV0FBL0MsQUFBMkQsT0FBTyxLQUFoRixBQUFjLEFBQXdFLEFBRXRGOztnQkFBSSxPQUFKLEFBQVcsTUFBTSxBQUNiOzJCQUFXLE9BQVgsQUFBa0IsQUFDckI7QUFGRCxtQkFFTyxBQUNIOzJCQUFXLE9BQVgsQUFBa0IsQUFDckI7QUFDRDtvQkFBQSxBQUFRLFlBQVksQ0FBQyxXQUFELEFBQVksT0FBaEMsQUFBdUMsQUFDdkM7Z0JBQUksWUFBSixBQUFnQixLQUFLLEFBQ2pCO3dCQUFBLEFBQVEsUUFBUSxDQUFBLEFBQUMsU0FBRCxBQUFVLFNBQVYsQUFBbUIsUUFBbkIsQUFBMkIsUUFBM0IsQUFBbUMsT0FBbkMsQUFBMEMsVUFBMUMsQUFBb0QsV0FBcEQsQUFBK0QsU0FBUyxLQUFBLEFBQUssTUFBTSxXQUFuRyxBQUFnQixBQUF3RSxBQUFvQixBQUMvRztBQUZELHVCQUVXLFlBQUosQUFBZ0IsS0FBSyxBQUN4Qjt3QkFBQSxBQUFRLFVBQVIsQUFBa0IsQUFDbEI7d0JBQUEsQUFBUSxRQUFSLEFBQWdCLEFBQ25CO0FBSE0sYUFBQSxNQUdBLEFBQ0g7d0JBQUEsQUFBUSxTQUFVLEtBQUEsQUFBSyxNQUFNLENBQUMsV0FBRCxBQUFVLFFBQXRCLEFBQUMsQUFBMkIsS0FBN0MsQUFBaUQsQUFDcEQ7QUFDRDttQkFsQmdDLEFBa0JoQyxBQUFPLFFBbEJ5QixBQUNoQyxDQWlCZ0IsQUFDbkI7QUF6Tm9CLEFBMk5yQjs7QUFJQTs7OztvQkFBYSxvQkFBQSxBQUFTLEdBQVQsQUFBWSxHQUFHLEFBRXpCOztnQkFBSyxZQUFMLEFBQWlCO2dCQUNaLFlBREwsQUFDaUI7Z0JBQ1osWUFGTCxBQUVpQixBQUNaO0FBRUo7O2dCQUFJLEtBQUosQUFBUyxNQUFNLEFBQ1g7NEJBQUEsQUFBWSxBQUNaOzRCQUFZLElBQVosQUFBZ0IsQUFDbkI7QUFIRCxtQkFHTyxBQUNIOzRCQUFBLEFBQVksQUFDWjs0QkFBQSxBQUFZLEFBQ2Y7QUFDRDtnQkFBSSxRQUFBLEFBQVEsYUFBYSxhQUF6QixBQUFzQyxNQUFNLEFBQ3hDO0FBQ0E7b0JBQUksVUFBSixBQUFjLEFBQ2Q7b0JBQUksY0FBSixBQUFrQixNQUFNLEFBQ3BCOzhCQUFVLElBQVYsQUFBYyxBQUNqQjtBQUZELDJCQUVXLGNBQUosQUFBa0IsTUFBTSxBQUMzQjs4QkFBVSxJQUFWLEFBQWMsQUFDakI7QUFGTSxpQkFBQSxNQUVBLEFBQ0g7OEJBQVUsSUFBVixBQUFjLEFBQ2pCO0FBQ0Q7dUJBQUEsQUFBTyxJQUFQLEFBQVcsUUFBUSxtQkFBbUIsZUFBbkIsQUFBbUIsQUFBZSxXQUFsQyxBQUE2QyxrQkFBaEUsQUFBa0YsQUFDbEY7NEJBQVksQ0FBWixBQUFZLEFBQUMsQUFDaEI7QUFaRCxtQkFZTyxJQUFJLFFBQUEsQUFBUSxLQUFLLEtBQWpCLEFBQXNCLE1BQU0sQUFDL0I7NEJBQWEsTUFBRCxBQUFPLElBQUssQ0FBWixBQUFZLEFBQUMsS0FBSyxDQUFBLEFBQUMsR0FBL0IsQUFBOEIsQUFBSSxBQUNyQztBQUNEO2dCQUFBLEFBQUksV0FBVyxBQUNYO29CQUFJLFdBQVcsbUJBQWYsQUFBZSxBQUFtQixBQUNsQzt1QkFBQSxBQUFPLElBQVAsQUFBVyxTQUFTLG1CQUFtQixTQUFBLEFBQVMsS0FBaEQsQUFBdUMsQUFBYyxBQUNyRDtxQkFBQSxBQUFLLFdBQUwsQUFBZ0IsQUFDaEI7cUJBQUEsQUFBSyxXQUFMLEFBQWdCLEFBQ25CO0FBQ0Q7bUJBQUEsQUFBTyxBQUNWO0FBblFvQixBQXFRckI7O0FBSUE7Ozs7bUNBQTRCLG1DQUFBLEFBQVMsR0FBVCxBQUFZLEdBQUcsQUFDeEM7Z0JBQUEsQUFBSyxTQUFMLEFBQ0ssT0FETCxBQUVLLE1BRkwsQUFHSyxBQUVKOztnQkFBSSxRQUFRLENBQUMsTUFBQSxBQUFNLFFBQVEsTUFBZixBQUFxQixTQUFVLFFBQUEsQUFBUSxLQUFLLEtBQXhELEFBQTZELEFBQzdEO2dCQUFJLFFBQVEsQ0FBQyxNQUFBLEFBQU0sUUFBUSxNQUFmLEFBQXFCLFNBQVUsUUFBQSxBQUFPLEtBQUssS0FBdkQsQUFBNEQsQUFDNUQ7Z0JBQUksRUFBRSxTQUFOLEFBQUksQUFBVyxRQUFRLEFBQ25CO3VCQUFBLEFBQU8sQUFDVjtBQUNEO3NCQUFBLEFBQVUsQUFDVjtnQkFBSSxNQUFBLEFBQU8sUUFBUSxNQUFuQixBQUF5QixNQUFNLEFBQzNCO3dCQUFRLEtBQUEsQUFBSyxNQUFNLENBQUMsSUFBRCxBQUFHLFFBQXRCLEFBQVEsQUFBb0IsQUFDNUI7d0JBQUEsQUFBUSxhQUFhLGlCQUFyQixBQUFxQixBQUFpQixBQUN0QztvQkFBSSxJQUFBLEFBQUksTUFBUixBQUFjLEdBQUcsQUFDYjs0QkFBQSxBQUFRLGFBQWEsUUFBQSxBQUFRLGFBQTdCLEFBQTBDLEFBQzdDO0FBQ0o7QUFORCx1QkFNVyxNQUFKLEFBQVUsTUFBTSxBQUNuQjt3QkFBQSxBQUFRLGFBQVIsQUFBcUIsQUFDeEI7QUFGTSxhQUFBLE1BRUEsQUFDSDt3QkFBQSxBQUFRLGFBQVIsQUFBcUIsQUFDckI7b0JBQUksTUFBSixBQUFVLE1BQU0sQUFDWjs0QkFBQSxBQUFRLFlBQVIsQUFBb0IsQUFDdkI7QUFDSjtBQUNEO21CQUFRLElBQUQsQUFBSyxPQUFMLEFBQWEsSUFBcEIsQUFBd0IsQUFDeEI7c0JBQVUsS0FBQSxBQUFLLFNBQVMsT0FBeEIsQUFBVSxBQUFtQixBQUM3QjtvQkFBQSxBQUFRLFdBQVIsQUFBbUIsQUFDbkI7aUJBQUEsQUFBSyxXQUFMLEFBQWdCLEFBQ2hCO2lCQUFBLEFBQUssV0FBTCxBQUFnQixBQUNoQjttQkFBQSxBQUFPLEFBQ1Y7QUF6U29CLEFBMlNyQjs7QUFHQTs7O2VBQVEsaUJBQVcsQUFDZjtpQkFBSyxJQUFJLElBQVQsQUFBVyxHQUFJLElBQUksS0FBQSxBQUFLLFNBQXhCLEFBQWlDLFFBQWpDLEFBQTBDLEtBQUssQUFDM0M7b0JBQUksS0FBQSxBQUFLLFNBQVQsQUFBSSxBQUFjLElBQUksQUFDbEI7eUJBQUEsQUFBSyxTQUFMLEFBQWMsR0FBZCxBQUFpQixBQUNwQjtBQUNKO0FBQ0Q7aUJBQUEsQUFBSyxXQUFMLEFBQWdCLEFBQ2hCO2lCQUFBLEFBQUssV0FBTCxBQUFnQixBQUNuQjtBQXRUb0IsQUF3VHJCOztBQUdBOzs7d0JBQWlCLHdCQUFBLEFBQVMsR0FBRyxBQUN6QjtpQkFBSyxJQUFJLElBQVQsQUFBVyxHQUFJLElBQUksS0FBQSxBQUFLLFNBQXhCLEFBQWlDLFFBQWpDLEFBQTBDLEtBQUssQUFDM0M7b0JBQUksS0FBQSxBQUFLLFNBQVQsQUFBSSxBQUFjLElBQUksQUFDbEI7eUJBQUEsQUFBSyxTQUFMLEFBQWMsR0FBZCxBQUFpQixlQUFqQixBQUFnQyxBQUNuQztBQUNKO0FBQ0o7QUFqVUwsQUFBeUIsQUFvVXpCO0FBcFV5QixBQUVyQjs7QUF5VUo7Ozs7Ozs7UUFBSSxrQkFBa0IsU0FBbEIsQUFBa0IsZ0JBQUEsQUFBUyxLQUFULEFBQWMsVUFBZCxBQUF3QixNQUFNLEFBQ2hEO1lBQUksVUFBSixBQUFjO1lBQ1YsU0FESixBQUNhO1lBQ1QsVUFGSixBQUVjO1lBQ1YsbUJBSEosQUFHdUIsQUFDbkI7OztBQUNBO3NCQUFjLFNBQWQsQUFBYyxZQUFBLEFBQVUsYUFBVixBQUF1QixhQUF2QixBQUFvQyxLQUFwQyxBQUF5QyxLQUFLLEFBQ3hEO2dCQUFJLGdCQUFBLEFBQWdCLEtBQUssY0FBekIsQUFBdUMsR0FBRyxBQUN0Qzt1QkFBQSxBQUFPLEFBQ1Y7QUFDRDtnQkFBSSxjQUFjLElBQUEsQUFBSSxTQUF0QixBQUFrQixBQUFhLEFBQy9CO2dCQUFJLGVBQWUsSUFBQSxBQUFJLFVBQVUsTUFBakMsQUFBbUIsQUFBb0IsQUFDdkM7Z0JBQUksaUJBQWlCLElBQUEsQUFBSSxVQUFVLE1BQW5DLEFBQXFCLEFBQW9CLEFBQ3pDO2dCQUFJLG1CQUFtQixJQUFBLEFBQUksU0FBUyxNQUFwQyxBQUF1QixBQUFtQixBQUMxQzttQkFBTyxlQUFBLEFBQWUsUUFBUSxnQkFBdkIsQUFBdUMsUUFBUSxrQkFBL0MsQUFBaUUsY0FBYyxvQkFBdEYsQUFBMEcsQUFDN0c7QUFkTCxBQWVBO2VBQU8sU0FBUyxXQUFoQixBQUEyQixNQUFNLEFBQzdCO3NCQUFVLElBQUEsQUFBSSxVQUFkLEFBQVUsQUFBYyxBQUN4QjtzQkFBVSxJQUFBLEFBQUksU0FBUyxTQUFiLEFBQXNCLEtBQWhDLEFBQXFDLEFBQ3JDO0FBQ0E7Z0JBQUksWUFBSixBQUFnQixHQUFHLEFBQ2Y7QUFDQTtBQUNBO29CQUFJLE1BQU0sU0FBVixBQUFtQixBQUNuQjtvQkFBSSxjQUFjLENBQWxCLEFBQW1CLEFBQ25CO3VCQUFPLE1BQU0sU0FBQSxBQUFTLElBQVQsQUFBYSxVQUExQixBQUFvQyxHQUFHLEFBQUU7QUFDckM7a0NBQUEsQUFBYyxBQUNkO3dCQUFJLElBQUosQUFBUSxBQUNSOzJCQUFPLE1BQVAsQUFBYSxNQUFNLEFBQ2Y7NEJBQUksSUFBQSxBQUFJLFNBQVIsQUFBSSxBQUFhLEFBQ2pCO3VDQUFBLEFBQWUsQUFDZjtBQUNIO0FBQ0Q7d0JBQUksY0FBSixBQUFrQixBQUNsQjt3QkFBQSxBQUFJLEFBQ0o7MkJBQU8sTUFBUCxBQUFhLE1BQU0sQUFDZjs0QkFBSSxJQUFBLEFBQUksU0FBUixBQUFJLEFBQWEsQUFDakI7dUNBQUEsQUFBZSxBQUNmO0FBQ0g7QUFDRDt3QkFBSSxZQUFBLEFBQVksYUFBWixBQUF5QixhQUF6QixBQUFzQyxLQUExQyxBQUFJLEFBQTJDLE1BQU0sQUFDakQ7QUFDQTt5Q0FBQSxBQUFpQixLQUFLLENBQUEsQUFBQyxLQUF2QixBQUFzQixBQUFNLEFBQy9CO0FBQ0Q7MkJBQUEsQUFBTyxBQUNWO0FBQ0o7QUFDRDtzQkFBVSxVQUFWLEFBQW9CLEFBQ3ZCO0FBQ0Q7ZUFBQSxBQUFPLEFBQ1Y7QUFsREQsQUFvREE7O1FBQUksNkJBQTZCLFNBQTdCLEFBQTZCLDJCQUFBLEFBQVMsS0FBVCxBQUFjO1lBQ3ZDLE1BQU0sWUFBVixBQUFVLEFBQVksQUFDdEI7WUFBSSxZQUFZLENBQUEsQUFBQyxJQUFqQixBQUFnQixBQUFLLEFBRXJCOztlQUp3RCxBQUl4RCxBQUFPLEVBSmlELEFBQ3hELENBR1UsQUFDVjtZQUFJLFVBQVUsSUFBQSxBQUFJLFNBQUosQUFBYSxPQUEzQixBQUFrQyxBQUNsQztlQU53RCxBQU14RCxBQUFPLEdBQUcsQUFFVjs7YUFBSyxJQUFJLElBQVQsQUFBYSxHQUFHLElBQWhCLEFBQW9CLFNBQXBCLEFBQTZCLEtBQUssQUFDOUI7Z0JBQUksT0FBTyxJQUFBLEFBQUksU0FBZixBQUFXLEFBQWEsQUFDeEI7Z0JBQUksVUFBVSxPQUFkLEFBQXFCLEFBQ3JCO2dCQUFJLFNBQVMsT0FBYixBQUFvQixBQUNwQjtBQUNBO2dCQUFJLFVBQVUsSUFBQSxBQUFJLFNBTFksQUFLOUIsQUFBYyxBQUFhLE1BQU0sQUFDakM7QUFDQTtnQkFBSSxVQUFVLElBQUEsQUFBSSxTQVBZLEFBTzlCLEFBQWMsQUFBYSxNQUFNLEFBQ2pDO0FBQ0E7Z0JBQUksV0FBWSxDQUFDLFVBQUQsQUFBVyxTQUFTLFVBQXBCLEFBQThCLFVBQTlDLEFBQXdELEdBQUksQUFBRTtBQUMxRDtvQkFBSSxXQUFKLEFBQWUsR0FBRyxBQUNkOzhCQUFBLEFBQVUsR0FBVixBQUFhLEtBQWIsQUFBa0IsQUFDbEI7OEJBQUEsQUFBVSxHQUFWLEFBQWEsS0FBYixBQUFrQixBQUNyQjtBQUhELHVCQUdPLElBQUksV0FBSixBQUFlLEdBQUcsQUFDckI7OEJBQUEsQUFBVSxHQUFWLEFBQWEsS0FBYixBQUFrQixBQUNsQjs4QkFBQSxBQUFVLEdBQVYsQUFBYSxLQUFiLEFBQWtCLEFBQ3JCO0FBQ0o7QUFDSjtBQUNEO2VBQUEsQUFBTyxBQUNWO0FBNUJELEFBOEJBOztZQUFBLEFBQVEsU0FBUixBQUFpQixBQUNqQjtZQUFBLEFBQVEsV0FBUixBQUFtQixBQUNuQjtZQUFBLEFBQVEsZ0JBQVIsQUFBd0IsQUFDeEI7WUFBQSxBQUFRLGVBQVIsQUFBdUIsQUFDdkI7WUFBQSxBQUFRLGtCQUFSLEFBQTBCLEFBQzFCO1lBQUEsQUFBUSw2QkFBUixBQUFxQyxBQUV4QztBQTFyQ0EsR0EwckNDLE9BQUEsQUFBTyxZQUFQLEFBQW1CLGNBQWMsVUFBQSxBQUFLLGVBQXRDLEFBQXFELEtBMXJDdkQsQUFBQyxBQTByQzJEOzs7OztBQ3Z0QzNELFdBQUEsQUFBUyxTQUFTLEFBQ2Y7QUFFQTs7UUFBSSw0QkFBSixBQUFnQyxBQUNoQztRQUFJLDBCQUFKLEFBQThCLEFBQzlCO1FBQUksMEJBQUosQUFBOEIsQUFDOUI7UUFBSywwQkFBTCxBQUErQixBQUMvQjtRQUFJLDRCQUFKLEFBQWdDLEFBQ2hDO1FBQUksMEJBQUosQUFBOEIsQUFDOUI7UUFBSSwwQkFBSixBQUE4QixBQUU5Qjs7UUFBSSwrQkFBSixBQUFtQyxBQUNuQztRQUFJLDZCQUFKLEFBQWlDLEFBRWpDOztRQUFJLCtCQUFKLEFBQW1DLEFBQ25DO0FBQ0E7UUFBSSxtQkFBSixBQUF1QixBQUV2Qjs7UUFBSSxTQUFKLEFBQWE7UUFDVCxTQURKLEFBQ2E7UUFFVCxTQUhKLEFBR2E7UUFDVCxTQUpKLEFBSWE7UUFFVCxTQU5KLEFBTWE7UUFDVCxTQVBKLEFBT2E7UUFDVCxTQVJKLEFBUWE7UUFDVCxTQVRKLEFBU2E7UUFDVCxTQVZKLEFBVWE7UUFDVCxTQVhKLEFBV2E7UUFDVCxTQVpKLEFBWWE7UUFDVCxTQWJKLEFBYWE7UUFDVCxTQWRKLEFBY2E7UUFDVCxTQWZKLEFBZWE7UUFDVCxTQWhCSixBQWdCYTtRQUNULFNBakJKLEFBaUJhLEFBRWI7O1FBQUksVUFBSixBQUFjO1FBQ1YsVUFESixBQUNjO1FBQ1YsYUFGSixBQUVpQixBQUVqQjs7UUFBSSxxQkFBSixBQUF5Qjs7QUFBSyxBQUMxQjsyQkFESixBQUMyQjtRQUN2Qiw0QkFGSixBQUVnQztRQUM1QixxQkFISixBQUd5QixBQUV6Qjs7UUFBRyxPQUFBLEFBQU8sMEJBQVYsQUFBb0MsYUFBWSxBQUM1QztZQUFJOzJCQUFtQixBQUNKLEFBQ2Y7MkJBRm1CLEFBRUosQUFDZjsyQkFIbUIsQUFHSixBQUNmOzJCQUpKLEFBQXVCLEFBSUosQUFFdEI7QUFOMEIsQUFDbkI7QUFPUjs7UUFBSSx1QkFFSSxDQUFBLEFBQUMsTUFETCxBQUNJLEFBQU0sT0FDTixDQUFBLEFBQUMsTUFGTCxBQUVJLEFBQU0sT0FDTixDQUFBLEFBQUMsTUFITCxBQUdJLEFBQU0sU0FBUSxBQUNkO0tBQUEsQUFBQyxNQUpMLEFBSUksQUFBTSxPQUpWLEVBSW1CLEFBQ2Y7S0FBQSxBQUFDLE1BTEwsQUFLSSxBQUFNLFNBQ04sQ0FBQSxBQUFDLE1BTkwsQUFNSSxBQUFNLFNBQVMsQUFDZjtLQUFBLEFBQUMsTUFQTCxBQU9JLEFBQU0sU0FDTixDQUFBLEFBQUMsTUFSTCxBQVFJLEFBQU0sU0FDTixDQUFBLEFBQUMsTUFUTCxBQVNJLEFBQU0sU0FDTixDQUFBLEFBQUMsTUFWTCxBQVVJLEFBQU0sU0FDTixDQUFBLEFBQUMsTUFYTCxBQVdJLEFBQU0sU0FDTixDQUFBLEFBQUMsTUFaTCxBQVlJLEFBQU0sU0FDTixDQUFBLEFBQUMsTUFiTCxBQWFJLEFBQU0sU0FDTixDQUFBLEFBQUMsTUFkTCxBQWNJLEFBQU0sU0FDTixDQUFBLEFBQUMsTUFmTCxBQWVJLEFBQU0sU0FDTixDQUFBLEFBQUMsTUFoQkwsQUFnQkksQUFBTSxTQUNOLENBQUEsQUFBQyxNQWpCTCxBQWlCSSxBQUFNLFNBQ04sQ0FBQSxBQUFDLE1BbEJMLEFBa0JJLEFBQU0sU0FDTixDQUFBLEFBQUMsTUFuQkwsQUFtQkksQUFBTSxTQUNOLENBQUEsQUFBQyxNQXBCTCxBQW9CSSxBQUFNLFNBQ04sQ0FBQSxBQUFDLE1BckJMLEFBcUJJLEFBQU0sU0FDTixDQUFBLEFBQUMsTUF0QkwsQUFzQkksQUFBTSxTQUNOLENBQUEsQUFBQyxNQXZCTCxBQXVCSSxBQUFNLFNBQ04sQ0FBQSxBQUFDLE1BeEJMLEFBd0JJLEFBQU0sU0FDTixDQUFBLEFBQUMsTUF6QkwsQUF5QkksQUFBTSxTQUNOLENBQUEsQUFBQyxNQTFCTCxBQTBCSSxBQUFNLFNBQ04sQ0FBQSxBQUFDLE1BNUJULEFBQ0ksQUEyQkksQUFBTSxBQUdkOztRQUFJLGlCQUNBLENBQ0ksQ0FBQSxBQUFDLE1BQUQsQUFBTSxNQUFOLEFBQVcsTUFEZixBQUNJLEFBQWdCLE9BQ2hCLENBQUEsQUFBQyxNQUFELEFBQU0sTUFBTixBQUFXLE1BRmYsQUFFSSxBQUFnQixPQUNoQixDQUFBLEFBQUMsTUFBRCxBQUFNLE1BQU4sQUFBVyxNQUhmLEFBR0ksQUFBZ0IsT0FDaEIsQ0FBQSxBQUFDLE1BQUQsQUFBTSxNQUFOLEFBQVcsTUFKZixBQUlJLEFBQWdCLE9BQ2hCLENBQUEsQUFBQyxNQUFELEFBQU0sTUFBTixBQUFXLE1BTGYsQUFLSSxBQUFnQixPQUNoQixDQUFBLEFBQUMsTUFBRCxBQUFNLE1BQU4sQUFBVyxNQU5mLEFBTUksQUFBZ0IsT0FDaEIsQ0FBQSxBQUFDLE1BQUQsQUFBTSxNQUFOLEFBQVcsTUFSbkIsQUFDSSxBQU9JLEFBQWdCLEFBR3hCOztRQUFJLGlCQUNBLENBQ0ksQ0FBQSxBQUFDLE1BREwsQUFDSSxBQUFNLE9BQ04sQ0FBQSxBQUFDLE1BRkwsQUFFSSxBQUFNLE9BQ04sQ0FBQSxBQUFDLE1BSEwsQUFHSSxBQUFNLE9BQ04sQ0FBQSxBQUFDLE1BSkwsQUFJSSxBQUFNLE9BQ04sQ0FBQSxBQUFDLE1BTEwsQUFLSSxBQUFNLE9BQ04sQ0FBQSxBQUFDLE1BTkwsQUFNSSxBQUFNLE9BQ04sQ0FBQSxBQUFDLE1BUlQsQUFDSSxBQU9JLEFBQU0sQUFJZDs7UUFBSSxpQkFDQSxDQUNJLENBQUEsQUFBQyxNQUFELEFBQU0sTUFEVixBQUNJLEFBQVcsT0FDWCxDQUFBLEFBQUMsTUFBRCxBQUFNLE1BRlYsQUFFSSxBQUFXLE9BQ1gsQ0FBQSxBQUFDLE1BQUQsQUFBTSxNQUhWLEFBR0ksQUFBVyxPQUNYLENBQUEsQUFBQyxNQUFELEFBQU0sTUFKVixBQUlJLEFBQVcsT0FDWCxDQUFBLEFBQUMsTUFBRCxBQUFNLE1BTFYsQUFLSSxBQUFXLE9BQ1gsQ0FBQSxBQUFDLE1BQUQsQUFBTSxNQU5WLEFBTUksQUFBVyxPQUNYLENBQUEsQUFBQyxNQUFELEFBQU0sTUFSZCxBQUNJLEFBT0ksQUFBVyxBQUduQjs7UUFBSSxPQUFPLFNBQVAsQUFBTyxLQUFBLEFBQVMsR0FBRyxBQUNuQjtlQUFPLEtBQVAsQUFBWSxBQUNmO0FBRkQsQUFHQTtRQUFJLE9BQU8sU0FBUCxBQUFPLEtBQUEsQUFBUyxHQUFHLEFBQ25CO2VBQVEsS0FBRCxBQUFNLElBQWIsQUFBa0IsQUFDckI7QUFGRCxBQUdBO1FBQUksT0FBTyxTQUFQLEFBQU8sS0FBQSxBQUFVLEdBQUcsQUFDcEI7ZUFBUSxLQUFELEFBQU0sSUFBYixBQUFrQixBQUNyQjtBQUZELEFBR0E7UUFBSSxPQUFPLFNBQVAsQUFBTyxLQUFBLEFBQVUsR0FBRyxBQUNwQjtlQUFRLEtBQUQsQUFBTSxJQUFiLEFBQWtCLEFBQ3JCO0FBRkQsQUFHQTtRQUFJLE9BQU8sU0FBUCxBQUFPLEtBQUEsQUFBVSxHQUFHLEFBQ3BCO2VBQVEsS0FBRCxBQUFNLElBQWIsQUFBa0IsQUFDckI7QUFGRCxBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtRQUFJLE9BQU8sU0FBUCxBQUFPLEtBQUEsQUFBUyxHQUFHLEFBQ25CO2VBQVEsS0FBUixBQUFhLEFBQ2hCO0FBRkQsQUFHQTtBQUNBO0FBQ0E7QUFDQTtRQUFJLE9BQU8sU0FBUCxBQUFPLEtBQUEsQUFBUyxHQUFHLEFBQ25CO2VBQVMsS0FBRCxBQUFNLElBQWQsQUFBbUIsQUFDdEI7QUFGRCxBQUdBO0FBQ0E7QUFDQTtBQUNBO1FBQUksT0FBTyxTQUFQLEFBQU8sS0FBQSxBQUFTLEdBQUcsQUFDbkI7ZUFBUyxLQUFELEFBQU0sSUFBZCxBQUFtQixBQUN0QjtBQUZELEFBR0E7QUFDQTtBQUNBO0FBQ0E7UUFBSSxPQUFPLFNBQVAsQUFBTyxLQUFBLEFBQVMsR0FBRyxBQUNuQjtlQUFRLElBQVIsQUFBWSxBQUNmO0FBRkQsQUFJQTs7QUFDQTtRQUFJLE9BQU8sU0FBUCxBQUFPLEtBQUEsQUFBUyxHQUFHLEFBQ25CO2VBQVEsS0FBUixBQUFhLEFBQ2hCO0FBRkQsQUFHQTtBQUNBO0FBQ0E7QUFDQTtRQUFJLE9BQU8sU0FBUCxBQUFPLEtBQUEsQUFBUyxHQUFHLEFBQ25CO2VBQVMsS0FBRCxBQUFNLElBQWQsQUFBbUIsQUFDdEI7QUFGRCxBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO1FBQUksT0FBTyxTQUFQLEFBQU8sS0FBQSxBQUFTLEdBQUUsQUFDbEI7ZUFBUSxJQUFSLEFBQVksQUFDZjtBQUZELEFBSUE7O0FBQ0E7UUFBSSxPQUFPLFNBQVAsQUFBTyxLQUFBLEFBQVMsR0FBRyxBQUNuQjtlQUFRLEtBQVIsQUFBYSxBQUNoQjtBQUZELEFBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7UUFBSSxPQUFPLFNBQVAsQUFBTyxLQUFBLEFBQVMsR0FBRyxBQUNuQjtlQUFRLElBQVIsQUFBWSxBQUNmO0FBRkQsQUFJQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtRQUFJLE9BQU8sU0FBUCxBQUFPLEtBQUEsQUFBUyxHQUFHLEFBQ25CO2VBQVEsSUFBUixBQUFZLEFBQ2Y7QUFGRCxBQUlBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO1FBQUksT0FBTyxTQUFQLEFBQU8sS0FBQSxBQUFTLEdBQUcsQUFDbkI7ZUFBUSxJQUFSLEFBQVksQUFDZjtBQUZELEFBSUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7UUFBSSxPQUFPLFNBQVAsQUFBTyxLQUFBLEFBQVMsR0FBRyxBQUNuQjtlQUFRLElBQVIsQUFBWSxBQUNmO0FBRkQsQUFJQTs7QUFHQTs7O1FBQUk7dUJBQ2dCLEVBQUMsUUFBRCxBQUFVLEdBQUcsU0FBYixBQUF1QixHQUFHLFFBQTFCLEFBQW1DLEdBQUcsV0FBdEMsQUFBa0QsR0FBRyxRQUFyRCxBQUE4RCxHQUFHLFNBRHhFLEFBQ08sQUFBMkUsQUFDM0Y7Y0FGUyxBQUVGLEFBQ1A7c0JBSFMsQUFHTSxHQUFHLEFBQ2xCO2lCQUFVLGlCQUFBLEFBQVMsU0FBUyxBQUN4QjtpQkFBQSxBQUFLLE9BQUwsQUFBWSxBQUNmO0FBTlEsQUFPVDthQUFNLGFBQUEsQUFBUyxVQUFULEFBQW1CLEtBQUssQUFDMUI7Z0JBQUksV0FBVyxLQUFBLEFBQUssY0FBcEIsQUFBZSxBQUFtQixBQUNsQztnQkFBSSxLQUFBLEFBQUssZ0JBQVQsQUFBeUIsVUFBVSxBQUMvQjt3QkFBQSxBQUFRLElBQUksS0FBQSxBQUFLLE9BQUwsQUFBWSxPQUFaLEFBQW1CLFdBQW5CLEFBQThCLE9BQTFDLEFBQWlELEFBQ3BEO0FBQ0o7QUFaUSxBQWFUO3FCQUFhLHFCQUFBLEFBQVUsT0FBTyxBQUMxQjtpQkFBQSxBQUFLLGVBQUwsQUFBb0IsQUFDdkI7QUFmTCxBQUFhLEFBa0JiO0FBbEJhLEFBQ1Q7O1FBaUJBLHFCQUFxQixTQUFyQixBQUFxQixtQkFBQSxBQUFTLFVBQVUsQUFDeEM7WUFBSSxXQUFKLEFBQWUsQUFDZjthQUFLLElBQUksSUFBVCxBQUFhLEdBQUcsSUFBSSxTQUFwQixBQUE2QixRQUE3QixBQUFxQyxLQUFLLEFBQ3RDO3FCQUFBLEFBQVMsS0FBSyxTQUFBLEFBQVMsR0FBVCxBQUFZLFNBQTFCLEFBQWMsQUFBcUIsQUFDdEM7QUFDRDtlQUFBLEFBQU8sQUFDVjtBQU5ELEFBUUE7O1FBQUksZUFBZSxTQUFmLEFBQWUsYUFBQSxBQUFVLE9BQVYsQUFBaUIsT0FBTyxBQUN2QztlQUFPLE1BQUEsQUFBTSxlQUFiLEFBQU8sQUFBcUIsQUFDL0I7QUFGRCxBQUlBOztRQUFJLGtCQUFrQixTQUFsQixBQUFrQixnQkFBQSxBQUFTLFFBQVQsQUFBaUIsVUFBakIsQUFBMkIsVUFBVSxBQUN2RDthQUFLLElBQUksSUFBVCxBQUFhLEdBQUksSUFBSSxPQUFyQixBQUE0QixRQUE1QixBQUFvQyxLQUFLLEFBQ3JDO2dCQUFJLFFBQVEsT0FBWixBQUFZLEFBQU8sQUFDbkI7Z0JBQUksYUFBQSxBQUFhLFVBQWpCLEFBQUksQUFBdUIsUUFBUSxBQUMvQjt5QkFBQSxBQUFTLFNBQVMsU0FBbEIsQUFBa0IsQUFBUyxBQUM5QjtBQUNKO0FBQ0Q7ZUFBQSxBQUFPLEFBQ1Y7QUFSRCxBQVVBOztRQUFJLHNCQUFzQixTQUF0QixBQUFzQixvQkFBQSxBQUFTLFFBQVQsQUFBaUIsV0FBVSxBQUNqRDtvQkFBWSxPQUFBLEFBQU8sYUFBUCxBQUFxQixjQUFyQixBQUFtQyxPQUEvQyxBQUFzRCxBQUN0RDtZQUFJLFNBQUosQUFBYSxTQUNiLEFBQ0k7bUJBQUEsQUFBTyxJQUFQLEFBQVcsQUFDWDttQkFBQSxBQUFPLEFBQ1Y7QUFDRDtZQUFJLE1BQU0sU0FBVixBQUFtQixBQUVuQjs7WUFBQSxBQUFJLFdBQ0osQUFDSTttQkFBTyxNQUFQLEFBQWEsQUFDaEI7QUFDRDtlQUFBLEFBQU8sQUFDVjtBQWRELEFBZ0JBOztRQUFJLHNCQUFzQixTQUF0QixBQUFzQixvQkFBQSxBQUFTLE1BQVQsQUFBZSxXQUFVLEFBQy9DO29CQUFZLE9BQUEsQUFBTyxhQUFQLEFBQXFCLGNBQXJCLEFBQW1DLE9BQS9DLEFBQXNELEFBQ3REO1lBQUksU0FBSixBQUFhLEFBQ2I7WUFBQSxBQUFJLFdBQ0osQUFDSTtvQkFBQSxBQUFRLEFBQ1g7QUFDRDtZQUFJLFNBQUosQUFBYSxHQUNiLEFBQ0k7bUJBQUEsQUFBTyxBQUNWO0FBRUQ7O2lCQUFVLE9BQVYsQUFBZSxBQUNmO2VBQUEsQUFBTyxBQUNWO0FBZEQsQUFnQkE7O1FBQUksc0JBQXNCLFNBQXRCLEFBQXNCLG9CQUFBLEFBQVMsV0FBVCxBQUFvQixXQUFVLEFBQ3BEO29CQUFhLE9BQUEsQUFBTyxhQUFQLEFBQXFCLGNBQXJCLEFBQW1DLE9BQWhELEFBQXVELEFBQ3ZEO1lBQUksWUFBSixBQUFnQixJQUFLLEFBQ3JCO0FBQ0k7dUJBQUEsQUFBTyxJQUFQLEFBQVcsQUFDWDt1QkFBQSxBQUFPLEFBQ1Y7QUFDRDtZQUFJLE1BQU0sU0FBVSxZQUFELEFBQWEsS0FBaEMsQUFBVSxBQUEwQixBQUVwQzs7WUFBQSxBQUFJLFdBQ0osQUFDSTttQkFBTyxNQUFQLEFBQWEsQUFDaEI7QUFDRDtlQUFBLEFBQU8sQUFDVjtBQWRELEFBZ0JBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7UUFBSSxhQUFhLFNBQWIsQUFBYSxXQUFBLEFBQVUsTUFBVixBQUFnQixTQUFoQixBQUF5QixTQUF6QixBQUFrQyxTQUFsQyxBQUEyQyxTQUEzQyxBQUFvRCxXQUFXLEFBQzVFO29CQUFZLE9BQUEsQUFBTyxhQUFQLEFBQXFCLGNBQXJCLEFBQW1DLE9BQS9DLEFBQXNELEFBRXREOztZQUFHLFVBQUgsQUFBYSxTQUFRLEFBQ2pCO2lCQUFBLEFBQUssTUFBTSxvQkFBQSxBQUFvQixTQUEvQixBQUFXLEFBQTZCLEFBQzNDO0FBQ0Q7WUFBRyxVQUFILEFBQWEsU0FBUSxBQUNqQjtpQkFBQSxBQUFLLFNBQVMsb0JBQXFCLFVBQXJCLEFBQStCLEdBQTdDLEFBQWMsQUFBbUMsQUFDcEQ7QUFFRDs7WUFBRyxVQUFILEFBQWEsU0FBUSxBQUNqQjtpQkFBQSxBQUFLLE9BQU8sb0JBQUEsQUFBb0IsU0FBaEMsQUFBWSxBQUE2QixBQUM1QztBQUNEO1lBQUcsVUFBSCxBQUFhLFNBQVEsQUFDakI7aUJBQUEsQUFBSyxRQUFRLG9CQUFxQixVQUFyQixBQUErQixHQUE1QyxBQUFhLEFBQW1DLEFBQ25EO0FBQ0Q7ZUFBQSxBQUFPLEFBQ1Y7QUFqQkQsQUFxQkE7O1FBQUksUUFBUSxTQUFSLEFBQVEsTUFBQSxBQUFVLEtBQVYsQUFBZSxPQUFmLEFBQXNCLE1BQXRCLEFBQTRCLE9BQU8sQUFDM0M7YUFBQSxBQUFLLE1BQU0sT0FBWCxBQUFrQixBQUNsQjthQUFBLEFBQUssUUFBUSxTQUFiLEFBQXNCLEFBQ3RCO2FBQUEsQUFBSyxPQUFPLFFBQVosQUFBb0IsQUFDcEI7YUFBQSxBQUFLLFFBQVEsU0FBYixBQUFzQixBQUN6QjtBQUxELEFBT0E7O1VBQUEsQUFBTTtlQUNLLGlCQUFZLEFBQ2Y7QUFDQTtpQkFBQSxBQUFLLE1BQUwsQUFBVyxBQUNYO2lCQUFBLEFBQUssUUFBTCxBQUFhLEFBQ2I7aUJBQUEsQUFBSyxPQUFMLEFBQVksQUFDWjtpQkFBQSxBQUFLLFFBQUwsQUFBYSxBQUNoQjtBQVBhLEFBU2Q7O21CQUFXLHFCQUFZLEFBQ25CO21CQUFRLEtBQUEsQUFBSyxRQUFOLEFBQWMsUUFBVSxLQUFBLEFBQUssVUFBN0IsQUFBdUMsUUFBVSxLQUFBLEFBQUssU0FBdEQsQUFBK0QsUUFBVSxLQUFBLEFBQUssVUFBckYsQUFBK0YsQUFDbEc7QUFYYSxBQWFkOztrQkFBVSxrQkFBQSxBQUFVLFVBQVUsQUFDMUI7Z0JBQUcsQ0FBSCxBQUFJLFVBQVMsQUFDVDt1QkFBQSxBQUFPLEFBQ1Y7QUFDRjtBQUNDO2dCQUFJLFNBQVMsQ0FBQSxBQUFDLE9BQUQsQUFBUSxTQUFSLEFBQWlCLFFBQTlCLEFBQWEsQUFBeUIsQUFDdEM7NEJBQUEsQUFBZ0IsUUFBaEIsQUFBd0IsVUFBeEIsQUFBa0MsQUFDbEM7bUJBQUEsQUFBTyxBQUNWO0FBckJhLEFBc0JkO2dCQUFRLGdCQUFBLEFBQVUsT0FBTyxBQUNyQjttQkFBVSxLQUFBLEFBQUssUUFBUSxNQUFkLEFBQW9CLE9BQzVCLEtBQUEsQUFBSyxVQUFVLE1BRFAsQUFDYSxTQUNyQixLQUFBLEFBQUssU0FBUyxNQUZOLEFBRVksUUFDcEIsS0FBQSxBQUFLLFVBQVUsTUFIaEIsQUFHc0IsQUFDekI7QUEzQkwsQUFBa0IsQUE4QmxCO0FBOUJrQixBQUNkOztRQTZCQyxvQkFBb0IsU0FBcEIsQUFBb0Isa0JBQUEsQUFBVSxZQUFWLEFBQXNCLGlCQUF0QixBQUF1QzthQUM1RCxBQUFLLGFBRG9FLEFBQ3pFLEFBQWtCLFdBRHVELEFBQ3pFLENBQWlELEFBQ2pEO2FBQUEsQUFBSyxrQkFGb0UsQUFFekUsQUFBdUIsaUJBQStCLEFBQ3REO2FBQUEsQUFBSyxjQUhvRSxBQUd6RSxBQUFtQixhQUErQixBQUNyRDtBQUpELEFBTUE7O3NCQUFBLEFBQWtCO2VBQ1AsaUJBQVksQUFDZjtpQkFBQSxBQUFLLGFBQUwsQUFBa0IsQUFDbEI7aUJBQUEsQUFBSyxrQkFBTCxBQUF1QixBQUN2QjtpQkFBQSxBQUFLLGNBQUwsQUFBbUIsQUFDdEI7QUFMeUIsQUFPMUI7OzhCQUFzQiw4QkFBQSxBQUFTLHNCQUFxQixBQUNoRDtnQkFBRyxDQUFILEFBQUksc0JBQXFCLEFBQ3JCO0FBQ0g7QUFDRDtnQkFBSSxTQUFVLENBQUEsQUFBQyxjQUFELEFBQWUsbUJBQTdCLEFBQWMsQUFBa0MsQUFDaEQ7NEJBQUEsQUFBZ0IsUUFBaEIsQUFBd0Isc0JBQXhCLEFBQThDLEFBQ2pEO0FBYnlCLEFBZTFCOzttQkFBVyxxQkFBWSxBQUNuQjttQkFBUSxNQUFNLEtBQVAsQUFBWSxjQUFnQixNQUFNLEtBQWxDLEFBQXVDLG1CQUFxQixNQUFNLEtBQXpFLEFBQThFLEFBQ2pGO0FBakJMLEFBQThCLEFBb0I5QjtBQXBCOEIsQUFDMUI7O1FBbUJBLFVBQVUsU0FBVixBQUFVLFFBQUEsQUFBVSxLQUFWLEFBQWUsTUFBZixBQUFxQixRQUFyQixBQUE2QjthQUN2QyxBQUFLLE1BQU0sT0FEbUMsQUFDOUMsQUFBa0IsV0FENEIsQUFDOUMsQ0FBb0MsQUFDcEM7YUFBQSxBQUFLLE9BQU0sUUFGbUMsQUFFOUMsQUFBbUIsWUFBaUIsQUFDcEM7YUFBQSxBQUFLLFNBQVMsVUFIZ0MsQUFHOUMsQUFBd0IsWUFBZSxBQUN2QzthQUFBLEFBQUssUUFBUSxTQUFiLEFBQXNCLEFBQ3pCO0FBTEQsQUFPQTs7WUFBQSxBQUFRO2VBQ0csaUJBQVksQUFDZjtpQkFBQSxBQUFLLE1BQUwsQUFBVyxBQUNYO2lCQUFBLEFBQUssT0FBTCxBQUFZLEFBQ1o7aUJBQUEsQUFBSyxTQUFMLEFBQWMsQUFDZDtpQkFBQSxBQUFLLFFBQUwsQUFBYSxBQUNoQjtBQU5lLEFBUWhCOztjQUFNLGNBQUEsQUFBVSxTQUFTLEFBQ3JCO2lCQUFBLEFBQUssTUFBTSxRQUFYLEFBQW1CLEFBQ25CO2lCQUFBLEFBQUssT0FBTyxRQUFaLEFBQW9CLEFBQ3BCO2lCQUFBLEFBQUssU0FBUyxRQUFkLEFBQXNCLEFBQ3RCO2lCQUFBLEFBQUssUUFBUSxRQUFiLEFBQXFCLEFBQ3hCO0FBYmUsQUFlaEI7O2lCQUFTLGlCQUFBLEFBQVUsU0FBUyxBQUN4QjtnQkFBRyxDQUFILEFBQUksU0FBUSxBQUNSO0FBQ0g7QUFFRDs7Z0JBQUksU0FBUyxDQUFBLEFBQUMsT0FBRCxBQUFRLFFBQVIsQUFBZ0IsVUFBN0IsQUFBYSxBQUEwQixBQUN2Qzs0QkFBQSxBQUFnQixRQUFoQixBQUF3QixTQUF4QixBQUFpQyxBQUVqQzs7bUJBQUEsQUFBTyxJQUFQLEFBQVcsU0FBUyxjQUFBLEFBQWMsU0FBUyxLQUF2QixBQUE0QixNQUE1QixBQUFrQyxRQUFRLEtBQTFDLEFBQStDLE9BQS9DLEFBQ2hCLFNBQVMsS0FETyxBQUNGLFNBREUsQUFDTyxTQUFTLEtBRHBDLEFBQ3lDLEFBQzVDO0FBekJlLEFBMkJoQjs7bUJBQVcscUJBQVksQUFDbkI7bUJBQVMsS0FBQSxBQUFLLFFBQU4sQUFBYyxjQUFnQixLQUFBLEFBQUssU0FBbkMsQUFBNEMsY0FDbkQsS0FBQSxBQUFLLFdBREUsQUFDUyxjQUFnQixLQUFBLEFBQUssVUFEdEMsQUFDZ0QsQUFDbkQ7QUE5QkwsQUFBb0IsQUFpQ3BCO0FBakNvQixBQUNoQjs7UUFnQ0EsV0FBVyxTQUFYLEFBQVcsU0FBQSxBQUFVLElBQVYsQUFBYzthQUN6QixBQUFLLGlCQUQ0QixBQUNqQyxBQUFzQixHQURXLEFBQ2pDLENBQTRCLEFBQzVCO2FBQUEsQUFBSyxhQUFMLEFBQWtCLEFBQ2xCO2FBQUEsQUFBSyxPQUFPLElBQVosQUFBWSxBQUFJLEFBQ2hCO2FBQUEsQUFBSyxrQkFBa0IsSUFBdkIsQUFBdUIsQUFBSSxBQUMzQjthQUFBLEFBQUssZ0JBQWdCLElBQXJCLEFBQXFCLEFBQUksQUFDekI7YUFBQSxBQUFLLG9CQUFvQixJQUF6QixBQUF5QixBQUFJLEFBQ2hDO0FBUEQsQUFTQTs7YUFBQSxBQUFTO2VBQ0UsaUJBQVksQUFDZjtpQkFBQSxBQUFLLGlCQUFMLEFBQXNCLEFBQ3RCO2lCQUFBLEFBQUssYUFBTCxBQUFrQixBQUNsQjtpQkFBQSxBQUFLLEtBQUwsQUFBVSxBQUNWO2lCQUFBLEFBQUssZ0JBQUwsQUFBcUIsQUFDckI7aUJBQUEsQUFBSyxjQUFMLEFBQW1CLEFBQ25CO2lCQUFBLEFBQUssa0JBQUwsQUFBdUIsQUFDMUI7QUFSZ0IsQUFVakI7O3FCQUFhLHFCQUFBLEFBQVUsYUFBYSxBQUNoQztnQkFBRyxDQUFILEFBQUksYUFBWSxBQUNaO0FBQ0g7QUFFRDs7Z0JBQUcsYUFBQSxBQUFhLGFBQWhCLEFBQUcsQUFBMEIsbUJBQWtCLEFBQzNDO3FCQUFBLEFBQUssaUJBQWlCLFlBQXRCLEFBQWtDLEFBQ3JDO0FBQ0Q7Z0JBQUcsYUFBQSxBQUFhLGFBQWhCLEFBQUcsQUFBMEIsZUFBYyxBQUN2QztxQkFBQSxBQUFLLGFBQWEsWUFBbEIsQUFBOEIsQUFDakM7QUFFRDs7Z0JBQUcsYUFBQSxBQUFhLGFBQWhCLEFBQUcsQUFBMEIsU0FBUSxBQUNqQztxQkFBQSxBQUFLLEtBQUwsQUFBVSxRQUFRLFlBQWxCLEFBQThCLEFBQ2pDO0FBQ0Q7Z0JBQUcsYUFBQSxBQUFhLGFBQWhCLEFBQUcsQUFBMEIsb0JBQW1CLEFBQzVDO3FCQUFBLEFBQUssZ0JBQUwsQUFBcUIsU0FBUyxZQUE5QixBQUEwQyxBQUM3QztBQUNEO2dCQUFHLGFBQUEsQUFBYSxhQUFoQixBQUFHLEFBQTBCLGtCQUFpQixBQUMxQztxQkFBQSxBQUFLLGNBQUwsQUFBbUIsU0FBUyxZQUE1QixBQUF3QyxBQUMzQztBQUNEO2dCQUFHLGFBQUEsQUFBYSxhQUFoQixBQUFHLEFBQTBCLHNCQUFxQixBQUM5QztxQkFBQSxBQUFLLGtCQUFMLEFBQXVCLHFCQUFxQixZQUE1QyxBQUF3RCxBQUMzRDtBQUNKO0FBbENnQixBQW1DakI7bUJBQVcscUJBQVksQUFDbkI7bUJBQVEsTUFBTSxLQUFQLEFBQVksa0JBQW9CLE1BQU0sS0FBdEMsQUFBMkMsY0FBZSxLQUFBLEFBQUssS0FBL0QsQUFBMEQsQUFBVSxlQUN2RSxLQUFBLEFBQUssZ0JBREYsQUFDSCxBQUFxQixlQUFlLEtBQUEsQUFBSyxjQUR0QyxBQUNpQyxBQUFtQixlQUN2RCxLQUFBLEFBQUssa0JBRlQsQUFFSSxBQUF1QixBQUM5QjtBQXZDTCxBQUFxQixBQTJDckI7O0FBM0NxQixBQUNqQjs7UUEwQ0EsaUJBQWlCLFNBQWpCLEFBQWlCLGVBQUEsQUFBVyxRQUFYLEFBQW1CLFdBQW5CLEFBQThCLFVBQTlCLEFBQXdDLFFBQXhDLEFBQWdELFFBQVEsQUFDekU7YUFBQSxBQUFLLFNBQVMsVUFBZCxBQUF3QixBQUN4QjthQUFBLEFBQUssWUFBWSxhQUFqQixBQUE4QixBQUM5QjthQUFBLEFBQUssV0FBTCxBQUFnQixBQUNoQjthQUFBLEFBQUssVUFBTCxBQUFlLEFBQ2Y7YUFBQSxBQUFLLFNBQUwsQUFBYyxBQUNkO2FBQUEsQUFBSyxZQUFZLElBQWpCLEFBQWlCLEFBQUksQUFDeEI7QUFQRCxBQVNBOzttQkFBQSxBQUFlO2VBQ0osaUJBQVksQUFDZjtpQkFBQSxBQUFLLFNBQUwsQUFBYyxBQUNkO2lCQUFBLEFBQUssWUFBTCxBQUFpQixBQUNqQjtpQkFBQSxBQUFLLFdBQUwsQUFBZ0IsQUFDaEI7aUJBQUEsQUFBSyxVQUFMLEFBQWUsQUFDZjtpQkFBQSxBQUFLLFNBQUwsQUFBYyxBQUNkO2lCQUFBLEFBQUssVUFBTCxBQUFlLEFBQ2xCO0FBUnNCLEFBVXZCOzttQkFBWSxxQkFBVyxBQUNuQjttQkFBUSxLQUFBLEFBQUssVUFBTCxBQUFlLGVBQWUsQ0FBQyxLQUEvQixBQUFvQyxhQUFhLENBQUMsS0FBbEQsQUFBdUQsVUFDL0QsS0FBQSxBQUFLLGFBREcsQUFDVSxLQUFLLEtBQUEsQUFBSyxZQURwQixBQUNnQyxLQUFLLEtBQUEsQUFBSyxXQURsRCxBQUM2RCxBQUNoRTtBQWJzQixBQWV2Qjs7MkJBQW1CLDJCQUFBLEFBQVUsbUJBQW1CLEFBQzVDO2dCQUFHLENBQUgsQUFBSSxtQkFBa0IsQUFDbEI7dUJBQUEsQUFBTyxBQUNWO0FBQ0Q7QUFDQTtnQkFBSSxTQUFTLENBQUEsQUFBQyxVQUFELEFBQVcsYUFBWCxBQUF3QixZQUF4QixBQUFvQyxVQUFqRCxBQUFhLEFBQThDLEFBQzNEOzRCQUFBLEFBQWdCLFFBQWhCLEFBQXdCLG1CQUF4QixBQUEyQyxBQUMzQztnQkFBRyxhQUFBLEFBQWEsbUJBQWhCLEFBQUcsQUFBZ0MsY0FBYSxBQUM1QztxQkFBQSxBQUFLLFVBQUwsQUFBZSxTQUFTLGtCQUF4QixBQUEwQyxBQUM3QztBQUNEO21CQUFBLEFBQU8sQUFDVjtBQTFCc0IsQUE0QnZCOztnQkFBUSxnQkFBQSxBQUFVLE9BQU8sQUFDckI7bUJBQVUsS0FBQSxBQUFLLFdBQVcsTUFBakIsQUFBdUIsVUFDL0IsS0FBQSxBQUFLLGNBQWMsTUFEWCxBQUNpQixhQUN6QixLQUFBLEFBQUssYUFBYSxNQUZWLEFBRWdCLFlBQ3hCLEtBQUEsQUFBSyxZQUFZLE1BSFQsQUFHZSxXQUN2QixLQUFBLEFBQUssV0FBVyxNQUpSLEFBSWMsVUFDdkIsS0FBQSxBQUFLLFVBQUwsQUFBZSxPQUxmLEFBS0EsQUFBc0IsQUFDekI7QUFuQ0wsQUFBMkIsQUFzQzNCO0FBdEMyQixBQUN2Qjs7UUFxQ0EsV0FBVyxTQUFYLEFBQVcsU0FBQSxBQUFVLFVBQVYsQUFBb0IsV0FBVyxBQUMxQzthQUFBLEFBQUssV0FBVyxZQUFoQixBQUE0QixBQUM1QjthQUFBLEFBQUssWUFBWSxhQUFqQixBQUE4QixBQUM5QjthQUFBLEFBQUssWUFBWSxJQUFqQixBQUFpQixBQUFJLEFBQ3hCO0FBSkQsQUFNQTs7YUFBQSxBQUFTO2VBQ0UsaUJBQVksQUFDZjtpQkFBQSxBQUFLLFdBQUwsQUFBZ0IsQUFDaEI7aUJBQUEsQUFBSyxZQUFMLEFBQWlCLEFBQ2pCO2lCQUFBLEFBQUssVUFBTCxBQUFlLEFBQ2xCO0FBTGdCLEFBT2pCOzttQkFBWSxxQkFBVyxBQUNuQjttQkFBUSxLQUFBLEFBQUssVUFBTCxBQUFlLGVBQWUsS0FBQSxBQUFLLGFBQW5DLEFBQWdELEtBQUssS0FBQSxBQUFLLGNBQWxFLEFBQWdGLEFBQ25GO0FBVGdCLEFBV2pCOztxQkFBYSxxQkFBQSxBQUFVLGFBQWEsQUFDaEM7Z0JBQUcsQ0FBSCxBQUFJLGFBQVksQUFDWjt1QkFBQSxBQUFPLEFBQ1Y7QUFDRDtBQUNBO0FBQ0E7Z0JBQUcsYUFBQSxBQUFhLGFBQWhCLEFBQUcsQUFBMEIsYUFBWSxBQUNyQztxQkFBQSxBQUFLLFdBQVcsWUFBaEIsQUFBNEIsQUFDL0I7QUFDRDtnQkFBRyxhQUFBLEFBQWEsYUFBaEIsQUFBRyxBQUEwQixjQUFhLEFBQ3RDO3FCQUFBLEFBQUssWUFBWSxZQUFqQixBQUE2QixBQUNoQztBQUNEO2dCQUFHLGFBQUEsQUFBYSxhQUFoQixBQUFHLEFBQTBCLGNBQWEsQUFDdEM7cUJBQUEsQUFBSyxVQUFMLEFBQWUsU0FBUyxZQUF4QixBQUFvQyxBQUN2QztBQUNEO21CQUFBLEFBQU8sQUFDVjtBQTNCZ0IsQUE2QmpCOztnQkFBUSxnQkFBQSxBQUFVLE9BQU8sQUFDckI7bUJBQVMsS0FBQSxBQUFLLGFBQWEsTUFBbkIsQUFBeUIsWUFDaEMsS0FBQSxBQUFLLGNBQWMsTUFEWixBQUNrQixhQUMxQixLQUFBLEFBQUssVUFBTCxBQUFlLE9BQU8sTUFGdEIsQUFFQSxBQUE0QixBQUMvQjtBQWpDTCxBQUFxQixBQW9DckI7QUFwQ3FCLEFBQ2pCOztRQW1DQSxXQUFXLFNBQVgsQUFBVyxTQUFBLEFBQVMsVUFBVCxBQUFtQixnQkFBZSxBQUM3QzthQUFBLEFBQUssV0FBVyxJQUFBLEFBQUksU0FBcEIsQUFBZ0IsQUFBYSxBQUM3QjthQUFBLEFBQUssaUJBQWlCLElBQUEsQUFBSSxlQUExQixBQUFzQixBQUFtQixBQUM1QztBQUhELEFBS0E7O2FBQUEsQUFBUztlQUNFLGlCQUFVLEFBQ2I7aUJBQUEsQUFBSyxTQUFMLEFBQWMsQUFDZDtpQkFBQSxBQUFLLGVBQUwsQUFBb0IsQUFDdkI7QUFKZ0IsQUFNakI7O21CQUFXLHFCQUFVLEFBQ2pCO21CQUFPLEtBQUEsQUFBSyxTQUFMLEFBQWMsZUFBZSxLQUFBLEFBQUssZUFBekMsQUFBb0MsQUFBb0IsQUFDM0Q7QUFSZ0IsQUFVakI7O3FCQUFhLHFCQUFBLEFBQVMsYUFBWSxBQUM5QjtnQkFBRyxDQUFILEFBQUksYUFBWSxBQUNaO0FBQ0g7QUFDRjtBQUNDO2dCQUFHLGFBQUEsQUFBYSxhQUFoQixBQUFHLEFBQTBCLGFBQVksQUFDckM7cUJBQUEsQUFBSyxTQUFMLEFBQWMsWUFBWSxZQUExQixBQUFzQyxBQUN6QztBQUNEO2dCQUFHLGFBQUEsQUFBYSxhQUFoQixBQUFHLEFBQTBCLG1CQUFrQixBQUMzQztxQkFBQSxBQUFLLGVBQUwsQUFBb0Isa0JBQWtCLFlBQXRDLEFBQWtELEFBQ3JEO0FBQ0o7QUFyQmdCLEFBdUJqQjs7Z0JBQVEsZ0JBQUEsQUFBVSxPQUFPLEFBQ3JCO21CQUFPLEtBQUEsQUFBSyxTQUFMLEFBQWMsT0FBTyxNQUFyQixBQUEyQixhQUFhLEtBQUEsQUFBSyxlQUFMLEFBQW9CLE9BQU8sTUFBMUUsQUFBK0MsQUFBaUMsQUFDbkY7QUF6QkwsQUFBcUIsQUE0QnJCO0FBNUJxQixBQUNqQjs7QUErQko7Ozs7UUFBSSxvQkFBb0IsU0FBcEIsQUFBb0Isa0JBQUEsQUFBUyxPQUFULEFBQWdCO2FBQ3BDLEFBQUssUUFBUSxTQURpQyxBQUM5QyxBQUFzQixpQkFEd0IsQUFDOUMsQ0FBd0MsQUFDeEM7YUFBQSxBQUFLLFdBQVcsSUFBQSxBQUFJLFNBQXBCLEFBQWdCLEFBQWEsQUFDaEM7QUFIRCxBQUtBOztzQkFBQSxBQUFrQjs7ZUFFUCxpQkFBVyxBQUNkO2lCQUFBLEFBQUssUUFBTCxBQUFhLEFBQ2I7aUJBQUEsQUFBSyxTQUFMLEFBQWMsQUFDakI7QUFMeUIsQUFPMUI7O2lCQUFTLGlCQUFBLEFBQVMsT0FBVCxBQUFnQixhQUFhLEFBQ2xDO2lCQUFBLEFBQUssUUFBTCxBQUFhLEFBQ2I7aUJBQUEsQUFBSyxTQUFMLEFBQWMsWUFBZCxBQUEwQixBQUM3QjtBQVZ5QixBQVkxQjs7cUJBQWEscUJBQUEsQUFBVSxhQUFhLEFBQ2hDO2lCQUFBLEFBQUssU0FBTCxBQUFjLFlBQWQsQUFBMEIsQUFDN0I7QUFkeUIsQUFnQjFCOztxQkFBYSx1QkFBWSxBQUNyQjttQkFBTyxLQUFQLEFBQVksQUFDZjtBQWxCeUIsQUFvQjFCOztnQkFBUSxnQkFBQSxBQUFTLE9BQU8sQUFDcEI7bUJBQU8sS0FBQSxBQUFLLFVBQVUsTUFBZixBQUFxQixTQUFTLEtBQUEsQUFBSyxTQUFMLEFBQWMsT0FBTyxNQUExRCxBQUFxQyxBQUEyQixBQUNuRTtBQXRCeUIsQUF3QjFCOztBQUNBO0FBQ0E7QUFDQTtBQUVBOztpQkFBVSxtQkFBVyxBQUNqQjttQkFBTyxLQUFBLEFBQUssVUFBTCxBQUFlLG9CQUFvQixLQUFBLEFBQUssU0FBL0MsQUFBMEMsQUFBYyxBQUMzRDtBQS9CTCxBQUE4QixBQWtDOUI7QUFsQzhCLEFBRTFCOztRQWdDQSxVQUFVLFNBQVYsQUFBVSxRQUFBLEFBQVUsSUFBVixBQUFjLElBQWQsQUFBa0IsSUFBSSxBQUNoQzthQUFBLEFBQUssVUFBVSxJQUFmLEFBQWUsQUFBSSxBQUNuQjthQUFBLEFBQUssS0FBSyxNQUFWLEFBQWdCLEFBQ2hCO2FBQUEsQUFBSyxLQUFLLE1BQVYsQUFBZ0IsQUFDaEI7YUFBQSxBQUFLLEtBQUssTUFBVixBQUFnQixBQUNuQjtBQUxELEFBT0E7O1lBQUEsQUFBUTtlQUNHLGlCQUFZLEFBQ2Y7aUJBQUEsQUFBSyxRQUFMLEFBQWEsQUFDYjtpQkFBQSxBQUFLLEtBQUwsQUFBVSxBQUNWO2lCQUFBLEFBQUssS0FBTCxBQUFVLEFBQ1Y7aUJBQUEsQUFBSyxLQUFMLEFBQVUsQUFDYjtBQU5lLEFBT2hCO29CQUFZLG9CQUFBLEFBQVUsWUFBWSxBQUM5QjtnQkFBRyxDQUFILEFBQUksWUFBVyxBQUNYO3VCQUFBLEFBQU8sQUFDVjtBQUNEO2dCQUFHLGFBQUEsQUFBYSxZQUFoQixBQUFHLEFBQXlCLFlBQVcsQUFDbkM7cUJBQUEsQUFBSyxRQUFMLEFBQWEsWUFBWSxXQUF6QixBQUFvQyxBQUN2QztBQUVEOztnQkFBSSxTQUFTLENBQUEsQUFBQyxNQUFELEFBQU8sTUFBcEIsQUFBYSxBQUFhLEFBQzFCOzRCQUFBLEFBQWdCLFFBQWhCLEFBQXdCLFlBQXhCLEFBQW9DLEFBRXBDOzttQkFBQSxBQUFPLEFBQ1Y7QUFuQmUsQUFxQmhCOzttQkFBVyxxQkFBWSxBQUNuQjttQkFBTyxLQUFBLEFBQUssUUFBTCxBQUFhLGVBQWdCLE1BQU0sS0FBbkMsQUFBd0MsTUFBUSxNQUFNLEtBQXRELEFBQTJELE1BQVMsTUFBTSxLQUFqRixBQUFzRixBQUN6RjtBQXZCTCxBQUFvQixBQTBCcEI7QUExQm9CLEFBQ2hCOztRQXlCQSxpQkFBaUIsU0FBakIsQUFBaUIsaUJBQVksQUFDN0I7YUFBQSxBQUFLLEtBQUwsQUFBVSxBQUNWO2FBQUEsQUFBSyxLQUFMLEFBQVUsQUFDVjthQUFBLEFBQUssS0FBTCxBQUFVLEFBQ1Y7YUFBQSxBQUFLLEtBQUwsQUFBVSxBQUVWOzthQUFBLEFBQUssS0FBTCxBQUFVLEFBQ1Y7YUFBQSxBQUFLLEtBQUwsQUFBVSxBQUNWO2FBQUEsQUFBSyxLQUFMLEFBQVUsQUFDVjthQUFBLEFBQUssS0FBTCxBQUFVLEFBRVY7O2FBQUEsQUFBSyxLQUFMLEFBQVUsQUFDVjthQUFBLEFBQUssS0FBTCxBQUFVLEFBQ1Y7YUFBQSxBQUFLLEtBQUwsQUFBVSxBQUNiO0FBZEQsQUFlQTttQkFBQSxBQUFlO2NBQ0wsY0FBQSxBQUFVLEtBQVYsQUFBZSxNQUFNLEFBQ3ZCO2dCQUFHLElBQUgsQUFBTyxNQUFLLEFBQ1I7dUJBQUEsQUFBTyxJQUFQLEFBQVcsU0FBWCxBQUFvQixBQUNwQjt1QkFBQSxBQUFPLEFBQ1Y7QUFDRDtpQkFBQSxBQUFLLEtBQUssS0FBSyxJQUFmLEFBQVUsQUFBSyxBQUFJLEFBQ25CO2lCQUFBLEFBQUssS0FBSyxLQUFLLElBQWYsQUFBVSxBQUFLLEFBQUksQUFDbkI7aUJBQUEsQUFBSyxLQUFLLEtBQUssSUFBZixBQUFVLEFBQUssQUFBSSxBQUNuQjtpQkFBQSxBQUFLLEtBQUssS0FBSyxJQUFmLEFBQVUsQUFBSyxBQUFJLEFBRW5COztpQkFBQSxBQUFLLEtBQUssS0FBSyxJQUFmLEFBQVUsQUFBSyxBQUFJLEFBQ25CO2lCQUFBLEFBQUssS0FBSyxLQUFLLElBQWYsQUFBVSxBQUFLLEFBQUksQUFDbkI7aUJBQUEsQUFBSyxLQUFLLEtBQUssSUFBZixBQUFVLEFBQUssQUFBSSxBQUNuQjtpQkFBQSxBQUFLLEtBQUssS0FBSyxJQUFmLEFBQVUsQUFBSyxBQUFJLEFBRW5COztpQkFBQSxBQUFLLEtBQUssS0FBSyxJQUFmLEFBQVUsQUFBSyxBQUFJLEFBQ25CO2lCQUFBLEFBQUssS0FBSyxLQUFLLElBQWYsQUFBVSxBQUFLLEFBQUksQUFDbkI7aUJBQUEsQUFBSyxLQUFLLEtBQUssSUFBZixBQUFVLEFBQUssQUFBSSxBQUNuQjttQkFBQSxBQUFPLEFBQ1Y7QUFwQkwsQUFBMkIsQUF3QjNCOztBQXhCMkIsQUFDdkI7O1FBdUJBLGlCQUFpQixTQUFqQixBQUFpQixpQkFBWSxBQUM3QjthQUFBLEFBQUssS0FBTCxBQUFVLEFBQ1Y7YUFBQSxBQUFLLElBQUwsQUFBUyxBQUNUO2FBQUEsQUFBSyxJQUFMLEFBQVMsQUFDVDthQUFBLEFBQUssSUFBTCxBQUFTLEFBQ1Q7YUFBQSxBQUFLLElBQUwsQUFBUyxBQUNUO2FBQUEsQUFBSyxLQUFMLEFBQVUsQUFDVjthQUFBLEFBQUssS0FBTCxBQUFVLEFBQ2I7QUFSRCxBQVVBOzttQkFBQSxBQUFlO2NBQ0wsY0FBQSxBQUFVLEtBQVYsQUFBZSxNQUFNLEFBQ3ZCO2dCQUFJLElBQUosQUFBUSxNQUFLLEFBQ1Q7d0JBQUEsQUFBUSxJQUFSLEFBQVksU0FBWixBQUFxQixBQUNyQjt1QkFBQSxBQUFPLEFBQ1Y7QUFDRDtpQkFBQSxBQUFLLEtBQUssS0FBSyxJQUFmLEFBQVUsQUFBSyxBQUFJLEFBQ25CO2lCQUFBLEFBQUssSUFBSSxLQUFLLElBQWQsQUFBUyxBQUFLLEFBQUksQUFDbEI7aUJBQUEsQUFBSyxJQUFJLEtBQUssSUFBZCxBQUFTLEFBQUssQUFBSSxBQUVsQjs7aUJBQUEsQUFBSyxJQUFJLEtBQUssSUFBZCxBQUFTLEFBQUssQUFBSSxBQUNsQjtpQkFBQSxBQUFLLElBQUksS0FBSyxJQUFkLEFBQVMsQUFBSyxBQUFJLEFBQ2xCO2lCQUFBLEFBQUssS0FBSyxLQUFLLElBQWYsQUFBVSxBQUFLLEFBQUksQUFDbkI7aUJBQUEsQUFBSyxLQUFLLEtBQUssSUFBZixBQUFVLEFBQUssQUFBSSxBQUNuQjttQkFBQSxBQUFPLEFBQ1Y7QUFmTCxBQUEyQixBQW1CM0I7O0FBbkIyQixBQUN2Qjs7UUFrQkEsaUJBQWlCLFNBQWpCLEFBQWlCLGlCQUFZLEFBQzdCO2FBQUEsQUFBSyxLQUFMLEFBQVUsQUFDVjthQUFBLEFBQUssS0FBTCxBQUFVLEFBQ1Y7YUFBQSxBQUFLLEtBQUwsQUFBVSxBQUNWO2FBQUEsQUFBSyxLQUFMLEFBQVUsQUFFVjs7YUFBQSxBQUFLLE1BQUwsQUFBVyxBQUNYO2FBQUEsQUFBSyxLQUFMLEFBQVUsQUFDVjthQUFBLEFBQUssS0FBTCxBQUFVLEFBQ1Y7YUFBQSxBQUFLLEtBQUwsQUFBVSxBQUVWOzthQUFBLEFBQUssTUFBTCxBQUFXLEFBQ1g7YUFBQSxBQUFLLEtBQUwsQUFBVSxBQUNWO2FBQUEsQUFBSyxLQUFMLEFBQVUsQUFDVjthQUFBLEFBQUssS0FBTCxBQUFVLEFBQ1Y7YUFBQSxBQUFLLElBQUwsQUFBUyxBQUVUOzthQUFBLEFBQUssS0FBTCxBQUFVLEFBQ1Y7YUFBQSxBQUFLLEtBQUwsQUFBVSxBQUNWO2FBQUEsQUFBSyxLQUFMLEFBQVUsQUFDYjtBQXBCRCxBQXNCQTs7bUJBQUEsQUFBZTs7Y0FFTCxjQUFBLEFBQVUsS0FBVixBQUFlLE1BQU0sQUFDdkI7Z0JBQUcsSUFBSCxBQUFPLE1BQUssQUFDUjt1QkFBQSxBQUFPLElBQVAsQUFBVyxTQUFYLEFBQW9CLEFBQ3BCO3VCQUFBLEFBQU8sQUFDVjtBQUVEOztpQkFBQSxBQUFLLEtBQUssS0FBSyxJQUFmLEFBQVUsQUFBSyxBQUFJLEFBQ25CO2lCQUFBLEFBQUssS0FBSyxLQUFLLElBQWYsQUFBVSxBQUFLLEFBQUksQUFDbkI7aUJBQUEsQUFBSyxLQUFLLEtBQUssSUFBZixBQUFVLEFBQUssQUFBSSxBQUNuQjtpQkFBQSxBQUFLLEtBQUssS0FBSyxJQUFmLEFBQVUsQUFBSyxBQUFJLEFBRW5COztpQkFBQSxBQUFLLE1BQU0sS0FBSyxJQUFoQixBQUFXLEFBQUssQUFBSSxBQUNwQjtpQkFBQSxBQUFLLEtBQUssS0FBSyxJQUFmLEFBQVUsQUFBSyxBQUFJLEFBQ25CO2lCQUFBLEFBQUssS0FBSyxLQUFLLElBQWYsQUFBVSxBQUFLLEFBQUksQUFDbkI7aUJBQUEsQUFBSyxLQUFLLEtBQUssSUFBZixBQUFVLEFBQUssQUFBSSxBQUVuQjs7aUJBQUEsQUFBSyxNQUFNLEtBQUssSUFBaEIsQUFBVyxBQUFLLEFBQUksQUFDcEI7aUJBQUEsQUFBSyxLQUFLLEtBQUssSUFBZixBQUFVLEFBQUssQUFBSSxBQUNuQjtpQkFBQSxBQUFLLEtBQUssS0FBSyxJQUFmLEFBQVUsQUFBSyxBQUFJLEFBQ25CO2lCQUFBLEFBQUssS0FBSyxLQUFLLElBQWYsQUFBVSxBQUFLLEFBQUksQUFDbkI7aUJBQUEsQUFBSyxJQUFJLEtBQUssSUFBZCxBQUFTLEFBQUssQUFBSSxBQUVsQjs7aUJBQUEsQUFBSyxLQUFLLEtBQUssSUFBZixBQUFVLEFBQUssQUFBSSxBQUNuQjtpQkFBQSxBQUFLLEtBQUssS0FBSyxJQUFmLEFBQVUsQUFBSyxBQUFJLEFBQ25CO2lCQUFBLEFBQUssS0FBSyxLQUFLLElBQWYsQUFBVSxBQUFLLEFBQUksQUFDbkI7bUJBQUEsQUFBTyxBQUNWO0FBNUJMLEFBQTJCLEFBZ0MzQjtBQWhDMkIsQUFFdkI7O1FBOEJBLFdBQVcsU0FBWCxBQUFXLFNBQUEsQUFBVSxXQUFXLEFBQ2hDO2FBQUEsQUFBSyxZQUFZLGFBQWpCLEFBQThCLEFBQzlCO2FBQUEsQUFBSyxNQUFMLEFBQVcsQUFDWDthQUFBLEFBQUssT0FBTCxBQUFZLEFBQ1o7YUFBSyxJQUFJLElBQVQsQUFBYSxHQUFJLElBQUksS0FBckIsQUFBMEIsV0FBMUIsQUFBc0MsS0FBSyxBQUN2QztpQkFBQSxBQUFLLEtBQUwsQUFBVSxLQUFLLElBQWYsQUFBZSxBQUFJLEFBQ3RCO0FBQ0Q7YUFBQSxBQUFLLFVBQVUsSUFBZixBQUFlLEFBQUksQUFDdEI7QUFSRCxBQVNBO2FBQUEsQUFBUztlQUNFLGlCQUFZLEFBQ2Y7aUJBQUEsQUFBSyxNQUFMLEFBQVcsQUFDWDtpQkFBSyxJQUFJLElBQVQsQUFBYSxHQUFJLElBQUksS0FBckIsQUFBMEIsV0FBMUIsQUFBc0MsS0FBSyxBQUN2QztxQkFBQSxBQUFLLEtBQUwsQUFBVSxHQUFWLEFBQWEsQUFDaEI7QUFDRDtpQkFBQSxBQUFLLFFBQUwsQUFBYSxBQUNoQjtBQVBnQixBQVFqQjtpQkFBVSxtQkFBVyxBQUNqQjtnQkFBSSxRQUFKLEFBQVksQUFDWjtpQkFBSyxJQUFJLElBQVQsQUFBYSxHQUFJLElBQUksS0FBckIsQUFBMEIsV0FBMUIsQUFBcUMsS0FBTSxBQUN2QztvQkFBSSxDQUFFLEtBQUEsQUFBSyxLQUFMLEFBQVUsR0FBaEIsQUFBTSxBQUFhLFdBQVksQUFDM0I7NEJBQUEsQUFBUSxBQUNSO0FBQ0g7QUFDSjtBQUNEO21CQUFBLEFBQU8sQUFDVjtBQWpCZ0IsQUFtQmpCOztvQkFBWSxvQkFBQSxBQUFVLFlBQVksQUFDOUI7aUJBQUEsQUFBSyxRQUFMLEFBQWEsV0FBYixBQUF3QixBQUMzQjtBQXJCZ0IsQUF1QmpCOztvQkFBWSxzQkFBWSxBQUNwQjttQkFBTyxLQUFQLEFBQVksQUFDZjtBQXpCZ0IsQUEyQmpCOzt3QkFBZSx3QkFBQSxBQUFVLE1BQVYsQUFBZ0IsU0FBUyxBQUNwQztnQkFBSSxLQUFBLEFBQUssTUFBTSxLQUFaLEFBQWlCLFNBQVUsS0FBOUIsQUFBbUMsV0FBVyxBQUMxQzt1QkFBQSxBQUFPLEFBQ1Y7QUFFRDs7Z0JBQUksT0FBTyxPQUFBLEFBQU8sYUFBbEIsQUFBVyxBQUFvQixBQUMvQjtnQkFBSSxLQUFBLEFBQUssT0FBTyxLQUFoQixBQUFxQixXQUFXLEFBQzVCO3VCQUFBLEFBQU8sSUFBUCxBQUFXLFNBQVMsbUJBQW1CLEtBQUEsQUFBSyxTQUF4QixBQUFtQixBQUFjLE1BQWpDLEFBQ2hCLE9BRGdCLEFBQ1QsT0FEUyxBQUNGLG1CQUFtQixLQURqQixBQUNzQixNQUQxQyxBQUNnRCxBQUNoRDt1QkFBQSxBQUFPLEFBQ1Y7QUFDRDtBQUVBOztpQkFBQSxBQUFLLEtBQUssS0FBVixBQUFlLEtBQWYsQUFBb0IsUUFBcEIsQUFBNEIsTUFBNUIsQUFBa0MsQUFDbEM7QUFDQTtpQkFBQSxBQUFLLFdBQUwsQUFBZ0IsQUFFaEI7O21CQUFBLEFBQU8sQUFDVjtBQTdDZ0IsQUErQ2pCOzt1QkFBZSx1QkFBQSxBQUFVLFFBQVEsQUFDN0I7Z0JBQUksU0FBUyxTQUFTLEtBQXRCLEFBQTJCLEFBQzNCO2lCQUFBLEFBQUssV0FBTCxBQUFnQixBQUNuQjtBQWxEZ0IsQUFvRGpCOztvQkFBYSxvQkFBQSxBQUFTLFFBQVQsQUFBaUIsTUFBTSxBQUNoQzttQkFBTyxPQUFBLEFBQVEsU0FBUixBQUFrQixjQUFsQixBQUFnQyxRQUF2QyxBQUErQyxBQUMvQztnQkFBSSxTQUFTLEtBQUEsQUFBSyxNQUFsQixBQUF3QixBQUN4QjtnQkFBRyxTQUFTLEtBQVosQUFBaUIsV0FBVSxBQUN2Qjt1QkFBQSxBQUFPLEFBQ1Y7QUFDRDtnQkFBRyxNQUFILEFBQVMsUUFBTyxBQUNaO3VCQUFBLEFBQU8sQUFDVjtBQUVEOztnQkFBSSxTQUFKLEFBQWEsR0FBRyxBQUNaO3FCQUFLLElBQUksSUFBSSxLQUFBLEFBQUssTUFBbEIsQUFBc0IsR0FBRyxJQUFJLFNBQTdCLEFBQW9DLEdBQXBDLEFBQXdDLEtBQUssQUFDekM7eUJBQUEsQUFBSyxLQUFMLEFBQVUsR0FBVixBQUFhLFFBQWIsQUFBcUIsa0JBQWtCLEtBQUEsQUFBSyxLQUFLLEtBQVYsQUFBZSxLQUF0RCxBQUF1QyxBQUFvQixBQUM5RDtBQUNKO0FBQ0Q7aUJBQUEsQUFBSyxVQUFMLEFBQWUsQUFDbEI7QUFwRWdCLEFBc0VqQjs7QUFHQTs7O21CQUFZLG1CQUFBLEFBQVMsUUFBUSxBQUN6QjtnQkFBSSxLQUFBLEFBQUssUUFBVCxBQUFpQixRQUFRLEFBQ3JCO3FCQUFBLEFBQUssTUFBTCxBQUFXLEFBQ2Q7QUFDRDtnQkFBSSxLQUFBLEFBQUssTUFBVCxBQUFlLEdBQUcsQUFDZDt1QkFBQSxBQUFPLElBQVAsQUFBVyxTQUFTLDhCQUE4QixLQUFsRCxBQUF1RCxBQUN2RDtxQkFBQSxBQUFLLE1BQUwsQUFBVyxBQUNkO0FBSEQsbUJBR08sSUFBSSxLQUFBLEFBQUssTUFBTSxLQUFmLEFBQW9CLFdBQVcsQUFDbEM7dUJBQUEsQUFBTyxJQUFQLEFBQVcsU0FBUywrQkFBK0IsS0FBbkQsQUFBd0QsQUFDeEQ7cUJBQUEsQUFBSyxNQUFNLEtBQVgsQUFBZ0IsQUFDbkI7QUFDSjtBQXBGZ0IsQUFzRmpCOzttQkFBVyxxQkFBWSxBQUNuQjttQkFBTyxLQUFQLEFBQVksQUFDZjtBQXhGZ0IsQUEyRmpCOztzQkFBYyxzQkFBQSxBQUFTLFVBQVUsQUFDN0I7Z0JBQUEsQUFBSSxBQUNKO2lCQUFLLElBQUwsQUFBUyxVQUFXLElBQUksS0FBeEIsQUFBNkIsV0FBN0IsQUFBeUMsS0FBSyxBQUMxQztxQkFBQSxBQUFLLEtBQUwsQUFBVSxHQUFWLEFBQWEsUUFBYixBQUFxQixBQUNyQjtxQkFBQSxBQUFLLEtBQUwsQUFBVSxHQUFWLEFBQWEsU0FBYixBQUFzQixBQUN6QjtBQUNKO0FBakdnQixBQW1HakI7O2VBQU8saUJBQVcsQUFDZDtpQkFBQSxBQUFLLGFBQUwsQUFBa0IsQUFDbEI7aUJBQUEsQUFBSyxNQUFMLEFBQVcsQUFDZDtBQXRHZ0IsQUF1R2pCO3VCQUFlLHlCQUFXLEFBQ3RCO2dCQUFJLFFBQUosQUFBWSxBQUNaO2dCQUFJLFFBQUosQUFBWSxBQUNaO2dCQUFHLE1BQU0sS0FBVCxBQUFjLEtBQUksQUFDZDt1QkFBQSxBQUFPLEFBQ1Y7QUFDRDtpQkFBSyxJQUFJLElBQVQsQUFBYSxHQUFHLElBQUksS0FBcEIsQUFBeUIsV0FBekIsQUFBb0MsS0FBSyxBQUNyQztvQkFBSSxPQUFKLEFBQVcsQUFDWDtvQkFBRyxLQUFBLEFBQUssS0FBUixBQUFHLEFBQVUsSUFBRyxBQUNaOzJCQUFPLEtBQUEsQUFBSyxLQUFMLEFBQVUsR0FBakIsQUFBb0IsQUFDdkI7QUFDRDtvQkFBSSxTQUFKLEFBQWEsS0FBSyxBQUNkOzRCQUFBLEFBQVEsQUFDWDtBQUNEO3NCQUFBLEFBQU0sS0FBTixBQUFXLEFBQ2Q7QUFDRDtnQkFBQSxBQUFJLE9BQU8sQUFDUDt1QkFBQSxBQUFPLEFBQ1Y7QUFGRCxtQkFFTyxBQUNIO3VCQUFPLE1BQUEsQUFBTSxLQUFiLEFBQU8sQUFBVyxBQUNyQjtBQUNKO0FBNUhnQixBQStIakI7O2lCQUFTLGlCQUFBLEFBQVUsT0FBVixBQUFpQixLQUFLLEFBQzNCO21CQUFRLEtBQUEsQUFBSyxVQUFMLEFBQWUsS0FBZixBQUFvQixRQUFRLE1BQUEsQUFBTSxVQUFOLEFBQWdCLEtBQTdDLEFBQWtELFFBQ3BELEtBQUEsQUFBSyxVQUFMLEFBQWUsS0FBZixBQUFvQixjQUFjLE1BQUEsQUFBTSxVQUFOLEFBQWdCLEtBRHZELEFBQzRELEFBQy9EO0FBbElnQixBQW9JakI7O2dCQUFRLGdCQUFBLEFBQVMsT0FBTyxBQUNwQjtnQkFBSSxRQUFKLEFBQVksQUFDWjtpQkFBSyxJQUFJLElBQVQsQUFBYSxHQUFJLElBQUksS0FBckIsQUFBMEIsV0FBMUIsQUFBcUMsS0FBTSxBQUN2QztvQkFBSSxDQUFDLEtBQUEsQUFBSyxRQUFMLEFBQWEsT0FBbEIsQUFBSyxBQUFvQixJQUFJLEFBQ3pCOzRCQUFBLEFBQVEsQUFDUjtBQUNIO0FBQ0o7QUFDRDttQkFBQSxBQUFPLEFBQ1Y7QUE3SUwsQUFBcUIsQUFnSnJCO0FBaEpxQixBQUNqQjs7UUErSUEsaUJBQWlCLFNBQWpCLEFBQWlCLGVBQUEsQUFBVSxNQUFWLEFBQWdCLElBQUksQUFDckM7YUFBQSxBQUFLLE9BQU8sUUFBWixBQUFvQixBQUNwQjthQUFBLEFBQUssS0FBSyxNQUFWLEFBQWdCLEFBQ25CO0FBSEQsQUFLQTs7bUJBQUEsQUFBZTtlQUNKLGlCQUFZLEFBQ2Y7aUJBQUEsQUFBSyxPQUFMLEFBQVksQUFDWjtpQkFBQSxBQUFLLEtBQUwsQUFBVSxBQUNiO0FBSnNCLEFBTXZCOzsyQkFBbUIsMkJBQUEsQUFBVSxZQUFZLEFBQ3JDO2dCQUFJLFNBQVMsQ0FBQSxBQUFDLFFBQWQsQUFBYSxBQUFTLEFBQ3RCOzRCQUFBLEFBQWdCLFFBQWhCLEFBQXdCLFlBQXhCLEFBQW9DLEFBQ3ZDO0FBVEwsQUFBMkIsQUFZM0I7QUFaMkIsQUFDdkI7O1FBV0EsZUFBZSxTQUFmLEFBQWUsYUFBQSxBQUFVLFFBQVYsQUFBa0IsUUFBbEIsQUFBMEIsV0FBVyxBQUNwRDthQUFBLEFBQUssU0FBUyxDQUFkLEFBQWUsQUFDZjthQUFBLEFBQUssVUFBTCxBQUFlLEFBQ2Y7YUFBQSxBQUFLLEtBQUwsQUFBVSxBQUNWO2FBQUEsQUFBSyxLQUFMLEFBQVUsQUFDVjthQUFBLEFBQUssV0FBTCxBQUFnQixBQUNoQjthQUFBLEFBQUssS0FBTCxBQUFVLEFBQ1Y7YUFBQSxBQUFLLEtBQUwsQUFBVSxBQUNWO2FBQUEsQUFBSyxLQUFMLEFBQVUsQUFDVjthQUFBLEFBQUssS0FBTCxBQUFVLEFBQ1Y7YUFBQSxBQUFLLEtBQUwsQUFBVSxBQUNWO2FBQUEsQUFBSyxLQUFMLEFBQVUsQUFDVjthQUFBLEFBQUssS0FBTCxBQUFVLEFBQ1Y7YUFBQSxBQUFLLEtBQUwsQUFBVSxBQUNWO2FBQUEsQUFBSyxXQUFXLElBQWhCLEFBQWdCLEFBQUksQUFDcEI7YUFBQSxBQUFLLFdBQVcsSUFBaEIsQUFBZ0IsQUFBSSxBQUNwQjthQUFBLEFBQUssWUFBWSxJQUFqQixBQUFpQixBQUFJLEFBQ3JCO2FBQUEsQUFBSyxTQUFMLEFBQWMsQUFFZDs7YUFBQSxBQUFLLGlCQUFMLEFBQXNCLEFBQ3RCO2FBQUEsQUFBSyxVQUFVLENBQWYsQUFBZ0IsQUFDaEI7YUFBQSxBQUFLLFNBQVMsVUFBZCxBQUF3QixBQUN4QjthQUFBLEFBQUssWUFBWSxhQUFqQixBQUE4QixBQUU5Qjs7YUFBQSxBQUFLLFdBQVcsSUFBaEIsQUFBZ0IsQUFBSSxBQUNwQjthQUFBLEFBQUssa0JBQWtCLElBQXZCLEFBQXVCLEFBQUksQUFDM0I7YUFBQSxBQUFLLGNBQWMsSUFBbkIsQUFBbUIsQUFBSSxBQUN2QjthQUFBLEFBQUssZUFBTCxBQUFvQixBQUNwQjthQUFLLElBQUksSUFBVCxBQUFhLEdBQUksSUFBSyxLQUF0QixBQUEyQixRQUEzQixBQUFtQyxLQUFLLEFBQ3BDO2lCQUFBLEFBQUssYUFBTCxBQUFrQixLQUFLLElBQUEsQUFBSSxTQUFTLEtBREEsQUFDcEMsQUFBdUIsQUFBa0IsYUFBYSxBQUN6RDtBQUVKO0FBaENELEFBa0NBOztpQkFBQSxBQUFhOztlQUVGLGlCQUFVLEFBQ2I7aUJBQUEsQUFBSyxTQUFTLENBQWQsQUFBZSxBQUNmO2lCQUFBLEFBQUssVUFBTCxBQUFlLEFBQ2Y7aUJBQUEsQUFBSyxTQUFMLEFBQWMsQUFFZDs7aUJBQUEsQUFBSyxpQkFBTCxBQUFzQixBQUN0QjtpQkFBQSxBQUFLLFVBQVUsQ0FBZixBQUFnQixBQUNoQjtpQkFBQSxBQUFLLGdCQUFMLEFBQXFCLEFBQ3JCO2lCQUFBLEFBQUssQUFFUjtBQVpvQixBQWFyQjt1QkFBZSx1QkFBQSxBQUFVLE1BQU0sQUFDM0I7bUJBQU8sT0FBQSxBQUFRLFNBQVIsQUFBa0IsY0FBbEIsQUFBZ0MsUUFBdkMsQUFBK0MsQUFDL0M7aUJBQUksSUFBSSxJQUFSLEFBQVcsR0FBRyxJQUFJLEtBQUEsQUFBSyxhQUF2QixBQUFvQyxRQUFwQyxBQUE0QyxLQUFLLEFBQzdDO3FCQUFBLEFBQUssYUFBTCxBQUFrQixHQUFsQixBQUFxQixBQUN4QjtBQUNEO2lCQUFBLEFBQUssWUFBTCxBQUFpQixBQUNqQjtnQkFBRyxDQUFILEFBQUksTUFBSyxBQUNMO3FCQUFBLEFBQUssU0FBTCxBQUFjLEFBQ2Q7cUJBQUEsQUFBSyxTQUFMLEFBQWMsZ0JBQWQsQUFBOEIsUUFBOUIsQUFBc0MsQUFDdEM7cUJBQUEsQUFBSyxTQUFMLEFBQWMsY0FBZCxBQUE0QixRQUE1QixBQUFvQyxBQUN2QztBQUNKO0FBeEJvQixBQTBCckI7O29CQUFZLG9CQUFBLEFBQVUsS0FBSyxBQUN2QjtnQkFBRyxDQUFDLEtBQUEsQUFBSyxXQUFULEFBQUksQUFBZ0IsTUFBSyxBQUNyQjt1QkFBQSxBQUFPLEFBQ1Y7QUFDRDttQkFBQSxBQUFPLElBQVAsQUFBVyxTQUFTLG9CQUFBLEFBQW9CLGtCQUF4QyxBQUEwRCxBQUMxRDtpQkFBQSxBQUFLLFVBQUwsQUFBZSxBQUNmO21CQUFBLEFBQU8sQUFDVjtBQWpDb0IsQUFtQ3JCOztvQkFBWSxzQkFBWSxBQUNwQjttQkFBQSxBQUFPLElBQVAsQUFBVyxTQUFTLG9CQUFBLEFBQW9CLGtCQUFrQixLQUExRCxBQUErRCxBQUMvRDttQkFBTyxLQUFQLEFBQVksQUFDZjtBQXRDb0IsQUF3Q3JCOztvQkFBWSxvQkFBQSxBQUFVLEtBQUssQUFDdkI7Z0JBQUssSUFBRCxBQUFLLE9BQVMsS0FBQSxBQUFLLFVBQXZCLEFBQWlDLEtBQUssQUFDbEM7dUJBQUEsQUFBTyxBQUNWO0FBQ0Q7bUJBQUEsQUFBTyxBQUNWO0FBN0NvQixBQStDckI7O3FCQUFhLHFCQUFBLEFBQVUsYUFBYSxBQUNqQztnQkFBRyxDQUFILEFBQUksYUFBWSxBQUNaO0FBQ0g7QUFDQTtvQkFBQSxBQUFRLElBQVIsQUFBWSwyQkFBMkIsS0FBdkMsQUFBNEMsQUFDN0M7aUJBQUEsQUFBSyxTQUFMLEFBQWMsWUFBZCxBQUEwQixBQUM1QjtBQXJEb0IsQUF1RHJCOztxQkFBWSx1QkFBWSxBQUNwQjtvQkFBQSxBQUFRLElBQVIsQUFBWSwyQkFBMkIsS0FBdkMsQUFBNEMsQUFDNUM7bUJBQU8sS0FBUCxBQUFZLEFBQ2Y7QUExRG9CLEFBNERyQjs7bUJBQVcsbUJBQUEsQUFBVSxRQUFRLEFBQ3pCO2lCQUFLLElBQUksSUFBVCxBQUFhLEdBQUksSUFBSSxLQUFyQixBQUEwQixRQUExQixBQUFtQyxLQUFLLEFBQ3BDO3FCQUFBLEFBQUssYUFBTCxBQUFrQixHQUFsQixBQUFxQixXQUFyQixBQUFnQyxBQUNuQztBQUNKO0FBaEVvQixBQWtFckI7OzRCQUFvQiw0QkFBQSxBQUFVLG9CQUFvQixBQUM5QztnQkFBRyxDQUFILEFBQUksb0JBQW1CLEFBQ25CO0FBQ0g7QUFDRDtpQkFBQSxBQUFLLGdCQUFMLEFBQXFCLGtCQUFyQixBQUF1QyxBQUMxQztBQXZFb0IsQUF5RXJCOztxQkFBYSxxQkFBQSxBQUFVLGFBQWEsQUFDaEM7Z0JBQUcsQ0FBSCxBQUFJLGFBQVksQUFDWjtBQUNIO0FBQ0Q7aUJBQUEsQUFBSyxZQUFMLEFBQWlCLFlBQWpCLEFBQTZCLEFBQ2hDO0FBOUVvQixBQWdGckI7O3FCQUFhLHFCQUFBLEFBQVMsT0FBTyxBQUN6QjtnQkFBRyxDQUFDLEtBQUEsQUFBSyxXQUFXLEtBQXBCLEFBQUksQUFBcUIsVUFBUyxBQUM5Qjt1QkFBQSxBQUFPLEFBQ1Y7QUFDRDtnQkFBSSxVQUFVLEtBQUEsQUFBSyxhQUFhLEtBQWhDLEFBQWMsQUFBdUIsQUFDckM7bUJBQUEsQUFBTyxJQUFQLEFBQVcsU0FBUyw2QkFBNkIsS0FBakQsQUFBc0QsQUFDdEQ7aUJBQUksSUFBSSxJQUFSLEFBQVksR0FBRyxJQUFHLE1BQWxCLEFBQXdCLFFBQXhCLEFBQWdDLEtBQUssQUFDakM7d0JBQUEsQUFBUSxlQUFlLE1BQXZCLEFBQXVCLEFBQU0sSUFBSSxLQUFqQyxBQUFzQyxBQUN6QztBQUVEOztpQkFBQSxBQUFLLGVBQUwsQUFBb0IsQUFFcEI7O21CQUFBLEFBQU8sSUFBUCxBQUFXLFNBQVMsdUNBQXVDLEtBQUEsQUFBSyxlQUFoRSxBQUEyRCxBQUFvQixBQUUvRTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTttQkFBQSxBQUFPLEFBQ1Y7QUFuR29CLEFBcUdyQjs7d0JBQWdCLHdCQUFBLEFBQVMsUUFBTyxBQUM1QjtxQkFBUyxPQUFBLEFBQU8sVUFBUCxBQUFrQixjQUFsQixBQUFnQyxRQUF6QyxBQUFpRCxBQUNqRDtnQkFBRyxLQUFBLEFBQUssV0FBUixBQUFtQixRQUFPLEFBQ3RCO3FCQUFBLEFBQUssU0FBTCxBQUFjLEFBQ2pCO0FBQ0o7QUExR29CLEFBNEdyQjs7ZUFBTyxpQkFBWSxBQUNmO21CQUFBLEFBQU8sSUFBUCxBQUFXLEFBRVg7O2dCQUFJLEtBQUEsQUFBSyxXQUFXLEtBQXBCLEFBQUksQUFBcUIsVUFDekIsQUFDSTtvQkFBSSxNQUFNLEtBQUEsQUFBSyxhQUFhLEtBQWxCLEFBQXVCLFNBQWpDLEFBQTBDLEFBQzFDO29CQUFJLE1BQUosQUFBVSxHQUNWLEFBQ0k7eUJBQUEsQUFBSyxhQUFhLEtBQWxCLEFBQXVCLFNBQXZCLEFBQWdDLFdBQVcsQ0FBM0MsQUFBNEMsQUFDL0M7QUFDSjtBQUNKO0FBdkhvQixBQXlIckI7O2VBQU8saUJBQVcsQUFBRTtBQUNoQjttQkFBQSxBQUFPLElBQVAsQUFBVyxBQUNYO0FBQ0E7QUFDQTtnQkFBRyxDQUFDLEtBQUEsQUFBSyxXQUFXLEtBQXBCLEFBQUksQUFBcUIsVUFBUyxBQUM5QjtBQUNIO0FBRUQ7O2dCQUFJLFdBQVcsb0JBQW9CLEtBQUEsQUFBSyxTQUFMLEFBQWMsS0FBakQsQUFBZSxBQUF1QyxBQUN0RDtnQkFBSSxjQUFjLG9CQUFvQixLQUFBLEFBQUssU0FBTCxBQUFjLEtBQWxDLEFBQXVDLFVBQXpELEFBQW1FLEFBQ25FO0FBQ0E7QUFFQTs7Z0JBQUksZUFBZ0IsS0FBQSxBQUFLLGVBQXpCLEFBQXdDLEdBQUcsQUFDdkM7cUJBQUEsQUFBSyxBQUNSO0FBRkQsbUJBR0ksQUFDQTtxQkFBQSxBQUFLLGNBQUwsQUFBbUIsQUFDdEI7QUFDSjtBQTVJb0IsQUE4SXJCOztnQkFBUSxrQkFBWSxBQUFFO0FBQ2xCO21CQUFBLEFBQU8sSUFBUCxBQUFXLEFBQ1o7Z0JBQUcsS0FBQSxBQUFLLFdBQVcsS0FBbkIsQUFBRyxBQUFxQixVQUFTLEFBQzdCO3FCQUFBLEFBQUssYUFBYSxLQUFsQixBQUF1QixTQUF2QixBQUFnQyxjQUFoQyxBQUE4QyxBQUNqRDtBQUNBO0FBQ0g7QUFwSm9CLEFBc0pyQjs7MEJBQWtCLDRCQUFVLEFBQ3hCO0FBQ0E7b0JBQVEsS0FBQSxBQUFLLFVBQWIsQUFBdUIsQUFDbkI7cUJBQUssaUJBQUwsQUFBc0IsQUFBZTtBQUNqQzs0QkFBSSxpQkFBQSxBQUFpQixpQkFBaUIsS0FBQSxBQUFLLFVBQTNDLEFBQXFELElBQUcsQUFDcEQ7aUNBQUEsQUFBSyxXQUFXLEtBQUEsQUFBSyxlQUFyQixBQUFvQyxBQUN2QztBQUZELCtCQUdLLElBQUksaUJBQUEsQUFBaUIsaUJBQWlCLEtBQUEsQUFBSyxVQUEzQyxBQUFxRCxJQUMxRCxBQUNJO2lDQUFBLEFBQUssV0FBVyxLQUFBLEFBQUssZUFBckIsQUFBb0MsQUFDdkM7QUFDRDtBQUNBOzZCQUFBLEFBQUssYUFBYSxLQUFsQixBQUF1QixTQUF2QixBQUFnQyxjQUFoQyxBQUE4QyxBQUM5QztBQUNIO0FBQ0Q7cUJBQUssaUJBQUwsQUFBc0IsQUFBYztBQUNoQzs0QkFBSSxpQkFBQSxBQUFpQixpQkFBaUIsS0FBQSxBQUFLLFVBQTNDLEFBQXFELElBQUcsQUFDcEQ7aUNBQUEsQUFBSyxXQUFXLEtBQUEsQUFBSyxlQUFyQixBQUFvQyxBQUN2QztBQUZELCtCQUdLLElBQUksaUJBQUEsQUFBaUIsaUJBQWlCLEtBQUEsQUFBSyxVQUEzQyxBQUFxRCxJQUFHLEFBQ3pEO2lDQUFBLEFBQUssV0FBVyxLQUFBLEFBQUssZUFBckIsQUFBb0MsQUFDdkM7QUFDRDs2QkFBQSxBQUFLLGFBQWEsS0FBbEIsQUFBa0IsQUFBSyxjQUF2QixBQUFxQyxjQUFjLG9CQUFvQixLQUFBLEFBQUssU0FBTCxBQUFjLEtBQWQsQUFBbUIsUUFBMUYsQUFBbUQsQUFBK0MsQUFDbEc7QUFDSDtBQUNEO3FCQUFLLGlCQUFMLEFBQXNCLEFBQWU7QUFDakM7NEJBQUksaUJBQUEsQUFBaUIsaUJBQWlCLEtBQUEsQUFBSyxVQUEzQyxBQUFxRCxJQUNyRCxBQUNJO2lDQUFBLEFBQUssYUFBYSxLQUFsQixBQUF1QixTQUF2QixBQUFnQyxXQUFXLENBQTNDLEFBQTRDLEFBQy9DO0FBSEQsK0JBSUssSUFBSSxpQkFBQSxBQUFpQixpQkFBaUIsS0FBQSxBQUFLLFVBQTNDLEFBQXFELElBQzFELEFBQ0k7aUNBQUEsQUFBSyxhQUFhLEtBQWxCLEFBQXVCLFNBQXZCLEFBQWdDLFdBQWhDLEFBQTJDLEFBQzlDO0FBQ0Q7NkJBQUEsQUFBSyxXQUFXLEtBQUEsQUFBSyxTQUFMLEFBQWMsS0FBOUIsQUFBbUMsQUFDbkM7QUFDSDtBQUNEO3FCQUFLLGlCQUFMLEFBQXNCLEFBQWU7QUFDakM7NEJBQUksaUJBQUEsQUFBaUIsaUJBQWlCLEtBQUEsQUFBSyxVQUEzQyxBQUFxRCxJQUNyRCxBQUNJO2lDQUFBLEFBQUssYUFBYSxLQUFsQixBQUF1QixTQUF2QixBQUFnQyxXQUFXLENBQTNDLEFBQTRDLEFBQy9DO0FBSEQsK0JBSUssSUFBSSxpQkFBQSxBQUFpQixpQkFBaUIsS0FBQSxBQUFLLFVBQTNDLEFBQXFELElBQzFELEFBQ0k7aUNBQUEsQUFBSyxhQUFhLEtBQWxCLEFBQXVCLFNBQXZCLEFBQWdDLFdBQWhDLEFBQTJDLEFBQzlDO0FBQ0Q7NkJBQUEsQUFBSyxXQUFXLEtBQUEsQUFBSyxTQUFMLEFBQWMsS0FBZCxBQUFtQixTQUFuQyxBQUE0QyxBQUM1QztBQUNIO0FBQ0Q7QUFDSTtBQWhEUixBQWtESDs7QUExTW9CLEFBNE10Qjs7dUJBQWUsdUJBQUEsQUFBUyxVQUFTLEFBQzVCO3dCQUFBLEFBQVksQUFDWjtnQkFBSSxLQUFBLEFBQUssV0FBVyxLQUFwQixBQUFJLEFBQXFCLFVBQVMsQUFDOUI7b0JBQUksS0FBSixBQUFTLGdCQUFlLEFBQ3BCO3lCQUFBLEFBQUssc0JBQXNCLEtBQTNCLEFBQTJCLEFBQUssQUFDbkM7QUFGRCx1QkFHSSxBQUNBOzJCQUFPLFlBQVksS0FBbkIsQUFBbUIsQUFBSyxjQUFhLEFBQ2pDOzZCQUFBLEFBQUssU0FBTCxBQUFjLFVBQVUsV0FBeEIsQUFBbUMsQUFDbkM7QUFDSDtBQUNKO0FBQ0o7QUFDSjtBQXpOb0IsQUEyTnJCOzsrQkFBdUIsK0JBQUEsQUFBUyxVQUFTLEFBQ3JDO2dCQUFJLGFBQWEsb0JBQW9CLEtBQUEsQUFBSyxTQUFMLEFBQWMsS0FBbEMsQUFBdUMsVUFBeEQsQUFBa0UsQUFDbkU7QUFFQzs7Z0JBQUssWUFBRCxBQUFhLGNBQWdCLEtBQWpDLEFBQXNDLFVBQVUsQUFDNUM7cUJBQUEsQUFBSyxXQUFMLEFBQWdCLEFBQ2hCO3FCQUFLLElBQUksSUFBVCxBQUFhLEdBQUksS0FBakIsQUFBc0IsVUFBdEIsQUFBaUMsS0FBSSxBQUNqQzt3QkFBRyxLQUFBLEFBQUssYUFBUixBQUFHLEFBQWtCLElBQUksQUFDdEI7NkJBQUEsQUFBSyxhQUFMLEFBQWtCLEdBQWxCLEFBQXFCLGNBQXJCLEFBQW1DLEFBQ3JDO0FBQ0o7QUFDSjtBQVBELG1CQVFJLEFBQ0E7cUJBQUEsQUFBSyxXQUFXLFdBQWhCLEFBQTJCLEFBQzNCO29CQUFHLEtBQUEsQUFBSyxhQUFhLEtBQXJCLEFBQUcsQUFBdUIsVUFBVSxBQUNoQzt5QkFBQSxBQUFLLGFBQWEsS0FBbEIsQUFBdUIsU0FBdkIsQUFBZ0MsY0FBaEMsQUFBOEMsQUFDakQ7QUFDSjtBQUNKO0FBN09vQixBQStPckI7O2tCQUFVLGtCQUFBLEFBQVMsUUFBVCxBQUFpQixRQUFPLEFBQzlCO0FBQ0E7QUFDQTtnQkFBSSxVQUFVLEtBQVYsQUFBZSxVQUFVLFVBQVUsS0FBbkMsQUFBd0MsVUFBVSxDQUFDLEtBQUEsQUFBSyxhQUFMLEFBQWtCLFFBQXpFLEFBQWlGLEtBQUksQUFDakY7QUFDSDtBQUVEOztpQkFBQSxBQUFLLGFBQUwsQUFBa0IsUUFBbEIsQUFBMEIsWUFBWSxLQUFBLEFBQUssYUFBTCxBQUFrQixRQUF4RCxBQUFnRSxBQUNoRTtpQkFBQSxBQUFLLGFBQUwsQUFBa0IsUUFBbEIsQUFBMEIsTUFBTSxLQUFBLEFBQUssYUFBTCxBQUFrQixRQUFsRCxBQUEwRCxBQUMxRDtpQkFBQSxBQUFLLGFBQUwsQUFBa0IsUUFBbEIsQUFBMEIsTUFBMUIsQUFBZ0MsQUFDbkM7QUF6UG9CLEFBMlByQjs7MEJBQWtCLDBCQUFBLEFBQVUsYUFBYSxBQUNyQztpQkFBQSxBQUFLLGlCQUFMLEFBQXNCLEFBQ3pCO0FBN1BvQixBQStQckI7O0FBR0E7Ozt3QkFBaUIsd0JBQUEsQUFBUyxVQUFVLEFBQ2hDO3VCQUFXLFlBQVgsQUFBdUIsQUFDdkI7Z0JBQUksY0FBSixBQUFrQixBQUNsQjtnQkFBSSxPQUFKLEFBQVcsQUFDWDtnQkFBSSxRQUFRLENBQVosQUFBYSxBQUNiO2lCQUFLLElBQUksSUFBVCxBQUFhLEdBQUksSUFBSSxLQUFyQixBQUEwQixRQUExQixBQUFtQyxLQUFLLEFBQ3BDO29CQUFJLFVBQVUsS0FBQSxBQUFLLGFBQUwsQUFBa0IsR0FBaEMsQUFBYyxBQUFxQixBQUNuQztvQkFBQSxBQUFJLFNBQVMsQUFDVDs0QkFBQSxBQUFRLEFBQ1I7d0JBQUEsQUFBSSxVQUFVLEFBQ1Y7b0NBQUEsQUFBWSxLQUFLLFNBQUEsQUFBUyxRQUFULEFBQWlCLFFBQWpCLEFBQXlCLFVBQTFDLEFBQW9ELEFBQ3ZEO0FBRkQsMkJBRU8sQUFDSDtvQ0FBQSxBQUFZLEtBQUssUUFBakIsQUFBaUIsQUFBUSxBQUM1QjtBQUNKO0FBQ0o7QUFDRDtnQkFBSSxZQUFBLEFBQVksU0FBaEIsQUFBeUIsR0FBRyxBQUN4QjtvQkFBQSxBQUFJLFVBQVUsQUFDVjsyQkFBTyxNQUFNLFlBQUEsQUFBWSxLQUFsQixBQUFNLEFBQWlCLE9BQTlCLEFBQXFDLEFBQ3hDO0FBRkQsdUJBRU8sQUFDSDsyQkFBTyxZQUFBLEFBQVksS0FBbkIsQUFBTyxBQUFpQixBQUMzQjtBQUNKO0FBQ0Q7bUJBQUEsQUFBTyxBQUNWO0FBMVJvQixBQTRSckI7OzJCQUFtQiwyQkFBQSxBQUFTLFdBQVQsQUFBb0IsU0FBcEIsQUFBNkIsWUFBN0IsQUFBeUMsWUFBekMsQUFBcUQsU0FBckQsQUFBOEQsU0FBUSxBQUNyRjtnQkFBSSxVQUFKLEFBQWM7Z0JBQUUsVUFBaEIsQUFBMEI7Z0JBQUUsVUFBNUIsQUFBc0M7Z0JBQUUsVUFBeEMsQUFBa0QsQUFDbEQ7Z0JBQUEsQUFBRyxTQUFRLEFBQ1A7MEJBQVUsU0FBUyxhQUFBLEFBQVcsVUFBOUIsQUFBVSxBQUE0QixBQUN0QzswQkFBVSxTQUFTLGFBQUEsQUFBVyxVQUE5QixBQUFVLEFBQTRCLEFBQ3pDO0FBSEQsbUJBSUssQUFDRDswQkFBVSxTQUFTLGFBQW5CLEFBQVUsQUFBb0IsQUFDOUI7MEJBQVUsU0FBUyxhQUFuQixBQUFVLEFBQW9CLEFBQ2pDO0FBRUQ7O2dCQUFHLE1BQU0sU0FBUyxZQUFsQixBQUFTLEFBQW1CLElBQUcsQUFDM0I7b0JBQUcsV0FBVyxTQUFTLFVBQXZCLEFBQWMsQUFBaUIsSUFBRyxBQUM5Qjs4QkFBVSxVQUFVLFNBQVMsVUFBN0IsQUFBb0IsQUFBaUIsQUFDeEM7QUFDSjtBQUpELG1CQUtLLElBQUcsTUFBTSxTQUFTLFlBQWxCLEFBQVMsQUFBbUIsSUFBRyxBQUNoQztvQkFBRyxXQUFZLFVBQWYsQUFBeUIsR0FBRyxBQUN4Qjs4QkFBVSxXQUFXLFVBQXJCLEFBQVUsQUFBcUIsQUFDbEM7QUFDSjtBQUVEOztnQkFBSSxTQUFTLFlBQVQsQUFBbUIsTUFBdkIsQUFBNkIsR0FDN0IsQUFDSTtvQkFBSSxXQUFXLFNBQVMsVUFBeEIsQUFBZSxBQUFpQixJQUNoQyxBQUNJOzhCQUFVLFVBQVUsU0FBUyxVQUE3QixBQUFvQixBQUFpQixBQUN4QztBQUNKO0FBTkQsbUJBT0ssSUFBSSxTQUFTLFlBQVQsQUFBbUIsTUFBdkIsQUFBNkIsR0FDbEMsQUFDSTtvQkFBSSxXQUFZLFVBQWhCLEFBQTBCLEdBQzFCLEFBQ0k7OEJBQVUsV0FBVyxVQUFyQixBQUFVLEFBQXFCLEFBQ2xDO0FBQ0o7QUFFRDs7c0JBQVUsV0FBVyxVQUFyQixBQUFVLEFBQXFCLEFBQy9CO3NCQUFVLFdBQVcsVUFBckIsQUFBVSxBQUFxQixBQUUvQjs7c0JBQVUsVUFBVyxVQUFYLEFBQXFCLElBQU0sVUFBM0IsQUFBcUMsSUFBL0MsQUFBb0QsQUFDcEQ7c0JBQVUsVUFBVyxVQUFYLEFBQXFCLElBQU0sVUFBM0IsQUFBcUMsSUFBL0MsQUFBb0QsQUFFcEQ7O3NCQUFVLFVBQVcsVUFBWCxBQUFxQixJQUFNLFVBQTNCLEFBQXFDLElBQS9DLEFBQW9ELEFBQ3BEO3NCQUFVLFVBQVcsVUFBWCxBQUFxQixJQUFNLFVBQTNCLEFBQXFDLElBQS9DLEFBQW9ELEFBRXBEOztnQkFBSSxPQUFPLElBQVgsQUFBVyxBQUFJLEFBQ2Y7Z0JBQUcsQ0FBSCxBQUFJLE1BQUssQUFDTDtBQUNIO0FBQ0Q7dUJBQUEsQUFBVyxNQUFYLEFBQWlCLFNBQWpCLEFBQTBCLFNBQTFCLEFBQW1DLFNBQW5DLEFBQTRDLEFBQzVDO2dCQUFJLFdBQVcsRUFBQyxNQUFoQixBQUFlLEFBQU8sQUFDdEI7aUJBQUEsQUFBSyxZQUFMLEFBQWlCLEFBQ3BCO0FBalZvQixBQW1WckI7O3NCQUFhLHNCQUFBLEFBQVUsTUFBVixBQUFnQixRQUFoQixBQUF3QixPQUFNLEFBQ3ZDO2dCQUFJLE9BQUEsQUFBTyxLQUFLLFNBQVosQUFBcUIsS0FBSyxRQUE5QixBQUFzQyxHQUN0QyxBQUNJO3VCQUFBLEFBQU8sQUFDVjtBQUNEO2dCQUFJLGFBQWEsSUFBakIsQUFBaUIsQUFBSSxBQUNyQjt1QkFBQSxBQUFXLE1BQU0sT0FBakIsQUFBc0IsQUFDdEI7dUJBQUEsQUFBVyxRQUFRLFNBQW5CLEFBQTBCLEFBQzFCO3VCQUFBLEFBQVcsT0FBTyxRQUFsQixBQUF3QixBQUN4QjttQkFBQSxBQUFPLEFBQ1Y7QUE3Vm9CLEFBK1ZyQjs7d0JBQWdCLHdCQUFBLEFBQVMsVUFBVCxBQUFtQixLQUFuQixBQUF3QixNQUFLLEFBQ3pDO2dCQUFJLE1BQU0sU0FBQSxBQUFTLEtBQVQsQUFBYyxLQUF4QixBQUFVLEFBQW1CLEFBQzdCO2dCQUFJLFNBQVMsRUFBQyxJQUFHLFNBQVMsU0FBQSxBQUFTLElBQXRCLEFBQUksQUFBb0IsSUFBSSxJQUFHLFNBQTVDLEFBQWEsQUFBd0MsQUFDckQ7aUJBQUEsQUFBSyxVQUFMLEFBQWUsQUFFZjs7Z0JBQUksa0JBQWtCLEtBQUEsQUFBSyxhQUFhLEtBQUEsQUFBSyxVQUF2QixBQUFpQyxJQUFJLEtBQUEsQUFBSyxVQUExQyxBQUFvRCxJQUFJLEtBQUEsQUFBSyxVQUFuRixBQUFzQixBQUF1RSxBQUM3Rjs0QkFBQSxBQUFnQixRQUFoQixBQUF3QixBQUN4QjtnQkFBSSxnQkFBZ0IsS0FBQSxBQUFLLGFBQWEsS0FBQSxBQUFLLFVBQXZCLEFBQWlDLElBQUksS0FBQSxBQUFLLFVBQTFDLEFBQW9ELElBQUksS0FBQSxBQUFLLFVBQWpGLEFBQW9CLEFBQXVFLEFBQzNGOzBCQUFBLEFBQWMsUUFBZCxBQUFzQixBQUN0QjtvQkFBUSxLQUFBLEFBQUssVUFBYixBQUF1QixBQUNuQjtxQkFBQSxBQUFLLEFBQ0w7cUJBQUEsQUFBSyxBQUNEO2tDQUFBLEFBQWMsUUFEbEIsQUFDSSxBQUFzQixNQUFLLEFBQzNCO0FBQ0o7cUJBQUEsQUFBSyxBQUNEO2tDQUFBLEFBQWMsUUFEbEIsQUFDSSxBQUFzQixNQUFLLEFBQzNCO0FBQ0o7cUJBQUEsQUFBSyxBQUNEO2tDQUFBLEFBQWMsUUFEbEIsQUFDSSxBQUFzQixLQUFJLEFBQzFCO0FBQ0o7QUFDSTtBQVpSLEFBZUE7OztnQkFBSSxXQUFXLEVBQUMsZ0JBQWlCLEtBQUEsQUFBSyxVQUFMLEFBQWUsT0FBZixBQUFzQixJQUFJLEtBQUEsQUFBSyxVQUFqRCxBQUEyRCxBQUN0RTtpQ0FEVyxBQUNNLGlCQUFpQixlQUR2QixBQUNzQyxBQUNqRDttQ0FBa0IsRUFBQyxZQUFZLEtBQUEsQUFBSyxVQUFsQixBQUE0QixJQUFJLGFBQWEsS0FBQSxBQUFLLFVBQWxELEFBQTRELEFBQzFFO3FDQUFpQixLQUFBLEFBQUssVUFIOUIsQUFBZSxBQUVPLEFBQ2tCLEFBRXhDOztpQkFBQSxBQUFLLFlBQUwsQUFBaUIsQUFDakI7aUJBQUEsQUFBSyxtQkFBbUIsRUFBQyxNQUFNLEtBQUEsQUFBSyxVQUFaLEFBQXNCLElBQUksSUFBSSxLQUFBLEFBQUssVUFBM0QsQUFBd0IsQUFBNkMsQUFDckU7aUJBQUEsQUFBSyxBQUNMO21CQUFBLEFBQU8sQUFDVjtBQWhZb0IsQUFrWXJCOztvQkFBWSxvQkFBQSxBQUFVLFVBQVYsQUFBb0IsS0FBcEIsQUFBeUIsTUFBTSxBQUN2QztnQkFBSSxNQUFNLFNBQUEsQUFBUyxLQUFULEFBQWMsS0FBeEIsQUFBVSxBQUFtQixBQUM3QjtnQkFBSSxpQkFBaUIsRUFBQyxRQUFRLEtBQUEsQUFBSyxTQUFkLEFBQXVCLEdBQUcsV0FBVyxLQUFBLEFBQUssU0FBMUMsQUFBbUQsQUFDcEU7MEJBQVUsS0FBQSxBQUFLLFNBREUsQUFDTyxJQUFJLFNBQVMsS0FBQSxBQUFLLFNBRHpCLEFBQ2tDLEFBQ25EO3dCQUFRLEtBQUEsQUFBSyxTQUZqQixBQUFxQixBQUVLLEFBQzFCO2dCQUFJLFdBQVcsRUFBQyxVQUFVLEtBQUEsQUFBSyxTQUFoQixBQUF5QixHQUFHLFdBQVcsS0FBQSxBQUFLLFNBQTNELEFBQWUsQUFBcUQsQUFDcEU7Z0JBQUksV0FBVyxFQUFDLFVBQUQsQUFBVyxVQUFVLGdCQUFwQyxBQUFlLEFBQXFDLEFBQ3BEO2lCQUFBLEFBQUssWUFBTCxBQUFpQixBQUVqQjs7aUJBQUEsQUFBSyxBQUNMO0FBQ0E7bUJBQUEsQUFBTyxJQUFQLEFBQVcsU0FBWCxBQUFvQixBQUNwQjttQkFBQSxBQUFPLEFBQ1Y7QUEvWW9CLEFBaVpyQjs7cUJBQWEscUJBQUEsQUFBVSxVQUFWLEFBQW9CLEtBQXBCLEFBQXlCLE1BQU0sQUFDeEM7Z0JBQUksTUFBTSxTQUFBLEFBQVMsS0FBVCxBQUFjLEtBQXhCLEFBQVUsQUFBbUIsQUFFOUI7O2dCQUFJLFlBQVksS0FBQSxBQUFLLGFBQWEsS0FBQSxBQUFLLFNBQXZCLEFBQWdDLElBQUksS0FBQSxBQUFLLFNBQXpDLEFBQWtELElBQUksS0FBQSxBQUFLLFNBQTNFLEFBQWdCLEFBQW9FLEFBQ25GO2dCQUFJLE1BQU0sS0FBQSxBQUFLLFNBQVgsQUFBb0IsTUFBSyxNQUFNLEtBQUEsQUFBSyxTQUF4QyxBQUFpRCxJQUNqRCxBQUNJOzBCQUFBLEFBQVUsUUFBVixBQUFrQixBQUNyQjtBQUhELHVCQUlRLE1BQU0sS0FBQSxBQUFLLFNBQWQsQUFBdUIsSUFDNUIsQUFDSTswQkFBQSxBQUFVLFFBQVYsQUFBa0IsQUFDckI7QUFISSxhQUFBLE1BSUQsQUFDQTswQkFBQSxBQUFVLFFBQVYsQUFBbUIsQUFDdEI7QUFDRDtnQkFBSSxZQUFhLEtBQUEsQUFBSyxhQUFhLEtBQUEsQUFBSyxTQUF2QixBQUFnQyxJQUFJLEtBQUEsQUFBSyxTQUF6QyxBQUFrRCxJQUFJLEtBQUEsQUFBSyxTQUE1RSxBQUFpQixBQUFvRSxBQUNyRjtzQkFBQSxBQUFVLFFBQVEsVUFBbEIsQUFBNEIsQUFDNUI7Z0JBQUksV0FBVyxFQUFDLFVBQVMsRUFBQyxXQUFYLEFBQVUsQUFBWSxhQUFZLGdCQUFlLEVBQUMsV0FBakUsQUFBZSxBQUFpRCxBQUFZLEFBQzVFO2lCQUFBLEFBQUssWUFBTCxBQUFpQixBQUVqQjs7Z0JBQUksZ0JBQWdCLEtBQUEsQUFBSyxhQUFhLEtBQUEsQUFBSyxTQUF2QixBQUFnQyxJQUFJLEtBQUEsQUFBSyxTQUF6QyxBQUFrRCxJQUFJLEtBQUEsQUFBSyxTQUEvRSxBQUFvQixBQUFvRSxBQUN4RjtnQkFBSSxLQUFBLEFBQUssU0FBTCxBQUFjLE9BQWQsQUFBcUIsS0FBSyxLQUFBLEFBQUssU0FBTCxBQUFjLE9BQTVDLEFBQW1ELEdBQUUsQUFDakQ7OEJBQUEsQUFBYyxRQUFkLEFBQXNCLEFBQ3pCO0FBRkQsdUJBR1EsS0FBQSxBQUFLLFNBQUwsQUFBYyxPQUFqQixBQUF3QixHQUFFLEFBQzNCOzhCQUFBLEFBQWMsUUFBZCxBQUFzQixBQUN6QjtBQUZJLGFBQUEsTUFHRCxBQUNBOzhCQUFBLEFBQWMsUUFBZCxBQUFzQixBQUN6QjtBQUNEO2dCQUFJLFNBQVMsSUFBYixBQUFhLEFBQUksQUFDakI7bUJBQUEsQUFBTyxRQUFQLEFBQWUsZ0JBQWYsQUFBK0IsQUFDL0I7QUFDQTtpQkFBQSxBQUFLLFVBQVUsRUFBQyxTQUFRLEVBQUMsZUFBekIsQUFBZSxBQUFTLEFBQWdCLEFBRXhDOztpQkFBQSxBQUFLLEFBQ0w7QUFDQTttQkFBQSxBQUFPLElBQVAsQUFBVyxTQUFYLEFBQW9CLEFBQ3BCO21CQUFBLEFBQU8sQUFDVjtBQXhib0IsQUEwYnJCOztjQUFNLGNBQUEsQUFBVSxLQUFWLEFBQWUsTUFBTSxBQUN2QjtnQkFBSSxJQUFKLEFBQVEsTUFDUixBQUNJO3VCQUFBLEFBQU8sSUFBUCxBQUFXLFNBQVgsQUFBb0IsQUFDcEI7dUJBQUEsQUFBTyxBQUNWO0FBQ0Q7aUJBQUEsQUFBSyxTQUFTLEtBQUssSUFBbkIsQUFBYyxBQUFLLEFBQUksQUFDdkI7aUJBQUEsQUFBSyxXQUFXLEtBQUssSUFBckIsQUFBZ0IsQUFBSyxBQUFJLEFBQ3pCO21CQUFBLEFBQU8sSUFBUCxBQUFXLFNBQVMseUJBQXlCLEtBQTdDLEFBQWtELFFBQVEsZUFBZSxLQUFLLElBQTlFLEFBQXlFLEFBQUssQUFBSSxBQUNsRjtpQkFBQSxBQUFLLEtBQUssS0FBSyxJQUFmLEFBQVUsQUFBSyxBQUFJLEFBQ25CO2lCQUFBLEFBQUssS0FBSyxLQUFLLElBQWYsQUFBVSxBQUFLLEFBQUksQUFDbkI7aUJBQUEsQUFBSyxXQUFXLEtBQUssSUFBckIsQUFBZ0IsQUFBSyxBQUFJLEFBQ3pCO0FBRUE7O2lCQUFBLEFBQUssS0FBSyxLQUFLLElBQWYsQUFBVSxBQUFLLEFBQUksQUFDbkI7aUJBQUEsQUFBSyxLQUFLLEtBQUssSUFBZixBQUFVLEFBQUssQUFBSSxBQUNuQjtpQkFBQSxBQUFLLEtBQUssSUFBVixBQUFVLEFBQUksQUFDZDtpQkFBQSxBQUFLLEtBQUssS0FBSyxJQUFmLEFBQVUsQUFBSyxBQUFJLEFBQ25CO2lCQUFBLEFBQUssS0FBSyxLQUFLLElBQWYsQUFBVSxBQUFLLEFBQUksQUFDbkI7aUJBQUEsQUFBSyxNQUFMLEFBQVcsQUFFWDs7aUJBQUEsQUFBSyxLQUFLLEtBQUssSUFBZixBQUFVLEFBQUssQUFBSSxBQUNuQjtpQkFBQSxBQUFLLE1BQUwsQUFBVyxBQUVYOztpQkFBQSxBQUFLLGtCQUFrQixLQUF2QixBQUE0QixJQUFHLEtBQS9CLEFBQW9DLElBQUcsS0FBdkMsQUFBNEMsSUFBRyxLQUEvQyxBQUFvRCxJQUFHLEtBQXZELEFBQTRELElBQUcsS0FBL0QsQUFBb0UsQUFDcEU7aUJBQUEsQUFBSyxLQUFLLEtBQUssSUFBZixBQUFVLEFBQUssQUFBSSxBQUNuQjtnQkFBRyxDQUFDLEtBQUosQUFBUyxJQUFHLEFBQ1I7cUJBQUEsQUFBSyxLQUFMLEFBQVUsQUFDYjtBQUNEO2lCQUFBLEFBQUssS0FBSyxLQUFLLElBQWYsQUFBVSxBQUFLLEFBQUksQUFDbkI7Z0JBQUcsQ0FBQyxLQUFKLEFBQVMsSUFBRyxBQUNSO3FCQUFBLEFBQUssS0FBTCxBQUFVLEFBQ2I7QUFFRDs7Z0JBQUcsS0FBSCxBQUFRLElBQUcsQUFDUDtxQkFBQSxBQUFLLGVBQWUsS0FBcEIsQUFBeUIsV0FBVyxlQUFlLEtBQUEsQUFBSyxLQUF4RCxBQUFvQyxBQUF5QixJQUE3RCxBQUFpRSxBQUNwRTtBQUVEOztnQkFBRyxLQUFILEFBQVEsSUFBRyxBQUNQO3FCQUFBLEFBQUssV0FBVyxLQUFoQixBQUFxQixVQUFVLGVBQWUsS0FBQSxBQUFLLEtBQW5ELEFBQStCLEFBQXlCLElBQXhELEFBQTRELEFBQzVEO3FCQUFBLEFBQUssWUFBWSxLQUFqQixBQUFzQixVQUFVLGVBQWUsS0FBQSxBQUFLLEtBQXBELEFBQWdDLEFBQXlCLElBQXpELEFBQTZELEFBQ2hFO0FBRUQ7O2dCQUFJLGVBQWUsS0FBbkIsQUFBbUIsQUFBSyxBQUN4QjtnQkFBSSxZQUFZLG9CQUFvQixhQUFBLEFBQWEsS0FBakMsQUFBc0MsS0FBdEQsQUFBZ0IsQUFBMkMsQUFDM0Q7Z0JBQUksWUFBWSxvQkFBb0IsYUFBQSxBQUFhLEtBQWpDLEFBQXNDLFFBQXRDLEFBQThDLFFBQTlELEFBQXNFLEFBQ3RFO2dCQUFJLFVBQVUsS0FBZCxBQUFjLEFBQUssQUFDbkI7QUFDQTtnQkFBRyxLQUFBLEFBQUssV0FBTCxBQUFnQixhQUFhLFVBQUEsQUFBVSxhQUFhLFVBQXZELEFBQUcsQUFBOEQsWUFBVyxBQUN4RTtvQkFBSSxNQUFKLEFBQVUsQUFDVjt1QkFBTyxNQUFQLEFBQWEsV0FBVSxBQUNuQjt5QkFBQSxBQUFLLGFBQUwsQUFBa0IsU0FBbEIsQUFBMkIsQUFDM0I7QUFDSDtBQUNEO3NCQUFNLFlBQU4sQUFBa0IsQUFDbEI7dUJBQU0sTUFBTSxLQUFaLEFBQWlCLFFBQU8sQUFDcEI7eUJBQUEsQUFBSyxhQUFMLEFBQWtCLFNBQWxCLEFBQTJCLEFBQzNCO0FBQ0g7QUFFRDs7cUJBQUEsQUFBSyxXQUFMLEFBQWdCLEFBQ2hCO29CQUFHLE1BQU0sS0FBQSxBQUFLLFVBQWQsQUFBd0IsSUFBRyxBQUN2Qjt5QkFBQSxBQUFLLFdBQUwsQUFBZ0IsQUFDbkI7QUFDSjtBQUNEO0FBQ0E7bUJBQUEsQUFBTyxBQUNWO0FBN2ZvQixBQStmckI7O29CQUFZLG9CQUFBLEFBQVUsVUFBVSxBQUM1QjttQkFBQSxBQUFPLElBQVAsQUFBVyxTQUFTLGlCQUFBLEFBQWlCLGtCQUFrQixLQUFuQyxBQUF3QyxVQUF4QyxBQUFrRCxnQkFBdEUsQUFBc0YsQUFDdEY7Z0JBQUksYUFBYSxLQUFqQixBQUFzQixTQUFRLEFBQzFCO3FCQUFBLEFBQUssZUFBTCxBQUFvQixBQUNwQjtxQkFBQSxBQUFLLFVBQUwsQUFBZSxBQUNsQjtBQUNKO0FBcmdCb0IsQUF1Z0JyQjs7aUJBQVUsbUJBQVcsQUFDakI7Z0JBQUksUUFBSixBQUFZLEFBQ1o7aUJBQUssSUFBSSxJQUFULEFBQWEsR0FBSSxJQUFJLEtBQXJCLEFBQTBCLFFBQTFCLEFBQW1DLEtBQUssQUFDcEM7b0JBQUcsQ0FBQyxLQUFBLEFBQUssYUFBVCxBQUFJLEFBQWtCLElBQUcsQUFDckI7QUFDSDtBQUNEO29CQUFJLENBQUMsS0FBQSxBQUFLLGFBQUwsQUFBa0IsR0FBdkIsQUFBSyxBQUFxQixXQUFXLEFBQ2pDOzRCQUFBLEFBQVEsQUFDUjtBQUNIO0FBQ0o7QUFDRDttQkFBQSxBQUFPLEFBQ1Y7QUFuaEJvQixBQXFoQnJCOztnQkFBUyxnQkFBQSxBQUFTLE9BQU8sQUFDckI7Z0JBQUksUUFBSixBQUFZLEFBQ1o7aUJBQUssSUFBSSxJQUFULEFBQWEsR0FBSSxJQUFJLEtBQXJCLEFBQTBCLFFBQTFCLEFBQW1DLEtBQUssQUFDcEM7b0JBQUksQ0FBQyxLQUFBLEFBQUssYUFBTCxBQUFrQixHQUFsQixBQUFxQixPQUFPLE1BQUEsQUFBTSxhQUF2QyxBQUFLLEFBQTRCLEFBQW1CLEtBQUssQUFDckQ7NEJBQUEsQUFBUSxBQUNSO0FBQ0g7QUFDSjtBQUNEO21CQUFBLEFBQU8sQUFDVjtBQTloQm9CLEFBZ2lCckI7O3lCQUFpQiwyQkFBWSxBQUN6QjtnQkFBSSxlQUFKLEFBQW1CLEFBQ25CO2dCQUFJLFdBQUosQUFBZSxBQUNmO2dCQUFJLE1BQU0sb0JBQW9CLEtBQUEsQUFBSyxjQUFMLEFBQW1CLEtBQWpELEFBQVUsQUFBNEMsQUFDdEQ7Z0JBQUksU0FBUyxvQkFBb0IsS0FBQSxBQUFLLGNBQUwsQUFBbUIsS0FBdkMsQUFBNEMsVUFBekQsQUFBbUUsQUFDbkU7cUJBQVUsVUFBVyxLQUFBLEFBQUssU0FBakIsQUFBMEIsSUFBMUIsQUFBZ0MsU0FBVSxLQUFBLEFBQUssU0FBeEQsQUFBaUUsQUFDakU7a0JBQU8sT0FBRCxBQUFRLFNBQVIsQUFBa0IsTUFBeEIsQUFBOEIsQUFFOUI7O21CQUFPLE9BQVAsQUFBYyxRQUFPLEFBQ2pCO29CQUFHLENBQUMsS0FBQSxBQUFLLGFBQUwsQUFBa0IsS0FBdEIsQUFBMkIsS0FBSSxBQUMzQjtBQUNBO0FBQ0g7QUFFRDs7eUJBQUEsQUFBUyxLQUFLLEtBQUEsQUFBSyxhQUFuQixBQUFjLEFBQWtCLEFBQ2hDO0FBQ0g7QUFFRDs7eUJBQUEsQUFBYTswQkFDQyxLQURJLEFBQ0MsQUFDZjs2QkFGYyxBQUVGLEFBQ1o7aUNBQWlCLEtBSHJCLEFBQWtCLEFBR1EsQUFFMUI7QUFMa0IsQUFDZDttQkFJSixBQUFPLEFBQ1Y7QUF4akJMLEFBQXlCLEFBMmpCekI7QUEzakJ5QixBQUVyQjs7UUF5akJBLGdCQUFnQixTQUFoQixBQUFnQixjQUFBLEFBQVUsS0FBSyxBQUMvQjthQUFBLEFBQUssZUFBZSxPQUFwQixBQUEyQixBQUMzQjthQUFBLEFBQUssVUFBTCxBQUFlLEFBQ2xCO0FBSEQsQUFLQTs7a0JBQUEsQUFBYztlQUNILGlCQUFZLEFBQ2Y7aUJBQUksSUFBSSxJQUFSLEFBQVksR0FBRyxJQUFJLEtBQUEsQUFBSyxhQUF4QixBQUFxQyxRQUFyQyxBQUE2QyxLQUFLLEFBQzlDO3FCQUFBLEFBQUssYUFBTCxBQUFrQixHQUFsQixBQUFxQixBQUN4QjtBQUNKO0FBTHFCLEFBT3RCOzt3QkFBaUIsd0JBQUEsQUFBUyxVQUFVLEFBQ2hDO3VCQUFXLFlBQVgsQUFBdUIsQUFDdkI7Z0JBQUksY0FBSixBQUFrQixBQUNsQjtnQkFBSSxPQUFKLEFBQVcsQUFDWDtnQkFBSSxRQUFRLENBQVosQUFBYSxBQUNiO2dCQUFHLENBQUMsS0FBSixBQUFTLGNBQWEsQUFDbEI7dUJBQUEsQUFBTyxBQUNWO0FBQ0Q7aUJBQUssSUFBSSxJQUFULEFBQWEsR0FBSSxJQUFJLEtBQUEsQUFBSyxhQUExQixBQUF1QyxRQUF2QyxBQUFnRCxLQUFLLEFBQ2pEO29CQUFHLENBQUMsS0FBQSxBQUFLLGFBQVQsQUFBSSxBQUFrQixJQUFHLEFBQ3JCO0FBQ0g7QUFDRDtvQkFBSSxVQUFVLEtBQUEsQUFBSyxhQUFMLEFBQWtCLEdBQWxCLEFBQXFCLGVBQW5DLEFBQWMsQUFBb0MsQUFDbEQ7b0JBQUEsQUFBSSxTQUFTLEFBQ1Q7NEJBQVEsS0FBQSxBQUFLLGFBQUwsQUFBa0IsR0FBMUIsQUFBNkIsQUFDN0I7d0JBQUEsQUFBSSxVQUFVLEFBQ1Y7b0NBQUEsQUFBWSxLQUFLLFlBQUEsQUFBWSxRQUFaLEFBQW9CLFFBQXBCLEFBQTRCLFVBQTdDLEFBQXVELEFBQzFEO0FBRkQsMkJBRU8sQUFDSDtvQ0FBQSxBQUFZLEtBQUssUUFBakIsQUFBaUIsQUFBUSxBQUM1QjtBQUNKO0FBQ0o7QUFDRDtnQkFBSSxZQUFBLEFBQVksU0FBaEIsQUFBeUIsR0FBRyxBQUN4QjtvQkFBQSxBQUFJLFVBQVUsQUFDVjsyQkFBTyxNQUFNLFlBQUEsQUFBWSxLQUFsQixBQUFNLEFBQWlCLE9BQTlCLEFBQXFDLEFBQ3hDO0FBRkQsdUJBRU8sQUFDSDsyQkFBTyxZQUFBLEFBQVksS0FBbkIsQUFBTyxBQUFpQixBQUMzQjtBQUNKO0FBQ0Q7bUJBQUEsQUFBTyxBQUNWO0FBckNxQixBQXNDdEI7aUJBQVMsbUJBQVksQUFDakI7Z0JBQUksUUFBSixBQUFZLEFBQ1o7Z0JBQUcsS0FBSCxBQUFRLGNBQWEsQUFDakI7cUJBQUksSUFBSSxJQUFSLEFBQVksR0FBRyxJQUFJLEtBQUEsQUFBSyxhQUF4QixBQUFxQyxRQUFyQyxBQUE2QyxLQUFJLEFBQzdDO3dCQUFHLEtBQUEsQUFBSyxhQUFSLEFBQUcsQUFBa0IsSUFBRyxBQUNwQjs0QkFBRyxDQUFDLEtBQUEsQUFBSyxhQUFMLEFBQWtCLEdBQXRCLEFBQUksQUFBcUIsV0FBVSxBQUMvQjtvQ0FBQSxBQUFRLEFBQ1I7QUFDSDtBQUNKO0FBQ0o7QUFDSjtBQUNEO21CQUFBLEFBQU8sQUFDVjtBQW5ETCxBQUEwQixBQXNEMUI7QUF0RDBCLEFBQ3RCOztRQXFEQSxrQkFBa0IsSUFBdEIsQUFBc0IsQUFBSSxBQUMxQjtvQkFBQSxBQUFnQixBQUNoQjtRQUFJLFdBQVcsRUFBQyxRQUFPLEVBQUMsT0FBRCxBQUFPLEdBQUcsUUFBVixBQUFpQixHQUFHLFVBQXBCLEFBQTZCLElBQUksU0FBeEQsQUFBZSxBQUFRLEFBQXlDLEFBQ2hFO29CQUFBLEFBQWdCLFlBQWhCLEFBQTRCLEFBQzVCO29CQUFBLEFBQWdCLFNBQWhCLEFBQXlCLGdCQUF6QixBQUF5QyxRQUF6QyxBQUFpRCxBQUNqRDtvQkFBQSxBQUFnQixTQUFoQixBQUF5QixjQUF6QixBQUF1QyxRQUF2QyxBQUErQyxBQUMvQztRQUFJLGVBQWUsU0FBZixBQUFlLGFBQUEsQUFBVTthQUN6QixBQUFLLFVBQUwsQUFBZSxBQUNmO2FBQUEsQUFBSyxlQUFMLEFBQW9CLEFBQ3BCO2FBQUksSUFBSSxJQUFSLEFBQVksR0FBRyxJQUFmLEFBQW1CLFlBQW5CLEFBQStCLEtBQUssQUFDaEM7aUJBQUEsQUFBSyxRQUFMLEFBQWEsS0FBSyxJQUFBLEFBQUksYUFBdEIsQUFBa0IsQUFBaUIsQUFDdEM7QUFDRDthQUFBLEFBQUssYUFBYSxDQUFsQixBQUFtQixBQUNuQjthQUFBLEFBQUssZUFBTCxBQUFvQixBQUNwQjthQUFBLEFBQUssZUFSeUIsQUFROUIsQUFBb0IsS0FSVSxBQUM5QixDQU8wQixBQUMxQjthQUFBLEFBQUssZ0JBQUwsQUFBcUIsQUFDckI7YUFBQSxBQUFLLFlBQUwsQUFBaUIsQUFDakI7YUFBQSxBQUFLLFdBQUwsQUFBZ0IsQUFDaEI7YUFBQSxBQUFLLGVBQWUsRUFBQyxXQUFELEFBQWEsR0FBRyxRQUFoQixBQUF5QixHQUFHLE9BQTVCLEFBQW9DLEdBQUcsU0FBM0QsQUFBb0IsQUFBaUQsQUFDeEU7QUFiRCxBQWVBOztpQkFBQSxBQUFhO2VBQ0YsaUJBQVksQUFDZjtpQkFBQSxBQUFLLGFBQWEsQ0FBbEIsQUFBbUIsQUFDbkI7aUJBQUEsQUFBSyxlQUFMLEFBQW9CLEFBQ3BCO2lCQUFBLEFBQUssZUFBTCxBQUFvQixBQUNwQjtpQkFBSyxJQUFJLElBQVQsQUFBYSxHQUFHLElBQUksS0FBQSxBQUFLLFFBQXpCLEFBQWlDLFFBQWpDLEFBQXlDLEtBQUssQUFDMUM7b0JBQUcsS0FBQSxBQUFLLFFBQVIsQUFBRyxBQUFhLElBQUcsQUFDZjt5QkFBQSxBQUFLLFFBQUwsQUFBYSxHQUFiLEFBQWdCLEFBQ25CO0FBQ0o7QUFDSjtBQVZvQixBQVlyQjs7b0JBQVksc0JBQVcsQUFDbkI7bUJBQU8sS0FBUCxBQUFZLEFBQ2Y7QUFkb0IsQUFnQnJCOztvQkFBWSxvQkFBQSxBQUFTLFlBQVksQUFDN0I7aUJBQUEsQUFBSyxlQUFMLEFBQW9CLEFBQ3ZCO0FBbEJvQixBQW9CckI7OzBCQUFrQiw0QkFBWSxBQUMxQjtpQkFBQSxBQUFLLGdCQUFnQixJQUFBLEFBQUksY0FBYyxLQUF2QyxBQUFxQixBQUFrQixBQUFLLEFBQzVDO29CQUFBLEFBQVEsSUFBSSxpQkFBaUIsS0FBQSxBQUFLLGNBQUwsQUFBbUIsZUFBaEQsQUFBNkIsQUFBa0MsQUFHL0Q7O2dCQUFJLElBQUksT0FBUixBQUFlLEFBQ2Y7Z0JBQUksTUFBSixBQUFVLE1BQU0sQUFDWjt1QkFBQSxBQUFPLElBQVAsQUFBVyxTQUFTLHVCQUFBLEFBQXVCLGVBQXZCLEFBQ2hCLG1CQUFtQixPQUR2QixBQUM4QixBQUM5QjtBQUNIO0FBRUQ7O2dCQUFJLEtBQUosQUFBUyxjQUFjLEFBQ25CO29CQUFJLEtBQUEsQUFBSyxhQUFULEFBQXNCLFlBQVksQUFDOUI7eUJBQUEsQUFBSyxhQUFMLEFBQWtCLFdBQWxCLEFBQTZCLEdBQUcsS0FBaEMsQUFBcUMsQUFDeEM7QUFDRDtvQkFBSSxLQUFBLEFBQUssaUJBQUwsQUFBc0IsUUFBUSxDQUFDLEtBQUEsQUFBSyxjQUF4QyxBQUFtQyxBQUFtQixXQUFXLEFBQUU7QUFDL0Q7eUJBQUEsQUFBSyxlQUFMLEFBQW9CLEFBQ3ZCO0FBRkQsdUJBRU8sQUFDSDt3QkFBSSxLQUFBLEFBQUssYUFBVCxBQUFzQixRQUFRLEFBQzFCOytCQUFBLEFBQU8sSUFBUCxBQUFXLFNBQVMsdUJBQUEsQUFBd0IsZ0JBQWdCLEtBQXhDLEFBQTZDLGVBQTdDLEFBQTRELFlBQWhGLEFBQTRGLEFBQzVGOzZCQUFBLEFBQUssYUFBTCxBQUFrQixPQUFPLEtBQXpCLEFBQThCLGNBQTlCLEFBQTRDLEdBQUcsS0FBL0MsQUFBb0QsQUFDdkQ7QUFDRDt5QkFBQSxBQUFLLGVBQWUsS0FBQSxBQUFLLGNBQUwsQUFBbUIsWUFBbkIsQUFBK0IsT0FBbkQsQUFBMEQsQUFFN0Q7QUFDSjtBQUNKO0FBL0NvQixBQWlEckI7O3dCQUFnQix3QkFBQSxBQUFTLEdBQUcsQUFDeEI7bUJBQUEsQUFBTyxJQUFQLEFBQVcsU0FBUSxxQkFBbkIsQUFBd0MsQUFDeEM7Z0JBQUksS0FBSixBQUFTLGNBQWMsQUFDbkI7b0JBQUksS0FBQSxBQUFLLGFBQVQsQUFBc0IsUUFBUSxBQUMxQjt5QkFBQSxBQUFLLGFBQUwsQUFBa0IsT0FBTyxLQUF6QixBQUE4QixjQUE5QixBQUE0QyxHQUFHLEtBQS9DLEFBQW9ELEFBQ3ZEO0FBQ0Q7cUJBQUEsQUFBSyxlQUFMLEFBQW9CLEFBQ3ZCO0FBQ0o7QUF6RG9CLEFBMkRyQjs7eUJBQWdCO2dCQUNSLGVBRG9CLEFBQ3hCLEFBQW1CLEtBREssQUFDeEIsQ0FBd0IsQUFDeEI7Z0JBQUksVUFBSixBQUFjLEFBQ2Q7Z0JBQUksSUFBSixBQUFRLEFBQ1I7aUJBQUksSUFBSixBQUFRLEdBQUcsSUFBSSxLQUFBLEFBQUssUUFBcEIsQUFBNEIsUUFBNUIsQUFBb0MsS0FBSyxBQUNyQztvQkFBRyxDQUFDLEtBQUEsQUFBSyxRQUFULEFBQUksQUFBYSxJQUFHLEFBQ2hCO0FBQ0g7QUFDRDt1QkFBQSxBQUFPLElBQVAsQUFBVyxTQUFTLHNCQUFBLEFBQXNCLFlBQVksS0FBQSxBQUFLLFFBQUwsQUFBYSxHQUEvQyxBQUFrRCxTQUFsRCxBQUNwQixjQUFjLEtBQUEsQUFBSyxRQUFMLEFBQWEsR0FEUCxBQUNVLFNBRFYsQUFDbUIsZUFBZSxLQUFBLEFBQUssUUFBTCxBQUFhLEdBRG5FLEFBQ3NFLEFBQ3RFO29CQUFHLENBQUEsQUFBQyxLQUFLLEtBQUEsQUFBSyxRQUFMLEFBQWEsR0FBbkIsQUFBc0IsVUFBVSxLQUFBLEFBQUssUUFBTCxBQUFhLEdBQWhELEFBQW1ELFFBQU8sQUFDdEQ7OEJBQUEsQUFBVSxBQUNWO0FBQ0g7QUFDSjtBQUNEO2dCQUFHLEtBQUgsQUFBUSxjQUFhLEFBQ2pCO3FCQUFBLEFBQUssZUFBTCxBQUFvQixBQUNwQjsrQkFBQSxBQUFlLEFBQ2xCO0FBSEQsdUJBSUssQUFBRyxTQUFRLEFBQ1o7K0JBQWUsS0FBZixBQUFlLEFBQUssQUFDdkI7QUFGSSxhQUFBLE1BR0EsQUFDRDsrQkFBZSxDQUFmLEFBQWUsQUFBQyxBQUNuQjtBQUVEOztpQkFBSSxJQUFKLEFBQVEsR0FBRyxJQUFJLEtBQUEsQUFBSyxRQUFwQixBQUE0QixRQUE1QixBQUFvQyxLQUFLLEFBQ3JDO29CQUFHLEtBQUEsQUFBSyxRQUFMLEFBQWEsTUFBTSxLQUFBLEFBQUssUUFBTCxBQUFhLEdBQW5DLEFBQXNDLFFBQU8sQUFDekM7eUJBQUEsQUFBSyxRQUFMLEFBQWEsR0FBYixBQUFnQixTQUFoQixBQUF5QixBQUM1QjtBQUNKO0FBQ0Q7bUJBQUEsQUFBTyxBQUNWO0FBM0ZvQixBQTZGckI7O3FCQUFhLHVCQUFZLEFBQ3JCO2dCQUFJLGVBQUosQUFBbUIsQUFDbkI7Z0JBQUksUUFBSixBQUFZLEFBQ1o7aUJBQUksSUFBSSxJQUFSLEFBQVksR0FBRyxJQUFJLEtBQUEsQUFBSyxRQUF4QixBQUFnQyxRQUFoQyxBQUF3QyxLQUFLLEFBQ3pDO29CQUFHLENBQUMsS0FBQSxBQUFLLFFBQU4sQUFBQyxBQUFhLE1BQU8sQ0FBQSxBQUFDLE1BQU0sS0FBQSxBQUFLLFFBQUwsQUFBYSxHQUE1QyxBQUErQyxRQUFRLEFBQ25EO0FBQ0g7QUFDRDtvQkFBRyxDQUFDLEtBQUEsQUFBSyxRQUFMLEFBQWEsR0FBakIsQUFBb0IsU0FBUSxBQUN4QjtBQUNIO0FBQ0Q7b0JBQUcsS0FBQSxBQUFLLFFBQUwsQUFBYSxHQUFoQixBQUFHLEFBQWdCLFdBQVUsQUFDMUI7QUFDRjtBQUNEO3dCQUFBLEFBQVEsQUFDUjtvQkFBSSxlQUFlLEtBQUEsQUFBSyxRQUFMLEFBQWEsR0FBaEMsQUFBbUIsQUFBZ0IsQUFDbkM7b0JBQUcsYUFBSCxBQUFnQixRQUFPLEFBQ25CO2lDQUFBLEFBQWEsS0FBYixBQUFrQixBQUNsQjsyQkFBQSxBQUFPLElBQVAsQUFBVyxTQUFTLGtCQUFBLEFBQWtCLFVBQVUsS0FBQSxBQUFLLFFBQUwsQUFBYSxHQUF6QyxBQUE0QyxTQUE1QyxBQUNwQixZQUFZLEtBQUEsQUFBSyxRQUFMLEFBQWEsR0FBYixBQUFnQixlQUQ1QixBQUNZLEFBQStCLEFBQzlDO0FBQ0o7QUFDRDtnQkFBQSxBQUFHLE9BQU0sQUFDTDs2QkFBQSxBQUFhLEtBQWIsQUFBa0IsQUFDckI7QUFDRDttQkFBQSxBQUFPLEFBQ1Y7QUF0SG9CLEFBd0hyQjs7d0JBQWdCLDBCQUFZLEFBQ3hCO2dCQUFJLGVBQUosQUFBbUIsQUFDbkI7Z0JBQUksUUFBSixBQUFZLEFBQ1o7aUJBQUksSUFBSSxJQUFSLEFBQVksR0FBRyxJQUFJLEtBQUEsQUFBSyxRQUF4QixBQUFnQyxRQUFoQyxBQUF3QyxLQUFLLEFBQ3pDO29CQUFHLENBQUMsS0FBQSxBQUFLLFFBQU4sQUFBQyxBQUFhLE1BQU8sQ0FBQSxBQUFDLE1BQU0sS0FBQSxBQUFLLFFBQUwsQUFBYSxHQUE1QyxBQUErQyxRQUFRLEFBQ25EO0FBQ0g7QUFDRDtvQkFBRyxDQUFDLEtBQUEsQUFBSyxRQUFMLEFBQWEsR0FBakIsQUFBb0IsU0FBUSxBQUN4QjtBQUNIO0FBQ0Q7b0JBQUcsS0FBQSxBQUFLLFFBQUwsQUFBYSxHQUFoQixBQUFHLEFBQWdCLFdBQVUsQUFDekI7QUFDSDtBQUNEO3dCQUFBLEFBQVEsQUFDUjtBQUNDO29CQUFHLG9CQUFvQixLQUFBLEFBQUssUUFBTCxBQUFhLEdBQWIsQUFBZ0IsZUFBdkMsQUFBdUIsQUFBK0IsT0FBTSxBQUN6RDtpQ0FBQSxBQUFhLEtBQUssS0FBQSxBQUFLLFFBQXZCLEFBQWtCLEFBQWEsQUFDbkM7QUFDSTsyQkFBQSxBQUFPLElBQVAsQUFBVyxTQUFTLGtCQUFBLEFBQWtCLFVBQVUsS0FBQSxBQUFLLFFBQUwsQUFBYSxHQUF6QyxBQUE0QyxTQUE1QyxBQUNoQixZQUFZLEtBQUEsQUFBSyxRQUFMLEFBQWEsR0FBYixBQUFnQixlQURoQyxBQUNnQixBQUErQixBQUNsRDtBQUNKO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7bUJBQUEsQUFBTyxBQUNWO0FBbEpvQixBQW9KckI7O3NCQUFjLHNCQUFBLEFBQVUsUUFBUSxBQUM1QjtnQkFBRyxJQUFBLEFBQUksVUFBVSxJQUFqQixBQUFxQixRQUFPLEFBQ3hCO3VCQUFBLEFBQU8sQUFDVjtBQUNEO2dCQUFHLFdBQVcsS0FBQSxBQUFLLFFBQUwsQUFBYSxRQUEzQixBQUFtQyxRQUFPLEFBQ3RDO3VCQUFPLEtBQUEsQUFBSyxRQUFaLEFBQU8sQUFBYSxBQUN2QjtBQUNKO0FBM0pvQixBQTZKckI7O2lCQUFTLGlCQUFBLEFBQVMsR0FBVCxBQUFZLFVBQVUsQUFDM0I7aUJBQUEsQUFBSyxXQUFMLEFBQWdCLEFBQ2hCO21CQUFBLEFBQU8sUUFBUCxBQUFlLEFBRWY7O2dCQUFJLElBQUosQUFBUSxBQUNSO29CQUFBLEFBQVEsSUFBSSw2QkFBQSxBQUE2QixXQUF6QyxBQUFvRCxBQUNwRDtBQUNBO0FBQ0E7QUFDQTttQkFBTyxJQUFJLFNBQVgsQUFBb0IsUUFBUSxBQUN4QjtvQkFBSSxXQUFKLEFBQWUsQUFDZjtvQkFBRyw0QkFBNEIsU0FBL0IsQUFBK0IsQUFBUyxJQUFHLEFBQ3ZDOytCQUFBLEFBQVcsQUFDWDt5QkFBQSxBQUFLLEFBQ1I7QUFDRDtvQkFBSSxNQUFNLFNBQVYsQUFBVSxBQUFTLElBQUksQUFDbkI7eUJBQUEsQUFBSyxhQUFMLEFBQWtCLFdBQWxCLEFBQTZCLEFBQzdCO3lCQUFBLEFBQUssQUFDTDtBQUNIO0FBQ0Q7QUFDQTtBQUNBO0FBRUE7O29CQUFLLGdDQUFnQyxTQUFoQyxBQUFnQyxBQUFTLE1BQU0sOEJBQThCLFNBQTlFLEFBQThFLEFBQVMsTUFDdEYsZ0NBQWdDLFNBRHJDLEFBQ3FDLEFBQVMsSUFBSyxBQUMvQzt5QkFBQSxBQUFLLGtCQUFrQixTQUF2QixBQUF1QixBQUFTLElBQWhDLEFBQW9DLEdBQXBDLEFBQXVDLEFBQ3ZDO3lCQUFBLEFBQUssYUFBTCxBQUFrQixRQUFsQixBQUEwQixBQUMxQjt5QkFBQSxBQUFLLEFBQ1I7QUFMRCwyQkFLVSw2QkFBNkIsU0FBN0IsQUFBNkIsQUFBUyxNQUFNLDJCQUEyQixTQUF4RSxBQUF3RSxBQUFTLE1BQ3JGLDZCQUE2QixTQUE3QixBQUE2QixBQUFTLE1BQU0sMkJBQTJCLFNBRHRFLEFBQ3NFLEFBQVMsSUFBSSxBQUNyRjt3QkFBSSxVQUFVLFNBQUEsQUFBUyxNQUF2QixBQUFjLEFBQWUsQUFDN0I7d0JBQUksV0FBVyxLQUFBLEFBQUsscUJBQUwsQUFBMEIsU0FBVSxTQUFBLEFBQVMsU0FBN0MsQUFBc0QsR0FBckUsQUFBZSxBQUEwRCxBQUN6RTt5QkFBQSxBQUFLLEFBQ0w7eUJBQUEsQUFBSyxhQUFMLEFBQWtCLE9BQWxCLEFBQXlCLEFBQzVCO0FBTkssaUJBQUEsTUFNQSxBQUNGO3lCQUFBLEFBQUssYUFBTCxBQUFrQixTQUFsQixBQUEyQixBQUM1QjtBQUNDO0FBQ0E7QUFDQTtBQUNBO3lCQUFBLEFBQUssQUFDUjtBQUNKO0FBQ0Q7aUJBQUEsQUFBSyxBQUNSO0FBMU1vQixBQTRNckI7OzhCQUFzQiw4QkFBQSxBQUFVLEtBQVYsQUFBZSxNQUFmLEFBQXFCLFNBQVMsQUFDaEQ7bUJBQUEsQUFBTyxJQUFQLEFBQVcsUUFBUSxpQ0FBaUMsSUFBQSxBQUFJLEdBQUosQUFBTyxTQUF4QyxBQUFpQyxBQUFnQixNQUFqRCxBQUFzRCxNQUFNLElBQTVELEFBQTRELEFBQUksS0FBaEUsQUFBcUUsTUFBckUsQUFDZixZQURlLEFBQ0gsT0FERyxBQUNJLGVBRHZCLEFBQ3NDLEFBQ3RDO2dCQUFJLE1BQUosQUFBVSxBQUNWO2dCQUFHLDZCQUE2QixJQUE3QixBQUE2QixBQUFJLE1BQU0sMkJBQTJCLElBQXJFLEFBQXFFLEFBQUksSUFBRyxBQUN4RTtvQkFBQSxBQUFJLFNBQVEsQUFDUjsyQkFBTyxJQUFBLEFBQUksS0FBSixBQUFPLElBQWQsQUFBa0IsQUFDckI7QUFGRCx1QkFFTSxBQUNGOzBCQUFNLEtBQUEsQUFBSyxZQUFMLEFBQWlCLEtBQXZCLEFBQU0sQUFBc0IsQUFDL0I7QUFDSjtBQU5ELG1CQU1NLElBQUcsNkJBQTZCLElBQTdCLEFBQTZCLEFBQUksTUFBTSwyQkFBMkIsSUFBckUsQUFBcUUsQUFBSSxJQUFHLEFBQzlFO29CQUFBLEFBQUksU0FBUSxBQUNSO3dCQUFJLDJCQUEyQixJQUEvQixBQUErQixBQUFJLElBQUcsQUFDbEM7K0JBQU0sQ0FBQyxJQUFBLEFBQUksS0FBTCxBQUFVLDZCQUFWLEFBQXFDLElBQTNDLEFBQStDLEFBQ2xEO0FBRkQsMkJBRUssQUFDRDs0QkFBRyxJQUFILEFBQU8sTUFBSyxBQUNSO21DQUFBLEFBQU8sSUFBUCxBQUFXLFNBQVgsQUFBb0Isb0RBQXBCLEFBQXVFLEFBQ3ZFO21DQUFBLEFBQU8sQUFDVjtBQUhELCtCQUdNLEFBQ0Y7bUNBQU8sQ0FBQyxJQUFBLEFBQUksS0FBTCxBQUFRLFFBQWYsQUFBdUIsQUFDMUI7QUFDSjtBQUNKO0FBWEQsdUJBV00sQUFDRjswQkFBTSxLQUFBLEFBQUssWUFBTCxBQUFpQixLQUF2QixBQUFNLEFBQXNCLEFBQy9CO0FBQ0o7QUFDRDtBQUNBO21CQUFBLEFBQU8sQUFDVjtBQXhPb0IsQUEwT3JCOztxQkFBYSxxQkFBQSxBQUFVLEtBQVYsQUFBZSxNQUFNLEFBQzlCO2dCQUFJLE1BQUosQUFBVSxBQUNWO2dCQUFJLDJCQUEyQixJQUEzQixBQUEyQixBQUFJLE1BQU0sMEJBQTBCLElBQW5FLEFBQW1FLEFBQUksSUFBRyxBQUN0RTtzQkFBQSxBQUFNLEFBQ1Q7QUFGRCx1QkFFUywyQkFBMkIsSUFBM0IsQUFBMkIsQUFBSSxNQUFNLDJCQUEyQixJQUFuRSxBQUFtRSxBQUFJLElBQUcsQUFDNUU7c0JBQUEsQUFBTSxBQUNUO0FBRkssYUFBQSxNQUVBLElBQUcsT0FBSCxBQUFVLEtBQUksQUFDaEI7dUJBQUEsQUFBTyxJQUFQLEFBQVcsU0FBWCxBQUFtQiw0REFBbkIsQUFBOEUsTUFBOUUsQUFBb0YsQUFDcEY7dUJBQUEsQUFBTyxBQUNWO0FBRUQ7O2dCQUFHLEtBQUssS0FBTCxBQUFVLGNBQWMsS0FBSyxLQUFoQyxBQUFxQyxZQUFXLEFBQzVDO29CQUFJLFdBQVcsS0FBQSxBQUFLLGFBQWEsS0FBakMsQUFBZSxBQUF1QixBQUN0QztvQkFBRyxDQUFILEFBQUksVUFBUyxBQUNUOzJCQUFBLEFBQU8sQUFDVjtBQUVEOzt5QkFBQSxBQUFTLGVBQVQsQUFBd0IsQUFFeEI7O3dCQUFRLElBQVIsQUFBUSxBQUFJLEFBQ1I7eUJBQUEsQUFBSyxBQUFJO0FBQUU7QUFDUDtBQUNIO0FBQ0Q7eUJBQUEsQUFBSyxBQUFJO0FBQUU7QUFDUDtxQ0FBQSxBQUFTLEFBQ1Q7QUFDSDtBQUNEO3lCQUFBLEFBQUssQUFBSTtBQUNMO3FDQUFBLEFBQVMsY0FBVCxBQUF1QixBQUN2QjtnQ0FBSSxlQUFlLFNBQW5CLEFBQW1CLEFBQVMsQUFDNUI7Z0NBQUksY0FBYyxvQkFBb0IsYUFBQSxBQUFhLEtBQWpDLEFBQXNDLEtBQXhELEFBQWtCLEFBQTJDLEFBQzdEO3FDQUFBLEFBQVMsV0FBVCxBQUFvQixBQUNwQjtBQUNIO0FBQ0Q7eUJBQUEsQUFBTSxBQUFJO0FBQUU7QUFDUjtxQ0FBQSxBQUFTLEFBQ1Q7QUFDSDtBQUNEO3lCQUFBLEFBQUssQUFBSTtBQUFDO0FBQ047cUNBQUEsQUFBUyxBQUNUO0FBQ0g7QUFDRDt5QkFBQSxBQUFLLEFBQUs7QUFDTjttQ0FBQSxBQUFPLElBQVAsQUFBVyxTQUFYLEFBQW9CLEFBQ3BCO0FBQ0g7QUFDRDt5QkFBQSxBQUFLLEFBQUs7QUFDTjttQ0FBQSxBQUFPLElBQVAsQUFBVyxTQUFYLEFBQW9CLEFBQ3BCO0FBQ0g7QUFDRDtBQUNJO0FBaENSLEFBa0NIOztBQUVEOzttQkFBQSxBQUFPLEFBQ1Y7QUFsU29CLEFBb1NyQjs7cUJBQVkscUJBQUEsQUFBVSxLQUFWLEFBQWUsTUFBTSxBQUM3QjtnQkFBSSxNQUFKLEFBQVUsQUFDVjtnQkFBSSxVQUFVLElBQVYsQUFBVSxBQUFJLE1BQU0sVUFBVSxJQUFsQyxBQUFrQyxBQUFJLElBQUcsQUFDckM7cUJBQUEsQUFBSyxhQUFhLElBQUEsQUFBSSxLQUF0QixBQUEyQixBQUMzQjtvQkFBSSxXQUFXLEtBQUEsQUFBSyxRQUFRLEtBQTVCLEFBQWUsQUFBa0IsQUFDakM7b0JBQUcsQ0FBSCxBQUFJLFVBQVMsQUFDVDsyQkFBQSxBQUFPLEFBQ1Y7QUFDRDt5QkFBQSxBQUFTLEFBQ1Q7c0JBQU0sU0FBQSxBQUFTLEtBQVQsQUFBYyxLQUFwQixBQUFNLEFBQW1CLEFBQzVCO0FBUkQsdUJBU1EsVUFBUyxJQUFULEFBQVMsQUFBSSxNQUFNLFVBQVUsSUFBaEMsQUFBZ0MsQUFBSSxJQUFHLEFBQ3hDO3FCQUFBLEFBQUssYUFBYSxJQUFBLEFBQUksS0FBdEIsQUFBMkIsQUFDM0I7c0JBQUEsQUFBTSxBQUNUO0FBSEksYUFBQSxNQUlELEFBQ0E7d0JBQVEsSUFBUixBQUFRLEFBQUksQUFDUjt5QkFBQSxBQUFLLEFBQU87QUFDUjtrQ0FBTyxLQUFBLEFBQUssYUFBTCxBQUFrQixLQUF6QixBQUFPLEFBQXVCLEFBQ2pDO0FBQ0c7QUFDSjt5QkFBQSxBQUFLLEFBQU87QUFDUjtrQ0FBTSxLQUFBLEFBQUssYUFBTCxBQUFrQixLQUF4QixBQUFNLEFBQXVCLEFBQ2hDO0FBQ0c7QUFDSjt5QkFBQSxBQUFLLEFBQU87QUFDUjtrQ0FBTSxLQUFBLEFBQUssYUFBTCxBQUFrQixLQUF4QixBQUFNLEFBQXVCLEFBQ2hDO0FBQ0c7QUFDSjt5QkFBQSxBQUFLLEFBQU87QUFDUjtrQ0FBTSxLQUFBLEFBQUssYUFBTCxBQUFrQixLQUF4QixBQUFNLEFBQXVCLEFBQ2hDO0FBQ0c7QUFDSjt5QkFBQSxBQUFLLEFBQU87QUFDUjtrQ0FBTSxLQUFBLEFBQUssYUFBTCxBQUFrQixLQUF4QixBQUFNLEFBQXVCLEFBQ2hDO0FBQ0c7QUFDSjt5QkFBQSxBQUFLLEFBQU87QUFDUjtrQ0FBQSxBQUFNLEFBQ1Q7QUFDRztBQUNKO3lCQUFBLEFBQUssQUFBTztBQUNSO2tDQUFBLEFBQU0sQUFDVDtBQUNHO0FBQ0o7eUJBQUEsQUFBSyxBQUFPO0FBQ1I7bUNBQUEsQUFBTyxJQUFQLEFBQVcsU0FBUyx5QkFBeUIsS0FBN0MsQUFBa0QsQUFDbEQ7Z0NBQUksT0FBTyxLQUFBLEFBQUssYUFBYSxLQUE3QixBQUFXLEFBQXVCLEFBQ2xDO2dDQUFBLEFBQUcsTUFBSyxBQUNKO3FDQUFBLEFBQUssQUFDUjtBQUVEOztrQ0FBQSxBQUFNLEFBQ1Q7QUFDRztBQUNKO3lCQUFBLEFBQUssQUFBTztBQUNSO2tDQUFNLEtBQUEsQUFBSyxhQUFMLEFBQWtCLEtBQXhCLEFBQU0sQUFBdUIsQUFDaEM7QUFDRztBQUNKO3lCQUFBLEFBQUssQUFBTztBQUNSO2tDQUFNLEtBQUEsQUFBSyxhQUFMLEFBQWtCLEtBQXhCLEFBQU0sQUFBdUIsQUFDaEM7QUFDRztBQUNKO3lCQUFBLEFBQUssQUFBTztBQUNSO2tDQUFNLEtBQUEsQUFBSyxhQUFMLEFBQWtCLEtBQXhCLEFBQU0sQUFBdUIsQUFDaEM7QUFDRztBQUNKO3lCQUFBLEFBQUssQUFBTztBQUNSO2tDQUFNLEtBQUEsQUFBSyxhQUFMLEFBQWtCLEtBQXhCLEFBQU0sQUFBdUIsQUFDaEM7QUFDRztBQUNKO0FBQVE7QUFBRTtBQUNOO2tDQUFBLEFBQU0sQUFDVDtBQUNHO0FBMURSLEFBNERIOztBQUNEO21CQUFBLEFBQU8sQUFDVjtBQWxYb0IsQUFvWHJCOztzQkFBYyxzQkFBQSxBQUFVLEtBQVYsQUFBZSxNQUFNLEFBQy9CO2dCQUFJLFVBQUosQUFBYztnQkFBRyxXQUFqQixBQUE0QixBQUM1QjtnQkFBSSxJQUFKLEFBQVEsTUFBSyxBQUNUO3VCQUFBLEFBQU8sSUFBUCxBQUFXLFNBQVgsQUFBb0IsQUFDcEI7dUJBQUEsQUFBTyxBQUNWO0FBQ0Q7bUJBQU8sSUFBUCxBQUFXLFNBQVEsQUFDZjtvQkFBSyxJQUFBLEFBQUksS0FBVCxBQUFjLFVBQVUsQUFDcEI7d0JBQUksT0FBTSxLQUFBLEFBQUssYUFBZixBQUFVLEFBQWtCLEFBQzVCO3dCQUFJLENBQUosQUFBSyxNQUFLLEFBQ047K0JBQUEsQUFBTyxBQUNWO0FBQ0Q7eUJBQUEsQUFBSyxjQUFMLEFBQW1CLEFBQ25CO3lCQUFBLEFBQUssQUFDTDt3QkFBSSxlQUFlLEtBQW5CLEFBQW1CLEFBQUssQUFDeEI7d0JBQUksY0FBYyxvQkFBb0IsYUFBQSxBQUFhLEtBQWpDLEFBQXNDLEtBQXhELEFBQWtCLEFBQTJDLEFBQzdEO3lCQUFBLEFBQUssV0FBTCxBQUFnQixBQUNuQjtBQUNEOzRCQUFBLEFBQVksQUFDWjtBQUNIO0FBQ0Q7bUJBQUEsQUFBTyxBQUNWO0FBMVlvQixBQTRZckI7O3NCQUFjLHNCQUFBLEFBQVUsS0FBVixBQUFlLE1BQU0sQUFDL0I7Z0JBQUksSUFBSixBQUFRLE1BQ1IsQUFDSTt1QkFBQSxBQUFPLElBQVAsQUFBVyxTQUFYLEFBQW1CLEFBQ25CO3VCQUFBLEFBQU8sQUFDVjtBQUNEO2dCQUFJLFVBQUosQUFBYztnQkFBRyxXQUFqQixBQUE0QixBQUM1QjttQkFBTyxJQUFQLEFBQVcsU0FBUSxBQUNmO29CQUFLLElBQUEsQUFBSSxLQUFULEFBQWMsVUFBVSxBQUNwQjt3QkFBSSxTQUFTLEtBQUEsQUFBSyxhQUFsQixBQUFhLEFBQWtCLEFBQy9CO3dCQUFBLEFBQUksUUFBTyxBQUNQOytCQUFBLEFBQU8sV0FBUCxBQUFrQixBQUNyQjtBQUNKO0FBQ0Q7NEJBQUEsQUFBWSxBQUNaO0FBQ0g7QUFDRDttQkFBQSxBQUFPLEFBQ1Y7QUE5Wm9CLEFBZ2FyQjs7c0JBQWMsc0JBQUEsQUFBVSxLQUFWLEFBQWUsTUFBTSxBQUMvQjtnQkFBSSxJQUFKLEFBQVEsTUFBSyxBQUNUO3VCQUFBLEFBQU8sSUFBUCxBQUFXLFNBQVgsQUFBb0IsQUFDcEI7dUJBQUEsQUFBTyxBQUNWO0FBQ0Q7Z0JBQUksVUFBSixBQUFjO2dCQUFHLFdBQWpCLEFBQTRCLEFBQzVCO21CQUFPLElBQVAsQUFBVyxTQUFRLEFBQ2Y7b0JBQUssSUFBQSxBQUFJLEtBQVQsQUFBYyxVQUFVLEFBQ3BCO3dCQUFJLFNBQVMsS0FBQSxBQUFLLGFBQWxCLEFBQWEsQUFBa0IsQUFDL0I7d0JBQUEsQUFBSSxRQUFPLEFBQ1A7K0JBQUEsQUFBTyxXQUFQLEFBQWtCLEFBQ3JCO0FBQ0o7QUFDRDs0QkFBQSxBQUFZLEFBQ1o7QUFDSDtBQUNEO21CQUFBLEFBQU8sQUFDVjtBQWpib0IsQUFtYnJCOztzQkFBYyxzQkFBQSxBQUFVLEtBQVYsQUFBZSxNQUFNLEFBQy9CO2dCQUFJLElBQUosQUFBUSxNQUNSLEFBQ0k7dUJBQUEsQUFBTyxJQUFQLEFBQVcsU0FBWCxBQUFvQixBQUNwQjt1QkFBQSxBQUFPLEFBQ1Y7QUFDRDtnQkFBSSxVQUFKLEFBQWM7Z0JBQUcsV0FBakIsQUFBNEIsQUFDNUI7bUJBQU8sSUFBUCxBQUFXLFNBQVEsQUFDZjtvQkFBSyxJQUFBLEFBQUksS0FBVCxBQUFjLFVBQVUsQUFDcEI7d0JBQUksU0FBUyxLQUFBLEFBQUssYUFBbEIsQUFBYSxBQUFrQixBQUMvQjt3QkFBQSxBQUFJLFFBQU8sQUFDUDsrQkFBQSxBQUFPLFdBQVcsQ0FBQyxPQUFBLEFBQU8sVUFBUixBQUFtQixLQUFyQyxBQUF3QyxBQUMzQztBQUNKO0FBQ0Q7NEJBQUEsQUFBWSxBQUNaO0FBQ0g7QUFDRDttQkFBQSxBQUFPLEFBQ1Y7QUFyY29CLEFBdWNyQjs7c0JBQWMsc0JBQUEsQUFBVSxLQUFWLEFBQWUsTUFBTSxBQUMvQjtnQkFBSSxJQUFKLEFBQVEsTUFBSyxBQUNUO3VCQUFBLEFBQU8sSUFBUCxBQUFXLFNBQVgsQUFBb0IsQUFDcEI7dUJBQUEsQUFBTyxBQUNWO0FBQ0Q7Z0JBQUksVUFBSixBQUFjO2dCQUFHLFdBQWpCLEFBQTRCLEFBQzVCO21CQUFPLElBQVAsQUFBVyxTQUNYLEFBQ0k7b0JBQUssSUFBQSxBQUFJLEtBQVQsQUFBYyxVQUNkLEFBQ0k7d0JBQUksV0FBVyxLQUFmLEFBQW9CLFlBQ3BCLEFBQ0k7NkJBQUEsQUFBSyxRQUFRLEtBQWIsQUFBa0IsWUFBbEIsQUFBOEIsQUFDOUI7NkJBQUEsQUFBSyxhQUFhLENBQWxCLEFBQW1CLEFBQ25COzZCQUFBLEFBQUssZUFBTCxBQUFvQixBQUN2QjtBQUNKO0FBQ0Q7NEJBQUEsQUFBWSxBQUNaO0FBQ0g7QUFDRDttQkFBQSxBQUFPLEFBQ1Y7QUE1ZG9CLEFBOGRyQjs7c0JBQWMsc0JBQUEsQUFBVSxLQUFWLEFBQWUsTUFBTSxBQUMvQjtnQkFBSSxJQUFKLEFBQVEsTUFDUixBQUNJO3VCQUFBLEFBQU8sSUFBUCxBQUFXLFNBQVgsQUFBb0IsQUFDcEI7dUJBQUEsQUFBTyxBQUNWO0FBRUY7O2dCQUFJLFNBQVMsS0FBQSxBQUFLLGFBQWEsS0FBL0IsQUFBYSxBQUF1QixBQUNuQztnQkFBQSxBQUFJLFFBQ0osQUFDSTtvQkFBSSxTQUFTLElBQUEsQUFBSSxNQUFqQixBQUFhLEFBQVUsQUFDdkI7dUJBQUEsQUFBTyxXQUFXLE9BQWxCLEFBQXlCLFVBQXpCLEFBQW1DLFFBQVMsT0FBNUMsQUFBbUQsQUFDdEQ7QUFDRDttQkFBQSxBQUFPLEFBQ1Y7QUE1ZW9CLEFBOGVyQjs7c0JBQWMsc0JBQUEsQUFBVSxLQUFWLEFBQWUsTUFBTSxBQUMvQjtnQkFBSSxJQUFKLEFBQVEsTUFDUixBQUNJO3VCQUFBLEFBQU8sSUFBUCxBQUFXLFNBQVgsQUFBb0IsQUFDcEI7dUJBQUEsQUFBTyxBQUNWO0FBRUY7O2dCQUFJLFNBQVMsS0FBQSxBQUFLLGFBQWEsS0FBL0IsQUFBYSxBQUF1QixBQUNuQztnQkFBQSxBQUFJLFFBQ0osQUFDSTtvQkFBSSxTQUFTLElBQUEsQUFBSSxNQUFqQixBQUFhLEFBQVUsQUFDdkI7dUJBQUEsQUFBTyxZQUFZLE9BQW5CLEFBQTBCLFVBQTFCLEFBQW9DLFFBQVMsT0FBN0MsQUFBb0QsQUFDdkQ7QUFDRDttQkFBQSxBQUFPLEFBQ1Y7QUE1Zm9CLEFBOGZyQjs7c0JBQWMsc0JBQUEsQUFBVSxLQUFWLEFBQWUsTUFBTSxBQUMvQjtnQkFBSSxJQUFKLEFBQVEsTUFDUixBQUNJO3VCQUFBLEFBQU8sSUFBUCxBQUFXLFNBQVgsQUFBb0IsQUFDcEI7dUJBQUEsQUFBTyxBQUNWO0FBRUQ7O2dCQUFJLFVBQVUsS0FBQSxBQUFLLGFBQWEsS0FBaEMsQUFBYyxBQUF1QixBQUNyQztnQkFBSSxDQUFKLEFBQUssU0FDTCxBQUNJO3VCQUFPLE9BQUEsQUFBTyxJQUFQLEFBQVcsSUFBbEIsQUFBc0IsQUFDekI7QUFFRDs7Z0JBQUksZUFBZSxvQkFBb0IsUUFBQSxBQUFRLGNBQVIsQUFBc0IsS0FBN0QsQUFBbUIsQUFBK0MsQUFDbEU7Z0JBQUksYUFBYSxLQUFLLElBQXRCLEFBQWlCLEFBQUssQUFBSSxBQUMxQjtvQkFBQSxBQUFRLFdBQVcsZUFBbkIsQUFBa0MsQUFDbEM7Z0JBQUksUUFBSixBQUFZLEFBQ1o7Z0JBQUksSUFBSixBQUFRLE1BQ0osUUFBUSxLQUFLLElBQWIsQUFBUSxBQUFLLEFBQUksQUFFckI7O2dCQUFJLFNBQVMsUUFBYixBQUFhLEFBQVEsQUFDckI7Z0JBQUksUUFBQSxBQUFRLFdBQVosQUFBSSxBQUFtQixTQUFRLEFBQzNCO29CQUFJLFFBQUEsQUFBUSxhQUFSLEFBQXFCLFFBQXJCLEFBQTZCLE1BQWpDLEFBQXVDLEdBQUUsQUFDckM7NEJBQUEsQUFBUSxhQUFSLEFBQXFCLFFBQXJCLEFBQTZCLGNBQTdCLEFBQTJDLEFBQzlDO0FBRkQsdUJBR0ksQUFDRDs0QkFBQSxBQUFRLGFBQVIsQUFBcUIsUUFBckIsQUFBNkIsVUFBN0IsQUFBdUMsQUFDekM7QUFDSjtBQUNEO29CQUFBLEFBQVEsZUFBUixBQUF1QixBQUN2QjttQkFBUSxPQUFELEFBQVEsSUFBUixBQUFhLElBQXBCLEFBQXdCLEFBQzNCO0FBN2hCb0IsQUEraEJyQjs7c0JBQWMsc0JBQUEsQUFBVSxLQUFWLEFBQWUsTUFBTSxBQUMvQjtnQkFBSSxJQUFKLEFBQVEsTUFBSyxBQUNUO3VCQUFBLEFBQU8sSUFBUCxBQUFXLFNBQVgsQUFBb0IsQUFDcEI7dUJBQUEsQUFBTyxBQUNWO0FBQ0Q7Z0JBQUksVUFBVSxLQUFBLEFBQUssYUFBYSxLQUFoQyxBQUFjLEFBQXVCLEFBQ3JDO2dCQUFBLEFBQUksU0FDSixBQUNJO29CQUFJLFNBQVMsSUFBQSxBQUFJLE1BQWpCLEFBQWEsQUFBVSxBQUN2Qjt3QkFBQSxBQUFRLGVBQWUsUUFBdkIsQUFBK0IsV0FBL0IsQUFBMEMsUUFBUyxPQUFuRCxBQUEwRCxBQUM3RDtBQUNEO21CQUFBLEFBQU8sQUFDVjtBQTNpQm9CLEFBNmlCckI7OzJCQUFtQiwyQkFBQSxBQUFVLE1BQVYsQUFBZ0IsTUFBaEIsQUFBc0IsU0FBUyxBQUM5QzttQkFBQSxBQUFPLElBQVAsQUFBVyxRQUFRLDhCQUE4QixLQUFBLEFBQUssU0FBbkMsQUFBOEIsQUFBYyxNQUE1QyxBQUFpRCxNQUFqRCxBQUF1RCxPQUF2RCxBQUE4RCxNQUE5RCxBQUFvRSxZQUFwRSxBQUFnRixPQUFoRixBQUNuQixlQURtQixBQUNKLFVBREksQUFDTSxpQkFBaUIsS0FEMUMsQUFDK0MsQUFDL0M7Z0JBQUksV0FBSixBQUFlO2dCQUNYLFlBREosQUFDZ0IsQUFDakI7Z0JBQUEsQUFBSSxTQUFRLEFBQ1A7b0JBQUksY0FBSixBQUFrQixBQUNsQjt1QkFBTSxjQUFOLEFBQW9CLHNCQUFwQixBQUF5QyxlQUFjLEFBQ25EO3dCQUFHLFlBQVksb0JBQUEsQUFBb0IsYUFBbkMsQUFBZSxBQUFpQyxJQUFHLEFBQy9DO21DQUFXLG9CQUFBLEFBQW9CLGFBQS9CLEFBQVcsQUFBaUMsQUFDNUM7QUFDSDtBQUNKO0FBQ0Q7b0JBQUksd0JBQUosQUFBNEIsYUFBWSxBQUNwQzsrQkFBQSxBQUFXLEFBQ2Q7QUFDSjtBQVhGLG1CQVlNLElBQUksWUFBSixBQUFnQixNQUFLLEFBQ3RCOzJCQUFBLEFBQVcsQUFDZDtBQUNEO3dCQUFZLENBQVosQUFBWSxBQUFDLEFBQ2I7Z0JBQUEsQUFBRyxXQUFVLEFBQ1Q7b0JBQUksV0FBVyxtQkFBZixBQUFlLEFBQW1CLEFBQ2xDO3VCQUFBLEFBQU8sSUFBUCxBQUFXLFNBQVMsdUJBQXVCLFNBQUEsQUFBUyxLQUFwRCxBQUEyQyxBQUFjLEFBRXpEOztvQkFBSSxLQUFBLEFBQUssY0FBVCxBQUFzQixHQUFHLEFBQ3JCO3dCQUFJLE9BQU8sS0FBQSxBQUFLLGFBQWEsS0FBN0IsQUFBVyxBQUF1QixBQUNsQzt3QkFBQSxBQUFHLE1BQUssQUFDSjs0QkFBRyxDQUFBLEFBQUMsTUFBTSxLQUFWLEFBQVUsQUFBSyxjQUFhLEFBQ3hCO2dDQUFJLFdBQVcsS0FBZixBQUFlLEFBQUssQUFDcEI7Z0NBQUEsQUFBRyxVQUFTLEFBQ1I7b0NBQUksVUFBVSxvQkFBb0IsU0FBQSxBQUFTLEtBQTNDLEFBQWMsQUFBa0MsQUFDaEQ7cUNBQUEsQUFBSyxXQUFMLEFBQWdCLEFBQ2hCO3FDQUFBLEFBQUssaUJBQUwsQUFBc0IsQUFDekI7QUFDSjtBQUNEOzZCQUFBLEFBQUssWUFBTCxBQUFpQixBQUNqQjtBQUNIO0FBQ0o7QUFkRCx1QkFjTyxBQUNIOzJCQUFBLEFBQU8sSUFBUCxBQUFXLFdBQVgsQUFBc0IsQUFDekI7QUFDRDt1QkFBQSxBQUFPLEFBQ1Y7QUFFRDs7bUJBQUEsQUFBTyxBQUNWO0FBM2xCTCxBQUF5QixBQStsQnpCO0FBL2xCeUIsQUFDckI7O1FBOGxCQSxjQUFjLFNBQWQsQUFBYyxjQUFZLEFBQzFCO2FBQUEsQUFBSyxVQUFMLEFBQWUsQUFDZjthQUFBLEFBQUssY0FBTCxBQUFtQixBQUN0QjtBQUhELEFBSUE7Z0JBQUEsQUFBWTtlQUNELGlCQUFZLEFBQ2Y7aUJBQUEsQUFBSyxjQUFMLEFBQW1CLEFBQ25CO2lCQUFBLEFBQUssVUFBTCxBQUFlLEFBQ2xCO0FBSm1CLEFBS3BCO3FCQUFhLHFCQUFBLEFBQVUsTUFBTSxBQUN6QjtpQkFBQSxBQUFLLFVBQVUsS0FBQSxBQUFLLFFBQUwsQUFBYSxPQUE1QixBQUFlLEFBQW9CLEFBQ3RDO0FBUEwsQUFBd0IsQUFVeEI7QUFWd0IsQUFDcEI7O1FBU0EscUJBQXFCLFNBQXJCLEFBQXFCLHFCQUFZLEFBQ2pDO2FBQUEsQUFBSyxpQkFBTCxBQUFzQixBQUN0QjthQUFBLEFBQUssVUFBTCxBQUFlLEFBQ2Y7YUFBSyxJQUFJLElBQVQsQUFBYSxHQUFHLEtBQWhCLEFBQXFCLG9CQUFyQixBQUF5QyxLQUFLLEFBQzFDO2lCQUFBLEFBQUssUUFBTCxBQUFhLEtBQUssSUFBbEIsQUFBa0IsQUFBSSxBQUN6QjtBQUNKO0FBTkQsQUFRQTs7dUJBQUEsQUFBbUI7ZUFDUixpQkFBWSxBQUNmO2lCQUFLLElBQUksSUFBVCxBQUFhLEdBQUcsSUFBSSxLQUFBLEFBQUssUUFBekIsQUFBaUMsUUFBakMsQUFBeUMsS0FBSyxBQUMxQztxQkFBQSxBQUFLLFFBQUwsQUFBYSxHQUFiLEFBQWdCLEFBQ25CO0FBQ0Q7aUJBQUEsQUFBSyxpQkFBTCxBQUFzQixBQUN6QjtBQU4wQixBQVEzQjs7c0NBQThCLHNDQUFBLEFBQVUsYUFBVixBQUF1QixLQUFLLEFBQ3REO2lCQUFBLEFBQUssQUFDTDtnQkFBSSxVQUFKLEFBQWMsQUFDZDtnQkFBSSxlQUFKLEFBQW1CLEFBQ25CO21CQUFPLFVBQVAsQUFBaUIsR0FDakIsQUFDSTtvQkFBSSxZQUFZLEtBQUssWUFBckIsQUFBZ0IsQUFBSyxBQUFZLEFBQ2pDO29CQUFJLFlBQVksS0FBSyxZQUFyQixBQUFnQixBQUFLLEFBQVksQUFDakM7QUFDQTtBQUNBO29CQUFLLE1BQUwsQUFBVyxXQUNYLEFBQ0k7d0JBQUksTUFBSixBQUFVLFdBQ1YsQUFDSTsrQkFBQSxBQUFPLElBQVAsQUFBVyxTQUFYLEFBQW9CLEFBQ3ZCO0FBQ0Q7MkJBQVEsS0FMWixBQUtJLEFBQWEsZ0JBQWUsQUFDL0I7QUFDRDtvQkFBSSxLQUFBLEFBQUssYUFBYSxJQUF0QixBQUEwQixXQUMxQixBQUNJO2dDQUFZLEtBQUssWUFBakIsQUFBWSxBQUFLLEFBQVksQUFDN0I7QUFDQTtBQUNIO0FBRUQ7O29CQUFJLFlBQWEsTUFBakIsQUFBdUIsY0FDdkIsQUFDSTtnQ0FBWSxNQUFaLEFBQWtCLEFBQ2xCOzJCQUFBLEFBQU8sSUFBUCxBQUFXLFNBQVgsQUFBb0IsQUFDdkI7QUFDRDtvQkFBSSxLQUFBLEFBQUssaUJBQUwsQUFBc0IsWUFBMUIsQUFBc0MsMkJBQ3RDLEFBQ0k7MkJBQUEsQUFBTyxJQUFQLEFBQVcsU0FBWCxBQUFvQixBQUNwQjtnQ0FBWSxLQUFLLEtBQWpCLEFBQXNCLEFBQ3pCO0FBQ0Q7b0JBQUksWUFBWSxZQUFBLEFBQVksTUFBWixBQUFrQixjQUFjLFlBQWhELEFBQWdCLEFBQTRDLEFBQzVEO29CQUFHLEtBQUEsQUFBSyxRQUFSLEFBQUcsQUFBYSxZQUFXLEFBQ3ZCO3lCQUFBLEFBQUssUUFBTCxBQUFhLFdBQWIsQUFBd0IsWUFBeEIsQUFBb0MsQUFDcEM7eUJBQUEsQUFBSyxRQUFMLEFBQWEsV0FBYixBQUF3QixlQUF4QixBQUF1QyxBQUN2Qzt5QkFBQSxBQUFLLGtCQUFMLEFBQXVCLEFBQzFCO0FBRUQ7O2dDQUFBLEFBQWdCLEFBQ2hCOzJCQUFBLEFBQVcsQUFDZDtBQUNEO21CQUFPLEtBQVAsQUFBWSxBQUNmO0FBdERMLEFBQStCLEFBeUQvQjtBQXpEK0IsQUFDM0I7O1FBd0RBLHFCQUFxQixTQUFyQixBQUFxQixxQkFBVSxBQUMvQjthQUFBLEFBQUssUUFBUSxDQUFiLEFBQWMsQUFDZDthQUFBLEFBQUssYUFBTCxBQUFrQixBQUNsQjthQUFBLEFBQUssZUFBZSxJQUFwQixBQUFvQixBQUFJLEFBQ3hCO2FBQUEsQUFBSyxZQUFZLENBQWpCLEFBQWtCLEFBQ2xCO2FBQUEsQUFBSyxlQUFMLEFBQW9CLEFBQ3ZCO0FBTkQsQUFRQTs7dUJBQUEsQUFBbUI7ZUFDVixpQkFBWSxBQUNmO2lCQUFBLEFBQUssUUFBUSxDQUFiLEFBQWMsQUFDZDtpQkFBQSxBQUFLLGFBQUwsQUFBa0IsQUFDbEI7aUJBQUEsQUFBSyxZQUFMLEFBQWlCLEFBQ2pCO2lCQUFBLEFBQUssWUFBWSxDQUFqQixBQUFrQixBQUNsQjtpQkFBQSxBQUFLLGVBQUwsQUFBb0IsQUFDdkI7QUFQNEIsQUFTN0I7O3FDQUE2QixxQ0FBQSxBQUFTLFFBQU8sQUFDekM7aUJBQUEsQUFBSyxRQUFRLEtBQUssT0FBbEIsQUFBYSxBQUFLLEFBQU8sQUFDekI7Z0JBQUksS0FBQSxBQUFLLGFBQWEsQ0FBbEIsQUFBbUIsS0FBSyxLQUFBLEFBQUssU0FBUyxDQUFDLEtBQUEsQUFBSyxZQUFOLEFBQWtCLEtBQTVELEFBQStELEdBQy9ELEFBQ0k7dUJBQUEsQUFBTyxJQUFQLEFBQVcsU0FBUyxrRUFBQSxBQUNwQixpQkFBaUIsS0FERyxBQUNFLFlBREYsQUFDYyxhQUFhLEtBRm5ELEFBQ0ksQUFDb0QsUUFBTyxBQUM5RDtBQUNEO2lCQUFBLEFBQUssWUFBWSxLQUFqQixBQUFzQixBQUN0QjtpQkFBQSxBQUFLLGFBQWEsS0FBSyxPQUF2QixBQUFrQixBQUFLLEFBQU8sQUFDOUI7Z0JBQUksQ0FBQyxLQUFMLEFBQVUsWUFDVixBQUNJO3FCQUFBLEFBQUssYUFBTCxBQUFrQixBQUNyQjtBQUhELG1CQUtBLEFBQ0k7cUJBQUEsQUFBSyxhQUFhLEtBQUEsQUFBSyxhQUFMLEFBQWdCLElBQWxDLEFBQXNDLEFBQ3pDO0FBQ0Q7Z0JBQUksS0FBQSxBQUFLLGFBQWEsT0FBQSxBQUFPLFNBQTdCLEFBQXNDLEdBQ3RDLEFBQ0k7cUJBQUEsQUFBSyxhQUFhLE9BQUEsQUFBTyxTQUF6QixBQUFrQyxBQUNsQzt1QkFBQSxBQUFPLElBQVAsQUFBVyxTQUFYLEFBQW9CLEFBQ3ZCO0FBQ0Q7Z0JBQUksVUFBVSxPQUFBLEFBQU8sTUFBckIsQUFBYyxBQUFhLEFBQzNCO21CQUFPLEtBQUEsQUFBSyxhQUFMLEFBQWtCLDZCQUFsQixBQUErQyxTQUFTLEtBQS9ELEFBQU8sQUFBNkQsQUFDdkU7QUFqQ0gsQUFBK0IsQUFxQy9CO0FBckMrQixBQUM3Qjs7WUFvQ0YsQUFBUSxTQUFSLEFBQWlCLEFBQ2pCO1lBQUEsQUFBUSxlQUFSLEFBQXVCLEFBQ3ZCO1lBQUEsQUFBUSxxQkFBUixBQUE2QixBQUM3QjtZQUFBLEFBQVEsYUFBUixBQUFxQixBQUNyQjtZQUFBLEFBQVEsVUFBUixBQUFrQixBQUNyQjtBQWg0RUEsR0FnNEVDLE9BQUEsQUFBTyxZQUFQLEFBQW1CLGNBQWMsVUFBQSxBQUFLLGVBQXRDLEFBQXFELEtBaDRFdkQsQUFBQyxBQWc0RTJEOzs7OztBQ2o0RTVEO0FBQ0E7QUFDQTtBQUNBOztBQUNBLElBQUksZUFBZSxRQUFuQixBQUFtQixBQUFRO0FBQzNCLElBQUksZUFBZSxRQUFuQixBQUFtQixBQUFRO0FBQzNCO0FBQ0MsV0FBQSxBQUFVLFNBQVMsQUFFaEI7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO1FBQUksa0JBQUosQUFBc0I7UUFDbEIsVUFESixBQUNjO1FBQ1YsVUFGSixBQUVjO1FBQ1YsZ0JBSEosQUFHb0I7UUFFaEIseUJBTEosQUFLNkI7UUFDekIseUJBTkosQUFNNkI7UUFDekIsOEJBUEosQUFPa0M7UUFDOUIsOEJBUkosQUFRa0MsQUFDOUI7QUFFSjs7UUFBSSxzQkFBSixBQUEwQixBQUN2QjtBQUVIOztRQUFJO3VCQUNnQixFQUFDLFFBQUQsQUFBVSxHQUFHLFNBQWIsQUFBdUIsR0FBRyxRQUExQixBQUFtQyxHQUFHLFdBQXRDLEFBQWtELEdBQUcsUUFBckQsQUFBOEQsR0FBRyxTQUR4RSxBQUNPLEFBQTJFLEFBQzNGO2NBRlMsQUFFRixBQUNQO3NCQUhTLEFBR00sR0FBRyxBQUNsQjtpQkFBVSxpQkFBQSxBQUFTLFNBQVMsQUFDeEI7aUJBQUEsQUFBSyxPQUFMLEFBQVksQUFDZjtBQU5RLEFBT1Q7YUFBTSxhQUFBLEFBQVMsVUFBVCxBQUFtQixLQUFLLEFBQzFCO2dCQUFJLFdBQVcsS0FBQSxBQUFLLGNBQXBCLEFBQWUsQUFBbUIsQUFDbEM7Z0JBQUksS0FBQSxBQUFLLGdCQUFULEFBQXlCLFVBQVUsQUFDL0I7d0JBQUEsQUFBUSxJQUFJLEtBQUEsQUFBSyxPQUFMLEFBQVksT0FBWixBQUFtQixXQUFuQixBQUE4QixPQUExQyxBQUFpRCxBQUNwRDtBQUNKO0FBWlEsQUFhVDtxQkFBYSxxQkFBQSxBQUFVLE9BQU8sQUFDMUI7aUJBQUEsQUFBSyxlQUFMLEFBQW9CLEFBQ3ZCO0FBZkwsQUFBYSxBQWtCYjtBQWxCYSxBQUNUOztBQWtCSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7UUFBSSxlQUFKLEFBQW1CO1FBQ2YsWUFESixBQUNnQixBQUdoQjs7UUFBSSxtQkFBb0IsU0FBcEIsQUFBb0IsaUJBQUEsQUFBUyxTQUFULEFBQWtCLE1BQWxCLEFBQXdCLE1BQU0sQUFDbEQ7YUFBQSxBQUFLLFVBQUwsQUFBZSxBQUNmO2FBQUEsQUFBSyxVQUFVLENBQUEsQUFBQyxNQUFoQixBQUFlLEFBQU8sQUFDdEI7YUFBQSxBQUFLLGdCQUFMLEFBQXFCLEFBQ3JCO2FBQUEsQUFBSyxZQUFMLEFBQWlCLEFBQ3BCO0FBTEQsQUFPQTs7cUJBQUEsQUFBaUI7ZUFDUCxpQkFBWSxBQUNkO2lCQUFBLEFBQUssZ0JBQUwsQUFBcUIsQUFDckI7aUJBQUEsQUFBSyxVQUFMLEFBQWUsQUFDbEI7QUFKd0IsQUFNekI7O29CQUFZLHNCQUFZLEFBQ3BCO21CQUFPLEtBQUEsQUFBSyxVQUFaLEFBQU8sQUFBZSxBQUN6QjtBQVJ3QixBQVV6Qjs7b0JBQVksb0JBQUEsQUFBVSxZQUFZLEFBQzlCO2lCQUFBLEFBQUssVUFBTCxBQUFlLFdBQWYsQUFBMEIsQUFDN0I7QUFad0IsQUFjekI7OzBCQUFrQiwwQkFBQSxBQUFVLE1BQU0sQUFDOUI7Z0JBQUcsS0FBQSxBQUFLLGlCQUFSLEFBQXlCLE1BQUssQUFDMUI7cUJBQUEsQUFBSyxnQkFBTCxBQUFxQixBQUN4QjtBQUNEO0FBQ0E7QUFDSDtBQXBCd0IsQUFzQnpCOzt5QkFBZ0IseUJBQUEsQUFBVSxTQUFWLEFBQW1CLE1BQW5CLEFBQXlCLE1BQU0sQUFDM0M7Z0JBQUksV0FBSixBQUFlLFNBQVMsQUFDcEI7cUJBQUEsQUFBSyxZQUFXLElBQUksYUFBSixBQUFpQixhQUFqQixBQUE4QixHQUE5QixBQUFpQyxNQUFqRCxBQUFnQixBQUF1QyxBQUN2RDtvQkFBSSxDQUFDLEtBQUwsQUFBVSxXQUFVLEFBQ2hCOzJCQUFBLEFBQU8sQUFDVjtBQUNEO0FBQ0E7NkJBQUEsQUFBYSxPQUFiLEFBQW9CLFlBQXBCLEFBQWdDLEFBQ25DO0FBUEQsdUJBT1csV0FBSixBQUFlLFNBQVEsQUFDMUI7cUJBQUEsQUFBSyxZQUFZLElBQUksYUFBSixBQUFpQixhQUFqQixBQUE4QixHQUE5QixBQUFpQyxNQUFsRCxBQUFpQixBQUF1QyxBQUN4RDtvQkFBSSxDQUFDLEtBQUwsQUFBVSxXQUFVLEFBQ2hCOzJCQUFBLEFBQU8sQUFDVjtBQUNGO0FBQ0Y7QUFOTSxhQUFBLE1BTUEsQUFDSDtxQkFBQSxBQUFLLFlBQVksSUFBSSxhQUFKLEFBQWlCLGFBQWxDLEFBQWlCLEFBQThCLEFBQy9DO29CQUFJLENBQUMsS0FBTCxBQUFVLFdBQVUsQUFDaEI7MkJBQUEsQUFBTyxBQUNWO0FBQ0Q7QUFDQTs2QkFBQSxBQUFhLE9BQWIsQUFBb0IsWUFBcEIsQUFBZ0MsQUFDbkM7QUFDRDttQkFBQSxBQUFPLEFBQ1Y7QUE3Q3dCLEFBK0N6Qjs7aUJBQVEsaUJBQUEsQUFBVSxHQUFWLEFBQWEsVUFBVSxBQUMzQjtBQUNBO0FBRUE7O2dCQUFJLENBQUMsS0FBTCxBQUFVLFdBQVcsQUFDakI7cUJBQUEsQUFBSyxnQkFBZ0IsS0FBckIsQUFBMEIsU0FBUyxLQUFBLEFBQUssUUFBeEMsQUFBbUMsQUFBYSxJQUFJLEtBQUEsQUFBSyxRQUF6RCxBQUFvRCxBQUFhLEFBQ3BFO0FBQ0Q7Z0JBQUksS0FBSixBQUFTLFdBQVcsQUFDaEI7cUJBQUEsQUFBSyxVQUFMLEFBQWUsUUFBZixBQUF1QixHQUF2QixBQUEwQixBQUM3QjtBQUNKO0FBekR3QixBQTJEekI7O3dCQUFpQix3QkFBQSxBQUFTLEdBQUUsQUFDeEI7Z0JBQUksS0FBSixBQUFTLFdBQVcsQUFDaEI7cUJBQUEsQUFBSyxVQUFMLEFBQWUsZUFBZixBQUE4QixBQUNqQztBQUNKO0FBL0RMLEFBQTZCLEFBa0U3QjtBQWxFNkIsQUFDekI7O0FBd0VKOzs7Ozs7O1FBQUksZUFBZSxTQUFmLEFBQWUsYUFBQSxBQUFVLEtBQVYsQUFBZSxVQUFmLEFBQXlCLE1BQU0sQUFDOUM7WUFBSSxVQUFKLEFBQWM7WUFDVixTQURKLEFBQ2E7WUFDVCxVQUZKLEFBRWM7WUFDVixtQkFISixBQUd1QixBQUNuQjs7O0FBQ0E7c0JBQWMsU0FBZCxBQUFjLFlBQUEsQUFBVSxhQUFWLEFBQXVCLGFBQXZCLEFBQW9DLEtBQXBDLEFBQXlDLEtBQUssQUFDeEQ7Z0JBQUksZ0JBQUEsQUFBZ0IsS0FBSyxjQUF6QixBQUF1QyxHQUFHLEFBQ3RDO3VCQUFBLEFBQU8sQUFDVjtBQUNEO2dCQUFJLGNBQWMsSUFBQSxBQUFJLFNBQXRCLEFBQWtCLEFBQWEsQUFDL0I7Z0JBQUksZUFBZSxJQUFBLEFBQUksVUFBVSxNQUFqQyxBQUFtQixBQUFvQixBQUN2QztnQkFBSSxpQkFBaUIsSUFBQSxBQUFJLFVBQVUsTUFBbkMsQUFBcUIsQUFBb0IsQUFDekM7Z0JBQUksbUJBQW1CLElBQUEsQUFBSSxTQUFTLE1BQXBDLEFBQXVCLEFBQW1CLEFBQzFDO21CQUFPLGVBQUEsQUFBZSxRQUFRLGdCQUF2QixBQUF1QyxRQUFRLGtCQUEvQyxBQUFpRSxjQUFjLG9CQUF0RixBQUEwRyxBQUM3RztBQWRMLEFBZUE7ZUFBTyxTQUFTLFdBQWhCLEFBQTJCLE1BQU0sQUFDN0I7c0JBQVUsSUFBQSxBQUFJLFVBQWQsQUFBVSxBQUFjLEFBQ3hCO3NCQUFVLElBQUEsQUFBSSxTQUFTLFNBQWIsQUFBc0IsS0FBaEMsQUFBcUMsQUFDckM7QUFDQTtnQkFBSSxZQUFKLEFBQWdCLEdBQUcsQUFDZjtBQUNBO0FBQ0E7b0JBQUksTUFBTSxTQUFWLEFBQW1CLEFBQ25CO29CQUFJLGNBQWMsQ0FBbEIsQUFBbUIsQUFDbkI7dUJBQU8sTUFBTSxTQUFBLEFBQVMsSUFBVCxBQUFhLFVBQTFCLEFBQW9DLEdBQUcsQUFBRTtBQUNyQztrQ0FBQSxBQUFjLEFBQ2Q7d0JBQUksSUFBSixBQUFRLEFBQ1I7MkJBQU8sTUFBUCxBQUFhLE1BQU0sQUFDZjs0QkFBSSxJQUFBLEFBQUksU0FBUixBQUFJLEFBQWEsQUFDakI7dUNBQUEsQUFBZSxBQUNmO0FBQ0g7QUFDRDt3QkFBSSxjQUFKLEFBQWtCLEFBQ2xCO3dCQUFBLEFBQUksQUFDSjsyQkFBTyxNQUFQLEFBQWEsTUFBTSxBQUNmOzRCQUFJLElBQUEsQUFBSSxTQUFSLEFBQUksQUFBYSxBQUNqQjt1Q0FBQSxBQUFlLEFBQ2Y7QUFDSDtBQUNEO3dCQUFJLFlBQUEsQUFBWSxhQUFaLEFBQXlCLGFBQXpCLEFBQXNDLEtBQTFDLEFBQUksQUFBMkMsTUFBTSxBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO3lDQUFBLEFBQWlCLEtBQUssQ0FBRSxNQUFGLEFBQVEsR0FBSyxjQUFuQyxBQUFzQixBQUEyQixBQUNwRDtBQUNEOzJCQUFBLEFBQU8sQUFDVjtBQUNKO0FBQ0Q7c0JBQVUsVUFBVixBQUFvQixBQUN2QjtBQUNEO2VBQUEsQUFBTyxBQUNWO0FBeERELEFBMERBOztRQUFJLGFBQUosQUFBaUIsQUFDakI7UUFBSSxlQUFlLElBQUksYUFBdkIsQUFBbUIsQUFBaUIsQUFDcEM7UUFBSSwwQkFBMEIsU0FBMUIsQUFBMEIsd0JBQUEsQUFBUyxLQUFULEFBQWM7WUFDcEMsTUFBTSxZQUFWLEFBQVUsQUFBWSxBQUN0QjtZQUFJLFlBQVksQ0FBQSxBQUFDLElBQUQsQUFBSyxJQUFMLEFBQVMsSUFBVCxBQUFhLElBQWIsQUFBaUIsSUFBakIsQUFBcUIsSUFBckIsQUFBeUIsSUFBekMsQUFBZ0IsQUFBNkI7WUFDekMsaUJBQWlCLFNBQWpCLEFBQWlCLGVBQUEsQUFBUyxPQUFULEFBQWdCLE9BQWhCLEFBQXVCLE9BQXZCLEFBQThCLFFBQVEsQUFDbkQ7Z0JBQUksTUFBSixBQUFVLE9BQU8sQUFDYjt1QkFBQSxBQUFPLEFBQ1Y7QUFDRDtnQkFBSSxNQUFELEFBQU8sVUFBWSxNQUF0QixBQUE0QixRQUFRLEFBQ2hDO3VCQUFBLEFBQU8sQUFDVjtBQUNEO2dCQUFNLHVCQUFELEFBQXdCLFNBQVcsdUJBQXBDLEFBQTJELFNBQ3pELFFBQUQsQUFBUyxTQUFXLFFBRHJCLEFBQzZCLFNBQzVCLENBQUMsUUFBRCxBQUFTLFNBQVMsUUFBbEIsQUFBMEIsVUFGL0IsQUFFeUMsR0FBSSxBQUN6Qzt1QkFBQSxBQUFPLEFBQ1Y7QUFDRDttQkFBQSxBQUFPLEFBQ1Y7QUFkTDtZQWdCSSxpQkFBaUIsU0FBakIsQUFBaUIsZUFBQSxBQUFTLE9BQVQsQUFBZ0IsT0FBaEIsQUFBdUIsT0FBdkIsQUFBOEIsUUFBUSxBQUNuRDtnQkFBSSxNQUFKLEFBQVUsT0FBTyxBQUNiO3VCQUFBLEFBQU8sQUFDVjtBQUNEO2dCQUFJLE1BQUQsQUFBTyxVQUFZLE1BQXRCLEFBQTRCLFFBQVEsQUFDaEM7dUJBQUEsQUFBTyxBQUNWO0FBQ0Q7Z0JBQUssUUFBRCxBQUFTLFNBQVcsUUFBeEIsQUFBZ0MsT0FBUSxBQUNwQzt1QkFBQSxBQUFPLEFBQ1Y7QUFDRDttQkFBQSxBQUFPLEFBQ1Y7QUEzQkw7WUE0QkkscUJBQXFCLFNBQXJCLEFBQXFCLG1CQUFBLEFBQVUsTUFBVixBQUFnQixRQUFoQixBQUF3QixTQUF4QixBQUFpQyxPQUFqQyxBQUF3QyxPQUFPLEFBQ2hFO2dCQUFHLGVBQUEsQUFBZSxTQUFmLEFBQXdCLE9BQXhCLEFBQStCLE9BQWxDLEFBQUcsQUFBc0MsU0FBUSxBQUM3Qzt1QkFBUSxPQUFSLEFBQWUsQUFDbEI7QUFFRDs7Z0JBQUcsZUFBQSxBQUFlLFNBQWYsQUFBd0IsT0FBeEIsQUFBK0IsT0FBbEMsQUFBRyxBQUFzQyxTQUFTLEFBQzlDO3VCQUFRLE9BQVIsQUFBZSxBQUNsQjtBQUVEOzttQkFBQSxBQUFPLEFBQ1Y7QUF0Q0w7WUF1Q0ksZ0JBQWdCLFNBQWhCLEFBQWdCLGNBQUEsQUFBUyxNQUFNLEFBQzNCO0FBQ0E7Z0JBQUksWUFBSixBQUFnQjtnQkFDWixZQURKLEFBQ2dCLEFBQ2hCO29CQUFBLEFBQVEsQUFDSjtxQkFBQSxBQUFLLEFBQWlCO0FBQ2xCO29DQUFBLEFBQVksQUFDWjtvQ0FBQSxBQUFZLEFBQ1o7QUFDSDtBQUNEO3FCQUFBLEFBQUssQUFBUztBQUNWO29DQUFBLEFBQVksQUFDWjtBQUNIO0FBQ0Q7cUJBQUEsQUFBSyxBQUFTO0FBQ1Y7b0NBQUEsQUFBWSxBQUNaO0FBQ0g7QUFDRDtxQkFBQSxBQUFLLEFBQWU7QUFDaEI7b0NBQUEsQUFBWSxBQUNaO29DQUFBLEFBQVksQUFDWjtBQUNIO0FBQ0Q7QUFBUztBQUNMO29DQUFBLEFBQVksQUFDWjtvQ0FBQSxBQUFZLEFBQ1o7QUFDSDtBQXZCTCxBQTBCQTs7O2dCQUFJLENBQUEsQUFBQyxhQUFhLENBQWxCLEFBQW1CLFdBQVcsQUFDMUI7dUJBQUEsQUFBTyxBQUNWO0FBQ0Q7Z0JBQUksZ0JBQUosQUFBb0Isd0JBQXdCLEFBQ3hDO29CQUFBLEFBQUksV0FBVyxBQUNYO21DQUFBLEFBQWUsQUFDbEI7QUFDSjtBQUpELHVCQUtTLGdCQUFKLEFBQW9CLHdCQUF3QixBQUM3QztvQkFBSSxDQUFBLEFBQUMsYUFBTCxBQUFrQixXQUFXLEFBQ3pCO21DQUFBLEFBQWUsQUFDbEI7QUFDSjtBQUpJLGFBQUEsVUFLSSxnQkFBSixBQUFvQiw2QkFBNkIsQUFDbEQ7b0JBQUEsQUFBSSxXQUFXLEFBQ1g7bUNBQUEsQUFBZSxBQUNsQjtBQUZELHVCQUlJLGVBQUEsQUFBZSxBQUN0QjtBQU5JLGFBQUEsTUFPQSxJQUFJLGdCQUFKLEFBQW9CLDZCQUE2QixBQUNsRDtvQkFBQSxBQUFJLFdBQVcsQUFDWDttQ0FBQSxBQUFlLEFBQ2xCO0FBRkQsdUJBSUksZUFBQSxBQUFlLEFBQ3RCO0FBRUQ7O21CQUFBLEFBQU8sQUFDVjtBQWxHTDtZQW1HSSxrQkFBa0IsU0FBbEIsQUFBa0IsZ0JBQUEsQUFBUyxNQUFNLEFBQzdCO2dCQUFJLGFBQUosQUFBaUIsTUFBTSxBQUNuQjtvQkFBSSxpQkFBSixBQUFxQixXQUFXLEFBQzVCO2dDQUFZLFlBQVosQUFBd0IsQUFDM0I7QUFDSjtBQUNEO0FBQ0E7MEJBQUEsQUFBYyxBQUNqQjtBQTNHTDtZQTRHSSxRQUFRLFNBQVIsQUFBUSxRQUFZLEFBQ2hCO3lCQUFBLEFBQWEsQUFDaEI7QUE5R0w7WUFnSEMsV0FBVyxTQUFYLEFBQVcsU0FBQSxBQUFVLEtBQVYsQUFBZSxRQUFmLEFBQXVCLFNBQVMsQUFDeEM7Z0JBQUssTUFBRCxBQUFPLE1BQU8sV0FBQSxBQUFXLEtBQUssWUFBakIsQUFBNkIsS0FBTSxZQUFwRCxBQUFJLEFBQTRELElBQUcsQUFDL0Q7dUJBQUEsQUFBTyxBQUNWO0FBQ0Q7bUJBQUEsQUFBTyxBQUNWO0FBckhEO1lBdUhJLGVBQWUsU0FBZixBQUFlLGVBQVksQUFDdkI7QUFDQTtnQkFBSSxXQUFXLGFBQUEsQUFBYSw0QkFBNUIsQUFBZSxBQUF5QyxBQUN4RDtnQkFBQSxBQUFHLFVBQVMsQUFDUjtxQkFBSSxJQUFJLFlBQVIsQUFBb0IsR0FBRyxZQUFZLGFBQUEsQUFBYSxhQUFiLEFBQTBCLFFBQTdELEFBQXFFLFFBQXJFLEFBQTZFLGFBQWEsQUFDdEY7d0JBQUcsYUFBQSxBQUFhLGFBQWIsQUFBMEIsUUFBMUIsQUFBa0MsV0FBbEMsQUFBNkMsUUFBaEQsQUFBd0QsUUFBTyxBQUMzRDtrQ0FBVSxZQUFWLEFBQXNCLEtBQUssVUFBVSxZQUFWLEFBQXNCLEdBQXRCLEFBQXlCLE9BQU8sYUFBQSxBQUFhLGFBQWIsQUFBMEIsUUFBMUIsQUFBa0MsV0FBN0YsQUFBMkIsQUFBNkUsQUFDeEc7QUFDQTtBQUNIO0FBQ0o7QUFDSjtBQUNKO0FBbklMO1lBb0lJLGlCQUFpQixTQUFqQixBQUFpQixlQUFBLEFBQVUsU0FBUyxBQUNoQztnQkFBSSxNQUFKLEFBQVUsQUFDVjtpQkFBSyxJQUFJLElBQVQsQUFBYSxHQUFHLElBQUksUUFBcEIsQUFBNEIsUUFBNUIsQUFBb0MsS0FBTSxBQUN0QztvQkFBSSxJQUFJLFFBQUEsQUFBUSxHQUFoQixBQUFtQixRQUFRLEFBQ3ZCO3dCQUFJLE1BQUosQUFBVSxHQUFHLEFBQ1Q7NEJBQUEsQUFBSSxLQUFLLENBQUEsQUFBQyxTQUFTLFFBQW5CLEFBQVMsQUFBVSxBQUFRLEFBQzlCO0FBRkQsK0JBRVcsS0FBSixBQUFTLEdBQUcsQUFDZjs0QkFBQSxBQUFJLEtBQUssQ0FBQSxBQUFDLFNBQVMsUUFBbkIsQUFBUyxBQUFVLEFBQVEsQUFDOUI7QUFGTSxxQkFBQSxNQUVBLEFBQ0g7NEJBQUEsQUFBSSxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUQsQUFBSyxHQUFmLEFBQVUsQUFBUSxZQUFZLFFBQXZDLEFBQVMsQUFBOEIsQUFBUSxBQUNsRDtBQUNKO0FBQ0o7QUFDRDttQkFBQSxBQUFPLEFBQ1Y7QUFsSkwsQUFtSkE7QUFDQTtZQUFJLFVBQVUsSUFBQSxBQUFJLFNBQUosQUFBYSxPQUEzQixBQUFrQyxBQUNsQztlQXZKcUQsQUF1SnJELEFBQU8sRUF2SjhDLEFBQ3JELENBc0pVLEFBQ1Y7WUFBSSxPQUFKLEFBQVcsQUFDWDthQUFLLElBQUksSUFBVCxBQUFhLEdBQUcsSUFBaEIsQUFBb0IsU0FBcEIsQUFBNkIsS0FBSyxBQUM5QjtnQkFBSSxPQUFPLElBQUEsQUFBSSxTQUFmLEFBQVcsQUFBYSxBQUN4QjtnQkFBSSxVQUFVLENBQUMsT0FBRCxBQUFRLFFBQXRCLEFBQThCLEFBQzlCO2dCQUFJLFNBQVMsT0FBYixBQUFvQixBQUVwQjs7QUFDQTtnQkFBSSxVQUFVLElBQUEsQUFBSSxTQU5ZLEFBTTlCLEFBQWMsQUFBYSxNQUFNLEFBQ2pDO0FBQ0E7Z0JBQUksVUFBVSxJQUFBLEFBQUksU0FSWSxBQVE5QixBQUFjLEFBQWEsTUFBTSxBQUNqQztBQUNBO0FBQ0E7QUFDRDtnQkFBSSxVQUFVLG1CQUFBLEFBQW1CLE1BQW5CLEFBQXlCLFFBQXpCLEFBQWlDLFNBQWpDLEFBQTBDLFNBQXhELEFBQWMsQUFBbUQsQUFDaEU7bUJBQUEsQUFBTyxBQUNQO2dCQUFJLGVBQUEsQUFBZSxTQUFmLEFBQXdCLFNBQXhCLEFBQWlDLFNBQXJDLEFBQUksQUFBMEMsU0FBUyxBQUFFO0FBQ3JEO29CQUFJLFdBQUosQUFBZSxHQUFHLEFBQ2Q7OEJBQUEsQUFBVSxHQUFWLEFBQWEsS0FBYixBQUFrQixBQUNsQjs4QkFBQSxBQUFVLEdBQVYsQUFBYSxLQUFiLEFBQWtCLEFBQ3JCO0FBSEQsdUJBR08sSUFBSSxXQUFKLEFBQWUsR0FBRyxBQUNyQjs4QkFBQSxBQUFVLEdBQVYsQUFBYSxLQUFiLEFBQWtCLEFBQ2xCOzhCQUFBLEFBQVUsR0FBVixBQUFhLEtBQWIsQUFBa0IsQUFDckI7QUFDSjtBQVJELG1CQVFPLElBQUssV0FBQSxBQUFXLEtBQUssV0FBckIsQUFBZ0MsR0FBRyxBQUN0QztvQkFBSSxTQUFTLFdBQVQsQUFBb0IsUUFBcEIsQUFBNEIsUUFBaEMsQUFBSSxBQUFvQyxVQUFTLEFBQzdDO0FBQ0E7QUFDQTtBQUNBOzJCQUFBLEFBQU8sQUFDVjtBQUxELHVCQUtNLElBQUksZUFBQSxBQUFlLFNBQWYsQUFBd0IsU0FBeEIsQUFBaUMsU0FBckMsQUFBSSxBQUEwQyxTQUFRLEFBQ3hEOytCQUFBLEFBQVcsS0FBWCxBQUFnQixBQUNoQjsrQkFBQSxBQUFXLEtBQVgsQUFBZ0IsQUFDbkI7QUFDSjtBQUNKO0FBQ0Q7d0JBQUEsQUFBZ0IsQUFDaEI7WUFBSSxTQUFTLGVBQWIsQUFBYSxBQUFlLEFBQzVCO2VBQUEsQUFBTyxBQUVWO0FBL0xELEFBaU1BOztZQUFBLEFBQVEsU0FBUixBQUFpQixBQUNqQjtZQUFBLEFBQVEsbUJBQVIsQUFBMkIsQUFDM0I7WUFBQSxBQUFRLGVBQVIsQUFBdUIsQUFDdkI7WUFBQSxBQUFRLDBCQUFSLEFBQWtDLEFBRXJDO0FBbFpBLEdBa1pDLE9BQUEsQUFBTyxZQUFQLEFBQW1CLGNBQWEsVUFBQSxBQUFLLG1CQUFyQyxBQUF3RCxLQWxaMUQsQUFBQyxBQWtaNkQ7Ozs7Ozs7O1EsQUN4TzlDLGMsQUFBQTs7QUFqTGY7Ozs7QUFDRDs7OztBQUNBOzs7Ozs7OztBQUVBLElBQUksVUFBSixBQUFjO0FBQ2QsSUFBSSxZQUFZLHlCQUFBLEFBQVUsU0FBMUIsQUFBZ0IsQUFBbUI7O0FBRW5DLFNBQUEsQUFBUyxlQUFULEFBQXdCLE1BQU0sQUFDNUI7QUFDQTtNQUFJLGdCQUFnQixTQUFoQixBQUFnQixjQUFBLEFBQVUsS0FBVixBQUFlLE1BQWYsQUFBcUIsTUFBTSxBQUM3QztRQUFJLE1BQU0sSUFBVixBQUFjLEFBQ2Q7UUFBSSxNQUFKLEFBQVUsR0FBRyxBQUNYO1VBQUksUUFBUSxJQUFJLE1BQUosQUFBVSxHQUF0QixBQUFZLEFBQWEsSUFBSSxBQUMzQjtZQUFBLEFBQUksS0FBSyxDQUFBLEFBQUMsTUFBVixBQUFTLEFBQU8sQUFDakI7QUFGRCxhQUVPLEFBQ0w7YUFBSyxJQUFJLE1BQU0sTUFBZixBQUFxQixHQUFHLE9BQXhCLEFBQStCLEdBQS9CLEFBQWtDLE9BQU8sQUFDdkM7Y0FBSSxPQUFPLElBQUEsQUFBSSxLQUFmLEFBQVcsQUFBUyxJQUFJLEFBQ3RCO2dCQUFBLEFBQUksT0FBSixBQUFXLEtBQVgsQUFBZ0IsR0FBRyxDQUFBLEFBQUMsTUFBcEIsQUFBbUIsQUFBTyxBQUMxQjtBQUNEO0FBQ0Y7QUFDRjtBQUNGO0FBWEQsV0FXTyxBQUNMO1VBQUEsQUFBSSxLQUFLLENBQUEsQUFBQyxNQUFWLEFBQVMsQUFBTyxBQUNqQjtBQUNGO0FBaEJELEFBa0JBOztNQUFJLGFBQWEsU0FBYixBQUFhLFdBQUEsQUFBVSxLQUFWLEFBQWUsTUFBZixBQUFxQixNQUFNLEFBQzFDO1FBQUssTUFBTSxLQUFQLEFBQVksVUFBWSxnQkFBZ0IsS0FBeEMsQUFBd0MsQUFBSyxNQUFRLGdCQUFnQixLQUF6RSxBQUF5RSxBQUFLLElBQUssQUFDakY7QUFDRDtBQUNEO1FBQUksU0FBSixBQUFhLEFBQ2I7U0FBSyxJQUFJLElBQVQsQUFBYSxHQUFHLElBQUksSUFBcEIsQUFBd0IsUUFBeEIsQUFBZ0MsS0FBTSxBQUNwQztVQUFJLElBQUEsQUFBSSxHQUFKLEFBQU8sTUFBTSxLQUFqQixBQUFpQixBQUFLLElBQUksQUFDeEI7WUFBQSxBQUFJLEdBQUosQUFBTyxLQUFLLENBQUEsQUFBQyxNQUFNLEtBQW5CLEFBQVksQUFBTyxBQUFLLEFBQ3hCO2lCQUFBLEFBQVMsQUFDVDtBQUNEO0FBQ0Y7QUFDRDtRQUFJLENBQUosQUFBSyxRQUFRLEFBQ1g7VUFBQSxBQUFJLEtBQUssQ0FBQyxLQUFELEFBQUMsQUFBSyxJQUFHLENBQUEsQUFBQyxNQUFNLEtBQXpCLEFBQVMsQUFBUyxBQUFPLEFBQUssQUFDL0I7QUFDRjtBQWZELEFBaUJBOztNQUFJLFVBQVUsVUFBQSxBQUFVLE1BQXhCLEFBQWMsQUFBZ0IsQUFDOUI7TUFBSSxPQUFPLFFBQUEsQUFBUSxPQUFuQixBQUFXLEFBQWUsQUFDMUI7TUFBSSxPQUFPLFFBQUEsQUFBUSxPQUFuQixBQUFXLEFBQWUsQUFDMUI7TUFBSSxPQUFPLFFBQUEsQUFBUSxPQXhDUyxBQXdDNUIsQUFBVyxBQUFlLFNBQVMsQUFDbkM7QUFDQTtBQUNBO0FBQ0E7TUFBSSxRQUFRLFFBQUEsQUFBUSxTQTVDUSxBQTRDNUIsQUFBWSxBQUFpQixTQUFTLEFBQ3RDO01BQUksT0FBSixBQUFXLEFBRVg7O01BQUksTUFBQSxBQUFNLFdBQVYsQUFBcUIsR0FBRyxBQUN0QjtXQUFBLEFBQU8sQUFDUjtBQUNEO1NBQU8sTUFBUCxBQUFPLEFBQU0sQUFDYjtNQUFJLE1BQUEsQUFBTSxTQUFWLEFBQW1CLEdBQUcsQUFDcEI7UUFBQSxBQUFJLEFBQ0w7QUFDRDtNQUFJLGFBQWEsS0FBQSxBQUFLLFNBQVMsS0FBL0IsQUFBb0MsQUFDcEM7QUFDQTtNQUFJLGNBQWMsS0FBbEIsQUFBdUIsQUFDdkI7TUFBSSxXQUFKLEFBQWUsQUFDZjtNQUFJLGlCQUFpQixLQUFyQixBQUEwQixBQUMxQjtNQUFJLE1BQU0sSUFBQSxBQUFJLFNBQWQsQUFBVSxBQUFhLEFBQ3ZCO01BQUksWUFBWSxFQUFFLGFBQUYsQUFBZSxNQUFNLFdBQXJCLEFBQWdDLE1BQU0sUUFBdEQsQUFBZ0IsQUFBOEMsQUFDOUQ7TUFBSSxjQUFKLEFBQWtCLEFBQ2xCO01BQUksY0FBSixBQUFrQixBQUNsQjtPQUFLLElBQUksSUFBVCxBQUFhLEdBQUcsSUFBaEIsQUFBb0IsYUFBcEIsQUFBaUMsS0FBSyxBQUNwQztRQUFJLFNBQVMsS0FBQSxBQUFLLFFBQWxCLEFBQWEsQUFBYSxBQUUxQjs7UUFBSSxPQUFPLFlBQVksRUFBWixBQUFZLEFBQUUsYUFBZCxBQUEyQix1QkFBdEMsQUFBNkQsQUFDN0Q7UUFBSSxlQUFKLEFBQW1CLEdBQUcsQUFDcEI7Y0FBUyx1QkFBQSxBQUF1QixjQUFoQyxBQUE4QyxBQUMvQztBQUZELFdBRU8sQUFDTDtjQUFTLHVCQUFULEFBQWdDLEFBQ2pDO0FBQ0Q7UUFBSSxPQUFBLEFBQU8sb0JBQVgsQUFBK0IsV0FBVyxBQUN4QztVQUFJLEtBQUEsQUFBSyw0QkFBVCxBQUFxQyxXQUFXLEFBQzlDO2VBQUEsQUFBTyxrQkFBUCxBQUF5QixBQUMxQjtBQUZELGFBRU8sQUFDTDtlQUFBLEFBQU8sa0JBQWtCLEtBQXpCLEFBQThCLEFBQy9CO0FBQ0Q7Y0FBUSxpQkFBaUIsT0FBekIsQUFBZ0MsQUFDakM7QUFQRCxXQU9PLEFBQ0w7Y0FBUyxpQkFBaUIsT0FBMUIsQUFBaUMsQUFDbEM7QUFDRDtRQUFJLE9BQUEsQUFBTyxnQkFBWCxBQUEyQixXQUFXLEFBQ3BDO2FBQUEsQUFBTyxjQUFjLEtBQXJCLEFBQTBCLEFBQzNCO0FBRUQ7O1FBQUksT0FBQSxBQUFPLG1DQUFYLEFBQThDLFdBQVcsQUFDdkQ7Y0FBQSxBQUFRLEFBQ1I7YUFBQSxBQUFPLGlDQUFQLEFBQXdDLEFBQ3pDO0FBSEQsV0FHTyxBQUNMO2NBQVMsd0JBQXdCLE9BQWpDLEFBQXdDLEFBQ3pDO0FBRUQ7O1FBQUksYUFBYSxpQkFBQSxBQUFpQixjQUFjLE9BQWhELEFBQXVELEFBQ3ZEO1lBQVMsbUJBQVQsQUFBNEIsQUFFNUI7O1FBQUksZUFBZSwyQkFBQSxBQUFpQixhQUFqQixBQUE4QixLQUE5QixBQUFtQyxVQUFVLE9BQWhFLEFBQW1CLEFBQW9ELEFBQ3ZFO1FBQUksSUFBSSxhQUFSLEFBQXFCLFFBQVEsQUFDM0I7b0JBQUEsQUFBYyxhQUFkLEFBQTJCLFlBQTNCLEFBQXVDLEFBQ3hDO0FBRUQ7O21CQUFlLE9BQWYsQUFBc0IsQUFDdEI7Z0JBQVksT0FBWixBQUFtQixBQUNwQjtBQUVEOztPQUFLLElBQUksSUFBVCxBQUFhLEdBQUcsSUFBSSxZQUFwQixBQUFnQyxRQUFoQyxBQUF3QyxLQUFNLEFBQzVDO1FBQUksZ0JBQWdCLFlBQUEsQUFBWSxHQUE1QixBQUFnQixBQUFlLE1BQU0sZ0JBQWdCLFlBQUEsQUFBWSxHQUFyRSxBQUF5RCxBQUFlLElBQUksQUFDMUU7QUFDRDtBQUNEO1NBQUssSUFBSSxJQUFULEFBQWEsR0FBRyxJQUFJLFlBQUEsQUFBWSxHQUFaLEFBQWUsR0FBbkMsQUFBc0MsUUFBdEMsQUFBOEMsS0FBSyxBQUNqRDtBQUNBO1VBQUksU0FBUywyQkFBQSxBQUFpQix3QkFBakIsQUFBeUMsS0FBSyxZQUFBLEFBQVksR0FBWixBQUFlLEdBQTFFLEFBQWEsQUFBOEMsQUFBa0IsQUFDN0U7V0FBSyxJQUFJLElBQVQsQUFBYSxHQUFHLElBQUksT0FBcEIsQUFBMkIsUUFBM0IsQUFBbUMsS0FBSyxBQUN0QztZQUFJLE9BQUEsQUFBTyxHQUFQLEFBQVUsU0FBZCxBQUF1QixHQUFHLEFBQ3hCO3FCQUFXLFVBQVgsQUFBcUIsUUFBUSxZQUFBLEFBQVksR0FBekMsQUFBNkIsQUFBZSxJQUFJLE9BQWhELEFBQWdELEFBQU8sQUFDeEQ7QUFDRjtBQUNGO0FBQ0Y7QUFFRDs7TUFBSSxnQkFBZ0IsaUJBQXBCLEFBQXFDLEFBQ3JDO1lBQUEsQUFBVSxZQUFWLEFBQXNCLEFBQ3RCO1lBQUEsQUFBVSxVQUFWLEFBQW9CLEFBQ3BCO1NBQUEsQUFBTyxBQUNSOzs7QUFFRCxJQUFJLFlBQVksSUFBaEIsQUFBZ0IsQUFBSTs7QUFFcEIsU0FBQSxBQUFTLGVBQVQsQUFBd0IsTUFBTSxBQUMxQjtNQUFJLHVCQUF1QixTQUF2QixBQUF1QixxQkFBQSxBQUFVLE1BQVYsQUFBZ0IsTUFBTSxBQUMvQzthQUFBLEFBQVMsT0FBVCxBQUFnQixXQUFoQixBQUEyQixTQUEzQixBQUFvQyxlQUFlLEFBQ2pEO1VBQUksT0FBTyxjQUFYLEFBQVcsQUFBYyxBQUN6QjtjQUFBLEFBQVEsSUFBSSxPQUFBLEFBQU8sa0JBQVAsQUFBeUIsWUFBekIsQUFBcUMsZ0JBQXJDLEFBQXFELFVBQXJELEFBQStELE9BQTNFLEFBQWtGLEFBQ25GO0FBQ0Q7V0FBQSxBQUFPLEFBQ1I7QUFORCxBQU9BO01BQUksVUFBVSxxQkFBQSxBQUFxQixNQUFuQyxBQUFjLEFBQTJCLEFBQ3pDO1NBQU8sSUFBSSwyQkFBSixBQUFxQixpQkFBckIsQUFBc0MsTUFBTSxFQUFDLFVBQTdDLEFBQTRDLEFBQVcsV0FBOUQsQUFBTyxBQUFpRSxBQUN6RTs7O0FBRUgsU0FBQSxBQUFTLFFBQVQsQUFBaUIsT0FBTyxBQUN0QjtBQUNBO1lBQUEsQUFBVSxJQUFWLEFBQWMsU0FBUyxlQUF2QixBQUF1QixBQUFlLEFBQ3RDO1lBQUEsQUFBVSxJQUFWLEFBQWMsU0FBUyxlQUF2QixBQUF1QixBQUFlLEFBQ3RDO1lBQUEsQUFBVSxJQUFWLEFBQWMsU0FBUyxlQUF2QixBQUF1QixBQUFlLEFBQ3RDO1lBQUEsQUFBVSxJQUFWLEFBQWMsU0FBUyxlQUF2QixBQUF1QixBQUFlLEFBQ3RDO1lBQUEsQUFBVSxJQUFWLEFBQWMsU0FBUyxlQUF2QixBQUF1QixBQUFlLEFBQ3RDO1lBQUEsQUFBVSxJQUFWLEFBQWMsU0FBUyxlQUF2QixBQUF1QixBQUFlLEFBQ3RDO1lBQUEsQUFBVSxJQUFWLEFBQWMsU0FBUyxlQUF2QixBQUF1QixBQUFlLEFBQ3RDO1lBQUEsQUFBVSxJQUFWLEFBQWMsU0FBUyxlQUF2QixBQUF1QixBQUFlLEFBQ3RDO1lBQUEsQUFBVSxJQUFWLEFBQWMsU0FBUyxlQUF2QixBQUF1QixBQUFlLEFBQ3RDO1lBQUEsQUFBVSxJQUFWLEFBQWMsU0FBUyxlQUF2QixBQUF1QixBQUFlLEFBRXRDOztNQUFJLG9CQUFKLEFBQXdCLEFBRXhCOztNQUFJLFlBQVksZUFBaEIsQUFBZ0IsQUFBZSxBQUMvQjtPQUFLLElBQUksSUFBVCxBQUFhLEdBQUcsSUFBSSxVQUFBLEFBQVUsT0FBOUIsQUFBcUMsUUFBckMsQUFBNkMsS0FBTSxBQUNqRDtRQUFJLFNBQVMsVUFBQSxBQUFVLE9BQXZCLEFBQWEsQUFBaUIsQUFFOUI7O1FBQUksT0FBTyxPQUFYLEFBQVcsQUFBTyxBQUNsQjtRQUFJLFNBQVMsVUFBQSxBQUFVLElBQXZCLEFBQWEsQUFBYyxBQUUzQjs7U0FBSyxJQUFJLElBQVQsQUFBYSxHQUFHLElBQUksT0FBcEIsQUFBMkIsUUFBM0IsQUFBbUMsS0FBSyxBQUN0QztVQUFJLEtBQUssT0FBQSxBQUFPLEdBQWhCLEFBQVMsQUFBVSxBQUNuQjtVQUFJLEtBQUssT0FBQSxBQUFPLEdBQWhCLEFBQVMsQUFBVSxBQUNuQjthQUFBLEFBQU8sUUFBUSxPQUFBLEFBQU8sR0FBUCxBQUFVLEtBQXpCLEFBQThCLG1CQUFtQixPQUFBLEFBQU8sR0FBeEQsQUFBaUQsQUFBVSxBQUM1RDtBQUNGO0FBQ0Y7OztBQUVNLFNBQUEsQUFBUyxjQUFjLEFBQzVCO1VBQUEsQUFBUSxJQUFSLEFBQVksQUFFWjs7TUFBSSxRQUFRLElBQVosQUFBWSxBQUFJLEFBQ2hCO1FBQUEsQUFBTSxlQUFOLEFBQXFCLEFBRXJCOztRQUFBLEFBQU0sU0FBUyxZQUFZLEFBQ3pCO1FBQUksS0FBQSxBQUFLLFVBQVQsQUFBbUIsS0FBSyxBQUN0QjtjQUFRLEtBQVIsQUFBYSxBQUNkO0FBQ0Y7QUFKRCxBQU1BOztRQUFBLEFBQU0sS0FBTixBQUFXLE9BQVgsQUFBa0IseUVBQWxCLEFBQTJGLEFBQzNGO1FBQUEsQUFBTSxBQUNQOzs7Ozs7Ozs7QUMvTEQ7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBaUJBOzs7O0FBSUEsU0FBQSxBQUFTLEtBQVQsQUFBYyxVQUFkLEFBQXdCLFlBQXhCLEFBQW9DLFlBQVksQUFDNUM7S0FBSSxlQUFBLEFBQWUsUUFBUSxlQUEzQixBQUEwQyxXQUFXLEFBQ2pEO2VBQUEsQUFBYSxBQUNoQjtBQUVEOztLQUFJLGVBQUEsQUFBZSxRQUFRLGVBQTNCLEFBQTBDLFdBQVcsQUFDakQ7ZUFBQSxBQUFhLEFBQ2hCO0FBRUo7O0tBQUksVUFBSixBQUFjLEFBQ2Q7S0FBSSxhQUFKLEFBQWlCLEFBRWpCOztLQUFJO2dCQUFlLEFBQ0MsQUFDbkI7YUFGa0IsQUFFQyxBQUNuQjtzQkFIa0IsQUFHRyxBQUNyQjtnQkFKa0IsQUFJRyxBQUNyQjtpQkFMRCxBQUFtQixBQUtFLEFBR3JCO0FBUm1CLEFBQ2xCOztVQU9ELEFBQVMsaUJBQVQsQUFBMkIsTUFBTyxBQUNqQztNQUFJLGdCQUFnQixLQUFwQixBQUF5QixBQUN6QjtNQUFHLGlCQUFILEFBQW9CLE1BQU0sQUFDekI7bUJBQWdCLEtBQWhCLEFBQXFCLEFBQ3RCO01BQUcsaUJBQUEsQUFBaUIsUUFBUSxpQkFBNUIsQUFBMkMsSUFBSSxBQUM5QzttQkFBZ0IsS0FBaEIsQUFBcUIsQUFDdEI7U0FBQSxBQUFPLEFBQ1A7QUFFRDs7VUFBQSxBQUFTLGNBQVQsQUFBdUIsTUFBTSxBQUM1QjtTQUFPLEtBQVAsQUFBWSxBQUNaO0FBRUQ7O1VBQUEsQUFBUyxlQUFULEFBQXdCLEtBQUssQUFDNUI7TUFBRyxPQUFBLEFBQU8sT0FBVixBQUFrQixVQUNqQixPQUFPLElBQUEsQUFBSSxRQUFKLEFBQVksTUFBWixBQUFrQixTQUFsQixBQUEyQixRQUEzQixBQUFtQyxNQUFuQyxBQUF5QyxRQUF6QyxBQUFpRCxRQUFqRCxBQUF5RCxNQUF6RCxBQUErRCxRQUEvRCxBQUF1RSxRQUF2RSxBQUErRSxNQUEvRSxBQUFxRixVQUFyRixBQUErRixRQUEvRixBQUF1RyxNQUF2RyxBQUE2RyxVQUE3RyxBQUF1SCxRQUF2SCxBQUErSCxPQUR2SSxBQUNDLEFBQU8sQUFBc0ksZUFFN0ksT0FBQSxBQUFPLEFBQ1I7QUFFRDs7VUFBQSxBQUFTLGlCQUFULEFBQTBCLEtBQUssQUFDOUI7U0FBTyxJQUFBLEFBQUksUUFBSixBQUFZLFVBQVosQUFBc0IsS0FBdEIsQUFBMkIsUUFBM0IsQUFBbUMsU0FBbkMsQUFBNEMsS0FBNUMsQUFBaUQsUUFBakQsQUFBeUQsU0FBekQsQUFBa0UsS0FBbEUsQUFBdUUsUUFBdkUsQUFBK0UsV0FBL0UsQUFBMEYsS0FBMUYsQUFBK0YsUUFBL0YsQUFBdUcsV0FBdkcsQUFBa0gsS0FBbEgsQUFBdUgsUUFBdkgsQUFBK0gsV0FBdEksQUFBTyxBQUEwSSxBQUNqSjtBQUVEOztVQUFBLEFBQVMsaUJBQVQsQUFBMkIsTUFBTyxBQUNqQztNQUFHLEtBQUEsQUFBSyxZQUFZLGFBQXBCLEFBQWlDLGVBQWUsQUFDL0M7T0FBQSxBQUFJO09BQ0EsUUFBUSxLQURaLEFBQ2lCO09BRGpCLEFBRUk7T0FGSixBQUdJLEFBRUo7O0FBQ0E7UUFBSSxJQUFBLEFBQUksR0FBRyxNQUFNLEtBQUEsQUFBSyxXQUF0QixBQUFpQyxRQUFRLElBQXpDLEFBQTZDLEtBQUssS0FBbEQsQUFBdUQsR0FBRyxBQUN2RDtRQUFJLEtBQUEsQUFBSyxXQUFMLEFBQWdCLEdBQWhCLEFBQW1CLGFBQWEsYUFBcEMsQUFBaUQsY0FBYyxBQUMzRDthQUFRLEtBQUEsQUFBSyxXQUFiLEFBQVEsQUFBZ0IsQUFDeEI7QUFDSDtBQUNIO0FBRUQ7O09BQUEsQUFBSyxZQUFhLEFBQ2Q7YUFBUyxpQkFBVCxBQUFTLEFBQWlCLEFBQzdCO0FBRkQsVUFFTyxBQUNIO2FBQUEsQUFBUyxBQUNUO1FBQUksWUFBWSxpQkFBaEIsQUFBZ0IsQUFBaUIsQUFDeEI7V0FBQSxBQUFPLGFBQWEsaUJBQXBCLEFBQW9CLEFBQWlCLEFBQ2pEO0FBRUQ7O1VBQUEsQUFBTyxBQUNQO0FBdkJELGFBeUJHLEtBQUEsQUFBSyxZQUFZLGFBQXBCLEFBQWlDLGNBQWMsQUFDOUM7T0FBSSxTQUFTLElBQWIsQUFBYSxBQUFJLEFBQ2pCO1VBQUEsQUFBTyxRQUFQLEFBQWEsQUFFSjs7T0FBSSxXQUFKLEFBQWUsQUFFeEI7O09BQUksZUFBZSxLQUFuQixBQUF3QixBQUV4Qjs7QUFDQTtRQUFJLElBQUksT0FBUixBQUFhLEdBQUcsT0FBTSxhQUF0QixBQUFtQyxRQUFuQyxBQUEyQztRQUN0QyxRQUFRLGFBQUEsQUFBYSxLQUR5QixBQUNsRCxBQUFZLEFBQWtCLE1BRG9CLEFBQ2xELENBQXFDLEFBQ3JDO1FBQUksWUFBWSxpQkFBaEIsQUFBZ0IsQUFBaUIsQUFFakM7O1dBQUEsQUFBTyxBQUNQO1FBQUcsT0FBQSxBQUFPLGNBQVYsQUFBd0IsTUFBTSxBQUNkO1NBQUksSUFBSSxpQkFBUixBQUFRLEFBQWlCLEFBQ3pCO1NBQUksYUFBQSxBQUFhLFdBQVcsUUFBQSxBQUFRLEtBQXBDLEFBQTRCLEFBQWEsSUFBSSxBQUN6QztVQUFJLElBQUosQUFBUSxBQUNSO1FBQUEsQUFBRSxhQUFGLEFBQWUsQUFDZjtlQUFBLEFBQVMsS0FBVCxBQUFjLEFBQ2pCO0FBQ2hCO1lBQUEsQUFBTyxhQUFQLEFBQW9CLEFBQ3BCO1lBQU8sWUFBUCxBQUFpQixjQUFjLElBQUEsQUFBSSxNQUFuQyxBQUErQixBQUFVLEFBQ3pDO1lBQU8sWUFBUCxBQUFpQixZQUFqQixBQUE2QixLQUFLLE9BQWxDLEFBQWtDLEFBQU8sQUFDekM7QUFWRCxXQVdLLEFBQ0o7U0FBRyxPQUFBLEFBQU8sY0FBVixBQUF3QixNQUFNLEFBQzdCO1VBQUksRUFBRSxPQUFBLEFBQU8sc0JBQWIsQUFBSSxBQUErQixRQUFRLEFBQzFDO1dBQUksU0FBUyxPQUFiLEFBQWEsQUFBTyxBQUNwQjtjQUFBLEFBQU8sYUFBYSxJQUFwQixBQUFvQixBQUFJLEFBQ3hCO2NBQUEsQUFBTyxXQUFQLEFBQWtCLEtBQWxCLEFBQXVCLEFBRXZCOztjQUFPLFlBQVAsQUFBaUIsY0FBYyxPQUEvQixBQUErQixBQUFPLEFBQ3RDO0FBQ0Q7QUFDRDtTQUFJLFFBQUosQUFBWSxBQUNaO1lBQU0sT0FBQSxBQUFPLFdBQVAsQUFBa0IsVUFBeEIsQUFBZ0MsTUFBTTtBQUF0QztBQUVlLFVBQUksSUFBSSxpQkFBUixBQUFRLEFBQWlCLEFBQ3hDO1NBQUksYUFBQSxBQUFhLFdBQVcsUUFBQSxBQUFRLEtBQXBDLEFBQTRCLEFBQWEsSUFBSSxBQUFFO0FBQzVCO1VBQUksSUFBSixBQUFRLEFBQ1I7UUFBQSxBQUFFLGFBQUYsQUFBZSxBQUNmO2VBQUEsQUFBUyxLQUFULEFBQWUsQUFDbEI7QUFDZjtZQUFELEFBQUMsQUFBTyxXQUFSLEFBQW9CLFNBQXBCLEFBQTZCLEFBQzdCO0FBQ0Q7QUFFUTs7VUFBQSxBQUFPLGFBQVAsQUFBb0IsQUFFN0I7O0FBQ0E7UUFBSSxJQUFJLE9BQVIsQUFBYSxHQUFHLE9BQU0sS0FBQSxBQUFLLFdBQTNCLEFBQXNDLFFBQXRDLEFBQThDO1FBQ3pDLE9BQU8sS0FBQSxBQUFLLFdBQUwsQUFBZ0IsS0FEMEIsQUFDckQsQUFBVyxBQUFxQixNQURxQixBQUNyRCxDQUF1QyxBQUN2QztXQUFBLEFBQU8sQUFFUDs7UUFBSSxTQUFTLEtBQWIsQUFBa0IsQUFDbEI7U0FBSSxJQUFJLElBQUosQUFBTSxHQUFHLEtBQUcsU0FBaEIsQUFBeUIsUUFBUSxJQUFqQyxBQUFxQyxJQUFyQyxBQUF5QyxLQUFLLEFBQzFDO1NBQUksV0FBVyxTQUFmLEFBQWUsQUFBUyxBQUN4QjtTQUFJLFNBQUEsQUFBUyxLQUFiLEFBQUksQUFBYyxPQUFPLEFBQzNCO2VBQVMsU0FBQSxBQUFTLFVBQVUsS0FBNUIsQUFBUyxBQUF3QixBQUNqQztBQUNEO0FBRUQ7O1dBQU8sYUFBVyxLQUFsQixBQUF1QixRQUF2QixBQUE2QixBQUM3QjtBQUVEOztBQUNBO09BQUksYUFBYSxjQUFqQixBQUFpQixBQUFjLEFBQy9CO09BQUcsY0FBQSxBQUFZLFFBQVEsY0FBdkIsQUFBbUMsSUFBSSxBQUN0QztXQUFBLEFBQU8sQUFDUDtXQUFBLEFBQU8sV0FBUCxBQUFnQixBQUNoQjtBQUVEOztPQUFJLE9BQUEsQUFBTyxTQUFQLEFBQWdCLEtBQUssT0FBQSxBQUFPLFlBQWhDLEFBQTBDLE1BQVEsQUFDakQ7YUFBUyxPQUFULEFBQVMsQUFBTyxBQUNoQjtBQUVEOztPQUFHLE9BQUEsQUFBTyxZQUFWLEFBQW9CLE1BQU0sQUFDekI7V0FBQSxBQUFPLFNBQVMsT0FBaEIsQUFBZ0IsQUFBTyxBQUN2QjtRQUFBLEFBQUcsWUFDRixPQUFBLEFBQU8sU0FBUyxpQkFBaUIsT0FBakMsQUFBZ0IsQUFBd0IsQUFDekM7V0FBTyxPQUFQLEFBQU8sQUFBTyxBQUNkO1dBQU8sT0FBUCxBQUFPLEFBQU8sQUFDZDtBQUNEO09BQUcsT0FBQSxBQUFPLHFCQUFWLEFBQTZCLE1BQU0sQUFDbEM7V0FBQSxBQUFPLFVBQVUsT0FBakIsQUFBaUIsQUFBTyxBQUN4QjtXQUFPLE9BQVAsQUFBTyxBQUFPLEFBQ2Q7V0FBTyxPQUFQLEFBQU8sQUFBTyxBQUNkO0FBRUQ7O09BQUcsT0FBQSxBQUFPLFVBQVAsQUFBZSxRQUFRLE9BQUEsQUFBTyxXQUFqQyxBQUEwQyxNQUFNLEFBQy9DO1dBQUEsQUFBTyxXQUFXLFlBQVcsQUFDNUI7WUFBTyxDQUFDLEtBQUEsQUFBSyxVQUFMLEFBQWEsT0FBTSxLQUFuQixBQUF3QixTQUF6QixBQUFnQyxPQUFNLEtBQUEsQUFBSyxXQUFMLEFBQWMsT0FBTyxLQUFyQixBQUEwQixVQUF2RSxBQUFPLEFBQXdFLEFBQy9FO0FBRkQsQUFHQTtBQUNEO1VBQUEsQUFBTyxBQUNQO0FBaEdELEdBQUEsVUFrR0csS0FBQSxBQUFLLFlBQVksYUFBakIsQUFBOEIsYUFBYSxLQUFBLEFBQUssWUFBWSxhQUEvRCxBQUE0RSxvQkFBb0IsQUFDL0Y7VUFBTyxLQUFQLEFBQVksQUFDWjtBQUZELEdBQUEsTUFJQSxJQUFHLEtBQUEsQUFBSyxZQUFZLGFBQXBCLEFBQWlDLGNBQWMsQUFDM0M7VUFBQSxBQUFPLEFBQ1Y7QUFDRDtBQUVEOztVQUFBLEFBQVMsU0FBVCxBQUFrQixTQUFsQixBQUEyQixTQUEzQixBQUFvQyxVQUFwQyxBQUE4QyxRQUFRLEFBQ3JEO01BQUksWUFBWSxPQUFRLFdBQUEsQUFBUyxRQUFRLFFBQUEsQUFBUSxZQUExQixBQUFvQyxPQUFRLFFBQUEsQUFBUSxXQUFwRCxBQUE2RCxNQUFwRSxBQUF5RSxNQUF6RixBQUErRixBQUMvRjtNQUFHLFlBQUgsQUFBYSxNQUFNLEFBQ2xCO1FBQUksSUFBSSxPQUFSLEFBQWUsR0FBRyxPQUFPLFNBQXpCLEFBQWtDLFFBQWxDLEFBQTBDLFFBQVEsQUFDakQ7UUFBSSxXQUFXLFNBQWYsQUFBZSxBQUFTLEFBQ3hCO1FBQUksVUFBVSxRQUFkLEFBQWMsQUFBUSxBQUN0QjtpQkFBVyxNQUFJLFNBQUEsQUFBUyxPQUFiLEFBQUksQUFBZ0IsS0FBcEIsQUFBdUIsT0FBdkIsQUFBNEIsVUFBdkMsQUFBK0MsQUFDL0M7QUFDRDtBQUNEO01BQUcsQ0FBSCxBQUFJLFFBQ0gsYUFERCxBQUNDLEFBQVcsU0FFWCxhQUFBLEFBQVcsQUFDWjtTQUFBLEFBQU8sQUFDUDtBQUVEOztVQUFBLEFBQVMsT0FBVCxBQUFnQixTQUFoQixBQUF3QixhQUFhLEFBQ3BDO1NBQU8sUUFBTyxRQUFBLEFBQVEsWUFBUixBQUFrQixPQUFPLFFBQUEsQUFBUSxXQUFqQyxBQUEwQyxNQUFqRCxBQUFzRCxNQUF0RCxBQUEwRCxjQUFqRSxBQUE2RSxBQUM3RTtBQUVEOztVQUFBLEFBQVMsU0FBVCxBQUFrQixLQUFsQixBQUF1QixRQUFRLEFBQzNCO1NBQU8sSUFBQSxBQUFJLFFBQUosQUFBWSxRQUFRLElBQUEsQUFBSSxTQUFTLE9BQWpDLEFBQXdDLFlBQVksQ0FBM0QsQUFBNEQsQUFDL0Q7QUFFRDs7VUFBQSxBQUFTLG1CQUFULEFBQThCLFNBQTlCLEFBQXVDLGNBQWUsQUFDckQ7TUFBRyxTQUFTLGFBQVQsQUFBUyxBQUFhLFlBQXRCLEFBQWtDLGVBQ2hDLGFBQUEsQUFBYSxXQUFiLEFBQXdCLFFBQXhCLEFBQWdDLFFBRGxDLEFBQ3dDLEtBQ3JDLFFBQUEsQUFBUSx5QkFGZCxBQUV1QyxVQUN0QyxPQUhELEFBR0MsQUFBTyxVQUVQLE9BQUEsQUFBTyxBQUNSO0FBRUQ7O1VBQUEsQUFBUyxpQkFBVCxBQUE0QixTQUFVLEFBQ3JDO01BQUksY0FBSixBQUFrQixBQUNsQjtNQUFHLG1CQUFILEFBQXNCLFFBQVMsQUFDOUI7UUFBSyxJQUFMLEFBQVMsTUFBVCxBQUFlLFNBQVcsQUFDekI7UUFBRyxtQkFBQSxBQUFxQixTQUF4QixBQUFHLEFBQThCLEtBQ2hDLEFBQ0Q7QUFDQTtBQUNEO0FBQ0Q7U0FBQSxBQUFPLEFBQ1A7QUFFRDs7VUFBQSxBQUFTLG9CQUFULEFBQStCLFNBQVUsQUFDeEM7TUFBSSxXQUFKLEFBQWUsQUFDZjtNQUFHLG1CQUFILEFBQXNCLFFBQVMsQUFDOUI7UUFBSyxJQUFMLEFBQVMsT0FBVCxBQUFnQixTQUFXLEFBQzFCO1FBQUcsSUFBQSxBQUFJLFdBQUosQUFBZSxRQUFmLEFBQXVCLFNBQVEsQ0FBL0IsQUFBZ0MsS0FBSyxJQUFBLEFBQUksV0FBSixBQUFlLFFBQWYsQUFBdUIsUUFBL0QsQUFBcUUsR0FBRyxBQUN2RTtjQUFBLEFBQVMsS0FBVCxBQUFjLEFBQ2Q7QUFDRDtBQUNEO0FBQ0Q7U0FBQSxBQUFPLEFBQ1A7QUFFRDs7VUFBQSxBQUFTLG1CQUFULEFBQThCLFlBQWEsQUFDMUM7TUFBSSxTQUFKLEFBQVksQUFFWjs7TUFBRyxXQUFBLEFBQVcsV0FBZCxBQUF1QixNQUFNLEFBQzVCO2FBQVEsY0FBWSxXQUFaLEFBQXVCLFVBQS9CLEFBQXVDLEFBQ3ZDO0FBRUQ7O01BQUcsV0FBQSxBQUFXLFVBQWQsQUFBc0IsTUFBTSxBQUMzQjtPQUFBLEFBQUcsWUFDRixVQUFRLGVBQWUsV0FEeEIsQUFDQyxBQUFRLEFBQTBCLGFBRWxDLFVBQVEsV0FBUixBQUFtQixBQUNwQjtBQUNEO1NBQUEsQUFBTyxBQUNQO0FBRUQ7O1VBQUEsQUFBUyxvQkFBVCxBQUErQixZQUFhLEFBQzNDO01BQUksU0FBSixBQUFZLEFBRVo7O01BQUksc0JBQUosQUFBMEIsUUFBUyxBQUNsQzthQUFRLG1CQUFSLEFBQVEsQUFBcUIsQUFDN0I7QUFGRCxTQUlDLElBQUcsY0FBSCxBQUFlLE1BQU0sQUFDcEI7T0FBQSxBQUFHLFlBQ0YsVUFBUSxlQURULEFBQ0MsQUFBUSxBQUFlLGlCQUV2QixVQUFBLEFBQVEsQUFDVDtBQUVGOztTQUFBLEFBQU8sQUFDUDtBQUVEOztVQUFBLEFBQVMsZUFBVCxBQUEwQixhQUExQixBQUF1QyxZQUF2QyxBQUFtRCxVQUFXLEFBQzdEO01BQUksU0FBSixBQUFhLEFBQ2I7TUFBRyxZQUFBLEFBQVksVUFBZixBQUF5QixHQUFHLEFBQzNCO2FBQVEsU0FBQSxBQUFTLGFBQVQsQUFBc0IsWUFBdEIsQUFBa0MsVUFBMUMsQUFBUSxBQUE0QyxBQUNwRDtBQUZELFNBR0ssQUFDSjtRQUFJLElBQUksUUFBUixBQUFnQixHQUFHLFFBQVEsWUFBM0IsQUFBdUMsUUFBdkMsQUFBK0MsU0FBUyxBQUN2RDtjQUFRLFNBQVMsWUFBVCxBQUFTLEFBQVksUUFBckIsQUFBNkIsWUFBWSxvQkFBb0IsWUFBN0QsQUFBeUMsQUFBb0IsQUFBWSxTQUFqRixBQUFRLEFBQWtGLEFBQzFGO2NBQVEsZ0JBQWdCLFlBQXhCLEFBQVEsQUFBZ0IsQUFBWSxBQUNwQztjQUFRLE9BQU8sWUFBUCxBQUFPLEFBQVksUUFBM0IsQUFBUSxBQUEwQixBQUNsQztBQUNEO0FBQ0Q7U0FBQSxBQUFPLEFBQ1A7QUFFRDs7VUFBQSxBQUFTLGdCQUFULEFBQTJCLFNBQVUsQUFDcEM7TUFBSSxTQUFKLEFBQWEsQUFFYjs7TUFBSSxjQUFjLGlCQUFsQixBQUFrQixBQUFtQixBQUVyQzs7TUFBRyxjQUFILEFBQWlCLEdBQUcsQUFDbkI7UUFBSyxJQUFMLEFBQVMsTUFBVCxBQUFlLFNBQVUsQUFFeEI7O1FBQUcsbUJBQUEsQUFBcUIsU0FBeEIsQUFBRyxBQUE4QixLQUNoQyxBQUVEOztRQUFJLFNBQVMsUUFBYixBQUFhLEFBQVEsQUFFckI7O1FBQUksV0FBVyxvQkFBZixBQUFlLEFBQXFCLEFBRXBDOztRQUFHLFVBQUEsQUFBVSxRQUFRLFVBQXJCLEFBQStCLFdBQVcsQUFDekM7ZUFBUSxTQUFBLEFBQVMsUUFBVCxBQUFpQixJQUFqQixBQUFxQixVQUE3QixBQUFRLEFBQStCLEFBQ3ZDO0FBRkQsZUFJRyxrQkFBSCxBQUFxQixRQUFRLEFBRTVCOztTQUFHLGtCQUFILEFBQXFCLE9BQU8sQUFDM0I7Z0JBQVEsZUFBQSxBQUFnQixRQUFoQixBQUF3QixJQUFoQyxBQUFRLEFBQTRCLEFBQ3BDO0FBRkQsWUFHSyxBQUNKO1VBQUksb0JBQW9CLGlCQUF4QixBQUF3QixBQUFtQixBQUMzQztVQUFHLG9CQUFBLEFBQW9CLEtBQUssT0FBQSxBQUFPLFVBQWhDLEFBQXdDLFFBQVEsT0FBQSxBQUFPLFdBQTFELEFBQW1FLE1BQU0sQUFDeEU7aUJBQVEsU0FBQSxBQUFTLFFBQVQsQUFBaUIsSUFBakIsQUFBcUIsVUFBN0IsQUFBUSxBQUErQixBQUN2QztpQkFBUSxnQkFBUixBQUFRLEFBQWdCLEFBQ3hCO2lCQUFRLE9BQUEsQUFBTyxRQUFmLEFBQVEsQUFBYyxBQUN0QjtBQUpELGFBS0ssQUFDSjtpQkFBUSxTQUFBLEFBQVMsUUFBVCxBQUFpQixJQUFqQixBQUFxQixVQUE3QixBQUFRLEFBQStCLEFBQ3ZDO0FBQ0Q7QUFDRDtBQWhCRCxLQUFBLE1BaUJLLEFBQ0o7ZUFBUSxTQUFBLEFBQVMsUUFBVCxBQUFpQixJQUFqQixBQUFxQixVQUE3QixBQUFRLEFBQStCLEFBQ3ZDO2VBQVEsb0JBQVIsQUFBUSxBQUFvQixBQUM1QjtlQUFRLE9BQUEsQUFBTyxRQUFmLEFBQVEsQUFBYyxBQUN0QjtBQUNEO0FBQ0Q7QUFDRDtZQUFRLG9CQUFSLEFBQVEsQUFBb0IsQUFFNUI7O1NBQUEsQUFBTyxBQUNQO0FBRUQ7O01BQUEsQUFBSyxpQkFBaUIsVUFBQSxBQUFTLFdBQVcsQUFDekM7TUFBQSxBQUFJLFFBQUosQUFDQyxRQURELEFBRUMsQUFFRDs7TUFBSSxPQUFKLEFBQVcsV0FBVyxBQUNyQjtZQUFTLElBQUksT0FBYixBQUFTLEFBQVcsQUFFcEI7O09BQUksQUFDSDtTQUFLLE9BQUEsQUFBTyxnQkFBUCxBQUF1QixLQUF2QixBQUE0QixZQUE1QixBQUF3QyxxQkFBeEMsQUFBNkQsZUFBN0QsQUFBNEUsR0FBakYsQUFBb0YsQUFDcEY7QUFGRCxLQUVFLE9BQUEsQUFBTyxHQUFHLEFBQ1g7QUFDQTtBQUNBO0FBRUQ7O09BQUksQUFDSDthQUFTLE9BQUEsQUFBTyxnQkFBUCxBQUF3QixXQUFqQyxBQUFTLEFBQW1DLEFBRTVDOztRQUFBLEFBQUksSUFBSSxBQUNQO1NBQUcsT0FBQSxBQUFPLHVCQUFQLEFBQThCLElBQTlCLEFBQWtDLGVBQXJDLEFBQW9ELFFBQVEsQUFDM0Q7ZUFBQSxBQUFTLEFBQ1Q7QUFDRDtBQUNEO0FBUkQsS0FRRSxPQUFBLEFBQU8sR0FBRyxBQUNYO0FBQ0E7QUFDQTtBQUNEO0FBdEJELFNBdUJLLEFBQ0o7QUFDQTtPQUFHLFVBQUEsQUFBVSxRQUFWLEFBQWtCLFNBQXJCLEFBQTRCLEdBQUcsQUFDOUI7Z0JBQVksVUFBQSxBQUFVLE9BQVEsVUFBQSxBQUFVLFFBQVYsQUFBa0IsUUFBaEQsQUFBWSxBQUE0QyxBQUN4RDtBQUNEO1lBQU8sSUFBQSxBQUFJLGNBQVgsQUFBTyxBQUFrQixBQUN6QjtVQUFBLEFBQU8sUUFBUCxBQUFhLEFBQ2I7VUFBQSxBQUFPLFFBQVAsQUFBZSxBQUNmO0FBQ0Q7U0FBQSxBQUFPLEFBQ1A7QUF0Q0QsQUF3Q0E7O01BQUEsQUFBSyxXQUFXLFVBQUEsQUFBVSxRQUFRLEFBQ2pDO1NBQU8saUJBQVAsQUFBTyxBQUFtQixBQUMxQjtBQUZELEFBSUE7O01BQUEsQUFBSyxlQUFlLFVBQUEsQUFBVSxXQUFXLEFBQ3hDO01BQUksU0FBUyxLQUFBLEFBQUssZUFBbEIsQUFBYSxBQUFvQixBQUNqQztTQUFPLFNBQVMsS0FBQSxBQUFLLFNBQWQsQUFBUyxBQUFjLFVBQTlCLEFBQXdDLEFBQ3hDO0FBSEQsQUFLQTs7TUFBQSxBQUFLLGVBQWUsVUFBQSxBQUFVLFNBQVMsQUFDdEM7U0FBTyxnQkFBUCxBQUFPLEFBQWtCLEFBQ3pCO0FBRkQsQUFJQTs7TUFBQSxBQUFLLFdBQVcsVUFBQSxBQUFVLFNBQVMsQUFDbEM7TUFBSSxZQUFZLEtBQUEsQUFBSyxhQUFyQixBQUFnQixBQUFtQixBQUNuQztTQUFPLEtBQUEsQUFBSyxlQUFaLEFBQU8sQUFBb0IsQUFDM0I7QUFIRCxBQUtBOztNQUFBLEFBQUssYUFBYSxZQUFZLEFBQzdCO1NBQUEsQUFBTyxBQUNQO0FBRkQsQUFJQTs7TUFBQSxBQUFLLGFBQWEsVUFBQSxBQUFTLFNBQVMsQUFDbkM7ZUFBQSxBQUFhLEFBQ2I7QUFGRCxBQUdBOztrQixBQUNjOzs7Ozs7Ozs7QUNqYWQ7Ozs7QUFDRDs7OztBQUVBOzs7Ozs7OztBQUdBLElBQUksTUFBTSxPQUFBLEFBQU8sVUFBVSxPQUEzQixBQUFrQzs7QUFFbEMsSUFBSSxhQUFhLFNBQWIsQUFBYSxXQUFBLEFBQVUsT0FBTyxBQUM5QjtTQUFBLEFBQUssUUFBTCxBQUFhLEFBQ2hCO0FBRkQ7O0FBSUEsV0FBQSxBQUFXLFVBQVgsQUFBcUIsbUJBQW1CLFVBQUEsQUFBVSxPQUFPLEFBQ3JEO1FBQUksU0FBUyxNQUFiLEFBQW1CLE1BQU0sQUFDckI7ZUFBTyxNQUFBLEFBQU0sS0FBTixBQUFXLFNBQWxCLEFBQTJCLEdBQUcsQUFDMUI7a0JBQUEsQUFBTSxVQUFVLE1BQUEsQUFBTSxLQUF0QixBQUFnQixBQUFXLEFBQzlCO0FBQ0o7QUFDSjtBQU5EOztBQVFBLFdBQUEsQUFBVyxVQUFYLEFBQXFCLGVBQWUsWUFBWSxBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7UUFBSSxZQUFZLFNBQUEsQUFBUyxjQUF6QixBQUFnQixBQUF1QixBQUN2QztjQUFBLEFBQVUsS0FBVixBQUFlLEFBQ2Y7Y0FBQSxBQUFVLE9BQVYsQUFBaUIsQUFDakI7Y0FBQSxBQUFVLFFBQVYsQUFBa0IsQUFDbEI7Y0FBQSxBQUFVLFVBQVYsQUFBb0IsQUFDcEI7VUFBQSxBQUFNLFlBQU4sQUFBa0IsQUFDbEI7Z0JBQVksTUFBQSxBQUFNLFdBQWxCLEFBQVksQUFBaUIsQUFDN0I7Y0FBQSxBQUFVLE9BQVYsQUFBaUIsQUFFakI7O0FBQ0E7WUFBQSxBQUFRLElBQVIsQUFBWSxBQUNaO1FBQUksTUFBTSxJQUFBLEFBQUksSUFBSixBQUFRLElBQVIsQUFBWSxJQUF0QixBQUFVLEFBQWdCLEFBQzFCO2NBQUEsQUFBVSxPQUFWLEFBQWlCLEFBQ2pCO1lBQUEsQUFBUSxJQUFSLEFBQVksQUFFWjs7U0FBQSxBQUFLLGlCQUFMLEFBQXNCLEFBRXRCOztZQUFBLEFBQVEsSUFBUixBQUFZLEFBQ1o7UUFBSSxPQUFPLElBQUEsQUFBSSxJQUFKLEFBQVEsR0FBUixBQUFXLElBQXRCLEFBQVcsQUFBZSxBQUMxQjtjQUFBLEFBQVUsT0FBVixBQUFpQixBQUNqQjtZQUFBLEFBQVEsSUFBUixBQUFZLEFBRVo7O1FBQUksSUFBSixBQUFNLEFBQ047UUFBSSxJQUFKLEFBQU0sQUFDTjtBQUVBOztBQUVBOztBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBOzs7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0g7QUF2RkQ7O0FBeUZBLFdBQUEsQUFBVyxVQUFYLEFBQXFCLHFCQUFxQixZQUFZLEFBQ2xEO1FBQU0sY0FBYyxRQUFRLE1BQVIsQUFBYyxhQUFsQyxBQUErQyxBQUMvQztTQUFJLElBQUksSUFBUixBQUFZLEdBQUcsSUFBSSxZQUFuQixBQUErQixRQUEvQixBQUF1QyxLQUFNLEFBQ3pDO1lBQUksUUFBUSxZQUFaLEFBQVksQUFBWSxBQUN4QjtBQUNBO2NBQUEsQUFBTSxPQUFOLEFBQWEsQUFDaEI7QUFDSjtBQVBEOztBQVNBLFdBQUEsQUFBVyxVQUFYLEFBQXFCLGNBQWMsVUFBQSxBQUFVLE9BQU8sQUFDaEQ7UUFBSSxZQUFZLE1BQUEsQUFBTSxXQUF0QixBQUFnQixBQUFpQixBQUVqQzs7U0FBSyxJQUFJLElBQVQsQUFBVyxHQUFHLElBQUksVUFBQSxBQUFVLEtBQTVCLEFBQWlDLFFBQWpDLEFBQXlDLEtBQU0sQUFDM0M7WUFBSSxNQUFNLFVBQUEsQUFBVSxLQUFwQixBQUFVLEFBQWUsQUFDekI7WUFBQSxBQUFJLFFBQUosQUFBWSxBQUNmO0FBQ0o7QUFQRDs7QUFTQSxXQUFBLEFBQVcsVUFBWCxBQUFxQixhQUFhLFVBQUEsQUFBVSxNQUFNLEFBQzlDO1FBQUksWUFBWSxNQUFBLEFBQU0sV0FBdEIsQUFBZ0IsQUFBaUIsQUFFakM7O1NBQUssSUFBSSxJQUFULEFBQVcsR0FBRyxJQUFJLFVBQUEsQUFBVSxLQUE1QixBQUFpQyxRQUFqQyxBQUF5QyxLQUFNLEFBQzNDO1lBQUksTUFBTSxVQUFBLEFBQVUsS0FBcEIsQUFBVSxBQUFlLEFBQ3pCO1lBQUEsQUFBSSxPQUFKLEFBQVcsQUFDZDtBQUNKO0FBUEQ7O0FBU0EsV0FBQSxBQUFXLFVBQVgsQUFBcUIsa0JBQWtCLFVBQUEsQUFBVSxXQUFXLEFBQzNELENBREQ7O2tCLEFBR2U7O0FBRWY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7Ozs7Ozs7OztBQzFTQTs7Ozs7Ozs7QUFFQSxTQUFBLEFBQVMsV0FBVyxBQUNoQjtRQUFJLG1CQUFKLEFBQXVCLEFBQ3ZCO1FBQUksa0JBQUosQUFBc0IsQUFDdEI7UUFBSSxTQUFKLEFBQWEsQUFDYjtRQUFJLGVBQUosQUFBbUIsQUFFbkI7O2FBQUEsQUFBUyxPQUFULEFBQWdCLGlCQUFpQixBQUM3QjsyQkFBbUIsU0FBQSxBQUFTLGVBQTVCLEFBQW1CLEFBQXdCLEFBQzNDO0FBQ0g7QUFFRDs7YUFBQSxBQUFTLGNBQWMsQUFDbkI7WUFBSSxRQUFRLFNBQUEsQUFBUyxjQUFyQixBQUFZLEFBQXVCLEFBQ25DO2NBQUEsQUFBTSxPQUFOLEFBQWEsQUFDYjtjQUFBLEFBQU0sWUFBTixBQUFrQixBQUVsQjs7aUJBQUEsQUFBUyxxQkFBVCxBQUE4QixRQUE5QixBQUFzQyxLQUF0QyxBQUEyQyxHQUEzQyxBQUE4QyxZQUE5QyxBQUEwRCxBQUM3RDtBQUVEOzthQUFBLEFBQVMsZ0JBQWdCLEFBQ3JCO0FBQ0E7aUJBQVMsU0FBQSxBQUFTLGNBQWxCLEFBQVMsQUFBdUIsQUFDaEM7ZUFBQSxBQUFPLGFBQVAsQUFBb0IsU0FBcEIsQUFBNkIsQUFDN0I7QUFDQTtlQUFBLEFBQU8sYUFBUCxBQUFvQixlQUFwQixBQUFtQyxBQUNuQztlQUFBLEFBQU8sYUFBUCxBQUFvQixzQkFBcEIsQUFBMEMsQUFFMUM7OzBCQUFrQixTQUFBLEFBQVMsY0FBM0IsQUFBa0IsQUFBdUIsQUFDekM7d0JBQUEsQUFBZ0IsYUFBaEIsQUFBNkIsU0FBN0IsQUFBc0MsQUFDdEM7d0JBQUEsQUFBZ0IsWUFBaEIsQUFBNEIsQUFFNUI7O0FBQ0E7dUJBQWUsU0FBQSxBQUFTLGNBQXhCLEFBQWUsQUFBdUIsQUFDdEM7cUJBQUEsQUFBYSxhQUFiLEFBQTBCLFNBQTFCLEFBQW1DLEFBRW5DOztBQUNBO1lBQUksYUFBYSxpQkFBakIsQUFBa0MsQUFDbEM7WUFBQSxBQUFJLFlBQVksQUFDWjs2QkFBQSxBQUFpQixhQUFqQixBQUE4QixpQkFBOUIsQUFBK0MsQUFDbEQ7QUFGRCxlQUVPLEFBQ0g7NkJBQUEsQUFBaUIsWUFBakIsQUFBNkIsQUFDaEM7QUFFRDs7WUFBSSxXQUFXLFNBQUEsQUFBUyxjQUF4QixBQUFlLEFBQXVCLEFBQ3RDO3FCQUFhLFNBQWIsQUFBc0IsQUFDdEI7WUFBQSxBQUFJLFlBQVksQUFDWjtxQkFBQSxBQUFTLGFBQVQsQUFBc0IsY0FBdEIsQUFBb0MsQUFDdkM7QUFGRCxlQUVPLEFBQ0g7cUJBQUEsQUFBUyxZQUFULEFBQXFCLEFBQ3hCO0FBQ0o7QUFFRDs7YUFBQSxBQUFTLFdBQVcsQUFDaEI7ZUFBQSxBQUFPLEFBQ1Y7QUFFRDs7YUFBQSxBQUFTLG9CQUFvQixBQUN6QjtlQUFBLEFBQU8sQUFDVjtBQUVEOzthQUFBLEFBQVMsaUJBQWlCLEFBQ3RCO2VBQUEsQUFBTyxBQUNWO0FBRUQ7O1FBQUk7Z0JBQVcsQUFDSCxBQUNSO2tCQUZXLEFBRUQsQUFDVjt3QkFISixBQUFlLEFBR0ssQUFHcEI7QUFOZSxBQUNYOztXQUtKLEFBQU8sQUFDVjs7O0FBRUQsU0FBQSxBQUFTLDBCQUFULEFBQW1DO2tCQUNwQix1QkFBQSxBQUFhLG9CLEFBQWIsQUFBaUM7Ozs7Ozs7Ozs7Ozs7OztBQzVFaEQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQThCQTs7OztJLEFBSU0sUUFDRixlQUFBLEFBQVksTUFBWixBQUFrQixTQUFsQixBQUEyQixNQUFNO3dCQUM3Qjs7T0FBQSxBQUFLLE9BQU8sUUFBWixBQUFvQixBQUNwQjtPQUFBLEFBQUssVUFBVSxXQUFmLEFBQTBCLEFBQzFCO09BQUEsQUFBSyxPQUFPLFFBQVosQUFBb0IsQUFDdkI7QTs7a0IsQUFHVTs7Ozs7Ozs7O0FDeENmLElBQUksY0FBSixBQUFrQjs7QUFFbEI7OztBQUdBLFlBQUEsQUFBWSxpQkFBaUIsWUFBWSxBQUNyQztRQUFJLE1BQUosQUFBVSxBQUNWO1FBQUksS0FBSyxVQUFBLEFBQVUsVUFBbkIsQUFBUyxBQUFvQixBQUM3QjtRQUFBLEFBQUksQUFDSjtRQUFBLEFBQUksQUFDSjtRQUFJLElBQUksR0FBQSxBQUFHLE1BQVgsQUFBUSxBQUFTLG1CQUFtQixBQUNoQztZQUFBLEFBQUksT0FBTyxFQUFYLEFBQVcsQUFBRSxBQUNoQjtBQUZELGVBRVcsSUFBSSxHQUFBLEFBQUcsTUFBWCxBQUFRLEFBQVMsNkJBQTZCLEFBQ2pEO1lBQUEsQUFBSSxLQUFLLEVBQVQsQUFBUyxBQUFFLEFBQ2Q7QUFGTSxLQUFBLFVBRUksSUFBSSxHQUFBLEFBQUcsTUFBWCxBQUFRLEFBQVMsa0JBQWtCLEFBQ3RDO1lBQUEsQUFBSSxLQUFLLEVBQVQsQUFBUyxBQUFFLEFBQ2Q7QUFGTSxLQUFBLFVBRUksSUFBSSxHQUFBLEFBQUcsTUFBWCxBQUFRLEFBQVMsc0JBQXNCLEFBQzFDO1lBQUEsQUFBSSxVQUFVLEVBQWQsQUFBYyxBQUFFLEFBQ25CO0FBRk0sS0FBQSxVQUVJLElBQUksR0FBQSxBQUFHLE1BQVgsQUFBUSxBQUFTLHFCQUFxQixBQUN6QztZQUFBLEFBQUksU0FBUyxFQUFiLEFBQWEsQUFBRSxBQUNsQjtBQUZNLEtBQUEsVUFFSSxJQUFJLEdBQUEsQUFBRyxNQUFYLEFBQVEsQUFBUyxtQkFBbUIsQUFDdkM7WUFBQSxBQUFJLFFBQVEsRUFBWixBQUFZLEFBQUUsQUFDakI7QUFGTSxLQUFBLE1BRUEsSUFBSSxJQUFJLEdBQUEsQUFBRyxNQUFYLEFBQVEsQUFBUyw4QkFBOEIsQUFDbEQ7WUFBQSxBQUFJLFNBQVMsRUFBYixBQUFhLEFBQUUsQUFDbEI7QUFFRDs7UUFBSSxJQUFKLEFBQVEsTUFBTSxPQUFPLEVBQUUsU0FBRixBQUFZLFFBQVEsU0FBVSxJQUFyQyxBQUFPLEFBQWtDLEFBQ3ZEO1FBQUksSUFBSixBQUFRLElBQUksT0FBTyxFQUFFLFNBQUYsQUFBWSxNQUFNLFNBQVUsSUFBbkMsQUFBTyxBQUFnQyxBQUNuRDtRQUFJLElBQUosQUFBUSxTQUFTLE9BQU8sRUFBRSxTQUFGLEFBQVksV0FBVyxTQUFVLElBQXhDLEFBQU8sQUFBcUMsQUFDN0Q7UUFBSSxJQUFKLEFBQVEsUUFBUSxPQUFPLEVBQUUsU0FBRixBQUFZLFVBQVUsU0FBVSxJQUF2QyxBQUFPLEFBQW9DLEFBQzNEO1FBQUksSUFBSixBQUFRLE9BQU8sT0FBTyxFQUFFLFNBQUYsQUFBWSxTQUFTLFNBQVUsSUFBdEMsQUFBTyxBQUFtQyxBQUN6RDtRQUFJLElBQUosQUFBUSxRQUFRLE9BQU8sRUFBRSxTQUFGLEFBQVksVUFBVSxTQUFVLElBQXZDLEFBQU8sQUFBb0MsQUFFM0Q7O1dBQU8sRUFBRSxTQUFGLEFBQVksSUFBSSxTQUF2QixBQUFPLEFBQTBCLEFBQ3BDO0FBN0JEOztBQStCQSxZQUFBLEFBQVksV0FBVyxZQUFZLEFBQy9CO1FBQUksWUFBQSxBQUFZLGlCQUFaLEFBQTZCLFlBQWpDLEFBQTZDLFVBQVUsQUFDbkQ7ZUFBQSxBQUFPLEFBQ1Y7QUFGRCxXQUVPLEFBQ0g7ZUFBQSxBQUFPLEFBQ1Y7QUFDSjtBQU5EOztBQVFBLFlBQUEsQUFBWSxZQUFZLFlBQVksQUFDaEM7UUFBSSxZQUFBLEFBQVksaUJBQVosQUFBNkIsWUFBakMsQUFBNkMsV0FBVyxBQUNwRDtlQUFBLEFBQU8sQUFDVjtBQUZELFdBRU8sQUFDSDtlQUFBLEFBQU8sQUFDVjtBQUNKO0FBTkQ7O0FBUUEsWUFBQSxBQUFZLFdBQVcsWUFBWSxBQUMvQjtRQUFJLFlBQUEsQUFBWSxpQkFBWixBQUE2QixZQUFqQyxBQUE2QyxVQUFVLEFBQ25EO2VBQUEsQUFBTyxBQUNWO0FBRkQsV0FFTyxBQUNIO2VBQUEsQUFBTyxBQUNWO0FBQ0o7QUFORDs7QUFRQSxZQUFBLEFBQVksZUFBZSxZQUFZLEFBQ25DO1FBQUksT0FBQSxBQUFPLFFBQVEsT0FBQSxBQUFPLEtBQTFCLEFBQStCLGNBQWMsQUFDekM7ZUFBQSxBQUFPLEFBQ1Y7QUFGRCxXQUVPLEFBQ0g7ZUFBQSxBQUFPLEFBQ1Y7QUFDSjtBQU5EOztBQVFBLFlBQUEsQUFBWSxTQUFTLFlBQVksQUFDN0I7UUFBSSxZQUFZLFVBQWhCLEFBQTBCLEFBQzFCO1FBQUksU0FBUyxVQUFBLEFBQVUsUUFBVixBQUFrQixVQUFVLENBQXpDLEFBQTBDLEFBQzFDO1dBQUEsQUFBTyxBQUNWO0FBSkQ7O0FBTUEsWUFBQSxBQUFZLE9BQU8sWUFBWSxBQUMzQjtRQUFJLENBQUMsQ0FBQyxPQUFGLEFBQVMsaUJBQWlCLG1CQUE5QixBQUFpRCxRQUFRLEFBQ3JEO2VBQUEsQUFBTyxBQUNWO0FBRkQsV0FFTyxBQUNIO2VBQUEsQUFBTyxBQUNWO0FBQ0o7QUFORDs7QUFRQSxZQUFBLEFBQVksZUFBZSxZQUFZLEFBQ25DO1FBQUEsQUFBSSxJQUFKLEFBQ0EsQUFFQTs7QUFDQTtRQUFJLE9BQU8sVUFBWCxBQUFxQixBQUNyQjtRQUFJLE9BQU8sVUFBWCxBQUFxQixBQUVyQjs7U0FBQSxBQUFLLEFBQ0w7Z0JBQUEsQUFBWSxBQUNaO1FBQUksZ0JBQWdCLENBQ3BCLEVBQUMsR0FBRCxBQUFJLGNBQWMsR0FERSxBQUNwQixBQUFxQixvQ0FDckIsRUFBQyxHQUFELEFBQUksZUFBZSxHQUZDLEFBRXBCLEFBQXNCLGtDQUN0QixFQUFDLEdBQUQsQUFBSSxhQUFhLEdBSEcsQUFHcEIsQUFBb0IsZ0NBQ3BCLEVBQUMsR0FBRCxBQUFJLGFBQWEsR0FKRyxBQUlwQixBQUFvQixnQ0FDcEIsRUFBQyxHQUFELEFBQUksaUJBQWlCLEdBTEQsQUFLcEIsQUFBd0Isb0JBQ3hCLEVBQUMsR0FBRCxBQUFJLHVCQUF1QixHQU5QLEFBTXBCLEFBQThCLG9CQUM5QixFQUFDLEdBQUQsQUFBSSxjQUFjLEdBUEUsQUFPcEIsQUFBcUIsaUNBQ3JCLEVBQUMsR0FBRCxBQUFJLGdCQUFnQixHQVJBLEFBUXBCLEFBQXVCLG1DQUN2QixFQUFDLEdBQUQsQUFBSSxjQUFjLEdBVEUsQUFTcEIsQUFBcUIsOEJBQ3JCLEVBQUMsR0FBRCxBQUFJLGNBQWMsR0FWRSxBQVVwQixBQUFxQix3QkFDckIsRUFBQyxHQUFELEFBQUksY0FBYyxHQVhFLEFBV3BCLEFBQXFCLG1DQUNyQixFQUFDLEdBQUQsQUFBSSxrQkFBa0IsR0FaRixBQVlwQixBQUF5QixnREFDekIsRUFBQyxHQUFELEFBQUksY0FBYyxHQWJFLEFBYXBCLEFBQXFCLGdCQUNyQixFQUFDLEdBQUQsQUFBSSxnQkFBZ0IsR0FkQSxBQWNwQixBQUF1QixXQUN2QixFQUFDLEdBQUQsQUFBSSxXQUFXLEdBZkssQUFlcEIsQUFBa0IsYUFDbEIsRUFBQyxHQUFELEFBQUksWUFBWSxHQWhCSSxBQWdCcEIsQUFBbUIsYUFDbkIsRUFBQyxHQUFELEFBQUksVUFBVSxHQWpCTSxBQWlCcEIsQUFBaUIsV0FDakIsRUFBQyxHQUFELEFBQUksU0FBUyxHQWxCTyxBQWtCcEIsQUFBZ0IsaUJBQ2hCLEVBQUMsR0FBRCxBQUFJLE9BQU8sR0FuQlMsQUFtQnBCLEFBQWMsd0JBQ2QsRUFBQyxHQUFELEFBQUksWUFBWSxHQXBCSSxBQW9CcEIsQUFBbUIsY0FDbkIsRUFBQyxHQUFELEFBQUksVUFBVSxHQXJCTSxBQXFCcEIsQUFBaUIsNkNBQ2pCLEVBQUMsR0FBRCxBQUFJLE9BQU8sR0F0QlMsQUFzQnBCLEFBQWMsU0FDZCxFQUFDLEdBQUQsQUFBSSxRQUFRLEdBdkJRLEFBdUJwQixBQUFlLFVBQ2YsRUFBQyxHQUFELEFBQUksUUFBUSxHQXhCUSxBQXdCcEIsQUFBZSxVQUNmLEVBQUMsR0FBRCxBQUFJLFFBQVEsR0F6QlEsQUF5QnBCLEFBQWUsV0FDZixFQUFDLEdBQUQsQUFBSSxjQUFjLEdBMUJsQixBQUFvQixBQTBCcEIsQUFBcUIsQUFFckI7U0FBSyxJQUFMLEFBQVMsTUFBVCxBQUFlLGVBQWUsQUFDMUI7WUFBSSxLQUFLLGNBQVQsQUFBUyxBQUFjLEFBQ3ZCO1lBQUksR0FBQSxBQUFHLEVBQUgsQUFBSyxLQUFULEFBQUksQUFBVSxPQUFPLEFBQ2pCO2lCQUFLLEdBQUwsQUFBUSxBQUNSO0FBQ0g7QUFDSjtBQUVEOztRQUFJLFVBQUEsQUFBVSxLQUFkLEFBQUksQUFBZSxLQUFLLEFBQ3BCO29CQUFZLGVBQUEsQUFBZSxLQUFmLEFBQW9CLElBQWhDLEFBQVksQUFBd0IsQUFDcEM7YUFBQSxBQUFLLEFBQ1I7QUFFRDs7WUFBQSxBQUFRLEFBQ1I7YUFBQSxBQUFLLEFBQ0Q7d0JBQVkseUJBQUEsQUFBeUIsS0FBekIsQUFBOEIsTUFBMUMsQUFBWSxBQUFvQyxBQUNoRDtBQUVKOzthQUFBLEFBQUssQUFDRDt3QkFBWSxzQkFBQSxBQUFzQixLQUF0QixBQUEyQixNQUF2QyxBQUFZLEFBQWlDLEFBQzdDO0FBRUo7O2FBQUEsQUFBSyxBQUNEO3dCQUFZLHlCQUFBLEFBQXlCLEtBQXJDLEFBQVksQUFBOEIsQUFDMUM7d0JBQVksVUFBQSxBQUFVLEtBQVYsQUFBZSxNQUFNLFVBQXJCLEFBQXFCLEFBQVUsS0FBL0IsQUFBb0MsT0FBTyxVQUFBLEFBQVUsS0FBakUsQUFBWSxBQUEwRCxBQUN0RTtBQVpKLEFBZUE7OztZQUFBLEFBQVEsSUFBSSxXQUFaLEFBQXVCLEFBQ3ZCO1lBQUEsQUFBUSxJQUFJLFdBQVosQUFBdUIsQUFDdkI7WUFBQSxBQUFRLElBQUksU0FBWixBQUFxQixBQUNyQjtZQUFBLEFBQVEsSUFBSSxnQkFBWixBQUE0QixBQUU1Qjs7UUFBSSxVQUFKLEFBQWMsQUFDZDtRQUFJLEtBQUosQUFBUyxBQUNUO1FBQUksU0FBUyxPQUFPLFFBQUEsQUFBUSxVQUFmLEFBQXlCLHlCQUF6QixBQUFrRCxLQUFsRCxBQUF1RCxLQUFwRSxBQUFhLEFBQTRELEFBQ3pFO1FBQUksTUFBTSxPQUFWLEFBQVUsQUFBTyxBQUNqQjtRQUFJLGFBQWEsUUFBakIsQUFBeUIsQUFDekI7WUFBQSxBQUFRLElBQUkscUJBQVosQUFBaUMsQUFDakM7UUFBQSxBQUFJLFFBQUosQUFBWSxBQUVaOztRQUFJLE1BQU0sSUFBQSxBQUFJLE1BQU0sYUFBcEIsQUFBVSxBQUF1QixBQUNqQztZQUFBLEFBQVEsSUFBSSxVQUFaLEFBQXNCLEFBRXRCOztRQUFJLElBQUosQUFBUSxBQUNSO1FBQUksSUFBSixBQUFRLEFBQ1g7QUFwRkQ7O0FBc0ZBLFlBQUEsQUFBWSxtQkFBbUIsWUFBWSxBQUN2QztXQUFRLFVBQUEsQUFBVSxVQUFWLEFBQW9CLE1BQXBCLEFBQTBCLHlCQUM5QixVQUFBLEFBQVUsVUFBVixBQUFvQixjQUFwQixBQUFrQyxRQUFsQyxBQUEwQyxhQUFhLENBRDNELEFBQzRELEFBQy9EO0FBSEQ7O0FBS0E7QUFDQSxZQUFBLEFBQVksT0FBTyxZQUFZLEFBQzNCO0FBQ0E7UUFBSSxDQUFDLE9BQUEsQUFBTyxVQUFaLEFBQXNCLFlBQVksQUFDOUI7QUFDQTtZQUFJLENBQUMsT0FBTCxBQUFZLFdBQVcsQUFDbkI7bUJBQUEsQUFBTyxZQUFZLFVBQUEsQUFBVSxLQUFLLEFBQzlCO3VCQUFPLENBQUMsTUFBRCxBQUFPLE9BQWQsQUFBcUIsQUFDeEI7QUFGRCxBQUdIO0FBRUQ7O0FBQ0E7WUFBSSxDQUFDLE9BQUEsQUFBTyxVQUFaLEFBQXNCLFlBQVksQUFDOUI7bUJBQUEsQUFBTyxVQUFQLEFBQWlCLGFBQWEsVUFBQSxBQUFVLGNBQVYsQUFBd0IsVUFBVSxBQUM1RDsyQkFBVyxZQUFYLEFBQXVCLEFBQ3ZCO3VCQUFPLEtBQUEsQUFBSyxRQUFMLEFBQWEsY0FBYixBQUEyQixjQUFsQyxBQUFnRCxBQUNuRDtBQUhELEFBSUg7QUFDSjtBQUNKO0FBbEJEOztBQW9CQTtBQUNBLFlBQUEsQUFBWSxnQkFBZ0IsWUFBWSxBQUNwQztRQUFJLFVBQUosQUFBYyxBQUNkO1FBQUksSUFBSixBQUFRLEFBRVI7O1FBQUksSUFBSixBQUFJLEFBQUksQUFDUjtlQUFXLE1BQU0sQ0FBQyxPQUFPLEVBQUEsQUFBRSxhQUFWLEFBQUMsQUFBc0IsSUFBdkIsQUFBMkIsTUFBTSxDQUF2QyxBQUFNLEFBQWtDLEtBQXhDLEFBQTZDLE1BQ3hELENBQUMsTUFBTSxFQUFQLEFBQU8sQUFBRSxXQUFULEFBQW9CLE1BQU0sQ0FEZixBQUNYLEFBQTJCLEtBRGhCLEFBQ3FCLE1BQ2hDLENBQUMsTUFBTSxFQUFQLEFBQU8sQUFBRSxZQUFULEFBQXFCLE1BQU0sQ0FGaEIsQUFFWCxBQUE0QixLQUZqQixBQUVzQixNQUNqQyxDQUFDLE1BQU0sRUFBUCxBQUFPLEFBQUUsY0FBVCxBQUF1QixNQUFNLENBSGxCLEFBR1gsQUFBOEIsS0FIbkIsQUFHd0IsTUFDbkMsQ0FBQyxNQUFNLEVBQVAsQUFBTyxBQUFFLGNBQVQsQUFBdUIsTUFBTSxDQUpsQixBQUlYLEFBQThCLEtBSm5CLEFBSXdCLE1BQ25DLENBQUMsTUFBTSxFQUFQLEFBQU8sQUFBRSxtQkFBVCxBQUE0QixNQUFNLENBTHZCLEFBS1gsQUFBbUMsS0FMbkMsQUFLd0MsQUFFeEM7O1dBQUEsQUFBTyxBQUNWO0FBYkQ7O0FBZUEsWUFBQSxBQUFZLGVBQWUsVUFBQSxBQUFVLE9BQU8sQUFDeEM7YUFBQSxBQUFTLGVBQVQsQUFBd0IsTUFBTSxBQUMxQjtlQUFPLE9BQUEsQUFBTyxLQUFLLE1BQU0sS0FBbEIsQUFBa0IsQUFBSyxhQUFhLEtBQTNDLEFBQTJDLEFBQUssQUFDbkQ7QUFFRDs7WUFBUSxLQUFBLEFBQUssSUFBTCxBQUFTLE9BQWpCLEFBQVEsQUFBZ0IsQUFDeEI7UUFBSSxJQUFJLEtBQUEsQUFBSyxNQUFNLFFBQW5CLEFBQVEsQUFBbUIsQUFDM0I7UUFBSSxJQUFJLEtBQUEsQUFBSyxNQUFPLFFBQUQsQUFBUyxPQUE1QixBQUFRLEFBQTRCLEFBQ3BDO1FBQUksSUFBSSxLQUFBLEFBQUssTUFBTyxRQUFELEFBQVMsT0FBNUIsQUFBUSxBQUE0QixBQUNwQztXQUFPLENBQUMsTUFBQSxBQUFNLElBQU4sQUFBVSxLQUFLLGVBQUEsQUFBZSxLQUEvQixBQUFvQyxPQUFPLGVBQTNDLEFBQTJDLEFBQWUsS0FBMUQsQUFBK0QsTUFBTSxlQUE1RSxBQUE0RSxBQUFlLEFBQzlGO0FBVkQ7O0FBWUE7QUFDQSxZQUFBLEFBQVksUUFBUSxVQUFBLEFBQVUsSUFBSSxBQUM5QjtnQkFBQSxBQUFZLEFBRVo7O1FBQUksS0FBSixBQUFTLEFBQ1Q7UUFBSSxNQUFNLEdBQUEsQUFBRyxXQUFILEFBQWMsT0FBeEIsQUFBVSxBQUFxQixBQUMvQjtRQUFJLE9BQU8sR0FBQSxBQUFHLFdBQUgsQUFBYyxPQUF6QixBQUFXLEFBQXFCLEFBQ2hDO1lBQUEsQUFBUSxJQUFJLHFCQUFaLEFBQWlDLEFBQ2pDO1lBQUEsQUFBUSxJQUFJLHNCQUFaLEFBQWtDLEFBRWxDOztRQUFJLEtBQUssT0FBQSxBQUFPLFVBQWhCLEFBQVMsQUFBaUIsQUFDMUI7UUFBSSxLQUFLLE9BQUEsQUFBTyxVQUFoQixBQUFTLEFBQWlCLEFBQzFCO1FBQUksS0FBSyxPQUFBLEFBQU8sVUFBaEIsQUFBUyxBQUFpQixBQUMxQjtZQUFBLEFBQVEsSUFBSSxTQUFaLEFBQXFCLEFBQ3JCO1lBQUEsQUFBUSxJQUFJLFNBQVosQUFBcUIsQUFDckI7WUFBQSxBQUFRLElBQUksU0FBWixBQUFxQixBQUN4QjtBQWZEOztrQixBQWlCZTs7Ozs7QUNqUGYsSUFBTTs7QUFHRjtZQUFRLGdCQUFBLEFBQVMsS0FBSyxBQUNsQjtlQUFPLE9BQUEsQUFBTyxhQUFQLEFBQW9CLE1BQXBCLEFBQTBCLE1BQU0sSUFBQSxBQUFJLFlBQTNDLEFBQU8sQUFBZ0MsQUFBZ0IsQUFDMUQ7QUFMZSxBQU1oQjtBQUNBO1lBQVEsZ0JBQUEsQUFBUyxLQUFLLEFBQ2xCO1lBQUksTUFBTSxJQUFBLEFBQUksWUFBWSxJQUFBLEFBQUksU0FEWixBQUNsQixBQUFVLEFBQTJCLElBQUksQUFDekM7WUFBSSxVQUFVLElBQUEsQUFBSSxZQUFsQixBQUFjLEFBQWdCLEFBQzlCO2FBQUssSUFBSSxJQUFKLEFBQU0sR0FBRyxTQUFPLElBQXJCLEFBQXlCLFFBQVEsSUFBakMsQUFBbUMsUUFBbkMsQUFBMkMsS0FBSyxBQUM1QztvQkFBQSxBQUFRLEtBQUssSUFBQSxBQUFJLFdBQWpCLEFBQWEsQUFBZSxBQUMvQjtBQUNEO2VBQUEsQUFBTyxBQUNWO0FBZGUsQUFlaEI7ZUFBVyxtQkFBQSxBQUFTLEtBQUssQUFDckI7ZUFBTyxPQUFBLEFBQU8sYUFBUCxBQUFvQixNQUFwQixBQUEwQixNQUFNLElBQUEsQUFBSSxXQUEzQyxBQUFPLEFBQWdDLEFBQWUsQUFDekQ7QUFqQmUsQUFrQmhCO0FBQ0E7ZUFBVyxtQkFBQSxBQUFTLEtBQUssQUFDckI7WUFBSSxNQUFNLElBQUEsQUFBSSxZQUFZLElBREwsQUFDckIsQUFBVSxBQUFvQixTQUFTLEFBQ3ZDO1lBQUksVUFBVSxJQUFBLEFBQUksV0FBbEIsQUFBYyxBQUFlLEFBQzdCO2FBQUssSUFBSSxJQUFKLEFBQU0sR0FBRyxTQUFTLElBQXZCLEFBQTJCLFFBQVEsSUFBbkMsQUFBdUMsUUFBdkMsQUFBK0MsS0FBSyxBQUNoRDtvQkFBQSxBQUFRLEtBQUssSUFBQSxBQUFJLFdBQWpCLEFBQWEsQUFBZSxBQUMvQjtBQUNEO2VBQUEsQUFBTyxBQUNWO0FBMUJlLEFBMkJoQjtnQkFBWSxvQkFBQSxBQUFTLE9BQU8sQUFDeEI7ZUFBTyxLQUFLLE9BQUEsQUFBTyxhQUFQLEFBQW9CLE1BQXBCLEFBQTBCLE1BQS9CLEFBQUssQUFBZ0MsUUFBckMsQUFDUCxRQURPLEFBQ0MsT0FERCxBQUNRLEtBRFIsQUFDYSxRQURiLEFBQ3FCLE9BRHJCLEFBQzRCLEtBRDVCLEFBQ2lDLFFBRGpDLEFBQ3lDLE9BRGhELEFBQU8sQUFDZ0QsQUFDMUQ7QUE5QmUsQUErQmhCO2dCQUFZLG9CQUFBLEFBQVMsU0FBUyxBQUMxQjttQkFBTyxBQUFJLGdCQUFZLEFBQUssU0FBTCxBQUFjLE1BQWQsQUFBb0IsSUFBcEIsQUFBd0IsSUFBSyxVQUFBLEFBQVMsR0FBRyxBQUFFO21CQUFPLEVBQUEsQUFBRSxXQUFULEFBQU8sQUFBYSxBQUFLO0FBQTNGLEFBQU8sQUFBZ0IsQUFDMUIsU0FEMEIsQ0FBaEI7QUFoQ2YsQUFBb0I7QUFBQSxBQUVoQjs7QUFtQ0osT0FBQSxBQUFPLFVBQVAsQUFBaUI7Ozs7O0FDdENqQjs7OztBQUlBLElBQU07WUFDTyxrQkFBQSxBQUFTLEdBQUcsQUFDckI7UUFBSSxNQUFKLEFBQVU7UUFBSSxNQUFNLEVBQXBCLEFBQXNCLEFBQ3RCO1NBQUssSUFBSSxJQUFULEFBQVcsR0FBRyxJQUFkLEFBQWtCLEtBQWxCLEFBQXVCLEtBQU0sQUFDM0I7VUFBSSxNQUFNLEVBQUEsQUFBRSxNQUFaLEFBQVUsQUFBUSxBQUNsQjtVQUFJLE1BQU0sRUFBQSxBQUFFLElBQVosQUFBVSxBQUFNLEFBRWhCOztBQUNBO2FBQU8sTUFBTSxFQUFBLEFBQUUsTUFBUixBQUFNLEFBQVEsS0FBZCxBQUFtQixNQUFNLEVBQUEsQUFBRSxJQUEzQixBQUF5QixBQUFNLEtBQXRDLEFBQTJDLEFBQzVDO0FBQ0Q7V0FBQSxBQUFPLEFBQ1I7QUFYSCxBQUFtQjtBQUFBLEFBQ2pCOztBQWFGLE9BQUEsQUFBTyxVQUFQLEFBQWlCOzs7Ozs7Ozs7QUNqQmpCOzs7Ozs7OztBQUdBLFNBQUEsQUFBUyxVQUFULEFBQW1CLFFBQ25CLEFBQ0U7TUFBSSxVQUFVO3VCQUFVLEFBQ0gsQUFDbkI7bUJBRkYsQUFBd0IsQUFFUCxBQUdqQjtBQUx3QixBQUN0Qjs7TUFJRSxXQUFKLEFBQWUsQUFDZjtNQUFJLE9BQUosQUFBVyxBQUNYO01BQUkscUJBQUosQUFBeUIsQUFFekI7O0FBQ0E7TUFBSSxhQUFKLEFBQWlCLEFBRWpCOztXQUFBLEFBQVMsZUFBZSxBQUV2QixDQUVEOztXQUFBLEFBQVMsS0FBVCxBQUFjLFNBQVMsQUFDckI7YUFBUyxzQkFBdUIsSUFBQSxBQUFJLE9BQUwsQUFBQyxBQUFXLFlBQTNDLEFBQXNELEFBRXREOztlQUFBLEFBQVcsQUFDWDthQUFTLFNBQUEsQUFBUyxNQUFULEFBQWUsMkJBQTJCLFFBQW5ELEFBQTJELEFBRTNEOzt5QkFBQSxBQUFxQixBQUVyQjs7V0FBTyxJQUFQLEFBQU8sQUFBSSxBQUVYOzthQUFTLGtDQUFrQyxLQUEzQyxBQUFnRCxBQUVoRDs7U0FBQSxBQUFLLEtBQUwsQUFBVSxPQUFPLFNBQWpCLEFBQTBCLEFBQzFCO1NBQUEsQUFBSyxlQUFMLEFBQW9CLEFBQ3BCO1FBQUksU0FBSixBQUFhLFVBQVUsQUFDckI7V0FBQSxBQUFLLGlCQUFMLEFBQXNCLFNBQVEsV0FBVyxTQUFYLEFBQW9CLGFBQXBCLEFBQWlDLE9BQU8sU0FBQSxBQUFTLFdBQS9FLEFBQThCLEFBQTBELEFBQ3pGO0FBRUQ7O1NBQUEsQUFBSyxjQUFjLFlBQVcsQUFDNUI7ZUFBQSxBQUFTLEFBQ1Y7QUFGRCxBQUlBOztRQUFNLFNBQVMsU0FBVCxBQUFTLE9BQUEsQUFBUyxJQUFJLEFBQzFCO3VDQUErQixLQUEvQixBQUFvQyx3QkFBbUIsS0FBQSxBQUFLLFNBQTVELEFBQXFFLCtCQUEwQixLQUEvRixBQUFvRyxBQUVwRzs7VUFBSSxLQUFBLEFBQUssVUFBTCxBQUFlLE9BQU8sS0FBQSxBQUFLLFVBQS9CLEFBQXlDLEtBQUssQUFDNUM7aUJBQUEsQUFBUyxVQUFVLEtBQW5CLEFBQXdCLEFBQ3hCOzZCQUFBLEFBQXFCLEFBQ3RCO0FBQ0Y7QUFQRCxBQVNBOztRQUFNLFlBQVksU0FBWixBQUFZLFlBQVksQUFDNUI7ZUFBUyx3Q0FBd0MsUUFBeEMsQUFBZ0Qsb0JBQWhELEFBQW9FLG1CQUFtQixLQUFoRyxBQUFxRyxBQUNyRztlQUFBLEFBQVMsQUFFVDs7VUFBQSxBQUFJLG9CQUFvQixBQUN0QjtZQUFJLFFBQUEsQUFBUSxvQkFBWixBQUFnQyxHQUFHLEFBQ2pDO2tCQUFBLEFBQVEsQUFFUjs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzttQkFBUyx5QkFBMEIsSUFBQSxBQUFJLE9BQUwsQUFBQyxBQUFXLFlBQTlDLEFBQXlELEFBRXpEOztBQUNBO3FCQUFXLEtBQUEsQUFBSyxLQUFMLEFBQVUsTUFBckIsQUFBVyxBQUFnQixXQUFXLFFBQXRDLEFBQThDLEFBQy9DO0FBQ0Y7QUFDRjtBQXBCRCxBQXNCQTs7U0FBQSxBQUFLLGFBQWEsVUFBQSxBQUFVLElBQUksQUFDOUI7MkNBQW1DLEdBQW5DLEFBQXNDLHNCQUFpQixHQUF2RCxBQUEwRCwwQkFBcUIsS0FBL0UsQUFBb0YsQUFDckY7QUFGRCxBQUlBOztTQUFBLEFBQUssWUFBWSxZQUFZLEFBQzNCO2VBQVMsZ0NBQWdDLEtBQXpDLEFBQThDLEFBQy9DO0FBRkQsQUFJQTs7U0FBQSxBQUFLLFVBQVUsWUFBWSxBQUN6QjtlQUFTLDhCQUE4QixLQUF2QyxBQUE0QyxBQUM3QztBQUZELEFBSUE7O1NBQUEsQUFBSyxVQUFVLFlBQVksQUFDekI7ZUFBUyw4QkFBOEIsS0FBdkMsQUFBNEMsQUFDN0M7QUFGRCxBQUlBOztTQUFBLEFBQUsscUJBQXFCLFVBQUEsQUFBVSxJQUFJLEFBQ3RDO2VBQVMseUNBQXlDLEtBQWxELEFBQXVELEFBQ3hEO0FBRkQsQUFJQTs7U0FBQSxBQUFLLFNBQVMsT0FBQSxBQUFPLEtBQXJCLEFBQWMsQUFBWSxBQUMxQjtTQUFBLEFBQUssWUFBWSxVQUFBLEFBQVUsS0FBM0IsQUFBaUIsQUFBZSxBQUVoQzs7YUFBUyxrQ0FBa0MsS0FBM0MsQUFBZ0QsQUFDaEQ7U0FBQSxBQUFLLEFBQ047QUFFRDs7V0FBQSxBQUFTLFNBQVQsQUFBa0IsS0FBSyxBQUNyQjtRQUFBLEFBQUksWUFBWSxBQUNkO2NBQUEsQUFBUSxJQUFSLEFBQVksQUFDYjtBQUNGO0FBRUQ7O01BQUk7VUFBSixBQUFlLEFBQ1AsQUFHUjtBQUplLEFBQ2I7O1NBR0YsQUFBTyxBQUNSOzs7QUFFRCxVQUFBLEFBQVUsMEJBQVYsQUFBb0M7a0JBQ3JCLHVCQUFBLEFBQWEsb0IsQUFBYixBQUFpQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKiEgY29kZW0taXNvYm94ZXIgdjAuMy41IGh0dHBzOi8vZ2l0aHViLmNvbS9tYWRlYnloaXJvL2NvZGVtLWlzb2JveGVyL2Jsb2IvbWFzdGVyL0xJQ0VOU0UudHh0ICovXG52YXIgSVNPQm94ZXIgPSB7fTtcblxuSVNPQm94ZXIucGFyc2VCdWZmZXIgPSBmdW5jdGlvbihhcnJheUJ1ZmZlcikge1xuICByZXR1cm4gbmV3IElTT0ZpbGUoYXJyYXlCdWZmZXIpLnBhcnNlKCk7XG59O1xuXG5JU09Cb3hlci5hZGRCb3hQcm9jZXNzb3IgPSBmdW5jdGlvbih0eXBlLCBwYXJzZXIpIHtcbiAgaWYgKHR5cGVvZiB0eXBlICE9PSAnc3RyaW5nJyB8fCB0eXBlb2YgcGFyc2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIElTT0JveC5wcm90b3R5cGUuX2JveFByb2Nlc3NvcnNbdHlwZV0gPSBwYXJzZXI7XG59O1xuXG5JU09Cb3hlci5jcmVhdGVGaWxlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgSVNPRmlsZSgpO1xufTtcblxuLy8gU2VlIElTT0JveGVyLmFwcGVuZCgpIGZvciAncG9zJyBwYXJhbWV0ZXIgc3ludGF4XG5JU09Cb3hlci5jcmVhdGVCb3ggPSBmdW5jdGlvbih0eXBlLCBwYXJlbnQsIHBvcykge1xuICB2YXIgbmV3Qm94ID0gSVNPQm94LmNyZWF0ZSh0eXBlKTtcbiAgaWYgKHBhcmVudCkge1xuICAgIHBhcmVudC5hcHBlbmQobmV3Qm94LCBwb3MpO1xuICB9XG4gIHJldHVybiBuZXdCb3g7XG59O1xuXG4vLyBTZWUgSVNPQm94ZXIuYXBwZW5kKCkgZm9yICdwb3MnIHBhcmFtZXRlciBzeW50YXhcbklTT0JveGVyLmNyZWF0ZUZ1bGxCb3ggPSBmdW5jdGlvbih0eXBlLCBwYXJlbnQsIHBvcykge1xuICB2YXIgbmV3Qm94ID0gSVNPQm94ZXIuY3JlYXRlQm94KHR5cGUsIHBhcmVudCwgcG9zKTtcbiAgbmV3Qm94LnZlcnNpb24gPSAwO1xuICBuZXdCb3guZmxhZ3MgPSAwO1xuICByZXR1cm4gbmV3Qm94O1xufTtcblxuSVNPQm94ZXIuVXRpbHMgPSB7fTtcbklTT0JveGVyLlV0aWxzLmRhdGFWaWV3VG9TdHJpbmcgPSBmdW5jdGlvbihkYXRhVmlldywgZW5jb2RpbmcpIHtcbiAgdmFyIGltcGxpZWRFbmNvZGluZyA9IGVuY29kaW5nIHx8ICd1dGYtOCc7XG4gIGlmICh0eXBlb2YgVGV4dERlY29kZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG5ldyBUZXh0RGVjb2RlcihpbXBsaWVkRW5jb2RpbmcpLmRlY29kZShkYXRhVmlldyk7XG4gIH1cbiAgdmFyIGEgPSBbXTtcbiAgdmFyIGkgPSAwO1xuXG4gIGlmIChpbXBsaWVkRW5jb2RpbmcgPT09ICd1dGYtOCcpIHtcbiAgICAvKiBUaGUgZm9sbG93aW5nIGFsZ29yaXRobSBpcyBlc3NlbnRpYWxseSBhIHJld3JpdGUgb2YgdGhlIFVURjguZGVjb2RlIGF0XG4gICAgaHR0cDovL2Jhbm5pc3Rlci51cy93ZWJsb2cvMjAwNy9zaW1wbGUtYmFzZTY0LWVuY29kZWRlY29kZS1qYXZhc2NyaXB0L1xuICAgICovXG5cbiAgICB3aGlsZSAoaSA8IGRhdGFWaWV3LmJ5dGVMZW5ndGgpIHtcbiAgICAgIHZhciBjID0gZGF0YVZpZXcuZ2V0VWludDgoaSsrKTtcbiAgICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgICAvLyAxLWJ5dGUgY2hhcmFjdGVyICg3IGJpdHMpXG4gICAgICB9IGVsc2UgaWYgKGMgPCAweGUwKSB7XG4gICAgICAgIC8vIDItYnl0ZSBjaGFyYWN0ZXIgKDExIGJpdHMpXG4gICAgICAgIGMgPSAoYyAmIDB4MWYpIDw8IDY7XG4gICAgICAgIGMgfD0gKGRhdGFWaWV3LmdldFVpbnQ4KGkrKykgJiAweDNmKTtcbiAgICAgIH0gZWxzZSBpZiAoYyA8IDB4ZjApIHtcbiAgICAgICAgLy8gMy1ieXRlIGNoYXJhY3RlciAoMTYgYml0cylcbiAgICAgICAgYyA9IChjICYgMHhmKSA8PCAxMjtcbiAgICAgICAgYyB8PSAoZGF0YVZpZXcuZ2V0VWludDgoaSsrKSAmIDB4M2YpIDw8IDY7XG4gICAgICAgIGMgfD0gKGRhdGFWaWV3LmdldFVpbnQ4KGkrKykgJiAweDNmKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIDQtYnl0ZSBjaGFyYWN0ZXIgKDIxIGJpdHMpXG4gICAgICAgIGMgPSAoYyAmIDB4NykgPDwgMTg7XG4gICAgICAgIGMgfD0gKGRhdGFWaWV3LmdldFVpbnQ4KGkrKykgJiAweDNmKSA8PCAxMjtcbiAgICAgICAgYyB8PSAoZGF0YVZpZXcuZ2V0VWludDgoaSsrKSAmIDB4M2YpIDw8IDY7XG4gICAgICAgIGMgfD0gKGRhdGFWaWV3LmdldFVpbnQ4KGkrKykgJiAweDNmKTtcbiAgICAgIH1cbiAgICAgIGEucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGMpKTtcbiAgICB9XG4gIH0gZWxzZSB7IC8vIEp1c3QgbWFwIGJ5dGUtYnktYnl0ZSAocHJvYmFibHkgd3JvbmcpXG4gICAgd2hpbGUgKGkgPCBkYXRhVmlldy5ieXRlTGVuZ3RoKSB7XG4gICAgICBhLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShkYXRhVmlldy5nZXRVaW50OChpKyspKSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBhLmpvaW4oJycpO1xufTtcblxuSVNPQm94ZXIuVXRpbHMudXRmOFRvQnl0ZUFycmF5ID0gZnVuY3Rpb24oc3RyaW5nKSB7XG4gIC8vIE9ubHkgVVRGLTggZW5jb2RpbmcgaXMgc3VwcG9ydGVkIGJ5IFRleHRFbmNvZGVyXG4gIHZhciB1LCBpO1xuICBpZiAodHlwZW9mIFRleHRFbmNvZGVyICE9PSAndW5kZWZpbmVkJykge1xuICAgIHUgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoc3RyaW5nKTtcbiAgfSBlbHNlIHtcbiAgICB1ID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGMgPSBzdHJpbmcuY2hhckNvZGVBdChpKTtcbiAgICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgICB1LnB1c2goYyk7XG4gICAgICB9IGVsc2UgaWYgKGMgPCAweDgwMCkge1xuICAgICAgICB1LnB1c2goMHhDMCB8IChjID4+IDYpKTtcbiAgICAgICAgdS5wdXNoKDB4ODAgfCAoNjMgJiBjKSk7XG4gICAgICB9IGVsc2UgaWYgKGMgPCAweDEwMDAwKSB7XG4gICAgICAgIHUucHVzaCgweEUwIHwgKGMgPj4gMTIpKTtcbiAgICAgICAgdS5wdXNoKDB4ODAgfCAoNjMgJiAoYyA+PiA2KSkpO1xuICAgICAgICB1LnB1c2goMHg4MCB8ICg2MyAmIGMpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHUucHVzaCgweEYwIHwgKGMgPj4gMTgpKTtcbiAgICAgICAgdS5wdXNoKDB4ODAgfCAoNjMgJiAoYyA+PiAxMikpKTtcbiAgICAgICAgdS5wdXNoKDB4ODAgfCAoNjMgJiAoYyA+PiA2KSkpO1xuICAgICAgICB1LnB1c2goMHg4MCB8ICg2MyAmIGMpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHU7XG59O1xuXG4vLyBNZXRob2QgdG8gYXBwZW5kIGEgYm94IGluIHRoZSBsaXN0IG9mIGNoaWxkIGJveGVzXG4vLyBUaGUgJ3BvcycgcGFyYW1ldGVyIGNhbiBiZSBlaXRoZXI6XG4vLyAgIC0gKG51bWJlcikgYSBwb3NpdGlvbiBpbmRleCBhdCB3aGljaCB0byBpbnNlcnQgdGhlIG5ldyBib3hcbi8vICAgLSAoc3RyaW5nKSB0aGUgdHlwZSBvZiB0aGUgYm94IGFmdGVyIHdoaWNoIHRvIGluc2VydCB0aGUgbmV3IGJveFxuLy8gICAtIChvYmplY3QpIHRoZSBib3ggYWZ0ZXIgd2hpY2ggdG8gaW5zZXJ0IHRoZSBuZXcgYm94XG5JU09Cb3hlci5VdGlscy5hcHBlbmRCb3ggPSBmdW5jdGlvbihwYXJlbnQsIGJveCwgcG9zKSB7XG4gIGJveC5fb2Zmc2V0ID0gcGFyZW50Ll9jdXJzb3Iub2Zmc2V0O1xuICBib3guX3Jvb3QgPSAocGFyZW50Ll9yb290ID8gcGFyZW50Ll9yb290IDogcGFyZW50KTtcbiAgYm94Ll9yYXcgPSBwYXJlbnQuX3JhdztcbiAgYm94Ll9wYXJlbnQgPSBwYXJlbnQ7XG5cbiAgaWYgKHBvcyA9PT0gLTEpIHtcbiAgICAvLyBUaGUgbmV3IGJveCBpcyBhIHN1Yi1ib3ggb2YgdGhlIHBhcmVudCBidXQgbm90IGFkZGVkIGluIGJveGVzIGFycmF5LFxuICAgIC8vIGZvciBleGFtcGxlIHdoZW4gdGhlIG5ldyBib3ggaXMgc2V0IGFzIGFuIGVudHJ5IChzZWUgZHJlZiBhbmQgc3RzZCBmb3IgZXhhbXBsZSlcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAocG9zID09PSB1bmRlZmluZWQgfHwgcG9zID09PSBudWxsKSB7XG4gICAgcGFyZW50LmJveGVzLnB1c2goYm94KTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHR5cGU7XG5cbiAgaWYgKHR5cGVvZiBwb3MgPT09IFwibnVtYmVyXCIpIHtcbiAgICBpbmRleCA9IHBvcztcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIHBvcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgdHlwZSA9IHBvcztcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBwb3MgPT09IFwib2JqZWN0XCIgJiYgcG9zLnR5cGUpIHtcbiAgICAgIHR5cGUgPSBwb3MudHlwZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyZW50LmJveGVzLnB1c2goYm94KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcmVudC5ib3hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHR5cGUgPT09IHBhcmVudC5ib3hlc1tpXS50eXBlKSB7XG4gICAgICAgIGluZGV4ID0gaSArIDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBwYXJlbnQuYm94ZXMuc3BsaWNlKGluZGV4LCAwLCBib3gpO1xufTtcblxuaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICBleHBvcnRzLnBhcnNlQnVmZmVyICAgICA9IElTT0JveGVyLnBhcnNlQnVmZmVyO1xuICBleHBvcnRzLmFkZEJveFByb2Nlc3NvciA9IElTT0JveGVyLmFkZEJveFByb2Nlc3NvcjtcbiAgZXhwb3J0cy5jcmVhdGVGaWxlICAgICAgPSBJU09Cb3hlci5jcmVhdGVGaWxlO1xuICBleHBvcnRzLmNyZWF0ZUJveCAgICAgICA9IElTT0JveGVyLmNyZWF0ZUJveDtcbiAgZXhwb3J0cy5jcmVhdGVGdWxsQm94ICAgPSBJU09Cb3hlci5jcmVhdGVGdWxsQm94O1xuICBleHBvcnRzLlV0aWxzICAgICAgICAgICA9IElTT0JveGVyLlV0aWxzO1xufVxuXG5JU09Cb3hlci5DdXJzb3IgPSBmdW5jdGlvbihpbml0aWFsT2Zmc2V0KSB7XG4gIHRoaXMub2Zmc2V0ID0gKHR5cGVvZiBpbml0aWFsT2Zmc2V0ID09ICd1bmRlZmluZWQnID8gMCA6IGluaXRpYWxPZmZzZXQpO1xufTtcblxudmFyIElTT0ZpbGUgPSBmdW5jdGlvbihhcnJheUJ1ZmZlcikge1xuICB0aGlzLl9jdXJzb3IgPSBuZXcgSVNPQm94ZXIuQ3Vyc29yKCk7XG4gIHRoaXMuYm94ZXMgPSBbXTtcbiAgaWYgKGFycmF5QnVmZmVyKSB7XG4gICAgdGhpcy5fcmF3ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyKTtcbiAgfVxufTtcblxuSVNPRmlsZS5wcm90b3R5cGUuZmV0Y2ggPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciByZXN1bHQgPSB0aGlzLmZldGNoQWxsKHR5cGUsIHRydWUpO1xuICByZXR1cm4gKHJlc3VsdC5sZW5ndGggPyByZXN1bHRbMF0gOiBudWxsKTtcbn07XG5cbklTT0ZpbGUucHJvdG90eXBlLmZldGNoQWxsID0gZnVuY3Rpb24odHlwZSwgcmV0dXJuRWFybHkpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBJU09GaWxlLl9zd2VlcC5jYWxsKHRoaXMsIHR5cGUsIHJlc3VsdCwgcmV0dXJuRWFybHkpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuSVNPRmlsZS5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fY3Vyc29yLm9mZnNldCA9IDA7XG4gIHRoaXMuYm94ZXMgPSBbXTtcbiAgd2hpbGUgKHRoaXMuX2N1cnNvci5vZmZzZXQgPCB0aGlzLl9yYXcuYnl0ZUxlbmd0aCkge1xuICAgIHZhciBib3ggPSBJU09Cb3gucGFyc2UodGhpcyk7XG5cbiAgICAvLyBCb3ggY291bGQgbm90IGJlIHBhcnNlZFxuICAgIGlmICh0eXBlb2YgYm94LnR5cGUgPT09ICd1bmRlZmluZWQnKSBicmVhaztcblxuICAgIHRoaXMuYm94ZXMucHVzaChib3gpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcblxuSVNPRmlsZS5fc3dlZXAgPSBmdW5jdGlvbih0eXBlLCByZXN1bHQsIHJldHVybkVhcmx5KSB7XG4gIGlmICh0aGlzLnR5cGUgJiYgdGhpcy50eXBlID09IHR5cGUpIHJlc3VsdC5wdXNoKHRoaXMpO1xuICBmb3IgKHZhciBib3ggaW4gdGhpcy5ib3hlcykge1xuICAgIGlmIChyZXN1bHQubGVuZ3RoICYmIHJldHVybkVhcmx5KSByZXR1cm47XG4gICAgSVNPRmlsZS5fc3dlZXAuY2FsbCh0aGlzLmJveGVzW2JveF0sIHR5cGUsIHJlc3VsdCwgcmV0dXJuRWFybHkpO1xuICB9XG59O1xuXG5JU09GaWxlLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uKCkge1xuXG4gIHZhciBsZW5ndGggPSAwLFxuICAgICAgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5ib3hlcy5sZW5ndGg7IGkrKykge1xuICAgIGxlbmd0aCArPSB0aGlzLmJveGVzW2ldLmdldExlbmd0aChmYWxzZSk7XG4gIH1cblxuICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuICB0aGlzLl9yYXdvID0gbmV3IERhdGFWaWV3KGJ5dGVzLmJ1ZmZlcik7XG4gIHRoaXMuYnl0ZXMgPSBieXRlcztcbiAgdGhpcy5fY3Vyc29yLm9mZnNldCA9IDA7XG5cbiAgZm9yIChpID0gMDsgaSA8IHRoaXMuYm94ZXMubGVuZ3RoOyBpKyspIHtcbiAgICB0aGlzLmJveGVzW2ldLndyaXRlKCk7XG4gIH1cblxuICByZXR1cm4gYnl0ZXMuYnVmZmVyO1xufTtcblxuSVNPRmlsZS5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24oYm94LCBwb3MpIHtcbiAgSVNPQm94ZXIuVXRpbHMuYXBwZW5kQm94KHRoaXMsIGJveCwgcG9zKTtcbn07XG52YXIgSVNPQm94ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX2N1cnNvciA9IG5ldyBJU09Cb3hlci5DdXJzb3IoKTtcbn07XG5cbklTT0JveC5wYXJzZSA9IGZ1bmN0aW9uKHBhcmVudCkge1xuICB2YXIgbmV3Qm94ID0gbmV3IElTT0JveCgpO1xuICBuZXdCb3guX29mZnNldCA9IHBhcmVudC5fY3Vyc29yLm9mZnNldDtcbiAgbmV3Qm94Ll9yb290ID0gKHBhcmVudC5fcm9vdCA/IHBhcmVudC5fcm9vdCA6IHBhcmVudCk7XG4gIG5ld0JveC5fcmF3ID0gcGFyZW50Ll9yYXc7XG4gIG5ld0JveC5fcGFyZW50ID0gcGFyZW50O1xuICBuZXdCb3guX3BhcnNlQm94KCk7XG4gIHBhcmVudC5fY3Vyc29yLm9mZnNldCA9IG5ld0JveC5fcmF3LmJ5dGVPZmZzZXQgKyBuZXdCb3guX3Jhdy5ieXRlTGVuZ3RoO1xuICByZXR1cm4gbmV3Qm94O1xufTtcblxuSVNPQm94LmNyZWF0ZSA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIG5ld0JveCA9IG5ldyBJU09Cb3goKTtcbiAgbmV3Qm94LnR5cGUgPSB0eXBlO1xuICBuZXdCb3guYm94ZXMgPSBbXTtcbiAgcmV0dXJuIG5ld0JveDtcbn07XG5cbklTT0JveC5wcm90b3R5cGUuX2JveENvbnRhaW5lcnMgPSBbJ2RpbmYnLCAnZWR0cycsICdtZGlhJywgJ21lY28nLCAnbWZyYScsICdtaW5mJywgJ21vb2YnLCAnbW9vdicsICdtdmV4JywgJ3N0YmwnLCAnc3RyaycsICd0cmFmJywgJ3RyYWsnLCAndHJlZicsICd1ZHRhJywgJ3Z0dGMnLCAnc2luZicsICdzY2hpJywgJ2VuY3YnLCAnZW5jYSddO1xuXG5JU09Cb3gucHJvdG90eXBlLl9ib3hQcm9jZXNzb3JzID0ge307XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gR2VuZXJpYyByZWFkL3dyaXRlIGZ1bmN0aW9uc1xuXG5JU09Cb3gucHJvdG90eXBlLl9wcm9jRmllbGQgPSBmdW5jdGlvbiAobmFtZSwgdHlwZSwgc2l6ZSkge1xuICBpZiAodGhpcy5fcGFyc2luZykge1xuICAgIHRoaXNbbmFtZV0gPSB0aGlzLl9yZWFkRmllbGQodHlwZSwgc2l6ZSk7XG4gIH1cbiAgZWxzZSB7XG4gICAgdGhpcy5fd3JpdGVGaWVsZCh0eXBlLCBzaXplLCB0aGlzW25hbWVdKTtcbiAgfVxufTtcblxuSVNPQm94LnByb3RvdHlwZS5fcHJvY0ZpZWxkQXJyYXkgPSBmdW5jdGlvbiAobmFtZSwgbGVuZ3RoLCB0eXBlLCBzaXplKSB7XG4gIHZhciBpO1xuICBpZiAodGhpcy5fcGFyc2luZykge1xuICAgIHRoaXNbbmFtZV0gPSBbXTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXNbbmFtZV1baV0gPSB0aGlzLl9yZWFkRmllbGQodHlwZSwgc2l6ZSk7XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzW25hbWVdLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl93cml0ZUZpZWxkKHR5cGUsIHNpemUsIHRoaXNbbmFtZV1baV0pO1xuICAgIH1cbiAgfVxufTtcblxuSVNPQm94LnByb3RvdHlwZS5fcHJvY0Z1bGxCb3ggPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fcHJvY0ZpZWxkKCd2ZXJzaW9uJywgJ3VpbnQnLCA4KTtcbiAgdGhpcy5fcHJvY0ZpZWxkKCdmbGFncycsICd1aW50JywgMjQpO1xufTtcblxuSVNPQm94LnByb3RvdHlwZS5fcHJvY0VudHJpZXMgPSBmdW5jdGlvbihuYW1lLCBsZW5ndGgsIGZuKSB7XG4gIHZhciBpO1xuICBpZiAodGhpcy5fcGFyc2luZykge1xuICAgIHRoaXNbbmFtZV0gPSBbXTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXNbbmFtZV0ucHVzaCh7fSk7XG4gICAgICBmbi5jYWxsKHRoaXMsIHRoaXNbbmFtZV1baV0pO1xuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGZuLmNhbGwodGhpcywgdGhpc1tuYW1lXVtpXSk7XG4gICAgfVxuICB9XG59O1xuXG5JU09Cb3gucHJvdG90eXBlLl9wcm9jU3ViRW50cmllcyA9IGZ1bmN0aW9uKGVudHJ5LCBuYW1lLCBsZW5ndGgsIGZuKSB7XG4gIHZhciBpO1xuICBpZiAodGhpcy5fcGFyc2luZykge1xuICAgIGVudHJ5W25hbWVdID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBlbnRyeVtuYW1lXS5wdXNoKHt9KTtcbiAgICAgIGZuLmNhbGwodGhpcywgZW50cnlbbmFtZV1baV0pO1xuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGZuLmNhbGwodGhpcywgZW50cnlbbmFtZV1baV0pO1xuICAgIH1cbiAgfVxufTtcblxuSVNPQm94LnByb3RvdHlwZS5fcHJvY0VudHJ5RmllbGQgPSBmdW5jdGlvbiAoZW50cnksIG5hbWUsIHR5cGUsIHNpemUpIHtcbiAgaWYgKHRoaXMuX3BhcnNpbmcpIHtcbiAgICBlbnRyeVtuYW1lXSA9IHRoaXMuX3JlYWRGaWVsZCh0eXBlLCBzaXplKTtcbiAgfVxuICBlbHNlIHtcbiAgICB0aGlzLl93cml0ZUZpZWxkKHR5cGUsIHNpemUsIGVudHJ5W25hbWVdKTtcbiAgfVxufTtcblxuSVNPQm94LnByb3RvdHlwZS5fcHJvY1N1YkJveGVzID0gZnVuY3Rpb24obmFtZSwgbGVuZ3RoKSB7XG4gIHZhciBpO1xuICBpZiAodGhpcy5fcGFyc2luZykge1xuICAgIHRoaXNbbmFtZV0gPSBbXTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXNbbmFtZV0ucHVzaChJU09Cb3gucGFyc2UodGhpcykpO1xuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLl9yYXdvKSB7XG4gICAgICAgIHRoaXNbbmFtZV1baV0ud3JpdGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2l6ZSArPSB0aGlzW25hbWVdW2ldLmdldExlbmd0aCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBSZWFkL3BhcnNlIGZ1bmN0aW9uc1xuXG5JU09Cb3gucHJvdG90eXBlLl9yZWFkRmllbGQgPSBmdW5jdGlvbih0eXBlLCBzaXplKSB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ3VpbnQnOlxuICAgICAgcmV0dXJuIHRoaXMuX3JlYWRVaW50KHNpemUpO1xuICAgIGNhc2UgJ2ludCc6XG4gICAgICByZXR1cm4gdGhpcy5fcmVhZEludChzaXplKTtcbiAgICBjYXNlICd0ZW1wbGF0ZSc6XG4gICAgICByZXR1cm4gdGhpcy5fcmVhZFRlbXBsYXRlKHNpemUpO1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gKHNpemUgPT09IC0xKSA/IHRoaXMuX3JlYWRUZXJtaW5hdGVkU3RyaW5nKCkgOiB0aGlzLl9yZWFkU3RyaW5nKHNpemUpO1xuICAgIGNhc2UgJ2RhdGEnOlxuICAgICAgcmV0dXJuIHRoaXMuX3JlYWREYXRhKHNpemUpO1xuICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgcmV0dXJuIHRoaXMuX3JlYWRVVEY4U3RyaW5nKCk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAtMTtcbiAgfVxufTtcblxuSVNPQm94LnByb3RvdHlwZS5fcmVhZEludCA9IGZ1bmN0aW9uKHNpemUpIHtcbiAgdmFyIHJlc3VsdCA9IG51bGwsXG4gICAgICBvZmZzZXQgPSB0aGlzLl9jdXJzb3Iub2Zmc2V0IC0gdGhpcy5fcmF3LmJ5dGVPZmZzZXQ7XG4gIHN3aXRjaChzaXplKSB7XG4gIGNhc2UgODpcbiAgICByZXN1bHQgPSB0aGlzLl9yYXcuZ2V0SW50OChvZmZzZXQpO1xuICAgIGJyZWFrO1xuICBjYXNlIDE2OlxuICAgIHJlc3VsdCA9IHRoaXMuX3Jhdy5nZXRJbnQxNihvZmZzZXQpO1xuICAgIGJyZWFrO1xuICBjYXNlIDMyOlxuICAgIHJlc3VsdCA9IHRoaXMuX3Jhdy5nZXRJbnQzMihvZmZzZXQpO1xuICAgIGJyZWFrO1xuICBjYXNlIDY0OlxuICAgIC8vIFdhcm5pbmc6IEphdmFTY3JpcHQgY2Fubm90IGhhbmRsZSA2NC1iaXQgaW50ZWdlcnMgbmF0aXZlbHkuXG4gICAgLy8gVGhpcyB3aWxsIGdpdmUgdW5leHBlY3RlZCByZXN1bHRzIGZvciBpbnRlZ2VycyA+PSAyXjUzXG4gICAgdmFyIHMxID0gdGhpcy5fcmF3LmdldEludDMyKG9mZnNldCk7XG4gICAgdmFyIHMyID0gdGhpcy5fcmF3LmdldEludDMyKG9mZnNldCArIDQpO1xuICAgIHJlc3VsdCA9IChzMSAqIE1hdGgucG93KDIsMzIpKSArIHMyO1xuICAgIGJyZWFrO1xuICB9XG4gIHRoaXMuX2N1cnNvci5vZmZzZXQgKz0gKHNpemUgPj4gMyk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5JU09Cb3gucHJvdG90eXBlLl9yZWFkVWludCA9IGZ1bmN0aW9uKHNpemUpIHtcbiAgdmFyIHJlc3VsdCA9IG51bGwsXG4gICAgICBvZmZzZXQgPSB0aGlzLl9jdXJzb3Iub2Zmc2V0IC0gdGhpcy5fcmF3LmJ5dGVPZmZzZXQsXG4gICAgICBzMSwgczI7XG4gIHN3aXRjaChzaXplKSB7XG4gIGNhc2UgODpcbiAgICByZXN1bHQgPSB0aGlzLl9yYXcuZ2V0VWludDgob2Zmc2V0KTtcbiAgICBicmVhaztcbiAgY2FzZSAxNjpcbiAgICByZXN1bHQgPSB0aGlzLl9yYXcuZ2V0VWludDE2KG9mZnNldCk7XG4gICAgYnJlYWs7XG4gIGNhc2UgMjQ6XG4gICAgczEgPSB0aGlzLl9yYXcuZ2V0VWludDE2KG9mZnNldCk7XG4gICAgczIgPSB0aGlzLl9yYXcuZ2V0VWludDgob2Zmc2V0ICsgMik7XG4gICAgcmVzdWx0ID0gKHMxIDw8IDgpICsgczI7XG4gICAgYnJlYWs7XG4gIGNhc2UgMzI6XG4gICAgcmVzdWx0ID0gdGhpcy5fcmF3LmdldFVpbnQzMihvZmZzZXQpO1xuICAgIGJyZWFrO1xuICBjYXNlIDY0OlxuICAgIC8vIFdhcm5pbmc6IEphdmFTY3JpcHQgY2Fubm90IGhhbmRsZSA2NC1iaXQgaW50ZWdlcnMgbmF0aXZlbHkuXG4gICAgLy8gVGhpcyB3aWxsIGdpdmUgdW5leHBlY3RlZCByZXN1bHRzIGZvciBpbnRlZ2VycyA+PSAyXjUzXG4gICAgczEgPSB0aGlzLl9yYXcuZ2V0VWludDMyKG9mZnNldCk7XG4gICAgczIgPSB0aGlzLl9yYXcuZ2V0VWludDMyKG9mZnNldCArIDQpO1xuICAgIHJlc3VsdCA9IChzMSAqIE1hdGgucG93KDIsMzIpKSArIHMyO1xuICAgIGJyZWFrO1xuICB9XG4gIHRoaXMuX2N1cnNvci5vZmZzZXQgKz0gKHNpemUgPj4gMyk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5JU09Cb3gucHJvdG90eXBlLl9yZWFkU3RyaW5nID0gZnVuY3Rpb24obGVuZ3RoKSB7XG4gIHZhciBzdHIgPSAnJztcbiAgZm9yICh2YXIgYyA9IDA7IGMgPCBsZW5ndGg7IGMrKykge1xuICAgIHZhciBjaGFyID0gdGhpcy5fcmVhZFVpbnQoOCk7XG4gICAgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhcik7XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07XG5cbklTT0JveC5wcm90b3R5cGUuX3JlYWRUZW1wbGF0ZSA9IGZ1bmN0aW9uKHNpemUpIHtcbiAgdmFyIHByZSA9IHRoaXMuX3JlYWRVaW50KHNpemUgLyAyKTtcbiAgdmFyIHBvc3QgPSB0aGlzLl9yZWFkVWludChzaXplIC8gMik7XG4gIHJldHVybiBwcmUgKyAocG9zdCAvIE1hdGgucG93KDIsIHNpemUgLyAyKSk7XG59O1xuXG5JU09Cb3gucHJvdG90eXBlLl9yZWFkVGVybWluYXRlZFN0cmluZyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgc3RyID0gJyc7XG4gIHdoaWxlICh0aGlzLl9jdXJzb3Iub2Zmc2V0IC0gdGhpcy5fb2Zmc2V0IDwgdGhpcy5fcmF3LmJ5dGVMZW5ndGgpIHtcbiAgICB2YXIgY2hhciA9IHRoaXMuX3JlYWRVaW50KDgpO1xuICAgIGlmIChjaGFyID09PSAwKSBicmVhaztcbiAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyKTtcbiAgfVxuICByZXR1cm4gc3RyO1xufTtcblxuSVNPQm94LnByb3RvdHlwZS5fcmVhZERhdGEgPSBmdW5jdGlvbihzaXplKSB7XG4gIHZhciBsZW5ndGggPSAoc2l6ZSA+IDApID8gc2l6ZSA6ICh0aGlzLl9yYXcuYnl0ZUxlbmd0aCAtICh0aGlzLl9jdXJzb3Iub2Zmc2V0IC0gdGhpcy5fb2Zmc2V0KSk7XG4gIGlmIChsZW5ndGggPiAwKSB7XG4gICAgdmFyIGRhdGEgPSBuZXcgVWludDhBcnJheSh0aGlzLl9yYXcuYnVmZmVyLCB0aGlzLl9jdXJzb3Iub2Zmc2V0LCBsZW5ndGgpO1xuXG4gICAgdGhpcy5fY3Vyc29yLm9mZnNldCArPSBsZW5ndGg7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbiAgZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbklTT0JveC5wcm90b3R5cGUuX3JlYWRVVEY4U3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHZhciBsZW5ndGggPSB0aGlzLl9yYXcuYnl0ZUxlbmd0aCAtICh0aGlzLl9jdXJzb3Iub2Zmc2V0IC0gdGhpcy5fb2Zmc2V0KTtcbiAgdmFyIGRhdGEgPSBudWxsO1xuICBpZiAobGVuZ3RoID4gMCkge1xuICAgIGRhdGEgPSBuZXcgRGF0YVZpZXcodGhpcy5fcmF3LmJ1ZmZlciwgdGhpcy5fY3Vyc29yLm9mZnNldCwgbGVuZ3RoKTtcbiAgICB0aGlzLl9jdXJzb3Iub2Zmc2V0ICs9IGxlbmd0aDtcbiAgfVxuIFxuICByZXR1cm4gZGF0YSA/IElTT0JveGVyLlV0aWxzLmRhdGFWaWV3VG9TdHJpbmcoZGF0YSkgOiBkYXRhO1xufTtcblxuSVNPQm94LnByb3RvdHlwZS5fcGFyc2VCb3ggPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fcGFyc2luZyA9IHRydWU7XG4gIHRoaXMuX2N1cnNvci5vZmZzZXQgPSB0aGlzLl9vZmZzZXQ7XG5cbiAgLy8gcmV0dXJuIGltbWVkaWF0ZWx5IGlmIHRoZXJlIGFyZSBub3QgZW5vdWdoIGJ5dGVzIHRvIHJlYWQgdGhlIGhlYWRlclxuICBpZiAodGhpcy5fb2Zmc2V0ICsgOCA+IHRoaXMuX3Jhdy5idWZmZXIuYnl0ZUxlbmd0aCkge1xuICAgIHRoaXMuX3Jvb3QuX2luY29tcGxldGUgPSB0cnVlO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuX3Byb2NGaWVsZCgnc2l6ZScsICd1aW50JywgMzIpO1xuICB0aGlzLl9wcm9jRmllbGQoJ3R5cGUnLCAnc3RyaW5nJywgNCk7XG5cbiAgaWYgKHRoaXMuc2l6ZSA9PT0gMSkgICAgICB7IHRoaXMuX3Byb2NGaWVsZCgnbGFyZ2VzaXplJywgJ3VpbnQnLCA2NCk7IH1cbiAgaWYgKHRoaXMudHlwZSA9PT0gJ3V1aWQnKSB7IHRoaXMuX3Byb2NGaWVsZEFycmF5KCd1c2VydHlwZScsIDE2LCAndWludCcsIDgpOyB9XG5cbiAgc3dpdGNoKHRoaXMuc2l6ZSkge1xuICBjYXNlIDA6XG4gICAgdGhpcy5fcmF3ID0gbmV3IERhdGFWaWV3KHRoaXMuX3Jhdy5idWZmZXIsIHRoaXMuX29mZnNldCwgKHRoaXMuX3Jhdy5ieXRlTGVuZ3RoIC0gdGhpcy5fY3Vyc29yLm9mZnNldCArIDgpKTtcbiAgICBicmVhaztcbiAgY2FzZSAxOlxuICAgIGlmICh0aGlzLl9vZmZzZXQgKyB0aGlzLnNpemUgPiB0aGlzLl9yYXcuYnVmZmVyLmJ5dGVMZW5ndGgpIHtcbiAgICAgIHRoaXMuX2luY29tcGxldGUgPSB0cnVlO1xuICAgICAgdGhpcy5fcm9vdC5faW5jb21wbGV0ZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3JhdyA9IG5ldyBEYXRhVmlldyh0aGlzLl9yYXcuYnVmZmVyLCB0aGlzLl9vZmZzZXQsIHRoaXMubGFyZ2VzaXplKTtcbiAgICB9XG4gICAgYnJlYWs7XG4gIGRlZmF1bHQ6XG4gICAgaWYgKHRoaXMuX29mZnNldCArIHRoaXMuc2l6ZSA+IHRoaXMuX3Jhdy5idWZmZXIuYnl0ZUxlbmd0aCkge1xuICAgICAgdGhpcy5faW5jb21wbGV0ZSA9IHRydWU7XG4gICAgICB0aGlzLl9yb290Ll9pbmNvbXBsZXRlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcmF3ID0gbmV3IERhdGFWaWV3KHRoaXMuX3Jhdy5idWZmZXIsIHRoaXMuX29mZnNldCwgdGhpcy5zaXplKTtcbiAgICB9XG4gIH1cblxuICAvLyBhZGRpdGlvbmFsIHBhcnNpbmdcbiAgaWYgKCF0aGlzLl9pbmNvbXBsZXRlKSB7XG4gICAgaWYgKHRoaXMuX2JveFByb2Nlc3NvcnNbdGhpcy50eXBlXSkge1xuICAgICAgdGhpcy5fYm94UHJvY2Vzc29yc1t0aGlzLnR5cGVdLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9ib3hDb250YWluZXJzLmluZGV4T2YodGhpcy50eXBlKSAhPT0gLTEpIHtcbiAgICAgIHRoaXMuX3BhcnNlQ29udGFpbmVyQm94KCk7XG4gICAgfSBlbHNle1xuICAgICAgLy8gVW5rbm93biBib3ggPT4gcmVhZCBhbmQgc3RvcmUgYm94IGNvbnRlbnRcbiAgICAgIHRoaXMuX2RhdGEgPSB0aGlzLl9yZWFkRGF0YSgpO1xuICAgIH1cbiAgfVxufTtcblxuSVNPQm94LnByb3RvdHlwZS5fcGFyc2VGdWxsQm94ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMudmVyc2lvbiA9IHRoaXMuX3JlYWRVaW50KDgpO1xuICB0aGlzLmZsYWdzID0gdGhpcy5fcmVhZFVpbnQoMjQpO1xufTtcblxuSVNPQm94LnByb3RvdHlwZS5fcGFyc2VDb250YWluZXJCb3ggPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5ib3hlcyA9IFtdO1xuICB3aGlsZSAodGhpcy5fY3Vyc29yLm9mZnNldCAtIHRoaXMuX3Jhdy5ieXRlT2Zmc2V0IDwgdGhpcy5fcmF3LmJ5dGVMZW5ndGgpIHtcbiAgICB0aGlzLmJveGVzLnB1c2goSVNPQm94LnBhcnNlKHRoaXMpKTtcbiAgfVxufTtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXcml0ZSBmdW5jdGlvbnNcblxuSVNPQm94LnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbihib3gsIHBvcykge1xuICBJU09Cb3hlci5VdGlscy5hcHBlbmRCb3godGhpcywgYm94LCBwb3MpO1xufTtcblxuSVNPQm94LnByb3RvdHlwZS5nZXRMZW5ndGggPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fcGFyc2luZyA9IGZhbHNlO1xuICB0aGlzLl9yYXdvID0gbnVsbDtcblxuICB0aGlzLnNpemUgPSAwO1xuICB0aGlzLl9wcm9jRmllbGQoJ3NpemUnLCAndWludCcsIDMyKTtcbiAgdGhpcy5fcHJvY0ZpZWxkKCd0eXBlJywgJ3N0cmluZycsIDQpO1xuXG4gIGlmICh0aGlzLnNpemUgPT09IDEpICAgICAgeyB0aGlzLl9wcm9jRmllbGQoJ2xhcmdlc2l6ZScsICd1aW50JywgNjQpOyB9XG4gIGlmICh0aGlzLnR5cGUgPT09ICd1dWlkJykgeyB0aGlzLl9wcm9jRmllbGRBcnJheSgndXNlcnR5cGUnLCAxNiwgJ3VpbnQnLCA4KTsgfVxuXG4gIGlmICh0aGlzLl9ib3hQcm9jZXNzb3JzW3RoaXMudHlwZV0pIHtcbiAgICB0aGlzLl9ib3hQcm9jZXNzb3JzW3RoaXMudHlwZV0uY2FsbCh0aGlzKTtcbiAgfVxuXG4gIGlmICh0aGlzLl9ib3hDb250YWluZXJzLmluZGV4T2YodGhpcy50eXBlKSAhPT0gLTEpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYm94ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuc2l6ZSArPSB0aGlzLmJveGVzW2ldLmdldExlbmd0aCgpO1xuICAgIH1cbiAgfSBcblxuICBpZiAodGhpcy5fZGF0YSkge1xuICAgIHRoaXMuX3dyaXRlRGF0YSh0aGlzLl9kYXRhKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLnNpemU7XG59O1xuXG5JU09Cb3gucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3BhcnNpbmcgPSBmYWxzZTtcbiAgdGhpcy5fY3Vyc29yLm9mZnNldCA9IHRoaXMuX3BhcmVudC5fY3Vyc29yLm9mZnNldDtcblxuICBzd2l0Y2godGhpcy5zaXplKSB7XG4gIGNhc2UgMDpcbiAgICB0aGlzLl9yYXdvID0gbmV3IERhdGFWaWV3KHRoaXMuX3BhcmVudC5fcmF3by5idWZmZXIsIHRoaXMuX2N1cnNvci5vZmZzZXQsICh0aGlzLnBhcmVudC5fcmF3by5ieXRlTGVuZ3RoIC0gdGhpcy5fY3Vyc29yLm9mZnNldCkpO1xuICAgIGJyZWFrO1xuICBjYXNlIDE6XG4gICAgICB0aGlzLl9yYXdvID0gbmV3IERhdGFWaWV3KHRoaXMuX3BhcmVudC5fcmF3by5idWZmZXIsIHRoaXMuX2N1cnNvci5vZmZzZXQsIHRoaXMubGFyZ2VzaXplKTtcbiAgICBicmVhaztcbiAgZGVmYXVsdDpcbiAgICAgIHRoaXMuX3Jhd28gPSBuZXcgRGF0YVZpZXcodGhpcy5fcGFyZW50Ll9yYXdvLmJ1ZmZlciwgdGhpcy5fY3Vyc29yLm9mZnNldCwgdGhpcy5zaXplKTtcbiAgfVxuXG4gIHRoaXMuX3Byb2NGaWVsZCgnc2l6ZScsICd1aW50JywgMzIpO1xuICB0aGlzLl9wcm9jRmllbGQoJ3R5cGUnLCAnc3RyaW5nJywgNCk7XG5cbiAgaWYgKHRoaXMuc2l6ZSA9PT0gMSkgICAgICB7IHRoaXMuX3Byb2NGaWVsZCgnbGFyZ2VzaXplJywgJ3VpbnQnLCA2NCk7IH1cbiAgaWYgKHRoaXMudHlwZSA9PT0gJ3V1aWQnKSB7IHRoaXMuX3Byb2NGaWVsZEFycmF5KCd1c2VydHlwZScsIDE2LCAndWludCcsIDgpOyB9XG5cbiAgaWYgKHRoaXMuX2JveFByb2Nlc3NvcnNbdGhpcy50eXBlXSkge1xuICAgIHRoaXMuX2JveFByb2Nlc3NvcnNbdGhpcy50eXBlXS5jYWxsKHRoaXMpO1xuICB9XG5cbiAgaWYgKHRoaXMuX2JveENvbnRhaW5lcnMuaW5kZXhPZih0aGlzLnR5cGUpICE9PSAtMSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ib3hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5ib3hlc1tpXS53cml0ZSgpO1xuICAgIH1cbiAgfSBcblxuICBpZiAodGhpcy5fZGF0YSkge1xuICAgIHRoaXMuX3dyaXRlRGF0YSh0aGlzLl9kYXRhKTtcbiAgfVxuXG4gIHRoaXMuX3BhcmVudC5fY3Vyc29yLm9mZnNldCArPSB0aGlzLnNpemU7XG5cbiAgcmV0dXJuIHRoaXMuc2l6ZTtcbn07XG5cbklTT0JveC5wcm90b3R5cGUuX3dyaXRlSW50ID0gZnVuY3Rpb24oc2l6ZSwgdmFsdWUpIHtcbiAgaWYgKHRoaXMuX3Jhd28pIHtcbiAgICB2YXIgb2Zmc2V0ID0gdGhpcy5fY3Vyc29yLm9mZnNldCAtIHRoaXMuX3Jhd28uYnl0ZU9mZnNldDtcbiAgICBzd2l0Y2goc2l6ZSkge1xuICAgIGNhc2UgODpcbiAgICAgIHRoaXMuX3Jhd28uc2V0SW50OChvZmZzZXQsIHZhbHVlKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMTY6XG4gICAgICB0aGlzLl9yYXdvLnNldEludDE2KG9mZnNldCwgdmFsdWUpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAzMjpcbiAgICAgIHRoaXMuX3Jhd28uc2V0SW50MzIob2Zmc2V0LCB2YWx1ZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDY0OlxuICAgICAgLy8gV2FybmluZzogSmF2YVNjcmlwdCBjYW5ub3QgaGFuZGxlIDY0LWJpdCBpbnRlZ2VycyBuYXRpdmVseS5cbiAgICAgIC8vIFRoaXMgd2lsbCBnaXZlIHVuZXhwZWN0ZWQgcmVzdWx0cyBmb3IgaW50ZWdlcnMgPj0gMl41M1xuICAgICAgdmFyIHMxID0gTWF0aC5mbG9vcih2YWx1ZSAvIE1hdGgucG93KDIsMzIpKTtcbiAgICAgIHZhciBzMiA9IHZhbHVlIC0gKHMxICogTWF0aC5wb3coMiwzMikpO1xuICAgICAgdGhpcy5fcmF3by5zZXRVaW50MzIob2Zmc2V0LCBzMSk7XG4gICAgICB0aGlzLl9yYXdvLnNldFVpbnQzMihvZmZzZXQgKyA0LCBzMik7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgdGhpcy5fY3Vyc29yLm9mZnNldCArPSAoc2l6ZSA+PiAzKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnNpemUgKz0gKHNpemUgPj4gMyk7XG4gIH1cbn07XG5cbklTT0JveC5wcm90b3R5cGUuX3dyaXRlVWludCA9IGZ1bmN0aW9uKHNpemUsIHZhbHVlKSB7XG5cbiAgaWYgKHRoaXMuX3Jhd28pIHtcbiAgICB2YXIgb2Zmc2V0ID0gdGhpcy5fY3Vyc29yLm9mZnNldCAtIHRoaXMuX3Jhd28uYnl0ZU9mZnNldCxcbiAgICAgICAgczEsIHMyO1xuICAgIHN3aXRjaChzaXplKSB7XG4gICAgY2FzZSA4OlxuICAgICAgdGhpcy5fcmF3by5zZXRVaW50OChvZmZzZXQsIHZhbHVlKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMTY6XG4gICAgICB0aGlzLl9yYXdvLnNldFVpbnQxNihvZmZzZXQsIHZhbHVlKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgMjQ6XG4gICAgICBzMSA9ICh2YWx1ZSAmIDB4RkZGRjAwKSA+PiA4O1xuICAgICAgczIgPSAodmFsdWUgJiAweDAwMDBGRik7XG4gICAgICB0aGlzLl9yYXdvLnNldFVpbnQxNihvZmZzZXQsIHMxKTtcbiAgICAgIHRoaXMuX3Jhd28uc2V0VWludDgob2Zmc2V0ICsgMiwgczIpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAzMjpcbiAgICAgIHRoaXMuX3Jhd28uc2V0VWludDMyKG9mZnNldCwgdmFsdWUpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSA2NDpcbiAgICAgIC8vIFdhcm5pbmc6IEphdmFTY3JpcHQgY2Fubm90IGhhbmRsZSA2NC1iaXQgaW50ZWdlcnMgbmF0aXZlbHkuXG4gICAgICAvLyBUaGlzIHdpbGwgZ2l2ZSB1bmV4cGVjdGVkIHJlc3VsdHMgZm9yIGludGVnZXJzID49IDJeNTNcbiAgICAgIHMxID0gTWF0aC5mbG9vcih2YWx1ZSAvIE1hdGgucG93KDIsMzIpKTtcbiAgICAgIHMyID0gdmFsdWUgLSAoczEgKiBNYXRoLnBvdygyLDMyKSk7XG4gICAgICB0aGlzLl9yYXdvLnNldFVpbnQzMihvZmZzZXQsIHMxKTtcbiAgICAgIHRoaXMuX3Jhd28uc2V0VWludDMyKG9mZnNldCArIDQsIHMyKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB0aGlzLl9jdXJzb3Iub2Zmc2V0ICs9IChzaXplID4+IDMpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuc2l6ZSArPSAoc2l6ZSA+PiAzKTtcbiAgfVxufTtcblxuSVNPQm94LnByb3RvdHlwZS5fd3JpdGVTdHJpbmcgPSBmdW5jdGlvbihzaXplLCBzdHIpIHtcbiAgZm9yICh2YXIgYyA9IDA7IGMgPCBzaXplOyBjKyspIHtcbiAgICB0aGlzLl93cml0ZVVpbnQoOCwgc3RyLmNoYXJDb2RlQXQoYykpO1xuICB9XG59O1xuXG5JU09Cb3gucHJvdG90eXBlLl93cml0ZVRlcm1pbmF0ZWRTdHJpbmcgPSBmdW5jdGlvbihzdHIpIHtcbiAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9yICh2YXIgYyA9IDA7IGMgPCBzdHIubGVuZ3RoOyBjKyspIHtcbiAgICB0aGlzLl93cml0ZVVpbnQoOCwgc3RyLmNoYXJDb2RlQXQoYykpO1xuICB9XG4gIHRoaXMuX3dyaXRlVWludCg4LCAwKTtcbn07XG5cbklTT0JveC5wcm90b3R5cGUuX3dyaXRlVGVtcGxhdGUgPSBmdW5jdGlvbihzaXplLCB2YWx1ZSkge1xuICB2YXIgcHJlID0gTWF0aC5mbG9vcih2YWx1ZSk7XG4gIHZhciBwb3N0ID0gKHZhbHVlIC0gcHJlKSAqIE1hdGgucG93KDIsIHNpemUgLyAyKTtcbiAgdGhpcy5fd3JpdGVVaW50KHNpemUgLyAyLCBwcmUpO1xuICB0aGlzLl93cml0ZVVpbnQoc2l6ZSAvIDIsIHBvc3QpO1xufTtcblxuSVNPQm94LnByb3RvdHlwZS5fd3JpdGVEYXRhID0gZnVuY3Rpb24oZGF0YSkge1xuICB2YXIgaTtcbiAgLy9kYXRhIHRvIGNvcHlcbiAgaWYgKGRhdGEpIHtcbiAgICBpZiAodGhpcy5fcmF3bykge1xuICAgICAgLy9BcnJheSBhbmQgVWludDhBcnJheSBoYXMgYWxzbyB0byBiZSBtYW5hZ2VkXG4gICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLl9jdXJzb3Iub2Zmc2V0IC0gdGhpcy5fcmF3by5ieXRlT2Zmc2V0O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB0aGlzLl9yYXdvLnNldEludDgob2Zmc2V0ICsgaSwgZGF0YVtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY3Vyc29yLm9mZnNldCArPSBkYXRhLmxlbmd0aDtcbiAgICAgIH0gXG5cbiAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICB0aGlzLl9yb290LmJ5dGVzLnNldChkYXRhLCB0aGlzLl9jdXJzb3Iub2Zmc2V0KTtcbiAgICAgICAgdGhpcy5fY3Vyc29yLm9mZnNldCArPSBkYXRhLmxlbmd0aDtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAvL25vdGhpbmcgdG8gY29weSBvbmx5IHNpemUgdG8gY29tcHV0ZVxuICAgICAgdGhpcy5zaXplICs9IGRhdGEubGVuZ3RoO1xuICAgIH1cbiAgfVxufTtcblxuSVNPQm94LnByb3RvdHlwZS5fd3JpdGVVVEY4U3RyaW5nID0gZnVuY3Rpb24oc3RyaW5nKSB7XG4gIHZhciB1ID0gSVNPQm94ZXIuVXRpbHMudXRmOFRvQnl0ZUFycmF5KHN0cmluZyk7XG4gIGlmICh0aGlzLl9yYXdvKSB7XG4gICAgdmFyIGRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KHRoaXMuX3Jhd28uYnVmZmVyLCB0aGlzLl9jdXJzb3Iub2Zmc2V0LCB1Lmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBkYXRhVmlldy5zZXRVaW50OChpLCB1W2ldKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5zaXplICs9IHUubGVuZ3RoO1xuICB9XG59O1xuXG5JU09Cb3gucHJvdG90eXBlLl93cml0ZUZpZWxkID0gZnVuY3Rpb24odHlwZSwgc2l6ZSwgdmFsdWUpIHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gIGNhc2UgJ3VpbnQnOlxuICAgIHRoaXMuX3dyaXRlVWludChzaXplLCB2YWx1ZSk7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ2ludCc6XG4gICAgdGhpcy5fd3JpdGVJbnQoc2l6ZSwgdmFsdWUpO1xuICAgIGJyZWFrO1xuICBjYXNlICd0ZW1wbGF0ZSc6XG4gICAgdGhpcy5fd3JpdGVUZW1wbGF0ZShzaXplLCB2YWx1ZSk7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ3N0cmluZyc6XG4gICAgICBpZiAoc2l6ZSA9PSAtMSkge1xuICAgICAgICB0aGlzLl93cml0ZVRlcm1pbmF0ZWRTdHJpbmcodmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fd3JpdGVTdHJpbmcoc2l6ZSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gIGNhc2UgJ2RhdGEnOlxuICAgIHRoaXMuX3dyaXRlRGF0YSh2YWx1ZSk7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ3V0ZjgnOlxuICAgIHRoaXMuX3dyaXRlVVRGOFN0cmluZyh2YWx1ZSk7XG4gICAgYnJlYWs7XG4gIGRlZmF1bHQ6XG4gICAgYnJlYWs7XG4gIH1cbn07XG5cbi8vIElTTy9JRUMgMTQ0OTYtMTU6MjAxNCAtIGF2YzEgYm94XG5JU09Cb3gucHJvdG90eXBlLl9ib3hQcm9jZXNzb3JzWydhdmMxJ10gPSBJU09Cb3gucHJvdG90eXBlLl9ib3hQcm9jZXNzb3JzWydlbmN2J10gPSBmdW5jdGlvbigpIHtcbiAgLy8gU2FtcGxlRW50cnkgZmllbGRzXG4gIHRoaXMuX3Byb2NGaWVsZEFycmF5KCdyZXNlcnZlZDEnLCA2LCAgICAndWludCcsIDgpO1xuICB0aGlzLl9wcm9jRmllbGQoJ2RhdGFfcmVmZXJlbmNlX2luZGV4JywgJ3VpbnQnLCAxNik7XG4gIC8vIFZpc3VhbFNhbXBsZUVudHJ5IGZpZWxkc1xuICB0aGlzLl9wcm9jRmllbGQoJ3ByZV9kZWZpbmVkMScsICAgICAgICAgJ3VpbnQnLCAgICAgMTYpO1xuICB0aGlzLl9wcm9jRmllbGQoJ3Jlc2VydmVkMicsICAgICAgICAgICAgJ3VpbnQnLCAgICAgMTYpO1xuICB0aGlzLl9wcm9jRmllbGRBcnJheSgncHJlX2RlZmluZWQyJywgMywgJ3VpbnQnLCAgICAgMzIpO1xuICB0aGlzLl9wcm9jRmllbGQoJ3dpZHRoJywgICAgICAgICAgICAgICAgJ3VpbnQnLCAgICAgMTYpO1xuICB0aGlzLl9wcm9jRmllbGQoJ2hlaWdodCcsICAgICAgICAgICAgICAgJ3VpbnQnLCAgICAgMTYpO1xuICB0aGlzLl9wcm9jRmllbGQoJ2hvcml6cmVzb2x1dGlvbicsICAgICAgJ3RlbXBsYXRlJywgMzIpO1xuICB0aGlzLl9wcm9jRmllbGQoJ3ZlcnRyZXNvbHV0aW9uJywgICAgICAgJ3RlbXBsYXRlJywgMzIpO1xuICB0aGlzLl9wcm9jRmllbGQoJ3Jlc2VydmVkMycsICAgICAgICAgICAgJ3VpbnQnLCAgICAgMzIpO1xuICB0aGlzLl9wcm9jRmllbGQoJ2ZyYW1lX2NvdW50JywgICAgICAgICAgJ3VpbnQnLCAgICAgMTYpO1xuICB0aGlzLl9wcm9jRmllbGRBcnJheSgnY29tcHJlc3Nvcm5hbWUnLCAzMiwndWludCcsICAgIDgpO1xuICB0aGlzLl9wcm9jRmllbGQoJ2RlcHRoJywgICAgICAgICAgICAgICAgJ3VpbnQnLCAgICAgMTYpO1xuICB0aGlzLl9wcm9jRmllbGQoJ3ByZV9kZWZpbmVkMycsICAgICAgICAgJ2ludCcsICAgICAgMTYpO1xuICAvLyBBVkNTYW1wbGVFbnRyeSBmaWVsZHNcbiAgdGhpcy5fcHJvY0ZpZWxkKCdjb25maWcnLCAnZGF0YScsIC0xKTtcbn07XG5cbi8vIElTTy9JRUMgMTQ0OTYtMTI6MjAxMiAtIDguNy4yIERhdGEgUmVmZXJlbmNlIEJveFxuSVNPQm94LnByb3RvdHlwZS5fYm94UHJvY2Vzc29yc1snZHJlZiddID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3Byb2NGdWxsQm94KCk7XG4gIHRoaXMuX3Byb2NGaWVsZCgnZW50cnlfY291bnQnLCAndWludCcsIDMyKTtcbiAgdGhpcy5fcHJvY1N1YkJveGVzKCdlbnRyaWVzJywgdGhpcy5lbnRyeV9jb3VudCk7XG59O1xuXG4vLyBJU08vSUVDIDE0NDk2LTEyOjIwMTIgLSA4LjYuNiBFZGl0IExpc3QgQm94XG5JU09Cb3gucHJvdG90eXBlLl9ib3hQcm9jZXNzb3JzWydlbHN0J10gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fcHJvY0Z1bGxCb3goKTtcbiAgdGhpcy5fcHJvY0ZpZWxkKCdlbnRyeV9jb3VudCcsICd1aW50JywgMzIpO1xuICB0aGlzLl9wcm9jRW50cmllcygnZW50cmllcycsIHRoaXMuZW50cnlfY291bnQsIGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgdGhpcy5fcHJvY0VudHJ5RmllbGQoZW50cnksICdzZWdtZW50X2R1cmF0aW9uJywgICAgICd1aW50JywgKHRoaXMudmVyc2lvbiA9PT0gMSkgPyA2NCA6IDMyKTtcbiAgICB0aGlzLl9wcm9jRW50cnlGaWVsZChlbnRyeSwgJ21lZGlhX3RpbWUnLCAgICAgICAgICAgJ2ludCcsICAodGhpcy52ZXJzaW9uID09PSAxKSA/IDY0IDogMzIpO1xuICAgIHRoaXMuX3Byb2NFbnRyeUZpZWxkKGVudHJ5LCAnbWVkaWFfcmF0ZV9pbnRlZ2VyJywgICAnaW50JywgIDE2KTtcbiAgICB0aGlzLl9wcm9jRW50cnlGaWVsZChlbnRyeSwgJ21lZGlhX3JhdGVfZnJhY3Rpb24nLCAgJ2ludCcsICAxNik7XG4gIH0pO1xufTtcblxuLy8gSVNPL0lFQyAyMzAwOS0xOjIwMTQgLSA1LjEwLjMuMyBFdmVudCBNZXNzYWdlIEJveFxuSVNPQm94LnByb3RvdHlwZS5fYm94UHJvY2Vzc29yc1snZW1zZyddID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3Byb2NGdWxsQm94KCk7XG4gIHRoaXMuX3Byb2NGaWVsZCgnc2NoZW1lX2lkX3VyaScsICAgICAgICAgICAgJ3N0cmluZycsIC0xKTtcbiAgdGhpcy5fcHJvY0ZpZWxkKCd2YWx1ZScsICAgICAgICAgICAgICAgICAgICAnc3RyaW5nJywgLTEpO1xuICB0aGlzLl9wcm9jRmllbGQoJ3RpbWVzY2FsZScsICAgICAgICAgICAgICAgICd1aW50JywgICAzMik7XG4gIHRoaXMuX3Byb2NGaWVsZCgncHJlc2VudGF0aW9uX3RpbWVfZGVsdGEnLCAgJ3VpbnQnLCAgIDMyKTtcbiAgdGhpcy5fcHJvY0ZpZWxkKCdldmVudF9kdXJhdGlvbicsICAgICAgICAgICAndWludCcsICAgMzIpO1xuICB0aGlzLl9wcm9jRmllbGQoJ2lkJywgICAgICAgICAgICAgICAgICAgICAgICd1aW50JywgICAzMik7XG4gIHRoaXMuX3Byb2NGaWVsZCgnbWVzc2FnZV9kYXRhJywgICAgICAgICAgICAgJ2RhdGEnLCAgIC0xKTtcbn07XG5cbi8vIElTTy9JRUMgMTQ0OTYtMTI6MjAxMiAtIDguMS4yIEZyZWUgU3BhY2UgQm94XG5JU09Cb3gucHJvdG90eXBlLl9ib3hQcm9jZXNzb3JzWydmcmVlJ10gPSBJU09Cb3gucHJvdG90eXBlLl9ib3hQcm9jZXNzb3JzWydza2lwJ10gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fcHJvY0ZpZWxkKCdkYXRhJywgJ2RhdGEnLCAtMSk7XG59O1xuXG4vLyBJU08vSUVDIDE0NDk2LTEyOjIwMTIgLSA4LjEyLjIgT3JpZ2luYWwgRm9ybWF0IEJveFxuSVNPQm94LnByb3RvdHlwZS5fYm94UHJvY2Vzc29yc1snZnJtYSddID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3Byb2NGaWVsZCgnZGF0YV9mb3JtYXQnLCAndWludCcsIDMyKTtcbn07XG4vLyBJU08vSUVDIDE0NDk2LTEyOjIwMTIgLSA0LjMgRmlsZSBUeXBlIEJveCAvIDguMTYuMiBTZWdtZW50IFR5cGUgQm94XG5JU09Cb3gucHJvdG90eXBlLl9ib3hQcm9jZXNzb3JzWydmdHlwJ10gPVxuSVNPQm94LnByb3RvdHlwZS5fYm94UHJvY2Vzc29yc1snc3R5cCddID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3Byb2NGaWVsZCgnbWFqb3JfYnJhbmQnLCAnc3RyaW5nJywgNCk7XG4gIHRoaXMuX3Byb2NGaWVsZCgnbWlub3JfdmVyc2lvbicsICd1aW50JywgMzIpO1xuICB2YXIgbmJDb21wYXRpYmxlQnJhbmRzID0gLTE7XG4gIGlmICh0aGlzLl9wYXJzaW5nKSB7XG4gICAgbmJDb21wYXRpYmxlQnJhbmRzID0gKHRoaXMuX3Jhdy5ieXRlTGVuZ3RoIC0gKHRoaXMuX2N1cnNvci5vZmZzZXQgLSB0aGlzLl9yYXcuYnl0ZU9mZnNldCkpIC8gNDtcbiAgfVxuICB0aGlzLl9wcm9jRmllbGRBcnJheSgnY29tcGF0aWJsZV9icmFuZHMnLCBuYkNvbXBhdGlibGVCcmFuZHMsICdzdHJpbmcnLCA0KTtcbn07XG5cbi8vIElTTy9JRUMgMTQ0OTYtMTI6MjAxMiAtIDguNC4zIEhhbmRsZXIgUmVmZXJlbmNlIEJveFxuSVNPQm94LnByb3RvdHlwZS5fYm94UHJvY2Vzc29yc1snaGRsciddID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3Byb2NGdWxsQm94KCk7XG4gIHRoaXMuX3Byb2NGaWVsZCgncHJlX2RlZmluZWQnLCAgICAgICd1aW50JywgICAzMik7XG4gIHRoaXMuX3Byb2NGaWVsZCgnaGFuZGxlcl90eXBlJywgICAgICdzdHJpbmcnLCA0KTtcbiAgdGhpcy5fcHJvY0ZpZWxkQXJyYXkoJ3Jlc2VydmVkJywgMywgJ3VpbnQnLCAzMik7XG4gIHRoaXMuX3Byb2NGaWVsZCgnbmFtZScsICAgICAgICAgICAgICdzdHJpbmcnLCAtMSk7XG59O1xuXG4vLyBJU08vSUVDIDE0NDk2LTEyOjIwMTIgLSA4LjEuMSBNZWRpYSBEYXRhIEJveFxuSVNPQm94LnByb3RvdHlwZS5fYm94UHJvY2Vzc29yc1snbWRhdCddID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3Byb2NGaWVsZCgnZGF0YScsICdkYXRhJywgLTEpO1xufTtcblxuLy8gSVNPL0lFQyAxNDQ5Ni0xMjoyMDEyIC0gOC40LjIgTWVkaWEgSGVhZGVyIEJveFxuSVNPQm94LnByb3RvdHlwZS5fYm94UHJvY2Vzc29yc1snbWRoZCddID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3Byb2NGdWxsQm94KCk7XG4gIHRoaXMuX3Byb2NGaWVsZCgnY3JlYXRpb25fdGltZScsICAgICAgJ3VpbnQnLCAodGhpcy52ZXJzaW9uID09IDEpID8gNjQgOiAzMik7XG4gIHRoaXMuX3Byb2NGaWVsZCgnbW9kaWZpY2F0aW9uX3RpbWUnLCAgJ3VpbnQnLCAodGhpcy52ZXJzaW9uID09IDEpID8gNjQgOiAzMik7XG4gIHRoaXMuX3Byb2NGaWVsZCgndGltZXNjYWxlJywgICAgICAgICAgJ3VpbnQnLCAzMik7XG4gIHRoaXMuX3Byb2NGaWVsZCgnZHVyYXRpb24nLCAgICAgICAgICAgJ3VpbnQnLCAodGhpcy52ZXJzaW9uID09IDEpID8gNjQgOiAzMik7XG4gIGlmICghdGhpcy5fcGFyc2luZyAmJiB0eXBlb2YgdGhpcy5sYW5ndWFnZSA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBJbiBjYXNlIG9mIHdyaXRpbmcgYW5kIGxhbmd1YWdlIGhhcyBiZWVuIHNldCBhcyBhIHN0cmluZywgdGhlbiBjb252ZXJ0IGl0IGludG8gY2hhciBjb2RlcyBhcnJheVxuICAgIHRoaXMubGFuZ3VhZ2UgPSAoKHRoaXMubGFuZ3VhZ2UuY2hhckNvZGVBdCgwKSAtIDB4NjApIDw8IDEwKSB8XG4gICAgICAgICAgICAgICAgICAgICgodGhpcy5sYW5ndWFnZS5jaGFyQ29kZUF0KDEpIC0gMHg2MCkgPDwgNSkgfFxuICAgICAgICAgICAgICAgICAgICAoKHRoaXMubGFuZ3VhZ2UuY2hhckNvZGVBdCgyKSAtIDB4NjApKTtcbiAgfVxuICB0aGlzLl9wcm9jRmllbGQoJ2xhbmd1YWdlJywgICAgICAgICAgICd1aW50JywgMTYpO1xuICBpZiAodGhpcy5fcGFyc2luZykge1xuICAgIHRoaXMubGFuZ3VhZ2UgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgodGhpcy5sYW5ndWFnZSA+PiAxMCkgJiAweDFGKSArIDB4NjAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCh0aGlzLmxhbmd1YWdlID4+IDUpICYgMHgxRikgKyAweDYwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmxhbmd1YWdlICYgMHgxRikgKyAweDYwKTtcbiAgfVxuICB0aGlzLl9wcm9jRmllbGQoJ3ByZV9kZWZpbmVkJywgICAgICAgICd1aW50JywgMTYpO1xufTtcblxuLy8gSVNPL0lFQyAxNDQ5Ni0xMjoyMDEyIC0gOC44LjIgTW92aWUgRXh0ZW5kcyBIZWFkZXIgQm94XG5JU09Cb3gucHJvdG90eXBlLl9ib3hQcm9jZXNzb3JzWydtZWhkJ10gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fcHJvY0Z1bGxCb3goKTtcbiAgdGhpcy5fcHJvY0ZpZWxkKCdmcmFnbWVudF9kdXJhdGlvbicsICd1aW50JywgKHRoaXMudmVyc2lvbiA9PSAxKSA/IDY0IDogMzIpO1xufTtcblxuLy8gSVNPL0lFQyAxNDQ5Ni0xMjoyMDEyIC0gOC44LjUgTW92aWUgRnJhZ21lbnQgSGVhZGVyIEJveFxuSVNPQm94LnByb3RvdHlwZS5fYm94UHJvY2Vzc29yc1snbWZoZCddID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3Byb2NGdWxsQm94KCk7XG4gIHRoaXMuX3Byb2NGaWVsZCgnc2VxdWVuY2VfbnVtYmVyJywgJ3VpbnQnLCAzMik7XG59O1xuXG4vLyBJU08vSUVDIDE0NDk2LTEyOjIwMTIgLSA4LjguMTEgTW92aWUgRnJhZ21lbnQgUmFuZG9tIEFjY2VzcyBCb3hcbklTT0JveC5wcm90b3R5cGUuX2JveFByb2Nlc3NvcnNbJ21mcm8nXSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9wcm9jRnVsbEJveCgpO1xuICB0aGlzLl9wcm9jRmllbGQoJ21mcmFfc2l6ZScsICd1aW50JywgMzIpOyAvLyBDYWxsZWQgbWZyYV9zaXplIHRvIGRpc3Rpbmd1aXNoIGZyb20gdGhlIG5vcm1hbCBcInNpemVcIiBhdHRyaWJ1dGUgb2YgYSBib3hcbn07XG5cblxuLy8gSVNPL0lFQyAxNDQ5Ni0xMjoyMDEyIC0gOC41LjIuMiBtcDRhIGJveCAodXNlIEF1ZGlvU2FtcGxlRW50cnkgZGVmaW5pdGlvbiBhbmQgbmFtaW5nKVxuSVNPQm94LnByb3RvdHlwZS5fYm94UHJvY2Vzc29yc1snbXA0YSddID0gSVNPQm94LnByb3RvdHlwZS5fYm94UHJvY2Vzc29yc1snZW5jYSddID0gZnVuY3Rpb24oKSB7XG4gIC8vIFNhbXBsZUVudHJ5IGZpZWxkc1xuICB0aGlzLl9wcm9jRmllbGRBcnJheSgncmVzZXJ2ZWQxJywgNiwgICAgJ3VpbnQnLCA4KTtcbiAgdGhpcy5fcHJvY0ZpZWxkKCdkYXRhX3JlZmVyZW5jZV9pbmRleCcsICd1aW50JywgMTYpO1xuICAvLyBBdWRpb1NhbXBsZUVudHJ5IGZpZWxkc1xuICB0aGlzLl9wcm9jRmllbGRBcnJheSgncmVzZXJ2ZWQyJywgMiwgICAgJ3VpbnQnLCAzMik7XG4gIHRoaXMuX3Byb2NGaWVsZCgnY2hhbm5lbGNvdW50JywgICAgICAgICAndWludCcsIDE2KTtcbiAgdGhpcy5fcHJvY0ZpZWxkKCdzYW1wbGVzaXplJywgICAgICAgICAgICd1aW50JywgMTYpO1xuICB0aGlzLl9wcm9jRmllbGQoJ3ByZV9kZWZpbmVkJywgICAgICAgICAgJ3VpbnQnLCAxNik7XG4gIHRoaXMuX3Byb2NGaWVsZCgncmVzZXJ2ZWQzJywgICAgICAgICAgICAndWludCcsIDE2KTtcbiAgdGhpcy5fcHJvY0ZpZWxkKCdzYW1wbGVyYXRlJywgICAgICAgICAgICd0ZW1wbGF0ZScsIDMyKTtcbiAgLy8gRVNEZXNjcmlwdG9yIGZpZWxkc1xuICB0aGlzLl9wcm9jRmllbGQoJ2VzZHMnLCAgICAgICAgICAgICAgICAgJ2RhdGEnLCAtMSk7XG59O1xuXG4vLyBJU08vSUVDIDE0NDk2LTEyOjIwMTIgLSA4LjIuMiBNb3ZpZSBIZWFkZXIgQm94XG5JU09Cb3gucHJvdG90eXBlLl9ib3hQcm9jZXNzb3JzWydtdmhkJ10gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fcHJvY0Z1bGxCb3goKTtcbiAgdGhpcy5fcHJvY0ZpZWxkKCdjcmVhdGlvbl90aW1lJywgICAgICAndWludCcsICAgICAodGhpcy52ZXJzaW9uID09IDEpID8gNjQgOiAzMik7XG4gIHRoaXMuX3Byb2NGaWVsZCgnbW9kaWZpY2F0aW9uX3RpbWUnLCAgJ3VpbnQnLCAgICAgKHRoaXMudmVyc2lvbiA9PSAxKSA/IDY0IDogMzIpO1xuICB0aGlzLl9wcm9jRmllbGQoJ3RpbWVzY2FsZScsICAgICAgICAgICd1aW50JywgICAgIDMyKTtcbiAgdGhpcy5fcHJvY0ZpZWxkKCdkdXJhdGlvbicsICAgICAgICAgICAndWludCcsICAgICAodGhpcy52ZXJzaW9uID09IDEpID8gNjQgOiAzMik7XG4gIHRoaXMuX3Byb2NGaWVsZCgncmF0ZScsICAgICAgICAgICAgICAgJ3RlbXBsYXRlJywgMzIpO1xuICB0aGlzLl9wcm9jRmllbGQoJ3ZvbHVtZScsICAgICAgICAgICAgICd0ZW1wbGF0ZScsIDE2KTtcbiAgdGhpcy5fcHJvY0ZpZWxkKCdyZXNlcnZlZDEnLCAgICAgICAgICAndWludCcsICAxNik7XG4gIHRoaXMuX3Byb2NGaWVsZEFycmF5KCdyZXNlcnZlZDInLCAyLCAgJ3VpbnQnLCAgICAgMzIpO1xuICB0aGlzLl9wcm9jRmllbGRBcnJheSgnbWF0cml4JywgOSwgICAgICd0ZW1wbGF0ZScsIDMyKTtcbiAgdGhpcy5fcHJvY0ZpZWxkQXJyYXkoJ3ByZV9kZWZpbmVkJywgNiwndWludCcsICAgMzIpO1xuICB0aGlzLl9wcm9jRmllbGQoJ25leHRfdHJhY2tfSUQnLCAgICAgICd1aW50JywgICAgIDMyKTtcbn07XG5cbi8vIElTTy9JRUMgMTQ0OTYtMzA6MjAxNCAtIFdlYlZUVCBDdWUgUGF5bG9hZCBCb3guXG5JU09Cb3gucHJvdG90eXBlLl9ib3hQcm9jZXNzb3JzWydwYXlsJ10gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fcHJvY0ZpZWxkKCdjdWVfdGV4dCcsICd1dGY4Jyk7XG59O1xuXG4vL0lTTy9JRUMgMjMwMDEtNzoyMDExIC0gOC4xIFByb3RlY3Rpb24gU3lzdGVtIFNwZWNpZmljIEhlYWRlciBCb3hcbklTT0JveC5wcm90b3R5cGUuX2JveFByb2Nlc3NvcnNbJ3Bzc2gnXSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9wcm9jRnVsbEJveCgpO1xuICBcbiAgdGhpcy5fcHJvY0ZpZWxkQXJyYXkoJ1N5c3RlbUlEJywgMTYsICd1aW50JywgOCk7XG4gIHRoaXMuX3Byb2NGaWVsZCgnRGF0YVNpemUnLCAndWludCcsIDMyKTtcbiAgdGhpcy5fcHJvY0ZpZWxkQXJyYXkoJ0RhdGEnLCB0aGlzLkRhdGFTaXplLCAndWludCcsIDgpO1xufTtcbi8vIElTTy9JRUMgMTQ0OTYtMTI6MjAxMiAtIDguMTIuNSBTY2hlbWUgVHlwZSBCb3hcbklTT0JveC5wcm90b3R5cGUuX2JveFByb2Nlc3NvcnNbJ3NjaG0nXSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX3Byb2NGdWxsQm94KCk7XG4gICAgXG4gICAgdGhpcy5fcHJvY0ZpZWxkKCdzY2hlbWVfdHlwZScsICd1aW50JywgMzIpO1xuICAgIHRoaXMuX3Byb2NGaWVsZCgnc2NoZW1lX3ZlcnNpb24nLCAndWludCcsIDMyKTtcblxuICAgIGlmICh0aGlzLmZsYWdzICYgMHgwMDAwMDEpIHtcbiAgICAgICAgdGhpcy5fcHJvY0ZpZWxkKCdzY2hlbWVfdXJpJywgJ3N0cmluZycsIC0xKTtcbiAgICB9XG59O1xuLy8gSVNPL0lFQyAxNDQ5Ni0xMjoyMDEyIC0gOC42LjQuMSBzZHRwIGJveCBcbklTT0JveC5wcm90b3R5cGUuX2JveFByb2Nlc3NvcnNbJ3NkdHAnXSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9wcm9jRnVsbEJveCgpO1xuXG4gIHZhciBzYW1wbGVfY291bnQgPSAtMTtcbiAgaWYgKHRoaXMuX3BhcnNpbmcpIHtcbiAgICBzYW1wbGVfY291bnQgPSAodGhpcy5fcmF3LmJ5dGVMZW5ndGggLSAodGhpcy5fY3Vyc29yLm9mZnNldCAtIHRoaXMuX3Jhdy5ieXRlT2Zmc2V0KSk7XG4gIH1cblxuICB0aGlzLl9wcm9jRmllbGRBcnJheSgnc2FtcGxlX2RlcGVuZGVuY3lfdGFibGUnLCBzYW1wbGVfY291bnQsICd1aW50JywgOCk7XG59O1xuXG4vLyBJU08vSUVDIDE0NDk2LTEyOjIwMTIgLSA4LjE2LjMgU2VnbWVudCBJbmRleCBCb3hcbklTT0JveC5wcm90b3R5cGUuX2JveFByb2Nlc3NvcnNbJ3NpZHgnXSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9wcm9jRnVsbEJveCgpO1xuICB0aGlzLl9wcm9jRmllbGQoJ3JlZmVyZW5jZV9JRCcsICd1aW50JywgMzIpO1xuICB0aGlzLl9wcm9jRmllbGQoJ3RpbWVzY2FsZScsICd1aW50JywgMzIpO1xuICB0aGlzLl9wcm9jRmllbGQoJ2VhcmxpZXN0X3ByZXNlbnRhdGlvbl90aW1lJywgJ3VpbnQnLCAodGhpcy52ZXJzaW9uID09IDEpID8gNjQgOiAzMik7XG4gIHRoaXMuX3Byb2NGaWVsZCgnZmlyc3Rfb2Zmc2V0JywgJ3VpbnQnLCAodGhpcy52ZXJzaW9uID09IDEpID8gNjQgOiAzMik7XG4gIHRoaXMuX3Byb2NGaWVsZCgncmVzZXJ2ZWQnLCAndWludCcsIDE2KTtcbiAgdGhpcy5fcHJvY0ZpZWxkKCdyZWZlcmVuY2VfY291bnQnLCAndWludCcsIDE2KTtcbiAgdGhpcy5fcHJvY0VudHJpZXMoJ3JlZmVyZW5jZXMnLCB0aGlzLnJlZmVyZW5jZV9jb3VudCwgZnVuY3Rpb24oZW50cnkpIHtcbiAgICBpZiAoIXRoaXMuX3BhcnNpbmcpIHtcbiAgICAgIGVudHJ5LnJlZmVyZW5jZSAgPSAoZW50cnkucmVmZXJlbmNlX3R5cGUgICYgMHgwMDAwMDAwMSkgPDwgMzE7XG4gICAgICBlbnRyeS5yZWZlcmVuY2UgfD0gKGVudHJ5LnJlZmVyZW5jZWRfc2l6ZSAmIDB4N0ZGRkZGRkYpO1xuICAgICAgZW50cnkuc2FwICA9IChlbnRyeS5zdGFydHNfd2l0aF9TQVAgJiAweDAwMDAwMDAxKSA8PCAzMTtcbiAgICAgIGVudHJ5LnNhcCB8PSAoZW50cnkuU0FQX3R5cGUgICAgICAgICYgMHgwMDAwMDAwMykgPDwgMjg7XG4gICAgICBlbnRyeS5zYXAgfD0gKGVudHJ5LlNBUF9kZWx0YV90aW1lICAmIDB4MEZGRkZGRkYpO1xuICAgIH1cbiAgICB0aGlzLl9wcm9jRW50cnlGaWVsZChlbnRyeSwgJ3JlZmVyZW5jZScsICd1aW50JywgMzIpO1xuICAgIHRoaXMuX3Byb2NFbnRyeUZpZWxkKGVudHJ5LCAnc3Vic2VnbWVudF9kdXJhdGlvbicsICd1aW50JywgMzIpO1xuICAgIHRoaXMuX3Byb2NFbnRyeUZpZWxkKGVudHJ5LCAnc2FwJywgJ3VpbnQnLCAzMik7XG4gICAgaWYgKHRoaXMuX3BhcnNpbmcpIHtcbiAgICAgIGVudHJ5LnJlZmVyZW5jZV90eXBlID0gKGVudHJ5LnJlZmVyZW5jZSA+PiAzMSkgJiAweDAwMDAwMDAxO1xuICAgICAgZW50cnkucmVmZXJlbmNlZF9zaXplID0gZW50cnkucmVmZXJlbmNlICYgMHg3RkZGRkZGRjtcbiAgICAgIGVudHJ5LnN0YXJ0c193aXRoX1NBUCAgPSAoZW50cnkuc2FwID4+IDMxKSAmIDB4MDAwMDAwMDE7XG4gICAgICBlbnRyeS5TQVBfdHlwZSA9IChlbnRyeS5zYXAgPj4gMjgpICYgMHgwMDAwMDAwNztcbiAgICAgIGVudHJ5LlNBUF9kZWx0YV90aW1lID0gKGVudHJ5LnNhcCAgJiAweDBGRkZGRkZGKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLy8gSVNPL0lFQyAxNDQ5Ni0xMjoyMDEyIC0gOC40LjUuMyBTb3VuZCBNZWRpYSBIZWFkZXIgQm94XG5JU09Cb3gucHJvdG90eXBlLl9ib3hQcm9jZXNzb3JzWydzbWhkJ10gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fcHJvY0Z1bGxCb3goKTtcbiAgdGhpcy5fcHJvY0ZpZWxkKCdiYWxhbmNlJywgICd1aW50JywgMTYpO1xuICB0aGlzLl9wcm9jRmllbGQoJ3Jlc2VydmVkJywgJ3VpbnQnLCAxNik7XG59O1xuXG4vLyBJU08vSUVDIDE0NDk2LTEyOjIwMTIgLSA4LjE2LjQgU3Vic2VnbWVudCBJbmRleCBCb3hcbklTT0JveC5wcm90b3R5cGUuX2JveFByb2Nlc3NvcnNbJ3NzaXgnXSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9wcm9jRnVsbEJveCgpO1xuICB0aGlzLl9wcm9jRmllbGQoJ3N1YnNlZ21lbnRfY291bnQnLCAndWludCcsIDMyKTtcbiAgdGhpcy5fcHJvY0VudHJpZXMoJ3N1YnNlZ21lbnRzJywgdGhpcy5zdWJzZWdtZW50X2NvdW50LCBmdW5jdGlvbihzdWJzZWdtZW50KSB7XG4gICAgdGhpcy5fcHJvY0VudHJ5RmllbGQoc3Vic2VnbWVudCwgJ3Jhbmdlc19jb3VudCcsICd1aW50JywgMzIpO1xuICAgIHRoaXMuX3Byb2NTdWJFbnRyaWVzKHN1YnNlZ21lbnQsICdyYW5nZXMnLCBzdWJzZWdtZW50LnJhbmdlc19jb3VudCwgZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgIHRoaXMuX3Byb2NFbnRyeUZpZWxkKHJhbmdlLCAnbGV2ZWwnLCAndWludCcsIDgpO1xuICAgICAgdGhpcy5fcHJvY0VudHJ5RmllbGQocmFuZ2UsICdyYW5nZV9zaXplJywgJ3VpbnQnLCAyNCk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuLy8gSVNPL0lFQyAxNDQ5Ni0xMjoyMDEyIC0gOC41LjIgU2FtcGxlIERlc2NyaXB0aW9uIEJveFxuSVNPQm94LnByb3RvdHlwZS5fYm94UHJvY2Vzc29yc1snc3RzZCddID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3Byb2NGdWxsQm94KCk7XG4gIHRoaXMuX3Byb2NGaWVsZCgnZW50cnlfY291bnQnLCAndWludCcsIDMyKTtcbiAgdGhpcy5fcHJvY1N1YkJveGVzKCdlbnRyaWVzJywgdGhpcy5lbnRyeV9jb3VudCk7XG59O1xuXG4vLyBJU08vSUVDIDE0NDk2LTEyOjIwMTUgLSA4LjcuNyBTdWItU2FtcGxlIEluZm9ybWF0aW9uIEJveFxuSVNPQm94LnByb3RvdHlwZS5fYm94UHJvY2Vzc29yc1snc3VicyddID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9wcm9jRnVsbEJveCgpO1xuICB0aGlzLl9wcm9jRmllbGQoJ2VudHJ5X2NvdW50JywgJ3VpbnQnLCAzMik7XG4gIHRoaXMuX3Byb2NFbnRyaWVzKCdlbnRyaWVzJywgdGhpcy5lbnRyeV9jb3VudCwgZnVuY3Rpb24oZW50cnkpIHtcbiAgICB0aGlzLl9wcm9jRW50cnlGaWVsZChlbnRyeSwgJ3NhbXBsZV9kZWx0YScsICd1aW50JywgMzIpO1xuICAgIHRoaXMuX3Byb2NFbnRyeUZpZWxkKGVudHJ5LCAnc3Vic2FtcGxlX2NvdW50JywgJ3VpbnQnLCAxNik7XG4gICAgdGhpcy5fcHJvY1N1YkVudHJpZXMoZW50cnksICdzdWJzYW1wbGVzJywgZW50cnkuc3Vic2FtcGxlX2NvdW50LCBmdW5jdGlvbihzdWJzYW1wbGUpIHtcbiAgICAgIHRoaXMuX3Byb2NFbnRyeUZpZWxkKHN1YnNhbXBsZSwgJ3N1YnNhbXBsZV9zaXplJywgJ3VpbnQnLCAodGhpcy52ZXJzaW9uID09PSAxKSA/IDMyIDogMTYpO1xuICAgICAgdGhpcy5fcHJvY0VudHJ5RmllbGQoc3Vic2FtcGxlLCAnc3Vic2FtcGxlX3ByaW9yaXR5JywgJ3VpbnQnLCA4KTtcbiAgICAgIHRoaXMuX3Byb2NFbnRyeUZpZWxkKHN1YnNhbXBsZSwgJ2Rpc2NhcmRhYmxlJywgJ3VpbnQnLCA4KTtcbiAgICAgIHRoaXMuX3Byb2NFbnRyeUZpZWxkKHN1YnNhbXBsZSwgJ2NvZGVjX3NwZWNpZmljX3BhcmFtZXRlcnMnLCAndWludCcsIDMyKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG4vL0lTTy9JRUMgMjMwMDEtNzoyMDExIC0gOC4yIFRyYWNrIEVuY3J5cHRpb24gQm94XG5JU09Cb3gucHJvdG90eXBlLl9ib3hQcm9jZXNzb3JzWyd0ZW5jJ10gPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9wcm9jRnVsbEJveCgpO1xuXG4gICAgdGhpcy5fcHJvY0ZpZWxkKCdkZWZhdWx0X0lzRW5jcnlwdGVkJywgJ3VpbnQnLCAyNCk7XG4gICAgdGhpcy5fcHJvY0ZpZWxkKCdkZWZhdWx0X0lWX3NpemUnLCAndWludCcsIDgpO1xuICAgIHRoaXMuX3Byb2NGaWVsZEFycmF5KCdkZWZhdWx0X0tJRCcsIDE2LCAgICAndWludCcsIDgpO1xuIH07XG5cbi8vIElTTy9JRUMgMTQ0OTYtMTI6MjAxMiAtIDguOC4xMiBUcmFjayBGcmFnbW5lbnQgRGVjb2RlIFRpbWVcbklTT0JveC5wcm90b3R5cGUuX2JveFByb2Nlc3NvcnNbJ3RmZHQnXSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9wcm9jRnVsbEJveCgpO1xuICB0aGlzLl9wcm9jRmllbGQoJ2Jhc2VNZWRpYURlY29kZVRpbWUnLCAndWludCcsICh0aGlzLnZlcnNpb24gPT0gMSkgPyA2NCA6IDMyKTtcbn07XG5cbi8vIElTTy9JRUMgMTQ0OTYtMTI6MjAxMiAtIDguOC43IFRyYWNrIEZyYWdtZW50IEhlYWRlciBCb3hcbklTT0JveC5wcm90b3R5cGUuX2JveFByb2Nlc3NvcnNbJ3RmaGQnXSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9wcm9jRnVsbEJveCgpO1xuICB0aGlzLl9wcm9jRmllbGQoJ3RyYWNrX0lEJywgJ3VpbnQnLCAzMik7XG4gIGlmICh0aGlzLmZsYWdzICYgMHgwMSkgdGhpcy5fcHJvY0ZpZWxkKCdiYXNlX2RhdGFfb2Zmc2V0JywgICAgICAgICAgJ3VpbnQnLCA2NCk7XG4gIGlmICh0aGlzLmZsYWdzICYgMHgwMikgdGhpcy5fcHJvY0ZpZWxkKCdzYW1wbGVfZGVzY3JpcHRpb25fb2Zmc2V0JywgJ3VpbnQnLCAzMik7XG4gIGlmICh0aGlzLmZsYWdzICYgMHgwOCkgdGhpcy5fcHJvY0ZpZWxkKCdkZWZhdWx0X3NhbXBsZV9kdXJhdGlvbicsICAgJ3VpbnQnLCAzMik7XG4gIGlmICh0aGlzLmZsYWdzICYgMHgxMCkgdGhpcy5fcHJvY0ZpZWxkKCdkZWZhdWx0X3NhbXBsZV9zaXplJywgICAgICAgJ3VpbnQnLCAzMik7XG4gIGlmICh0aGlzLmZsYWdzICYgMHgyMCkgdGhpcy5fcHJvY0ZpZWxkKCdkZWZhdWx0X3NhbXBsZV9mbGFncycsICAgICAgJ3VpbnQnLCAzMik7XG59O1xuXG4vLyBJU08vSUVDIDE0NDk2LTEyOjIwMTIgLSA4LjguMTAgVHJhY2sgRnJhZ21lbnQgUmFuZG9tIEFjY2VzcyBCb3hcbklTT0JveC5wcm90b3R5cGUuX2JveFByb2Nlc3NvcnNbJ3RmcmEnXSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9wcm9jRnVsbEJveCgpO1xuICB0aGlzLl9wcm9jRmllbGQoJ3RyYWNrX0lEJywgJ3VpbnQnLCAzMik7XG4gIGlmICghdGhpcy5fcGFyc2luZykge1xuICAgIHRoaXMucmVzZXJ2ZWQgPSAwO1xuICAgIHRoaXMucmVzZXJ2ZWQgfD0gKHRoaXMubGVuZ3RoX3NpemVfb2ZfdHJhZl9udW0gICYgMHgwMDAwMDAzMCkgPDwgNDtcbiAgICB0aGlzLnJlc2VydmVkIHw9ICh0aGlzLmxlbmd0aF9zaXplX29mX3RydW5fbnVtICAmIDB4MDAwMDAwMEMpIDw8IDI7XG4gICAgdGhpcy5yZXNlcnZlZCB8PSAodGhpcy5sZW5ndGhfc2l6ZV9vZl9zYW1wbGVfbnVtICAmIDB4MDAwMDAwMDMpO1xuICB9XG4gIHRoaXMuX3Byb2NGaWVsZCgncmVzZXJ2ZWQnLCAndWludCcsIDMyKTtcbiAgaWYgKHRoaXMuX3BhcnNpbmcpIHtcbiAgICB0aGlzLmxlbmd0aF9zaXplX29mX3RyYWZfbnVtID0gKHRoaXMucmVzZXJ2ZWQgJiAweDAwMDAwMDMwKSA+PiA0O1xuICAgIHRoaXMubGVuZ3RoX3NpemVfb2ZfdHJ1bl9udW0gPSAodGhpcy5yZXNlcnZlZCAmIDB4MDAwMDAwMEMpID4+IDI7XG4gICAgdGhpcy5sZW5ndGhfc2l6ZV9vZl9zYW1wbGVfbnVtID0gKHRoaXMucmVzZXJ2ZWQgJiAweDAwMDAwMDAzKTtcbiAgfVxuICB0aGlzLl9wcm9jRmllbGQoJ251bWJlcl9vZl9lbnRyeScsICd1aW50JywgMzIpO1xuICB0aGlzLl9wcm9jRW50cmllcygnZW50cmllcycsIHRoaXMubnVtYmVyX29mX2VudHJ5LCBmdW5jdGlvbihlbnRyeSkge1xuICAgIHRoaXMuX3Byb2NFbnRyeUZpZWxkKGVudHJ5LCAndGltZScsICd1aW50JywgKHRoaXMudmVyc2lvbiA9PT0gMSkgPyA2NCA6IDMyKTtcbiAgICB0aGlzLl9wcm9jRW50cnlGaWVsZChlbnRyeSwgJ21vb2Zfb2Zmc2V0JywgJ3VpbnQnLCAodGhpcy52ZXJzaW9uID09PSAxKSA/IDY0IDogMzIpO1xuICAgIHRoaXMuX3Byb2NFbnRyeUZpZWxkKGVudHJ5LCAndHJhZl9udW1iZXInLCAndWludCcsICh0aGlzLmxlbmd0aF9zaXplX29mX3RyYWZfbnVtICsgMSkgKiA4KTtcbiAgICB0aGlzLl9wcm9jRW50cnlGaWVsZChlbnRyeSwgJ3RydW5fbnVtYmVyJywgJ3VpbnQnLCAodGhpcy5sZW5ndGhfc2l6ZV9vZl90cnVuX251bSArIDEpICogOCk7XG4gICAgdGhpcy5fcHJvY0VudHJ5RmllbGQoZW50cnksICdzYW1wbGVfbnVtYmVyJywgJ3VpbnQnLCAodGhpcy5sZW5ndGhfc2l6ZV9vZl9zYW1wbGVfbnVtICsgMSkgKiA4KTtcbiAgfSk7XG59O1xuXG4vLyBJU08vSUVDIDE0NDk2LTEyOjIwMTIgLSA4LjMuMiBUcmFjayBIZWFkZXIgQm94XG5JU09Cb3gucHJvdG90eXBlLl9ib3hQcm9jZXNzb3JzWyd0a2hkJ10gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fcHJvY0Z1bGxCb3goKTtcbiAgdGhpcy5fcHJvY0ZpZWxkKCdjcmVhdGlvbl90aW1lJywgICAgICAndWludCcsICAgICAodGhpcy52ZXJzaW9uID09IDEpID8gNjQgOiAzMik7XG4gIHRoaXMuX3Byb2NGaWVsZCgnbW9kaWZpY2F0aW9uX3RpbWUnLCAgJ3VpbnQnLCAgICAgKHRoaXMudmVyc2lvbiA9PSAxKSA/IDY0IDogMzIpO1xuICB0aGlzLl9wcm9jRmllbGQoJ3RyYWNrX0lEJywgICAgICAgICAgICd1aW50JywgICAgIDMyKTtcbiAgdGhpcy5fcHJvY0ZpZWxkKCdyZXNlcnZlZDEnLCAgICAgICAgICAndWludCcsICAgICAzMik7XG4gIHRoaXMuX3Byb2NGaWVsZCgnZHVyYXRpb24nLCAgICAgICAgICAgJ3VpbnQnLCAgICAgKHRoaXMudmVyc2lvbiA9PSAxKSA/IDY0IDogMzIpO1xuICB0aGlzLl9wcm9jRmllbGRBcnJheSgncmVzZXJ2ZWQyJywgMiwgICd1aW50JywgICAgIDMyKTtcbiAgdGhpcy5fcHJvY0ZpZWxkKCdsYXllcicsICAgICAgICAgICAgICAndWludCcsICAgICAxNik7XG4gIHRoaXMuX3Byb2NGaWVsZCgnYWx0ZXJuYXRlX2dyb3VwJywgICAgJ3VpbnQnLCAgICAgMTYpO1xuICB0aGlzLl9wcm9jRmllbGQoJ3ZvbHVtZScsICAgICAgICAgICAgICd0ZW1wbGF0ZScsIDE2KTtcbiAgdGhpcy5fcHJvY0ZpZWxkKCdyZXNlcnZlZDMnLCAgICAgICAgICAndWludCcsICAgICAxNik7XG4gIHRoaXMuX3Byb2NGaWVsZEFycmF5KCdtYXRyaXgnLCA5LCAgICAgJ3RlbXBsYXRlJywgMzIpO1xuICB0aGlzLl9wcm9jRmllbGQoJ3dpZHRoJywgICAgICAgICAgICAgICd0ZW1wbGF0ZScsIDMyKTtcbiAgdGhpcy5fcHJvY0ZpZWxkKCdoZWlnaHQnLCAgICAgICAgICAgICAndGVtcGxhdGUnLCAzMik7XG59O1xuXG4vLyBJU08vSUVDIDE0NDk2LTEyOjIwMTIgLSA4LjguMyBUcmFjayBFeHRlbmRzIEJveFxuSVNPQm94LnByb3RvdHlwZS5fYm94UHJvY2Vzc29yc1sndHJleCddID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3Byb2NGdWxsQm94KCk7XG4gIHRoaXMuX3Byb2NGaWVsZCgndHJhY2tfSUQnLCAgICAgICAgICAgICAgICAgICAgICAgICAndWludCcsIDMyKTtcbiAgdGhpcy5fcHJvY0ZpZWxkKCdkZWZhdWx0X3NhbXBsZV9kZXNjcmlwdGlvbl9pbmRleCcsICd1aW50JywgMzIpO1xuICB0aGlzLl9wcm9jRmllbGQoJ2RlZmF1bHRfc2FtcGxlX2R1cmF0aW9uJywgICAgICAgICAgJ3VpbnQnLCAzMik7XG4gIHRoaXMuX3Byb2NGaWVsZCgnZGVmYXVsdF9zYW1wbGVfc2l6ZScsICAgICAgICAgICAgICAndWludCcsIDMyKTtcbiAgdGhpcy5fcHJvY0ZpZWxkKCdkZWZhdWx0X3NhbXBsZV9mbGFncycsICAgICAgICAgICAgICd1aW50JywgMzIpO1xufTtcblxuLy8gSVNPL0lFQyAxNDQ5Ni0xMjoyMDEyIC0gOC44LjggVHJhY2sgUnVuIEJveFxuLy8gTm90ZTogdGhlICd0cnVuJyBib3ggaGFzIGEgZGlyZWN0IHJlbGF0aW9uIHRvIHRoZSAndGZoZCcgYm94IGZvciBkZWZhdWx0cy5cbi8vIFRoZXNlIGRlZmF1bHRzIGFyZSBub3Qgc2V0IGV4cGxpY2l0bHkgaGVyZSwgYnV0IGFyZSBsZWZ0IHRvIHJlc29sdmUgZm9yIHRoZSB1c2VyLlxuSVNPQm94LnByb3RvdHlwZS5fYm94UHJvY2Vzc29yc1sndHJ1biddID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuX3Byb2NGdWxsQm94KCk7XG4gIHRoaXMuX3Byb2NGaWVsZCgnc2FtcGxlX2NvdW50JywgJ3VpbnQnLCAzMik7XG4gIGlmICh0aGlzLmZsYWdzICYgMHgxKSB0aGlzLl9wcm9jRmllbGQoJ2RhdGFfb2Zmc2V0JywgJ2ludCcsIDMyKTtcbiAgaWYgKHRoaXMuZmxhZ3MgJiAweDQpIHRoaXMuX3Byb2NGaWVsZCgnZmlyc3Rfc2FtcGxlX2ZsYWdzJywgJ3VpbnQnLCAzMik7XG4gIHRoaXMuX3Byb2NFbnRyaWVzKCdzYW1wbGVzJywgdGhpcy5zYW1wbGVfY291bnQsIGZ1bmN0aW9uKHNhbXBsZSkge1xuICAgIGlmICh0aGlzLmZsYWdzICYgMHgxMDApIHRoaXMuX3Byb2NFbnRyeUZpZWxkKHNhbXBsZSwgJ3NhbXBsZV9kdXJhdGlvbicsICd1aW50JywgMzIpO1xuICAgIGlmICh0aGlzLmZsYWdzICYgMHgyMDApIHRoaXMuX3Byb2NFbnRyeUZpZWxkKHNhbXBsZSwgJ3NhbXBsZV9zaXplJywgJ3VpbnQnLCAzMik7XG4gICAgaWYgKHRoaXMuZmxhZ3MgJiAweDQwMCkgdGhpcy5fcHJvY0VudHJ5RmllbGQoc2FtcGxlLCAnc2FtcGxlX2ZsYWdzJywgJ3VpbnQnLCAzMik7XG4gICAgaWYgKHRoaXMuZmxhZ3MgJiAweDgwMCkgdGhpcy5fcHJvY0VudHJ5RmllbGQoc2FtcGxlLCAnc2FtcGxlX2NvbXBvc2l0aW9uX3RpbWVfb2Zmc2V0JywgKHRoaXMudmVyc2lvbiA9PT0gMSkgPyAnaW50JyA6ICd1aW50JywgIDMyKTtcbiAgfSk7XG59O1xuXG4vLyBJU08vSUVDIDE0NDk2LTEyOjIwMTIgLSA4LjcuMiBEYXRhIFJlZmVyZW5jZSBCb3hcbklTT0JveC5wcm90b3R5cGUuX2JveFByb2Nlc3NvcnNbJ3VybCAnXSA9IElTT0JveC5wcm90b3R5cGUuX2JveFByb2Nlc3NvcnNbJ3VybiAnXSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9wcm9jRnVsbEJveCgpO1xuICBpZiAodGhpcy50eXBlID09PSAndXJuICcpIHtcbiAgICB0aGlzLl9wcm9jRmllbGQoJ25hbWUnLCAnc3RyaW5nJywgLTEpO1xuICB9XG4gIHRoaXMuX3Byb2NGaWVsZCgnbG9jYXRpb24nLCAnc3RyaW5nJywgLTEpO1xufTtcblxuLy8gSVNPL0lFQyAxNDQ5Ni0zMDoyMDE0IC0gV2ViVlRUIFNvdXJjZSBMYWJlbCBCb3hcbklTT0JveC5wcm90b3R5cGUuX2JveFByb2Nlc3NvcnNbJ3ZsYWInXSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9wcm9jRmllbGQoJ3NvdXJjZV9sYWJlbCcsICd1dGY4Jyk7XG59O1xuXG4vLyBJU08vSUVDIDE0NDk2LTEyOjIwMTIgLSA4LjQuNS4yIFZpZGVvIE1lZGlhIEhlYWRlciBCb3hcbklTT0JveC5wcm90b3R5cGUuX2JveFByb2Nlc3NvcnNbJ3ZtaGQnXSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9wcm9jRnVsbEJveCgpO1xuICB0aGlzLl9wcm9jRmllbGQoJ2dyYXBoaWNzbW9kZScsICd1aW50JywgMTYpO1xuICB0aGlzLl9wcm9jRmllbGRBcnJheSgnb3Bjb2xvcicsIDMsICd1aW50JywgMTYpO1xufTtcblxuLy8gSVNPL0lFQyAxNDQ5Ni0zMDoyMDE0IC0gV2ViVlRUIENvbmZpZ3VyYXRpb24gQm94XG5JU09Cb3gucHJvdG90eXBlLl9ib3hQcm9jZXNzb3JzWyd2dHRDJ10gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fcHJvY0ZpZWxkKCdjb25maWcnLCAndXRmOCcpO1xufTtcblxuLy8gSVNPL0lFQyAxNDQ5Ni0zMDoyMDE0IC0gV2ViVlRUIEVtcHR5IFNhbXBsZSBCb3hcbklTT0JveC5wcm90b3R5cGUuX2JveFByb2Nlc3NvcnNbJ3Z0dGUnXSA9IGZ1bmN0aW9uKCkge1xuICAvLyBOb3RoaW5nIHNob3VsZCBoYXBwZW4gaGVyZS5cbn07XG4iLCLvu78ndXNlIHN0cmljdCdcblxuaW1wb3J0IEZhY3RvcnlNYWtlciBmcm9tICcuL2NvcmUvRmFjdG9yeU1ha2VyJztcbmltcG9ydCBFdmVudEJ1cyBmcm9tICcuL2NvcmUvRXZlbnRCdXMnO1xuaW1wb3J0IEV2ZW50cyBmcm9tICcuL2NvcmUvQ29yZUV2ZW50cyc7XG5pbXBvcnQgRGVidWcgZnJvbSAnLi9jb3JlL0RlYnVnJztcblxuaW1wb3J0IFVJRW5naW5lIGZyb20gJy4vdWkvdWlfZW5naW5lJztcbmltcG9ydCBNZWRpYVNvdXJjZUVuZ2luZSBmcm9tICcuL21lZGlhX3NvdXJjZV9lbmdpbmUnO1xuaW1wb3J0IFRleHRFbmdpbmUgZnJvbSAnLi90ZXh0X2VuZ2luZSc7XG5pbXBvcnQgTWVkaWFFbmdpbmUgZnJvbSAnLi9tZWRpYV9lbmdpbmUnO1xuaW1wb3J0IERSTUVuZ2luZSBmcm9tICcuL2RybV9lbmdpbmUnO1xuaW1wb3J0IEFkc0VuZ2luZSBmcm9tICcuL2Fkcy9hZHNfZW5naW5lJztcblxuaW1wb3J0IE1hbmlmZXN0UGFyc2VyIGZyb20gJy4vbWVkaWEvbWFuaWZlc3RfcGFyc2VyJztcbmltcG9ydCBTY2hlZHVsZUNvbnRyb2xsZXIgZnJvbSAnLi9tZWRpYS9zY2hlZHVsZV9jb250cm9sbGVyJztcblxuaW1wb3J0IFRpbWVSYW5nZXMgZnJvbSAnLi91dGlscy90aW1lUmFuZ2VzJztcbmltcG9ydCBYSFJMb2FkZXIgZnJvbSAnLi91dGlscy94aHJfbG9hZGVyJztcbmltcG9ydCBDb21tb25VdGlscyBmcm9tICcuL3V0aWxzL2NvbW1vbl91dGlscyc7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZnVuY3Rpb24gUGxheWVyKGNvbnRhaW5lcklkKSB7XG4gICAgbGV0IGNvbnRhaW5lcklkXyA9IGNvbnRhaW5lcklkO1xuICAgIGxldCBjZmdfO1xuICAgIGxldCBjb250ZXh0XyA9IHt9O1xuXG4gICAgbGV0IHVpRW5naW5lXztcbiAgICBsZXQgbWVkaWFfO1xuXG4gICAgbGV0IGF1ZGlvSGVhZGVyQWRkZWRfID0gZmFsc2U7XG4gICAgbGV0IGF1ZGlvSW5kZXhfID0gMDtcbiAgICBsZXQgdmlkZW9IZWFkZXJBZGRlZF8gPSBmYWxzZTtcbiAgICBsZXQgdmlkZW9JbmRleF8gPSAwO1xuICAgIGxldCBzdHJlYW1JbmZvXyA9IG51bGw7XG5cbiAgICBsZXQgZXZlbnRCdXNfO1xuICAgIGxldCBkZWJ1Z187XG4gICAgbGV0IHhockxvYWRlcl87XG4gICAgbGV0IG1lZGlhRW5naW5lXztcbiAgICBsZXQgdGV4dEVuZ2luZV87XG4gICAgbGV0IG1zZUVuZ2luZV87XG4gICAgbGV0IGRybUVuZ2luZV87XG4gICAgbGV0IG1hbmlmZXN0UGFyc2VyXztcbiAgICBsZXQgcGFyc2VyXztcblxuICAgIGxldCBzY2hlZHVsZUN0cmxfO1xuXG4gICAgLy8gYWRzIHBhcnRcbiAgICBsZXQgYWRzRW5naW5lXztcblxuICAgIC8vIGF1dG9wbGF5IHJlZmVyZW5jZVxuICAgIGxldCBhdXRvcGxheUFsbG93ZWRfO1xuICAgIGxldCBhdXRvcGxheVJlcXVpcmVzTXV0ZWRfO1xuXG4gICAgZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgICAgIHVpRW5naW5lXyA9IFVJRW5naW5lKG9sZG10bikuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgdWlFbmdpbmVfLmluaXRVSShjb250YWluZXJJZF8pO1xuICAgICAgICBtZWRpYV8gPSB1aUVuZ2luZV8uZ2V0VmlkZW8oKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0KGNmZykge1xuICAgICAgICBjZmdfID0gY2ZnO1xuXG4gICAgICAgIGluaXRDb21wb25lbnQoKTtcbiAgICAgICAgaW5pdERhdGEoKTtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgYWRkUmVzaXplTGlzdGVuZXIoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvcGVuKGluZm8pIHtcbiAgICAgICAgc3RyZWFtSW5mb18gPSBpbmZvO1xuICAgICAgICBkZWJ1Z18ubG9nKCdQbGF5ZXIsICtvcGVuJyk7XG5cbiAgICAgICAgLy8gZmV0Y2ggZGFzaCBjb250ZW50XG4gICAgICAgIGlmIChzdHJlYW1JbmZvXy51cmwpIHtcbiAgICAgICAgICAgIHBhcnNlcl8gPSBtYW5pZmVzdFBhcnNlcl8uZ2V0UGFyc2VyKHN0cmVhbUluZm9fLnVybCk7XG4gICAgICAgICAgICBzdHJlYW1JbmZvXy5hY3RpdmVTdHJlYW0gPSBwYXJzZXJfLmxvYWRNYW5pZmVzdChzdHJlYW1JbmZvXy51cmwpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBCRCwgdXNlIC5zcmMgZm9yIFBEXG4gICAgICAgIC8vIGlmIGl0IGlzIHBkLCBzbyB3ZSBkb24ndCBuZWVkIHRvIGNyZWF0ZSBtZWRpYXNvdXJjZVxuICAgICAgICBpZiAoc3RyZWFtSW5mb18uYWN0aXZlU3RyZWFtLnBkUmVwKSB7XG4gICAgICAgICAgICBhZGRQRCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEVEXG5cbiAgICAgICAgLy9cbiAgICAgICAgaWYgKCF3aW5kb3cuTWVkaWFTb3VyY2UpIHtcbiAgICAgICAgICAgIGRlYnVnXy5sb2coJ0RvblxcJ3Qgc3VwcG9ydCBNZWRpYVNvdXJjZSBpbiB0aGlzIHBsYXRmb3JtJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RyZWFtSW5mb18uYWN0aXZlU3RyZWFtLmFSZXApIHtcbiAgICAgICAgICAgIGlmIChzdHJlYW1JbmZvXy5hY3RpdmVTdHJlYW0uYVJlcC5jb2RlY3MpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Z18ubG9nKCdQbGF5ZXIsICtvcGVuOiAnICsgc3RyZWFtSW5mb18uYWN0aXZlU3RyZWFtLmFSZXAuY29kZWNzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN0cmVhbUluZm9fLmFjdGl2ZVN0cmVhbS5hUmVwLmNvZGVjcyAmJlxuICAgICAgICAgICAgICAgIHdpbmRvdy5NZWRpYVNvdXJjZSAmJlxuICAgICAgICAgICAgICAgICF3aW5kb3cuTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKHN0cmVhbUluZm9fLmFjdGl2ZVN0cmVhbS5hUmVwLmNvZGVjcykpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Z18ubG9nKCdEb25cXCd0IHN1cHBvcnQ6ICcgKyBzdHJlYW1JbmZvXy5hY3RpdmVTdHJlYW0uYVJlcC5jb2RlY3MpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdHJlYW1JbmZvXy5hY3RpdmVTdHJlYW0udlJlcCkge1xuICAgICAgICAgICAgaWYgKHN0cmVhbUluZm9fLmFjdGl2ZVN0cmVhbS52UmVwLmNvZGVjcykge1xuICAgICAgICAgICAgICAgIGRlYnVnXy5sb2coJ1BsYXllciwgK29wZW46ICcgKyBzdHJlYW1JbmZvXy5hY3RpdmVTdHJlYW0udlJlcC5jb2RlY3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3RyZWFtSW5mb18uYWN0aXZlU3RyZWFtLnZSZXAuY29kZWNzICYmXG4gICAgICAgICAgICAgICAgd2luZG93Lk1lZGlhU291cmNlICYmXG4gICAgICAgICAgICAgICAgIXdpbmRvdy5NZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoc3RyZWFtSW5mb18uYWN0aXZlU3RyZWFtLnZSZXAuY29kZWNzKSkge1xuICAgICAgICAgICAgICAgIGRlYnVnXy5sb2coJ0RvblxcJ3Qgc3VwcG9ydDogJyArIHN0cmVhbUluZm9fLmFjdGl2ZVN0cmVhbS52UmVwLmNvZGVjcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0cmVhbUluZm9fLmFjdGl2ZVN0cmVhbS5wZFJlcCkge1xuICAgICAgICAgICAgaWYgKHN0cmVhbUluZm9fLmFjdGl2ZVN0cmVhbS5wZFJlcC5jb2RlY3MpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Z18ubG9nKCdQbGF5ZXIsICtvcGVuOiAnICsgc3RyZWFtSW5mb18uYWN0aXZlU3RyZWFtLnBkUmVwLmNvZGVjcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdHJlYW1JbmZvXy5hY3RpdmVTdHJlYW0ucGRSZXAuY29kZWNzICYmXG4gICAgICAgICAgICAgICAgd2luZG93Lk1lZGlhU291cmNlICYmXG4gICAgICAgICAgICAgICAgIXdpbmRvdy5NZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoc3RyZWFtSW5mb18uYWN0aXZlU3RyZWFtLnBkUmVwLmNvZGVjcykpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Z18ubG9nKCdEb25cXCd0IHN1cHBvcnQ6ICcgKyBzdHJlYW1JbmZvXy5hY3RpdmVTdHJlYW0ucGRSZXAuY29kZWNzKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBtc2VFbmdpbmVfLm9wZW4oc3RyZWFtSW5mb18uYWN0aXZlU3RyZWFtKTtcblxuICAgICAgICBsZXQgb2JqVVJMID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobXNlRW5naW5lXy5nZXRNZWRpYVNvdXJjZSgpKTtcbiAgICAgICAgbWVkaWFFbmdpbmVfLnNldFNyYyhvYmpVUkwpO1xuICAgICAgICBkcm1FbmdpbmVfLnNldERybUluZm8oc3RyZWFtSW5mb18pO1xuXG4gICAgICAgIGlmIChhZHNFbmdpbmVfKSB7XG4gICAgICAgICAgICBhZHNFbmdpbmVfLnJlcXVlc3RBZHMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlYnVnXy5sb2coJ1BsYXllciwgLW9wZW4nKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgICAgaWYgKHNjaGVkdWxlQ3RybF8pIHtcbiAgICAgICAgICAgIHNjaGVkdWxlQ3RybF8uc3RvcCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhZHNFbmdpbmVfKSB7XG4gICAgICAgICAgICBhZHNFbmdpbmVfLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1zZUVuZ2luZV8pIHtcbiAgICAgICAgICAgIG1zZUVuZ2luZV8uY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVkaWFFbmdpbmVfKSB7XG4gICAgICAgICAgICBtZWRpYUVuZ2luZV8uY2xvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGF1ZGlvSW5kZXhfID0gMDtcbiAgICAgICAgdmlkZW9JbmRleF8gPSAwO1xuICAgICAgICBzdHJlYW1JbmZvXyA9IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVsbEFsbCgpIHtcbiAgICAgICAgbXNlRW5naW5lXy5yZW1vdmVCdWZmZXIoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRBKCkge1xuICAgICAgICBpZiAoYXVkaW9JbmRleF8gPj0gc3RyZWFtSW5mb18uYWN0aXZlU3RyZWFtLmFSZXAubWVkaWEubGVuZ3RoKSB7XG4gICAgICAgICAgICBkZWJ1Z18ubG9nKCdUaGVyZSBkb25cXCd0IGhhdmUgbW9yZSBjb250ZW50IHRvIGFkZC4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB1cmwgPSBudWxsO1xuICAgICAgICBpZiAoYXVkaW9IZWFkZXJBZGRlZF8gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB1cmwgPSBzdHJlYW1JbmZvXy5hY3RpdmVTdHJlYW0uYVJlcC5pbml0aWFsaXphdGlvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVybCA9IHN0cmVhbUluZm9fLmFjdGl2ZVN0cmVhbS5hUmVwLm1lZGlhW2F1ZGlvSW5kZXhfXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgZnVuY3Rpb24gY2JTdWNjZXNzKGJ5dGVzKSB7XG4gICAgICAgICAgICBtc2VFbmdpbmVfLmFwcGVuZEJ1ZmZlcih7dHlwZTogc3RyZWFtSW5mb18uYWN0aXZlU3RyZWFtLmFSZXAudHlwZSwgYnVmZmVyOiBieXRlc30pO1xuXG4gICAgICAgICAgICBpZiAoYXVkaW9IZWFkZXJBZGRlZF8pIHtcbiAgICAgICAgICAgICAgICBhdWRpb0luZGV4XysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhdWRpb0hlYWRlckFkZGVkXyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdCA9IHtcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgY2JTdWNjZXNzOiBjYlN1Y2Nlc3MuYmluZChzZWxmKVxuICAgICAgICB9O1xuICAgICAgICB4aHJMb2FkZXJfLmxvYWQocmVxdWVzdCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkVigpIHtcbiAgICAgICAgaWYgKHZpZGVvSW5kZXhfID49IHN0cmVhbUluZm9fLmFjdGl2ZVN0cmVhbS52UmVwLm1lZGlhLmxlbmd0aCkge1xuICAgICAgICAgICAgZGVidWdfLmxvZygnVGhlcmUgZG9uXFwndCBoYXZlIG1vcmUgY29udGVudCB0byBhZGQuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdXJsID0gbnVsbDtcbiAgICAgICAgaWYgKHZpZGVvSGVhZGVyQWRkZWRfID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdXJsID0gc3RyZWFtSW5mb18uYWN0aXZlU3RyZWFtLnZSZXAuaW5pdGlhbGl6YXRpb247XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1cmwgPSBzdHJlYW1JbmZvXy5hY3RpdmVTdHJlYW0udlJlcC5tZWRpYVt2aWRlb0luZGV4X107XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgICAgIGZ1bmN0aW9uIGNiU3VjY2VzcyhieXRlcykge1xuICAgICAgICAgICAgbXNlRW5naW5lXy5hcHBlbmRCdWZmZXIoe3R5cGU6IHN0cmVhbUluZm9fLmFjdGl2ZVN0cmVhbS52UmVwLnR5cGUsIGJ1ZmZlcjogYnl0ZXN9KTtcblxuICAgICAgICAgICAgaWYgKHZpZGVvSGVhZGVyQWRkZWRfKSB7XG4gICAgICAgICAgICAgICAgdmlkZW9JbmRleF8rKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmlkZW9IZWFkZXJBZGRlZF8gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcXVlc3QgPSB7XG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIGNiU3VjY2VzczogY2JTdWNjZXNzLmJpbmQoc2VsZilcbiAgICAgICAgfTtcbiAgICAgICAgeGhyTG9hZGVyXy5sb2FkKHJlcXVlc3QpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZFBEKCkge1xuICAgICAgICBkZWJ1Z18ubG9nKCcrYWRkUEQsIHBkQ29udGVudDogJyArIHN0cmVhbUluZm9fLmFjdGl2ZVN0cmVhbS5wZFJlcCk7XG4gICAgICAgIGxldCB1cmwgPSBzdHJlYW1JbmZvXy5hY3RpdmVTdHJlYW0ucGRSZXAubWVkaWE7XG5cbiAgICAgICAgbWVkaWFfLnNyYyA9IHVybDtcbiAgICB9XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8g5pON5L2cQVBJXG4gICAgZnVuY3Rpb24gb24odHlwZSwgbGlzdGVuZXIsIHNjb3BlKSB7XG4gICAgICAgIGV2ZW50QnVzXy5vbih0eXBlLCBsaXN0ZW5lciwgc2NvcGUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9mZih0eXBlLCBsaXN0ZW5lciwgc2NvcGUpIHtcbiAgICAgICAgZXZlbnRCdXNfLm9mZih0eXBlLCBsaXN0ZW5lciwgc2NvcGUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgICAgIGlmIChhZHNFbmdpbmVfICYmIGFkc0VuZ2luZV8uaXNQbGF5aW5nQWQoKSAmJiBhZHNFbmdpbmVfLmlzTGluZWFyQWQoKSkge1xuICAgICAgICAgICAgYWRzRW5naW5lXy5wbGF5KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIW1lZGlhRW5naW5lXykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lZGlhRW5naW5lXy5wbGF5KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICAgICAgaWYgKGFkc0VuZ2luZV8gJiYgYWRzRW5naW5lXy5pc1BsYXlpbmdBZCgpICYmIGFkc0VuZ2luZV8uaXNMaW5lYXJBZCgpKSB7XG4gICAgICAgICAgICBhZHNFbmdpbmVfLnBhdXNlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIW1lZGlhRW5naW5lXykgeyByZXR1cm47IH1cbiAgICAgICAgICAgIG1lZGlhRW5naW5lXy5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNQYXVzZWQoKSB7XG4gICAgICAgIGlmIChhZHNFbmdpbmVfICYmIGFkc0VuZ2luZV8uaXNQbGF5aW5nQWQoKSAmJiBhZHNFbmdpbmVfLmlzTGluZWFyQWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGFkc0VuZ2luZV8uaXNQYXVzZWQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghbWVkaWFFbmdpbmVfKSB7IHJldHVybjsgfVxuICAgICAgICAgICAgcmV0dXJuIG1lZGlhRW5naW5lXy5pc1BhdXNlZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0UG9zaXRpb24oKSB7XG4gICAgICAgIGlmIChhZHNFbmdpbmVfICYmIGFkc0VuZ2luZV8uaXNQbGF5aW5nQWQoKSAmJiBhZHNFbmdpbmVfLmlzTGluZWFyQWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGFkc0VuZ2luZV8uZ2V0UG9zaXRpb24oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghbWVkaWFFbmdpbmVfKSB7IHJldHVybjsgfVxuICAgICAgICAgICAgcmV0dXJuIG1lZGlhRW5naW5lXy5nZXRQb3NpdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RHVyYXRpb24oKSB7XG4gICAgICAgIGlmIChhZHNFbmdpbmVfICYmIGFkc0VuZ2luZV8uaXNQbGF5aW5nQWQoKSAmJiBhZHNFbmdpbmVfLmlzTGluZWFyQWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGFkc0VuZ2luZV8uZ2V0RHVyYXRpb24oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghbWVkaWFFbmdpbmVfKSB7IHJldHVybjsgfVxuICAgICAgICAgICAgcmV0dXJuIG1lZGlhRW5naW5lXy5nZXREdXJhdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIGlzRW5kZWQoKSB7XG4gICAgICAgIGlmIChhZHNFbmdpbmVfICYmIGFkc0VuZ2luZV8uaXNQbGF5aW5nQWQoKSAmJiBhZHNFbmdpbmVfLmlzTGluZWFyQWQoKSkge1xuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIW1lZGlhRW5naW5lXykgeyByZXR1cm47IH1cbiAgICAgICAgICAgIHJldHVybiBtZWRpYUVuZ2luZV8uaXNFbmRlZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbXV0ZSgpIHtcbiAgICAgICAgaWYgKGFkc0VuZ2luZV8gJiYgYWRzRW5naW5lXy5pc1BsYXlpbmdBZCgpICYmIGFkc0VuZ2luZV8uaXNMaW5lYXJBZCgpKSB7XG4gICAgICAgICAgICBhZHNFbmdpbmVfLm11dGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghbWVkaWFFbmdpbmVfKSB7IHJldHVybjsgfVxuICAgICAgICAgICAgbWVkaWFFbmdpbmVfLm11dGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVubXV0ZSgpIHtcbiAgICAgICAgaWYgKGFkc0VuZ2luZV8gJiYgYWRzRW5naW5lXy5pc1BsYXlpbmdBZCgpICYmIGFkc0VuZ2luZV8uaXNMaW5lYXJBZCgpKSB7XG4gICAgICAgICAgICBhZHNFbmdpbmVfLnVubXV0ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFtZWRpYUVuZ2luZV8pIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICBtZWRpYUVuZ2luZV8udW5tdXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc011dGVkKCkge1xuICAgICAgICBpZiAoYWRzRW5naW5lXyAmJiBhZHNFbmdpbmVfLmlzUGxheWluZ0FkKCkgJiYgYWRzRW5naW5lXy5pc0xpbmVhckFkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBhZHNFbmdpbmVfLmlzTXV0ZWQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghbWVkaWFFbmdpbmVfKSB7IHJldHVybjsgfVxuICAgICAgICAgICAgcmV0dXJuIG1lZGlhRW5naW5lXy5pc011dGVkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRWb2x1bWUodm9sdW1lKSB7XG4gICAgICAgIGlmIChhZHNFbmdpbmVfICYmIGFkc0VuZ2luZV8uaXNQbGF5aW5nQWQoKSAmJiBhZHNFbmdpbmVfLmlzTGluZWFyQWQoKSkge1xuICAgICAgICAgICAgYWRzRW5naW5lXy5zZXRWb2x1bWUodm9sdW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghbWVkaWFFbmdpbmVfKSB7IHJldHVybjsgfVxuICAgICAgICAgICAgbWVkaWFFbmdpbmVfLnNldFZvbHVtZSh2b2x1bWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Vm9sdW1lKCkge1xuICAgICAgICBpZiAoIW1lZGlhRW5naW5lXykgeyByZXR1cm47IH1cblxuICAgICAgICByZXR1cm4gbWVkaWFFbmdpbmVfLmdldFZvbHVtZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldFBvc2l0aW9uKHRpbWUpIHtcbiAgICAgICAgbWVkaWFFbmdpbmVfLnNldFBvc2l0aW9uKHRpbWUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFdpZHRoKCkge1xuICAgICAgICByZXR1cm4gbWVkaWFFbmdpbmVfLnZpZGVvV2lkdGgoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiBtZWRpYUVuZ2luZV8udmlkZW9IZWlnaHQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNpemUod2lkdGgsIGhlaWdodCkge1xuICAgICAgICBpZiAoYWRzRW5naW5lXykge1xuICAgICAgICAgICAgYWRzRW5naW5lXy5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwbGF5QWQoKSB7XG4gICAgICAgIGlmIChhZHNFbmdpbmVfKSB7XG4gICAgICAgICAgICBhZHNFbmdpbmVfLnBsYXlBZCgpO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0Z1bGxzY3JlZW4oKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCB8fFxuICAgICAgICBkb2N1bWVudC5tc0Z1bGxzY3JlZW5FbGVtZW50IHx8XG4gICAgICAgIGRvY3VtZW50Lm1vekZ1bGxTY3JlZW4gfHxcbiAgICAgICAgZG9jdW1lbnQud2Via2l0SXNGdWxsU2NyZWVuO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFZhbGlkQnVmZmVyUG9zaXRpb24oY3VycmVudFBvcykge1xuICAgICAgICByZXR1cm4gbWVkaWFFbmdpbmVfLmdldFZhbGlkQnVmZmVyUG9zaXRpb24oY3VycmVudFBvcyk7XG4gICAgfVxuXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gQmVnaW4gLSBUZXh0RW5naW5lXG4gICAgZnVuY3Rpb24gYWRkVGV4dFRyYWNrKCkge1xuICAgICAgICB0ZXh0RW5naW5lXy5hZGRUZXh0VHJhY2soKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcmVtb3ZlVGV4dFRyYWNrKCkge307XG5cbiAgICBmdW5jdGlvbiBzZXRUZXh0VHJhY2tIaWRkZW4oKSB7XG4gICAgICAgIHRleHRFbmdpbmVfLnNldFRleHRUcmFja0hpZGRlbigpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBzZXRDdWVBbGlnbihhbGlnbikge1xuICAgICAgICB0ZXh0RW5naW5lXy5zZXRDdWVBbGlnbihhbGlnbik7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHNldEN1ZUxpbmUobGluZSkge1xuICAgICAgICB0ZXh0RW5naW5lXy5zZXRDdWVMaW5lKGxpbmUpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBzZXRDdWVMaW5lQWxpZ24obGluZUFsaWduKSB7XG4gICAgICAgIHRleHRFbmdpbmVfLnNldEN1ZUxpbmVBbGlnbihsaW5lQWxpZ24pO1xuICAgIH07XG4gICAgLy8gRW5kIC0gVGV4dEVuZ2luZVxuXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gcHJpdmF0ZSBmdW5jdGlvbnNcbiAgICBmdW5jdGlvbiBpbml0Q29tcG9uZW50KCkge1xuICAgICAgICAvLyBlbmdpbmcgY29tcG9uZW50XG4gICAgICAgIGV2ZW50QnVzXyA9IEV2ZW50QnVzKG9sZG10bikuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgZGVidWdfID0gRGVidWcob2xkbXRuKS5nZXRJbnN0YW5jZSgpO1xuICAgICAgICB4aHJMb2FkZXJfID0gWEhSTG9hZGVyKG9sZG10bikuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgbWVkaWFFbmdpbmVfID0gTWVkaWFFbmdpbmUob2xkbXRuKS5nZXRJbnN0YW5jZShtZWRpYV8sIGNmZ18pO1xuICAgICAgICB0ZXh0RW5naW5lXyA9IG5ldyBUZXh0RW5naW5lKG1lZGlhXyk7XG4gICAgICAgIG1zZUVuZ2luZV8gPSBuZXcgTWVkaWFTb3VyY2VFbmdpbmUoKTtcbiAgICAgICAgZHJtRW5naW5lXyA9IG5ldyBEUk1FbmdpbmUobWVkaWFfKTtcbiAgICAgICAgbWFuaWZlc3RQYXJzZXJfID0gTWFuaWZlc3RQYXJzZXIob2xkbXRuKS5nZXRJbnN0YW5jZSgpO1xuXG4gICAgICAgIGlmIChjZmdfLnBvc3Rlcikge1xuICAgICAgICAgICAgbWVkaWFfLnBvc3RlciA9IGNmZ18ucG9zdGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjZmdfLmFkdmVydGlzaW5nKSB7XG4gICAgICAgICAgICBsZXQgYWRDb250YWluZXIgPSB1aUVuZ2luZV8uZ2V0QWRDb250YWluZXIoKTtcbiAgICAgICAgICAgIGFkc0VuZ2luZV8gPSBuZXcgQWRzRW5naW5lKGFkQ29udGFpbmVyLCBtZWRpYV8sIGNmZ18uYWR2ZXJ0aXNpbmcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdERhdGEoKSB7XG4gICAgICAgIGF1ZGlvSW5kZXhfID0gMDtcbiAgICAgICAgdmlkZW9JbmRleF8gPSAwO1xuICAgICAgICBzdHJlYW1JbmZvXyA9IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIGV2ZW50QnVzXy5vbihvbGRtdG4uRXZlbnRzLk1TRV9PUEVORUQsIG9uTVNFT3BlbmVkLCB7fSk7XG5cbiAgICAgICAgZXZlbnRCdXNfLm9uKG9sZG10bi5FdmVudHMuQURfQ09NUExFVEUsIG9uQWRDb21wbGV0ZSwge30pO1xuICAgICAgICBldmVudEJ1c18ub24ob2xkbXRuLkV2ZW50cy5BRF9DT05URU5UX1BBVVNFX1JFUVVFU1RFRCwgb25BZENvbnRlbnRQYXVzZVJlcXVlc3RlZCwge30pO1xuICAgICAgICBldmVudEJ1c18ub24ob2xkbXRuLkV2ZW50cy5BRF9DT05URU5UX1JFU1VNRV9SRVFVRVNURUQsIG9uQWRDb250ZW50UmVzdW1lUmVxdWVzdGVkLCB7fSk7XG4gICAgICAgIGV2ZW50QnVzXy5vbihvbGRtdG4uRXZlbnRzLkFEX1NUQVJURUQsIG9uQWRTdGFydGVkLCB7fSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkUmVzaXplTGlzdGVuZXIoKSB7XG4gICAgICAgIC8vIGZ1bGxzY3JlZW4gbGlzdGVuZXJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImZ1bGxzY3JlZW5jaGFuZ2VcIiwgb25GdWxsU2NyZWVuQ2hhbmdlKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vemZ1bGxzY3JlZW5jaGFuZ2VcIiwgb25GdWxsU2NyZWVuQ2hhbmdlKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIiwgb25GdWxsU2NyZWVuQ2hhbmdlKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1zZnVsbHNjcmVlbmNoYW5nZVwiLCBvbkZ1bGxTY3JlZW5DaGFuZ2UpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiTVNGdWxsc2NyZWVuQ2hhbmdlXCIsIG9uRnVsbFNjcmVlbkNoYW5nZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25GdWxsU2NyZWVuQ2hhbmdlKCkge1xuICAgICAgICAvLyB3ZSBzaG91bGQgbm90IHJlbHkgb24gY2xpZW50V2lkdGggb3IgY2xpZW50SGVpZ2h0IHRvIHNldCBhZCBtZXRyaWNzIHdoZW4gZnVsbHNjcmVlbiBjaGFuZ2UgZXZlbnQgdHJpZ2dlcmVkLlxuICAgICAgICBldmVudEJ1c18udHJpZ2dlcihvbGRtdG4uRXZlbnRzLkZVTExTQ1JFRU5fQ0hBTkdFKTtcbiAgICB9XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBCZWdpbiAtLSBpbnRlcm5hbCBldmVudHMgbGlzdGVuZXIgZnVuY3Rpb25zXG4gICAgZnVuY3Rpb24gb25NU0VPcGVuZWQoKSB7XG4gICAgICAgIG1lZGlhRW5naW5lXy5yZXZva2VTcmMoKTtcblxuICAgICAgICAvLyBEZXRlY3RpbmcgYXV0b3BsYXkgc3VjY2VzcyBvciBmYWlsdXJlXG4gICAgICAgIC8vbWVkaWFFbmdpbmVfLmRldGVjdEF1dG9wbGF5KCk7XG5cbiAgICAgICAgLy9cbiAgICAgICAgc2NoZWR1bGVDdHJsXyA9IFNjaGVkdWxlQ29udHJvbGxlcihvbGRtdG4pLmdldEluc3RhbmNlKCk7XG4gICAgICAgIHNjaGVkdWxlQ3RybF8uc3RhcnQocGFyc2VyXyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25BZENvbnRlbnRQYXVzZVJlcXVlc3RlZCgpIHtcbiAgICAgICAgbWVkaWFFbmdpbmVfLnBhdXNlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25BZENvbnRlbnRSZXN1bWVSZXF1ZXN0ZWQoKSB7XG4gICAgICAgIGlmICghbWVkaWFFbmdpbmVfLmlzRW5kZWQoKSkge1xuICAgICAgICAgICAgbWVkaWFFbmdpbmVfLnBsYXkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uQWRTdGFydGVkKCkge1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uQWRDb21wbGV0ZSgpIHt9XG4gICAgLy8gRW5kIC0tIGludGVybmFsIGV2ZW50cyBsaXN0ZW5lciBmdW5jdGlvbnNcblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIC8vZnVuY3Rpb24gb25UZXN0TXNnKCkge1xuICAgIGZ1bmN0aW9uIG9uVGVzdE1zZygpIHtcbiAgICAgICBjb25zb2xlLmxvZygnK29uVGVzdE1zZycpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3QoKSB7XG4gICAgICAgIGxldCBtZWRpYSA9IG1lZGlhXztcblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRlc3QyKCkge1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGF0dHJpYnV0ZSgpIHtcbiAgICAgICAgbGV0IG1lZGlhID0gbWVkaWFfO1xuICAgICAgICBkZWJ1Z18ubG9nKGBtZWRpYS5idWZmZXJlZCA6ICR7VGltZVJhbmdlcy50b1N0cmluZyhtZWRpYS5idWZmZXJlZCl9YCk7XG4gICAgICAgIGRlYnVnXy5sb2coYG1lZGlhLnNlZWthYmxlOiAke1RpbWVSYW5nZXMudG9TdHJpbmcobWVkaWEuc2Vla2FibGUpfWApO1xuXG4gICAgICAgIG1zZUVuZ2luZV8uc2V0RHVyYXRpb24oMjAwKTtcblxuICAgICAgICBsZXQgYSA9IDI7XG4gICAgICAgIGxldCBiID0gYTtcbiAgICB9XG5cbiAgICBsZXQgaW5zdGFuY2UgPSB7XG4gICAgICAgIGluaXQ6IGluaXQsXG4gICAgICAgIG9wZW46IG9wZW4sXG4gICAgICAgIGNsb3NlOiBjbG9zZSxcbiAgICAgICAgYWRkQTogYWRkQSxcbiAgICAgICAgYWRkVjogYWRkVixcbiAgICAgICAgYWRkUEQ6IGFkZFBELFxuICAgICAgICBvbjogb24sXG4gICAgICAgIG9mZjogb2ZmLFxuICAgICAgICBwbGF5OiBwbGF5LFxuICAgICAgICBwYXVzZTogcGF1c2UsXG4gICAgICAgIGlzUGF1c2VkOiBpc1BhdXNlZCxcbiAgICAgICAgZ2V0UG9zaXRpb246IGdldFBvc2l0aW9uLFxuICAgICAgICBzZXRQb3NpdGlvbjogc2V0UG9zaXRpb24sXG4gICAgICAgIGdldER1cmF0aW9uOiBnZXREdXJhdGlvbixcbiAgICAgICAgaXNFbmRlZDogaXNFbmRlZCxcbiAgICAgICAgbXV0ZTogbXV0ZSxcbiAgICAgICAgdW5tdXRlOiB1bm11dGUsXG4gICAgICAgIGlzTXV0ZWQ6IGlzTXV0ZWQsXG4gICAgICAgIHNldFZvbHVtZTogc2V0Vm9sdW1lLFxuICAgICAgICBnZXRWb2x1bWU6IGdldFZvbHVtZSxcbiAgICAgICAgLy8gUmVzaXplXG4gICAgICAgIGdldFdpZHRoOiBnZXRXaWR0aCxcbiAgICAgICAgZ2V0SGVpZ2h0OiBnZXRIZWlnaHQsXG4gICAgICAgIHJlc2l6ZTogcmVzaXplLFxuICAgICAgICBpc0Z1bGxzY3JlZW46IGlzRnVsbHNjcmVlbixcbiAgICAgICAgLy8gYnVmZmVyXG4gICAgICAgIGdldFZhbGlkQnVmZmVyUG9zaXRpb246IGdldFZhbGlkQnVmZmVyUG9zaXRpb24sXG4gICAgICAgIC8vIEFkc1xuICAgICAgICBwbGF5QWQ6IHBsYXlBZCxcbiAgICAgICAgLy9cbiAgICAgICAgdGVzdDogdGVzdCxcbiAgICAgICAgdGVzdDI6IHRlc3QyXG4gICAgfTtcbiAgICBcbiAgICBzZXR1cCgpO1xuICAgIFxuICAgIHJldHVybiBpbnN0YW5jZTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFBsYXllcjtcblxuXG4iLCJpbXBvcnQgRmFjdG9yeU1ha2VyIGZyb20gJy4vY29yZS9GYWN0b3J5TWFrZXInO1xuaW1wb3J0IEV2ZW50QnVzIGZyb20gJy4vY29yZS9FdmVudEJ1cyc7XG5pbXBvcnQgRXZlbnRzIGZyb20gJy4vY29yZS9Db3JlRXZlbnRzJztcbmltcG9ydCBEZWJ1ZyBmcm9tICcuL2NvcmUvRGVidWcnO1xuaW1wb3J0IFRpbWVSYW5nZXMgZnJvbSAnLi91dGlscy90aW1lUmFuZ2VzJztcblxuZnVuY3Rpb24gU291cmNlQnVmZmVyV3JhcHBlcihyZXApIHtcbiAgbGV0IHJlcF8gPSByZXA7XG4gIGxldCBtZWRpYV8gPSBudWxsO1xuICBsZXQgbWVkaWFTcmNfID0gbnVsbDtcbiAgbGV0IHNyY0J1ZmZlcl8gPSBudWxsO1xuICBsZXQgZXZlbnRCdXNfID0gRXZlbnRCdXMob2xkbXRuKS5nZXRJbnN0YW5jZSgpO1xuICBsZXQgZGVidWdfID0gRGVidWcob2xkbXRuKS5nZXRJbnN0YW5jZSgpO1xuXG4gIGZ1bmN0aW9uIHNldHVwKCkge1xuICB9XG5cbiAgZnVuY3Rpb24gb3BlbihtZWRpYVNvdXJjZSkge1xuICAgIG1lZGlhU3JjXyA9IG1lZGlhU291cmNlO1xuXG4gICAgc3JjQnVmZmVyXyA9IG1lZGlhU291cmNlLmFkZFNvdXJjZUJ1ZmZlcihyZXBfLmNvZGVjcyk7XG5cbiAgICBzcmNCdWZmZXJfLmFkZEV2ZW50TGlzdGVuZXIoJ3VwZGF0ZXN0YXJ0Jywgc291cmNlQnVmZmVyX3VwZGF0ZXN0YXJ0KTtcbiAgICBzcmNCdWZmZXJfLmFkZEV2ZW50TGlzdGVuZXIoJ3VwZGF0ZScsIHNvdXJjZUJ1ZmZlcl91cGRhdGUpO1xuICAgIHNyY0J1ZmZlcl8uYWRkRXZlbnRMaXN0ZW5lcigndXBkYXRlZW5kJywgc291cmNlQnVmZmVyX3VwZGF0ZWVuZCk7XG4gICAgc3JjQnVmZmVyXy5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHNvdXJjZUJ1ZmZlcl9lcnJvcik7XG4gICAgc3JjQnVmZmVyXy5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIHNvdXJjZUJ1ZmZlcl9hYm9ydCk7XG5cbiAgICByZXR1cm4gc3JjQnVmZmVyXztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgIHRyeSB7XG4gICAgICBzcmNCdWZmZXJfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3VwZGF0ZXN0YXJ0Jywgc291cmNlQnVmZmVyX3VwZGF0ZXN0YXJ0KTtcbiAgICAgIHNyY0J1ZmZlcl8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigndXBkYXRlJywgc291cmNlQnVmZmVyX3VwZGF0ZSk7XG4gICAgICBzcmNCdWZmZXJfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3VwZGF0ZWVuZCcsIHNvdXJjZUJ1ZmZlcl91cGRhdGVlbmQpO1xuICAgICAgc3JjQnVmZmVyXy5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHNvdXJjZUJ1ZmZlcl9lcnJvcik7XG4gICAgICBzcmNCdWZmZXJfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgc291cmNlQnVmZmVyX2Fib3J0KTtcblxuICAgICAgbWVkaWFTcmNfLnJlbW92ZVNvdXJjZUJ1ZmZlcihzcmNCdWZmZXJfKTtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgZGVidWdfLmxvZyhgQ2F1Z2h0IGV4Y2VwdGlvbiB3aGVuIHJlbW92ZSBzYiBldmVudCBsaXN0ZW5lcmApO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFwcGVuZEJ1ZmZlcihidWZmZXIpIHtcbiAgICB3YWl0Rm9yVXBkYXRlRW5kKGJ1ZmZlciwgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoc3JjQnVmZmVyXykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHNyY0J1ZmZlcl8uYXBwZW5kQnVmZmVyKGJ1ZmZlcik7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGRlYnVnXy5sb2coYGVycm9yIHdoaWxlIHRyeWluZyB0byBhcHBlbmQgYnVmZmVyOiR7ZXJyLm1lc3NhZ2V9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUJ1ZmZlcigpIHtcbiAgICBkZWJ1Z18ubG9nKCcrc291cmNlQnVmZmVyX3JlbW92ZScpO1xuXG4gICAgbGV0IGJ1ZlN0YXJ0O1xuICAgIGxldCBidWZFbmQ7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcmNCdWZmZXJfLmJ1ZmZlcmVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBidWZTdGFydCA9IHNyY0J1ZmZlcl8uYnVmZmVyZWQuc3RhcnQoaSk7XG4gICAgICBidWZFbmQgPSBzcmNCdWZmZXJfLmJ1ZmZlcmVkLmVuZChpKTtcblxuICAgICAgc3JjQnVmZmVyXy5yZW1vdmUoYnVmU3RhcnQsIGJ1ZkVuZCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc291cmNlQnVmZmVyX3VwZGF0ZXN0YXJ0KCkge1xuICAgIC8vZGVidWdfLmxvZygnLS1zb3VyY2VCdWZmZXJfdXBkYXRlc3RhcnQtLScpO1xuICB9XG5cbiAgZnVuY3Rpb24gc291cmNlQnVmZmVyX3VwZGF0ZSgpIHtcbiAgICAvL2RlYnVnXy5sb2coJy0tc291cmNlQnVmZmVyX3VwZGF0ZS0tJyk7XG4gIH1cblxuICBmdW5jdGlvbiBzb3VyY2VCdWZmZXJfdXBkYXRlZW5kKCkge1xuICAgIC8vIGRlYnVnXy5sb2coJy0tc291cmNlQnVmZmVyX3VwZGF0ZWVuZC0tLCBjbGllbnRXaWR0aDogJyArIG1lZGlhXy5jbGllbnRXaWR0aCArICcsIGNsaWVudEhlaWdodDogJyArIG1lZGlhXy5jbGllbnRIZWlnaHQpO1xuICAgIC8vIGRlYnVnXy5sb2coJy0tc291cmNlQnVmZmVyX3VwZGF0ZWVuZC0tLCB3aWR0aDogJyArIG1lZGlhXy53aWR0aCArICcsIGhlaWdodDogJyArIG1lZGlhXy5oZWlnaHQpO1xuICAgIC8vIGRlYnVnXy5sb2coJy0tc291cmNlQnVmZmVyX3VwZGF0ZWVuZC0tLCB2aWRlb1dpZHRoOiAnICsgbWVkaWFfLnZpZGVvV2lkdGggKyAnLCB2aWRlb0hlaWdodDogJyArIG1lZGlhXy52aWRlb0hlaWdodCk7XG5cbiAgICAvL1xuICAgIC8vZGVidWdfLmxvZyhgbWFpbiBidWZmZXJlZCA6ICR7VGltZVJhbmdlcy50b1N0cmluZyhtZWRpYV8uYnVmZmVyZWQpfWAgKyAnLCBjdXJyZW50VGltZTogJyArIG1lZGlhXy5jdXJyZW50VGltZSk7XG5cbiAgICAvLyBCRFxuICAgIC8vaWYgKHJlcF8udHlwZSA9PT0gJ2F1ZGlvJylcbiAgICB7XG4gICAgICBkZWJ1Z18ubG9nKGBOYXRpdmUsICR7cmVwXy50eXBlfSBidWZmZXJlZCA6ICR7VGltZVJhbmdlcy50b1N0cmluZyhzcmNCdWZmZXJfLmJ1ZmZlcmVkKX1gKTtcbiAgICB9XG4gICAgLy8gRURcbiAgICBldmVudEJ1c18udHJpZ2dlcihFdmVudHMuU0JfVVBEQVRFX0VOREVELCB7fSk7XG4gIH1cblxuICBmdW5jdGlvbiBzb3VyY2VCdWZmZXJfZXJyb3IoZSkge1xuICAgIGRlYnVnXy5sb2coJytzb3VyY2VCdWZmZXJfZXJyb3InLCBlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNvdXJjZUJ1ZmZlcl9hYm9ydCgpIHtcbiAgICBkZWJ1Z18ubG9nKCcrc291cmNlQnVmZmVyX2Fib3J0Jyk7XG4gIH1cblxuICBmdW5jdGlvbiB3YWl0Rm9yVXBkYXRlRW5kKGJ1ZmZlciwgY2FsbGJhY2spIHtcbiAgICBpZiAoIXNyY0J1ZmZlcl8udXBkYXRpbmcpIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB1cGRhdGVFbmRIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBzcmNCdWZmZXJfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3VwZGF0ZWVuZCcsIHVwZGF0ZUVuZEhhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9O1xuICAgIHNyY0J1ZmZlcl8uYWRkRXZlbnRMaXN0ZW5lcigndXBkYXRlZW5kJywgdXBkYXRlRW5kSGFuZGxlciwgZmFsc2UpO1xuICB9XG5cbiAgbGV0IGluc3RhbmNlID0ge1xuICAgIG9wZW46IG9wZW4sXG4gICAgY2xvc2U6IGNsb3NlLFxuICAgIGFwcGVuZEJ1ZmZlcjogYXBwZW5kQnVmZmVyLFxuICAgIHJlbW92ZUJ1ZmZlcjogcmVtb3ZlQnVmZmVyXG4gIH07XG4gIHNldHVwKCk7XG4gIHJldHVybiBpbnN0YW5jZTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNvdXJjZUJ1ZmZlcldyYXBwZXI7XG5cblxuIiwi77u/J3VzZSBzdHJpY3QnXHJcblxyXG5pbXBvcnQgRmFjdG9yeU1ha2VyIGZyb20gJy4vY29yZS9GYWN0b3J5TWFrZXIuanMnO1xyXG5pbXBvcnQgRXZlbnRCdXMgZnJvbSAnLi9jb3JlL0V2ZW50QnVzJztcclxuXHJcbmltcG9ydCBWVFRQYXJzZXIgZnJvbSAnLi90ZXN0L1ZUVFBhcnNlci5qcyc7XHJcbmltcG9ydCBUVE1MUGFyc2VyIGZyb20gJy4vdGVzdC9UVE1MUGFyc2VyLmpzJztcclxuXHJcbmltcG9ydCB7IHRlc3RfY2VhNjA4IH0gZnJvbSAnLi90ZXN0L3Rlc3RjYyc7XHJcbmltcG9ydCBEZWNyeXB0ZXIgZnJvbSAnLi9jcnlwdC9kZWNyeXB0ZXInO1xyXG5cclxuaW1wb3J0IGNvbW1vblV0aWwgZnJvbSAnLi91dGlscy9jb21tb25fdXRpbHMnXHJcblxyXG5pbXBvcnQgWEhSTG9hZGVyIGZyb20gJy4vdXRpbHMveGhyX2xvYWRlcic7XHJcblxyXG5pbXBvcnQgc2F2ZUFzIGZyb20gJy4vVXRpbHMvRmlsZVNhdmVyLmpzJztcclxudmFyIG15U2F2ZUFzID0gc2F2ZUFzO1xyXG5cclxudmFyIGNvbnRleHQgPSB3aW5kb3c7XHJcblxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbmZ1bmN0aW9uIFRlc3RGZWF0dXJlKCkge1xyXG4gIGxldCBjb250ZXh0XyA9IHRoaXMuY29udGV4dDtcclxuICBsZXQgaW5zdGFuY2U7XHJcbiAgbGV0IHhockxvYWRlcjtcclxuXHJcbiAgZnVuY3Rpb24gc2V0dXAoKSB7XHJcbiAgICB4aHJMb2FkZXIgPSBYSFJMb2FkZXIoY29udGV4dF8pLmNyZWF0ZSgpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gb24xMDAxQ29tcGxldGVkKCkge1xyXG4gICAgY29uc29sZS5kZWJ1ZygnLS1vbjEwMDFDb21wbGV0ZWQtLScpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gb24xMDAxQ29tcGxldGVkMigpIHtcclxuICAgIGNvbnNvbGUuZGVidWcoJy0tb24xMDAxQ29tcGxldGVkMi0tJyk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB0ZXN0RXZlbnQoKSB7XHJcbiAgICBjb25zdCBldmVudEJ1cyA9IEV2ZW50QnVzKGNvbnRleHQpLmdldEluc3RhbmNlKCk7XHJcblxyXG4gICAgZXZlbnRCdXMub24oMTAwMSwgb24xMDAxQ29tcGxldGVkLCBpbnN0YW5jZSk7XHJcbiAgICBldmVudEJ1cy5vbigxMDAxLCBvbjEwMDFDb21wbGV0ZWQyLCBpbnN0YW5jZSk7XHJcblxyXG4gICAgZXZlbnRCdXMudHJpZ2dlcigxMDAxLCB7fSk7XHJcbiAgICBldmVudEJ1cy5vZmYoMTAwMSwgb24xMDAxQ29tcGxldGVkLCBpbnN0YW5jZSk7XHJcbiAgICBldmVudEJ1cy5vZmYoMTAwMSwgb24xMDAxQ29tcGxldGVkMiwgaW5zdGFuY2UpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gdGVzdEZvckVhY2goKSB7XHJcbiAgICB2YXIgYXJyMDEgPSBbXTtcclxuICAgIGFycjAxLnB1c2goJ2FhYScpO1xyXG4gICAgYXJyMDEucHVzaCgnYmJiYicpO1xyXG4gICAgYXJyMDEucHVzaCgnYycpO1xyXG4gICAgYXJyMDEucHVzaCgnZGQnKTtcclxuICAgICAgICAgIFxyXG4gICAgYXJyMDEuZm9yRWFjaCgoZWxlKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUuZGVidWcoZWxlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gdGVzdDEoKSB7XHJcbiAgICBjb25zb2xlLmxvZygnYmVnaW4gdGVzdDEtLScpO1xyXG4gICAgLy9jb21tb25VdGlsLnRlc3QxKCcyMTMxMzEzJyk7XHJcbiAgICBjb21tb25VdGlsLnRlc3QxKCk7XHJcbiAgICBjb25zb2xlLmxvZygnZW5kIHRlc3QxLS0nKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHRlc3RfcmVhZGZpbGUoKSB7XHJcbiAgICAgICAgXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB0ZXN0X3Z0dCgpIHtcclxuICAgIGNvbnNvbGUuZGVidWcoJ3Rlc3RfdnR0IHdhcyBjYWxsZWQgaGVyZS4nKTtcclxuXHJcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICB2YXIgcGFyc2VyID0gVlRUUGFyc2VyKGNvbnRleHQpLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAgdmFyIGNhcHRpb25BcnJheSA9IHBhcnNlci5wYXJzZSh0aGlzLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgY2FwdGlvbkFycmF5Lmxlbmd0aDsgaSArKykge1xyXG4gICAgICAgICAgY29uc29sZS5kZWJ1ZygnWycgKyBjYXB0aW9uQXJyYXlbaV0uc3RhcnQgKyAnLCcgKyBjYXB0aW9uQXJyYXlbaV0uZW5kICsgJ10gJyArIGNhcHRpb25BcnJheVtpXS5kYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgeGhyLm9wZW4oXCJHRVRcIiwgXCJodHRwOi8vbG9jYWxob3N0L3RtcC9maWxlU2VxdWVuY2UwLndlYnZ0dFwiLCB0cnVlKTtcclxuICAgIHhoci5zZW5kKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgZnVuY3Rpb24gdGVzdF90dG1sKCkge1xyXG4gICAgY29uc29sZS5kZWJ1ZygndGVzdF90dG1sIHdhcyBjYWxsZWQgaGVyZS4nKTtcclxuXHJcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBpZiAodGhpcy5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgICAgdmFyIHBhcnNlciA9IFRUTUxQYXJzZXIoY29udGV4dCkuZ2V0SW5zdGFuY2UoKTtcclxuICAgICAgICBwYXJzZXIucGFyc2UodGhpcy5yZXNwb25zZVRleHQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHhoci5vcGVuKFwiR0VUXCIsIFwiaHR0cDovL2xvY2FsaG9zdC90bXAvc3ViX2VuZ19zaG9ydC54bWxcIiwgdHJ1ZSk7XHJcbiAgICB4aHIuc2VuZCgpO1xyXG4gIH1cclxuXHJcbiAgdmFyIGluZGV4ID0gMDtcclxuICBmdW5jdGlvbiB0ZXN0X2FlczEyOCgpIHtcclxuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xyXG5cclxuICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmICh0aGlzLnN0YXR1cyA9PSAyMDApIHtcclxuXHJcbiAgICAgICAgLy8gXHJcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLnJlc3BvbnNlO1xyXG5cclxuICAgICAgICB2YXIgZGVjcnlwdGVyID0gbmV3IERlY3J5cHRlcih7ZW5hYmxlU29mdHdhcmVBRVM6IHRydWV9KTtcclxuICAgICAgICB2YXIga2V5ID0gWzB4RjUsIDB4NzEsIDB4QkYsIDB4RUMsIDB4RkQsIDB4MUEsIDB4QjksIDB4QUQsIDB4QjAsIDB4NUMsIDB4RTYsIDB4RkEsIDB4MDMsIDB4MEUsIDB4RkQsIDB4ODFdO1xyXG4gICAgICAgIHZhciBrZXlfdTggPSBuZXcgVWludDhBcnJheShrZXkpO1xyXG4gICAgICAgIHZhciBrZXlfYnVmZmVyID0ga2V5X3U4LmJ1ZmZlcjtcclxuICAgICAgICB2YXIgaXYgPSAgWzB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDBdO1xyXG4gICAgICAgIHZhciBpdl91OCA9IG5ldyBVaW50OEFycmF5KGl2KTtcclxuICAgICAgICB2YXIgaXZfYnVmZmVyID0gaXZfdTguYnVmZmVyO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGRlY3J5cHRlci5kZWNyeXB0KGRhdGEsIGtleV9idWZmZXIsIGl2X2J1ZmZlciwgZnVuY3Rpb24gKGRlY3J5cHRlZERhdGEpIHtcclxuICAgICAgICAgIC8vdmFyIGVuZFRpbWU7XHJcbiAgICAgICAgICAvL3RyeSB7XHJcbiAgICAgICAgICAvLyAgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgICAgICAgLy99IGNhdGNoKGVycm9yKSB7XHJcbiAgICAgICAgICAvLyAgZW5kVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAvL31cclxuICAgICAgICAgIC8vbG9jYWx0aGlzLm9ic2VydmVyLnRyaWdnZXIoRXZlbnQuRlJBR19ERUNSWVBURUQsIHsgc3RhdHM6IHsgdHN0YXJ0OiBzdGFydFRpbWUsIHRkZWNyeXB0OiBlbmRUaW1lIH0gfSk7XHJcbiAgICAgICAgICAvL2xvY2FsdGhpcy5wdXNoRGVjcnlwdGVkKG5ldyBVaW50OEFycmF5KGRlY3J5cHRlZERhdGEpLCBkZWNyeXB0ZGF0YSwgbmV3IFVpbnQ4QXJyYXkoaW5pdFNlZ21lbnQpLCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCB0aW1lT2Zmc2V0LCBkaXNjb250aW51aXR5LCB0cmFja1N3aXRjaCwgY29udGlndW91cywgZHVyYXRpb24sIGFjY3VyYXRlVGltZU9mZnNldCxkZWZhdWx0SW5pdFBUUyk7XHJcblxyXG4gICAgICAgICAgLy8gc2F2ZSB0cyB0byBsb2NhbFxyXG4gICAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoZGVjcnlwdGVkRGF0YSldLCB7dHlwZTogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSd9KTtcclxuICAgICAgICAgIHZhciBmaWxlTmFtZSA9IGluZGV4LnRvU3RyaW5nKCkgKyAnLnRzJztcclxuICAgICAgICAgIG15U2F2ZUFzLnNhdmVBcyhibG9iLCBmaWxlTmFtZSk7XHJcbiAgICAgICAgICBpbmRleCArKztcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB4aHIub3BlbihcIkdFVFwiLCBcImh0dHA6Ly9sb2NhbGhvc3QvMi9teWhscy9kcm0vYWVzL29jZWFuc19hZXMtYXVkaW89NjUwMDAtdmlkZW89NTcxMDAwLTEudHNcIiwgdHJ1ZSk7XHJcbiAgICB4aHIuc2VuZCgpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gdGVzdF94aHJsb2FkZXIoKSB7XHJcbiAgICBsZXQgY29udGVudCA9IHt1cmw6ICdodHRwOi8vMTAuMi42OC41MS83L2hscy92MTAvZ2Vhci9nZWFyMS9tYWluLnRzJywgcmFuZ2VTdGFydDogMCwgcmFuZ2VFbmQ6IDMyNjc0NH07XHJcblxyXG4gICAgZnVuY3Rpb24gb25TdWNjZXNzKGJ5dGVzKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCd0ZXN0X3hocmxvYWRlciwgb25TdWNjZXNzLCBieXRlczogJyArIGJ5dGVzLmJ5dGVMZW5ndGgpO1xyXG4gICAgfVxyXG5cclxuICAgIHhockxvYWRlci5sb2FkKGNvbnRlbnQsIG9uU3VjY2Vzcyk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB0ZXN0X2hsc3BhcnNlcigpIHtcclxuICAgIFxyXG4gIH1cclxuXHJcbiAgaW5zdGFuY2UgPSB7XHJcbiAgICB0ZXN0MTogdGVzdDEsXHJcbiAgICB0ZXN0X3JlYWRmaWxlOiB0ZXN0X3JlYWRmaWxlLFxyXG4gICAgdGVzdF92dHQ6IHRlc3RfdnR0LFxyXG4gICAgdGVzdF9jZWE2MDg6IHRlc3RfY2VhNjA4LFxyXG4gICAgdGVzdF9hZXMxMjg6IHRlc3RfYWVzMTI4LFxyXG4gICAgdGVzdF94aHJsb2FkZXI6IHRlc3RfeGhybG9hZGVyLFxyXG4gICAgdGVzdF9obHNwYXJzZXI6IHRlc3RfaGxzcGFyc2VyXHJcbiAgfTtcclxuXHJcbiAgc2V0dXAoKTtcclxuICByZXR1cm4gaW5zdGFuY2U7XHJcbn1cclxuXHJcblRlc3RGZWF0dXJlLl9faDVwbGF5ZXJfZmFjdG9yeV9uYW1lID0gJ1Rlc3RGZWF0dXJlJztcclxubGV0IGZhY3RvcnkgPSBGYWN0b3J5TWFrZXIuZ2V0Q2xhc3NGYWN0b3J5KFRlc3RGZWF0dXJlKTtcclxuZXhwb3J0IGRlZmF1bHQgZmFjdG9yeTtcclxuXHJcbiIsIi8qIEZpbGVTYXZlci5qc1xyXG4gKiBBIHNhdmVBcygpIEZpbGVTYXZlciBpbXBsZW1lbnRhdGlvbi5cclxuICogMS4zLjJcclxuICogMjAxNi0wNi0xNiAxODoyNToxOVxyXG4gKlxyXG4gKiBCeSBFbGkgR3JleSwgaHR0cDovL2VsaWdyZXkuY29tXHJcbiAqIExpY2Vuc2U6IE1JVFxyXG4gKiAgIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9GaWxlU2F2ZXIuanMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxyXG4gKi9cclxuXHJcbi8qZ2xvYmFsIHNlbGYgKi9cclxuLypqc2xpbnQgYml0d2lzZTogdHJ1ZSwgaW5kZW50OiA0LCBsYXhicmVhazogdHJ1ZSwgbGF4Y29tbWE6IHRydWUsIHNtYXJ0dGFiczogdHJ1ZSwgcGx1c3BsdXM6IHRydWUgKi9cclxuXHJcbi8qISBAc291cmNlIGh0dHA6Ly9wdXJsLmVsaWdyZXkuY29tL2dpdGh1Yi9GaWxlU2F2ZXIuanMvYmxvYi9tYXN0ZXIvRmlsZVNhdmVyLmpzICovXHJcblxyXG52YXIgc2F2ZUFzID0gc2F2ZUFzIHx8IChmdW5jdGlvbiAodmlldykge1xyXG4gIFwidXNlIHN0cmljdFwiO1xyXG4gIC8vIElFIDwxMCBpcyBleHBsaWNpdGx5IHVuc3VwcG9ydGVkXHJcbiAgaWYgKHR5cGVvZiB2aWV3ID09PSBcInVuZGVmaW5lZFwiIHx8IHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiYgL01TSUUgWzEtOV1cXC4vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgdmFyXHJcbiAgICAgIGRvYyA9IHZpZXcuZG9jdW1lbnRcclxuICAgICAgLy8gb25seSBnZXQgVVJMIHdoZW4gbmVjZXNzYXJ5IGluIGNhc2UgQmxvYi5qcyBoYXNuJ3Qgb3ZlcnJpZGRlbiBpdCB5ZXRcclxuICAgICwgZ2V0X1VSTCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIHZpZXcuVVJMIHx8IHZpZXcud2Via2l0VVJMIHx8IHZpZXc7XHJcbiAgICB9XHJcbiAgICAsIHNhdmVfbGluayA9IGRvYy5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsIFwiYVwiKVxyXG4gICAgLCBjYW5fdXNlX3NhdmVfbGluayA9IFwiZG93bmxvYWRcIiBpbiBzYXZlX2xpbmtcclxuICAgICwgY2xpY2sgPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICB2YXIgZXZlbnQgPSBuZXcgTW91c2VFdmVudChcImNsaWNrXCIpO1xyXG4gICAgICBub2RlLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xyXG4gICAgfVxyXG4gICAgLCBpc19zYWZhcmkgPSAvY29uc3RydWN0b3IvaS50ZXN0KHZpZXcuSFRNTEVsZW1lbnQpIHx8IHZpZXcuc2FmYXJpXHJcbiAgICAsIGlzX2Nocm9tZV9pb3MgPSAvQ3JpT1NcXC9bXFxkXSsvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudClcclxuICAgICwgdGhyb3dfb3V0c2lkZSA9IGZ1bmN0aW9uIChleCkge1xyXG4gICAgICAodmlldy5zZXRJbW1lZGlhdGUgfHwgdmlldy5zZXRUaW1lb3V0KShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhyb3cgZXg7XHJcbiAgICAgIH0sIDApO1xyXG4gICAgfVxyXG4gICAgLCBmb3JjZV9zYXZlYWJsZV90eXBlID0gXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIlxyXG4gICAgLy8gdGhlIEJsb2IgQVBJIGlzIGZ1bmRhbWVudGFsbHkgYnJva2VuIGFzIHRoZXJlIGlzIG5vIFwiZG93bmxvYWRmaW5pc2hlZFwiIGV2ZW50IHRvIHN1YnNjcmliZSB0b1xyXG4gICAgLCBhcmJpdHJhcnlfcmV2b2tlX3RpbWVvdXQgPSAxMDAwICogNDAgLy8gaW4gbXNcclxuICAgICwgcmV2b2tlID0gZnVuY3Rpb24gKGZpbGUpIHtcclxuICAgICAgdmFyIHJldm9rZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmaWxlID09PSBcInN0cmluZ1wiKSB7IC8vIGZpbGUgaXMgYW4gb2JqZWN0IFVSTFxyXG4gICAgICAgICAgZ2V0X1VSTCgpLnJldm9rZU9iamVjdFVSTChmaWxlKTtcclxuICAgICAgICB9IGVsc2UgeyAvLyBmaWxlIGlzIGEgRmlsZVxyXG4gICAgICAgICAgZmlsZS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIHNldFRpbWVvdXQocmV2b2tlciwgYXJiaXRyYXJ5X3Jldm9rZV90aW1lb3V0KTtcclxuICAgIH1cclxuICAgICwgZGlzcGF0Y2ggPSBmdW5jdGlvbiAoZmlsZXNhdmVyLCBldmVudF90eXBlcywgZXZlbnQpIHtcclxuICAgICAgZXZlbnRfdHlwZXMgPSBbXS5jb25jYXQoZXZlbnRfdHlwZXMpO1xyXG4gICAgICB2YXIgaSA9IGV2ZW50X3R5cGVzLmxlbmd0aDtcclxuICAgICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgIHZhciBsaXN0ZW5lciA9IGZpbGVzYXZlcltcIm9uXCIgKyBldmVudF90eXBlc1tpXV07XHJcbiAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsaXN0ZW5lci5jYWxsKGZpbGVzYXZlciwgZXZlbnQgfHwgZmlsZXNhdmVyKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgIHRocm93X291dHNpZGUoZXgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLCBhdXRvX2JvbSA9IGZ1bmN0aW9uIChibG9iKSB7XHJcbiAgICAgIC8vIHByZXBlbmQgQk9NIGZvciBVVEYtOCBYTUwgYW5kIHRleHQvKiB0eXBlcyAoaW5jbHVkaW5nIEhUTUwpXHJcbiAgICAgIC8vIG5vdGU6IHlvdXIgYnJvd3NlciB3aWxsIGF1dG9tYXRpY2FsbHkgY29udmVydCBVVEYtMTYgVStGRUZGIHRvIEVGIEJCIEJGXHJcbiAgICAgIGlmICgvXlxccyooPzp0ZXh0XFwvXFxTKnxhcHBsaWNhdGlvblxcL3htbHxcXFMqXFwvXFxTKlxcK3htbClcXHMqOy4qY2hhcnNldFxccyo9XFxzKnV0Zi04L2kudGVzdChibG9iLnR5cGUpKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCbG9iKFtTdHJpbmcuZnJvbUNoYXJDb2RlKDB4RkVGRiksIGJsb2JdLCB7IHR5cGU6IGJsb2IudHlwZSB9KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gYmxvYjtcclxuICAgIH1cclxuICAgICwgRmlsZVNhdmVyID0gZnVuY3Rpb24gKGJsb2IsIG5hbWUsIG5vX2F1dG9fYm9tKSB7XHJcbiAgICAgIGlmICghbm9fYXV0b19ib20pIHtcclxuICAgICAgICBibG9iID0gYXV0b19ib20oYmxvYik7XHJcbiAgICAgIH1cclxuICAgICAgLy8gRmlyc3QgdHJ5IGEuZG93bmxvYWQsIHRoZW4gd2ViIGZpbGVzeXN0ZW0sIHRoZW4gb2JqZWN0IFVSTHNcclxuICAgICAgdmFyXHJcbiAgICAgIGZpbGVzYXZlciA9IHRoaXNcclxuICAgICAgICAsIHR5cGUgPSBibG9iLnR5cGVcclxuICAgICAgICAsIGZvcmNlID0gdHlwZSA9PT0gZm9yY2Vfc2F2ZWFibGVfdHlwZVxyXG4gICAgICAgICwgb2JqZWN0X3VybFxyXG4gICAgICAgICwgZGlzcGF0Y2hfYWxsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgZGlzcGF0Y2goZmlsZXNhdmVyLCBcIndyaXRlc3RhcnQgcHJvZ3Jlc3Mgd3JpdGUgd3JpdGVlbmRcIi5zcGxpdChcIiBcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBvbiBhbnkgZmlsZXN5cyBlcnJvcnMgcmV2ZXJ0IHRvIHNhdmluZyB3aXRoIG9iamVjdCBVUkxzXHJcbiAgICAgICAgLCBmc19lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGlmICgoaXNfY2hyb21lX2lvcyB8fCAoZm9yY2UgJiYgaXNfc2FmYXJpKSkgJiYgdmlldy5GaWxlUmVhZGVyKSB7XHJcbiAgICAgICAgICAgIC8vIFNhZmFyaSBkb2Vzbid0IGFsbG93IGRvd25sb2FkaW5nIG9mIGJsb2IgdXJsc1xyXG4gICAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICB2YXIgdXJsID0gaXNfY2hyb21lX2lvcyA/IHJlYWRlci5yZXN1bHQgOiByZWFkZXIucmVzdWx0LnJlcGxhY2UoL15kYXRhOlteO10qOy8sICdkYXRhOmF0dGFjaG1lbnQvZmlsZTsnKTtcclxuICAgICAgICAgICAgICB2YXIgcG9wdXAgPSB2aWV3Lm9wZW4odXJsLCAnX2JsYW5rJyk7XHJcbiAgICAgICAgICAgICAgaWYgKCFwb3B1cCkgdmlldy5sb2NhdGlvbi5ocmVmID0gdXJsO1xyXG4gICAgICAgICAgICAgIHVybCA9IHVuZGVmaW5lZDsgLy8gcmVsZWFzZSByZWZlcmVuY2UgYmVmb3JlIGRpc3BhdGNoaW5nXHJcbiAgICAgICAgICAgICAgZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcclxuICAgICAgICAgICAgICBkaXNwYXRjaF9hbGwoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XHJcbiAgICAgICAgICAgIGZpbGVzYXZlci5yZWFkeVN0YXRlID0gZmlsZXNhdmVyLklOSVQ7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIGRvbid0IGNyZWF0ZSBtb3JlIG9iamVjdCBVUkxzIHRoYW4gbmVlZGVkXHJcbiAgICAgICAgICBpZiAoIW9iamVjdF91cmwpIHtcclxuICAgICAgICAgICAgb2JqZWN0X3VybCA9IGdldF9VUkwoKS5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoZm9yY2UpIHtcclxuICAgICAgICAgICAgdmlldy5sb2NhdGlvbi5ocmVmID0gb2JqZWN0X3VybDtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBvcGVuZWQgPSB2aWV3Lm9wZW4ob2JqZWN0X3VybCwgXCJfYmxhbmtcIik7XHJcbiAgICAgICAgICAgIGlmICghb3BlbmVkKSB7XHJcbiAgICAgICAgICAgICAgLy8gQXBwbGUgZG9lcyBub3QgYWxsb3cgd2luZG93Lm9wZW4sIHNlZSBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9zYWZhcmkvZG9jdW1lbnRhdGlvbi9Ub29scy9Db25jZXB0dWFsL1NhZmFyaUV4dGVuc2lvbkd1aWRlL1dvcmtpbmd3aXRoV2luZG93c2FuZFRhYnMvV29ya2luZ3dpdGhXaW5kb3dzYW5kVGFicy5odG1sXHJcbiAgICAgICAgICAgICAgdmlldy5sb2NhdGlvbi5ocmVmID0gb2JqZWN0X3VybDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcclxuICAgICAgICAgIGRpc3BhdGNoX2FsbCgpO1xyXG4gICAgICAgICAgcmV2b2tlKG9iamVjdF91cmwpO1xyXG4gICAgICAgIH1cclxuICAgICAgO1xyXG4gICAgICBmaWxlc2F2ZXIucmVhZHlTdGF0ZSA9IGZpbGVzYXZlci5JTklUO1xyXG5cclxuICAgICAgaWYgKGNhbl91c2Vfc2F2ZV9saW5rKSB7XHJcbiAgICAgICAgb2JqZWN0X3VybCA9IGdldF9VUkwoKS5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBzYXZlX2xpbmsuaHJlZiA9IG9iamVjdF91cmw7XHJcbiAgICAgICAgICBzYXZlX2xpbmsuZG93bmxvYWQgPSBuYW1lO1xyXG4gICAgICAgICAgY2xpY2soc2F2ZV9saW5rKTtcclxuICAgICAgICAgIGRpc3BhdGNoX2FsbCgpO1xyXG4gICAgICAgICAgcmV2b2tlKG9iamVjdF91cmwpO1xyXG4gICAgICAgICAgZmlsZXNhdmVyLnJlYWR5U3RhdGUgPSBmaWxlc2F2ZXIuRE9ORTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZzX2Vycm9yKCk7XHJcbiAgICB9XHJcbiAgICAsIEZTX3Byb3RvID0gRmlsZVNhdmVyLnByb3RvdHlwZVxyXG4gICAgLCBzYXZlQXMgPSBmdW5jdGlvbiAoYmxvYiwgbmFtZSwgbm9fYXV0b19ib20pIHtcclxuICAgICAgcmV0dXJuIG5ldyBGaWxlU2F2ZXIoYmxvYiwgbmFtZSB8fCBibG9iLm5hbWUgfHwgXCJkb3dubG9hZFwiLCBub19hdXRvX2JvbSk7XHJcbiAgICB9XHJcbiAgO1xyXG4gIC8vIElFIDEwKyAobmF0aXZlIHNhdmVBcylcclxuICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChibG9iLCBuYW1lLCBub19hdXRvX2JvbSkge1xyXG4gICAgICBuYW1lID0gbmFtZSB8fCBibG9iLm5hbWUgfHwgXCJkb3dubG9hZFwiO1xyXG5cclxuICAgICAgaWYgKCFub19hdXRvX2JvbSkge1xyXG4gICAgICAgIGJsb2IgPSBhdXRvX2JvbShibG9iKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gbmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IoYmxvYiwgbmFtZSk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgRlNfcHJvdG8uYWJvcnQgPSBmdW5jdGlvbiAoKSB7IH07XHJcbiAgRlNfcHJvdG8ucmVhZHlTdGF0ZSA9IEZTX3Byb3RvLklOSVQgPSAwO1xyXG4gIEZTX3Byb3RvLldSSVRJTkcgPSAxO1xyXG4gIEZTX3Byb3RvLkRPTkUgPSAyO1xyXG5cclxuICBGU19wcm90by5lcnJvciA9XHJcbiAgRlNfcHJvdG8ub253cml0ZXN0YXJ0ID1cclxuICBGU19wcm90by5vbnByb2dyZXNzID1cclxuICBGU19wcm90by5vbndyaXRlID1cclxuICBGU19wcm90by5vbmFib3J0ID1cclxuICBGU19wcm90by5vbmVycm9yID1cclxuICBGU19wcm90by5vbndyaXRlZW5kID1cclxuICAgIG51bGw7XHJcblxyXG4gIHJldHVybiBzYXZlQXM7XHJcbn0oXHJcbiAgICAgdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZlxyXG4gIHx8IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93XHJcbiAgfHwgdGhpcy5jb250ZW50XHJcbikpO1xyXG4vLyBgc2VsZmAgaXMgdW5kZWZpbmVkIGluIEZpcmVmb3ggZm9yIEFuZHJvaWQgY29udGVudCBzY3JpcHQgY29udGV4dFxyXG4vLyB3aGlsZSBgdGhpc2AgaXMgbnNJQ29udGVudEZyYW1lTWVzc2FnZU1hbmFnZXJcclxuLy8gd2l0aCBhbiBhdHRyaWJ1dGUgYGNvbnRlbnRgIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHdpbmRvd1xyXG5cclxuaWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlLmV4cG9ydHMpIHtcclxuICBtb2R1bGUuZXhwb3J0cy5zYXZlQXMgPSBzYXZlQXM7XHJcbn0gZWxzZSBpZiAoKHR5cGVvZiBkZWZpbmUgIT09IFwidW5kZWZpbmVkXCIgJiYgZGVmaW5lICE9PSBudWxsKSAmJiAoZGVmaW5lLmFtZCAhPT0gbnVsbCkpIHtcclxuICBkZWZpbmUoXCJGaWxlU2F2ZXIuanNcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHNhdmVBcztcclxuICB9KTtcclxufVxyXG4iLCJpbXBvcnQgRXZlbnRCdXMgZnJvbSAnLi4vY29yZS9FdmVudEJ1cyc7XG5pbXBvcnQgRXZlbnRzIGZyb20gJy4uL2NvcmUvQ29yZUV2ZW50cyc7XG5pbXBvcnQgRGVidWcgZnJvbSAnLi4vY29yZS9EZWJ1Zyc7XG5pbXBvcnQgQ29tbW9uVXRpbHMgZnJvbSAnLi4vdXRpbHMvY29tbW9uX3V0aWxzJztcblxuZnVuY3Rpb24gZm9ybWF0QWRzVGltZU9mZnNldChvZmZzZXQpIHtcbiAgICB2YXIgaG91ciA9IHBhcnNlSW50KG9mZnNldCAvIDM2MDApO1xuICAgIHZhciBtaW4gPSBwYXJzZUludChwYXJzZUludCgob2Zmc2V0ICUgMzYwMCkpIC8gNjApO1xuICAgIHZhciBzZWMgPSBwYXJzZUludChwYXJzZUludCgob2Zmc2V0ICUgMzYwMCkpICUgNjApO1xuXG4gICAgcmV0dXJuIGhvdXIudG9TdHJpbmcoKSArICc6JyArIG1pbi50b1N0cmluZygpICsgJzonICsgc2VjLnRvU3RyaW5nKCkgKyAnLjAwMCc7XG59XG5cbmZ1bmN0aW9uIGdldFZNQVBJdGVtKGJyZWFrSWQsIG9mZnNldCwgdGFnKSB7XG4gICAgdmFyIGJyZWFrVHlwZSA9ICdsaW5lYXIsbm9ubGluZWFyJztcbiAgICB2YXIgYnJlYWtJZCA9IGJyZWFrSWQ7XG4gICAgdmFyIHRpbWVPZmZzZXQgPSBmb3JtYXRBZHNUaW1lT2Zmc2V0KG9mZnNldCk7XG4gICAgdmFyIHVybCA9IHRhZztcblxuICAgIHZhciBpdGVtID0gJzx2bWFwOkFkQnJlYWsgYnJlYWtUeXBlPVwiX3R5cGVfXCIgYnJlYWtJZD1cIl9hZGJyZWFrbmFtZV9cIiB0aW1lT2Zmc2V0PVwiX29mZnNldF9cIj48dm1hcDpBZFNvdXJjZSBhbGxvd011bHRpcGxlQWRzPVwidHJ1ZVwiIGZvbGxvd1JlZGlyZWN0cz1cInRydWVcIiBpZD1cIl9hZGJyZWFrbmFtZV8tYWQtMVwiPjx2bWFwOkFkVGFnVVJJPjwhW0NEQVRBW191cmxfXV0+PC92bWFwOkFkVGFnVVJJPjwvdm1hcDpBZFNvdXJjZT48L3ZtYXA6QWRCcmVhaz4nLnJlcGxhY2UoL190eXBlXy9nLCBicmVha1R5cGUpLnJlcGxhY2UoL19hZGJyZWFrbmFtZV8vZywgYnJlYWtJZCkucmVwbGFjZSgvX29mZnNldF8vZywgdGltZU9mZnNldCkucmVwbGFjZSgvX3VybF8vZywgdXJsKTtcbiAgICByZXR1cm4gaXRlbTtcbn1cblxuZnVuY3Rpb24gQWRzRW5naW5lKGFkQ29udGFpbmVyLCBtZWRpYSwgYWR2ZXJ0aXNpbmcpIHtcbiAgICBsZXQgZXZlbnRCdXNfID0gRXZlbnRCdXMob2xkbXRuKS5nZXRJbnN0YW5jZSgpO1xuICAgIGxldCBkZWJ1Z18gPSBEZWJ1ZyhvbGRtdG4pLmdldEluc3RhbmNlKCk7XG4gICAgbGV0IGFkQ29udGFpbmVyXyA9IGFkQ29udGFpbmVyO1xuICAgIGxldCBtZWRpYV8gPSBtZWRpYTtcbiAgICBsZXQgYWR2ZXJ0aXNpbmdfID0gYWR2ZXJ0aXNpbmc7XG5cbiAgICAvLyBJTUEgU0RLIE5lZWRzXG4gICAgbGV0IGFkRGlzcGxheUNvbnRhaW5lcl8gPSBudWxsO1xuICAgIGxldCBhZHNMb2FkZXJfID0gbnVsbDtcbiAgICBsZXQgYWRzTWFuYWdlcl8gPSBudWxsO1xuXG4gICAgLy9cbiAgICBsZXQgY3VlUG9pbnRzXyA9IG51bGw7XG5cbiAgICAvL1xuICAgIGxldCB3aWR0aF87XG4gICAgbGV0IGhlaWdodF87XG5cbiAgICAvLyBmbGFnXG4gICAgbGV0IGlzQWRUaW1lXyA9IGZhbHNlO1xuICAgIGxldCBpc0xpbmVhckFkXyA9IGZhbHNlO1xuICAgIGxldCBpc1BhdXNlZF8gPSBmYWxzZTtcblxuICAgIGxldCBhZHNMb2FkZWRfID0gZmFsc2U7XG4gICAgbGV0IGNvbnRlbnRJbml0aWFsaXplZF8gPSBmYWxzZTtcblxuICAgIGxldCBjb3VudGRvd25UaW1lcl8gPSBudWxsO1xuICAgIGxldCBkdXJhdGlvbl87XG4gICAgbGV0IHBvc2l0aW9uXztcblxuICAgIGxldCBpc01vYmlsZVBsYXRmb3JtXyA9IGZhbHNlOyAvLz0gQ29tbW9uVXRpbHMuaXNNb2JpbGVQbGF0Zm9ybSgpO1xuXG4gICAgZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgICAgIGlmIChhZHZlcnRpc2luZ18udnBhaWRtb2RlKSB7XG4gICAgICAgICAgICBsZXQgbW9kZSA9IC0xO1xuICAgICAgICAgICAgaWYgKGFkdmVydGlzaW5nXy52cGFpZG1vZGUgPT09ICdkaXNhYmxlZCcpIHtcbiAgICAgICAgICAgICAgICBtb2RlID0gZ29vZ2xlLmltYS5JbWFTZGtTZXR0aW5ncy5WcGFpZE1vZGUuRElTQUJMRUQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFkdmVydGlzaW5nXy52cGFpZG1vZGUgPT09ICdlbmFibGVkJykge1xuICAgICAgICAgICAgICAgIG1vZGUgPSBnb29nbGUuaW1hLkltYVNka1NldHRpbmdzLlZwYWlkTW9kZS5FTkFCTEVEO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhZHZlcnRpc2luZ18udnBhaWRtb2RlID09PSAnaW5zZWN1cmUnKSB7XG4gICAgICAgICAgICAgICAgbW9kZSA9IGdvb2dsZS5pbWEuSW1hU2RrU2V0dGluZ3MuVnBhaWRNb2RlLklOU0VDVVJFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vZGUgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgZ29vZ2xlLmltYS5zZXR0aW5ncy5zZXRWcGFpZE1vZGUobW9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWR2ZXJ0aXNpbmdfLmxvY2FsZSkge1xuICAgICAgICAgICAgZ29vZ2xlLmltYS5zZXR0aW5ncy5zZXRMb2NhbGUoYWR2ZXJ0aXNpbmdfLmxvY2FsZSk7XG4gICAgICAgIH1cblxuICAgICAgICBhZERpc3BsYXlDb250YWluZXJfID1cbiAgICAgICAgICAgIG5ldyBnb29nbGUuaW1hLkFkRGlzcGxheUNvbnRhaW5lcihcbiAgICAgICAgICAgICAgICBhZENvbnRhaW5lcl8sXG4gICAgICAgICAgICAgICAgbWVkaWFfLFxuICAgICAgICAgICAgICAgIGFkdmVydGlzaW5nXy5jb21wYW5pb25zWzBdID8gYWR2ZXJ0aXNpbmdfLmNvbXBhbmlvbnNbMF0uZGl2IDogbnVsbCk7XG5cbiAgICAgICAgYWRzTG9hZGVyXyA9IG5ldyBnb29nbGUuaW1hLkFkc0xvYWRlcihhZERpc3BsYXlDb250YWluZXJfKTtcbiAgICAgICAgLy8gTW9iaWxlIFNraXBwYWJsZSBBZHNcbiAgICAgICAgLy8gc2VlOiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9pbnRlcmFjdGl2ZS1tZWRpYS1hZHMvZG9jcy9zZGtzL2h0bWw1L3NraXBwYWJsZS1hZHNcbiAgICAgICAgYWRzTG9hZGVyXy5nZXRTZXR0aW5ncygpLnNldERpc2FibGVDdXN0b21QbGF5YmFja0ZvcklPUzEwUGx1cyh0cnVlKTtcbiAgICAgICAgYWRzTG9hZGVyXy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgZ29vZ2xlLmltYS5BZHNNYW5hZ2VyTG9hZGVkRXZlbnQuVHlwZS5BRFNfTUFOQUdFUl9MT0FERUQsXG4gICAgICAgICAgICBvbkFkc01hbmFnZXJMb2FkZWQsXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIHRoaXMpO1xuICAgICAgICBhZHNMb2FkZXJfLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICBnb29nbGUuaW1hLkFkRXJyb3JFdmVudC5UeXBlLkFEX0VSUk9SLFxuICAgICAgICAgICAgb25BZEVycm9yLFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICB0aGlzKTtcblxuICAgICAgICAvL1xuICAgICAgICBhZHNMb2FkZWRfID0gZmFsc2U7XG4gICAgICAgIGNvbnRlbnRJbml0aWFsaXplZF8gPSBmYWxzZTtcbiAgICAgICAgZXZlbnRCdXNfLm9uKG9sZG10bi5FdmVudHMuTUVESUFfTE9BREVETUVUQURBVEEsIG9uTWVkaWFMb2FkZWRNZXRhZGF0YSwgdGhpcyk7XG4gICAgICAgIGV2ZW50QnVzXy5vbihvbGRtdG4uRXZlbnRzLk1FRElBX0VOREVELCBvbk1lZGlhRW5kZWQsIHRoaXMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9wZW4oKSB7XG4gICAgICAgIGluaXRpYWxVc2VyQWN0aW9uKCk7XG4gICAgICAgIHJlcXVlc3RBZHMoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgICAgc3RvcEFkVGltZXIoKTtcbiAgICAgICAgaWYgKGFkc01hbmFnZXJfKSB7XG4gICAgICAgICAgICBhZHNNYW5hZ2VyXy5kZXN0cm95KCk7XG4gICAgICAgICAgICBhZHNNYW5hZ2VyXyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0aWFsVXNlckFjdGlvbigpIHtcbiAgICAgICAgLy8gT24gaU9TIGFuZCBBbmRyb2lkIGRldmljZXMsIHZpZGVvIHBsYXliYWNrIG11c3QgYmVnaW4gaW4gYSB1c2VyIGFjdGlvbi5cbiAgICAgICAgLy8gQWREaXNwbGF5Q29udGFpbmVyIHByb3ZpZGVzIGEgaW5pdGlhbGl6ZSgpIEFQSSB0byBiZSBjYWxsZWQgYXQgYXBwcm9wcmlhdGVcbiAgICAgICAgLy8gdGltZS5cbiAgICAgICAgLy8gc2VlOiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9pbnRlcmFjdGl2ZS1tZWRpYS1hZHMvZG9jcy9zZGtzL2h0bWw1L21vYmlsZV92aWRlb1xuICAgICAgICBhZERpc3BsYXlDb250YWluZXJfLmluaXRpYWxpemUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXF1ZXN0QWRzKCkge1xuICAgICAgICB3aWR0aF8gPSBhZENvbnRhaW5lcl8uY2xpZW50V2lkdGg7XG4gICAgICAgIGhlaWdodF8gPSBhZENvbnRhaW5lcl8uY2xpZW50SGVpZ2h0O1xuICAgICAgICAvLyB2YXIgaXRlbSA9IGdldFZNQVBJdGVtKCdteUFkcycsIGFkdmVydGlzaW5nXy5vZmZzZXQsIGFkdmVydGlzaW5nXy50YWcpO1xuICAgICAgICAvLyB2YXIgYWRzID0gJzx2bWFwOlZNQVAgeG1sbnM6dm1hcD1cImh0dHA6Ly93d3cuaWFiLm5ldC92aWRlb3N1aXRlL3ZtYXBcIiB2ZXJzaW9uPVwiMS4wXCI+JyArIGl0ZW0gKyBcIjwvdm1hcDpWTUFQPlwiXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhZHM6ICcgKyBhZHMpO1xuXG4gICAgICAgIGRlYnVnXy5sb2coJytyZXF1ZXN0IGFkcywgYWR2ZXJ0aXNpbmdfLnRhZzogJyArIGFkdmVydGlzaW5nXy50YWcpO1xuICAgICAgICB2YXIgYWRzUmVxdWVzdCA9IG5ldyBnb29nbGUuaW1hLkFkc1JlcXVlc3QoKTtcbiAgICAgICAgYWRzUmVxdWVzdC5hZFRhZ1VybCA9IGFkdmVydGlzaW5nXy50YWc7XG4gICAgICAgIC8vIFNwZWNpZnkgdGhlIGxpbmVhciBhbmQgbm9ubGluZWFyIHNsb3Qgc2l6ZXMuIFRoaXMgaGVscHMgdGhlIFNESyB0b1xuICAgICAgICAvLyBzZWxlY3QgdGhlIGNvcnJlY3QgY3JlYXRpdmUgaWYgbXVsdGlwbGUgYXJlIHJldHVybmVkLlxuICAgICAgICBhZHNSZXF1ZXN0LmxpbmVhckFkU2xvdFdpZHRoID0gd2lkdGhfO1xuICAgICAgICBhZHNSZXF1ZXN0LmxpbmVhckFkU2xvdEhlaWdodCA9IGhlaWdodF87XG4gICAgICAgIGFkc1JlcXVlc3Qubm9uTGluZWFyQWRTbG90V2lkdGggPSB3aWR0aF87XG4gICAgICAgIGFkc1JlcXVlc3Qubm9uTGluZWFyQWRTbG90SGVpZ2h0ID0gaGVpZ2h0XztcblxuICAgICAgICAvLyBhZHNSZXF1ZXN0LnNldEFkV2lsbEF1dG9QbGF5KGF1dG9wbGF5QWxsb3dlZF8pO1xuICAgICAgICAvLyBhZHNSZXF1ZXN0LnNldEFkV2lsbFBsYXlNdXRlZChhdXRvcGxheVJlcXVpcmVzTXV0ZWRfKTtcbiAgICAgICAgYWRzUmVxdWVzdC5mb3JjZU5vbkxpbmVhckZ1bGxTbG90ID0gYWR2ZXJ0aXNpbmdfLmZvcmNlTm9uTGluZWFyRnVsbFNsb3Q7XG5cbiAgICAgICAgLypcbiAgICAgICAgICogSW4gc29tZSBjaXJjdW1zdGFuY2VzIHlvdSBtYXkgd2FudCB0byBwcmV2ZW50IHRoZSBTREsgZnJvbSBwbGF5aW5nIGFkIGJyZWFrcyB1bnRpbCB5b3UncmUgcmVhZHkgZm9yIHRoZW0uXG4gICAgICAgICAqIEluIHRoaXMgc2NlbmFyaW8sIHlvdSBjYW4gZGlzYWJsZSBhdXRvbWF0aWMgcGxheWJhY2sgb2YgYWQgYnJlYWtzIGluIGZhdm9yIG9mIGxldHRpbmcgdGhlIFNESyBrbm93IHdoZW4geW91J3JlIHJlYWR5IGZvciBhbiBhZCBicmVhayB0byBwbGF5LlxuICAgICAgICAgKiBXaXRoIHRoaXMgY29uZmlndXJhdGlvbiwgb25jZSB0aGUgU0RLIGhhcyBsb2FkZWQgYW4gYWQgYnJlYWssIGl0IHdpbGwgZmlyZSBhbiBBRF9CUkVBS19SRUFEWSBldmVudC5cbiAgICAgICAgICogV2hlbiB5b3VyIHBsYXllciBpcyByZWFkeSBmb3IgdGhlIGFkIGJyZWFrIHRvIHN0YXJ0LCB5b3UgY2FuIGNhbGwgYWRzTWFuYWdlci5zdGFydCgpOlxuICAgICAgICAgKi9cbiAgICAgICAgLy9hZHNMb2FkZXJfLmdldFNldHRpbmdzKCkuc2V0QXV0b1BsYXlBZEJyZWFrcyhmYWxzZSk7XG5cbiAgICAgICAgYWRzTG9hZGVyXy5yZXF1ZXN0QWRzKGFkc1JlcXVlc3QpO1xuICAgIH1cblxuICAgIC8vIEFkc0VuZ2luZSBwdWJsaWMgZnVuY3Rpb25zXG4gICAgZnVuY3Rpb24gcGxheUFkKCkge1xuICAgICAgICBpZiAoY29udGVudEluaXRpYWxpemVkXyAmJiBhZHNMb2FkZWRfKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGluaXRpYWxVc2VyQWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgYWRzTWFuYWdlcl8uaW5pdCh3aWR0aF8sIGhlaWdodF8sIGdvb2dsZS5pbWEuVmlld01vZGUuTk9STUFMKTtcbiAgICAgICAgICAgICAgICBhZHNNYW5hZ2VyXy5zdGFydCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoYWRFcnJvcikge1xuICAgICAgICAgICAgICAgIC8vIEFuIGVycm9yIG1heSBiZSB0aHJvd24gaWYgdGhlcmUgd2FzIGEgcHJvYmxlbSB3aXRoIHRoZSBWQVNUIHJlc3BvbnNlLlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RhcnRBZHNJbnRlcm5hbCgpIHtcbiAgICAgICAgZGVidWdfLmxvZygnK0Fkc0VuZ2luZS5zdGFydEFkc0ludGVybmFsJyk7XG5cbiAgICAgICAgLy8gc29tZXRpbWVzLCByZXF1ZXN0QWRzIG1heSBiZSBjYXVnaHQgYW4gZXJyb3IsIHNvIHdlIHJldHVybiBoZXJlIGRpcmVjdGx5LlxuICAgICAgICBpZiAoIWFkc01hbmFnZXJfKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBwbGF5QWQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1BhdXNlZCgpIHtcbiAgICAgICAgcmV0dXJuIGlzUGF1c2VkXztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1BsYXlpbmdBZCgpIHtcbiAgICAgICAgcmV0dXJuIGlzQWRUaW1lXztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0xpbmVhckFkKCkge1xuICAgICAgICByZXR1cm4gaXNMaW5lYXJBZF87XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNNdXRlZCgpIHtcbiAgICAgICAgaWYgKGFkc01hbmFnZXJfLmdldFZvbHVtZSgpID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG11dGUoKSB7XG4gICAgICAgIGFkc01hbmFnZXJfLnNldFZvbHVtZSgwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1bm11dGUoKSB7XG4gICAgICAgIGFkc01hbmFnZXJfLnNldFZvbHVtZSgxKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRWb2x1bWUoKSB7XG4gICAgICAgIHJldHVybiBhZHNNYW5hZ2VyXy5nZXRWb2x1bWUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRWb2x1bWUodm9sdW1lKSB7XG4gICAgICAgIGFkc01hbmFnZXJfLnNldFZvbHVtZSh2b2x1bWUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFBvc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gcG9zaXRpb25fO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGR1cmF0aW9uKCkge1xuICAgICAgICByZXR1cm4gZHVyYXRpb25fO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgICAgIGlmIChhZHNNYW5hZ2VyXykge1xuICAgICAgICAgICAgYWRzTWFuYWdlcl8ucmVzdW1lKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICAgICAgaWYgKGFkc01hbmFnZXJfKSB7XG4gICAgICAgICAgICBhZHNNYW5hZ2VyXy5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzaXplKHdpZHRoLCBoZWlnaHQsIGZ1bGxzY3JlZW4pIHtcbiAgICAgICAgaWYgKGFkc01hbmFnZXJfKSB7XG4gICAgICAgICAgICB3aWR0aF8gPSB3aWR0aDtcbiAgICAgICAgICAgIGhlaWdodF8gPSBoZWlnaHQ7XG4gICAgICAgICAgICBhZHNNYW5hZ2VyXy5yZXNpemUod2lkdGhfLCBoZWlnaHRfLCBnb29nbGUuaW1hLlZpZXdNb2RlLkZVTExTQ1JFRU4pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgZnVuY3Rpb24gb25BZHNNYW5hZ2VyTG9hZGVkKGFkc01hbmFnZXJMb2FkZWRFdmVudCkge1xuICAgICAgICBkZWJ1Z18ubG9nKCcrb25BZHNNYW5hZ2VyTG9hZGVkJyk7XG5cbiAgICAgICAgdmFyIGFkc1JlbmRlcmluZ1NldHRpbmdzID0gbmV3IGdvb2dsZS5pbWEuQWRzUmVuZGVyaW5nU2V0dGluZ3MoKTtcbiAgICAgICAgaWYgKGFkdmVydGlzaW5nXy5lbmFibGVQcmVsb2FkaW5nKSB7XG4gICAgICAgICAgICBhZHNSZW5kZXJpbmdTZXR0aW5ncy5lbmFibGVQcmVsb2FkaW5nID0gYWR2ZXJ0aXNpbmdfLmVuYWJsZVByZWxvYWRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgYWRzUmVuZGVyaW5nU2V0dGluZ3MucmVzdG9yZUN1c3RvbVBsYXliYWNrU3RhdGVPbkFkQnJlYWtDb21wbGV0ZSA9IHRydWU7XG5cbiAgICAgICAgYWRzTWFuYWdlcl8gPSBhZHNNYW5hZ2VyTG9hZGVkRXZlbnQuZ2V0QWRzTWFuYWdlcihcbiAgICAgICAgICAgICAgICBtZWRpYV8sIGFkc1JlbmRlcmluZ1NldHRpbmdzKTtcblxuICAgICAgICAvLyBBdHRhY2ggdGhlIHBhdXNlL3Jlc3VtZSBldmVudHMuXG4gICAgICAgIC8vIEhhbmRsZSBlcnJvcnMuXG4gICAgICAgIGFkc01hbmFnZXJfLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICBnb29nbGUuaW1hLkFkRXJyb3JFdmVudC5UeXBlLkFEX0VSUk9SLFxuICAgICAgICAgICAgb25BZEVycm9yLFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICB0aGlzKTtcbiAgICAgICAgdmFyIGV2ZW50cyA9IFtcbiAgICAgICAgICAgIC8vIEZvciBub24tYXV0byBhZCBicmVha3MsIGxpc3RlbiBmb3IgYWQgYnJlYWsgcmVhZHlcbiAgICAgICAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkFEX0JSRUFLX1JFQURZLFxuICAgICAgICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuQURfTUVUQURBVEEsXG4gICAgICAgICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5BTExfQURTX0NPTVBMRVRFRCxcbiAgICAgICAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkNMSUNLLFxuICAgICAgICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuQ09NUExFVEUsXG4gICAgICAgICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5DT05URU5UX1BBVVNFX1JFUVVFU1RFRCxcbiAgICAgICAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkNPTlRFTlRfUkVTVU1FX1JFUVVFU1RFRCxcbiAgICAgICAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkRVUkFUSU9OX0NIQU5HRSxcbiAgICAgICAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkZJUlNUX1FVQVJUSUxFLFxuICAgICAgICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuSU1QUkVTU0lPTixcbiAgICAgICAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLklOVEVSQUNUSU9OLFxuICAgICAgICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuTElORUFSX0NIQU5HRUQsXG4gICAgICAgICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5MT0FERUQsXG4gICAgICAgICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5MT0csXG4gICAgICAgICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5NSURQT0lOVCxcbiAgICAgICAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLlBBVVNFRCxcbiAgICAgICAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLlJFU1VNRUQsXG4gICAgICAgICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5TS0lQUEFCTEVfU1RBVEVfQ0hBTkdFRCxcbiAgICAgICAgICAgIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLlNLSVBQRUQsXG4gICAgICAgICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5TVEFSVEVELFxuICAgICAgICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuVEhJUkRfUVVBUlRJTEUsXG4gICAgICAgICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5VU0VSX0NMT1NFLFxuICAgICAgICAgICAgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuVk9MVU1FX0NIQU5HRUQsXG4gICAgICAgICAgICBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5WT0xVTUVfTVVURURdO1xuICAgICAgICBmb3IgKHZhciBpbmRleCBpbiBldmVudHMpIHtcbiAgICAgICAgICAgIGFkc01hbmFnZXJfLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgZXZlbnRzW2luZGV4XSxcbiAgICAgICAgICAgICAgICBvbkFkRXZlbnQsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBhZHNMb2FkZWRfID0gdHJ1ZTtcbiAgICAgICAgaWYgKGNvbnRlbnRJbml0aWFsaXplZF8gJiYgIWlzTW9iaWxlUGxhdGZvcm1fKSB7XG4gICAgICAgICAgICBkZWJ1Z18ubG9nKCdzdGFydEFkc0ludGVybmFsIHdoZW4gY29udGVudEluaXRpYWxpemVkXycpO1xuICAgICAgICAgICAgc3RhcnRBZHNJbnRlcm5hbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVidWdfLmxvZygnLW9uQWRzTWFuYWdlckxvYWRlZCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uQWRFcnJvcihhZEVycm9yRXZlbnQpIHtcbiAgICAgICAgZGVidWdfLmxvZygnLS1vbkFkRXZlbnQtLTogJyArIGFkRXJyb3JFdmVudC5nZXRFcnJvcigpLnRvU3RyaW5nKCkpO1xuICAgICAgICBsZXQgZXJyID0gYWRFcnJvckV2ZW50LmdldEVycm9yKCk7XG4gICAgICAgIC8vIGRlc2VyaWFsaXplLCBnZXRFcnJvckNvZGUsIGdldElubmVyRXJyb3IsIGdldE1lc3NhZ2UsIGdldFR5cGUsIGdldFZhc3RFcnJvckNvZGUsIHNlcmlhbGl6ZSwgdG9TdHJpbmdcbiAgICAgICAgY29uc29sZS5sb2coJ2FkIGVycjogJywgZXJyKTtcblxuICAgICAgICBsZXQgZXJyQ29kZSA9IGVyci5nZXRFcnJvckNvZGUoKTtcbiAgICAgICAgbGV0IGVyck1zZyA9IGVyci5nZXRNZXNzYWdlKCk7XG5cbiAgICAgICAgaWYgKGFkc01hbmFnZXJfKSB7XG4gICAgICAgICAgICBhZHNNYW5hZ2VyXy5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgLy9hcHBsaWNhdGlvbl8ucmVzdW1lQWZ0ZXJBZCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uQWRFdmVudChhZEV2ZW50KSB7XG4gICAgICAgIGRlYnVnXy5sb2coJytvbkFkRXZlbnQ6ICcgKyBhZEV2ZW50LnR5cGUpO1xuICAgICAgICBsZXQgYWQgPSBhZEV2ZW50LmdldEFkKCk7XG5cbiAgICAgICAgc3dpdGNoIChhZEV2ZW50LnR5cGUpIHtcbiAgICAgICAgY2FzZSBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5BRF9CUkVBS19SRUFEWToge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhZEV2ZW50Lm8uYWRCcmVha1RpbWU6ICcgKyBhZEV2ZW50Lm8uYWRCcmVha1RpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuQURfTUVUQURBVEE6IHtcbiAgICAgICAgICAgICAgICAvLyBmb3IgKGxldCBpIGluIGFkRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ0FEX01FVEFEQVRBOiAnICsgaSk7XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGN1ZVBvaW50c18gPSBhZEV2ZW50LmdldEFkQ3VlUG9pbnRzKCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2N1ZSBwb2ludHM6ICcgKyBjdWVQb2ludHNfLmguam9pbihcIixcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuQ0xJQ0s6IHtcbiAgICAgICAgICAgICAgICAvL2FwcGxpY2F0aW9uXy5hZENsaWNrZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkNPTVBMRVRFOiB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBldmVudCBpbmRpY2F0ZXMgdGhlIGFkIGhhcyBmaW5pc2hlZCAtIHRoZSB2aWRlbyBwbGF5ZXJcbiAgICAgICAgICAgICAgICAvLyBjYW4gcGVyZm9ybSBhcHByb3ByaWF0ZSBVSSBhY3Rpb25zLCBzdWNoIGFzIHJlbW92aW5nIHRoZSB0aW1lciBmb3JcbiAgICAgICAgICAgICAgICAvLyByZW1haW5pbmcgdGltZSBkZXRlY3Rpb24uXG4gICAgICAgICAgICAgICAgcHJvY2Vzc1doZW5BZENvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5DT05URU5UX1BBVVNFX1JFUVVFU1RFRDoge1xuICAgICAgICAgICAgICAgIGV2ZW50QnVzXy50cmlnZ2VyKEV2ZW50cy5BRF9DT05URU5UX1BBVVNFX1JFUVVFU1RFRCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5DT05URU5UX1JFU1VNRV9SRVFVRVNURUQ6IHtcbiAgICAgICAgICAgICAgICBldmVudEJ1c18udHJpZ2dlcihFdmVudHMuQURfQ09OVEVOVF9SRVNVTUVfUkVRVUVTVEVEKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkRVUkFUSU9OX0NIQU5HRToge31cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLklNUFJFU1NJT046IHt9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5MSU5FQVJfQ0hBTkdFRDoge31cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLkxPQURFRDoge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGZpcnN0IGV2ZW50IHNlbnQgZm9yIGFuIGFkIC0gaXQgaXMgcG9zc2libGUgdG9cbiAgICAgICAgICAgICAgICAvLyBkZXRlcm1pbmUgd2hldGhlciB0aGUgYWQgaXMgYSB2aWRlbyBhZCBvciBhbiBvdmVybGF5LlxuICAgICAgICAgICAgICAgIGlmICghYWQuaXNMaW5lYXIoKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBQb3NpdGlvbiBBZERpc3BsYXlDb250YWluZXIgY29ycmVjdGx5IGZvciBvdmVybGF5LlxuICAgICAgICAgICAgICAgICAgICAvLyBVc2UgYWQud2lkdGggYW5kIGFkLmhlaWdodC5cblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLlBBVVNFRDoge1xuICAgICAgICAgICAgICAgIGlzUGF1c2VkXyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5SRVNVTUVEOiB7XG4gICAgICAgICAgICAgICAgaXNQYXVzZWRfID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5TS0lQUEVEOiB7XG4gICAgICAgICAgICAgICAgLy8gZm9yIFwic2tpcHBhYmxlIGFkc1wiLCBpZiB3ZSBza2lwIGl0LCB3ZSB3b24ndCByZWNlaXZlIENPTVBMRVRFRCBldmVudCwgYnV0IG9ubHkgcmVjZWl2ZSBTS0lQUEVEIGV2ZW50LlxuICAgICAgICAgICAgICAgIHByb2Nlc3NXaGVuQWRDb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuU1RBUlRFRDoge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgZXZlbnQgaW5kaWNhdGVzIHRoZSBhZCBoYXMgc3RhcnRlZCAtIHRoZSB2aWRlbyBwbGF5ZXJcbiAgICAgICAgICAgICAgICAvLyBjYW4gYWRqdXN0IHRoZSBVSSwgZm9yIGV4YW1wbGUgZGlzcGxheSBhIHBhdXNlIGJ1dHRvbiBhbmRcbiAgICAgICAgICAgICAgICAvLyByZW1haW5pbmcgdGltZS5cbiAgICAgICAgICAgICAgICBpc0FkVGltZV8gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlzTGluZWFyQWRfID0gYWQuaXNMaW5lYXIoKTtcblxuICAgICAgICAgICAgICAgIHBvc2l0aW9uXyA9IDA7XG4gICAgICAgICAgICAgICAgZHVyYXRpb25fID0gYWQuZ2V0RHVyYXRpb24oKTtcblxuICAgICAgICAgICAgICAgIGV2ZW50QnVzXy50cmlnZ2VyKEV2ZW50cy5BRF9TVEFSVEVELCB7XG4gICAgICAgICAgICAgICAgICAgIGlzTGluZWFyQWQ6IGlzTGluZWFyQWRfXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzTGluZWFyQWRfKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0QWRUaW1lcigpO1xuICAgICAgICAgICAgICAgICAgICBldmVudEJ1c18udHJpZ2dlcihFdmVudHMuQURfVElNRVVQREFURSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRCdXNfLnRyaWdnZXIoRXZlbnRzLkFEX0NPTlRFTlRfUkVTVU1FX1JFUVVFU1RFRCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgY29tcGFuaW9uc1xuICAgICAgICAgICAgICAgIGxldCBzZWxlY3Rpb25Dcml0ZXJpYSA9IG5ldyBnb29nbGUuaW1hLkNvbXBhbmlvbkFkU2VsZWN0aW9uU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25Dcml0ZXJpYS5yZXNvdXJjZVR5cGUgPSBnb29nbGUuaW1hLkNvbXBhbmlvbkFkU2VsZWN0aW9uU2V0dGluZ3MuUmVzb3VyY2VUeXBlLlNUQVRJQztcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25Dcml0ZXJpYS5jcmVhdGl2ZVR5cGUgPSBnb29nbGUuaW1hLkNvbXBhbmlvbkFkU2VsZWN0aW9uU2V0dGluZ3MuQ3JlYXRpdmVUeXBlLklNQUdFO1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkNyaXRlcmlhLnNpemVDcml0ZXJpYSA9IGdvb2dsZS5pbWEuQ29tcGFuaW9uQWRTZWxlY3Rpb25TZXR0aW5ncy5TaXplQ3JpdGVyaWEuSUdOT1JFO1xuXG4gICAgICAgICAgICAgICAgLy8gR2V0IGEgbGlzdCBvZiBjb21wYW5pb24gYWRzIGZvciBhbiBhZCBzbG90IHNpemUgYW5kIENvbXBhbmlvbkFkU2VsZWN0aW9uU2V0dGluZ3NcbiAgICAgICAgICAgICAgICBsZXQgY29tcGFuaW9uQWRzID0gYWQuZ2V0Q29tcGFuaW9uQWRzKHdpZHRoXywgaGVpZ2h0Xywgc2VsZWN0aW9uQ3JpdGVyaWEpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29tcGFuaW9uQWRzLmxlbmd0aDsgaSArKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29tcGFuaW9uQWQgPSBjb21wYW5pb25BZHNbaV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBjb21wYW5pb25bJHtpfV0sIHR5cGU6JHtjb21wYW5pb25BZC5nZXRDb250ZW50VHlwZSgpfSB3aWR0aDoke2NvbXBhbmlvbkFkLmdldFdpZHRoKCl9LCBoZWlnaHQ6JHtjb21wYW5pb25BZC5nZXRIZWlnaHQoKX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBnb29nbGUuaW1hLkFkRXZlbnQuVHlwZS5USElSRF9RVUFSVElMRToge31cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLlVTRVJfQ0xPU0U6IHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzV2hlbkFkQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGdvb2dsZS5pbWEuQWRFdmVudC5UeXBlLlZPTFVNRV9DSEFOR0VEOiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2FkIFZPTFVNRV9DSEFOR0VEOiAnICsgYWRzTWFuYWdlcl8uZ2V0Vm9sdW1lKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZ29vZ2xlLmltYS5BZEV2ZW50LlR5cGUuVk9MVU1FX01VVEVEOiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2FkIFZPTFVNRV9NVVRFRDogJyArIGFkc01hbmFnZXJfLmdldFZvbHVtZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1lZGlhTG9hZGVkTWV0YWRhdGEoKSB7XG4gICAgICAgIC8vIEluIHNvbWUgcGxhdGZvcm0sIGNvbnRlbnQgcGxheWVyICYgYWQgcGxheWVyIGNvdWxkIHVzZSBhIHNpbmdsZSB2aWRlbyB0YWcsXG4gICAgICAgIC8vIGFuZCB3ZSBqdXN0IHByb2Nlc3MgY29udGVudCBwbGF5ZXIgJ21ldGFkYXRhJyBldmVudCBvbmx5LCBzbyBjYW5jZWwgdGhlIGxpc3RlbmVyLlxuICAgICAgICBldmVudEJ1c18ub2ZmKG9sZG10bi5FdmVudHMuTUVESUFfTE9BREVETUVUQURBVEEsIG9uTWVkaWFMb2FkZWRNZXRhZGF0YSwgdGhpcyk7XG4gICAgICAgIGRlYnVnXy5sb2coJytvbk1lZGlhTG9hZGVkTWV0YWRhdGEnICsgJywgJyArXG4gICAgICAgICAgICAnY29udGVudEluaXRpYWxpemVkXzogJyArIGNvbnRlbnRJbml0aWFsaXplZF8gKyAnLCAnICtcbiAgICAgICAgICAgICdhZHNMb2FkZWRfOiAnICsgYWRzTG9hZGVkXyk7XG4gICAgICAgIGNvbnRlbnRJbml0aWFsaXplZF8gPSB0cnVlO1xuICAgICAgICBpZiAoYWRzTG9hZGVkXyAmJiAhaXNNb2JpbGVQbGF0Zm9ybV8pIHtcbiAgICAgICAgICAgIGRlYnVnXy5sb2coJ3N0YXJ0QWRzSW50ZXJuYWwgd2hlbiBhZHNMb2FkZWRfJyk7XG4gICAgICAgICAgICBzdGFydEFkc0ludGVybmFsKCk7XG4gICAgICAgIH1cbiAgICAgICAgZGVidWdfLmxvZygnLW9uTWVkaWFMb2FkZWRNZXRhZGF0YScpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTWVkaWFFbmRlZCgpIHtcbiAgICAgICAgYWRzTG9hZGVyXy5jb250ZW50Q29tcGxldGUoKTtcbiAgICB9XG5cbiAgICAvL1xuICAgIGZ1bmN0aW9uIHN0YXJ0QWRUaW1lcigpIHtcbiAgICAgICAgY291bnRkb3duVGltZXJfID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGxldCB0aW1lUmVtYWluaW5nID0gYWRzTWFuYWdlcl8uZ2V0UmVtYWluaW5nVGltZSgpO1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBhZCBpcyBub3QgbG9hZGVkIHlldCBvciBoYXMgZmluaXNoZWQgcGxheWluZywgZ2V0UmVtYWluaW5nVGltZSB3b3VsZCByZXR1cm4gLTEuXG4gICAgICAgICAgICAgICAgaWYgKHRpbWVSZW1haW5pbmcgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwb3NpdGlvbl8gPSBkdXJhdGlvbl8gLSB0aW1lUmVtYWluaW5nO1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBVSSB3aXRoIHRpbWVSZW1haW5pbmdcbiAgICAgICAgICAgICAgICBpZiAoaXNBZFRpbWVfICYmICFpc1BhdXNlZF8pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Rlc3QsIHRpbWVSZW1haW5pbmc6ICcgKyB0aW1lUmVtYWluaW5nICsgJywgcG9zaXRpb246ICcgKyBwb3NpdGlvbl8gKyAnLCBkdXJhdGlvbjogJyArIGR1cmF0aW9uXyk7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50QnVzXy50cmlnZ2VyKEV2ZW50cy5BRF9USU1FVVBEQVRFKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAzMDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0b3BBZFRpbWVyKCkge1xuICAgICAgICBpZiAoY291bnRkb3duVGltZXJfKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGNvdW50ZG93blRpbWVyXyk7XG4gICAgICAgICAgICBjb3VudGRvd25UaW1lcl8gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc1doZW5BZENvbXBsZXRlKCkge1xuICAgICAgICBpc0FkVGltZV8gPSBmYWxzZTtcbiAgICAgICAgc3RvcEFkVGltZXIoKTtcbiAgICAgICAgcG9zaXRpb25fID0gZHVyYXRpb25fO1xuICAgICAgICBldmVudEJ1c18udHJpZ2dlcihFdmVudHMuQURfVElNRVVQREFURSk7XG4gICAgICAgIGV2ZW50QnVzXy50cmlnZ2VyKEV2ZW50cy5BRF9DT01QTEVURSk7XG4gICAgfVxuXG4gICAgLy9cbiAgICBmdW5jdGlvbiB0ZXN0KCkge1xuICAgICAgICBwbGF5QWQoKTtcbiAgICAgICAgLy8gbGV0IHNraXBwYWJsZVN0YXRlID0gYWRzTWFuYWdlcl8uZ2V0QWRTa2lwcGFibGVTdGF0ZSgpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnc2tpcHBhYmxlU3RhdGU6ICcgKyBza2lwcGFibGVTdGF0ZSk7XG4gICAgICAgIC8vIC8vYWRzTWFuYWdlcl8uc2tpcCgpO1xuXG4gICAgICAgIC8vIG9uTWVkaWFFbmRlZCgpO1xuICAgIH1cblxuICAgIGxldCBpbnN0YW5jZSA9IHtcbiAgICAgICAgb3Blbjogb3BlbixcbiAgICAgICAgY2xvc2U6IGNsb3NlLFxuICAgICAgICBpc1BsYXlpbmdBZDogaXNQbGF5aW5nQWQsXG4gICAgICAgIGlzTGluZWFyQWQ6IGlzTGluZWFyQWQsXG4gICAgICAgIHBsYXk6IHBsYXksXG4gICAgICAgIHBhdXNlOiBwYXVzZSxcbiAgICAgICAgaXNQYXVzZWQ6IGlzUGF1c2VkLFxuICAgICAgICBtdXRlOiBtdXRlLFxuICAgICAgICB1bm11dGU6IHVubXV0ZSxcbiAgICAgICAgaXNNdXRlZDogaXNNdXRlZCxcbiAgICAgICAgZ2V0Vm9sdW1lOiBnZXRWb2x1bWUsXG4gICAgICAgIHNldFZvbHVtZTogc2V0Vm9sdW1lLFxuICAgICAgICBnZXRQb3NpdGlvbjogZ2V0UG9zaXRpb24sXG4gICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgcmVzaXplOiByZXNpemUsXG4gICAgICAgIHJlcXVlc3RBZHM6IHJlcXVlc3RBZHMsXG4gICAgICAgIHBsYXlBZDogcGxheUFkLFxuXG4gICAgICAgIC8vXG4gICAgICAgIHRlc3Q6IHRlc3RcbiAgICB9O1xuXG4gICAgc2V0dXAoKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFkc0VuZ2luZTsiLCIndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgQ2FzdFV0aWxzIGZyb20gJy4vY2FzdF91dGlscyc7XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuZnVuY3Rpb24gQ2FzdFJlY2VpdmVyKGVsZW1lbnRJZCkge1xyXG4gICAgY29uc29sZS5sb2coJ3JlY2VpdmVyLCBjb25zdHJ1Y3RvcicpO1xyXG5cclxuICAgIGxldCBlbGVtZW50SWRfID0gZWxlbWVudElkO1xyXG4gICAgbGV0IG1lZGlhRWxlbWVudF8gPSBudWxsO1xyXG4gICAgbGV0IHJlY2VpdmVyTWFuYWdlcl8gPSBudWxsO1xyXG4gICAgbGV0IGdlbmVyaWNCdXNfID0gbnVsbDtcclxuICAgIGxldCBvbGRtdG5CdXNfID0gbnVsbDtcclxuICAgIGxldCBtZWRpYU1hbmFnZXJfID0gbnVsbDtcclxuICAgIGxldCBvbkxvYWRPcmlnXyA9IG51bGw7XHJcbiAgICBsZXQgb25HZXRTdGF0dXNPcmlnXyA9IG51bGw7XHJcbiAgICBsZXQgb25NZXRhZGF0YUxvYWRlZE9yaWdfID0gbnVsbDtcclxuICAgIGxldCBvblN0b3BPcmlnXyA9IG51bGw7XHJcbiAgICBsZXQgb25Mb2FkTWV0YWRhdGFFcnJvck9yaWdfID0gbnVsbDtcclxuICAgIGxldCBvbkVycm9yT3JpZ18gPSBudWxsO1xyXG4gICAgbGV0IGV2SGFuZGxlcnMgPSB7fTtcclxuICAgIGxldCBwbGF5ZXJfID0gbnVsbDtcclxuICAgIGxldCBpc0Nvbm5lY3RlZF8gPSBudWxsO1xyXG5cclxuICAgIGxldCBvbVBsYXllcl87XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0dXAoKSB7XHJcbiAgICAgICAgY2FzdC5wbGF5ZXIuYXBpLnNldExvZ2dlckxldmVsKGNhc3QucGxheWVyLmFwaS5Mb2dnZXJMZXZlbC5ERUJVRyk7XHJcbiAgICAgICAgY2FzdC5yZWNlaXZlci5sb2dnZXIuc2V0TGV2ZWxWYWx1ZShjYXN0LnJlY2VpdmVyLkxvZ2dlckxldmVsLkRFQlVHKTtcclxuXHJcbiAgICAgICAgLy8gSW5pdCBDYXN0UmVjZWl2ZXJNYW5hZ2VyXHJcbiAgICAgICAgcmVjZWl2ZXJNYW5hZ2VyXyA9IGNhc3QucmVjZWl2ZXIuQ2FzdFJlY2VpdmVyTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIHJlY2VpdmVyTWFuYWdlcl8ub25SZWFkeSA9IG9uUmVhZHlfO1xyXG4gICAgICAgIHJlY2VpdmVyTWFuYWdlcl8ub25TZW5kZXJEaXNjb25uZWN0ZWQgPSBvblNlbmRlckRpc2Nvbm5lY3RlZF87XHJcbiAgICAgICAgcmVjZWl2ZXJNYW5hZ2VyXy5vblZpc2liaWxpdHlDaGFuZ2VkID0gb25WaXNpYmlsaXR5Q2hhbmdlZF87XHJcblxyXG4gICAgICAgIC8vIGN1c3RvbSBtZXNzYWdlIGJ1c1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdDYXN0VXRpbHMuR0VORVJJQ19NRVNTQUdFX05BTUVTUEFDRTogJyArIENhc3RVdGlscy5HRU5FUklDX01FU1NBR0VfTkFNRVNQQUNFKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnQ2FzdFV0aWxzLk9MRE1UTl9NRVNTQUdFX05BTUVTUEFDRTogJyArIENhc3RVdGlscy5PTERNVE5fTUVTU0FHRV9OQU1FU1BBQ0UpO1xyXG5cclxuICAgICAgICBvbGRtdG5CdXNfID0gcmVjZWl2ZXJNYW5hZ2VyXy5nZXRDYXN0TWVzc2FnZUJ1cyhcclxuICAgICAgICAgICAgICAgIENhc3RVdGlscy5PTERNVE5fTUVTU0FHRV9OQU1FU1BBQ0UpO1xyXG4gICAgICAgIG9sZG10bkJ1c18ub25NZXNzYWdlID0gb25PbGRtdG5NZXNzYWdlXztcclxuXHJcbiAgICAgICAgb21QbGF5ZXJfID0gb2xkbXRuLlBsYXllcihlbGVtZW50SWRfKTtcclxuXHJcbiAgICAgICAgLy8gLy8gSW5pdCBWaWRlbyBFbGVtZW50XHJcbiAgICAgICAgLy8gbGV0IHYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWRfKTtcclxuICAgICAgICAvLyBtZWRpYUVsZW1lbnRfID0gdi5xdWVyeVNlbGVjdG9yKCcuaDVwLXZpZGVvJyk7XHJcbiAgICAgICAgLy8gLy8gbWVkaWFFbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgb25UaW1ldXBkYXRlLFxyXG4gICAgICAgIC8vIC8vICAgICBmYWxzZSk7XHJcblxyXG4gICAgICAgIC8vIC8vIEluaXQgTWVkaWFNYW5hZ2VyXHJcbiAgICAgICAgLy8gbWVkaWFNYW5hZ2VyXyA9IG5ldyBjYXN0LnJlY2VpdmVyLk1lZGlhTWFuYWdlcihtZWRpYUVsZW1lbnRfKTtcclxuXHJcbiAgICAgICAgLy8gLy8gVGhlIGRlZmF1bHQgR0VORVJJQ19NRVNTQUdFX05BTUVTUEFDRSBzaG91bGQgY2FsbGVkIGFmdGVyIGNyZWF0aW5nIE1lZGlhTWFuYWdlci4gXHJcbiAgICAgICAgLy8gZ2VuZXJpY0J1c18gPSByZWNlaXZlck1hbmFnZXJfLmdldENhc3RNZXNzYWdlQnVzKFxyXG4gICAgICAgIC8vICAgICAgICAgQ2FzdFV0aWxzLkdFTkVSSUNfTUVTU0FHRV9OQU1FU1BBQ0UpO1xyXG4gICAgICAgIC8vIGdlbmVyaWNCdXNfLm9uTWVzc2FnZSA9IG9uR2VuZXJpY01lc3NhZ2VfO1xyXG5cclxuICAgICAgICAvLyBvbkxvYWRPcmlnXyA9XHJcbiAgICAgICAgLy8gICAgIG1lZGlhTWFuYWdlcl8ub25Mb2FkLmJpbmQobWVkaWFNYW5hZ2VyXyk7XHJcbiAgICAgICAgLy8gbWVkaWFNYW5hZ2VyXy5vbkxvYWQgPSBvbkxvYWRfO1xyXG5cclxuICAgICAgICAvLyBvbkdldFN0YXR1c09yaWdfID1cclxuICAgICAgICAvLyAgICAgbWVkaWFNYW5hZ2VyXy5vbkdldFN0YXR1cy5iaW5kKG1lZGlhTWFuYWdlcl8pO1xyXG4gICAgICAgIC8vIG1lZGlhTWFuYWdlcl8ub25HZXRTdGF0dXMgPSBvbkdldFN0YXR1c187XHJcblxyXG4gICAgICAgIC8vIG9uTWV0YWRhdGFMb2FkZWRPcmlnXyA9XHJcbiAgICAgICAgLy8gICAgIG1lZGlhTWFuYWdlcl8ub25NZXRhZGF0YUxvYWRlZC5iaW5kKG1lZGlhTWFuYWdlcl8pO1xyXG4gICAgICAgIC8vIG1lZGlhTWFuYWdlcl8ub25NZXRhZGF0YUxvYWRlZCA9IG9uTWV0YWRhdGFMb2FkZWRfO1xyXG5cclxuICAgICAgICAvLyBvblN0b3BPcmlnXyA9XHJcbiAgICAgICAgLy8gICAgIG1lZGlhTWFuYWdlcl8ub25TdG9wLmJpbmQobWVkaWFNYW5hZ2VyXyk7XHJcbiAgICAgICAgLy8gbWVkaWFNYW5hZ2VyXy5vblN0b3AgPSBvblN0b3BfO1xyXG5cclxuICAgICAgICAvLyBvbkxvYWRNZXRhZGF0YUVycm9yT3JpZ18gPVxyXG4gICAgICAgIC8vICAgICBtZWRpYU1hbmFnZXJfLm9uTG9hZE1ldGFkYXRhRXJyb3IuYmluZChtZWRpYU1hbmFnZXJfKTtcclxuICAgICAgICAvLyBtZWRpYU1hbmFnZXJfLm9uTG9hZE1ldGFkYXRhRXJyb3IgPSBvbkxvYWRNZXRhZGF0YUVycm9yXztcclxuXHJcbiAgICAgICAgLy8gb25FcnJvck9yaWdfID0gbWVkaWFNYW5hZ2VyXy5vbkVycm9yLmJpbmQobWVkaWFNYW5hZ2VyXyk7XHJcbiAgICAgICAgLy8gbWVkaWFNYW5hZ2VyXy5vbkVycm9yID0gb25FcnJvcl87XHJcbiAgICB9XHJcbiAgICAvL1xyXG4gICAgZnVuY3Rpb24gZ2V0TWVkaWFFbGVtZW50KCkge1xyXG4gICAgICAgIHJldHVybiBtZWRpYUVsZW1lbnRfO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldE1lZGlhTWFuYWdlcigpIHtcclxuICAgICAgICByZXR1cm4gbWVkaWFNYW5hZ2VyXztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRQbGF5ZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHBsYXllcl87XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25SZWFkeV8oKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ29uUmVhZHknKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvblNlbmRlckRpc2Nvbm5lY3RlZF8oZXZlbnQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnb25TZW5kZXJEaXNjb25uZWN0ZWQnKTtcclxuICAgICAgICAvLyBXaGVuIHRoZSBsYXN0IG9yIG9ubHkgc2VuZGVyIGlzIGNvbm5lY3RlZCB0byBhIHJlY2VpdmVyLFxyXG4gICAgICAgIC8vIHRhcHBpbmcgRGlzY29ubmVjdCBzdG9wcyB0aGUgYXBwIHJ1bm5pbmcgb24gdGhlIHJlY2VpdmVyLlxyXG4gICAgICAgIGlmIChyZWNlaXZlck1hbmFnZXJfLmdldFNlbmRlcnMoKS5sZW5ndGggPT09IDAgJiZcclxuICAgICAgICAgICAgZXZlbnQucmVhc29uID09PVxyXG4gICAgICAgICAgICBjYXN0LnJlY2VpdmVyLnN5c3RlbS5EaXNjb25uZWN0UmVhc29uLlJFUVVFU1RFRF9CWV9TRU5ERVIpIHtcclxuICAgICAgICAgICAgcmVjZWl2ZXJNYW5hZ2VyXy5zdG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9uVGltZXVwZGF0ZSgpIHtcclxuICAgICAgICAvLyB2YXIgY3VyVGltZSA9IG1lZGlhRWxlbWVudF8uY3VycmVudFRpbWU7XHJcbiAgICAgICAgLy8gdmFyIHRvdGFsVGltZSA9IG1lZGlhRWxlbWVudF8uZHVyYXRpb247XHJcblxyXG4gICAgICAgIC8vIC8vY29uc29sZS5sb2coJ29uVGltZXVwZGF0ZSwgJyArIGN1clRpbWUgKyAnLycgKyB0b3RhbFRpbWUpO1xyXG5cclxuICAgICAgICAvLyAvLyB1cGRhdGUgbG9jYWxcclxuICAgICAgICAvLyBldkhhbmRsZXJzWyd0aW1ldXBkYXRlJ10oY3VyVGltZSwgdG90YWxUaW1lKTtcclxuXHJcbiAgICAgICAgLy8gLy8gc2VuZCBtZXNzYWdlIHRvIHNlbmRlclxyXG4gICAgICAgIC8vIHNlbmRNZXNzYWdlXyh7XHJcbiAgICAgICAgLy8gICAgIHR5cGU6ICd0aW1ldXBkYXRlJyxcclxuICAgICAgICAvLyAgICAgZGF0YToge1xyXG4gICAgICAgIC8vICAgICAgICAgY3VyVGltZTogY3VyVGltZSxcclxuICAgICAgICAvLyAgICAgICAgIHRvdGFsVGltZTogdG90YWxUaW1lXHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9LCBvbGRtdG5CdXNfKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvblNlZWtTdGFydF8oKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ29uU2Vla1N0YXJ0Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25TZWVrRW5kXygpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnb25TZWVrRW5kJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25WaXNpYmlsaXR5Q2hhbmdlZF8oZXZlbnQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnb25WaXNpYmlsaXR5Q2hhbmdlZCcpO1xyXG4gICAgICAgIC8vIGlmICghZXZlbnQuaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgLy8gICAgIG1lZGlhRWxlbWVudF8ucGF1c2UoKTtcclxuICAgICAgICAvLyAgICAgbWVkaWFNYW5hZ2VyXy5icm9hZGNhc3RTdGF0dXMoZmFsc2UpO1xyXG4gICAgICAgIC8vIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvbkdlbmVyaWNNZXNzYWdlXyhldmVudCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCcrb25HZW5lcmljTWVzc2FnZV8sIHR5cGU6ICcgKyBldmVudC50eXBlICsgJywgc2VuZGVySWQ6ICcgKyBldmVudC5zZW5kZXJJZCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZygndHlwZTogJyArIGV2ZW50LmRhdGEudHlwZSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3JlcXVlc3RJZDogJyArIGV2ZW50LmRhdGEucmVxdWVzdElkKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnbmFtZXNwYWNlOiAnICsgZXZlbnQubmFtZXNwYWNlKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnc2VuZGVySWQ6ICcgKyBldmVudC5zZW5kZXJJZCk7XHJcblxyXG4gICAgICAgIC8vIHZhciBtZXNzYWdlID0gQ2FzdFV0aWxzLmRlc2VyaWFsaXplKGV2ZW50LmRhdGEpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCcrb25HZW5lcmljTWVzc2FnZV86ICcgKyBtZXNzYWdlWyd0eXBlJ10pO1xyXG5cclxuICAgICAgICAvLyBUT0RPKGlzbWVuYSk6IGVycm9yIG1lc3NhZ2Ugb24gZHVwbGljYXRlIHJlcXVlc3QgaWQgZnJvbSB0aGUgc2FtZSBzZW5kZXJcclxuICAgICAgICAvL3N3aXRjaCAobWVzc2FnZVsndHlwZSddKSB7XHJcbiAgICAgICAgc3dpdGNoIChldmVudC5kYXRhLnR5cGUpIHtcclxuICAgICAgICBjYXNlICdQTEFZJzoge1xyXG4gICAgICAgICAgICAgICAgbWVkaWFFbGVtZW50Xy5wbGF5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnUEFVU0UnOiB7XHJcbiAgICAgICAgICAgICAgICBtZWRpYUVsZW1lbnRfLnBhdXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnTE9BRCc6IHtcclxuICAgICAgICAgICAgICAgIHZhciBtZWRpYUluZm8gPSBldmVudC5kYXRhLm1lZGlhO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRlbnRJZCA9IG1lZGlhSW5mb1snY29udGVudElkJ107XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFuaWZlc3RVcmkgPSBjb250ZW50SWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gdmFyIG1lZGlhSW5mbyA9IG1lc3NhZ2VbJ21lZGlhJ107XHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgY29udGVudElkID0gbWVkaWFJbmZvWydjb250ZW50SWQnXTtcclxuICAgICAgICAgICAgICAgIC8vIHZhciBjdXJyZW50VGltZSA9IG1lc3NhZ2VbJ2N1cnJlbnRUaW1lJ107XHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgbWFuaWZlc3RVcmkgPSBjb250ZW50SWQ7XHJcbiAgICAgICAgICAgICAgICAvLyBzYW1wbGVcclxuICAgICAgICAgICAgICAgIC8vIGNvbnRlbnRJZDogXCJodHRwOi8vMTAuMi43Mi4xMDQvNy9obHMvdjgvZ2VhcjEvdGVzdC5tM3U4XCJcclxuICAgICAgICAgICAgICAgIC8vIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2Rhc2greG1sXCJcclxuICAgICAgICAgICAgICAgIC8vIG1ldGFkYXRhOiBPYmplY3RcclxuICAgICAgICAgICAgICAgIC8vIHN0cmVhbVR5cGU6IFwiQlVGRkVSRURcIlxyXG4gICAgICAgICAgICAgICAgLy8gdmFyIHByb3RvY29sRnVuYyA9IENhc3RSZWNlaXZlci5nZXRQcm90b2NvbEZ1bmN0aW9uXyhtZWRpYUluZm8pO1xyXG4gICAgICAgICAgICAgICAgLy8gdmFyIGhvc3QgPSBuZXcgY2FzdC5wbGF5ZXIuYXBpLkhvc3Qoe1xyXG4gICAgICAgICAgICAgICAgLy8gICAndXJsJzogbWFuaWZlc3RVcmksXHJcbiAgICAgICAgICAgICAgICAvLyAgICdtZWRpYUVsZW1lbnQnOiBtZWRpYUVsZW1lbnRfXHJcbiAgICAgICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICAgICAgICAgIC8vIHBsYXllcl8gPSBuZXcgY2FzdC5wbGF5ZXIuYXBpLlBsYXllcihob3N0KTtcclxuICAgICAgICAgICAgICAgIC8vIHBsYXllcl8ubG9hZChwcm90b2NvbEZ1bmMoaG9zdCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvbk9sZG10bk1lc3NhZ2VfKGV2ZW50KSB7XHJcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBDYXN0VXRpbHMuZGVzZXJpYWxpemUoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ29uT2xkbXRuTWVzc2FnZV8sIGV2ZW50LmRhdGE6ICcgKyBldmVudC5kYXRhKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnb25PbGRtdG5NZXNzYWdlXywgbWVzc2FnZTogJyArIG1lc3NhZ2UpO1xyXG5cclxuICAgICAgICBpZiAobWVzc2FnZS5jbWRUeXBlID09PSAnaW5pdCcpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3Bvc3RlcjogJyArIG1lc3NhZ2UucG9zdGVyKTtcclxuICAgICAgICAgICAgb21QbGF5ZXJfLmluaXQobWVzc2FnZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLmNtZFR5cGUgPT09ICdvcGVuJykge1xyXG4gICAgICAgICAgICBvbVBsYXllcl8ub3BlbihtZXNzYWdlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UuY21kVHlwZSA9PT0gJ2FkZFYnKSB7XHJcbiAgICAgICAgICAgIG9tUGxheWVyXy5hZGRWKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLmNtZFR5cGUgPT09ICdhZGRQRCcpIHtcclxuICAgICAgICAgICAgb21QbGF5ZXJfLmFkZFBEKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLmNtZFR5cGUgPT09ICdwbGF5Jykge1xyXG4gICAgICAgICAgICBvbVBsYXllcl8ucGxheSgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS5jbWRUeXBlID09PSAncGF1c2UnKSB7XHJcbiAgICAgICAgICAgIG9tUGxheWVyXy5wYXVzZSgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS5jbWRUeXBlID09PSAncGxheUFkJykge1xyXG4gICAgICAgICAgICBvbVBsYXllcl8ucGxheUFkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vb2xkbXRuQnVzXy5icm9hZGNhc3QoXCJhYmNkMTIzNFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZW5kTWVzc2FnZV8obWVzc2FnZSwgYnVzLCBvcHRfc2VuZGVySWQpIHtcclxuICAgICAgICAvLyBDdXRzIGxvZyBzcGFtIHdoZW4gZGVidWdnaW5nIHRoZSByZWNlaXZlciBVSSBpbiBDaHJvbWUuXHJcbiAgICAgICAgaWYgKCFpc0Nvbm5lY3RlZF8pXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgdmFyIHNlcmlhbGl6ZWQgPSBDYXN0VXRpbHMuc2VyaWFsaXplKG1lc3NhZ2UpO1xyXG4gICAgICAgIGlmIChvcHRfc2VuZGVySWQpIHtcclxuICAgICAgICAgICAgYnVzLmdldENhc3RDaGFubmVsKG9wdF9zZW5kZXJJZCkuc2VuZChzZXJpYWxpemVkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBidXMuYnJvYWRjYXN0KHNlcmlhbGl6ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAvL1xyXG4gICAgZnVuY3Rpb24gb25Mb2FkXyhldmVudCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdvbkxvYWRfJyk7XHJcblxyXG4gICAgICAgIGlmIChwbGF5ZXJfKSB7XHJcbiAgICAgICAgICAgIHBsYXllcl8udW5sb2FkKCk7XHJcbiAgICAgICAgICAgIHBsYXllcl8gPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGluZm8gPSBuZXcgY2FzdC5yZWNlaXZlci5NZWRpYU1hbmFnZXIuTG9hZEluZm8oZXZlbnQuZGF0YSwgZXZlbnQuc2VuZGVySWQpO1xyXG5cclxuICAgICAgICB2YXIgdXJsID0gaW5mby5tZXNzYWdlLm1lZGlhLmNvbnRlbnRJZDtcclxuICAgICAgICB2YXIgcHJvdG9jb2xGdW5jID0gZ2V0UHJvdG9jb2xGdW5jdGlvbl8oaW5mby5tZXNzYWdlLm1lZGlhKTtcclxuICAgICAgICB2YXIgaG9zdCA9IG5ldyBjYXN0LnBsYXllci5hcGkuSG9zdCh7XHJcbiAgICAgICAgICAgICAgICAndXJsJzogdXJsLFxyXG4gICAgICAgICAgICAgICAgJ21lZGlhRWxlbWVudCc6IG1lZGlhRWxlbWVudF9cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheWVyXyA9IG5ldyBjYXN0LnBsYXllci5hcGkuUGxheWVyKGhvc3QpO1xyXG4gICAgICAgIHBsYXllcl8ubG9hZChwcm90b2NvbEZ1bmMoaG9zdCkpO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBvbkdldFN0YXR1c18oZXZlbnQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnLS1vbkdldFN0YXR1c18tLScsIGV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvbk1ldGFkYXRhTG9hZGVkXyhpbmZvKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ29uTWV0YWRhdGFMb2FkZWQnKTtcclxuXHJcbiAgICAgICAgdmFyIHRvdGFsVGltZSA9IG1lZGlhRWxlbWVudF8uZHVyYXRpb247XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3RvdGFsIHRpbWU6ICcgKyB0b3RhbFRpbWUpO1xyXG5cclxuICAgICAgICBvbk1ldGFkYXRhTG9hZGVkT3JpZ18oaW5mbyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25Mb2FkTWV0YWRhdGFFcnJvcl8oZXZlbnQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnb25Mb2FkTWV0YWRhdGFFcnJvcl8nKTtcclxuICAgICAgICBvbkxvYWRNZXRhZGF0YUVycm9yT3JpZ18oZXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgIC8vIG9iamVjdCBmdW5jdGlvblxyXG4gICAgZnVuY3Rpb24gZ2V0UHJvdG9jb2xGdW5jdGlvbl8obWVkaWFJbmZvcm1hdGlvbikge1xyXG4gICAgICAgIHZhciB1cmwgPSBtZWRpYUluZm9ybWF0aW9uLmNvbnRlbnRJZDtcclxuICAgICAgICB2YXIgdHlwZSA9IG1lZGlhSW5mb3JtYXRpb24uY29udGVudFR5cGUgfHwgJyc7XHJcbiAgICAgICAgdmFyIHBhdGggPSBnZXRQYXRoXyh1cmwpIHx8ICcnO1xyXG4gICAgICAgIGlmIChnZXRFeHRlbnNpb25fKHBhdGgpID09PSAnbTN1OCcgfHxcclxuICAgICAgICAgICAgdHlwZSA9PT0gJ2FwcGxpY2F0aW9uL3gtbXBlZ3VybCcgfHxcclxuICAgICAgICAgICAgdHlwZSA9PT0gJ2FwcGxpY2F0aW9uL3ZuZC5hcHBsZS5tcGVndXJsJykge1xyXG4gICAgICAgICAgICByZXR1cm4gY2FzdC5wbGF5ZXIuYXBpLkNyZWF0ZUhsc1N0cmVhbWluZ1Byb3RvY29sO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZ2V0RXh0ZW5zaW9uXyhwYXRoKSA9PT0gJ21wZCcgfHxcclxuICAgICAgICAgICAgdHlwZSA9PT0gJ2FwcGxpY2F0aW9uL2Rhc2greG1sJykge1xyXG4gICAgICAgICAgICByZXR1cm4gY2FzdC5wbGF5ZXIuYXBpLkNyZWF0ZURhc2hTdHJlYW1pbmdQcm90b2NvbDtcclxuICAgICAgICB9IGVsc2UgaWYgKHBhdGguaW5kZXhPZignLmlzbScpID4gLTEgfHxcclxuICAgICAgICAgICAgdHlwZSA9PT0gJ2FwcGxpY2F0aW9uL3ZuZC5tcy1zc3RyK3htbCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNhc3QucGxheWVyLmFwaS5DcmVhdGVTbW9vdGhTdHJlYW1pbmdQcm90b2NvbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZm9ybWF0RHVyYXRpb25fKGR1cikge1xyXG4gICAgICAgIGR1ciA9IE1hdGguZmxvb3IoZHVyKTtcclxuICAgICAgICBmdW5jdGlvbiBkaWdpdChuKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoJzAwJyArIE1hdGgucm91bmQobikpLnNsaWNlKC0yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGhyID0gTWF0aC5mbG9vcihkdXIgLyAzNjAwKTtcclxuICAgICAgICB2YXIgbWluID0gTWF0aC5mbG9vcihkdXIgLyA2MCkgJSA2MDtcclxuICAgICAgICB2YXIgc2VjID0gZHVyICUgNjA7XHJcbiAgICAgICAgaWYgKCFocikge1xyXG4gICAgICAgICAgICByZXR1cm4gZGlnaXQobWluKSArICc6JyArIGRpZ2l0KHNlYyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRpZ2l0KGhyKSArICc6JyArIGRpZ2l0KG1pbikgKyAnOicgKyBkaWdpdChzZWMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gZ2V0IHRoZSBleHRlbnNpb24gb2YgYSBVUkwgZmlsZSBwYXRoLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgdGhlIFVSTFxyXG4gICAgICogQHJldHVybiB7c3RyaW5nfSB0aGUgZXh0ZW5zaW9uIG9yIFwiXCIgaWYgbm9uZVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0RXh0ZW5zaW9uXyh1cmwpIHtcclxuICAgICAgICB2YXIgcGFydHMgPSB1cmwuc3BsaXQoJy4nKTtcclxuICAgICAgICAvLyBIYW5kbGUgZmlsZXMgd2l0aCBubyBleHRlbnNpb25zIGFuZCBoaWRkZW4gZmlsZXMgd2l0aCBubyBleHRlbnNpb25cclxuICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAxIHx8IChwYXJ0c1swXSA9PT0gJycgJiYgcGFydHMubGVuZ3RoID09PSAyKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwYXJ0cy5wb3AoKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgVVJMIHBhdGguXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMXHJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBVUkwgcGF0aC5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldFBhdGhfKHVybCkge1xyXG4gICAgICAgIHZhciBocmVmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgIGhyZWYuaHJlZiA9IHVybDtcclxuICAgICAgICByZXR1cm4gaHJlZi5wYXRobmFtZSB8fCAnJztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzdGFydCgpIHtcclxuICAgICAgICByZWNlaXZlck1hbmFnZXJfLnN0YXJ0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihldiwgY2IpIHtcclxuICAgICAgICBldkhhbmRsZXJzW2V2XSA9IGNiO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBpbnN0YW5jZSA9IHtcclxuICAgICAgICBzdGFydDogc3RhcnQsXHJcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcjogYWRkRXZlbnRMaXN0ZW5lclxyXG4gICAgfTtcclxuICAgIHNldHVwKCk7XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgQ2FzdFJlY2VpdmVyOyIsIid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCBDYXN0VXRpbHMgZnJvbSAnLi9jYXN0X3V0aWxzJ1xyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vLyBSZW1vdGVQbGF5ZXJIYW5kbGVyXHJcbmZ1bmN0aW9uIFJlbW90ZVBsYXllckhhbmRsZXIoKSB7XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdChyZW1vdGVQbGF5ZXIsIHJlbW90ZVBsYXllckNvbnRyb2xsZXIpIHtcclxuICAgICAgICByZW1vdGVQbGF5ZXIgPSByZW1vdGVQbGF5ZXI7XHJcbiAgICAgICAgcmVtb3RlUGxheWVyQ29udHJvbGxlciA9IHJlbW90ZVBsYXllckNvbnRyb2xsZXI7XHJcblxyXG4gICAgICAgIHJlbW90ZVBsYXllckNvbnRyb2xsZXIuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAgICAgY2FzdC5mcmFtZXdvcmsuUmVtb3RlUGxheWVyRXZlbnRUeXBlLklTX01VVEVEX0NIQU5HRUQsXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibXV0ZWQ6IFwiICsgcmVtb3RlUGxheWVyLmlzTXV0ZWQpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZW1vdGVQbGF5ZXJDb250cm9sbGVyLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgICAgIGNhc3QuZnJhbWV3b3JrLlJlbW90ZVBsYXllckV2ZW50VHlwZS5WT0xVTUVfTEVWRUxfQ0hBTkdFRCxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld1ZvbHVtZSA9IHJlbW90ZVBsYXllci52b2x1bWVMZXZlbDtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCduZXdWb2x1bWUgaXM6ICcgKyBuZXdWb2x1bWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwbGF5KCkge1xyXG4gICAgICAgIGlmIChyZW1vdGVQbGF5ZXIuaXNQYXVzZWQpIHtcclxuICAgICAgICAgICAgcmVtb3RlUGxheWVyQ29udHJvbGxlci5wbGF5T3JQYXVzZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwYXVzZSgpIHtcclxuICAgICAgICBpZiAoIXJlbW90ZVBsYXllci5pc1BhdXNlZCkge1xyXG4gICAgICAgICAgICByZW1vdGVQbGF5ZXJDb250cm9sbGVyLnBsYXlPclBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldFZvbHVtZSh2b2x1bWUpIHtcclxuICAgICAgICByZW1vdGVQbGF5ZXIudm9sdW1lTGV2ZWwgPSB2b2x1bWU7XHJcbiAgICAgICAgcmVtb3RlUGxheWVyQ29udHJvbGxlci5zZXRWb2x1bWVMZXZlbCgpO1xyXG5cclxuICAgICAgICAvLyBvclxyXG4gICAgICAgIC8vc2Vzc2lvbl8uc2V0Vm9sdW1lKDEuMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Vm9sdW1lKCkge1xyXG4gICAgICAgIHJldHVybiByZW1vdGVQbGF5ZXIudm9sdW1lTGV2ZWw7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2Vlayh0aW1lKSB7XHJcbiAgICAgICAgcmVtb3RlUGxheWVyLmN1cnJlbnRUaW1lID0gdGltZTtcclxuICAgICAgICByZW1vdGVQbGF5ZXJDb250cm9sbGVyLnNlZWsoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzdG9wKCkge1xyXG4gICAgICAgIHJlbW90ZVBsYXllckNvbnRyb2xsZXIuc3RvcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBpbnN0YW5jZSA9IHtcclxuICAgICAgICBpbml0OiBpbml0LFxyXG4gICAgICAgIHBsYXk6IHBsYXksXHJcbiAgICAgICAgcGF1c2U6IHBhdXNlLFxyXG4gICAgICAgIHNldFZvbHVtZTogc2V0Vm9sdW1lLFxyXG4gICAgICAgIGdldFZvbHVtZTogZ2V0Vm9sdW1lLFxyXG4gICAgICAgIHNlZWs6IHNlZWssXHJcbiAgICAgICAgc3RvcDogc3RvcFxyXG4gICAgfTtcclxuICAgIHJldHVybiBpbnN0YW5jZTtcclxufTtcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vLyBDYXN0U2VuZGVyXHJcbmZ1bmN0aW9uIENhc3RTZW5kZXIocmVjZWl2ZXJBcHBJZCkge1xyXG4gICAgbGV0IHJlY2VpdmVyQXBwSWRfID0gcmVjZWl2ZXJBcHBJZDtcclxuICAgIGxldCByZW1vdGVQbGF5ZXIgPSBudWxsO1xyXG4gICAgbGV0IHJlbW90ZVBsYXllckNvbnRyb2xsZXIgPSBudWxsO1xyXG4gICAgbGV0IGNhc3RDb250ZXh0XyA9IG51bGw7XHJcbiAgICBsZXQgc2Vzc2lvbl8gPSBudWxsO1xyXG5cclxuICAgIGxldCByZW1vdGVQbGF5ZXJIYW5kbGVyID0gbmV3IFJlbW90ZVBsYXllckhhbmRsZXIoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBzZXR1cCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnY2FzdCwgaW5pdCcpO1xyXG5cclxuICAgICAgICB2YXIgb3B0aW9ucyA9IHt9O1xyXG5cclxuICAgICAgICAvLyBTZXQgdGhlIHJlY2VpdmVyIGFwcGxpY2F0aW9uIElEIHRvIHlvdXIgb3duIChjcmVhdGVkIGluIHRoZVxyXG4gICAgICAgIC8vIEdvb2dsZSBDYXN0IERldmVsb3BlciBDb25zb2xlKSwgb3Igb3B0aW9uYWxseVxyXG4gICAgICAgIC8vIHVzZSB0aGUgY2hyb21lLmNhc3QubWVkaWEuREVGQVVMVF9NRURJQV9SRUNFSVZFUl9BUFBfSURcclxuICAgICAgICBvcHRpb25zLnJlY2VpdmVyQXBwbGljYXRpb25JZCA9IHJlY2VpdmVyQXBwSWQ7XHJcblxyXG4gICAgICAgIC8vIEF1dG8gam9pbiBwb2xpY3kgY2FuIGJlIG9uZSBvZiB0aGUgZm9sbG93aW5nIHRocmVlOlxyXG4gICAgICAgIC8vIE9SSUdJTl9TQ09QRUQgLSBBdXRvIGNvbm5lY3QgZnJvbSBzYW1lIGFwcElkIGFuZCBwYWdlIG9yaWdpblxyXG4gICAgICAgIC8vIFRBQl9BTkRfT1JJR0lOX1NDT1BFRCAtIEF1dG8gY29ubmVjdCBmcm9tIHNhbWUgYXBwSWQsIHBhZ2Ugb3JpZ2luLCBhbmQgdGFiXHJcbiAgICAgICAgLy8gUEFHRV9TQ09QRUQgLSBObyBhdXRvIGNvbm5lY3RcclxuICAgICAgICBvcHRpb25zLmF1dG9Kb2luUG9saWN5ID0gY2hyb21lLmNhc3QuQXV0b0pvaW5Qb2xpY3kuT1JJR0lOX1NDT1BFRDtcclxuICAgICAgICBjYXN0Q29udGV4dF8gPSBjYXN0LmZyYW1ld29yay5DYXN0Q29udGV4dC5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGNhc3RDb250ZXh0Xy5zZXRPcHRpb25zKG9wdGlvbnMpO1xyXG5cclxuICAgICAgICBjYXN0Q29udGV4dF8uYWRkRXZlbnRMaXN0ZW5lcihjYXN0LmZyYW1ld29yay5DYXN0Q29udGV4dEV2ZW50VHlwZS5DQVNUX1NUQVRFX0NIQU5HRUQsXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjYXN0LCBjYXN0IHN0YXRlOiAnLCBlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY2FzdENvbnRleHRfLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgICAgIGNhc3QuZnJhbWV3b3JrLkNhc3RDb250ZXh0RXZlbnRUeXBlLlNFU1NJT05fU1RBVEVfQ0hBTkdFRCxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjYXN0LCBzZXNzaW9uU3RhdGU6ICcgKyBldmVudC5zZXNzaW9uU3RhdGUpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LnNlc3Npb25TdGF0ZSkge1xyXG4gICAgICAgICAgICBjYXNlIGNhc3QuZnJhbWV3b3JrLlNlc3Npb25TdGF0ZS5TRVNTSU9OX1NUQVJURUQ6XHJcbiAgICAgICAgICAgIGNhc2UgY2FzdC5mcmFtZXdvcmsuU2Vzc2lvblN0YXRlLlNFU1NJT05fUkVTVU1FRDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIGNhc3QuZnJhbWV3b3JrLlNlc3Npb25TdGF0ZS5TRVNTSU9OX0VOREVEOlxyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnQ2FzdENvbnRleHQ6IENhc3RTZXNzaW9uIGRpc2Nvbm5lY3RlZCcpO1xyXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGxvY2FsbHkgYXMgbmVjZXNzYXJ5XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZW1vdGVQbGF5ZXIgPSBuZXcgY2FzdC5mcmFtZXdvcmsuUmVtb3RlUGxheWVyKCk7XHJcbiAgICAgICAgcmVtb3RlUGxheWVyQ29udHJvbGxlciA9IG5ldyBjYXN0LmZyYW1ld29yay5SZW1vdGVQbGF5ZXJDb250cm9sbGVyKHJlbW90ZVBsYXllcik7XHJcbiAgICAgICAgcmVtb3RlUGxheWVyQ29udHJvbGxlci5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAgICAgICBjYXN0LmZyYW1ld29yay5SZW1vdGVQbGF5ZXJFdmVudFR5cGUuSVNfQ09OTkVDVEVEX0NIQU5HRUQsXHJcbiAgICAgICAgICAgIG9uQ29ubmVjdGVkQ2hhbmdlZCk7XHJcbiAgICAgICAgcmVtb3RlUGxheWVyQ29udHJvbGxlci5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAgICAgICBjYXN0LmZyYW1ld29yay5SZW1vdGVQbGF5ZXJFdmVudFR5cGUuSVNfTUVESUFfTE9BREVEX0NIQU5HRUQsXHJcbiAgICAgICAgICAgIG9uTWVkaWFMb2FkZWRDaGFuZ2VkKTtcclxuXHJcbiAgICAgICAgLy9cclxuICAgICAgICByZW1vdGVQbGF5ZXJIYW5kbGVyLmluaXQocmVtb3RlUGxheWVyLCByZW1vdGVQbGF5ZXJDb250cm9sbGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvbkNvbm5lY3RlZENoYW5nZWQoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2Nhc3QsICtvbkNvbm5lY3RlZENoYW5nZWQsIHJlbW90ZVBsYXllci5pc0Nvbm5lY3RlZDogJyArIHJlbW90ZVBsYXllci5pc0Nvbm5lY3RlZCk7XHJcblxyXG4gICAgICAgIHNlc3Npb25fID0gY2FzdC5mcmFtZXdvcmsuQ2FzdENvbnRleHQuZ2V0SW5zdGFuY2UoKS5nZXRDdXJyZW50U2Vzc2lvbigpO1xyXG4gICAgICAgIGlmIChzZXNzaW9uXykge1xyXG4gICAgICAgICAgICBzZXNzaW9uXy5hZGRNZXNzYWdlTGlzdGVuZXIoQ2FzdFV0aWxzLk9MRE1UTl9NRVNTQUdFX05BTUVTUEFDRSxcclxuICAgICAgICAgICAgICAgIG9uTWVzc2FnZVJlY2VpdmVkXyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2Nhc3QsIHNlc3Npb25fIGlzIG51bGwnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25NZWRpYUxvYWRlZENoYW5nZWQoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJy0tb25NZWRpYUxvYWRlZENoYW5nZWQtLScpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxvYWRNZWRpYV9TdWNjZXNzQ2IoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJy0tbG9hZE1lZGlhX1N1Y2Nlc3NDYi0tJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbG9hZE1lZGlhX0Vycm9yQ2IoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJy0tbG9hZE1lZGlhX0Vycm9yQ2ItLScpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG5ld19pbml0KG1lc3NhZ2UpIHtcclxuICAgICAgICBtZXNzYWdlLmNtZFR5cGUgPSAnaW5pdCc7XHJcbiAgICAgICAgc2VuZE1lc3NhZ2VfKG1lc3NhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG5ld19vcGVuKG1lc3NhZ2UpIHtcclxuICAgICAgICBtZXNzYWdlLmNtZFR5cGUgPSAnb3Blbic7XHJcbiAgICAgICAgc2VuZE1lc3NhZ2VfKG1lc3NhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG5ld19hZGRWKCkge1xyXG4gICAgICAgIGxldCBtc2cgPSB7J2NtZFR5cGUnOiAnYWRkVid9O1xyXG4gICAgICAgIHNlbmRNZXNzYWdlXyhtc2cpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG5ld19hZGRQRCgpIHtcclxuICAgICAgICBsZXQgbXNnID0geydjbWRUeXBlJzogJ2FkZFBEJ307XHJcbiAgICAgICAgc2VuZE1lc3NhZ2VfKG1zZyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbmV3X3BsYXkoKSB7XHJcbiAgICAgICAgbGV0IG1zZyA9IHsnY21kVHlwZSc6ICdwbGF5J307XHJcbiAgICAgICAgc2VuZE1lc3NhZ2VfKG1zZyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbmV3X3BhdXNlKCkge1xyXG4gICAgICAgIGxldCBtc2cgPSB7J2NtZFR5cGUnOiAncGF1c2UnfTtcclxuICAgICAgICBzZW5kTWVzc2FnZV8obXNnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBuZXdfcGxheUFkKCkge1xyXG4gICAgICAgIGxldCBtc2cgPSB7J2NtZFR5cGUnOiAncGxheUFkJ307XHJcbiAgICAgICAgc2VuZE1lc3NhZ2VfKG1zZyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbmV3X3Rlc3QoKSB7XHJcbiAgICAgICAgdmFyIFNpbmdsZV9JbmxpbmVfTGluZWFyID0gJ2h0dHBzOi8vcHViYWRzLmcuZG91YmxlY2xpY2submV0L2dhbXBhZC9hZHM/c3o9NjQweDQ4MCZpdT0vMTI0MzE5MDk2L2V4dGVybmFsL3NpbmdsZV9hZF9zYW1wbGVzJmNpdV9zenM9MzAweDI1MCZpbXBsPXMmZ2RmcF9yZXE9MSZlbnY9dnAmb3V0cHV0PXZhc3QmdW52aWV3ZWRfcG9zaXRpb25fc3RhcnQ9MSZjdXN0X3BhcmFtcz1kZXBsb3ltZW50JTNEZGV2c2l0ZSUyNnNhbXBsZV9jdCUzRGxpbmVhciZjb3JyZWxhdG9yPSc7XHJcblxyXG4gICAgICAgIGxldCBtc2cgPSAncmVxdWVzdEFkJztcclxuICAgICAgICBtc2cgKz0gKCcsJyArIFNpbmdsZV9JbmxpbmVfTGluZWFyKTtcclxuICAgICAgICBtc2cgKz0gKCcsJyArICc0Jyk7XHJcblxyXG4gICAgICAgIHNlc3Npb25fLnNlbmRNZXNzYWdlKFxyXG4gICAgICAgICAgICBDYXN0VXRpbHMuT0xETVROX01FU1NBR0VfTkFNRVNQQUNFLFxyXG4gICAgICAgICAgICBtc2csXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHt9LCAvLyBzdWNjZXNzIGNhbGxiYWNrXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHt9KTsgLy8gZXJyb3IgY2FsbGJhY2tcclxuICAgIH1cclxuXHJcbiAgICAvLyBPcGVucyB0aGUgY2FzdCBzZWxlY3Rpb24gVUksIHRvIGFsbG93IHVzZXIgdG8gc3RhcnQgb3Igc3RvcCBzZXNzaW9uLlxyXG4gICAgZnVuY3Rpb24gcmVxdWVzdFNlc3Npb24oKSB7XHJcbiAgICAgICAgaWYgKCFjYXN0Q29udGV4dF8pIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdjYXN0LCB5b3Ugc2hvdWxkIGNhbGwgaW5pdCBmaXJzdC4nKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY2FzdENvbnRleHRfLnJlcXVlc3RTZXNzaW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZW5kU2Vzc2lvbigpIHtcclxuICAgICAgICBpZiAoIWNhc3RDb250ZXh0Xykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgY2FzdFNlc3Npb24gPSBjYXN0Q29udGV4dF8uZ2V0Q3VycmVudFNlc3Npb24oKTtcclxuICAgICAgICAvLyBFbmQgdGhlIHNlc3Npb24gYW5kIHBhc3MgJ3RydWUnIHRvIGluZGljYXRlXHJcbiAgICAgICAgLy8gdGhhdCByZWNlaXZlciBhcHBsaWNhdGlvbiBzaG91bGQgYmUgc3RvcHBlZC5cclxuICAgICAgICBjYXN0U2Vzc2lvbi5lbmRTZXNzaW9uKHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHN0b3BDYXN0KCkge31cclxuXHJcbiAgICBmdW5jdGlvbiBsb2FkTWVkaWEodXJsLCB0eXBlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJytsb2FkTWVkaWEnKTtcclxuXHJcbiAgICAgICAgaWYgKGNhc3QgJiYgY2FzdC5mcmFtZXdvcmsgJiYgcmVtb3RlUGxheWVyLmlzQ29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgIHZhciBtZWRpYUluZm8gPSBuZXcgY2hyb21lLmNhc3QubWVkaWEuTWVkaWFJbmZvKHVybCwgdHlwZSk7XHJcblxyXG4gICAgICAgICAgICBtZWRpYUluZm8ubWV0YWRhdGEgPSBuZXcgY2hyb21lLmNhc3QubWVkaWEuR2VuZXJpY01lZGlhTWV0YWRhdGEoKTtcclxuICAgICAgICAgICAgbWVkaWFJbmZvLm1ldGFkYXRhLm1ldGFkYXRhVHlwZSA9IGNocm9tZS5jYXN0Lm1lZGlhLk1ldGFkYXRhVHlwZS5HRU5FUklDO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgY2hyb21lLmNhc3QubWVkaWEuTG9hZFJlcXVlc3QobWVkaWFJbmZvKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEZvciBjYXN0IHRvIHZvUmVjZWl2ZXJcclxuICAgICAgICAgICAgLy9yZXF1ZXN0LmN1c3RvbURhdGEgPSB7IGRybUluZm9MaXN0OiBudWxsIH07XHJcblxyXG4gICAgICAgICAgICBzZXNzaW9uXy5sb2FkTWVkaWEocmVxdWVzdCwgbG9hZE1lZGlhX1N1Y2Nlc3NDYiwgbG9hZE1lZGlhX0Vycm9yQ2IpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlbW90ZVBsYXllciA9IG51bGw7XHJcbiAgICAgICAgICAgIHJlbW90ZVBsYXllckNvbnRyb2xsZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJy1sb2FkTWVkaWEnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvbk1lc3NhZ2VSZWNlaXZlZF8obmFtZXNwYWNlLCBzZXJpYWxpemVkKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3JlY2VpdmUgbXNnLCBuYW1lc3BhY2U6ICcgKyBuYW1lc3BhY2UpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdyZWNlaXZlIG1zZywgc2VyaWFsaXplZDogJyArIHNlcmlhbGl6ZWQpO1xyXG5cclxuICAgICAgICB2YXIgbWVzc2FnZSA9IENhc3RVdGlscy5kZXNlcmlhbGl6ZShzZXJpYWxpemVkKTtcclxuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xyXG4gICAgICAgIGNhc2UgJ3RpbWV1cGRhdGUnOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgdGltZXVwZGF0ZTogY3VyVGltZTogJHttZXNzYWdlLmRhdGEuY3VyVGltZX0vJHttZXNzYWdlLmRhdGEudG90YWxUaW1lfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwbGF5KCkge1xyXG4gICAgICAgIHJlbW90ZVBsYXllckhhbmRsZXIucGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBhdXNlKCkge1xyXG4gICAgICAgIHJlbW90ZVBsYXllckhhbmRsZXIucGF1c2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRWb2x1bWUoKSB7XHJcbiAgICAgICAgdmFyIHZvbHVtZSA9IFJlbW90ZVBsYXllckhhbmRsZXIuZ2V0Vm9sdW1lKCkgKyAwLjE7XHJcblxyXG4gICAgICAgIHJlbW90ZVBsYXllckhhbmRsZXIuc2V0Vm9sdW1lKHZvbHVtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZGVsVm9sdW1lKHZvbHVtZSkge1xyXG4gICAgICAgIHZhciB2b2x1bWUgPSBSZW1vdGVQbGF5ZXJIYW5kbGVyLmdldFZvbHVtZSgpIC0gMC4xO1xyXG4gICAgICAgIHJlbW90ZVBsYXllckhhbmRsZXIuc2V0Vm9sdW1lKHZvbHVtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0Vm9sdW1lKHZvbHVtZSkge1xyXG4gICAgICAgIHJlbW90ZVBsYXllckhhbmRsZXIuc2V0Vm9sdW1lKHZvbHVtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXNDb25uZWN0ZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlbW90ZVBsYXllciAmJiByZW1vdGVQbGF5ZXIuaXNDb25uZWN0ZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2Vlayh0aW1lKSB7XHJcbiAgICAgICAgcmVtb3RlUGxheWVySGFuZGxlci5zZWVrKHBhcnNlRmxvYXQodGltZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHN0b3AoKSB7XHJcbiAgICAgICAgcmVtb3RlUGxheWVySGFuZGxlci5zdG9wKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYXR0cmlidXRlKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdyZW1vdGUgcGxheWVyIHRpbWU6ICcgKyByZW1vdGVQbGF5ZXIuY3VycmVudFRpbWUpO1xyXG4gICAgICAgIGlmIChyZW1vdGVQbGF5ZXIuc2F2ZWRQbGF5ZXJTdGF0ZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygncmVtb3RlUGxheWVyLnNhdmVkUGxheWVyU3RhdGUuY3VycmVudFRpbWU6ICcgKyByZW1vdGVQbGF5ZXIuc2F2ZWRQbGF5ZXJTdGF0ZS5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciB0bXAgPSAxO1xyXG4gICAgZnVuY3Rpb24gdGVzdCgpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCctLXRlc3QtLScpO1xyXG5cclxuICAgICAgICBzZXNzaW9uXy5zZW5kTWVzc2FnZShDYXN0VXRpbHMuT0xETVROX01FU1NBR0VfTkFNRVNQQUNFLFxyXG4gICAgICAgICAgICB0bXAudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKCkge30sIC8vIHN1Y2Nlc3MgY2FsbGJhY2tcclxuICAgICAgICAgICAgZnVuY3Rpb24gKCkge30pOyAvLyBlcnJvciBjYWxsYmFja1xyXG4gICAgICAgIHRtcCArKztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdGVDYWxsXyh0YXJnZXROYW1lLCBtZXRob2ROYW1lKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xyXG4gICAgICAgIHNlbmRNZXNzYWdlXyh7XHJcbiAgICAgICAgICAgICd0eXBlJzogJ2NhbGwnLFxyXG4gICAgICAgICAgICAndGFyZ2V0TmFtZSc6IHRhcmdldE5hbWUsXHJcbiAgICAgICAgICAgICdtZXRob2ROYW1lJzogbWV0aG9kTmFtZSxcclxuICAgICAgICAgICAgJ2FyZ3MnOiBhcmdzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VuZE1lc3NhZ2VfKG1lc3NhZ2UpIHtcclxuICAgICAgICB2YXIgc2VyaWFsaXplZCA9IENhc3RVdGlscy5zZXJpYWxpemUobWVzc2FnZSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3NlbmQgbXNnOiAnICsgc2VyaWFsaXplZCk7XHJcbiAgICAgICAgLy8gVE9ETzogaGF2ZSBuZXZlciBzZWVuIHRoaXMgZmFpbC4gIFdoZW4gd291bGQgaXQgYW5kIGhvdyBzaG91bGQgd2UgcmVhY3Q/XHJcbiAgICAgICAgc2Vzc2lvbl8uc2VuZE1lc3NhZ2UoXHJcbiAgICAgICAgICAgIENhc3RVdGlscy5PTERNVE5fTUVTU0FHRV9OQU1FU1BBQ0UsXHJcbiAgICAgICAgICAgIHNlcmlhbGl6ZWQsXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHt9LCAvLyBzdWNjZXNzIGNhbGxiYWNrXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uICgpIHt9KTsgLy8gZXJyb3IgY2FsbGJhY2tcclxuICAgIH1cclxuXHJcbiAgICBsZXQgaW5zdGFuY2UgPSB7XHJcbiAgICAgICAgLy8gXHJcbiAgICAgICAgbmV3X2luaXQ6IG5ld19pbml0LFxyXG4gICAgICAgIG5ld19vcGVuOiBuZXdfb3BlbixcclxuICAgICAgICBuZXdfYWRkVjogbmV3X2FkZFYsXHJcbiAgICAgICAgbmV3X2FkZFBEOiBuZXdfYWRkUEQsXHJcbiAgICAgICAgbmV3X3BsYXk6IG5ld19wbGF5LFxyXG4gICAgICAgIG5ld19wYXVzZTogbmV3X3BhdXNlLFxyXG4gICAgICAgIG5ld19wbGF5QWQ6IG5ld19wbGF5QWQsXHJcbiAgICAgICAgbmV3X3Rlc3Q6IG5ld190ZXN0LFxyXG4gICAgICAgIC8vIG9sZCBsZWZ0XHJcbiAgICAgICAgcmVxdWVzdFNlc3Npb246IHJlcXVlc3RTZXNzaW9uLFxyXG4gICAgICAgIGVuZFNlc3Npb246IGVuZFNlc3Npb24sXHJcbiAgICAgICAgc3RvcENhc3Q6IHN0b3BDYXN0LFxyXG4gICAgICAgIGxvYWRNZWRpYTogbG9hZE1lZGlhLFxyXG4gICAgICAgIHN0b3A6IHN0b3AsXHJcbiAgICAgICAgcGxheTogcGxheSxcclxuICAgICAgICBwYXVzZTogcGF1c2UsXHJcbiAgICAgICAgYWRkVm9sdW1lOiBhZGRWb2x1bWUsXHJcbiAgICAgICAgZGVsVm9sdW1lOiBkZWxWb2x1bWUsXHJcbiAgICAgICAgc2Vlazogc2VlayxcclxuICAgICAgICBhdHRyaWJ1dGU6IGF0dHJpYnV0ZSxcclxuICAgICAgICB0ZXN0OiB0ZXN0XHJcbiAgICB9O1xyXG5cclxuICAgIHNldHVwKCk7XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDYXN0U2VuZGVyOyIsInZhciBDYXN0VXRpbHMgPSBmdW5jdGlvbiAoKSB7fTtcclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vLyBCZWdpbiBDYXN0VXRpbHNcclxuQ2FzdFV0aWxzLkdFTkVSSUNfTUVTU0FHRV9OQU1FU1BBQ0UgPSAndXJuOngtY2FzdDpjb20uZ29vZ2xlLmNhc3QubWVkaWEnO1xyXG5DYXN0VXRpbHMuT0xETVROX01FU1NBR0VfTkFNRVNQQUNFID0gJ3Vybjp4LWNhc3Q6Y29tLmdvb2dsZS5vbGRtdG4uY2FzdCc7XHJcblxyXG5DYXN0VXRpbHMuc2ltdWxhdGVUaW1lUmFuZ2VzXyA9IGZ1bmN0aW9uKG9iaikge1xyXG4gIHJldHVybiB7XHJcbiAgICBsZW5ndGg6IG9iai5sZW5ndGgsXHJcbiAgICAvLyBOT1RFOiBhIG1vcmUgY29tcGxldGUgc2ltdWxhdGlvbiB3b3VsZCB0aHJvdyB3aGVuIHxpfCB3YXMgb3V0IG9mIHJhbmdlLFxyXG4gICAgLy8gYnV0IGZvciBzaW1wbGljaXR5IHdlIHdpbGwgYXNzdW1lIGEgd2VsbC1iZWhhdmVkIGFwcGxpY2F0aW9uIHRoYXQgdXNlc1xyXG4gICAgLy8gbGVuZ3RoIGluc3RlYWQgb2YgY2F0Y2ggdG8gc3RvcCBpdGVyYXRpbmcuXHJcbiAgICBzdGFydDogZnVuY3Rpb24oaSkgeyByZXR1cm4gb2JqLnN0YXJ0W2ldOyB9LFxyXG4gICAgZW5kOiBmdW5jdGlvbihpKSB7IHJldHVybiBvYmouZW5kW2ldOyB9XHJcbiAgfTtcclxufTtcclxuXHJcbkNhc3RVdGlscy5zZXJpYWxpemUgPSBmdW5jdGlvbih0aGluZykge1xyXG4gIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGluZyk7XHJcbn07XHJcblxyXG5DYXN0VXRpbHMuZGVzZXJpYWxpemUgPSBmdW5jdGlvbihzdHIpIHtcclxuICByZXR1cm4gSlNPTi5wYXJzZShzdHIsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcclxuICAgIGlmICh2YWx1ZSA9PSAnTmFOJykge1xyXG4gICAgICByZXR1cm4gTmFOO1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAnLUluZmluaXR5Jykge1xyXG4gICAgICByZXR1cm4gLUluZmluaXR5O1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAnSW5maW5pdHknKSB7XHJcbiAgICAgIHJldHVybiBJbmZpbml0eTtcclxuICAgIH0gZWxzZSBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmXHJcbiAgICAgICAgICAgICAgIHZhbHVlWydfX3R5cGVfXyddID09ICdUaW1lUmFuZ2VzJykge1xyXG4gICAgICAvLyBUaW1lUmFuZ2VzIG9iamVjdHMgaGF2ZSBiZWVuIHVucGFja2VkIGFuZCBzZW50IGFzIHBsYWluIGRhdGEuXHJcbiAgICAgIC8vIFNpbXVsYXRlIHRoZSBvcmlnaW5hbCBUaW1lUmFuZ2VzIG9iamVjdC5cclxuICAgICAgcmV0dXJuIENhc3RVdGlscy5zaW11bGF0ZVRpbWVSYW5nZXNfKHZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxuICB9KTtcclxufTtcclxuLy8gRW5kIENhc3RVdGlsc1xyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhc3RVdGlscztcclxuXHJcbiIsIu+7vy8qKlxuICogQGNsYXNzXG4gKlxuICovXG5jbGFzcyBDb3JlRXZlbnRzIHtcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBQdWJsaWMgZmFjaW5nIGV4dGVybmFsIGV2ZW50cyB0byBiZSB1c2VkIHdoZW4gZGV2ZWxvcGluZyBhIHBsYXllciB0aGF0IGltcGxlbWVudHMgZGFzaC5qcy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAgIC8vIG1zZSBldmVudHNcbiAgICAgICAgdGhpcy5NU0VfT1BFTkVEID0gJ21zZU9wZW5lZCc7XG5cbiAgICAgICAgLy8gc291cmNlIGJ1ZmZlciBldmVudHNcbiAgICAgICAgdGhpcy5TQl9VUERBVEVfRU5ERUQgPSAnc2JVcGRhdGVFbmRlZCc7XG5cbiAgICAgICAgLy8gbWVkaWEgZWxlbWVudCBldmVudHNhXG4gICAgICAgIHRoaXMuTUVESUFfQ0FOUExBWV9USFJPVUdIID0gJ21lZGlhQ2FuUGxheVRocm91Z2gnO1xuICAgICAgICB0aGlzLk1FRElBX0RVUkFUSU9OX0NIQU5HRUQgPSAnbWVkaWFEdXJhdGlvbkNoYW5nZWQnO1xuICAgICAgICB0aGlzLk1FRElBX0VOREVEID0gJ21lZGlhRW5kZWQnO1xuICAgICAgICB0aGlzLk1FRElBX0xPQURFRERBVEEgPSAnbWVkaWFMb2FkZWREYXRhJztcbiAgICAgICAgdGhpcy5NRURJQV9MT0FERURNRVRBREFUQSA9ICdtZWRpYUxvYWRlZE1ldGFkYXRhJztcbiAgICAgICAgdGhpcy5NRURJQV9QQVVTRUQgPSAnbWVkaWFQYXVzZWQnO1xuICAgICAgICB0aGlzLk1FRElBX1BMQVlJTkcgPSAnbWVkaWFQbGF5aW5nJztcbiAgICAgICAgdGhpcy5NRURJQV9TRUVLSU5HID0gJ21lZGlhU2Vla2luZyc7XG4gICAgICAgIHRoaXMuTUVESUFfU0VFS0VEID0gJ21lZGlhU2Vla2VkJztcbiAgICAgICAgdGhpcy5NRURJQV9USU1FVVBEQVRFID0gJ21lZGlhVGltZXVwZGF0ZSc7XG4gICAgICAgIHRoaXMuTUVESUFfVk9MVU1FX0NIQU5HRUQgPSAnbWVkaWFWb2x1bWVDaGFuZ2VkJztcbiAgICAgICAgdGhpcy5NRURJQV9XQUlUSU5HID0gJ21lZGlhV2FpdGluZyc7XG5cbiAgICAgICAgLy8gYWRzIGludGVybmFsIGV2ZW50c1xuICAgICAgICB0aGlzLkFEX0VSUk9SID0gJ2FkRXJyb3InO1xuICAgICAgICB0aGlzLkFEX1NUQVJURUQgPSAnYWRTdGFydGVkJztcbiAgICAgICAgdGhpcy5BRF9DT01QTEVURSA9ICdhZENvbXBsZXRlJztcbiAgICAgICAgdGhpcy5BRF9DT05URU5UX1BBVVNFX1JFUVVFU1RFRCA9ICdhZENvbnRlbnRQYXVzZVJlcXVlc3RlZCc7XG4gICAgICAgIHRoaXMuQURfQ09OVEVOVF9SRVNVTUVfUkVRVUVTVEVEID0gJ2FkQ29udGVudFJlc3VtZVJlcXVlc3RlZCc7XG4gICAgICAgIHRoaXMuQURfQURTX01BTkFHRVJfTE9BREVEID0gJ2FkQWRzTWFuYWdlckxvYWRlZCc7XG4gICAgICAgIHRoaXMuQURfVElNRVVQREFURSA9ICdhZFRpbWVVcGRhdGUnO1xuXG4gICAgICAgIC8vIGxvZyBldmVudFxuICAgICAgICB0aGlzLkxPRyA9ICdsb2cnO1xuXG4gICAgICAgIC8vIERPTSBFdmVudHNcbiAgICAgICAgdGhpcy5GVUxMU0NSRUVOX0NIQU5HRSA9ICdmdWxsc2NyZWVuQ2hhbmdlJztcblxuICAgICAgICAvLyBjb250cm9sbGVyIGV2ZW50c1xuICAgICAgICB0aGlzLkZSQUdNRU5UX0RPV05MT0FERUQgPSAnZnJhZ21lbnREb3dubG9hZGVkJztcbiAgICAgICAgdGhpcy5GUkFHTUVOVF9ET1dOTE9BREVEX0VOREVEID0gJ2ZyYWdtZW50RG93bmxvYWRlZEVuZGVkJztcblxuICAgICAgICAvL1xuICAgICAgICB0aGlzLlRFU1RfTVNHID0gJ3Rlc3RNc2cnO1xuICAgIH1cbn1cblxubGV0IGNvcmVFdmVudHMgPSBuZXcgQ29yZUV2ZW50cygpO1xuZXhwb3J0IGRlZmF1bHQgY29yZUV2ZW50cztcbiIsIi8qKlxyXG4gKiBUaGUgY29weXJpZ2h0IGluIHRoaXMgc29mdHdhcmUgaXMgYmVpbmcgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIEJTRCBMaWNlbnNlLFxyXG4gKiBpbmNsdWRlZCBiZWxvdy4gVGhpcyBzb2Z0d2FyZSBtYXkgYmUgc3ViamVjdCB0byBvdGhlciB0aGlyZCBwYXJ0eSBhbmQgY29udHJpYnV0b3JcclxuICogcmlnaHRzLCBpbmNsdWRpbmcgcGF0ZW50IHJpZ2h0cywgYW5kIG5vIHN1Y2ggcmlnaHRzIGFyZSBncmFudGVkIHVuZGVyIHRoaXMgbGljZW5zZS5cclxuICpcclxuICogQ29weXJpZ2h0IChjKSAyMDEzLCBEYXNoIEluZHVzdHJ5IEZvcnVtLlxyXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLFxyXG4gKiBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XHJcbiAqICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpc1xyXG4gKiAgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXHJcbiAqICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcclxuICogIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yXHJcbiAqICBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxyXG4gKiAgKiBOZWl0aGVyIHRoZSBuYW1lIG9mIERhc2ggSW5kdXN0cnkgRm9ydW0gbm9yIHRoZSBuYW1lcyBvZiBpdHNcclxuICogIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmVcclxuICogIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxyXG4gKlxyXG4gKiAgVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBBUyBJUyBBTkQgQU5ZXHJcbiAqICBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEXHJcbiAqICBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuXHJcbiAqICBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULFxyXG4gKiAgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVFxyXG4gKiAgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxyXG4gKiAgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksXHJcbiAqICBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpXHJcbiAqICBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRVxyXG4gKiAgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXHJcbiAqL1xyXG5pbXBvcnQgRXZlbnRCdXMgZnJvbSAnLi9FdmVudEJ1cyc7XHJcbmltcG9ydCBFdmVudHMgZnJvbSAnLi9Db3JlRXZlbnRzJztcclxuaW1wb3J0IEZhY3RvcnlNYWtlciBmcm9tICcuL0ZhY3RvcnlNYWtlcic7XHJcblxyXG4vKipcclxuICogQG1vZHVsZSBEZWJ1Z1xyXG4gKi9cclxuZnVuY3Rpb24gRGVidWcoKSB7XHJcblxyXG4gICAgbGV0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XHJcbiAgICBsZXQgZXZlbnRCdXMgPSBFdmVudEJ1cyhjb250ZXh0KS5nZXRJbnN0YW5jZSgpO1xyXG5cclxuICAgIGxldCBpbnN0YW5jZSxcclxuICAgICAgICBsb2dUb0Jyb3dzZXJDb25zb2xlLFxyXG4gICAgICAgIHNob3dMb2dUaW1lc3RhbXAsXHJcbiAgICAgICAgc2hvd0NhbGxlZU5hbWUsXHJcbiAgICAgICAgc3RhcnRUaW1lO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldHVwKCkge1xyXG4gICAgICAgIGxvZ1RvQnJvd3NlckNvbnNvbGUgPSB0cnVlO1xyXG4gICAgICAgIHNob3dMb2dUaW1lc3RhbXAgPSB0cnVlO1xyXG4gICAgICAgIHNob3dDYWxsZWVOYW1lID0gdHJ1ZTtcclxuICAgICAgICBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFByZXBlbmRzIGEgdGltZXN0YW1wIGluIG1pbGxpc2Vjb25kcyB0byBlYWNoIGxvZyBtZXNzYWdlLlxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0byBzZWUgYSB0aW1lc3RhbXAgaW4gZWFjaCBsb2cgbWVzc2FnZS5cclxuICAgICAqIEBkZWZhdWx0IGZhbHNlXHJcbiAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOkRlYnVnXHJcbiAgICAgKiBAaW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gc2V0TG9nVGltZXN0YW1wVmlzaWJsZSh2YWx1ZSkge1xyXG4gICAgICAgIHNob3dMb2dUaW1lc3RhbXAgPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUHJlcGVuZHMgdGhlIGNhbGxlZSBvYmplY3QgbmFtZSwgYW5kIG1lZGlhIHR5cGUgaWYgYXZhaWxhYmxlLCB0byBlYWNoIGxvZyBtZXNzYWdlLlxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0byBzZWUgdGhlIGNhbGxlZSBvYmplY3QgbmFtZSBhbmQgbWVkaWEgdHlwZSBpbiBlYWNoIGxvZyBtZXNzYWdlLlxyXG4gICAgICogQGRlZmF1bHQgZmFsc2VcclxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6RGVidWdcclxuICAgICAqIEBpbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzZXRDYWxsZWVOYW1lVmlzaWJsZSh2YWx1ZSkge1xyXG4gICAgICAgIHNob3dDYWxsZWVOYW1lID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRvZ2dsZXMgbG9nZ2luZyB0byB0aGUgYnJvd3NlcidzIGphdmFzY3JpcHQgY29uc29sZS4gIElmIHlvdSBzZXQgdG8gZmFsc2UgeW91IHdpbGwgc3RpbGwgcmVjZWl2ZSBhIGxvZyBldmVudCB3aXRoIHRoZSBzYW1lIG1lc3NhZ2UuXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIFNldCB0byBmYWxzZSBpZiB5b3Ugd2FudCB0byB0dXJuIG9mZiBsb2dnaW5nIHRvIHRoZSBicm93c2VyJ3MgY29uc29sZS5cclxuICAgICAqIEBkZWZhdWx0IHRydWVcclxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6RGVidWdcclxuICAgICAqIEBpbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzZXRMb2dUb0Jyb3dzZXJDb25zb2xlKHZhbHVlKSB7XHJcbiAgICAgICAgbG9nVG9Ccm93c2VyQ29uc29sZSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gZ2V0IHRoZSBzdGF0ZSBvZiBsb2dUb0Jyb3dzZXJDb25zb2xlLlxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRoZSBjdXJyZW50IHZhbHVlIG9mIGxvZ1RvQnJvd3NlckNvbnNvbGVcclxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6RGVidWdcclxuICAgICAqIEBpbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRMb2dUb0Jyb3dzZXJDb25zb2xlKCkge1xyXG4gICAgICAgIHJldHVybiBsb2dUb0Jyb3dzZXJDb25zb2xlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGFsbG93IHlvdSBzZW5kIGxvZyBtZXNzYWdlcyB0byBlaXRoZXIgdGhlIGJyb3dzZXIncyBjb25zb2xlIGFuZC9vciBkaXNwYXRjaCBhbiBldmVudCB0byBjYXB0dXJlIGF0IHRoZSBtZWRpYSBwbGF5ZXIgbGV2ZWwuXHJcbiAgICAgKiBAcGFyYW0gey4uLip9IGFyZ3VtZW50cyBUaGUgbWVzc2FnZSB5b3Ugd2FudCB0byBsb2cuIFRoZSBBcmd1bWVudHMgb2JqZWN0IGlzIHN1cHBvcnRlZCBmb3IgdGhpcyBtZXRob2Qgc28geW91IGNhbiBzZW5kIGluIGNvbW1hIHNlcGFyYXRlZCBsb2dnaW5nIGl0ZW1zLlxyXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpEZWJ1Z1xyXG4gICAgICogQGluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGxvZygpIHtcclxuXHJcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSAnJztcclxuICAgICAgICBsZXQgbG9nVGltZSA9IG51bGw7XHJcblxyXG4gICAgICAgIGlmIChzaG93TG9nVGltZXN0YW1wKSB7XHJcbiAgICAgICAgICAgIC8vIG9sZCBmcm9tIGRhc2hqc1xyXG4gICAgICAgICAgICAvL2xvZ1RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgLy9tZXNzYWdlICs9ICdbJyArIChsb2dUaW1lIC0gc3RhcnRUaW1lKSArICddJztcclxuICAgICAgICAgICAgLy8gbmV3IGJ5IG9sZG10blxyXG4gICAgICAgICAgICBsb2dUaW1lID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgbWVzc2FnZSArPSAnWycgKyAoJzAnICsgKGxvZ1RpbWUuZ2V0TW9udGgoKSArIDEpKS5zbGljZSgtMikgKyAnLScgK1xyXG4gICAgICAgICAgICAgICAgKCcwJyArIGxvZ1RpbWUuZ2V0RGF0ZSgpKS5zbGljZSgtMikgKyAnICcgK1xyXG4gICAgICAgICAgICAgICAgKCcwJyArIGxvZ1RpbWUuZ2V0SG91cnMoKSkuc2xpY2UoLTIpICsgJzonICtcclxuICAgICAgICAgICAgICAgICgnMCcgKyBsb2dUaW1lLmdldE1pbnV0ZXMoKSkuc2xpY2UoLTIpICsgJzonICtcclxuICAgICAgICAgICAgICAgICgnMCcgKyBsb2dUaW1lLmdldFNlY29uZHMoKSkuc2xpY2UoLTIpICsgJy4nICtcclxuICAgICAgICAgICAgICAgICgnMCcgKyBsb2dUaW1lLmdldE1pbGxpc2Vjb25kcygpKS5zbGljZSgtMykgKyAnXSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc2hvd0NhbGxlZU5hbWUgJiYgdGhpcyAmJiB0aGlzLmdldENsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICBtZXNzYWdlICs9ICdbJyArIHRoaXMuZ2V0Q2xhc3NOYW1lKCkgKyAnXSc7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdldFR5cGUpIHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gJ1snICsgdGhpcy5nZXRUeXBlKCkgKyAnXSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChtZXNzYWdlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbWVzc2FnZSArPSAnICc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBBcnJheS5hcHBseShudWxsLCBhcmd1bWVudHMpLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgbWVzc2FnZSArPSBpdGVtICsgJyAnO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAobG9nVG9Ccm93c2VyQ29uc29sZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV2ZW50QnVzLnRyaWdnZXIoRXZlbnRzLkxPRywge21lc3NhZ2U6IG1lc3NhZ2V9KTtcclxuICAgIH1cclxuXHJcbiAgICBpbnN0YW5jZSA9IHtcclxuICAgICAgICBsb2c6IGxvZyxcclxuICAgICAgICBzZXRMb2dUaW1lc3RhbXBWaXNpYmxlOiBzZXRMb2dUaW1lc3RhbXBWaXNpYmxlLFxyXG4gICAgICAgIHNldENhbGxlZU5hbWVWaXNpYmxlOiBzZXRDYWxsZWVOYW1lVmlzaWJsZSxcclxuICAgICAgICBzZXRMb2dUb0Jyb3dzZXJDb25zb2xlOiBzZXRMb2dUb0Jyb3dzZXJDb25zb2xlLFxyXG4gICAgICAgIGdldExvZ1RvQnJvd3NlckNvbnNvbGU6IGdldExvZ1RvQnJvd3NlckNvbnNvbGVcclxuICAgIH07XHJcblxyXG4gICAgc2V0dXAoKTtcclxuXHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbn1cclxuXHJcbkRlYnVnLl9faDVwbGF5ZXJfZmFjdG9yeV9uYW1lID0gJ0RlYnVnJztcclxuZXhwb3J0IGRlZmF1bHQgRmFjdG9yeU1ha2VyLmdldFNpbmdsZXRvbkZhY3RvcnkoRGVidWcpO1xyXG4iLCIvKipcbiAqIFRoZSBjb3B5cmlnaHQgaW4gdGhpcyBzb2Z0d2FyZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsXG4gKiBpbmNsdWRlZCBiZWxvdy4gVGhpcyBzb2Z0d2FyZSBtYXkgYmUgc3ViamVjdCB0byBvdGhlciB0aGlyZCBwYXJ0eSBhbmQgY29udHJpYnV0b3JcbiAqIHJpZ2h0cywgaW5jbHVkaW5nIHBhdGVudCByaWdodHMsIGFuZCBubyBzdWNoIHJpZ2h0cyBhcmUgZ3JhbnRlZCB1bmRlciB0aGlzIGxpY2Vuc2UuXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLCBEYXNoIEluZHVzdHJ5IEZvcnVtLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLFxuICogYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICogICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXG4gKiAgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gKiAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3JcbiAqICBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICogICogTmVpdGhlciB0aGUgbmFtZSBvZiBEYXNoIEluZHVzdHJ5IEZvcnVtIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZVxuICogIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuICpcbiAqICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIEFTIElTIEFORCBBTllcbiAqICBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEXG4gKiAgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELlxuICogIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsXG4gKiAgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVFxuICogIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcbiAqICBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcbiAqICBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpXG4gKiAgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcbiAqICBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqL1xuaW1wb3J0IEZhY3RvcnlNYWtlciBmcm9tICcuL0ZhY3RvcnlNYWtlcic7XG5cbmNvbnN0IEVWRU5UX1BSSU9SSVRZX0xPVyA9IDA7XG5jb25zdCBFVkVOVF9QUklPUklUWV9ISUdIID0gNTAwMDtcblxuZnVuY3Rpb24gRXZlbnRCdXMoKSB7XG5cbiAgICBsZXQgaGFuZGxlcnMgPSB7fTtcblxuICAgIGZ1bmN0aW9uIG9uKGV2VHlwZSwgbGlzdGVuZXIsIHNjb3BlLCBwcmlvcml0eSA9IEVWRU5UX1BSSU9SSVRZX0xPVykge1xuXG4gICAgICAgIGlmICghZXZUeXBlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2V2ZW50IGV2VHlwZSBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHR5cGVvZiAobGlzdGVuZXIpICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbjogJyArIGxpc3RlbmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnZXRIYW5kbGVySWR4KGV2VHlwZSwgbGlzdGVuZXIsIHNjb3BlKSA+PSAwKSByZXR1cm47XG5cbiAgICAgICAgaGFuZGxlcnNbZXZUeXBlXSA9IGhhbmRsZXJzW2V2VHlwZV0gfHwgW107XG5cbiAgICAgICAgY29uc3QgaGFuZGxlciA9IHtcbiAgICAgICAgICAgIGNhbGxiYWNrOiBsaXN0ZW5lcixcbiAgICAgICAgICAgIHNjb3BlOiBzY29wZSxcbiAgICAgICAgICAgIHByaW9yaXR5OiBwcmlvcml0eVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IGluc2VydGVkID0gaGFuZGxlcnNbZXZUeXBlXS5zb21lKChpdGVtICwgaWR4KSA9PiB7XG4gICAgICAgICAgICBpZiAocHJpb3JpdHkgPiBpdGVtLnByaW9yaXR5ICkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXJzW2V2VHlwZV0uc3BsaWNlKGlkeCwgMCwgaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghaW5zZXJ0ZWQpIHtcbiAgICAgICAgICAgIGhhbmRsZXJzW2V2VHlwZV0ucHVzaChoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9mZihldlR5cGUsIGxpc3RlbmVyLCBzY29wZSkge1xuICAgICAgICBpZiAoIWV2VHlwZSB8fCAhbGlzdGVuZXIgfHwgIWhhbmRsZXJzW2V2VHlwZV0pIHJldHVybjtcbiAgICAgICAgY29uc3QgaWR4ID0gZ2V0SGFuZGxlcklkeChldlR5cGUsIGxpc3RlbmVyLCBzY29wZSk7XG4gICAgICAgIGlmIChpZHggPCAwKSByZXR1cm47XG4gICAgICAgIGhhbmRsZXJzW2V2VHlwZV0uc3BsaWNlKGlkeCwgMSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdHJpZ2dlcihldlR5cGUsIHBheWxvYWQpIHtcbiAgICAgICAgaWYgKCFldlR5cGUgfHwgIWhhbmRsZXJzW2V2VHlwZV0pIHJldHVybjtcblxuICAgICAgICBwYXlsb2FkID0gcGF5bG9hZCB8fCB7fTtcblxuICAgICAgICBpZiAocGF5bG9hZC5oYXNPd25Qcm9wZXJ0eSgnZXZUeXBlJykpIHRocm93IG5ldyBFcnJvcignXFwnZXZUeXBlXFwnIGlzIGEgcmVzZXJ2ZWQgd29yZCBmb3IgZXZlbnQgZGlzcGF0Y2hpbmcnKTtcblxuICAgICAgICBwYXlsb2FkLmV2VHlwZSA9IGV2VHlwZTtcblxuICAgICAgICBoYW5kbGVyc1tldlR5cGVdLmZvckVhY2goIGhhbmRsZXIgPT4gaGFuZGxlci5jYWxsYmFjay5jYWxsKGhhbmRsZXIuc2NvcGUsIHBheWxvYWQpICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0SGFuZGxlcklkeChldlR5cGUsIGxpc3RlbmVyLCBzY29wZSkge1xuXG4gICAgICAgIGxldCBpZHggPSAtMTtcblxuICAgICAgICBpZiAoIWhhbmRsZXJzW2V2VHlwZV0pIHJldHVybiBpZHg7XG5cbiAgICAgICAgaGFuZGxlcnNbZXZUeXBlXS5zb21lKCAoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChpdGVtLmNhbGxiYWNrID09PSBsaXN0ZW5lciAmJiAoIXNjb3BlIHx8IHNjb3BlID09PSBpdGVtLnNjb3BlKSkge1xuICAgICAgICAgICAgICAgIGlkeCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGlkeDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgaGFuZGxlcnMgPSB7fTtcbiAgICB9XG5cbiAgICBjb25zdCBpbnN0YW5jZSA9IHtcbiAgICAgICAgb246IG9uLFxuICAgICAgICBvZmY6IG9mZixcbiAgICAgICAgdHJpZ2dlcjogdHJpZ2dlcixcbiAgICAgICAgcmVzZXQ6IHJlc2V0XG4gICAgfTtcblxuICAgIHJldHVybiBpbnN0YW5jZTtcbn1cblxuRXZlbnRCdXMuX19oNXBsYXllcl9mYWN0b3J5X25hbWUgPSAnRXZlbnRCdXMnO1xuY29uc3QgZmFjdG9yeSA9IEZhY3RvcnlNYWtlci5nZXRTaW5nbGV0b25GYWN0b3J5KEV2ZW50QnVzKTtcbmZhY3RvcnkuRVZFTlRfUFJJT1JJVFlfTE9XID0gRVZFTlRfUFJJT1JJVFlfTE9XO1xuZmFjdG9yeS5FVkVOVF9QUklPUklUWV9ISUdIID0gRVZFTlRfUFJJT1JJVFlfSElHSDtcbmV4cG9ydCBkZWZhdWx0IGZhY3Rvcnk7IiwiLyoqXHJcbiAqIFRoZSBjb3B5cmlnaHQgaW4gdGhpcyBzb2Z0d2FyZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsXHJcbiAqIGluY2x1ZGVkIGJlbG93LiBUaGlzIHNvZnR3YXJlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZCBjb250cmlidXRvclxyXG4gKiByaWdodHMsIGluY2x1ZGluZyBwYXRlbnQgcmlnaHRzLCBhbmQgbm8gc3VjaCByaWdodHMgYXJlIGdyYW50ZWQgdW5kZXIgdGhpcyBsaWNlbnNlLlxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMsIERhc2ggSW5kdXN0cnkgRm9ydW0uXHJcbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sXHJcbiAqIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcclxuICogICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXHJcbiAqICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cclxuICogICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxyXG4gKiAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3JcclxuICogIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXHJcbiAqICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgRGFzaCBJbmR1c3RyeSBGb3J1bSBub3IgdGhlIG5hbWVzIG9mIGl0c1xyXG4gKiAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZVxyXG4gKiAgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXHJcbiAqXHJcbiAqICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIEFTIElTIEFORCBBTllcclxuICogIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcclxuICogIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC5cclxuICogIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsXHJcbiAqICBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUXHJcbiAqICBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXHJcbiAqICBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcclxuICogIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcclxuICogIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFXHJcbiAqICBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cclxuICovXHJcbi8qKlxyXG4gKiBAbW9kdWxlIEZhY3RvcnlNYWtlclxyXG4gKi9cclxubGV0IEZhY3RvcnlNYWtlciA9IChmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgbGV0IGluc3RhbmNlO1xyXG4gICAgbGV0IGV4dGVuc2lvbnMgPSBbXTtcclxuICAgIGxldCBzaW5nbGV0b25Db250ZXh0cyA9IFtdO1xyXG5cclxuICAgIGZ1bmN0aW9uIGV4dGVuZChuYW1lLCBjaGlsZEluc3RhbmNlLCBvdmVycmlkZSwgY29udGV4dCkge1xyXG4gICAgICAgIGxldCBleHRlbnNpb25Db250ZXh0ID0gZ2V0RXh0ZW5zaW9uQ29udGV4dChjb250ZXh0KTtcclxuICAgICAgICBpZiAoIWV4dGVuc2lvbkNvbnRleHRbbmFtZV0gJiYgY2hpbGRJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBleHRlbnNpb25Db250ZXh0W25hbWVdID0ge2luc3RhbmNlOiBjaGlsZEluc3RhbmNlLCBvdmVycmlkZTogb3ZlcnJpZGV9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFVzZSB0aGlzIG1ldGhvZCBmcm9tIHlvdXIgZXh0ZW5kZWQgb2JqZWN0LiAgdGhpcy5mYWN0b3J5IGlzIGluamVjdGVkIGludG8geW91ciBvYmplY3QuXHJcbiAgICAgKiB0aGlzLmZhY3RvcnkuZ2V0U2luZ2xldG9uSW5zdGFuY2UodGhpcy5jb250ZXh0LCAnVmlkZW9Nb2RlbCcpXHJcbiAgICAgKiB3aWxsIHJldHVybiB0aGUgdmlkZW8gbW9kZWwgZm9yIHVzZSBpbiB0aGUgZXh0ZW5kZWQgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0IC0gaW5qZWN0ZWQgaW50byBleHRlbmRlZCBvYmplY3QgYXMgdGhpcy5jb250ZXh0XHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIC0gc3RyaW5nIG5hbWUgZm91bmQgaW4gYWxsIGRhc2guanMgb2JqZWN0c1xyXG4gICAgICogd2l0aCBuYW1lIF9faDVwbGF5ZXJfZmFjdG9yeV9uYW1lIFdpbGwgYmUgYXQgdGhlIGJvdHRvbS4gV2lsbCBiZSB0aGUgc2FtZSBhcyB0aGUgb2JqZWN0J3MgbmFtZS5cclxuICAgICAqIEByZXR1cm5zIHsqfSBDb250ZXh0IGF3YXJlIGluc3RhbmNlIG9mIHNwZWNpZmllZCBzaW5nbGV0b24gbmFtZS5cclxuICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6RmFjdG9yeU1ha2VyXHJcbiAgICAgKiBAaW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0U2luZ2xldG9uSW5zdGFuY2UoY29udGV4dCwgY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiBzaW5nbGV0b25Db250ZXh0cykge1xyXG4gICAgICAgICAgICBsZXQgb2JqID0gc2luZ2xldG9uQ29udGV4dHNbaV07XHJcbiAgICAgICAgICAgIGlmIChvYmouY29udGV4dCA9PT0gY29udGV4dCAmJiBvYmoubmFtZSA9PT0gY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqLmluc3RhbmNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXNlIHRoaXMgbWV0aG9kIHRvIGFkZCBhbiBzaW5nbGV0b24gaW5zdGFuY2UgdG8gdGhlIHN5c3RlbS4gIFVzZWZ1bCBmb3IgdW5pdCB0ZXN0aW5nIHRvIG1vY2sgb2JqZWN0cyBldGMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWVcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZVxyXG4gICAgICogQG1lbWJlcm9mIG1vZHVsZTpGYWN0b3J5TWFrZXJcclxuICAgICAqIEBpbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzZXRTaW5nbGV0b25JbnN0YW5jZShjb250ZXh0LCBjbGFzc05hbWUsIGluc3RhbmNlKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSBpbiBzaW5nbGV0b25Db250ZXh0cykge1xyXG4gICAgICAgICAgICBsZXQgb2JqID0gc2luZ2xldG9uQ29udGV4dHNbaV07XHJcbiAgICAgICAgICAgIGlmIChvYmouY29udGV4dCA9PT0gY29udGV4dCAmJiBvYmoubmFtZSA9PT0gY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBzaW5nbGV0b25Db250ZXh0c1tpXS5pbnN0YW5jZSA9IGluc3RhbmNlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNpbmdsZXRvbkNvbnRleHRzLnB1c2goeyBuYW1lOiBjbGFzc05hbWUsIGNvbnRleHQ6IGNvbnRleHQsIGluc3RhbmNlOiBpbnN0YW5jZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRDbGFzc0ZhY3RvcnkoY2xhc3NDb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICBpZiAoY29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0ge307XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVyZ2UoY2xhc3NDb25zdHJ1Y3Rvci5fX2g1cGxheWVyX2ZhY3RvcnlfbmFtZSwgY2xhc3NDb25zdHJ1Y3Rvci5hcHBseSh7IGNvbnRleHQ6IGNvbnRleHQgfSwgYXJndW1lbnRzKSwgY29udGV4dCwgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldFNpbmdsZXRvbkZhY3RvcnkoY2xhc3NDb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoY29udGV4dCkge1xyXG4gICAgICAgICAgICBsZXQgaW5zdGFuY2U7XHJcbiAgICAgICAgICAgIGlmIChjb250ZXh0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQgPSB7fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgZ2V0SW5zdGFuY2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFuIGluc3RhbmNlIHlldCBjaGVjayBmb3Igb25lIG9uIHRoZSBjb250ZXh0XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IGdldFNpbmdsZXRvbkluc3RhbmNlKGNvbnRleHQsIGNsYXNzQ29uc3RydWN0b3IuX19oNXBsYXllcl9mYWN0b3J5X25hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIGluc3RhbmNlIG9uIHRoZSBjb250ZXh0IHRoZW4gY3JlYXRlIG9uZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBtZXJnZShjbGFzc0NvbnN0cnVjdG9yLl9faDVwbGF5ZXJfZmFjdG9yeV9uYW1lLCBjbGFzc0NvbnN0cnVjdG9yLmFwcGx5KHsgY29udGV4dDogY29udGV4dCB9LCBhcmd1bWVudHMpLCBjb250ZXh0LCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaW5nbGV0b25Db250ZXh0cy5wdXNoKHsgbmFtZTogY2xhc3NDb25zdHJ1Y3Rvci5fX2g1cGxheWVyX2ZhY3RvcnlfbmFtZSwgY29udGV4dDogY29udGV4dCwgaW5zdGFuY2U6IGluc3RhbmNlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtZXJnZShuYW1lLCBjbGFzc0NvbnN0cnVjdG9yLCBjb250ZXh0LCBhcmdzKSB7XHJcbiAgICAgICAgbGV0IGV4dGVuc2lvbkNvbnRleHQgPSBnZXRFeHRlbnNpb25Db250ZXh0KGNvbnRleHQpO1xyXG4gICAgICAgIGxldCBleHRlbnNpb25PYmplY3QgPSBleHRlbnNpb25Db250ZXh0W25hbWVdO1xyXG4gICAgICAgIGlmIChleHRlbnNpb25PYmplY3QpIHtcclxuICAgICAgICAgICAgbGV0IGV4dGVuc2lvbiA9IGV4dGVuc2lvbk9iamVjdC5pbnN0YW5jZTtcclxuICAgICAgICAgICAgaWYgKGV4dGVuc2lvbk9iamVjdC5vdmVycmlkZSkgeyAvL092ZXJyaWRlIHB1YmxpYyBtZXRob2RzIGluIHBhcmVudCBidXQga2VlcCBwYXJlbnQuXHJcbiAgICAgICAgICAgICAgICBleHRlbnNpb24gPSBleHRlbnNpb24uYXBwbHkoeyBjb250ZXh0OiBjb250ZXh0LCBmYWN0b3J5OiBpbnN0YW5jZSwgcGFyZW50OiBjbGFzc0NvbnN0cnVjdG9yfSwgYXJncyk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHByb3AgaW4gZXh0ZW5zaW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsYXNzQ29uc3RydWN0b3IuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NDb25zdHJ1Y3Rvcltwcm9wXSA9IGV4dGVuc2lvbltwcm9wXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7IC8vcmVwbGFjZSBwYXJlbnQgb2JqZWN0IGNvbXBsZXRlbHkgd2l0aCBuZXcgb2JqZWN0LiBTYW1lIGFzIGRpam9uLlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4dGVuc2lvbi5hcHBseSh7IGNvbnRleHQ6IGNvbnRleHQsIGZhY3Rvcnk6IGluc3RhbmNlfSwgYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNsYXNzQ29uc3RydWN0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0RXh0ZW5zaW9uQ29udGV4dChjb250ZXh0KSB7XHJcbiAgICAgICAgbGV0IGV4dGVuc2lvbkNvbnRleHQ7XHJcbiAgICAgICAgZXh0ZW5zaW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgaWYgKG9iaiA9PT0gY29udGV4dCkge1xyXG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9uQ29udGV4dCA9IG9iajtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICghZXh0ZW5zaW9uQ29udGV4dCkge1xyXG4gICAgICAgICAgICBleHRlbnNpb25Db250ZXh0ID0gZXh0ZW5zaW9ucy5wdXNoKGNvbnRleHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uQ29udGV4dDtcclxuICAgIH1cclxuXHJcbiAgICBpbnN0YW5jZSA9IHtcclxuICAgICAgICBleHRlbmQ6IGV4dGVuZCxcclxuICAgICAgICBnZXRTaW5nbGV0b25JbnN0YW5jZTogZ2V0U2luZ2xldG9uSW5zdGFuY2UsXHJcbiAgICAgICAgc2V0U2luZ2xldG9uSW5zdGFuY2U6IHNldFNpbmdsZXRvbkluc3RhbmNlLFxyXG4gICAgICAgIGdldFNpbmdsZXRvbkZhY3Rvcnk6IGdldFNpbmdsZXRvbkZhY3RvcnksXHJcbiAgICAgICAgZ2V0Q2xhc3NGYWN0b3J5OiBnZXRDbGFzc0ZhY3RvcnlcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGluc3RhbmNlO1xyXG5cclxufSgpKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZhY3RvcnlNYWtlcjtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQUVTQ3J5cHRvIHtcclxuICBjb25zdHJ1Y3RvcihzdWJ0bGUsaXYpIHtcclxuICAgIHRoaXMuc3VidGxlID0gc3VidGxlO1xyXG4gICAgdGhpcy5hZXNJViA9IGl2O1xyXG4gIH1cclxuXHJcbiAgZGVjcnlwdChkYXRhLCBrZXkpIHtcclxuICAgIHJldHVybiB0aGlzLnN1YnRsZS5kZWNyeXB0KHtuYW1lOiAnQUVTLUNCQycsIGl2OiB0aGlzLmFlc0lWfSwga2V5LCBkYXRhKTtcclxuICB9XHJcbn1cclxuIiwiY2xhc3MgQUVTRGVjcnlwdG9yIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIC8vIFN0YXRpYyBhZnRlciBydW5uaW5nIGluaXRUYWJsZVxyXG4gICAgdGhpcy5yY29uID0gWzB4MCwgMHgxLCAweDIsIDB4NCwgMHg4LCAweDEwLCAweDIwLCAweDQwLCAweDgwLCAweDFiLCAweDM2XTtcclxuXHJcbiAgICB0aGlzLnN1Yk1peCA9IFtdO1xyXG4gICAgdGhpcy5zdWJNaXhbMF0gPSBuZXcgVWludDMyQXJyYXkoMjU2KTtcclxuICAgIHRoaXMuc3ViTWl4WzFdID0gbmV3IFVpbnQzMkFycmF5KDI1Nik7XHJcbiAgICB0aGlzLnN1Yk1peFsyXSA9IG5ldyBVaW50MzJBcnJheSgyNTYpO1xyXG4gICAgdGhpcy5zdWJNaXhbM10gPSBuZXcgVWludDMyQXJyYXkoMjU2KTtcclxuXHJcbiAgICB0aGlzLmludlN1Yk1peCA9IFtdO1xyXG4gICAgdGhpcy5pbnZTdWJNaXhbMF0gPSBuZXcgVWludDMyQXJyYXkoMjU2KTtcclxuICAgIHRoaXMuaW52U3ViTWl4WzFdID0gbmV3IFVpbnQzMkFycmF5KDI1Nik7XHJcbiAgICB0aGlzLmludlN1Yk1peFsyXSA9IG5ldyBVaW50MzJBcnJheSgyNTYpO1xyXG4gICAgdGhpcy5pbnZTdWJNaXhbM10gPSBuZXcgVWludDMyQXJyYXkoMjU2KTtcclxuXHJcbiAgICB0aGlzLnNCb3ggPSBuZXcgVWludDMyQXJyYXkoMjU2KTtcclxuICAgIHRoaXMuaW52U0JveCA9IG5ldyBVaW50MzJBcnJheSgyNTYpO1xyXG5cclxuICAgIC8vIENoYW5nZXMgZHVyaW5nIHJ1bnRpbWVcclxuICAgIHRoaXMua2V5ID0gbmV3IFVpbnQzMkFycmF5KDApO1xyXG5cclxuICAgIHRoaXMuaW5pdFRhYmxlKCk7XHJcbiAgfVxyXG5cclxuICAvLyBVc2luZyB2aWV3LmdldFVpbnQzMigpIGFsc28gc3dhcHMgdGhlIGJ5dGUgb3JkZXIuXHJcbiAgdWludDhBcnJheVRvVWludDMyQXJyYXlfKGFycmF5QnVmZmVyKSB7XHJcbiAgICBsZXQgdmlldyA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlcik7XHJcbiAgICBsZXQgbmV3QXJyYXkgPSBuZXcgVWludDMyQXJyYXkoNCk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5ld0FycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIG5ld0FycmF5W2ldID0gdmlldy5nZXRVaW50MzIoaSAqIDQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld0FycmF5O1xyXG4gIH1cclxuXHJcbiAgaW5pdFRhYmxlKCkge1xyXG4gICAgbGV0IHNCb3ggPSB0aGlzLnNCb3g7XHJcbiAgICBsZXQgaW52U0JveCA9IHRoaXMuaW52U0JveDtcclxuICAgIGxldCBzdWJNaXgwID0gdGhpcy5zdWJNaXhbMF07XHJcbiAgICBsZXQgc3ViTWl4MSA9IHRoaXMuc3ViTWl4WzFdO1xyXG4gICAgbGV0IHN1Yk1peDIgPSB0aGlzLnN1Yk1peFsyXTtcclxuICAgIGxldCBzdWJNaXgzID0gdGhpcy5zdWJNaXhbM107XHJcbiAgICBsZXQgaW52U3ViTWl4MCA9IHRoaXMuaW52U3ViTWl4WzBdO1xyXG4gICAgbGV0IGludlN1Yk1peDEgPSB0aGlzLmludlN1Yk1peFsxXTtcclxuICAgIGxldCBpbnZTdWJNaXgyID0gdGhpcy5pbnZTdWJNaXhbMl07XHJcbiAgICBsZXQgaW52U3ViTWl4MyA9IHRoaXMuaW52U3ViTWl4WzNdO1xyXG5cclxuICAgIGxldCBkID0gbmV3IFVpbnQzMkFycmF5KDI1Nik7XHJcbiAgICBsZXQgeCA9IDA7XHJcbiAgICBsZXQgeGkgPSAwO1xyXG4gICAgbGV0IGkgPSAwO1xyXG4gICAgZm9yIChpID0gMDsgaSA8IDI1NjsgaSsrKSB7XHJcbiAgICAgIGlmIChpIDwgMTI4KSB7XHJcbiAgICAgICAgZFtpXSA9IGkgPDwgMTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBkW2ldID0gKGkgPDwgMSkgXiAweDExYjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZvciAoaSA9IDA7IGkgPCAyNTY7IGkrKykge1xyXG4gICAgICBsZXQgc3ggPSB4aSBeICh4aSA8PCAxKSBeICh4aSA8PCAyKSBeICh4aSA8PCAzKSBeICh4aSA8PCA0KTtcclxuICAgICAgc3ggPSAoc3ggPj4+IDgpIF4gKHN4ICYgMHhmZikgXiAweDYzO1xyXG4gICAgICBzQm94W3hdID0gc3g7XHJcbiAgICAgIGludlNCb3hbc3hdID0geDtcclxuXHJcbiAgICAgIC8vIENvbXB1dGUgbXVsdGlwbGljYXRpb25cclxuICAgICAgbGV0IHgyID0gZFt4XTtcclxuICAgICAgbGV0IHg0ID0gZFt4Ml07XHJcbiAgICAgIGxldCB4OCA9IGRbeDRdO1xyXG5cclxuICAgICAgLy8gQ29tcHV0ZSBzdWIvaW52U3ViIGJ5dGVzLCBtaXggY29sdW1ucyB0YWJsZXNcclxuICAgICAgbGV0IHQgPSAoZFtzeF0gKiAweDEwMSkgXiAoc3ggKiAweDEwMTAxMDApO1xyXG4gICAgICBzdWJNaXgwW3hdID0gKHQgPDwgMjQpIHwgKHQgPj4+IDgpO1xyXG4gICAgICBzdWJNaXgxW3hdID0gKHQgPDwgMTYpIHwgKHQgPj4+IDE2KTtcclxuICAgICAgc3ViTWl4Mlt4XSA9ICh0IDw8IDgpIHwgKHQgPj4+IDI0KTtcclxuICAgICAgc3ViTWl4M1t4XSA9IHQ7XHJcblxyXG4gICAgICAvLyBDb21wdXRlIGludiBzdWIgYnl0ZXMsIGludiBtaXggY29sdW1ucyB0YWJsZXNcclxuICAgICAgdCA9ICh4OCAqIDB4MTAxMDEwMSkgXiAoeDQgKiAweDEwMDAxKSBeICh4MiAqIDB4MTAxKSBeICh4ICogMHgxMDEwMTAwKTtcclxuICAgICAgaW52U3ViTWl4MFtzeF0gPSAodCA8PCAyNCkgfCAodCA+Pj4gOCk7XHJcbiAgICAgIGludlN1Yk1peDFbc3hdID0gKHQgPDwgMTYpIHwgKHQgPj4+IDE2KTtcclxuICAgICAgaW52U3ViTWl4MltzeF0gPSAodCA8PCA4KSB8ICh0ID4+PiAyNCk7XHJcbiAgICAgIGludlN1Yk1peDNbc3hdID0gdDtcclxuXHJcbiAgICAgIC8vIENvbXB1dGUgbmV4dCBjb3VudGVyXHJcbiAgICAgIGlmICgheCkge1xyXG4gICAgICAgIHggPSB4aSA9IDE7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeCA9IHgyIF4gZFtkW2RbeDggXiB4Ml1dXTtcclxuICAgICAgICB4aSBePSBkW2RbeGldXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZXhwYW5kS2V5KGtleUJ1ZmZlcikge1xyXG4gICAgLy8gY29udmVydCBrZXlCdWZmZXIgdG8gVWludDMyQXJyYXlcclxuICAgIGxldCBrZXkgPSB0aGlzLnVpbnQ4QXJyYXlUb1VpbnQzMkFycmF5XyhrZXlCdWZmZXIpO1xyXG4gICAgbGV0IHNhbWVLZXkgPSB0cnVlO1xyXG4gICAgbGV0IG9mZnNldCA9IDA7XHJcblxyXG4gICAgd2hpbGUgKG9mZnNldCA8IGtleS5sZW5ndGggJiYgc2FtZUtleSkge1xyXG4gICAgICBzYW1lS2V5ID0gKGtleVtvZmZzZXRdID09PSB0aGlzLmtleVtvZmZzZXRdKTtcclxuICAgICAgb2Zmc2V0Kys7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNhbWVLZXkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMua2V5ID0ga2V5O1xyXG4gICAgbGV0IGtleVNpemUgPSB0aGlzLmtleVNpemUgPSBrZXkubGVuZ3RoO1xyXG5cclxuICAgIGlmIChrZXlTaXplICE9PSA0ICYmIGtleVNpemUgIT09IDYgJiYga2V5U2l6ZSAhPT0gOCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYWVzIGtleSBzaXplPScgKyBrZXlTaXplKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQga3NSb3dzID0gdGhpcy5rc1Jvd3MgPSAoa2V5U2l6ZSArIDYgKyAxKSAqIDQ7XHJcbiAgICBsZXQga3NSb3c7XHJcbiAgICBsZXQgaW52S3NSb3c7XHJcblxyXG4gICAgbGV0IGtleVNjaGVkdWxlID0gdGhpcy5rZXlTY2hlZHVsZSA9IG5ldyBVaW50MzJBcnJheSh0aGlzLmtzUm93cyk7XHJcbiAgICBsZXQgaW52S2V5U2NoZWR1bGUgPSB0aGlzLmludktleVNjaGVkdWxlID0gbmV3IFVpbnQzMkFycmF5KHRoaXMua3NSb3dzKTtcclxuICAgIGxldCBzYm94ID0gdGhpcy5zQm94O1xyXG4gICAgbGV0IHJjb24gPSB0aGlzLnJjb247XHJcblxyXG4gICAgbGV0IGludlN1Yk1peDAgPSB0aGlzLmludlN1Yk1peFswXTtcclxuICAgIGxldCBpbnZTdWJNaXgxID0gdGhpcy5pbnZTdWJNaXhbMV07XHJcbiAgICBsZXQgaW52U3ViTWl4MiA9IHRoaXMuaW52U3ViTWl4WzJdO1xyXG4gICAgbGV0IGludlN1Yk1peDMgPSB0aGlzLmludlN1Yk1peFszXTtcclxuXHJcbiAgICBsZXQgcHJldjtcclxuICAgIGxldCB0O1xyXG5cclxuICAgIGZvciAoa3NSb3cgPSAwOyBrc1JvdyA8IGtzUm93czsga3NSb3crKykge1xyXG4gICAgICBpZiAoa3NSb3cgPCBrZXlTaXplKSB7XHJcbiAgICAgICAgcHJldiA9IGtleVNjaGVkdWxlW2tzUm93XSA9IGtleVtrc1Jvd107XHJcbiAgICAgICAgY29udGludWU7XHJcbiAgICAgIH1cclxuICAgICAgdCA9IHByZXY7XHJcblxyXG4gICAgICBpZiAoa3NSb3cgJSBrZXlTaXplID09PSAwKSB7XHJcbiAgICAgICAgLy8gUm90IHdvcmRcclxuICAgICAgICB0ID0gKHQgPDwgOCkgfCAodCA+Pj4gMjQpO1xyXG5cclxuICAgICAgICAvLyBTdWIgd29yZFxyXG4gICAgICAgIHQgPSAoc2JveFt0ID4+PiAyNF0gPDwgMjQpIHwgKHNib3hbKHQgPj4+IDE2KSAmIDB4ZmZdIDw8IDE2KSB8IChzYm94Wyh0ID4+PiA4KSAmIDB4ZmZdIDw8IDgpIHwgc2JveFt0ICYgMHhmZl07XHJcblxyXG4gICAgICAgIC8vIE1peCBSY29uXHJcbiAgICAgICAgdCBePSByY29uWyhrc1JvdyAvIGtleVNpemUpIHwgMF0gPDwgMjQ7XHJcbiAgICAgIH0gZWxzZSBpZiAoa2V5U2l6ZSA+IDYgJiYga3NSb3cgJSBrZXlTaXplID09PSA0KSAge1xyXG4gICAgICAgIC8vIFN1YiB3b3JkXHJcbiAgICAgICAgdCA9IChzYm94W3QgPj4+IDI0XSA8PCAyNCkgfCAoc2JveFsodCA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKHNib3hbKHQgPj4+IDgpICYgMHhmZl0gPDwgOCkgfCBzYm94W3QgJiAweGZmXTtcclxuICAgICAgfVxyXG5cclxuICAgICAga2V5U2NoZWR1bGVba3NSb3ddID0gcHJldiA9IChrZXlTY2hlZHVsZVtrc1JvdyAtIGtleVNpemVdIF4gdCkgPj4+IDA7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChpbnZLc1JvdyA9IDA7IGludktzUm93IDwga3NSb3dzOyBpbnZLc1JvdysrKSB7XHJcbiAgICAgIGtzUm93ID0ga3NSb3dzIC0gaW52S3NSb3c7XHJcbiAgICAgIGlmIChpbnZLc1JvdyAmIDMpIHtcclxuICAgICAgICB0ID0ga2V5U2NoZWR1bGVba3NSb3ddO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHQgPSBrZXlTY2hlZHVsZVtrc1JvdyAtIDRdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaW52S3NSb3cgPCA0IHx8IGtzUm93IDw9IDQpIHtcclxuICAgICAgICBpbnZLZXlTY2hlZHVsZVtpbnZLc1Jvd10gPSB0O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGludktleVNjaGVkdWxlW2ludktzUm93XSA9IGludlN1Yk1peDBbc2JveFt0ID4+PiAyNF1dIF4gaW52U3ViTWl4MVtzYm94Wyh0ID4+PiAxNikgJiAweGZmXV0gXiBpbnZTdWJNaXgyW3Nib3hbKHQgPj4+IDgpICYgMHhmZl1dIF4gaW52U3ViTWl4M1tzYm94W3QgJiAweGZmXV07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGludktleVNjaGVkdWxlW2ludktzUm93XSA9IGludktleVNjaGVkdWxlW2ludktzUm93XSA+Pj4gMDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEFkZGluZyB0aGlzIGFzIGEgbWV0aG9kIGdyZWF0bHkgaW1wcm92ZXMgcGVyZm9ybWFuY2UuXHJcbiAgbmV0d29ya1RvSG9zdE9yZGVyU3dhcCh3b3JkKSB7XHJcbiAgICByZXR1cm4gKHdvcmQgPDwgMjQpIHwgKCh3b3JkICYgMHhmZjAwKSA8PCA4KSB8ICgod29yZCAmIDB4ZmYwMDAwKSA+PiA4KSB8ICh3b3JkID4+PiAyNCk7XHJcbiAgfVxyXG5cclxuICBkZWNyeXB0KGlucHV0QXJyYXlCdWZmZXIsIG9mZnNldCwgYWVzSVYpIHtcclxuICAgIGxldCBuUm91bmRzID0gdGhpcy5rZXlTaXplICsgNjtcclxuICAgIGxldCBpbnZLZXlTY2hlZHVsZSA9IHRoaXMuaW52S2V5U2NoZWR1bGU7XHJcbiAgICBsZXQgaW52U0JPWCA9IHRoaXMuaW52U0JveDtcclxuXHJcbiAgICBsZXQgaW52U3ViTWl4MCA9IHRoaXMuaW52U3ViTWl4WzBdO1xyXG4gICAgbGV0IGludlN1Yk1peDEgPSB0aGlzLmludlN1Yk1peFsxXTtcclxuICAgIGxldCBpbnZTdWJNaXgyID0gdGhpcy5pbnZTdWJNaXhbMl07XHJcbiAgICBsZXQgaW52U3ViTWl4MyA9IHRoaXMuaW52U3ViTWl4WzNdO1xyXG5cclxuICAgIGxldCBpbml0VmVjdG9yID0gdGhpcy51aW50OEFycmF5VG9VaW50MzJBcnJheV8oYWVzSVYpO1xyXG4gICAgbGV0IGluaXRWZWN0b3IwID0gaW5pdFZlY3RvclswXTtcclxuICAgIGxldCBpbml0VmVjdG9yMSA9IGluaXRWZWN0b3JbMV07XHJcbiAgICBsZXQgaW5pdFZlY3RvcjIgPSBpbml0VmVjdG9yWzJdO1xyXG4gICAgbGV0IGluaXRWZWN0b3IzID0gaW5pdFZlY3RvclszXTtcclxuXHJcbiAgICBsZXQgaW5wdXRJbnQzMiA9IG5ldyBJbnQzMkFycmF5KGlucHV0QXJyYXlCdWZmZXIpO1xyXG4gICAgbGV0IG91dHB1dEludDMyID0gbmV3IEludDMyQXJyYXkoaW5wdXRJbnQzMi5sZW5ndGgpO1xyXG5cclxuICAgIGxldCB0MCwgdDEsIHQyLCB0MztcclxuICAgIGxldCBzMCwgczEsIHMyLCBzMztcclxuICAgIGxldCBpbnB1dFdvcmRzMCwgaW5wdXRXb3JkczEsIGlucHV0V29yZHMyLCBpbnB1dFdvcmRzMztcclxuXHJcbiAgICB2YXIga3NSb3csIGk7XHJcblxyXG4gICAgd2hpbGUgKG9mZnNldCA8IGlucHV0SW50MzIubGVuZ3RoKSB7XHJcbiAgICAgIGlucHV0V29yZHMwID0gdGhpcy5uZXR3b3JrVG9Ib3N0T3JkZXJTd2FwKGlucHV0SW50MzJbb2Zmc2V0XSk7XHJcbiAgICAgIGlucHV0V29yZHMxID0gdGhpcy5uZXR3b3JrVG9Ib3N0T3JkZXJTd2FwKGlucHV0SW50MzJbb2Zmc2V0ICsgMV0pO1xyXG4gICAgICBpbnB1dFdvcmRzMiA9IHRoaXMubmV0d29ya1RvSG9zdE9yZGVyU3dhcChpbnB1dEludDMyW29mZnNldCArIDJdKTtcclxuICAgICAgaW5wdXRXb3JkczMgPSB0aGlzLm5ldHdvcmtUb0hvc3RPcmRlclN3YXAoaW5wdXRJbnQzMltvZmZzZXQgKyAzXSk7XHJcblxyXG4gICAgICBzMCA9IGlucHV0V29yZHMwIF4gaW52S2V5U2NoZWR1bGVbMF07XHJcbiAgICAgIHMxID0gaW5wdXRXb3JkczMgXiBpbnZLZXlTY2hlZHVsZVsxXTtcclxuICAgICAgczIgPSBpbnB1dFdvcmRzMiBeIGludktleVNjaGVkdWxlWzJdO1xyXG4gICAgICBzMyA9IGlucHV0V29yZHMxIF4gaW52S2V5U2NoZWR1bGVbM107XHJcblxyXG4gICAgICBrc1JvdyA9IDQ7XHJcblxyXG4gICAgICAvLyBJdGVyYXRlIHRocm91Z2ggdGhlIHJvdW5kcyBvZiBkZWNyeXB0aW9uXHJcbiAgICAgIGZvciAoaSA9IDE7IGkgPCBuUm91bmRzOyBpKyspIHtcclxuICAgICAgICB0MCA9IGludlN1Yk1peDBbczAgPj4+IDI0XSBeIGludlN1Yk1peDFbKHMxID4+IDE2KSAmIDB4ZmZdIF4gaW52U3ViTWl4MlsoczIgPj4gOCkgJiAweGZmXSBeIGludlN1Yk1peDNbczMgJiAweGZmXSBeIGludktleVNjaGVkdWxlW2tzUm93XTtcclxuICAgICAgICB0MSA9IGludlN1Yk1peDBbczEgPj4+IDI0XSBeIGludlN1Yk1peDFbKHMyID4+IDE2KSAmIDB4ZmZdIF4gaW52U3ViTWl4MlsoczMgPj4gOCkgJiAweGZmXSBeIGludlN1Yk1peDNbczAgJiAweGZmXSBeIGludktleVNjaGVkdWxlW2tzUm93ICsgMV07XHJcbiAgICAgICAgdDIgPSBpbnZTdWJNaXgwW3MyID4+PiAyNF0gXiBpbnZTdWJNaXgxWyhzMyA+PiAxNikgJiAweGZmXSBeIGludlN1Yk1peDJbKHMwID4+IDgpICYgMHhmZl0gXiBpbnZTdWJNaXgzW3MxICYgMHhmZl0gXiBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDJdO1xyXG4gICAgICAgIHQzID0gaW52U3ViTWl4MFtzMyA+Pj4gMjRdIF4gaW52U3ViTWl4MVsoczAgPj4gMTYpICYgMHhmZl0gXiBpbnZTdWJNaXgyWyhzMSA+PiA4KSAmIDB4ZmZdIF4gaW52U3ViTWl4M1tzMiAmIDB4ZmZdIF4gaW52S2V5U2NoZWR1bGVba3NSb3cgKyAzXTtcclxuICAgICAgICAvLyBVcGRhdGUgc3RhdGVcclxuICAgICAgICBzMCA9IHQwO1xyXG4gICAgICAgIHMxID0gdDE7XHJcbiAgICAgICAgczIgPSB0MjtcclxuICAgICAgICBzMyA9IHQzO1xyXG5cclxuICAgICAgICBrc1JvdyA9IGtzUm93ICsgNDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU2hpZnQgcm93cywgc3ViIGJ5dGVzLCBhZGQgcm91bmQga2V5XHJcbiAgICAgIHQwID0gKChpbnZTQk9YW3MwID4+PiAyNF0gPDwgMjQpIF4gKGludlNCT1hbKHMxID4+IDE2KSAmIDB4ZmZdIDw8IDE2KSBeIChpbnZTQk9YWyhzMiA+PiA4KSAmIDB4ZmZdIDw8IDgpIF4gaW52U0JPWFtzMyAmIDB4ZmZdKSBeIGludktleVNjaGVkdWxlW2tzUm93XTtcclxuICAgICAgdDEgPSAoKGludlNCT1hbczEgPj4+IDI0XSA8PCAyNCkgXiAoaW52U0JPWFsoczIgPj4gMTYpICYgMHhmZl0gPDwgMTYpIF4gKGludlNCT1hbKHMzID4+IDgpICYgMHhmZl0gPDwgOCkgXiBpbnZTQk9YW3MwICYgMHhmZl0pIF4gaW52S2V5U2NoZWR1bGVba3NSb3cgKyAxXTtcclxuICAgICAgdDIgPSAoKGludlNCT1hbczIgPj4+IDI0XSA8PCAyNCkgXiAoaW52U0JPWFsoczMgPj4gMTYpICYgMHhmZl0gPDwgMTYpIF4gKGludlNCT1hbKHMwID4+IDgpICYgMHhmZl0gPDwgOCkgXiBpbnZTQk9YW3MxICYgMHhmZl0pIF4gaW52S2V5U2NoZWR1bGVba3NSb3cgKyAyXTtcclxuICAgICAgdDMgPSAoKGludlNCT1hbczMgPj4+IDI0XSA8PCAyNCkgXiAoaW52U0JPWFsoczAgPj4gMTYpICYgMHhmZl0gPDwgMTYpIF4gKGludlNCT1hbKHMxID4+IDgpICYgMHhmZl0gPDwgOCkgXiBpbnZTQk9YW3MyICYgMHhmZl0pIF4gaW52S2V5U2NoZWR1bGVba3NSb3cgKyAzXTtcclxuICAgICAga3NSb3cgPSBrc1JvdyArIDM7XHJcblxyXG4gICAgICAvLyBXcml0ZVxyXG4gICAgICBvdXRwdXRJbnQzMltvZmZzZXRdID0gdGhpcy5uZXR3b3JrVG9Ib3N0T3JkZXJTd2FwKHQwIF4gaW5pdFZlY3RvcjApO1xyXG4gICAgICBvdXRwdXRJbnQzMltvZmZzZXQgKyAxXSA9IHRoaXMubmV0d29ya1RvSG9zdE9yZGVyU3dhcCh0MyBeIGluaXRWZWN0b3IxKTtcclxuICAgICAgb3V0cHV0SW50MzJbb2Zmc2V0ICsgMl0gPSB0aGlzLm5ldHdvcmtUb0hvc3RPcmRlclN3YXAodDIgXiBpbml0VmVjdG9yMik7XHJcbiAgICAgIG91dHB1dEludDMyW29mZnNldCArIDNdID0gdGhpcy5uZXR3b3JrVG9Ib3N0T3JkZXJTd2FwKHQxIF4gaW5pdFZlY3RvcjMpO1xyXG5cclxuICAgICAgLy8gcmVzZXQgaW5pdFZlY3RvciB0byBsYXN0IDQgdW5zaWduZWQgaW50XHJcbiAgICAgIGluaXRWZWN0b3IwID0gaW5wdXRXb3JkczA7XHJcbiAgICAgIGluaXRWZWN0b3IxID0gaW5wdXRXb3JkczE7XHJcbiAgICAgIGluaXRWZWN0b3IyID0gaW5wdXRXb3JkczI7XHJcbiAgICAgIGluaXRWZWN0b3IzID0gaW5wdXRXb3JkczM7XHJcblxyXG4gICAgICBvZmZzZXQgPSBvZmZzZXQgKyA0O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBvdXRwdXRJbnQzMi5idWZmZXI7XHJcbiAgfVxyXG5cclxuICBkZXN0cm95KCkge1xyXG4gICAgdGhpcy5rZXkgPSB1bmRlZmluZWQ7XHJcbiAgICB0aGlzLmtleVNpemUgPSB1bmRlZmluZWQ7XHJcbiAgICB0aGlzLmtzUm93cyA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICB0aGlzLnNCb3ggPSB1bmRlZmluZWQ7XHJcbiAgICB0aGlzLmludlNCb3ggPSB1bmRlZmluZWQ7XHJcbiAgICB0aGlzLnN1Yk1peCA9IHVuZGVmaW5lZDtcclxuICAgIHRoaXMuaW52U3ViTWl4ID0gdW5kZWZpbmVkO1xyXG4gICAgdGhpcy5rZXlTY2hlZHVsZSA9IHVuZGVmaW5lZDtcclxuICAgIHRoaXMuaW52S2V5U2NoZWR1bGUgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgdGhpcy5yY29uID0gdW5kZWZpbmVkO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQUVTRGVjcnlwdG9yO1xyXG4iLCJpbXBvcnQgQUVTQ3J5cHRvIGZyb20gJy4vYWVzLWNyeXB0byc7XHJcbmltcG9ydCBGYXN0QUVTS2V5IGZyb20gJy4vZmFzdC1hZXMta2V5JztcclxuaW1wb3J0IEFFU0RlY3J5cHRvciBmcm9tICcuL2Flcy1kZWNyeXB0b3InO1xyXG5cclxuLy9pbXBvcnQge0Vycm9yVHlwZXMsIEVycm9yRGV0YWlsc30gZnJvbSAnLi4vZXJyb3JzJztcclxuLy9pbXBvcnQge2xvZ2dlcn0gZnJvbSAnLi4vdXRpbHMvbG9nZ2VyJztcclxuXHJcbi8qZ2xvYmFscyBzZWxmOiBmYWxzZSAqL1xyXG5cclxuY2xhc3MgRGVjcnlwdGVyIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcclxuICAgIC8vdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xyXG4gICAgdGhpcy5jb25maWcgPSBjb25maWc7XHJcbiAgICB0aGlzLmxvZ0VuYWJsZWQgPSB0cnVlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgYnJvd3NlckNyeXB0byA9IGNyeXB0byA/IGNyeXB0byA6IHNlbGYuY3J5cHRvO1xyXG4gICAgICB0aGlzLnN1YnRsZSA9IGJyb3dzZXJDcnlwdG8uc3VidGxlIHx8IGJyb3dzZXJDcnlwdG8ud2Via2l0U3VidGxlO1xyXG4gICAgfSBjYXRjaCAoZSkge31cclxuICAgIHRoaXMuZGlzYWJsZVdlYkNyeXB0byA9ICF0aGlzLnN1YnRsZTtcclxuICB9XHJcblxyXG4gIGlzU3luYygpIHtcclxuICAgIHJldHVybiAodGhpcy5kaXNhYmxlV2ViQ3J5cHRvICYmIHRoaXMuY29uZmlnLmVuYWJsZVNvZnR3YXJlQUVTKTtcclxuICB9XHJcblxyXG4gIGRlY3J5cHQoZGF0YSwga2V5LCBpdiwgY2FsbGJhY2spIHtcclxuICAgIGlmICh0aGlzLmRpc2FibGVXZWJDcnlwdG8gJiYgdGhpcy5jb25maWcuZW5hYmxlU29mdHdhcmVBRVMpIHtcclxuICAgICAgaWYgKHRoaXMubG9nRW5hYmxlZCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdKUyBBRVMgZGVjcnlwdCcpO1xyXG4gICAgICAgIHRoaXMubG9nRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIGxldCBkZWNyeXB0b3IgPSB0aGlzLmRlY3J5cHRvcjtcclxuICAgICAgaWYgKCFkZWNyeXB0b3IpIHtcclxuICAgICAgICB0aGlzLmRlY3J5cHRvciA9IGRlY3J5cHRvciA9IG5ldyBBRVNEZWNyeXB0b3IoKTtcclxuICAgICAgfVxyXG4gICAgICBkZWNyeXB0b3IuZXhwYW5kS2V5KGtleSk7XHJcbiAgICAgIGNhbGxiYWNrKGRlY3J5cHRvci5kZWNyeXB0KGRhdGEsIDAsIGl2KSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgaWYgKHRoaXMubG9nRW5hYmxlZCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdXZWJDcnlwdG8gQUVTIGRlY3J5cHQnKTtcclxuICAgICAgICB0aGlzLmxvZ0VuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBzdWJ0bGUgPSB0aGlzLnN1YnRsZTtcclxuICAgICAgaWYgKHRoaXMua2V5ICE9PSBrZXkpIHtcclxuICAgICAgICB0aGlzLmtleSA9IGtleTtcclxuICAgICAgICB0aGlzLmZhc3RBZXNLZXkgPSBuZXcgRmFzdEFFU0tleShzdWJ0bGUsa2V5KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5mYXN0QWVzS2V5LmV4cGFuZEtleSgpLlxyXG4gICAgICAgIHRoZW4oKGFlc0tleSkgPT4ge1xyXG4gICAgICAgICAgLy8gZGVjcnlwdCB1c2luZyB3ZWIgY3J5cHRvXHJcbiAgICAgICAgICBsZXQgY3J5cHRvID0gbmV3IEFFU0NyeXB0byhzdWJ0bGUsaXYpO1xyXG4gICAgICAgICAgY3J5cHRvLmRlY3J5cHQoZGF0YSwgYWVzS2V5KS5cclxuICAgICAgICAgIGNhdGNoICgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub25XZWJDcnlwdG9FcnJvcihlcnIsIGRhdGEsIGtleSwgaXYsIGNhbGxiYWNrKTtcclxuICAgICAgICAgIH0pLlxyXG4gICAgICAgICAgdGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKHJlc3VsdCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KS5cclxuICAgICAgICBjYXRjaCAoKGVycikgPT4ge1xyXG4gICAgICAgICAgdGhpcy5vbldlYkNyeXB0b0Vycm9yKGVyciwgZGF0YSwga2V5LCBpdiwgY2FsbGJhY2spO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25XZWJDcnlwdG9FcnJvcihlcnIsIGRhdGEsIGtleSwgaXYsIGNhbGxiYWNrKSB7XHJcbiAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlU29mdHdhcmVBRVMpIHtcclxuICAgICAgY29uc29sZS5sb2coJ1dlYkNyeXB0byBFcnJvciwgZGlzYWJsZSBXZWJDcnlwdG8gQVBJJyk7XHJcbiAgICAgIHRoaXMuZGlzYWJsZVdlYkNyeXB0byA9IHRydWU7XHJcbiAgICAgIHRoaXMubG9nRW5hYmxlZCA9IHRydWU7XHJcbiAgICAgIHRoaXMuZGVjcnlwdChkYXRhLCBrZXksIGl2LCBjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgZGVjcnlwdGluZyBlcnJvciA6ICR7ZXJyLm1lc3NhZ2V9YCk7XHJcbiAgICAgIC8vdGhpcy5vYnNlcnZlci50cmlnZ2VyKEV2ZW50LkVSUk9SLCB7dHlwZSA6IEVycm9yVHlwZXMuTUVESUFfRVJST1IsIGRldGFpbHMgOiBFcnJvckRldGFpbHMuRlJBR19ERUNSWVBUX0VSUk9SLCBmYXRhbCA6IHRydWUsIHJlYXNvbiA6IGVyci5tZXNzYWdlfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBkZXN0cm95KCkge1xyXG4gICAgbGV0IGRlY3J5cHRvciA9IHRoaXMuZGVjcnlwdG9yO1xyXG4gICAgaWYgKGRlY3J5cHRvcikge1xyXG4gICAgICBkZWNyeXB0b3IuZGVzdHJveSgpO1xyXG4gICAgICB0aGlzLmRlY3J5cHRvciA9IHVuZGVmaW5lZDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IERlY3J5cHRlcjtcclxuIiwiY2xhc3MgRmFzdEFFU0tleSB7XHJcbiAgY29uc3RydWN0b3Ioc3VidGxlLGtleSkge1xyXG4gICAgdGhpcy5zdWJ0bGUgPSBzdWJ0bGU7XHJcbiAgICB0aGlzLmtleSA9IGtleTtcclxuICB9XHJcblxyXG4gIGV4cGFuZEtleSgpIHtcclxuICAgIHJldHVybiB0aGlzLnN1YnRsZS5pbXBvcnRLZXkoJ3JhdycsIHRoaXMua2V5LCB7bmFtZTogJ0FFUy1DQkMnfSwgZmFsc2UsIFsnZW5jcnlwdCcsICdkZWNyeXB0J10pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRmFzdEFFU0tleTtcclxuIiwiaW1wb3J0IEZhY3RvcnlNYWtlciBmcm9tICcuLi9jb3JlL0ZhY3RvcnlNYWtlcic7XG5pbXBvcnQgWEhSTG9hZGVyIGZyb20gJy4uL3V0aWxzL3hocl9sb2FkZXInO1xuXG5mdW5jdGlvbiBEYXNoUGFyc2VyKCkge1xuICAgIGxldCBpbnN0YW5jZSxcbiAgICBhY3RpdmVTdHJlYW1fO1xuXG4gICAgLy8gZmxhZ1xuICAgIGxldCB2aWRlb0hlYWRlckFkZGVkXyA9IGZhbHNlO1xuICAgIGxldCB2aWRlb0luZGV4XyA9IDA7XG5cbiAgICBsZXQgYXVkaW9IZWFkZXJBZGRlZF8gPSBmYWxzZTtcbiAgICBsZXQgYXVkaW9JbmRleF8gPSAwO1xuXG4gICAgZnVuY3Rpb24gYXVkaW9fb25seV9jYXNlMDEoKSB7XG4gICAgICAgIGxldCBhUmVwID0gbnVsbDtcblxuICAgICAgICAvLyBjb25zdHJ1Y3QgZGFzaCBhdWRpb1xuICAgICAgICBsZXQgYUNvbnRlbnRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDE1OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjb250ZW50ID0gJ2h0dHA6Ly9sb2NhbGhvc3QvMi9teWRhc2gvZmVhdHVyZXMvYXZfbm9ubXV4ZWQvQTQ4LycgKyBpLnRvU3RyaW5nKCkgKyAnLm00cyc7XG4gICAgICAgICAgICBhQ29udGVudHMucHVzaChjb250ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFSZXAgPSB7XG4gICAgICAgICAgICB0eXBlOiAnYXVkaW8nLFxuICAgICAgICAgICAgY29kZWNzOiAnYXVkaW8vbXA0OyBjb2RlY3M9XCJtcDRhLjQwLjJcIicsXG4gICAgICAgICAgICBpbml0aWFsaXphdGlvbjogJ2h0dHA6Ly9sb2NhbGhvc3QvMi9teWRhc2gvZmVhdHVyZXMvYXZfbm9ubXV4ZWQvQTQ4L2luaXQubXA0JyxcbiAgICAgICAgICAgIG1lZGlhOiBhQ29udGVudHNcbiAgICAgICAgfTtcblxuICAgICAgICBhY3RpdmVTdHJlYW1fID0ge1xuICAgICAgICAgICAgYVJlcDogYVJlcCxcbiAgICAgICAgICAgIHZSZXA6IG51bGxcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gYWN0aXZlU3RyZWFtXztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2aWRlb19vbmx5X2Nhc2UwMSgpIHtcbiAgICAgICAgbGV0IHZSZXAgPSBudWxsO1xuICAgICAgICBsZXQgdkNvbnRlbnRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDE1OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjb250ZW50ID0gJ2h0dHA6Ly9sb2NhbGhvc3QvMi9teWRhc2gvZmVhdHVyZXMvYXZfbm9ubXV4ZWQvVjMwMF93aXRoX2NjMV9hbmRfY2MzLycgKyBpLnRvU3RyaW5nKCkgKyAnLm00cyc7XG4gICAgICAgICAgICB2Q29udGVudHMucHVzaChjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICB2UmVwID0ge1xuICAgICAgICAgICAgdHlwZTogJ3ZpZGVvJyxcbiAgICAgICAgICAgIGNvZGVjczogJ3ZpZGVvL21wNDsgY29kZWNzPVwiYXZjMS42NDAwMWVcIicsXG4gICAgICAgICAgICBpbml0aWFsaXphdGlvbjogJ2h0dHA6Ly9sb2NhbGhvc3QvMi9teWRhc2gvZmVhdHVyZXMvYXZfbm9ubXV4ZWQvVjMwMF93aXRoX2NjMV9hbmRfY2MzL2luaXQubXA0JyxcbiAgICAgICAgICAgIG1lZGlhOiB2Q29udGVudHNcbiAgICAgICAgfTtcblxuICAgICAgICBhY3RpdmVTdHJlYW1fID0ge1xuICAgICAgICAgICAgYVJlcDogbnVsbCxcbiAgICAgICAgICAgIHZSZXA6IHZSZXBcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gYWN0aXZlU3RyZWFtXztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYXNlMDEoKSB7XG4gICAgICAgIGxldCBhUmVwID0gbnVsbDtcbiAgICAgICAgbGV0IHZSZXAgPSBudWxsO1xuXG4gICAgICAgIC8vIGNvbnN0cnVjdCBkYXNoIGF1ZGlvXG4gICAgICAgIGxldCBhQ29udGVudHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMTU7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSAnaHR0cDovL2xvY2FsaG9zdC8yL215ZGFzaC9mZWF0dXJlcy9hdl9ub25tdXhlZC9BNDgvJyArIGkudG9TdHJpbmcoKSArICcubTRzJztcbiAgICAgICAgICAgIGFDb250ZW50cy5wdXNoKGNvbnRlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgYVJlcCA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdhdWRpbycsXG4gICAgICAgICAgICBjb2RlY3M6ICdhdWRpby9tcDQ7IGNvZGVjcz1cIm1wNGEuNDAuMlwiJyxcbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uOiAnaHR0cDovL2xvY2FsaG9zdC8yL215ZGFzaC9mZWF0dXJlcy9hdl9ub25tdXhlZC9BNDgvaW5pdC5tcDQnLFxuICAgICAgICAgICAgbWVkaWE6IGFDb250ZW50c1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGNvbnN0cnVjdCBkYXNoIHZpZGVvXG4gICAgICAgIGxldCB2Q29udGVudHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMTU7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSAnaHR0cDovL2xvY2FsaG9zdC8yL215ZGFzaC9mZWF0dXJlcy9hdl9ub25tdXhlZC9WMzAwX3dpdGhfY2MxX2FuZF9jYzMvJyArIGkudG9TdHJpbmcoKSArICcubTRzJztcbiAgICAgICAgICAgIHZDb250ZW50cy5wdXNoKGNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHZSZXAgPSB7XG4gICAgICAgICAgICB0eXBlOiAndmlkZW8nLFxuICAgICAgICAgICAgY29kZWNzOiAndmlkZW8vbXA0OyBjb2RlY3M9XCJhdmMxLjY0MDAxZVwiJyxcbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uOiAnaHR0cDovL2xvY2FsaG9zdC8yL215ZGFzaC9mZWF0dXJlcy9hdl9ub25tdXhlZC9WMzAwX3dpdGhfY2MxX2FuZF9jYzMvaW5pdC5tcDQnLFxuICAgICAgICAgICAgbWVkaWE6IHZDb250ZW50c1xuICAgICAgICB9O1xuXG4gICAgICAgIGFjdGl2ZVN0cmVhbV8gPSB7XG4gICAgICAgICAgICBhUmVwOiBhUmVwLFxuICAgICAgICAgICAgdlJlcDogdlJlcFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBhY3RpdmVTdHJlYW1fO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhc2UwMigpIHtcbiAgICAgICAgLy8gdGhlIHZpZGVvIGNvbnRhaW5zIGF1ZGlvXG4gICAgICAgIGxldCBhUmVwID0gbnVsbDtcbiAgICAgICAgbGV0IHZSZXAgPSBudWxsO1xuICAgICAgICBsZXQgdkNvbnRlbnRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDY7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSAnaHR0cDovL2xvY2FsaG9zdC8yL3BkL2ZtcDQvMTExL3NlZ21lbnRfZmlsZScgKyBpLnRvU3RyaW5nKCkgKyAnLm00cyc7XG4gICAgICAgICAgICB2Q29udGVudHMucHVzaChjb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgICB2UmVwID0ge1xuICAgICAgICAgICAgdHlwZTogJ3ZpZGVvJyxcbiAgICAgICAgICAgIGNvZGVjczogJ3ZpZGVvL21wNDsgY29kZWNzPVwibXA0YS40MC4yLCBhdmMxLjY0MDAxZVwiJyxcbiAgICAgICAgICAgIGluaXRpYWxpemF0aW9uOiAnaHR0cDovL2xvY2FsaG9zdC8yL3BkL2ZtcDQvMTExL3NlZ21lbnRfZmlsZWluaXQubXA0JyxcbiAgICAgICAgICAgIG1lZGlhOiB2Q29udGVudHNcbiAgICAgICAgfTtcblxuICAgICAgICBhY3RpdmVTdHJlYW1fID0ge1xuICAgICAgICAgICAgdlJlcDogdlJlcCxcbiAgICAgICAgICAgIGFSZXA6IG51bGwsXG4gICAgICAgICAgICBtZWRpYVByZXNlbnRhdGlvbkR1cmF0aW9uOiAxNzZcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gYWN0aXZlU3RyZWFtXztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYXNlMDMoKSB7XG4gICAgICAgIGxldCBhUmVwID0gbnVsbDtcbiAgICAgICAgbGV0IHZSZXAgPSBudWxsO1xuXG4gICAgICAgIGxldCBjbnQgPSA1MDtcbiAgICAgICAgXG4gICAgICAgIC8vIGNvbnN0cnVjdCBkYXNoIGF1ZGlvXG4gICAgICAgIGxldCBhQ29udGVudHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gY250OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjb250ZW50ID0gJ2h0dHA6Ly9sb2NhbGhvc3QvMi9kYXNoL3VuZG9jL3Rlc3QyX21haW5faW5kZXgvQXVkaW8xLycgKyBpLnRvU3RyaW5nKCkgKyAnLm00cyc7XG4gICAgICAgICAgICBhQ29udGVudHMucHVzaChjb250ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFSZXAgPSB7XG4gICAgICAgICAgICB0eXBlOiAnYXVkaW8nLFxuICAgICAgICAgICAgY29kZWNzOiAnYXVkaW8vbXA0OyBjb2RlY3M9XCJtcDRhLjQwLjI5XCInLFxuICAgICAgICAgICAgaW5pdGlhbGl6YXRpb246ICdodHRwOi8vbG9jYWxob3N0LzIvZGFzaC91bmRvYy90ZXN0Ml9tYWluX2luZGV4L0F1ZGlvMS9IZWFkZXIubTRzJyxcbiAgICAgICAgICAgIG1lZGlhOiBhQ29udGVudHNcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBjb25zdHJ1Y3QgZGFzaCB2aWRlb1xuICAgICAgICBsZXQgdkNvbnRlbnRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IGNudDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY29udGVudCA9ICdodHRwOi8vbG9jYWxob3N0LzIvZGFzaC91bmRvYy90ZXN0Ml9tYWluX2luZGV4L1ZpZGVvMS8nICsgaS50b1N0cmluZygpICsgJy5tNHMnO1xuICAgICAgICAgICAgdkNvbnRlbnRzLnB1c2goY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdlJlcCA9IHtcbiAgICAgICAgICAgIHR5cGU6ICd2aWRlbycsXG4gICAgICAgICAgICBjb2RlY3M6ICd2aWRlby9tcDQ7IGNvZGVjcz1cImF2YzEuNEQ0MDI5XCInLFxuICAgICAgICAgICAgaW5pdGlhbGl6YXRpb246ICdodHRwOi8vbG9jYWxob3N0LzIvZGFzaC91bmRvYy90ZXN0Ml9tYWluX2luZGV4L1ZpZGVvMS9IZWFkZXIubTRzJyxcbiAgICAgICAgICAgIG1lZGlhOiB2Q29udGVudHNcbiAgICAgICAgfTtcblxuICAgICAgICBhY3RpdmVTdHJlYW1fID0ge1xuICAgICAgICAgICAgYVJlcDogYVJlcCxcbiAgICAgICAgICAgIHZSZXA6IHZSZXAsXG4gICAgICAgICAgICBtZWRpYVByZXNlbnRhdGlvbkR1cmF0aW9uOiAyOTAgLy8gbWFuaWZlc3QgbWF4IGR1cmF0aW9uXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGFjdGl2ZVN0cmVhbV87XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZE1hbmlmZXN0KHVybCkge1xuICAgICAgICB2aWRlb0hlYWRlckFkZGVkXyA9IGZhbHNlO1xuICAgICAgICB2aWRlb0luZGV4XyA9IDA7XG4gICAgICAgIGF1ZGlvSGVhZGVyQWRkZWRfID0gZmFsc2U7XG4gICAgICAgIGF1ZGlvSW5kZXhfID0gMDtcblxuICAgICAgICBpZiAodXJsLmluZGV4T2YoJ2F1ZGlvX29ubHlfY2FzZTAxJykgIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gYXVkaW9fb25seV9jYXNlMDEoKTtcbiAgICAgICAgfSBlbHNlIGlmICh1cmwuaW5kZXhPZigndmlkZW9fb25seV9jYXNlMDEnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiB2aWRlb19vbmx5X2Nhc2UwMSgpO1xuICAgICAgICB9IGVsc2UgaWYgKHVybC5pbmRleE9mKCdjYXNlMDEnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBjYXNlMDEoKTtcbiAgICAgICAgfSBlbHNlIGlmICh1cmwuaW5kZXhPZignY2FzZTAyJykgIT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FzZTAyKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodXJsLmluZGV4T2YoJ2Nhc2UwMycpICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhc2UwMygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0TmV4dEZyYWdtZW50KCkge1xuICAgICAgICBsZXQgcmV0ID0ge307XG5cbiAgICAgICAgaWYgKGFjdGl2ZVN0cmVhbV8udlJlcCAmJiBhY3RpdmVTdHJlYW1fLmFSZXApIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIC8vIGluaXQgc2VnbWVudHNcbiAgICAgICAgICAgIGlmICh2aWRlb0hlYWRlckFkZGVkXyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXQudHlwZSA9IGFjdGl2ZVN0cmVhbV8udlJlcC50eXBlO1xuICAgICAgICAgICAgICAgIHJldC51cmwgPSBhY3RpdmVTdHJlYW1fLnZSZXAuaW5pdGlhbGl6YXRpb247XG4gICAgICAgICAgICAgICAgdmlkZW9IZWFkZXJBZGRlZF8gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGF1ZGlvSGVhZGVyQWRkZWRfID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldC50eXBlID0gYWN0aXZlU3RyZWFtXy5hUmVwLnR5cGU7XG4gICAgICAgICAgICAgICAgcmV0LnVybCA9IGFjdGl2ZVN0cmVhbV8uYVJlcC5pbml0aWFsaXphdGlvbjtcbiAgICAgICAgICAgICAgICBhdWRpb0hlYWRlckFkZGVkXyA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEJEXG4gICAgICAgICAgICBpZiAodmlkZW9JbmRleF8gPCAxKSB7XG4gICAgICAgICAgICAgICAgcmV0LnR5cGUgPSBhY3RpdmVTdHJlYW1fLnZSZXAudHlwZTtcbiAgICAgICAgICAgICAgICByZXQudXJsID0gYWN0aXZlU3RyZWFtXy52UmVwLm1lZGlhW3ZpZGVvSW5kZXhfXTtcbiAgICAgICAgICAgICAgICB2aWRlb0luZGV4XysrO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRURcblxuICAgICAgICAgICAgLy8gbWVkaWEgc2VnbWVudHNcbiAgICAgICAgICAgIGlmICh2aWRlb0luZGV4XyA+PSBhY3RpdmVTdHJlYW1fLnZSZXAubWVkaWEubGVuZ3RoIHx8XG4gICAgICAgICAgICAgICAgYXVkaW9JbmRleF8gPj0gYWN0aXZlU3RyZWFtXy5hUmVwLm1lZGlhLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldCA9IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh2aWRlb0luZGV4XyA+IGF1ZGlvSW5kZXhfKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdWRpb0luZGV4XyA8IGFjdGl2ZVN0cmVhbV8uYVJlcC5tZWRpYS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldC50eXBlID0gYWN0aXZlU3RyZWFtXy5hUmVwLnR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXQudXJsID0gYWN0aXZlU3RyZWFtXy5hUmVwLm1lZGlhW2F1ZGlvSW5kZXhfXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvSW5kZXhfKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmlkZW9JbmRleF8gPCBhY3RpdmVTdHJlYW1fLnZSZXAubWVkaWEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXQudHlwZSA9IGFjdGl2ZVN0cmVhbV8udlJlcC50eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0LnVybCA9IGFjdGl2ZVN0cmVhbV8udlJlcC5tZWRpYVt2aWRlb0luZGV4X107XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWRlb0luZGV4XysrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAoZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGFjdGl2ZVN0cmVhbV8udlJlcCkge1xuICAgICAgICAgICAgICAgIHJldC50eXBlID0gYWN0aXZlU3RyZWFtXy52UmVwLnR5cGU7XG5cbiAgICAgICAgICAgICAgICBpZiAodmlkZW9IZWFkZXJBZGRlZF8gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldC51cmwgPSBhY3RpdmVTdHJlYW1fLnZSZXAuaW5pdGlhbGl6YXRpb247XG4gICAgICAgICAgICAgICAgICAgIHZpZGVvSGVhZGVyQWRkZWRfID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmlkZW9JbmRleF8gPCBhY3RpdmVTdHJlYW1fLnZSZXAubWVkaWEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXQudXJsID0gYWN0aXZlU3RyZWFtXy52UmVwLm1lZGlhW3ZpZGVvSW5kZXhfXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvSW5kZXhfKys7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChhY3RpdmVTdHJlYW1fLmFSZXApIHtcbiAgICAgICAgICAgICAgICByZXQudHlwZSA9IGFjdGl2ZVN0cmVhbV8uYVJlcC50eXBlO1xuXG4gICAgICAgICAgICAgICAgaWYgKGF1ZGlvSGVhZGVyQWRkZWRfID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICByZXQudXJsID0gYWN0aXZlU3RyZWFtXy5hUmVwLmluaXRpYWxpemF0aW9uO1xuICAgICAgICAgICAgICAgICAgICBhdWRpb0hlYWRlckFkZGVkXyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF1ZGlvSW5kZXhfIDwgYWN0aXZlU3RyZWFtXy5hUmVwLm1lZGlhLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0LnVybCA9IGFjdGl2ZVN0cmVhbV8uYVJlcC5tZWRpYVthdWRpb0luZGV4X107XG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpb0luZGV4XysrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgaW5zdGFuY2UgPSB7XG4gICAgICAgIGxvYWRNYW5pZmVzdDogbG9hZE1hbmlmZXN0LFxuICAgICAgICBnZXROZXh0RnJhZ21lbnQ6IGdldE5leHRGcmFnbWVudFxuICAgIH07XG4gICAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG5EYXNoUGFyc2VyLl9faDVwbGF5ZXJfZmFjdG9yeV9uYW1lID0gJ0Rhc2hQYXJzZXInO1xuZXhwb3J0IGRlZmF1bHQgRmFjdG9yeU1ha2VyLmdldFNpbmdsZXRvbkZhY3RvcnkoRGFzaFBhcnNlcik7XG4iLCLvu79pbXBvcnQgRmFjdG9yeU1ha2VyIGZyb20gJy4vY29yZS9GYWN0b3J5TWFrZXInO1xyXG5pbXBvcnQgRXZlbnRCdXMgZnJvbSAnLi9jb3JlL0V2ZW50QnVzJztcclxuXHJcbmltcG9ydCBQcm90ZWN0aW9uS2V5Q29udHJvbGxlciBmcm9tICcuL3Byb3RlY3Rpb24vY29udHJvbGxlci9Qcm90ZWN0aW9uS2V5Q29udHJvbGxlcic7XHJcbmltcG9ydCBQcm90ZWN0aW9uTW9kZWxfMjFKYW4yMDE1IGZyb20gJy4vcHJvdGVjdGlvbi9tb2RlbHMvUHJvdGVjdGlvbk1vZGVsXzIxSmFuMjAxNSc7XHJcbmltcG9ydCBQcm90ZWN0aW9uTW9kZWxfM0ZlYjIwMTQgZnJvbSAnLi9wcm90ZWN0aW9uL21vZGVscy9Qcm90ZWN0aW9uTW9kZWxfM0ZlYjIwMTQnO1xyXG5cclxuLy9cclxudmFyIERSTUVuZ2luZSA9IGZ1bmN0aW9uIChtZWRpYSkge1xyXG4gICAgdGhpcy5tZWRpYV8gPSBtZWRpYTtcclxuICAgIHRoaXMucHJvdGVjdGlvbk1vZGVsXyA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5wcm90ZWN0aW9uS2V5Q29udHJvbGxlcl8gPSBQcm90ZWN0aW9uS2V5Q29udHJvbGxlcih0aGlzKS5nZXRJbnN0YW5jZSgpO1xyXG5cclxuICAgIHRoaXMucHJvdGVjdGlvbk1vZGVsXyA9IHRoaXMuZ2V0UHJvdGVjdGlvbk1vZGVsKHRoaXMubWVkaWFfKTtcclxuICAgIHRoaXMucHJvdGVjdGlvbk1vZGVsXy5hdHRhY2hNZWRpYSh0aGlzLm1lZGlhXyk7XHJcbn07XHJcblxyXG5EUk1FbmdpbmUucHJvdG90eXBlLmdldFByb3RlY3Rpb25Nb2RlbCA9IGZ1bmN0aW9uIChtZWRpYSkge1xyXG4gICAgaWYgKG1lZGlhLm9uZW5jcnlwdGVkICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICBtZWRpYS5tZWRpYUtleXMgIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgIG5hdmlnYXRvci5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MgIT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgIHR5cGVvZiBuYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1VzZXIgQWdlbnQgc3VwcG9ydCBQcm90ZWN0aW9uTW9kZWxfMjFKYW4yMDE1Jyk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm90ZWN0aW9uTW9kZWxfMjFKYW4yMDE1KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIEFnZW50IHN1cHBvcnQgUHJvdGVjdGlvbk1vZGVsXzNGZWIyMDE0Jyk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm90ZWN0aW9uTW9kZWxfM0ZlYjIwMTQoKTtcclxuICAgIH1cclxufTtcclxuXHJcbkRSTUVuZ2luZS5wcm90b3R5cGUuc2V0RHJtSW5mbyA9IGZ1bmN0aW9uIChpbmZvKSB7XHJcbiAgICBpZiAoIWluZm8uZHJtIHx8ICFpbmZvLmRybS50eXBlKSB7IHJldHVybjsgfVxyXG5cclxuICAgIGxldCBrZXlTeXN0ZW0gPSB0aGlzLnByb3RlY3Rpb25LZXlDb250cm9sbGVyXy5nZXRLZXlTeXN0ZW1CeVN5c3RlbVN0cmluZyhpbmZvLmRybS50eXBlKTtcclxuICAgIGNvbnNvbGUubG9nKCdINVBsYXllciwgcmVxdWVzdCBzeXN0ZW1TdHJpbmc6ICcgKyBrZXlTeXN0ZW0uc3lzdGVtU3RyaW5nKTtcclxuICAgIHRoaXMucHJvdGVjdGlvbk1vZGVsXy5zZXRLZXlTeXN0ZW0oa2V5U3lzdGVtKTtcclxuICAgIHRoaXMucHJvdGVjdGlvbk1vZGVsXy5zZXREcm1JbmZvKGluZm8pO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRFJNRW5naW5lO1xyXG4iLCIvKiAkRGF0ZTogMjAwNy0wNi0xMiAxODowMjozMSAkICovXHJcblxyXG4vLyBmcm9tOiBodHRwOi8vYmFubmlzdGVyLnVzL3dlYmxvZy8yMDA3LzA2LzA5L3NpbXBsZS1iYXNlNjQtZW5jb2RlZGVjb2RlLWphdmFzY3JpcHQvXHJcbi8vIEhhbmRsZXMgZW5jb2RlL2RlY29kZSBvZiBBU0NJSSBhbmQgVW5pY29kZSBzdHJpbmdzLlxyXG5cclxudmFyIFVURjggPSB7fTtcclxuVVRGOC5lbmNvZGUgPSBmdW5jdGlvbihzKSB7XHJcbiAgICB2YXIgdSA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgdmFyIGMgPSBzLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgaWYgKGMgPCAweDgwKSB7XHJcbiAgICAgICAgICAgIHUucHVzaChjKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGMgPCAweDgwMCkge1xyXG4gICAgICAgICAgICB1LnB1c2goMHhDMCB8IChjID4+IDYpKTtcclxuICAgICAgICAgICAgdS5wdXNoKDB4ODAgfCAoNjMgJiBjKSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjIDwgMHgxMDAwMCkge1xyXG4gICAgICAgICAgICB1LnB1c2goMHhFMCB8IChjID4+IDEyKSk7XHJcbiAgICAgICAgICAgIHUucHVzaCgweDgwIHwgKDYzICYgKGMgPj4gNikpKTtcclxuICAgICAgICAgICAgdS5wdXNoKDB4ODAgfCAoNjMgJiBjKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdS5wdXNoKDB4RjAgfCAoYyA+PiAxOCkpO1xyXG4gICAgICAgICAgICB1LnB1c2goMHg4MCB8ICg2MyAmIChjID4+IDEyKSkpO1xyXG4gICAgICAgICAgICB1LnB1c2goMHg4MCB8ICg2MyAmIChjID4+IDYpKSk7XHJcbiAgICAgICAgICAgIHUucHVzaCgweDgwIHwgKDYzICYgYykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB1O1xyXG59O1xyXG5VVEY4LmRlY29kZSA9IGZ1bmN0aW9uKHUpIHtcclxuICAgIHZhciBhID0gW107XHJcbiAgICB2YXIgaSA9IDA7XHJcbiAgICB3aGlsZSAoaSA8IHUubGVuZ3RoKSB7XHJcbiAgICAgICAgdmFyIHYgPSB1W2krK107XHJcbiAgICAgICAgaWYgKHYgPCAweDgwKSB7XHJcbiAgICAgICAgICAgIC8vIG5vIG5lZWQgdG8gbWFzayBieXRlXHJcbiAgICAgICAgfSBlbHNlIGlmICh2IDwgMHhFMCkge1xyXG4gICAgICAgICAgICB2ID0gKDMxICYgdikgPDwgNjtcclxuICAgICAgICAgICAgdiB8PSAoNjMgJiB1W2krK10pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodiA8IDB4RjApIHtcclxuICAgICAgICAgICAgdiA9ICgxNSAmIHYpIDw8IDEyO1xyXG4gICAgICAgICAgICB2IHw9ICg2MyAmIHVbaSsrXSkgPDwgNjtcclxuICAgICAgICAgICAgdiB8PSAoNjMgJiB1W2krK10pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHYgPSAoNyAmIHYpIDw8IDE4O1xyXG4gICAgICAgICAgICB2IHw9ICg2MyAmIHVbaSsrXSkgPDwgMTI7XHJcbiAgICAgICAgICAgIHYgfD0gKDYzICYgdVtpKytdKSA8PCA2O1xyXG4gICAgICAgICAgICB2IHw9ICg2MyAmIHVbaSsrXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGEucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKHYpKTtcclxuICAgIH1cclxuICAgIHJldHVybiBhLmpvaW4oJycpO1xyXG59O1xyXG5cclxudmFyIEJBU0U2NCA9IHt9O1xyXG4oZnVuY3Rpb24oVCl7XHJcbiAgICB2YXIgZW5jb2RlQXJyYXkgPSBmdW5jdGlvbih1KSB7XHJcbiAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgIHZhciBhID0gW107XHJcbiAgICAgICAgdmFyIG4gPSAwIHwgKHUubGVuZ3RoIC8gMyk7XHJcbiAgICAgICAgd2hpbGUgKDAgPCBuLS0pIHtcclxuICAgICAgICAgICAgdmFyIHYgPSAodVtpXSA8PCAxNikgKyAodVtpKzFdIDw8IDgpICsgdVtpKzJdO1xyXG4gICAgICAgICAgICBpICs9IDM7XHJcbiAgICAgICAgICAgIGEucHVzaChULmNoYXJBdCg2MyAmICh2ID4+IDE4KSkpO1xyXG4gICAgICAgICAgICBhLnB1c2goVC5jaGFyQXQoNjMgJiAodiA+PiAxMikpKTtcclxuICAgICAgICAgICAgYS5wdXNoKFQuY2hhckF0KDYzICYgKHYgPj4gNikpKTtcclxuICAgICAgICAgICAgYS5wdXNoKFQuY2hhckF0KDYzICYgdikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoMiA9PSAodS5sZW5ndGggLSBpKSkge1xyXG4gICAgICAgICAgICB2YXIgdiA9ICh1W2ldIDw8IDE2KSArICh1W2krMV0gPDwgOCk7XHJcbiAgICAgICAgICAgIGEucHVzaChULmNoYXJBdCg2MyAmICh2ID4+IDE4KSkpO1xyXG4gICAgICAgICAgICBhLnB1c2goVC5jaGFyQXQoNjMgJiAodiA+PiAxMikpKTtcclxuICAgICAgICAgICAgYS5wdXNoKFQuY2hhckF0KDYzICYgKHYgPj4gNikpKTtcclxuICAgICAgICAgICAgYS5wdXNoKCc9Jyk7XHJcbiAgICAgICAgfSBlbHNlIGlmICgxID09ICh1Lmxlbmd0aCAtIGkpKSB7XHJcbiAgICAgICAgICAgIHZhciB2ID0gKHVbaV0gPDwgMTYpO1xyXG4gICAgICAgICAgICBhLnB1c2goVC5jaGFyQXQoNjMgJiAodiA+PiAxOCkpKTtcclxuICAgICAgICAgICAgYS5wdXNoKFQuY2hhckF0KDYzICYgKHYgPj4gMTIpKSk7XHJcbiAgICAgICAgICAgIGEucHVzaCgnPT0nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGEuam9pbignJyk7XHJcbiAgICB9XHJcbiAgICB2YXIgUiA9IChmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciBhID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPFQubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgYVtULmNoYXJDb2RlQXQoaSldID0gaTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYVsnPScuY2hhckNvZGVBdCgwKV0gPSAwO1xyXG4gICAgICAgIHJldHVybiBhO1xyXG4gICAgfSkoKTtcclxuICAgIHZhciBkZWNvZGVBcnJheSA9IGZ1bmN0aW9uKHMpIHtcclxuICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgdmFyIHUgPSBbXTtcclxuICAgICAgICB2YXIgbiA9IDAgfCAocy5sZW5ndGggLyA0KTtcclxuICAgICAgICB3aGlsZSAoMCA8IG4tLSkge1xyXG4gICAgICAgICAgICB2YXIgdiA9IChSW3MuY2hhckNvZGVBdChpKV0gPDwgMTgpICsgKFJbcy5jaGFyQ29kZUF0KGkrMSldIDw8IDEyKSArIChSW3MuY2hhckNvZGVBdChpKzIpXSA8PCA2KSArIFJbcy5jaGFyQ29kZUF0KGkrMyldO1xyXG4gICAgICAgICAgICB1LnB1c2goMjU1ICYgKHYgPj4gMTYpKTtcclxuICAgICAgICAgICAgdS5wdXNoKDI1NSAmICh2ID4+IDgpKTtcclxuICAgICAgICAgICAgdS5wdXNoKDI1NSAmIHYpO1xyXG4gICAgICAgICAgICBpICs9IDQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh1KSB7XHJcbiAgICAgICAgICAgIGlmICgnPScgPT0gcy5jaGFyQXQoaS0yKSkge1xyXG4gICAgICAgICAgICAgICAgdS5wb3AoKTtcclxuICAgICAgICAgICAgICAgIHUucG9wKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJz0nID09IHMuY2hhckF0KGktMSkpIHtcclxuICAgICAgICAgICAgICAgIHUucG9wKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHU7XHJcbiAgICB9XHJcbiAgICB2YXIgQVNDSUkgPSB7fTtcclxuICAgIEFTQ0lJLmVuY29kZSA9IGZ1bmN0aW9uKHMpIHtcclxuICAgICAgICB2YXIgdSA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpPHMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgdS5wdXNoKHMuY2hhckNvZGVBdChpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB1O1xyXG4gICAgfTtcclxuICAgIEFTQ0lJLmRlY29kZSA9IGZ1bmN0aW9uKHUpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaTxzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGFbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGFbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYS5qb2luKCcnKTtcclxuICAgIH07XHJcbiAgICBCQVNFNjQuZGVjb2RlQXJyYXkgPSBmdW5jdGlvbihzKSB7XHJcbiAgICAgICAgdmFyIHUgPSBkZWNvZGVBcnJheShzKTtcclxuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkodSk7XHJcbiAgICB9O1xyXG4gICAgQkFTRTY0LmVuY29kZUFTQ0lJID0gZnVuY3Rpb24ocykge1xyXG4gICAgICAgIHZhciB1ID0gQVNDSUkuZW5jb2RlKHMpO1xyXG4gICAgICAgIHJldHVybiBlbmNvZGVBcnJheSh1KTtcclxuICAgIH07XHJcbiAgICBCQVNFNjQuZGVjb2RlQVNDSUkgPSBmdW5jdGlvbihzKSB7XHJcbiAgICAgICAgdmFyIGEgPSBkZWNvZGVBcnJheShzKTtcclxuICAgICAgICByZXR1cm4gQVNDSUkuZGVjb2RlKGEpO1xyXG4gICAgfTtcclxuICAgIEJBU0U2NC5lbmNvZGUgPSBmdW5jdGlvbihzKSB7XHJcbiAgICAgICAgdmFyIHUgPSBVVEY4LmVuY29kZShzKTtcclxuICAgICAgICByZXR1cm4gZW5jb2RlQXJyYXkodSk7XHJcbiAgICB9O1xyXG4gICAgQkFTRTY0LmRlY29kZSA9IGZ1bmN0aW9uKHMpIHtcclxuICAgICAgICB2YXIgdSA9IGRlY29kZUFycmF5KHMpO1xyXG4gICAgICAgIHJldHVybiBVVEY4LmRlY29kZSh1KTtcclxuICAgIH07XHJcbn0pKFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiKTtcclxuXHJcbi8qVGhlIGZvbGxvd2luZyBwb2x5ZmlsbHMgYXJlIG5vdCB1c2VkIGluIGRhc2guanMgYnV0IGhhdmUgY2F1c2VkIG11bHRpcGxheWVyIGludGVncmF0aW9uIGlzc3Vlcy5cclxuIFRoZXJlZm9yZSBjb21tZW50aW5nIHRoZW0gb3V0LlxyXG5pZiAodW5kZWZpbmVkID09PSBidG9hKSB7XHJcbiAgICB2YXIgYnRvYSA9IEJBU0U2NC5lbmNvZGU7XHJcbn1cclxuaWYgKHVuZGVmaW5lZCA9PT0gYXRvYikge1xyXG4gICAgdmFyIGF0b2IgPSBCQVNFNjQuZGVjb2RlO1xyXG59XHJcbiovXHJcblxyXG5pZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICBleHBvcnRzLmRlY29kZSA9IEJBU0U2NC5kZWNvZGU7XHJcbiAgICBleHBvcnRzLmRlY29kZUFycmF5ID0gQkFTRTY0LmRlY29kZUFycmF5O1xyXG59XHJcbiIsImltcG9ydCBGYWN0b3J5TWFrZXIgZnJvbSAnLi4vY29yZS9GYWN0b3J5TWFrZXInO1xuXG5cbmZ1bmN0aW9uIEhsc1BhcnNlciAoKSB7XG5cbiAgbGV0IGluc3RhbmNlID0ge307XG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxuSGxzUGFyc2VyLl9faDVwbGF5ZXJfZmFjdG9yeV9uYW1lID0gJ0hsc1BhcnNlcic7XG5leHBvcnQgZGVmYXVsdCBGYWN0b3J5TWFrZXIuZ2V0U2luZ2xldG9uRmFjdG9yeShIbHNQYXJzZXIpO1xuIiwi77u/Ly8gXHJcbmltcG9ydCBFdmVudHMgZnJvbSAnLi9jb3JlL0NvcmVFdmVudHMnO1xyXG5pbXBvcnQgQ29tbW9uVXRpbHMgZnJvbSAnLi91dGlscy9jb21tb25fdXRpbHMnO1xyXG5pbXBvcnQgUGxheWVyIGZyb20gJy4vUGxheWVyJztcclxuaW1wb3J0IENhc3RTZW5kZXIgZnJvbSAnLi9jYXN0L2Nhc3Rfc2VuZGVyJztcclxuaW1wb3J0IENhc3RSZWNlaXZlciBmcm9tICcuL2Nhc3QvY2FzdF9yZWNlaXZlcic7XHJcblxyXG4vL1xyXG5pbXBvcnQgVGVzdEZlYXR1cmUgZnJvbSAnLi9UZXN0RmVhdHVyZSc7XHJcblxyXG4vLyBTaG92ZSBib3RoIG9mIHRoZXNlIGludG8gdGhlIGdsb2JhbCBzY29wZVxyXG52YXIgY29udGV4dCA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cpIHx8IGdsb2JhbDtcclxuXHJcbnZhciBvbGRtdG4gPSBjb250ZXh0Lm9sZG10bjtcclxuaWYgKCFvbGRtdG4pIHtcclxuICAgIG9sZG10biA9IGNvbnRleHQub2xkbXRuID0ge307XHJcbn1cclxuXHJcbm9sZG10bi5QbGF5ZXIgPSBQbGF5ZXI7XHJcbm9sZG10bi5FdmVudHMgPSBFdmVudHM7XHJcbm9sZG10bi5UZXN0RmVhdHVyZSA9IFRlc3RGZWF0dXJlO1xyXG5vbGRtdG4uQ2FzdFNlbmRlciA9IENhc3RTZW5kZXI7XHJcbm9sZG10bi5DYXN0UmVjZWl2ZXIgPSBDYXN0UmVjZWl2ZXI7XHJcblxyXG5vbGRtdG4uQ29tbW9uVXRpbHMgPSBDb21tb25VdGlscztcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBvbGRtdG47XHJcblxyXG5cclxuIiwiaW1wb3J0IEZhY3RvcnlNYWtlciBmcm9tICcuLi9jb3JlL0ZhY3RvcnlNYWtlcic7XG5cbmltcG9ydCBEYXNoUGFyc2VyIGZyb20gJy4uL2Rhc2gvZGFzaF9wYXJzZXInO1xuaW1wb3J0IEhsc1BhcnNlciBmcm9tICcuLi9obHMvaGxzX3BhcnNlcic7XG5pbXBvcnQgUERQYXJzZXIgZnJvbSAnLi4vcGQvcGRfcGFyc2VyJztcblxuZnVuY3Rpb24gTWFuaWZlc3RQYXJzZXIoKSB7XG4gICAgXG4gICAgZnVuY3Rpb24gZ2V0UGFyc2VyKHVybCkge1xuICAgICAgICBsZXQgcGFyc2VyID0gbnVsbDtcbiAgICAgICAgbGV0IGV4dGVuc2lvbiA9IHVybC5zcGxpdCgnLicpLnBvcCgpO1xuICAgICAgICBpZiAoZXh0ZW5zaW9uID09PSAnbXBkJykge1xuICAgICAgICAgICAgcGFyc2VyID0gRGFzaFBhcnNlcihvbGRtdG4pLmdldEluc3RhbmNlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXh0ZW5zaW9uID09PSAnbTN1OCcpIHtcbiAgICAgICAgICAgIHBhcnNlciA9IEhsc1BhcnNlcihvbGRtdG4pLmdldEluc3RhbmNlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXh0ZW5zaW9uID09PSAnbXA0Jykge1xuICAgICAgICAgICAgcGFyc2VyID0gUERQYXJzZXIob2xkbXRuKS5nZXRJbnN0YW5jZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhcnNlcjtcbiAgICB9XG5cbiAgICBsZXQgaW5zdGFuY2UgPSB7XG4gICAgICAgIGdldFBhcnNlcjogZ2V0UGFyc2VyXG4gICAgfTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG59XG5cbk1hbmlmZXN0UGFyc2VyLl9faDVwbGF5ZXJfZmFjdG9yeV9uYW1lID0gJ01hbmlmZXN0UGFyc2VyJztcbmV4cG9ydCBkZWZhdWx0IEZhY3RvcnlNYWtlci5nZXRTaW5nbGV0b25GYWN0b3J5KE1hbmlmZXN0UGFyc2VyKTtcblxuXG4iLCJpbXBvcnQgRmFjdG9yeU1ha2VyIGZyb20gJy4uL2NvcmUvRmFjdG9yeU1ha2VyJztcbmltcG9ydCBYSFJMb2FkZXIgZnJvbSAnLi4vdXRpbHMveGhyX2xvYWRlcic7XG5pbXBvcnQgRXZlbnRCdXMgZnJvbSAnLi4vY29yZS9FdmVudEJ1cyc7XG5pbXBvcnQgRXZlbnRzIGZyb20gJy4uL2NvcmUvQ29yZUV2ZW50cyc7XG5cbmZ1bmN0aW9uIFNjaGVkdWxlQ29udHJvbGxlcigpIHtcbiAgICBsZXQgcGFyc2VyXztcbiAgICBsZXQgc2NoZWR1bGVUaW1lb3V0XztcbiAgICBsZXQgeGhyTG9hZGVyXyA9IFhIUkxvYWRlcihvbGRtdG4pLmdldEluc3RhbmNlKCk7XG4gICAgbGV0IGV2ZW50QnVzXyA9IEV2ZW50QnVzKG9sZG10bikuZ2V0SW5zdGFuY2UoKTtcblxuICAgIC8vIGZsYWdcbiAgICBsZXQgaXNGcmFnbWVudFByb2Nlc3NpbmdfID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICAgICAgXG4gICAgfVxuICAgIFxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlKCkge1xuICAgICAgICBpZiAoaXNGcmFnbWVudFByb2Nlc3NpbmdfKSB7XG4gICAgICAgICAgICBzdGFydFNjaGVkdWxlVGltZXIoNTAwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBmcmFnbWVudCA9IHBhcnNlcl8uZ2V0TmV4dEZyYWdtZW50KCk7XG4gICAgICAgIGlmICghZnJhZ21lbnQpIHtcbiAgICAgICAgICAgIGV2ZW50QnVzXy50cmlnZ2VyKEV2ZW50cy5GUkFHTUVOVF9ET1dOTE9BREVEX0VOREVEKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNiU3VjY2VzcyhieXRlcykge1xuICAgICAgICAgICAgZnJhZ21lbnQuYnl0ZXMgPSBieXRlcztcbiAgICAgICAgICAgIGV2ZW50QnVzXy50cmlnZ2VyKEV2ZW50cy5GUkFHTUVOVF9ET1dOTE9BREVELCBmcmFnbWVudCk7XG4gICAgICAgICAgICBpc0ZyYWdtZW50UHJvY2Vzc2luZ18gPSBmYWxzZTtcblxuICAgICAgICAgICAgc3RhcnRTY2hlZHVsZVRpbWVyKDEwMCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVxdWVzdCA9IHtcbiAgICAgICAgICAgIHVybDogZnJhZ21lbnQudXJsLFxuICAgICAgICAgICAgY2JTdWNjZXNzOiBjYlN1Y2Nlc3NcbiAgICAgICAgfTtcbiAgICAgICAgaXNGcmFnbWVudFByb2Nlc3NpbmdfID0gdHJ1ZTtcbiAgICAgICAgeGhyTG9hZGVyXy5sb2FkKHJlcXVlc3QpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0YXJ0U2NoZWR1bGVUaW1lcih2YWx1ZSkge1xuICAgICAgICBpZiAoc2NoZWR1bGVUaW1lb3V0Xykge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNjaGVkdWxlVGltZW91dF8pO1xuICAgICAgICAgICAgc2NoZWR1bGVUaW1lb3V0XyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgc2NoZWR1bGVUaW1lb3V0XyA9IHNldFRpbWVvdXQoc2NoZWR1bGUsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdGFydChwYXJzZXIpIHtcbiAgICAgICAgcGFyc2VyXyA9IHBhcnNlcjtcbiAgICAgICAgc3RhcnRTY2hlZHVsZVRpbWVyKDApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIGlmIChzY2hlZHVsZVRpbWVvdXRfKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoc2NoZWR1bGVUaW1lb3V0Xyk7XG4gICAgICAgICAgICBzY2hlZHVsZVRpbWVvdXRfID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxldCBpbnN0YW5jZSA9IHtcbiAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICBzdG9wOiBzdG9wXG4gICAgfTtcbiAgICBzZXR1cCgpO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbn1cblxuXG5TY2hlZHVsZUNvbnRyb2xsZXIuX19oNXBsYXllcl9mYWN0b3J5X25hbWUgPSAnU2NoZWR1bGVDb250cm9sbGVyJztcbmV4cG9ydCBkZWZhdWx0IEZhY3RvcnlNYWtlci5nZXRTaW5nbGV0b25GYWN0b3J5KFNjaGVkdWxlQ29udHJvbGxlcik7XG5cblxuXG5cblxuIiwi77u/aW1wb3J0IEZhY3RvcnlNYWtlciBmcm9tICcuL2NvcmUvRmFjdG9yeU1ha2VyJztcbmltcG9ydCBFdmVudEJ1cyBmcm9tICcuL2NvcmUvRXZlbnRCdXMnO1xuaW1wb3J0IEV2ZW50cyBmcm9tICcuL2NvcmUvQ29yZUV2ZW50cyc7XG5pbXBvcnQgRGVidWcgZnJvbSAnLi9jb3JlL0RlYnVnJztcbmltcG9ydCBUaW1lUmFuZ2VzIGZyb20gJy4vdXRpbHMvdGltZVJhbmdlcyc7XG5pbXBvcnQgQ29tbW9uVXRpbHMgZnJvbSAnLi91dGlscy9jb21tb25fdXRpbHMnO1xuXG4vKiBEdXJpbmcgdGhlIGxvYWRpbmcgcHJvY2VzcyBvZiBhbiBhdWRpby92aWRlbywgdGhlIGZvbGxvd2luZyBldmVudHMgb2NjdXIsIGluIHRoaXMgb3JkZXI6XG5sb2Fkc3RhcnRcbmR1cmF0aW9uY2hhbmdlXG5sb2FkZWRtZXRhZGF0YVxubG9hZGVkZGF0YVxucHJvZ3Jlc3NcbmNhbnBsYXlcbmNhbnBsYXl0aHJvdWdoXG4gKi9cblxuZnVuY3Rpb24gTWVkaWFFbmdpbmUobWVkaWEsIGNmZykge1xuICAgIGxldCBtZWRpYV8gPSBtZWRpYTtcbiAgICBsZXQgY2ZnXyA9IGNmZztcbiAgICBsZXQgZXZlbnRCdXNfID0gRXZlbnRCdXMob2xkbXRuKS5nZXRJbnN0YW5jZSgpO1xuICAgIGxldCBkZWJ1Z18gPSBEZWJ1ZyhvbGRtdG4pLmdldEluc3RhbmNlKCk7XG5cbiAgICAvLyBmbGFnXG4gICAgbGV0IGF1dG9wbGF5QWxsb3dlZF87XG4gICAgbGV0IGF1dG9wbGF5UmVxdWlyZXNNdXRlZF87XG5cbiAgICBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICAvLyBCZWdpbiAtLSBwdWJsaWMgZnVuY3Rpb25zXG4gICAgZnVuY3Rpb24gZGV0ZWN0QXV0b3BsYXkoKSB7XG4gICAgICAgIGRlYnVnXy5sb2coJytkZXRlY3RBdXRvcGxheTogJyArIGNmZ18uYXV0b3BsYXkpO1xuICAgICAgICBpZiAoY2ZnXy5hdXRvcGxheSkge1xuICAgICAgICAgICAgLy9tZWRpYV8uYXV0b3BsYXkgPSB0cnVlO1xuICAgICAgICAgICAgbGV0IHBsYXlQcm9taXNlID0gcGxheSgpOyAvLyBUaGlzIGlzIGFzeW5jaHJvbm91cyFcbiAgICAgICAgICAgIGlmIChwbGF5UHJvbWlzZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3dlYmtpdEF1ZGlvRGVjb2RlZEJ5dGVDb3VudDogJyArIG1lZGlhXy53ZWJraXRBdWRpb0RlY29kZWRCeXRlQ291bnQpO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd3ZWJraXRWaWRlb0RlY29kZWRCeXRlQ291bnQ6ICcgKyBtZWRpYV8ud2Via2l0VmlkZW9EZWNvZGVkQnl0ZUNvdW50KTtcbiAgICAgICAgICAgICAgICAvLyBpZiAoQ29tbW9uVXRpbHMuaXNTYWZhcmkoKSkge1xuICAgICAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnYXVkaW9UcmFja3MgbGVuZ3RoOiAnICsgbWVkaWFfLmF1ZGlvVHJhY2tzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICAgICAgcGxheVByb21pc2UudGhlbihvbkF1dG9wbGF5V2l0aFNvdW5kU3VjY2VzcykuY2F0Y2gob25BdXRvcGxheVdpdGhTb3VuZEZhaWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICAgICAgZGVidWdfLmxvZygnK05hdGl2ZSB2aWRlbyBlbGVtZW50IHJlcXVlc3Q6IHBsYXknKTtcbiAgICAgICAgcmV0dXJuIG1lZGlhXy5wbGF5KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgICAgIGRlYnVnXy5sb2coJytOYXRpdmUgdmlkZW8gZWxlbWVudCByZXF1ZXN0OiBwYXVzZScpO1xuICAgICAgICBtZWRpYV8ucGF1c2UoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1BhdXNlZCgpIHtcbiAgICAgICAgcmV0dXJuIG1lZGlhXy5wYXVzZWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0UG9zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiBtZWRpYV8uY3VycmVudFRpbWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0RHVyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiBtZWRpYV8uZHVyYXRpb247XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0UG9zaXRpb24odGltZSkge1xuICAgICAgICBtZWRpYV8uY3VycmVudFRpbWUgPSB0aW1lO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzU2Vla2luZygpIHtcbiAgICAgICAgcmV0dXJuIG1lZGlhXy5zZWVraW5nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRW5kZWQoKSB7XG4gICAgICAgIHJldHVybiBtZWRpYV8uZW5kZWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbXV0ZSgpIHtcbiAgICAgICAgbWVkaWFfLm11dGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1bm11dGUoKSB7XG4gICAgICAgIG1lZGlhXy5tdXRlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzTXV0ZWQoKSB7XG4gICAgICAgIHJldHVybiBtZWRpYV8ubXV0ZWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0Vm9sdW1lKHZvbHVtZSkge1xuICAgICAgICBtZWRpYV8udm9sdW1lID0gdm9sdW1lO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFZvbHVtZSgpIHtcbiAgICAgICAgcmV0dXJuIG1lZGlhXy52b2x1bWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmlkZW9XaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIG1lZGlhXy52aWRlb1dpZHRoO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZpZGVvSGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gbWVkaWFfLnZpZGVvSGVpZ2h0O1xuICAgIH1cbiAgICAvLyBFbmQgLS0gcHVibGljIGZ1bmN0aW9uc1xuXG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBCZWdpbiBhdXRvcGxheSBwb2xpY3lcbiAgICAvLyBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vaW50ZXJhY3RpdmUtbWVkaWEtYWRzL2RvY3Mvc2Rrcy9odG1sNS9kZXNrdG9wLWF1dG9wbGF5XG4gICAgZnVuY3Rpb24gb25NdXRlZEF1dG9wbGF5U3VjY2VzcygpIHtcbiAgICAgICAgZGVidWdfLmxvZygnK29uTXV0ZWRBdXRvcGxheVN1Y2Nlc3MnKTtcbiAgICAgICAgYXV0b3BsYXlBbGxvd2VkXyA9IHRydWU7XG4gICAgICAgIGF1dG9wbGF5UmVxdWlyZXNNdXRlZF8gPSB0cnVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTXV0ZWRBdXRvcGxheUZhaWwoKSB7XG4gICAgICAgIGRlYnVnXy5sb2coJytvbk11dGVkQXV0b3BsYXlGYWlsJyk7XG4gICAgICAgIC8vIEJvdGggbXV0ZWQgYW5kIHVubXV0ZWQgYXV0b3BsYXkgZmFpbGVkLiBGYWxsIGJhY2sgdG8gY2xpY2sgdG8gcGxheS5cbiAgICAgICAgYXV0b3BsYXlBbGxvd2VkXyA9IGZhbHNlO1xuICAgICAgICBhdXRvcGxheVJlcXVpcmVzTXV0ZWRfID0gZmFsc2U7XG5cbiAgICAgICAgc2V0Vm9sdW1lKDEpO1xuICAgICAgICB1bm11dGUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGVja011dGVkQXV0b3BsYXlTdXBwb3J0KCkge1xuICAgICAgICBkZWJ1Z18ubG9nKCcrY2hlY2tNdXRlZEF1dG9wbGF5U3VwcG9ydCcpO1xuICAgICAgICBzZXRWb2x1bWUoMCk7XG4gICAgICAgIG11dGUoKTtcbiAgICAgICAgbGV0IHBsYXlQcm9taXNlID0gcGxheSgpO1xuICAgICAgICBpZiAocGxheVByb21pc2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGxheVByb21pc2UudGhlbihvbk11dGVkQXV0b3BsYXlTdWNjZXNzKS5jYXRjaChvbk11dGVkQXV0b3BsYXlGYWlsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uQXV0b3BsYXlXaXRoU291bmRTdWNjZXNzKGluZm8pIHtcbiAgICAgICAgLy8gSWYgd2UgbWFrZSBpdCBoZXJlLCB1bm11dGVkIGF1dG9wbGF5IHdvcmtzLlxuICAgICAgICBkZWJ1Z18ubG9nKCcrb25BdXRvcGxheVdpdGhTb3VuZFN1Y2Nlc3MnKTtcbiAgICAgICAgYXV0b3BsYXlBbGxvd2VkXyA9IHRydWU7XG4gICAgICAgIGF1dG9wbGF5UmVxdWlyZXNNdXRlZF8gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkF1dG9wbGF5V2l0aFNvdW5kRmFpbChlcnIpIHtcbiAgICAgICAgLy8gVW5tdXRlZCBhdXRvcGxheSBmYWlsZWQuIE5vdyB0cnkgbXV0ZWQgYXV0b3BsYXkuXG4gICAgICAgIGRlYnVnXy5sb2coJytvbkF1dG9wbGF5V2l0aFNvdW5kRmFpbCwgZXJyOiAnLCBlcnIpO1xuICAgICAgICBhdXRvcGxheUFsbG93ZWRfID0gZmFsc2U7XG4gICAgICAgIGlmIChjZmdfLm11dGVkQXV0b3BsYXkpIHtcbiAgICAgICAgICAgIGNoZWNrTXV0ZWRBdXRvcGxheVN1cHBvcnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBFbmQgYXV0b3BsYXkgcG9saWN5XG5cbiAgICAvLyBCZWdpbiAtIHByaXZhdGUgZnVuY3Rpb25cbiAgICBmdW5jdGlvbiBvbk1lZGlhQXVkaW9BdmFpbGFibGUoKSB7XG4gICAgICAgIGRlYnVnXy5sb2coJytOYXRpdmUgdmlkZW8gZWxlbWVudCBldmVudDogYXVkaW9hdmFpbGFibGUnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1lZGlhQWJvcnQoKSB7XG4gICAgICAgIGRlYnVnXy5sb2coJytOYXRpdmUgdmlkZW8gZWxlbWVudCBldmVudDogYWJvcnQnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1lZGlhQ2FucGxheSgpIHtcbiAgICAgICAgLy9UaGUgY2FucGxheSBldmVudCBvY2N1cnMgd2hlbiB0aGUgYnJvd3NlciBjYW4gc3RhcnQgcGxheWluZyB0aGUgc3BlY2lmaWVkIGF1ZGlvL3ZpZGVvICh3aGVuIGl0IGhhcyBidWZmZXJlZCBlbm91Z2ggdG8gYmVnaW4pLlxuICAgICAgICBkZWJ1Z18ubG9nKCcrTmF0aXZlIHZpZGVvIGVsZW1lbnQgZXZlbnQ6IGNhbnBsYXknKTtcbiAgICAgICAgbGV0IGEgPSBtZWRpYV87XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NZWRpYUNhbnBsYXlUaHJvdWdoKCkge1xuICAgICAgICBkZWJ1Z18ubG9nKCcrTmF0aXZlIHZpZGVvIGVsZW1lbnQgZXZlbnQ6IGNhbnBsYXl0aHJvdWdoJyk7XG4gICAgICAgIGxldCBhID0gbWVkaWFfO1xuICAgICAgICBldmVudEJ1c18udHJpZ2dlcihFdmVudHMuTUVESUFfQ0FOUExBWV9USFJPVUdIKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1lZGlhRHVyYXRpb25DaGFuZ2VkKCkge1xuICAgICAgICAvLyBkZWJ1Z18ubG9nKCcrTmF0aXZlIHZpZGVvIGVsZW1lbnQgZXZlbnQ6IGR1cmF0aW9uY2hhbmdlJyArXG4gICAgICAgIC8vICAgICAnLCBnZXRQb3NpdGlvbjogJyArIG1lZGlhXy5nZXRQb3NpdGlvbiArXG4gICAgICAgIC8vICAgICAnLCBkdXJhdGlvbjogJyArIG1lZGlhXy5kdXJhdGlvbik7XG4gICAgICAgIGV2ZW50QnVzXy50cmlnZ2VyKEV2ZW50cy5NRURJQV9EVVJBVElPTl9DSEFOR0VEKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1lZGlhRW5kZWQoKSB7XG4gICAgICAgIGRlYnVnXy5sb2coJytOYXRpdmUgdmlkZW8gZWxlbWVudCBldmVudDogZW5kZWQnKTtcbiAgICAgICAgZXZlbnRCdXNfLnRyaWdnZXIoRXZlbnRzLk1FRElBX0VOREVEKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1lZGlhRXJyb3IoKSB7XG4gICAgICAgIGRlYnVnXy5sb2coJytOYXRpdmUgdmlkZW8gZWxlbWVudCBldmVudDogZXJyb3InKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1lZGlhSW50ZXJydXB0QmVnaW4oKSB7XG4gICAgICAgIGRlYnVnXy5sb2coJytOYXRpdmUgdmlkZW8gZWxlbWVudCBldmVudDogaW50ZXJydXB0YmVnaW4nKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1lZGlhSW50ZXJydXB0RW5kKCkge1xuICAgICAgICBkZWJ1Z18ubG9nKCcrTmF0aXZlIHZpZGVvIGVsZW1lbnQgZXZlbnQ6IGludGVycnVwdGVuZCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTWVkaWFMb2FkZWREYXRhKCkge1xuICAgICAgICBkZWJ1Z18ubG9nKCcrTmF0aXZlIHZpZGVvIGVsZW1lbnQgZXZlbnQ6IGxvYWRlZGRhdGEnKTtcbiAgICAgICAgZnVuY3Rpb24gaGFzQXVkaW8oKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1lZGlhXy53ZWJraXRBdWRpb0RlY29kZWRCeXRlQ291bnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBub24temVybyBpZiB2aWRlbyBoYXMgYXVkaW8gdHJhY2tcbiAgICAgICAgICAgICAgICBpZiAobWVkaWFfLndlYmtpdEF1ZGlvRGVjb2RlZEJ5dGVDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ2aWRlbyBoYXMgYXVkaW9cIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ2aWRlbyBkb2Vzbid0IGhhdmUgYXVkaW9cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbWVkaWFfLm1vekhhc0F1ZGlvICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgLy8gdHJ1ZSBpZiB2aWRlbyBoYXMgYXVkaW8gdHJhY2tcbiAgICAgICAgICAgICAgICBpZiAobWVkaWFfLm1vekhhc0F1ZGlvKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidmlkZW8gaGFzIGF1ZGlvXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidmlkZW8gZG9lc24ndCBoYXZlIGF1ZGlvXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjYW4ndCB0ZWxsIGlmIHZpZGVvIGhhcyBhdWRpb1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRlYnVnXy5sb2coJ2hhc0F1ZGlvOiAnICsgaGFzQXVkaW8oKSk7XG4gICAgICAgIGV2ZW50QnVzXy50cmlnZ2VyKEV2ZW50cy5NRURJQV9MT0FERUREQVRBKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1lZGlhTG9hZGVkTWV0YWRhdGEoKSB7XG4gICAgICAgIGRlYnVnXy5sb2coJytOYXRpdmUgdmlkZW8gZWxlbWVudCBldmVudDogbWV0YWRhdGEnICtcbiAgICAgICAgICAgICcsIHdpZHRoOiAnICsgbWVkaWFfLnZpZGVvV2lkdGggK1xuICAgICAgICAgICAgJywgaGVpZ2h0OiAnICsgbWVkaWFfLnZpZGVvSGVpZ2h0ICtcbiAgICAgICAgICAgICcsIGR1cmF0aW9uOiAnICsgbWVkaWFfLmR1cmF0aW9uKTtcbiAgICAgICAgbGV0IHdpZHRoID0gbWVkaWFfLnZpZGVvV2lkdGg7XG4gICAgICAgIGxldCBoZWlnaHQgPSBtZWRpYV8udmlkZW9IZWlnaHQ7XG4gICAgICAgIGV2ZW50QnVzXy50cmlnZ2VyKEV2ZW50cy5NRURJQV9MT0FERURNRVRBREFUQSwge1xuICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NZWRpYUxvYWRTdGFydCgpIHtcbiAgICAgICAgZGVidWdfLmxvZygnK05hdGl2ZSB2aWRlbyBlbGVtZW50IGV2ZW50OiBsb2Fkc3RhcnQnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1lZGlhUGF1c2VkKCkge1xuICAgICAgICBkZWJ1Z18ubG9nKCcrTmF0aXZlIHZpZGVvIGVsZW1lbnQgZXZlbnQ6IHBhdXNlJyk7XG4gICAgICAgIGV2ZW50QnVzXy50cmlnZ2VyKEV2ZW50cy5NRURJQV9QQVVTRUQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTWVkaWFQbGF5KCkge1xuICAgICAgICBkZWJ1Z18ubG9nKCcrTmF0aXZlIHZpZGVvIGVsZW1lbnQgZXZlbnQ6IHBsYXknKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1lZGlhUGxheWluZygpIHtcbiAgICAgICAgZGVidWdfLmxvZygnK05hdGl2ZSB2aWRlbyBlbGVtZW50IGV2ZW50OiBwbGF5aW5nJyk7XG4gICAgICAgIGV2ZW50QnVzXy50cmlnZ2VyKEV2ZW50cy5NRURJQV9QTEFZSU5HKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1lZGlhUHJvZ3Jlc3MoZSkge1xuICAgICAgICB2YXIgcHJvZ3Jlc3MgPSBUaW1lUmFuZ2VzLnRvU3RyaW5nKG1lZGlhXy5idWZmZXJlZCk7XG5cbiAgICAgICAgLy9kZWJ1Z18ubG9nKCcrTmF0aXZlIHZpZGVvIGVsZW1lbnQgZXZlbnQ6IHByb2dyZXNzLCAnICsgcHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTWVkaWFSZWFkeVN0YXRlKGUpIHtcbiAgICAgICAgZGVidWdfLmxvZygnK05hdGl2ZSB2aWRlbyBlbGVtZW50IGV2ZW50OiByZWFkeVN0YXRlJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NZWRpYVNlZWtpbmcoKSB7XG4gICAgICAgIGV2ZW50QnVzXy50cmlnZ2VyKEV2ZW50cy5NRURJQV9TRUVLSU5HKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1lZGlhU2Vla2VkKCkge1xuICAgICAgICBldmVudEJ1c18udHJpZ2dlcihFdmVudHMuTUVESUFfU0VFS0VEKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1lZGlhU3VzcGVuZCgpIHtcbiAgICAgICAgZGVidWdfLmxvZygnK05hdGl2ZSB2aWRlbyBlbGVtZW50IGV2ZW50OiBzdXNwZW5kJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NZWRpYVRpbWVVcGRhdGVkKGUpIHtcbiAgICAgICAgZXZlbnRCdXNfLnRyaWdnZXIoRXZlbnRzLk1FRElBX1RJTUVVUERBVEUpO1xuICAgICAgICAvL2RlYnVnXy5sb2coYG1haW4gYnVmZmVyZWQgOiAke1RpbWVSYW5nZXMudG9TdHJpbmcobWVkaWEuYnVmZmVyZWQpfWAgKyAnLCBnZXRQb3NpdGlvbjogJyArIG1lZGlhLmdldFBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1lZGlhVm9sdW1lQ2hhbmdlZCgpIHtcbiAgICAgICAgZGVidWdfLmxvZygnK05hdGl2ZSB2aWRlbyBlbGVtZW50IGV2ZW50OiB2b2x1bWVjaGFuZ2UsIG11dGVkOiAnICsgbWVkaWFfLm11dGVkICsgJywgdm9sdW1lOiAnICsgbWVkaWFfLnZvbHVtZSk7XG4gICAgICAgIGV2ZW50QnVzXy50cmlnZ2VyKEV2ZW50cy5NRURJQV9WT0xVTUVfQ0hBTkdFRCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NZWRpYVdhaXRpbmcoKSB7XG4gICAgICAgIGRlYnVnXy5sb2coJytOYXRpdmUgdmlkZW8gZWxlbWVudCBldmVudDogd2FpdGluZycpO1xuICAgICAgICBldmVudEJ1c18udHJpZ2dlcihFdmVudHMuTUVESUFfV0FJVElORyk7XG4gICAgfVxuICAgIC8vIEVuZFxuXG4gICAgLy8gcHVibGljIGZ1bmN0aW9uXG4gICAgZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAgIG1lZGlhXy5hZGRFdmVudExpc3RlbmVyKCdtb3phdWRpb2F2YWlsYWJsZScsIG9uTWVkaWFBdWRpb0F2YWlsYWJsZSk7XG4gICAgICAgIG1lZGlhXy5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uTWVkaWFBYm9ydCk7XG4gICAgICAgIG1lZGlhXy5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5Jywgb25NZWRpYUNhbnBsYXkpO1xuICAgICAgICBtZWRpYV8uYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCBvbk1lZGlhQ2FucGxheVRocm91Z2gpO1xuICAgICAgICBtZWRpYV8uYWRkRXZlbnRMaXN0ZW5lcignZHVyYXRpb25jaGFuZ2UnLCBvbk1lZGlhRHVyYXRpb25DaGFuZ2VkKTtcbiAgICAgICAgbWVkaWFfLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgb25NZWRpYUVuZGVkKTtcbiAgICAgICAgbWVkaWFfLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgb25NZWRpYUVycm9yKTtcbiAgICAgICAgbWVkaWFfLmFkZEV2ZW50TGlzdGVuZXIoJ2ludGVycnVwdGJlZ2luJywgb25NZWRpYUludGVycnVwdEJlZ2luKTtcbiAgICAgICAgbWVkaWFfLmFkZEV2ZW50TGlzdGVuZXIoJ2ludGVycnVwdGVuZCcsIG9uTWVkaWFJbnRlcnJ1cHRFbmQpO1xuICAgICAgICBtZWRpYV8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkZGF0YScsIG9uTWVkaWFMb2FkZWREYXRhKTtcbiAgICAgICAgbWVkaWFfLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgb25NZWRpYUxvYWRlZE1ldGFkYXRhKTtcbiAgICAgICAgbWVkaWFfLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRzdGFydCcsIG9uTWVkaWFMb2FkU3RhcnQpO1xuICAgICAgICBtZWRpYV8uYWRkRXZlbnRMaXN0ZW5lcigncGF1c2UnLCBvbk1lZGlhUGF1c2VkKTtcbiAgICAgICAgbWVkaWFfLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXknLCBvbk1lZGlhUGxheSk7XG4gICAgICAgIG1lZGlhXy5hZGRFdmVudExpc3RlbmVyKCdwbGF5aW5nJywgb25NZWRpYVBsYXlpbmcpO1xuICAgICAgICBtZWRpYV8uYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBvbk1lZGlhUHJvZ3Jlc3MpO1xuICAgICAgICBtZWRpYV8uYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlTdGF0ZScsIG9uTWVkaWFSZWFkeVN0YXRlKTtcbiAgICAgICAgbWVkaWFfLmFkZEV2ZW50TGlzdGVuZXIoJ3NlZWtpbmcnLCBvbk1lZGlhU2Vla2luZyk7XG4gICAgICAgIG1lZGlhXy5hZGRFdmVudExpc3RlbmVyKCdzZWVrZWQnLCBvbk1lZGlhU2Vla2VkKTtcbiAgICAgICAgbWVkaWFfLmFkZEV2ZW50TGlzdGVuZXIoJ3N1c3BlbmQnLCBvbk1lZGlhU3VzcGVuZCk7XG4gICAgICAgIG1lZGlhXy5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgb25NZWRpYVRpbWVVcGRhdGVkKTtcbiAgICAgICAgbWVkaWFfLmFkZEV2ZW50TGlzdGVuZXIoJ3ZvbHVtZWNoYW5nZScsIG9uTWVkaWFWb2x1bWVDaGFuZ2VkKTtcbiAgICAgICAgbWVkaWFfLmFkZEV2ZW50TGlzdGVuZXIoJ3dhaXRpbmcnLCBvbk1lZGlhV2FpdGluZyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlRXZlbnRzTGlzdGVuZXJzKCkge1xuICAgICAgICBtZWRpYV8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW96YXVkaW9hdmFpbGFibGUnLCBvbk1lZGlhQXVkaW9BdmFpbGFibGUpO1xuICAgICAgICBtZWRpYV8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbk1lZGlhQWJvcnQpO1xuICAgICAgICBtZWRpYV8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheScsIG9uTWVkaWFDYW5wbGF5KTtcbiAgICAgICAgbWVkaWFfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgb25NZWRpYUNhbnBsYXlUaHJvdWdoKTtcbiAgICAgICAgbWVkaWFfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2R1cmF0aW9uY2hhbmdlJywgb25NZWRpYUR1cmF0aW9uQ2hhbmdlZCk7XG4gICAgICAgIG1lZGlhXy5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIG9uTWVkaWFFbmRlZCk7XG4gICAgICAgIG1lZGlhXy5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIG9uTWVkaWFFcnJvcik7XG4gICAgICAgIG1lZGlhXy5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnRlcnJ1cHRiZWdpbicsIG9uTWVkaWFJbnRlcnJ1cHRCZWdpbik7XG4gICAgICAgIG1lZGlhXy5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnRlcnJ1cHRlbmQnLCBvbk1lZGlhSW50ZXJydXB0RW5kKTtcbiAgICAgICAgbWVkaWFfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWRlZGRhdGEnLCBvbk1lZGlhTG9hZGVkRGF0YSk7XG4gICAgICAgIG1lZGlhXy5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIG9uTWVkaWFNZXRhZGF0YSk7XG4gICAgICAgIG1lZGlhXy5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2Fkc3RhcnQnLCBvbk1lZGlhTG9hZFN0YXJ0KTtcbiAgICAgICAgbWVkaWFfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BhdXNlJywgb25NZWRpYVBhdXNlZCk7XG4gICAgICAgIG1lZGlhXy5yZW1vdmVFdmVudExpc3RlbmVyKCdwbGF5Jywgb25NZWRpYVBsYXkpO1xuICAgICAgICBtZWRpYV8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigncGxheWluZycsIG9uTWVkaWFQbGF5aW5nKTtcbiAgICAgICAgbWVkaWFfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgb25NZWRpYVByb2dyZXNzKTtcbiAgICAgICAgbWVkaWFfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3JlYWR5U3RhdGUnLCBvbk1lZGlhUmVhZHlTdGF0ZSk7XG4gICAgICAgIG1lZGlhXy5yZW1vdmVFdmVudExpc3RlbmVyKCdzZWVraW5nJywgb25NZWRpYVNlZWtpbmcpO1xuICAgICAgICBtZWRpYV8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Vla2VkJywgb25NZWRpYVNlZWtlZCk7XG4gICAgICAgIG1lZGlhXy5yZW1vdmVFdmVudExpc3RlbmVyKCdzdXNwZW5kJywgb25NZWRpYVN1c3BlbmQpO1xuICAgICAgICBtZWRpYV8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGltZXVwZGF0ZScsIG9uTWVkaWFUaW1lVXBkYXRlZCk7XG4gICAgICAgIG1lZGlhXy5yZW1vdmVFdmVudExpc3RlbmVyKCd2b2x1bWVjaGFuZ2UnLCBvbk1lZGlhVm9sdW1lQ2hhbmdlZCk7XG4gICAgICAgIG1lZGlhXy5yZW1vdmVFdmVudExpc3RlbmVyKCd3YWl0aW5nJywgb25NZWRpYVdhaXRpbmcpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBzZXRTcmMob2JqVVJMKSB7XG4gICAgICAgIG1lZGlhXy5zcmMgPSBvYmpVUkw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U3JjKCkge1xuICAgICAgICByZXR1cm4gbWVkaWFfLnNyYztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXZva2VTcmMoKSB7XG4gICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwobWVkaWFfLnNyYyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VmFsaWRCdWZmZXJQb3NpdGlvbihjdXJyZW50UG9zKSB7XG4gICAgICAgIGxldCBidWZmZXJlZEVuZDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZWRpYV8uYnVmZmVyZWQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IG1lZGlhXy5idWZmZXJlZC5zdGFydChpKTtcbiAgICAgICAgICAgIGxldCBlbmQgPSBtZWRpYV8uYnVmZmVyZWQuZW5kKGkpXG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50UG9zID49IHN0YXJ0ICYmIGN1cnJlbnRQb3MgPD0gZW5kKSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyZWRFbmQgPSBlbmQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYnVmZmVyZWRFbmQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgIGRlYnVnXy5sb2coJyttZWRpYV9lbmdpbmUuanMsIGNsb3NlJyk7XG4gICAgICAgIC8vIERldGFjaCBwcm9wZXJseSB0aGUgTWVkaWFTb3VyY2UgZnJvbSB0aGUgSFRNTE1lZGlhRWxlbWVudCBhc1xuICAgICAgICAvLyBzdWdnZXN0ZWQgaW4gaHR0cHM6Ly9naXRodWIuY29tL3czYy9tZWRpYS1zb3VyY2UvaXNzdWVzLzUzXG4gICAgICAgIGlmIChtZWRpYV8pIHtcbiAgICAgICAgICAgIG1lZGlhXy5yZW1vdmVBdHRyaWJ1dGUoJ3NyYycpO1xuICAgICAgICAgICAgbWVkaWFfLmxvYWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxldCBpbnN0YW5jZSA9IHtcbiAgICAgICAgZGV0ZWN0QXV0b3BsYXk6IGRldGVjdEF1dG9wbGF5LFxuICAgICAgICBwbGF5OiBwbGF5LFxuICAgICAgICBwYXVzZTogcGF1c2UsXG4gICAgICAgIGlzUGF1c2VkOiBpc1BhdXNlZCxcbiAgICAgICAgZ2V0UG9zaXRpb246IGdldFBvc2l0aW9uLFxuICAgICAgICBzZXRQb3NpdGlvbjogc2V0UG9zaXRpb24sXG4gICAgICAgIGdldER1cmF0aW9uOiBnZXREdXJhdGlvbixcbiAgICAgICAgaXNTZWVraW5nOiBpc1NlZWtpbmcsXG4gICAgICAgIGlzRW5kZWQ6IGlzRW5kZWQsXG4gICAgICAgIG11dGU6IG11dGUsXG4gICAgICAgIHVubXV0ZTogdW5tdXRlLFxuICAgICAgICBpc011dGVkOiBpc011dGVkLFxuICAgICAgICBzZXRWb2x1bWU6IHNldFZvbHVtZSxcbiAgICAgICAgZ2V0Vm9sdW1lOiBnZXRWb2x1bWUsXG4gICAgICAgIHZpZGVvV2lkdGg6IHZpZGVvV2lkdGgsXG4gICAgICAgIHZpZGVvSGVpZ2h0OiB2aWRlb0hlaWdodCxcblxuICAgICAgICBjbG9zZTogY2xvc2UsXG4gICAgICAgIHNldFNyYzogc2V0U3JjLFxuICAgICAgICByZXZva2VTcmM6IHJldm9rZVNyYyxcbiAgICAgICAgZ2V0VmFsaWRCdWZmZXJQb3NpdGlvbjogZ2V0VmFsaWRCdWZmZXJQb3NpdGlvblxuICAgIH07XG5cbiAgICBzZXR1cCgpO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbn1cblxuTWVkaWFFbmdpbmUuX19oNXBsYXllcl9mYWN0b3J5X25hbWUgPSAnTWVkaWFFbmdpbmUnO1xuZXhwb3J0IGRlZmF1bHQgRmFjdG9yeU1ha2VyLmdldFNpbmdsZXRvbkZhY3RvcnkoTWVkaWFFbmdpbmUpO1xuIiwi77u/aW1wb3J0IEV2ZW50QnVzIGZyb20gJy4vY29yZS9FdmVudEJ1cyc7XG5pbXBvcnQgRXZlbnRzIGZyb20gJy4vY29yZS9Db3JlRXZlbnRzJztcbmltcG9ydCBEZWJ1ZyBmcm9tICcuL2NvcmUvRGVidWcnO1xuaW1wb3J0IFNvdXJjZUJ1ZmZlcldyYXBwZXIgZnJvbSAnLi9Tb3VyY2VCdWZmZXJXcmFwcGVyJztcblxuZnVuY3Rpb24gTWVkaWFTb3VyY2VFbmdpbmUoKSB7XG4gICAgbGV0IGV2ZW50QnVzXyA9IEV2ZW50QnVzKG9sZG10bikuZ2V0SW5zdGFuY2UoKTtcbiAgICBsZXQgZGVidWdfID0gRGVidWcob2xkbXRuKS5nZXRJbnN0YW5jZSgpO1xuICAgIGxldCBtZWRpYVNyY18gPSBudWxsO1xuICAgIGxldCBhY3RpdmVTdHJlYW1fID0gbnVsbDtcbiAgICBsZXQgYVNvdXJjZUJ1ZmZlcl8gPSBudWxsO1xuICAgIGxldCB2U291cmNlQnVmZmVyXyA9IG51bGw7XG4gICAgbGV0IHBkU291cmNlQnVmZmVyXyA9IG51bGw7XG5cbiAgICBkZWJ1Z18ubG9nKCdNZWRpYVNvdXJjZUVuZ2luZSwgY29uc3RydWN0b3InKTtcblxuICAgIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgICAgICBldmVudEJ1c18ub24oRXZlbnRzLkZSQUdNRU5UX0RPV05MT0FERUQsIG9uRnJhZ21lbnREb3dubG9hZGVkKTtcbiAgICAgICAgZXZlbnRCdXNfLm9uKEV2ZW50cy5GUkFHTUVOVF9ET1dOTE9BREVEX0VOREVELCBvbkZyYWdtZW50RG93bmxvYWRlZEVuZGVkKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvcGVuKGFjdGl2ZVN0cmVhbSkge1xuICAgICAgICBkZWJ1Z18ubG9nKCdNZWRpYVNvdXJjZUVuZ2luZSwgK29wZW4nKTtcbiAgICAgICAgYWN0aXZlU3RyZWFtXyA9IGFjdGl2ZVN0cmVhbTtcblxuICAgICAgICBpZiAoYWN0aXZlU3RyZWFtXy52UmVwKSB7XG4gICAgICAgICAgICB2U291cmNlQnVmZmVyXyA9IG5ldyBTb3VyY2VCdWZmZXJXcmFwcGVyKGFjdGl2ZVN0cmVhbV8udlJlcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGl2ZVN0cmVhbV8uYVJlcCkge1xuICAgICAgICAgICAgYVNvdXJjZUJ1ZmZlcl8gPSBuZXcgU291cmNlQnVmZmVyV3JhcHBlcihhY3RpdmVTdHJlYW1fLmFSZXApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3RpdmVTdHJlYW1fLnBkUmVwKSB7XG4gICAgICAgICAgICBwZFNvdXJjZUJ1ZmZlcl8gPSBuZXcgU291cmNlQnVmZmVyV3JhcHBlcihhY3RpdmVTdHJlYW1fLnBkUmVwKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy9cbiAgICAgICAgdmFyIGhhc1dlYktpdCA9ICgnV2ViS2l0TWVkaWFTb3VyY2UnIGluIHdpbmRvdyk7XG4gICAgICAgIHZhciBoYXNNZWRpYVNvdXJjZSA9ICgnTWVkaWFTb3VyY2UnIGluIHdpbmRvdyk7XG5cbiAgICAgICAgaWYgKGhhc01lZGlhU291cmNlKSB7XG4gICAgICAgICAgICBtZWRpYVNyY18gPSBuZXcgTWVkaWFTb3VyY2UoKTtcbiAgICAgICAgICAgIG1lZGlhU3JjXy5hZGRFdmVudExpc3RlbmVyKCdzb3VyY2VvcGVuJywgb25NZWRpYVNvdXJjZU9wZW4sIGZhbHNlKTtcbiAgICAgICAgICAgIG1lZGlhU3JjXy5hZGRFdmVudExpc3RlbmVyKCdzb3VyY2VlbmRlZCcsIG9uTWVkaWFTb3VyY2VFbmRlZCwgZmFsc2UpO1xuICAgICAgICAgICAgbWVkaWFTcmNfLmFkZEV2ZW50TGlzdGVuZXIoJ3NvdXJjZWNsb3NlJywgb25NZWRpYVNvdXJjZUNsb3NlLCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzV2ViS2l0KSB7XG4gICAgICAgICAgICBtZWRpYVNyY18gPSBuZXcgV2ViS2l0TWVkaWFTb3VyY2UoKTtcbiAgICAgICAgICAgIG1lZGlhU3JjXy5hZGRFdmVudExpc3RlbmVyKCd3ZWJraXRzb3VyY2VvcGVuJywgb25NZWRpYVNvdXJjZU9wZW4sIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlYnVnXy5sb2coJ01lZGlhU291cmNlRW5naW5lLCAtb3BlbicpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgICAgICByZW1vdmVCdWZmZXIoKTtcbiAgICAgICAgbWVkaWFTcmNfID0gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXREdXJhdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAobWVkaWFTcmNfLmR1cmF0aW9uICE9IHZhbHVlKSB7XG4gICAgICAgICAgICBtZWRpYVNyY18uZHVyYXRpb24gPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtZWRpYVNyY18uZHVyYXRpb247XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2lnbmFsRW5kT2ZTdHJlYW0oKSB7XG4gICAgICAgIGRlYnVnXy5sb2coJytzaWduYWxFbmRPZlN0cmVhbScpO1xuICAgICAgICBtZWRpYVNyY18uZW5kT2ZTdHJlYW0oKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRNZWRpYVNvdXJjZSgpIHtcbiAgICAgICAgcmV0dXJuIG1lZGlhU3JjXztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcHBlbmRCdWZmZXIoZSkge1xuICAgICAgICBpZiAoZS50eXBlID09PSAndmlkZW8nKSB7XG4gICAgICAgICAgICB2U291cmNlQnVmZmVyXy5hcHBlbmRCdWZmZXIoZS5ieXRlcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZS50eXBlID09PSAnYXVkaW8nKSB7XG4gICAgICAgICAgICBhU291cmNlQnVmZmVyXy5hcHBlbmRCdWZmZXIoZS5ieXRlcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZS50eXBlID09PSAncGQnKSB7XG4gICAgICAgICAgICBwZFNvdXJjZUJ1ZmZlcl8uYXBwZW5kQnVmZmVyKGUuYnl0ZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVtb3ZlQnVmZmVyKCkge1xuICAgICAgICBpZiAodlNvdXJjZUJ1ZmZlcl8pIHtcbiAgICAgICAgICAgIHZTb3VyY2VCdWZmZXJfLnJlbW92ZUJ1ZmZlcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhU291cmNlQnVmZmVyXykge1xuICAgICAgICAgICAgYVNvdXJjZUJ1ZmZlcl8ucmVtb3ZlQnVmZmVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBkU291cmNlQnVmZmVyXykge1xuICAgICAgICAgICAgcGRTb3VyY2VCdWZmZXJfLnJlbW92ZUJ1ZmZlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgdlNvdXJjZUJ1ZmZlcl8gPSBudWxsO1xuICAgICAgICBhU291cmNlQnVmZmVyXyA9IG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NZWRpYVNvdXJjZU9wZW4oKSB7XG4gICAgICAgIGRlYnVnXy5sb2coJytvbk1lZGlhU291cmNlT3BlbicpO1xuXG4gICAgICAgIC8vIG9uY2UgcmVjZWl2ZWQsIGRvbid0IGxpc3RlbiBhbnltb3JlIHRvIHNvdXJjZW9wZW4gZXZlbnRcbiAgICAgICAgbWVkaWFTcmNfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NvdXJjZW9wZW4nLCBvbk1lZGlhU291cmNlT3Blbik7XG4gICAgICAgIG1lZGlhU3JjXy5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJraXRzb3VyY2VvcGVuJywgb25NZWRpYVNvdXJjZU9wZW4pO1xuICAgICAgICBcbiAgICAgICAgLy8gc2V0IG1lZGlhIHNvdXJjZSBkdXJhdGlvblxuICAgICAgICBpZiAoYWN0aXZlU3RyZWFtXy5tZWRpYVByZXNlbnRhdGlvbkR1cmF0aW9uKSB7XG4gICAgICAgICAgICBzZXREdXJhdGlvbihhY3RpdmVTdHJlYW1fLm1lZGlhUHJlc2VudGF0aW9uRHVyYXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZTb3VyY2VCdWZmZXJfKSB7XG4gICAgICAgICAgICB2U291cmNlQnVmZmVyXy5vcGVuKG1lZGlhU3JjXyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFTb3VyY2VCdWZmZXJfKSB7XG4gICAgICAgICAgICBhU291cmNlQnVmZmVyXy5vcGVuKG1lZGlhU3JjXyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBkU291cmNlQnVmZmVyXykge1xuICAgICAgICAgICAgcGRTb3VyY2VCdWZmZXJfLm9wZW4obWVkaWFTcmNfKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGV2ZW50QnVzXy50cmlnZ2VyKEV2ZW50cy5NU0VfT1BFTkVELCB7fSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NZWRpYVNvdXJjZUVuZGVkKCkge1xuICAgICAgICBkZWJ1Z18ubG9nKCcrb25NZWRpYVNvdXJjZUVuZGVkJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NZWRpYVNvdXJjZUNsb3NlKCkge1xuICAgICAgICBkZWJ1Z18ubG9nKCcrb25NZWRpYVNvdXJjZUNsb3NlJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25GcmFnbWVudERvd25sb2FkZWQoZSkge1xuICAgICAgICBhcHBlbmRCdWZmZXIoZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25GcmFnbWVudERvd25sb2FkZWRFbmRlZCgpIHtcbiAgICAgICAgc2lnbmFsRW5kT2ZTdHJlYW0oKTtcbiAgICB9XG5cbiAgICBsZXQgaW5zdGFuY2UgPSB7XG4gICAgICAgIG9wZW46IG9wZW4sXG4gICAgICAgIGNsb3NlOiBjbG9zZSxcbiAgICAgICAgc2V0RHVyYXRpb246IHNldER1cmF0aW9uLFxuICAgICAgICBzaWduYWxFbmRPZlN0cmVhbTogc2lnbmFsRW5kT2ZTdHJlYW0sXG4gICAgICAgIGdldE1lZGlhU291cmNlOiBnZXRNZWRpYVNvdXJjZSxcbiAgICAgICAgYXBwZW5kQnVmZmVyOiBhcHBlbmRCdWZmZXIsXG4gICAgICAgIHJlbW92ZUJ1ZmZlcjogcmVtb3ZlQnVmZmVyXG4gICAgfTtcbiAgICBzZXR1cCgpO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE1lZGlhU291cmNlRW5naW5lO1xuIiwiaW1wb3J0IEZhY3RvcnlNYWtlciBmcm9tICcuLi9jb3JlL0ZhY3RvcnlNYWtlcic7XG5cbmZ1bmN0aW9uIFBEUGFyc2VyKCkge1xuICAgIGxldCBhY3RpdmVTdHJlYW1fO1xuICAgIC8vIGZsYWdcbiAgICBsZXQgcGREb3dubG9hZGVkXztcbiAgICBmdW5jdGlvbiBsb2FkTWFuaWZlc3QodXJsKSB7XG4gICAgICAgIHBkRG93bmxvYWRlZF8gPSBmYWxzZTtcblxuICAgICAgICBsZXQgcGRSZXAgPSB7XG4gICAgICAgICAgICB0eXBlOiAncGQnLFxuICAgICAgICAgICAgY29kZWNzOiAndmlkZW8vbXA0OyBjb2RlY3M9XCJtcDRhLjQwLjJcIicsXG4gICAgICAgICAgICBtZWRpYTogdXJsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gcGQgLSBwdXJlIHZpZGVvXG4gICAgICAgIC8vIGxldCBwZFJlcCA9IHtcbiAgICAgICAgLy8gICAgIHR5cGU6ICdwZCcsXG4gICAgICAgIC8vICAgICBjb2RlY3M6ICd2aWRlby9tcDQ7IGNvZGVjcz1cIm1wNGEuNDAuMiwgYXZjMS40RDQwMWVcIicsXG4gICAgICAgIC8vICAgICBtZWRpYTogdXJsXG4gICAgICAgIC8vIH07XG5cbiAgICAgICAgYWN0aXZlU3RyZWFtXyA9IHtcbiAgICAgICAgICAgIHBkUmVwOiBwZFJlcFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gYWN0aXZlU3RyZWFtXztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXROZXh0RnJhZ21lbnQoKSB7XG4gICAgICAgIGxldCByZXQgPSBudWxsO1xuICAgICAgICBpZiAoIXBkRG93bmxvYWRlZF8pIHtcbiAgICAgICAgICAgIHJldCA9IHsgdHlwZTogYWN0aXZlU3RyZWFtXy5wZFJlcC50eXBlLCB1cmw6IGFjdGl2ZVN0cmVhbV8ucGRSZXAubWVkaWEgfTtcbiAgICAgICAgICAgIHBkRG93bmxvYWRlZF8gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICBsZXQgaW5zdGFuY2UgPSB7XG4gICAgICAgIGxvYWRNYW5pZmVzdDogbG9hZE1hbmlmZXN0LFxuICAgICAgICBnZXROZXh0RnJhZ21lbnQ6IGdldE5leHRGcmFnbWVudFxuICAgIH07XG4gICAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG5QRFBhcnNlci5fX2g1cGxheWVyX2ZhY3RvcnlfbmFtZSA9ICdQRFBhcnNlcic7XG5leHBvcnQgZGVmYXVsdCBGYWN0b3J5TWFrZXIuZ2V0U2luZ2xldG9uRmFjdG9yeShQRFBhcnNlcik7XG5cbiIsImltcG9ydCBGYWN0b3J5TWFrZXIgZnJvbSAnLi4vLi4vY29yZS9GYWN0b3J5TWFrZXInO1xyXG5cclxuaW1wb3J0IEtleVN5c3RlbUNsZWFyS2V5IGZyb20gJy4vLi4vZHJtL0tleVN5c3RlbUNsZWFyS2V5JztcclxuaW1wb3J0IEtleVN5c3RlbVdpZGV2aW5lIGZyb20gJy4vLi4vZHJtL0tleVN5c3RlbVdpZGV2aW5lJztcclxuaW1wb3J0IEtleVN5c3RlbVBsYXlSZWFkeSBmcm9tICcuLy4uL2RybS9LZXlTeXN0ZW1QbGF5UmVhZHknO1xyXG5pbXBvcnQgS2V5U3lzdGVtQ0NQbGF5UmVhZHkgZnJvbSAnLi8uLi9kcm0vS2V5U3lzdGVtQ0NQbGF5UmVhZHknO1xyXG5cclxuXHJcbmZ1bmN0aW9uIFByb3RlY3Rpb25LZXlDb250cm9sbGVyKCkge1xyXG4gICAgbGV0IGNvbnRleHRfID0gdGhpcy5jb250ZXh0O1xyXG5cclxuICAgIGxldCBpbnN0YW5jZV87XHJcbiAgICBsZXQga2V5U3lzdGVtc187XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcclxuICAgICAgICBrZXlTeXN0ZW1zXyA9IFtdO1xyXG5cclxuICAgICAgICB2YXIga2V5U3lzdGVtO1xyXG5cclxuICAgICAgICAvLyBDbGVhcktleVxyXG4gICAgICAgIGtleVN5c3RlbSA9IEtleVN5c3RlbUNsZWFyS2V5KGNvbnRleHRfKS5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGtleVN5c3RlbXNfLnB1c2goa2V5U3lzdGVtKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBQbGF5UmVhZHlcclxuICAgICAgICBrZXlTeXN0ZW0gPSBLZXlTeXN0ZW1QbGF5UmVhZHkoY29udGV4dF8pLmdldEluc3RhbmNlKCk7XHJcbiAgICAgICAga2V5U3lzdGVtc18ucHVzaChrZXlTeXN0ZW0pO1xyXG5cclxuICAgICAgICAvLyBXaWRldmluZVxyXG4gICAgICAgIGtleVN5c3RlbSA9IEtleVN5c3RlbVdpZGV2aW5lKGNvbnRleHRfKS5nZXRJbnN0YW5jZSgpO1xyXG4gICAgICAgIGtleVN5c3RlbXNfLnB1c2goa2V5U3lzdGVtKTtcclxuXHJcbiAgICAgICAgLy8gQ2hyb21lY2FzdCBQbGF5UmVhZHlcclxuICAgICAgICBrZXlTeXN0ZW0gPSBLZXlTeXN0ZW1DQ1BsYXlSZWFkeShjb250ZXh0XykuZ2V0SW5zdGFuY2UoKTtcclxuICAgICAgICBrZXlTeXN0ZW1zXy5wdXNoKGtleVN5c3RlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0S2V5U3lzdGVtcygpIHtcclxuICAgICAgICByZXR1cm4ga2V5U3lzdGVtcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRLZXlTeXN0ZW1CeVN5c3RlbVN0cmluZyhzeXN0ZW1TdHJpbmcpIHtcclxuICAgICAgICBpZiAod2luZG93LmNhc3QgJiYgd2luZG93LmNhc3QuX19wbGF0Zm9ybV9fKSB7XHJcbiAgICAgICAgICAgIGlmIChzeXN0ZW1TdHJpbmcgPT09ICdjb20ubWljcm9zb2Z0LnBsYXlyZWFkeScpIHtcclxuICAgICAgICAgICAgICAgIHN5c3RlbVN0cmluZyA9ICdjb20uY2hyb21lY2FzdC5wbGF5cmVhZHknO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5U3lzdGVtc18ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGtleVN5c3RlbXNfW2ldLnN5c3RlbVN0cmluZyA9PT0gc3lzdGVtU3RyaW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5U3lzdGVtc19baV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaW5zdGFuY2VfID0ge1xyXG4gICAgICAgIGdldEtleVN5c3RlbXM6IGdldEtleVN5c3RlbXMsXHJcbiAgICAgICAgZ2V0S2V5U3lzdGVtQnlTeXN0ZW1TdHJpbmc6IGdldEtleVN5c3RlbUJ5U3lzdGVtU3RyaW5nXHJcbiAgICB9O1xyXG5cclxuICAgIGluaXRpYWxpemUoKTtcclxuICAgIHJldHVybiBpbnN0YW5jZV87XHJcbn1cclxuXHJcblByb3RlY3Rpb25LZXlDb250cm9sbGVyLl9faDVwbGF5ZXJfZmFjdG9yeV9uYW1lID0gJ1Byb3RlY3Rpb25LZXlDb250cm9sbGVyJztcclxuZXhwb3J0IGRlZmF1bHQgRmFjdG9yeU1ha2VyLmdldFNpbmdsZXRvbkZhY3RvcnkoUHJvdGVjdGlvbktleUNvbnRyb2xsZXIpO1xyXG4iLCIvKipcclxuICogVGhlIGNvcHlyaWdodCBpbiB0aGlzIHNvZnR3YXJlIGlzIGJlaW5nIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSBCU0QgTGljZW5zZSxcclxuICogaW5jbHVkZWQgYmVsb3cuIFRoaXMgc29mdHdhcmUgbWF5IGJlIHN1YmplY3QgdG8gb3RoZXIgdGhpcmQgcGFydHkgYW5kIGNvbnRyaWJ1dG9yXHJcbiAqIHJpZ2h0cywgaW5jbHVkaW5nIHBhdGVudCByaWdodHMsIGFuZCBubyBzdWNoIHJpZ2h0cyBhcmUgZ3JhbnRlZCB1bmRlciB0aGlzIGxpY2Vuc2UuXHJcbiAqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxMywgRGFzaCBJbmR1c3RyeSBGb3J1bS5cclxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbixcclxuICogYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxyXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXNcclxuICogIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxyXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXHJcbiAqICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vclxyXG4gKiAgb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cclxuICogICogTmVpdGhlciB0aGUgbmFtZSBvZiBEYXNoIEluZHVzdHJ5IEZvcnVtIG5vciB0aGUgbmFtZXMgb2YgaXRzXHJcbiAqICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlXHJcbiAqICB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cclxuICpcclxuICogIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgQVMgSVMgQU5EIEFOWVxyXG4gKiAgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxyXG4gKiAgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELlxyXG4gKiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCxcclxuICogIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVRcclxuICogIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcclxuICogIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxyXG4gKiAgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKVxyXG4gKiAgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcclxuICogIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBNaWNyb3NvZnQgUGxheVJlYWR5IERSTVxyXG4gKlxyXG4gKiBAY2xhc3NcclxuICogQGltcGxlbWVudHMgS2V5U3lzdGVtXHJcbiAqL1xyXG5pbXBvcnQgQ29tbW9uRW5jcnlwdGlvbiBmcm9tICcuLi92by9Db21tb25FbmNyeXB0aW9uJztcclxuaW1wb3J0IEVycm9yIGZyb20gJy4uLy4uL3V0aWxzL0Vycm9yJztcclxuXHJcbmltcG9ydCBGYWN0b3J5TWFrZXIgZnJvbSAnLi4vLi4vY29yZS9GYWN0b3J5TWFrZXInO1xyXG5pbXBvcnQgQkFTRTY0IGZyb20gJy4uLy4uL2V4dGVybmFscy9iYXNlNjQnO1xyXG5cclxuY29uc3QgdXVpZCA9ICc5YTA0ZjA3OS05ODQwLTQyODYtYWI5Mi1lNjViZTA4ODVmOTUnO1xyXG5jb25zdCBzeXN0ZW1TdHJpbmcgPSAnY29tLmNocm9tZWNhc3QucGxheXJlYWR5JztcclxuY29uc3Qgc2NoZW1lSWRVUkkgPSAndXJuOnV1aWQ6JyArIHV1aWQ7XHJcblxyXG5mdW5jdGlvbiBLZXlTeXN0ZW1DQ1BsYXlSZWFkeSgpIHtcclxuXHJcbiAgICBsZXQgaW5zdGFuY2VfO1xyXG4gICAgbGV0IG1lc3NhZ2VGb3JtYXQgPSAndXRmMTYnO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldFJlcXVlc3RIZWFkZXJzRnJvbU1lc3NhZ2UobWVzc2FnZSkge1xyXG4gICAgICAgIHZhciBoZWFkZXJzID0ge307XHJcbiAgICAgICAgaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAndGV4dC94bWw7IGNoYXJzZXQ9dXRmLTgnO1xyXG4gICAgICAgIGhlYWRlcnNbJ1NPQVBBY3Rpb24nXSA9ICdodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL0RSTS8yMDA3LzAzL3Byb3RvY29scy9BY3F1aXJlTGljZW5zZSc7XHJcbiAgICAgICAgcmV0dXJuIGhlYWRlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0TGljZW5zZVJlcXVlc3RGcm9tTWVzc2FnZShtZXNzYWdlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0RSTTogY2MsIGdldExpY2Vuc2VSZXF1ZXN0RnJvbU1lc3NhZ2UnKTtcclxuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkobWVzc2FnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0TGljZW5zZVNlcnZlclVSTEZyb21Jbml0RGF0YShpbml0RGF0YSkge1xyXG4gICAgICAgIGlmIChpbml0RGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IG5ldyBEYXRhVmlldyhpbml0RGF0YSk7XHJcbiAgICAgICAgICAgIHZhciBudW1SZWNvcmRzID0gZGF0YS5nZXRVaW50MTYoNCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSA2O1xyXG4gICAgICAgICAgICB2YXIgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1SZWNvcmRzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIC8vIFBhcnNlIHRoZSBQbGF5UmVhZHkgUmVjb3JkIGhlYWRlclxyXG4gICAgICAgICAgICAgICAgdmFyIHJlY29yZFR5cGUgPSBkYXRhLmdldFVpbnQxNihvZmZzZXQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDI7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVjb3JkTGVuZ3RoID0gZGF0YS5nZXRVaW50MTYob2Zmc2V0LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIG9mZnNldCArPSAyO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZFR5cGUgIT09IDB4MDAwMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSByZWNvcmRMZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVk8gQkVHSU4gLSBodHRwczovL3NoLnZpc3VhbG9uLmNvbS9ub2RlLzY0MjI1XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldCA+PSBkYXRhLmJ5dGVMZW5ndGggLSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBWTyBFTkRcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVjb3JkRGF0YSA9IGluaXREYXRhLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgcmVjb3JkTGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIHZhciByZWNvcmQgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50MTZBcnJheShyZWNvcmREYXRhKSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhyZWNvcmQsICdhcHBsaWNhdGlvbi94bWwnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBGaXJzdCB0cnkgPExBX1VSTD5cclxuICAgICAgICAgICAgICAgIGlmICh4bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ0xBX1VSTCcpWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhVVJMID0geG1sRG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdMQV9VUkwnKVswXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGFVUkwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxhVVJMO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBPcHRpb25hbGx5LCB0cnkgPExVSV9VUkw+XHJcbiAgICAgICAgICAgICAgICBpZiAoeG1sRG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdMVUlfVVJMJylbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbHVpdXJsID0geG1sRG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdMVUlfVVJMJylbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGx1aXVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbHVpdXJsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0SW5pdERhdGEoY3BEYXRhKSB7XHJcbiAgICAgICAgLy8gKiBkZXNjQCBnZXRJbml0RGF0YVxyXG4gICAgICAgIC8vICogICBnZW5lcmF0ZSBQU1NIIGRhdGEgZnJvbSBQUk9IZWFkZXIgZGVmaW5lZCBpbiBNUEQgZmlsZVxyXG4gICAgICAgIC8vICogICBQU1NIIGZvcm1hdDpcclxuICAgICAgICAvLyAqICAgc2l6ZSAoNClcclxuICAgICAgICAvLyAqICAgYm94IHR5cGUoUFNTSCkgKDgpXHJcbiAgICAgICAgLy8gKiAgIFByb3RlY3Rpb24gU3lzdGVtSUQgKDE2KVxyXG4gICAgICAgIC8vICogICBwcm90ZWN0aW9uIHN5c3RlbSBkYXRhIHNpemUgKDQpIC0gbGVuZ3RoIG9mIGRlY29kZWQgUFJPSGVhZGVyXHJcbiAgICAgICAgLy8gKiAgIGRlY29kZWQgUFJPSGVhZGVyIGRhdGEgZnJvbSBNUEQgZmlsZVxyXG4gICAgICAgIHZhciBQU1NIQm94VHlwZSA9IG5ldyBVaW50OEFycmF5KFsweDcwLCAweDczLCAweDczLCAweDY4LCAweDAwLCAweDAwLCAweDAwLCAweDAwXSk7IC8vJ1BTU0gnIDggYnl0ZXNcclxuICAgICAgICB2YXIgcGxheXJlYWR5U3lzdGVtSUQgPSBuZXcgVWludDhBcnJheShbMHg5YSwgMHgwNCwgMHhmMCwgMHg3OSwgMHg5OCwgMHg0MCwgMHg0MiwgMHg4NiwgMHhhYiwgMHg5MiwgMHhlNiwgMHg1YiwgMHhlMCwgMHg4OCwgMHg1ZiwgMHg5NV0pO1xyXG5cclxuICAgICAgICB2YXIgYnl0ZUN1cnNvciA9IDA7XHJcbiAgICAgICAgdmFyIHVpbnQ4YXJyYXlkZWNvZGVkUFJPSGVhZGVyID0gbnVsbDtcclxuXHJcbiAgICAgICAgdmFyIFBST1NpemUsXHJcbiAgICAgICAgICAgIFBTU0hTaXplLFxyXG4gICAgICAgICAgICBQU1NIQm94QnVmZmVyLFxyXG4gICAgICAgICAgICBQU1NIQm94LFxyXG4gICAgICAgICAgICBQU1NIRGF0YTtcclxuXHJcbiAgICAgICAgLy8gSGFuZGxlIGNvbW1vbiBlbmNyeXB0aW9uIFBTU0hcclxuICAgICAgICBpZiAoJ3Bzc2gnIGluIGNwRGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQ29tbW9uRW5jcnlwdGlvbi5wYXJzZUluaXREYXRhRnJvbUNvbnRlbnRQcm90ZWN0aW9uKGNwRGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEhhbmRsZSBuYXRpdmUgTVMgUGxheVJlYWR5IENvbnRlbnRQcm90ZWN0aW9uIGVsZW1lbnRzXHJcbiAgICAgICAgaWYgKCdwcm8nIGluIGNwRGF0YSkge1xyXG4gICAgICAgICAgICB1aW50OGFycmF5ZGVjb2RlZFBST0hlYWRlciA9IEJBU0U2NC5kZWNvZGVBcnJheShjcERhdGEucHJvLl9fdGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCdwcmhlYWRlcicgaW4gY3BEYXRhKSB7XHJcbiAgICAgICAgICAgIHVpbnQ4YXJyYXlkZWNvZGVkUFJPSGVhZGVyID0gQkFTRTY0LmRlY29kZUFycmF5KGNwRGF0YS5wcmhlYWRlci5fX3RleHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBQUk9TaXplID0gdWludDhhcnJheWRlY29kZWRQUk9IZWFkZXIubGVuZ3RoO1xyXG4gICAgICAgIFBTU0hTaXplID0gMHg0ICsgUFNTSEJveFR5cGUubGVuZ3RoICsgcGxheXJlYWR5U3lzdGVtSUQubGVuZ3RoICsgMHg0ICsgUFJPU2l6ZTtcclxuXHJcbiAgICAgICAgUFNTSEJveEJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihQU1NIU2l6ZSk7XHJcblxyXG4gICAgICAgIFBTU0hCb3ggPSBuZXcgVWludDhBcnJheShQU1NIQm94QnVmZmVyKTtcclxuICAgICAgICBQU1NIRGF0YSA9IG5ldyBEYXRhVmlldyhQU1NIQm94QnVmZmVyKTtcclxuXHJcbiAgICAgICAgUFNTSERhdGEuc2V0VWludDMyKGJ5dGVDdXJzb3IsIFBTU0hTaXplKTtcclxuICAgICAgICBieXRlQ3Vyc29yICs9IDB4NDtcclxuXHJcbiAgICAgICAgUFNTSEJveC5zZXQoUFNTSEJveFR5cGUsIGJ5dGVDdXJzb3IpO1xyXG4gICAgICAgIGJ5dGVDdXJzb3IgKz0gUFNTSEJveFR5cGUubGVuZ3RoO1xyXG5cclxuICAgICAgICBQU1NIQm94LnNldChwbGF5cmVhZHlTeXN0ZW1JRCwgYnl0ZUN1cnNvcik7XHJcbiAgICAgICAgYnl0ZUN1cnNvciArPSBwbGF5cmVhZHlTeXN0ZW1JRC5sZW5ndGg7XHJcblxyXG4gICAgICAgIFBTU0hEYXRhLnNldFVpbnQzMihieXRlQ3Vyc29yLCBQUk9TaXplKTtcclxuICAgICAgICBieXRlQ3Vyc29yICs9IDB4NDtcclxuXHJcbiAgICAgICAgUFNTSEJveC5zZXQodWludDhhcnJheWRlY29kZWRQUk9IZWFkZXIsIGJ5dGVDdXJzb3IpO1xyXG4gICAgICAgIGJ5dGVDdXJzb3IgKz0gUFJPU2l6ZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFBTU0hCb3guYnVmZmVyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSXQgc2VlbXMgdGhhdCBzb21lIFBsYXlSZWFkeSBpbXBsZW1lbnRhdGlvbnMgcmV0dXJuIHRoZWlyIFhNTC1iYXNlZCBDRE1cclxuICAgICAqIG1lc3NhZ2VzIHVzaW5nIFVURjE2LCB3aGlsZSBvdGhlcnMgcmV0dXJuIHRoZW0gYXMgVVRGOC4gIFVzZSB0aGlzIGZ1bmN0aW9uXHJcbiAgICAgKiB0byBtb2RpZnkgdGhlIG1lc3NhZ2UgZm9ybWF0IHRvIGV4cGVjdCB3aGVuIHBhcnNpbmcgQ0RNIG1lc3NhZ2VzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtYXQgdGhlIGV4cGVjdGVkIG1lc3NhZ2UgZm9ybWF0LiAgRWl0aGVyIFwidXRmOFwiIG9yIFwidXRmMTZcIi5cclxuICAgICAqIEB0aHJvd3Mge0Vycm9yfSBTcGVjaWZpZWQgbWVzc2FnZSBmb3JtYXQgaXMgbm90IG9uZSBvZiBcInV0ZjhcIiBvciBcInV0ZjE2XCJcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gc2V0UGxheVJlYWR5TWVzc2FnZUZvcm1hdChmb3JtYXQpIHtcclxuICAgICAgICBpZiAoZm9ybWF0ICE9PSAndXRmOCcgJiYgZm9ybWF0ICE9PSAndXRmMTYnKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSWxsZWdhbCBQbGF5UmVhZHkgbWVzc2FnZSBmb3JtYXQhIC0tICcgKyBmb3JtYXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtZXNzYWdlRm9ybWF0ID0gZm9ybWF0O1xyXG4gICAgfVxyXG5cclxuICAgIGluc3RhbmNlXyA9IHtcclxuICAgICAgICB1dWlkOiB1dWlkLFxyXG4gICAgICAgIHNjaGVtZUlkVVJJOiBzY2hlbWVJZFVSSSxcclxuICAgICAgICBzeXN0ZW1TdHJpbmc6IHN5c3RlbVN0cmluZyxcclxuICAgICAgICBnZXRJbml0RGF0YTogZ2V0SW5pdERhdGEsXHJcbiAgICAgICAgZ2V0UmVxdWVzdEhlYWRlcnNGcm9tTWVzc2FnZTogZ2V0UmVxdWVzdEhlYWRlcnNGcm9tTWVzc2FnZSxcclxuICAgICAgICBnZXRMaWNlbnNlUmVxdWVzdEZyb21NZXNzYWdlOiBnZXRMaWNlbnNlUmVxdWVzdEZyb21NZXNzYWdlLFxyXG4gICAgICAgIGdldExpY2Vuc2VTZXJ2ZXJVUkxGcm9tSW5pdERhdGE6IGdldExpY2Vuc2VTZXJ2ZXJVUkxGcm9tSW5pdERhdGEsXHJcbiAgICAgICAgc2V0UGxheVJlYWR5TWVzc2FnZUZvcm1hdDogc2V0UGxheVJlYWR5TWVzc2FnZUZvcm1hdFxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gaW5zdGFuY2VfO1xyXG59XHJcblxyXG5LZXlTeXN0ZW1DQ1BsYXlSZWFkeS5fX2g1cGxheWVyX2ZhY3RvcnlfbmFtZSA9ICdLZXlTeXN0ZW1DQ1BsYXlSZWFkeSc7XHJcbmV4cG9ydCBkZWZhdWx0IEZhY3RvcnlNYWtlci5nZXRTaW5nbGV0b25GYWN0b3J5KEtleVN5c3RlbUNDUGxheVJlYWR5KTtcclxuIiwiLyoqXHJcbiAqIFRoZSBjb3B5cmlnaHQgaW4gdGhpcyBzb2Z0d2FyZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsXHJcbiAqIGluY2x1ZGVkIGJlbG93LiBUaGlzIHNvZnR3YXJlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZCBjb250cmlidXRvclxyXG4gKiByaWdodHMsIGluY2x1ZGluZyBwYXRlbnQgcmlnaHRzLCBhbmQgbm8gc3VjaCByaWdodHMgYXJlIGdyYW50ZWQgdW5kZXIgdGhpcyBsaWNlbnNlLlxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMsIERhc2ggSW5kdXN0cnkgRm9ydW0uXHJcbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sXHJcbiAqIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcclxuICogICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXHJcbiAqICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cclxuICogICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxyXG4gKiAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3JcclxuICogIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXHJcbiAqICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgRGFzaCBJbmR1c3RyeSBGb3J1bSBub3IgdGhlIG5hbWVzIG9mIGl0c1xyXG4gKiAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZVxyXG4gKiAgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXHJcbiAqXHJcbiAqICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIEFTIElTIEFORCBBTllcclxuICogIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcclxuICogIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC5cclxuICogIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsXHJcbiAqICBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUXHJcbiAqICBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXHJcbiAqICBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcclxuICogIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcclxuICogIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFXHJcbiAqICBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cclxuICovXHJcblxyXG5pbXBvcnQgRmFjdG9yeU1ha2VyIGZyb20gJy4uLy4uL2NvcmUvRmFjdG9yeU1ha2VyJztcclxuXHJcbmNvbnN0IHV1aWQgPSAnMTA3N2VmZWMtYzBiMi00ZDAyLWFjZTMtM2MxZTUyZTJmYjRiJztcclxuY29uc3Qgc3lzdGVtU3RyaW5nID0gJ29yZy53My5jbGVhcmtleSc7XHJcbmNvbnN0IHNjaGVtZUlkVVJJID0gJ3Vybjp1dWlkOicgKyB1dWlkO1xyXG5cclxuZnVuY3Rpb24gS2V5U3lzdGVtQ2xlYXJLZXkoKSB7XHJcblxyXG4gICAgbGV0IGluc3RhbmNlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGRlc2lyZWQgY2xlYXJrZXlzIChhcyBzcGVjaWZpZWQgaW4gdGhlIENETSBtZXNzYWdlKSBmcm9tIHByb3RlY3Rpb24gZGF0YVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7UHJvdGVjdGlvbkRhdGF9IHByb3RlY3Rpb25EYXRhIHRoZSBwcm90ZWN0aW9uIGRhdGFcclxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IG1lc3NhZ2UgdGhlIENsZWFyS2V5IENETSBtZXNzYWdlXHJcbiAgICAgKiBAcmV0dXJucyB7Q2xlYXJLZXlLZXlTZXR9IHRoZSBrZXkgc2V0IG9yIG51bGwgaWYgbm9uZSBmb3VuZFxyXG4gICAgICogQHRocm93cyB7RXJyb3J9IGlmIGEga2V5SUQgc3BlY2lmaWVkIGluIHRoZSBDRE0gbWVzc2FnZSB3YXMgbm90IGZvdW5kIGluIHRoZVxyXG4gICAgICogcHJvdGVjdGlvbiBkYXRhXHJcbiAgICAgKiBAbWVtYmVyb2YgS2V5U3lzdGVtQ2xlYXJLZXlcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0Q2xlYXJLZXlzRnJvbVByb3RlY3Rpb25EYXRhKHByb3RlY3Rpb25EYXRhLCBtZXNzYWdlKSB7XHJcbiAgICAgICAgdmFyIGNsZWFya2V5U2V0ID0gbnVsbDtcclxuICAgICAgICAvLyBpZiAocHJvdGVjdGlvbkRhdGEpIHtcclxuICAgICAgICAvLyAgICAgLy8gQ2xlYXJLZXkgaXMgdGhlIG9ubHkgc3lzdGVtIHRoYXQgZG9lcyBub3QgcmVxdWlyZSBhIGxpY2Vuc2Ugc2VydmVyIFVSTCwgc28gd2VcclxuICAgICAgICAvLyAgICAgLy8gaGFuZGxlIGl0IGhlcmUgd2hlbiBrZXlzIGFyZSBzcGVjaWZpZWQgaW4gcHJvdGVjdGlvbiBkYXRhXHJcbiAgICAgICAgLy8gICAgIHZhciBqc29uTXNnID0gSlNPTi5wYXJzZShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KG1lc3NhZ2UpKSk7XHJcbiAgICAgICAgLy8gICAgIHZhciBrZXlQYWlycyA9IFtdO1xyXG4gICAgICAgIC8vICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGpzb25Nc2cua2lkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vICAgICAgICAgdmFyIGNsZWFya2V5SUQgPSBqc29uTXNnLmtpZHNbaV07XHJcbiAgICAgICAgLy8gICAgICAgICB2YXIgY2xlYXJrZXkgPSAocHJvdGVjdGlvbkRhdGEuY2xlYXJrZXlzLmhhc093blByb3BlcnR5KGNsZWFya2V5SUQpKSA/IHByb3RlY3Rpb25EYXRhLmNsZWFya2V5c1tjbGVhcmtleUlEXSA6IG51bGw7XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAoIWNsZWFya2V5KSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEUk06IENsZWFyS2V5IGtleUlEICgnICsgY2xlYXJrZXlJRCArICcpIGlzIG5vdCBrbm93biEnKTtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgICAgIC8vIEtleUlEcyBmcm9tIENETSBhcmUgbm90IGJhc2U2NCBwYWRkZWQuICBLZXlzIG1heSBvciBtYXkgbm90IGJlIHBhZGRlZFxyXG4gICAgICAgIC8vICAgICAgICAga2V5UGFpcnMucHVzaChuZXcgS2V5UGFpcihjbGVhcmtleUlELCBjbGVhcmtleSkpO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gICAgIGNsZWFya2V5U2V0ID0gbmV3IENsZWFyS2V5S2V5U2V0KGtleVBhaXJzKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgcmV0dXJuIGNsZWFya2V5U2V0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldEluaXREYXRhKGNwKSB7XHJcbiAgICAgICAgcmV0dXJuIENvbW1vbkVuY3J5cHRpb24ucGFyc2VJbml0RGF0YUZyb21Db250ZW50UHJvdGVjdGlvbihjcCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0UmVxdWVzdEhlYWRlcnNGcm9tTWVzc2FnZSgvKm1lc3NhZ2UqLykge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldExpY2Vuc2VSZXF1ZXN0RnJvbU1lc3NhZ2UobWVzc2FnZSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShtZXNzYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRMaWNlbnNlU2VydmVyVVJMRnJvbUluaXREYXRhKC8qaW5pdERhdGEqLykge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGluc3RhbmNlID0ge1xyXG4gICAgICAgIHV1aWQ6IHV1aWQsXHJcbiAgICAgICAgc2NoZW1lSWRVUkk6IHNjaGVtZUlkVVJJLFxyXG4gICAgICAgIHN5c3RlbVN0cmluZzogc3lzdGVtU3RyaW5nLFxyXG4gICAgICAgIGdldEluaXREYXRhOiBnZXRJbml0RGF0YSxcclxuICAgICAgICBnZXRSZXF1ZXN0SGVhZGVyc0Zyb21NZXNzYWdlOiBnZXRSZXF1ZXN0SGVhZGVyc0Zyb21NZXNzYWdlLFxyXG4gICAgICAgIGdldExpY2Vuc2VSZXF1ZXN0RnJvbU1lc3NhZ2U6IGdldExpY2Vuc2VSZXF1ZXN0RnJvbU1lc3NhZ2UsXHJcbiAgICAgICAgZ2V0TGljZW5zZVNlcnZlclVSTEZyb21Jbml0RGF0YTogZ2V0TGljZW5zZVNlcnZlclVSTEZyb21Jbml0RGF0YSxcclxuICAgICAgICBnZXRDbGVhcktleXNGcm9tUHJvdGVjdGlvbkRhdGE6IGdldENsZWFyS2V5c0Zyb21Qcm90ZWN0aW9uRGF0YVxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbn1cclxuXHJcbktleVN5c3RlbUNsZWFyS2V5Ll9faDVwbGF5ZXJfZmFjdG9yeV9uYW1lID0gJ0tleVN5c3RlbUNsZWFyS2V5JztcclxuZXhwb3J0IGRlZmF1bHQgRmFjdG9yeU1ha2VyLmdldFNpbmdsZXRvbkZhY3RvcnkoS2V5U3lzdGVtQ2xlYXJLZXkpO1xyXG4iLCIvKipcclxuICogVGhlIGNvcHlyaWdodCBpbiB0aGlzIHNvZnR3YXJlIGlzIGJlaW5nIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSBCU0QgTGljZW5zZSxcclxuICogaW5jbHVkZWQgYmVsb3cuIFRoaXMgc29mdHdhcmUgbWF5IGJlIHN1YmplY3QgdG8gb3RoZXIgdGhpcmQgcGFydHkgYW5kIGNvbnRyaWJ1dG9yXHJcbiAqIHJpZ2h0cywgaW5jbHVkaW5nIHBhdGVudCByaWdodHMsIGFuZCBubyBzdWNoIHJpZ2h0cyBhcmUgZ3JhbnRlZCB1bmRlciB0aGlzIGxpY2Vuc2UuXHJcbiAqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxMywgRGFzaCBJbmR1c3RyeSBGb3J1bS5cclxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbixcclxuICogYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxyXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXNcclxuICogIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxyXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXHJcbiAqICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vclxyXG4gKiAgb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cclxuICogICogTmVpdGhlciB0aGUgbmFtZSBvZiBEYXNoIEluZHVzdHJ5IEZvcnVtIG5vciB0aGUgbmFtZXMgb2YgaXRzXHJcbiAqICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlXHJcbiAqICB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cclxuICpcclxuICogIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgQVMgSVMgQU5EIEFOWVxyXG4gKiAgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxyXG4gKiAgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELlxyXG4gKiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCxcclxuICogIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVRcclxuICogIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcclxuICogIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxyXG4gKiAgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKVxyXG4gKiAgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcclxuICogIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBNaWNyb3NvZnQgUGxheVJlYWR5IERSTVxyXG4gKlxyXG4gKiBAY2xhc3NcclxuICogQGltcGxlbWVudHMgS2V5U3lzdGVtXHJcbiAqL1xyXG5pbXBvcnQgQ29tbW9uRW5jcnlwdGlvbiBmcm9tICcuLi92by9Db21tb25FbmNyeXB0aW9uJztcclxuaW1wb3J0IEVycm9yIGZyb20gJy4uLy4uL3V0aWxzL0Vycm9yJztcclxuXHJcbmltcG9ydCBGYWN0b3J5TWFrZXIgZnJvbSAnLi4vLi4vY29yZS9GYWN0b3J5TWFrZXInO1xyXG5pbXBvcnQgQkFTRTY0IGZyb20gJy4uLy4uL2V4dGVybmFscy9iYXNlNjQnO1xyXG5cclxuY29uc3QgdXVpZCA9ICc5YTA0ZjA3OS05ODQwLTQyODYtYWI5Mi1lNjViZTA4ODVmOTUnO1xyXG5jb25zdCBzeXN0ZW1TdHJpbmcgPSAnY29tLm1pY3Jvc29mdC5wbGF5cmVhZHknO1xyXG5jb25zdCBzY2hlbWVJZFVSSSA9ICd1cm46dXVpZDonICsgdXVpZDtcclxuXHJcbmZ1bmN0aW9uIEtleVN5c3RlbVBsYXlSZWFkeSgpIHtcclxuXHJcbiAgICBsZXQgaW5zdGFuY2VfO1xyXG4gICAgbGV0IG1lc3NhZ2VGb3JtYXQgPSAndXRmMTYnO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldFJlcXVlc3RIZWFkZXJzRnJvbU1lc3NhZ2UobWVzc2FnZSkge1xyXG4gICAgICAgIHZhciBtc2csXHJcbiAgICAgICAgICAgIHhtbERvYztcclxuICAgICAgICB2YXIgaGVhZGVycyA9IHt9O1xyXG4gICAgICAgIHZhciBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XHJcbiAgICAgICAgdmFyIGRhdGF2aWV3ID0gKG1lc3NhZ2VGb3JtYXQgPT09ICd1dGYxNicpID8gbmV3IFVpbnQxNkFycmF5KG1lc3NhZ2UpIDogbmV3IFVpbnQ4QXJyYXkobWVzc2FnZSk7XHJcblxyXG4gICAgICAgIG1zZyA9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgZGF0YXZpZXcpO1xyXG4gICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcobXNnLCAnYXBwbGljYXRpb24veG1sJyk7XHJcblxyXG4gICAgICAgIHZhciBoZWFkZXJOYW1lTGlzdCA9IHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbmFtZScpO1xyXG4gICAgICAgIHZhciBoZWFkZXJWYWx1ZUxpc3QgPSB4bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3ZhbHVlJyk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWFkZXJOYW1lTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBoZWFkZXJzW2hlYWRlck5hbWVMaXN0W2ldLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlXSA9IGhlYWRlclZhbHVlTGlzdFtpXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc29tZSB2ZXJzaW9ucyBvZiB0aGUgUGxheVJlYWR5IENETSByZXR1cm4gJ0NvbnRlbnQnIGluc3RlYWQgb2YgJ0NvbnRlbnQtVHlwZScuXHJcbiAgICAgICAgLy8gdGhpcyBpcyBOT1QgdzNjIGNvbmZvcm0gYW5kIGxpY2Vuc2Ugc2VydmVycyBtYXkgcmVqZWN0IHRoZSByZXF1ZXN0IVxyXG4gICAgICAgIC8vIC0+IHJlbmFtZSBpdCB0byBwcm9wZXIgdzNjIGRlZmluaXRpb24hXHJcbiAgICAgICAgaWYgKGhlYWRlcnMuaGFzT3duUHJvcGVydHkoJ0NvbnRlbnQnKSkge1xyXG4gICAgICAgICAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IGhlYWRlcnMuQ29udGVudDtcclxuICAgICAgICAgICAgZGVsZXRlIGhlYWRlcnMuQ29udGVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGhlYWRlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0TGljZW5zZVJlcXVlc3RGcm9tTWVzc2FnZShtZXNzYWdlKSB7XHJcbiAgICAgICAgdmFyIG1zZyxcclxuICAgICAgICAgICAgeG1sRG9jO1xyXG4gICAgICAgIHZhciBsaWNlbnNlUmVxdWVzdCA9IG51bGw7XHJcbiAgICAgICAgdmFyIHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcclxuICAgICAgICB2YXIgZGF0YXZpZXcgPSAobWVzc2FnZUZvcm1hdCA9PT0gJ3V0ZjE2JykgPyBuZXcgVWludDE2QXJyYXkobWVzc2FnZSkgOiBuZXcgVWludDhBcnJheShtZXNzYWdlKTtcclxuXHJcbiAgICAgICAgbXNnID0gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBkYXRhdmlldyk7XHJcbiAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhtc2csICdhcHBsaWNhdGlvbi94bWwnKTtcclxuXHJcbiAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnQ2hhbGxlbmdlJylbMF0pIHtcclxuICAgICAgICAgICAgdmFyIENoYWxsZW5nZSA9IHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnQ2hhbGxlbmdlJylbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChDaGFsbGVuZ2UpIHtcclxuICAgICAgICAgICAgICAgIGxpY2Vuc2VSZXF1ZXN0ID0gQkFTRTY0LmRlY29kZShDaGFsbGVuZ2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBsaWNlbnNlUmVxdWVzdDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRMaWNlbnNlU2VydmVyVVJMRnJvbUluaXREYXRhKGluaXREYXRhKSB7XHJcbiAgICAgICAgaWYgKGluaXREYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gbmV3IERhdGFWaWV3KGluaXREYXRhKTtcclxuICAgICAgICAgICAgdmFyIG51bVJlY29yZHMgPSBkYXRhLmdldFVpbnQxNig0LCB0cnVlKTtcclxuICAgICAgICAgICAgdmFyIG9mZnNldCA9IDY7XHJcbiAgICAgICAgICAgIHZhciBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bVJlY29yZHM7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gUGFyc2UgdGhlIFBsYXlSZWFkeSBSZWNvcmQgaGVhZGVyXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVjb3JkVHlwZSA9IGRhdGEuZ2V0VWludDE2KG9mZnNldCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gMjtcclxuICAgICAgICAgICAgICAgIHZhciByZWNvcmRMZW5ndGggPSBkYXRhLmdldFVpbnQxNihvZmZzZXQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDI7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkVHlwZSAhPT0gMHgwMDAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHJlY29yZExlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAvLyBWTyBCRUdJTiAtIGh0dHBzOi8vc2gudmlzdWFsb24uY29tL25vZGUvNjQyMjVcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0ID49IGRhdGEuYnl0ZUxlbmd0aCAtIDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFZPIEVORFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciByZWNvcmREYXRhID0gaW5pdERhdGEuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyByZWNvcmRMZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlY29yZCA9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQxNkFycmF5KHJlY29yZERhdGEpKTtcclxuICAgICAgICAgICAgICAgIHZhciB4bWxEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHJlY29yZCwgJ2FwcGxpY2F0aW9uL3htbCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEZpcnN0IHRyeSA8TEFfVVJMPlxyXG4gICAgICAgICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnTEFfVVJMJylbMF0pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGFVUkwgPSB4bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ0xBX1VSTCcpWzBdLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsYVVSTCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFVUkw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIE9wdGlvbmFsbHksIHRyeSA8TFVJX1VSTD5cclxuICAgICAgICAgICAgICAgIGlmICh4bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ0xVSV9VUkwnKVswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsdWl1cmwgPSB4bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ0xVSV9VUkwnKVswXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobHVpdXJsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsdWl1cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRJbml0RGF0YShjcERhdGEpIHtcclxuICAgICAgICAvLyAqIGRlc2NAIGdldEluaXREYXRhXHJcbiAgICAgICAgLy8gKiAgIGdlbmVyYXRlIFBTU0ggZGF0YSBmcm9tIFBST0hlYWRlciBkZWZpbmVkIGluIE1QRCBmaWxlXHJcbiAgICAgICAgLy8gKiAgIFBTU0ggZm9ybWF0OlxyXG4gICAgICAgIC8vICogICBzaXplICg0KVxyXG4gICAgICAgIC8vICogICBib3ggdHlwZShQU1NIKSAoOClcclxuICAgICAgICAvLyAqICAgUHJvdGVjdGlvbiBTeXN0ZW1JRCAoMTYpXHJcbiAgICAgICAgLy8gKiAgIHByb3RlY3Rpb24gc3lzdGVtIGRhdGEgc2l6ZSAoNCkgLSBsZW5ndGggb2YgZGVjb2RlZCBQUk9IZWFkZXJcclxuICAgICAgICAvLyAqICAgZGVjb2RlZCBQUk9IZWFkZXIgZGF0YSBmcm9tIE1QRCBmaWxlXHJcbiAgICAgICAgdmFyIFBTU0hCb3hUeXBlID0gbmV3IFVpbnQ4QXJyYXkoWzB4NzAsIDB4NzMsIDB4NzMsIDB4NjgsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDBdKTsgLy8nUFNTSCcgOCBieXRlc1xyXG4gICAgICAgIHZhciBwbGF5cmVhZHlTeXN0ZW1JRCA9IG5ldyBVaW50OEFycmF5KFsweDlhLCAweDA0LCAweGYwLCAweDc5LCAweDk4LCAweDQwLCAweDQyLCAweDg2LCAweGFiLCAweDkyLCAweGU2LCAweDViLCAweGUwLCAweDg4LCAweDVmLCAweDk1XSk7XHJcblxyXG4gICAgICAgIHZhciBieXRlQ3Vyc29yID0gMDtcclxuICAgICAgICB2YXIgdWludDhhcnJheWRlY29kZWRQUk9IZWFkZXIgPSBudWxsO1xyXG5cclxuICAgICAgICB2YXIgUFJPU2l6ZSxcclxuICAgICAgICAgICAgUFNTSFNpemUsXHJcbiAgICAgICAgICAgIFBTU0hCb3hCdWZmZXIsXHJcbiAgICAgICAgICAgIFBTU0hCb3gsXHJcbiAgICAgICAgICAgIFBTU0hEYXRhO1xyXG5cclxuICAgICAgICAvLyBIYW5kbGUgY29tbW9uIGVuY3J5cHRpb24gUFNTSFxyXG4gICAgICAgIGlmICgncHNzaCcgaW4gY3BEYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBDb21tb25FbmNyeXB0aW9uLnBhcnNlSW5pdERhdGFGcm9tQ29udGVudFByb3RlY3Rpb24oY3BEYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSGFuZGxlIG5hdGl2ZSBNUyBQbGF5UmVhZHkgQ29udGVudFByb3RlY3Rpb24gZWxlbWVudHNcclxuICAgICAgICBpZiAoJ3BybycgaW4gY3BEYXRhKSB7XHJcbiAgICAgICAgICAgIHVpbnQ4YXJyYXlkZWNvZGVkUFJPSGVhZGVyID0gQkFTRTY0LmRlY29kZUFycmF5KGNwRGF0YS5wcm8uX190ZXh0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoJ3ByaGVhZGVyJyBpbiBjcERhdGEpIHtcclxuICAgICAgICAgICAgdWludDhhcnJheWRlY29kZWRQUk9IZWFkZXIgPSBCQVNFNjQuZGVjb2RlQXJyYXkoY3BEYXRhLnByaGVhZGVyLl9fdGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFBST1NpemUgPSB1aW50OGFycmF5ZGVjb2RlZFBST0hlYWRlci5sZW5ndGg7XHJcbiAgICAgICAgUFNTSFNpemUgPSAweDQgKyBQU1NIQm94VHlwZS5sZW5ndGggKyBwbGF5cmVhZHlTeXN0ZW1JRC5sZW5ndGggKyAweDQgKyBQUk9TaXplO1xyXG5cclxuICAgICAgICBQU1NIQm94QnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKFBTU0hTaXplKTtcclxuXHJcbiAgICAgICAgUFNTSEJveCA9IG5ldyBVaW50OEFycmF5KFBTU0hCb3hCdWZmZXIpO1xyXG4gICAgICAgIFBTU0hEYXRhID0gbmV3IERhdGFWaWV3KFBTU0hCb3hCdWZmZXIpO1xyXG5cclxuICAgICAgICBQU1NIRGF0YS5zZXRVaW50MzIoYnl0ZUN1cnNvciwgUFNTSFNpemUpO1xyXG4gICAgICAgIGJ5dGVDdXJzb3IgKz0gMHg0O1xyXG5cclxuICAgICAgICBQU1NIQm94LnNldChQU1NIQm94VHlwZSwgYnl0ZUN1cnNvcik7XHJcbiAgICAgICAgYnl0ZUN1cnNvciArPSBQU1NIQm94VHlwZS5sZW5ndGg7XHJcblxyXG4gICAgICAgIFBTU0hCb3guc2V0KHBsYXlyZWFkeVN5c3RlbUlELCBieXRlQ3Vyc29yKTtcclxuICAgICAgICBieXRlQ3Vyc29yICs9IHBsYXlyZWFkeVN5c3RlbUlELmxlbmd0aDtcclxuXHJcbiAgICAgICAgUFNTSERhdGEuc2V0VWludDMyKGJ5dGVDdXJzb3IsIFBST1NpemUpO1xyXG4gICAgICAgIGJ5dGVDdXJzb3IgKz0gMHg0O1xyXG5cclxuICAgICAgICBQU1NIQm94LnNldCh1aW50OGFycmF5ZGVjb2RlZFBST0hlYWRlciwgYnl0ZUN1cnNvcik7XHJcbiAgICAgICAgYnl0ZUN1cnNvciArPSBQUk9TaXplO1xyXG5cclxuICAgICAgICByZXR1cm4gUFNTSEJveC5idWZmZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJdCBzZWVtcyB0aGF0IHNvbWUgUGxheVJlYWR5IGltcGxlbWVudGF0aW9ucyByZXR1cm4gdGhlaXIgWE1MLWJhc2VkIENETVxyXG4gICAgICogbWVzc2FnZXMgdXNpbmcgVVRGMTYsIHdoaWxlIG90aGVycyByZXR1cm4gdGhlbSBhcyBVVEY4LiAgVXNlIHRoaXMgZnVuY3Rpb25cclxuICAgICAqIHRvIG1vZGlmeSB0aGUgbWVzc2FnZSBmb3JtYXQgdG8gZXhwZWN0IHdoZW4gcGFyc2luZyBDRE0gbWVzc2FnZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGZvcm1hdCB0aGUgZXhwZWN0ZWQgbWVzc2FnZSBmb3JtYXQuICBFaXRoZXIgXCJ1dGY4XCIgb3IgXCJ1dGYxNlwiLlxyXG4gICAgICogQHRocm93cyB7RXJyb3J9IFNwZWNpZmllZCBtZXNzYWdlIGZvcm1hdCBpcyBub3Qgb25lIG9mIFwidXRmOFwiIG9yIFwidXRmMTZcIlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBzZXRQbGF5UmVhZHlNZXNzYWdlRm9ybWF0KGZvcm1hdCkge1xyXG4gICAgICAgIGlmIChmb3JtYXQgIT09ICd1dGY4JyAmJiBmb3JtYXQgIT09ICd1dGYxNicpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbGxlZ2FsIFBsYXlSZWFkeSBtZXNzYWdlIGZvcm1hdCEgLS0gJyArIGZvcm1hdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1lc3NhZ2VGb3JtYXQgPSBmb3JtYXQ7XHJcbiAgICB9XHJcblxyXG4gICAgaW5zdGFuY2VfID0ge1xyXG4gICAgICAgIHV1aWQ6IHV1aWQsXHJcbiAgICAgICAgc2NoZW1lSWRVUkk6IHNjaGVtZUlkVVJJLFxyXG4gICAgICAgIHN5c3RlbVN0cmluZzogc3lzdGVtU3RyaW5nLFxyXG4gICAgICAgIGdldEluaXREYXRhOiBnZXRJbml0RGF0YSxcclxuICAgICAgICBnZXRSZXF1ZXN0SGVhZGVyc0Zyb21NZXNzYWdlOiBnZXRSZXF1ZXN0SGVhZGVyc0Zyb21NZXNzYWdlLFxyXG4gICAgICAgIGdldExpY2Vuc2VSZXF1ZXN0RnJvbU1lc3NhZ2U6IGdldExpY2Vuc2VSZXF1ZXN0RnJvbU1lc3NhZ2UsXHJcbiAgICAgICAgZ2V0TGljZW5zZVNlcnZlclVSTEZyb21Jbml0RGF0YTogZ2V0TGljZW5zZVNlcnZlclVSTEZyb21Jbml0RGF0YSxcclxuICAgICAgICBzZXRQbGF5UmVhZHlNZXNzYWdlRm9ybWF0OiBzZXRQbGF5UmVhZHlNZXNzYWdlRm9ybWF0XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBpbnN0YW5jZV87XHJcbn1cclxuXHJcbktleVN5c3RlbVBsYXlSZWFkeS5fX2g1cGxheWVyX2ZhY3RvcnlfbmFtZSA9ICdLZXlTeXN0ZW1QbGF5UmVhZHknO1xyXG5leHBvcnQgZGVmYXVsdCBGYWN0b3J5TWFrZXIuZ2V0U2luZ2xldG9uRmFjdG9yeShLZXlTeXN0ZW1QbGF5UmVhZHkpO1xyXG4iLCJcclxuaW1wb3J0IENvbW1vbkVuY3J5cHRpb24gZnJvbSAnLi4vdm8vQ29tbW9uRW5jcnlwdGlvbic7XHJcbmltcG9ydCBGYWN0b3J5TWFrZXIgZnJvbSAnLi4vLi4vY29yZS9GYWN0b3J5TWFrZXInO1xyXG5cclxuY29uc3QgdXVpZCA9ICdlZGVmOGJhOS03OWQ2LTRhY2UtYTNjOC0yN2RjZDUxZDIxZWQnO1xyXG5jb25zdCBzeXN0ZW1TdHJpbmcgPSAnY29tLndpZGV2aW5lLmFscGhhJztcclxuY29uc3Qgc2NoZW1lSWRVUkkgPSAndXJuOnV1aWQ6JyArIHV1aWQ7XHJcblxyXG5mdW5jdGlvbiBLZXlTeXN0ZW1XaWRldmluZSgpIHtcclxuXHJcbiAgICBsZXQgaW5zdGFuY2VfO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldEluaXREYXRhKGNwKSB7XHJcbiAgICAgICAgcmV0dXJuIENvbW1vbkVuY3J5cHRpb24ucGFyc2VJbml0RGF0YUZyb21Db250ZW50UHJvdGVjdGlvbihjcCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0UmVxdWVzdEhlYWRlcnNGcm9tTWVzc2FnZSgvKm1lc3NhZ2UqLykge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldExpY2Vuc2VSZXF1ZXN0RnJvbU1lc3NhZ2UobWVzc2FnZSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShtZXNzYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRMaWNlbnNlU2VydmVyVVJMRnJvbUluaXREYXRhKC8qaW5pdERhdGEqLykge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGluc3RhbmNlXyA9IHtcclxuICAgICAgICB1dWlkOiB1dWlkLFxyXG4gICAgICAgIHNjaGVtZUlkVVJJOiBzY2hlbWVJZFVSSSxcclxuICAgICAgICBzeXN0ZW1TdHJpbmc6IHN5c3RlbVN0cmluZyxcclxuICAgICAgICBnZXRJbml0RGF0YTogZ2V0SW5pdERhdGEsXHJcbiAgICAgICAgZ2V0UmVxdWVzdEhlYWRlcnNGcm9tTWVzc2FnZTogZ2V0UmVxdWVzdEhlYWRlcnNGcm9tTWVzc2FnZSxcclxuICAgICAgICBnZXRMaWNlbnNlUmVxdWVzdEZyb21NZXNzYWdlOiBnZXRMaWNlbnNlUmVxdWVzdEZyb21NZXNzYWdlLFxyXG4gICAgICAgIGdldExpY2Vuc2VTZXJ2ZXJVUkxGcm9tSW5pdERhdGE6IGdldExpY2Vuc2VTZXJ2ZXJVUkxGcm9tSW5pdERhdGEsXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBpbnN0YW5jZV87XHJcbn1cclxuXHJcbktleVN5c3RlbVdpZGV2aW5lLl9faDVwbGF5ZXJfZmFjdG9yeV9uYW1lID0gJ0tleVN5c3RlbVdpZGV2aW5lJztcclxuZXhwb3J0IGRlZmF1bHQgRmFjdG9yeU1ha2VyLmdldFNpbmdsZXRvbkZhY3RvcnkoS2V5U3lzdGVtV2lkZXZpbmUpOyIsImltcG9ydCBGYWN0b3J5TWFrZXIgZnJvbSAnLi4vLi4vY29yZS9GYWN0b3J5TWFrZXInO1xyXG5pbXBvcnQgU3RyaW5nVXRpbHMgZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nX3V0aWxzJztcclxuaW1wb3J0IENvbW1vbkVuY3J5cHRpb24gZnJvbSAnLi4vdm8vQ29tbW9uRW5jcnlwdGlvbic7XHJcbmltcG9ydCBNZWRpYUNhcGFiaWxpdHkgZnJvbSAnLi4vdm8vTWVkaWFDYXBhYmlsaXR5JztcclxuaW1wb3J0IEtleVN5c3RlbUNvbmZpZ3VyYXRpb24gZnJvbSAnLi4vdm8vS2V5U3lzdGVtQ29uZmlndXJhdGlvbic7XHJcblxyXG5pbXBvcnQgS2V5U3lzdGVtV2lkZXZpbmUgZnJvbSAnLi4vZHJtL0tleVN5c3RlbVdpZGV2aW5lJztcclxuXHJcblxyXG4vLyBUaGlzIHRha2VzIHRoZSBwbGFjZSBvZiBhIGxpY2Vuc2Ugc2VydmVyLlxyXG4vLyBraWRzIGlzIGFuIGFycmF5IG9mIGJhc2U2NC1lbmNvZGVkIGtleSBJRHNcclxuLy8ga2V5cyBpcyBhbiBhcnJheSBvZiBiYXNlNjQtZW5jb2RlZCBrZXlzXHJcbmZ1bmN0aW9uIGdlbmVyYXRlTGljZW5zZShtZXNzYWdlLCBrZXkpIHtcclxuICAgIC8vIFBhcnNlIHRoZSBjbGVhcmtleSBsaWNlbnNlIHJlcXVlc3QuXHJcbiAgICB2YXIgcmVxdWVzdCA9IEpTT04ucGFyc2UobmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKG1lc3NhZ2UpKTtcclxuICAgIC8vIFdlIG9ubHkga25vdyBvbmUga2V5LCBzbyB0aGVyZSBzaG91bGQgb25seSBiZSBvbmUga2V5IElELlxyXG4gICAgLy8gQSByZWFsIGxpY2Vuc2Ugc2VydmVyIGNvdWxkIGVhc2lseSBzZXJ2ZSBtdWx0aXBsZSBrZXlzLlxyXG4gICAgY29uc29sZS5hc3NlcnQocmVxdWVzdC5raWRzLmxlbmd0aCA9PT0gMSk7XHJcblxyXG4gICAgdmFyIGtleU9iaiA9IHtcclxuICAgICAgICBrdHk6ICdvY3QnLFxyXG4gICAgICAgIC8vYWxnOiAnQTEyOEtXJyxcclxuICAgICAgICBraWQ6IHJlcXVlc3Qua2lkc1swXSxcclxuICAgICAgICBrOiBTdHJpbmdVdGlscy51OGFyclRvQjY0KGtleSlcclxuICAgIH07XHJcbiAgICByZXR1cm4gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBrZXlzOiBba2V5T2JqXVxyXG4gICAgfSkpO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZHVtcEtTQ29uZmlnKGtzU3RyaW5nLCBrc0NvbmZpZykge1xyXG4gICAgY29uc29sZS5sb2coJ0g1UGxheWVyLCByZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MsIGtleVN5c3RlbV8gPSAnICsga3NTdHJpbmcpO1xyXG4gICAgY29uc29sZS5sb2coJ0g1UGxheWVyLCByZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MsIGNvbmZpZywgaW5pdERhdGFUeXBlczogJyArIGtzQ29uZmlnLmluaXREYXRhVHlwZXNbMF0pO1xyXG4gICAgY29uc29sZS5sb2coJ0g1UGxheWVyLCByZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MsIGNvbmZpZywgZGlzdGluY3RpdmVJZGVudGlmaWVyOiAnICsga3NDb25maWcuZGlzdGluY3RpdmVJZGVudGlmaWVyKTtcclxuICAgIGNvbnNvbGUubG9nKCdINVBsYXllciwgcmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzLCBjb25maWcsIHBlcnNpc3RlbnRTdGF0ZTogJyArIGtzQ29uZmlnLnBlcnNpc3RlbnRTdGF0ZSk7XHJcbiAgICBjb25zb2xlLmxvZygnSDVQbGF5ZXIsIHJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcywgY29uZmlnLCBzZXNzaW9uVHlwZXM6ICcgKyBrc0NvbmZpZy5zZXNzaW9uVHlwZXNbMF0pO1xyXG4gICAgY29uc29sZS5sb2coJ0g1UGxheWVyLCByZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MsIGNvbmZpZywgdmlkZW9DYXBhYmlsaXRpZXNbMF0uY29udGVudFR5cGU6ICcgKyBrc0NvbmZpZy52aWRlb0NhcGFiaWxpdGllc1swXS5jb250ZW50VHlwZSk7XHJcbiAgICBjb25zb2xlLmxvZygnSDVQbGF5ZXIsIHJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcywgY29uZmlnLCB2aWRlb0NhcGFiaWxpdGllc1swXS5yb2J1c3RuZXNzOiAnICsga3NDb25maWcudmlkZW9DYXBhYmlsaXRpZXNbMF0ucm9idXN0bmVzcyk7XHJcblxyXG4vLyBsaXRlSDVQbGF5ZXIuZGVidWcuanM6MzU1OCBINVBsYXllciwgcmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzLCBrZXlTeXN0ZW1fID0gY29tLmNocm9tZWNhc3QucGxheXJlYWR5XHJcbi8vIGxpdGVINVBsYXllci5kZWJ1Zy5qczozNTU5IEg1UGxheWVyLCByZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MsIGNvbmZpZywgaW5pdERhdGFUeXBlczogY2VuY1xyXG4vLyBsaXRlSDVQbGF5ZXIuZGVidWcuanM6MzU2MCBINVBsYXllciwgcmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzLCBjb25maWcsIGRpc3RpbmN0aXZlSWRlbnRpZmllcjogb3B0aW9uYWxcclxuLy8gbGl0ZUg1UGxheWVyLmRlYnVnLmpzOjM1NjEgSDVQbGF5ZXIsIHJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcywgY29uZmlnLCBwZXJzaXN0ZW50U3RhdGU6IG9wdGlvbmFsXHJcbi8vIGxpdGVINVBsYXllci5kZWJ1Zy5qczozNTYyIEg1UGxheWVyLCByZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MsIGNvbmZpZywgc2Vzc2lvblR5cGVzOiB0ZW1wb3JhcnlcclxuLy8gbGl0ZUg1UGxheWVyLmRlYnVnLmpzOjM1NjMgSDVQbGF5ZXIsIHJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcywgY29uZmlnLCB2aWRlb0NhcGFiaWxpdGllc1swXS5jb250ZW50VHlwZTogdmlkZW8vbXA0OyBjb2RlY3M9XCJhdmMxLjQyQzAxNFwiXHJcbi8vIGxpdGVINVBsYXllci5kZWJ1Zy5qczozNTY0IEg1UGxheWVyLCByZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MsIGNvbmZpZywgdmlkZW9DYXBhYmlsaXRpZXNbMF0ucm9idXN0bmVzczogXHJcblxyXG4vLyBzaGFrYS1wbGF5ZXIuY29tcGlsZWQuZGVidWcuanM6MTAwIERSTTogcXVlcnlNZWRpYUtleXNfLCBrZXlTeXN0ZW06IGNvbS5jaHJvbWVjYXN0LnBsYXlyZWFkeVxyXG4vLyBzaGFrYS1wbGF5ZXIuY29tcGlsZWQuZGVidWcuanM6MTAwIERSTTogcXVlcnlNZWRpYUtleXNfLCB2aWRlb0NhcGFiaWxpdGllcyA9IFtvYmplY3QgT2JqZWN0XVxyXG4vLyBzaGFrYS1wbGF5ZXIuY29tcGlsZWQuZGVidWcuanM6MTAwIERSTTogcXVlcnlNZWRpYUtleXNfLCBkaXN0aW5jdGl2ZUlkZW50aWZpZXIgPSBvcHRpb25hbFxyXG4vLyBzaGFrYS1wbGF5ZXIuY29tcGlsZWQuZGVidWcuanM6MTAwIERSTTogcXVlcnlNZWRpYUtleXNfLCBwZXJzaXN0ZW50U3RhdGUgPSBvcHRpb25hbFxyXG4vLyBzaGFrYS1wbGF5ZXIuY29tcGlsZWQuZGVidWcuanM6MTAwIERSTTogcXVlcnlNZWRpYUtleXNfLCBzZXNzaW9uVHlwZXMgPSB0ZW1wb3JhcnlcclxuLy8gc2hha2EtcGxheWVyLmNvbXBpbGVkLmRlYnVnLmpzOjEwMCBEUk06IHF1ZXJ5TWVkaWFLZXlzXywgbGFiZWwgPSBjb20uY2hyb21lY2FzdC5wbGF5cmVhZHlcclxuLy8gc2hha2EtcGxheWVyLmNvbXBpbGVkLmRlYnVnLmpzOjEwMCBEUk06IHF1ZXJ5TWVkaWFLZXlzXywgZHJtSW5mb3MgPSBbb2JqZWN0IE9iamVjdF1cclxuLy8gc2hha2EtcGxheWVyLmNvbXBpbGVkLmRlYnVnLmpzOjEwMCBEUk06IHF1ZXJ5TWVkaWFLZXlzXywgdmlkZW9DYXBhYmlsaXRpZXNbMF0uY29udGVudFR5cGUgdmlkZW8vbXA0OyBjb2RlY3M9XCJhdmMxLjQyQzAxNFwiXHJcbi8vIHNoYWthLXBsYXllci5jb21waWxlZC5kZWJ1Zy5qczoxMDAgRFJNOiBxdWVyeU1lZGlhS2V5c18sIHZpZGVvQ2FwYWJpbGl0aWVzWzBdLnJvYnVzdG5lc3MgXHJcblxyXG4gICAgICAgIC8vIGZvciAodmFyIGkgaW4ga3NDb25maWcpIHtcclxuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ0g1UGxheWVyLCAnICsgaSArICcgPSAnICsga3NDb25maWdbaV0pO1xyXG4gICAgICAgIC8vIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIE1vc3QgcmVjZW50IEVNRSBpbXBsZW1lbnRhdGlvblxyXG4gKlxyXG4gKiBJbXBsZW1lbnRlZCBieSBHb29nbGUgQ2hyb21lIHYzNisgKFdpbmRvd3MsIE9TWCwgTGludXgpLCBFZGdlXHJcbiAqL1xyXG5cclxudmFyIFByb3RlY3Rpb25Nb2RlbF8yMUphbjIwMTUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLm1lZGlhXyA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5pbml0RGF0YVR5cGVfID0gbnVsbDtcclxuICAgIHRoaXMuaW5pdERhdGFfID0gbnVsbDtcclxuICAgIHRoaXMua2V5U3lzdGVtXyA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5zdHJlYW1JbmZvXyA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5wcm9taXNlQWN0aW9uXyA9IG51bGw7XHJcbn07XHJcblxyXG5Qcm90ZWN0aW9uTW9kZWxfMjFKYW4yMDE1LnByb3RvdHlwZS5hdHRhY2hNZWRpYSA9IGZ1bmN0aW9uIChtZWRpYSkge1xyXG4gICAgdGhpcy5tZWRpYV8gPSBtZWRpYTtcclxuICAgIHRoaXMubWVkaWFfLmFkZEV2ZW50TGlzdGVuZXIoJ2VuY3J5cHRlZCcsIHRoaXMub25OZWVkS2V5LmJpbmQodGhpcyksIGZhbHNlKTtcclxufTtcclxuXHJcblByb3RlY3Rpb25Nb2RlbF8yMUphbjIwMTUucHJvdG90eXBlLmRldGFjaE1lZGlhID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKHRoaXMubWVkaWFfKSB7XHJcbiAgICAgICAgdGhpcy5tZWRpYV8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5jcnlwdGVkJywgdGhpcy5vbk5lZWRLZXkuYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMubWVkaWFfID0gbnVsbDtcclxuICAgIH1cclxufTtcclxuXHJcblByb3RlY3Rpb25Nb2RlbF8yMUphbjIwMTUucHJvdG90eXBlLnNldEtleVN5c3RlbSA9IGZ1bmN0aW9uIChrZXlTeXN0ZW0pIHtcclxuICAgIHRoaXMua2V5U3lzdGVtXyA9IGtleVN5c3RlbTtcclxufTtcclxuXHJcbi8vIGV2LmluaXREYXRhOiBpdCBpcyBwc3NoIGRhdGEgaGlkZGVuIGluIG1wNCBwc3NoIGJveFxyXG5Qcm90ZWN0aW9uTW9kZWxfMjFKYW4yMDE1LnByb3RvdHlwZS5vbk5lZWRLZXkgPSBmdW5jdGlvbiAoZXYpIHtcclxuICAgIGNvbnNvbGUubG9nKCdvbk5lZWRLZXksIGluaXREYXRhVHlwZTogJyArICBldi5pbml0RGF0YVR5cGUpO1xyXG4gICAgY29uc29sZS5sb2coJ29uTmVlZEtleSwgaW5pdERhdGEgbGVuZ3RoOiAnICsgIGV2LmluaXREYXRhLmJ5dGVMZW5ndGgpO1xyXG4gICAgY29uc29sZS5sb2coJ29uTmVlZEtleSwgaW5pdERhdGEnLCBTdHJpbmdVdGlscy5hYjJzdHJfdjEoZXYuaW5pdERhdGEpKTtcclxuXHJcbiAgICAvLyBcclxuICAgIGlmICh0aGlzLnN0cmVhbUluZm9fLmRybS5pbml0RGF0YVR5cGUgJiYgdGhpcy5zdHJlYW1JbmZvXy5kcm0uaW5pdERhdGEpIHtcclxuICAgICAgICB0aGlzLmluaXREYXRhVHlwZV8gPSB0aGlzLnN0cmVhbUluZm9fLmRybS5pbml0RGF0YVR5cGU7XHJcbiAgICAgICAgdGhpcy5pbml0RGF0YV8gPSB0aGlzLnN0cmVhbUluZm9fLmRybS5pbml0RGF0YTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5pbml0RGF0YVR5cGVfID0gZXYuaW5pdERhdGFUeXBlO1xyXG4gICAgICAgIHRoaXMuaW5pdERhdGFfID0gZXYuaW5pdERhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQkRcclxuICAgIC8vIHZhciBwc3NoID0gQ29tbW9uRW5jcnlwdGlvbi5wYXJzZVBTU0hMaXN0KGV2LmluaXREYXRhKTtcclxuICAgIC8vIGxldCBhMSA9IFN0cmluZ1V0aWxzLmFiMnN0cl92MShwc3NoWydlZGVmOGJhOS03OWQ2LTRhY2UtYTNjOC0yN2RjZDUxZDIxZWQnXSk7XHJcbiAgICAvLyBsZXQgYTIgPSBTdHJpbmdVdGlscy5hYjJzdHJfdjEocHNzaFsnOWEwNGYwNzktOTg0MC00Mjg2LWFiOTItZTY1YmUwODg1Zjk1J10pO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ0RSTSwgYTE6ICcgKyBhMSk7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnRFJNLCBhMjogJyArIGEyKTtcclxuICAgIC8vIEVEXHJcblxyXG4gICAgdGhpcy5yZXF1ZXN0S2V5U3lzdGVtQWNjZXNzKCk7XHJcbn07XHJcblxyXG5Qcm90ZWN0aW9uTW9kZWxfMjFKYW4yMDE1LnByb3RvdHlwZS5vblNlc3Npb25NZXNzYWdlID0gZnVuY3Rpb24gKGV2KSB7XHJcbiAgICBjb25zb2xlLmxvZygnbWVzc2FnZSBldmVudDogJywgZXYpO1xyXG4gICAgLy8gSWYgeW91IGhhZCBhIGxpY2Vuc2Ugc2VydmVyLCB5b3Ugd291bGQgbWFrZSBhbiBhc3luY2hyb25vdXMgWE1MSHR0cFJlcXVlc3RcclxuICAgIC8vIHdpdGggZXZlbnQubWVzc2FnZSBhcyB0aGUgYm9keS4gIFRoZSByZXNwb25zZSBmcm9tIHRoZSBzZXJ2ZXIsIGFzIGFcclxuICAgIC8vIFVpbnQ4QXJyYXksIHdvdWxkIHRoZW4gYmUgcGFzc2VkIHRvIHNlc3Npb24udXBkYXRlKCkuXHJcbiAgICAvLyBJbnN0ZWFkLCB3ZSB3aWxsIGdlbmVyYXRlIHRoZSBsaWNlbnNlIHN5bmNocm9ub3VzbHkgb24gdGhlIGNsaWVudCwgdXNpbmdcclxuICAgIC8vIHRoZSBoYXJkLWNvZGVkIEtFWSBhdCB0aGUgdG9wLlxyXG5cclxuICAgIGNvbnNvbGUubG9nKCdzZXNzaW9uIG1lc3NhZ2UsIGxlbmd0aDogJyArIGV2Lm1lc3NhZ2UuYnl0ZUxlbmd0aCk7XHJcbiAgICBjb25zb2xlLmxvZygnc2Vzc2lvbiBtZXNzYWdlLCBkYXRhOicsIFN0cmluZ1V0aWxzLmFiMnN0cl92MShldi5tZXNzYWdlKSk7XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIGxpY2Vuc2Ugc2VydmVyIFVSTFxyXG4gICAgbGV0IGxhVXJsID0gdGhpcy5zdHJlYW1JbmZvXy5kcm0ubGFVcmw7XHJcblxyXG4gICAgaWYgKCFsYVVybCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdEUk06IG5vIGxpY2Vuc2UgdXJsJyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0cmVhbUluZm9fLmRybS50eXBlID09PSAnb3JnLnczLmNsZWFya2V5Jykge1xyXG4gICAgICAgICAgICBsZXQgbGljZW5zZSA9IGdlbmVyYXRlTGljZW5zZShldmVudC5tZXNzYWdlLCB0aGlzLnN0cmVhbUluZm9fLmRybS5rZXkpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbGljZW5zZTogJywgbGljZW5zZSk7XHJcbiAgICAgICAgICAgIGxldCBzZXNzaW9uID0gZXYudGFyZ2V0O1xyXG4gICAgICAgICAgICBzZXNzaW9uLnVwZGF0ZShsaWNlbnNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIC8vXHJcbiAgICAvLyBBbGwgcmVtYWluaW5nIGtleSBzeXN0ZW0gc2NlbmFyaW9zIHJlcXVpcmUgYSByZXF1ZXN0IHRvIGEgcmVtb3RlIGxpY2Vuc2Ugc2VydmVyXHJcbiAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcblxyXG4gICAgeGhyLm9wZW4oJ1BPU1QnLCBsYVVybCwgdHJ1ZSk7XHJcbiAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcclxuICAgIHhoci50aW1lb3V0ID0gMDtcclxuICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zb2xlLmxvZygnRFJNOiBvcGVuIG1ldGhvZDogUE9TVCcpO1xyXG4gICAgY29uc29sZS5sb2coJ0RSTTogdGltZW91dDogJyArIHhoci50aW1lb3V0KTtcclxuICAgIGNvbnNvbGUubG9nKCdEUk06IHdpdGhDcmVkZW50aWFsczogJyArIHhoci53aXRoQ3JlZGVudGlhbHMpO1xyXG4gICAgY29uc29sZS5sb2coJ0RSTTogbWVzc2FnZTogJyArIFN0cmluZ1V0aWxzLmFiMnN0cl92MShldi5tZXNzYWdlKSk7XHJcbiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gdGhpcy5yZXNwb25zZTtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEUk06IHJlcXVlc3QgcmVzcG9uc2UgbGVuZ3RoOiAnICsgZGF0YS5ieXRlTGVuZ3RoKTtcclxuICAgICAgICAgICAgc2VsZi5zZXNzaW9uXy51cGRhdGUobmV3IFVpbnQ4QXJyYXkodGhpcy5yZXNwb25zZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB4aHIub25hYm9ydCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdsaWNlbnNlIHJlcXVlc3QgYWJvcnQnKTtcclxuICAgIH07XHJcbiAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdsaWNlbnNlIHJlcXVlc3QgZXJyb3InKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gQkRcclxuICAgIHZhciB1cGRhdGVIZWFkZXJzID0gZnVuY3Rpb24gKGhlYWRlcnMpIHtcclxuICAgICAgICB2YXIga2V5O1xyXG4gICAgICAgIGlmIChoZWFkZXJzKSB7XHJcbiAgICAgICAgICAgIGZvciAoa2V5IGluIGhlYWRlcnMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEUk06IGtleTogJyArIGtleSArICcsIHZhbHVlOiAnICsgaGVhZGVyc1trZXldKTtcclxuICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgaGVhZGVyc1trZXldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdXBkYXRlSGVhZGVycyh0aGlzLnN0cmVhbUluZm9fLmRybS5oZWFkZXJzKTtcclxuICAgIC8vIEVEXHJcblxyXG4gICAgLy94aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgJ3RleHQveG1sOyBjaGFyc2V0PXV0Zi04Jyk7XHJcbiAgICAvL3hoci5zZXRSZXF1ZXN0SGVhZGVyKCdTT0FQQWN0aW9uJywgJ1xcXCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL0RSTS8yMDA3LzAzL3Byb3RvY29scy9BY3F1aXJlTGljZW5zZVxcXCInKTtcclxuICAgIGxldCBib2R5ID0gdGhpcy5rZXlTeXN0ZW1fLmdldExpY2Vuc2VSZXF1ZXN0RnJvbU1lc3NhZ2UoZXYubWVzc2FnZSk7XHJcbiAgICBjb25zb2xlLmxvZygnYm9keTogJywgYm9keSk7XHJcbiAgICB4aHIuc2VuZChib2R5KTtcclxufTtcclxuXHJcblByb3RlY3Rpb25Nb2RlbF8yMUphbjIwMTUucHJvdG90eXBlLm9uU2Vzc2lvbkNoYW5nZSA9IGZ1bmN0aW9uIChldikge1xyXG4gICAgbGV0IGE9MjtcclxuICAgIGxldCBiPWE7XHJcbn07XHJcblxyXG5Qcm90ZWN0aW9uTW9kZWxfMjFKYW4yMDE1LnByb3RvdHlwZS5zZXREcm1JbmZvID0gZnVuY3Rpb24gKHN0cmVhbUluZm8pIHtcclxuICAgIGNvbnNvbGUubG9nKCctLXNldERybUluZm8gaW4gMjFKYW4yMDE1LS0nKTtcclxuICAgIHRoaXMuc3RyZWFtSW5mb18gPSBzdHJlYW1JbmZvO1xyXG59O1xyXG5cclxuUHJvdGVjdGlvbk1vZGVsXzIxSmFuMjAxNS5wcm90b3R5cGUucmVxdWVzdEtleVN5c3RlbUFjY2VzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCBhdWRpb0NhcGFiaWxpdGllcyA9IFtdO1xyXG4gICAgbGV0IHZpZGVvQ2FwYWJpbGl0aWVzID0gW107XHJcbiAgICBsZXQgcm9idXN0bmVzc0xldmVsID0gJyc7IC8vIFNXX1NFQ1VSRV9DUllQVE9cclxuICAgIGlmICh0aGlzLnN0cmVhbUluZm9fLmF1ZGlvQ29kZWMpIHtcclxuICAgICAgICBhdWRpb0NhcGFiaWxpdGllcy5wdXNoKG5ldyBNZWRpYUNhcGFiaWxpdHkodGhpcy5zdHJlYW1JbmZvXy5hdWRpb0NvZGVjLCByb2J1c3RuZXNzTGV2ZWwpKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnN0cmVhbUluZm9fLnZpZGVvQ29kZWMpIHtcclxuICAgICAgICB2aWRlb0NhcGFiaWxpdGllcy5wdXNoKG5ldyBNZWRpYUNhcGFiaWxpdHkodGhpcy5zdHJlYW1JbmZvXy52aWRlb0NvZGVjLCByb2J1c3RuZXNzTGV2ZWwpKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQga3NDb25maWcgPSBuZXcgS2V5U3lzdGVtQ29uZmlndXJhdGlvbihcclxuICAgICAgICBhdWRpb0NhcGFiaWxpdGllcywgdmlkZW9DYXBhYmlsaXRpZXMsICdvcHRpb25hbCcsICdvcHRpb25hbCcsIFsndGVtcG9yYXJ5J10pO1xyXG5cclxuICAgIGxldCBjb25maWdzXyA9IFtdO1xyXG4gICAgY29uZmlnc18ucHVzaChrc0NvbmZpZyk7XHJcblxyXG4gICAgLy8gQkRcclxuICAgIC8vZHVtcEtTQ29uZmlnKHRoaXMua2V5U3lzdGVtXy5zeXN0ZW1TdHJpbmcsIGtzQ29uZmlnKTtcclxuICAgIC8vIEVEXHJcblxyXG4gICAgaWYgKHRoaXMucHJvbWlzZUFjdGlvbl8pIHsgcmV0dXJuOyB9XHJcblxyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdGhpcy5wcm9taXNlQWN0aW9uXyA9IG5hdmlnYXRvci5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3Moc2VsZi5rZXlTeXN0ZW1fLnN5c3RlbVN0cmluZywgY29uZmlnc19cclxuICAgICkudGhlbihmdW5jdGlvbihrZXlTeXN0ZW1BY2Nlc3MpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0g1UGxheWVyLCByZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MgaXMgb2snKTtcclxuICAgICAgICAgICAgcmV0dXJuIGtleVN5c3RlbUFjY2Vzcy5jcmVhdGVNZWRpYUtleXMoKTtcclxuICAgICAgICB9XHJcbiAgICApLnRoZW4oZnVuY3Rpb24obWVkaWFLZXlzKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0g1UGxheWVyLCBjcmVhdGVNZWRpYUtleXMgaXMgb2ssIG1lZGlhS2V5czogJyArIG1lZGlhS2V5cyk7XHJcbiAgICAgICAgbGV0IHJldCA9IHNlbGYubWVkaWFfLnNldE1lZGlhS2V5cyhtZWRpYUtleXMpO1xyXG4gICAgICAgIHJldHVybiByZXQ7XHJcbiAgICB9KS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIGNyZWF0ZSBzZXNzaW9uXHJcbiAgICAgICAgbGV0IG1lZGlhS2V5cyA9IHNlbGYubWVkaWFfLm1lZGlhS2V5cztcclxuICAgICAgICBzZWxmLnNlc3Npb25fID0gbWVkaWFLZXlzLmNyZWF0ZVNlc3Npb24oJ3RlbXBvcmFyeScpO1xyXG4gICAgICAgIHNlbGYuc2Vzc2lvbl8uYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHNlbGYub25TZXNzaW9uTWVzc2FnZS5iaW5kKHNlbGYpLCBmYWxzZSk7XHJcbiAgICAgICAgc2VsZi5zZXNzaW9uXy5hZGRFdmVudExpc3RlbmVyKCdrZXlzdGF0dXNlc2NoYW5nZScsIHNlbGYub25TZXNzaW9uQ2hhbmdlLmJpbmQoc2VsZiksIGZhbHNlKTtcclxuICAgICAgICBzZWxmLnNlc3Npb25fLmdlbmVyYXRlUmVxdWVzdChzZWxmLmluaXREYXRhVHlwZV8sIHNlbGYuaW5pdERhdGFfKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2dlbmVyYXRlUmVxdWVzdCBpcyBvaycpO1xyXG4gICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignZ2VuZXJhdGVSZXF1ZXN0IGZhaWxlZCBhdDogJywgZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2V0IHVwIE1lZGlhS2V5cycsIGVycm9yKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgUHJvdGVjdGlvbk1vZGVsXzIxSmFuMjAxNTtcclxuXHJcbiIsImltcG9ydCBGYWN0b3J5TWFrZXIgZnJvbSAnLi4vLi4vY29yZS9GYWN0b3J5TWFrZXInO1xyXG5pbXBvcnQgU3RyaW5nVXRpbHMgZnJvbSAnLi4vLi4vdXRpbHMvc3RyaW5nX3V0aWxzJztcclxuXHJcbmltcG9ydCBNZWRpYUNhcGFiaWxpdHkgZnJvbSAnLi4vdm8vTWVkaWFDYXBhYmlsaXR5JztcclxuaW1wb3J0IEtleVN5c3RlbUNvbmZpZ3VyYXRpb24gZnJvbSAnLi4vdm8vS2V5U3lzdGVtQ29uZmlndXJhdGlvbic7XHJcbmltcG9ydCBLU1V0aWxzIGZyb20gJy4uL3ZvL0tTVXRpbHMnO1xyXG5pbXBvcnQgQ29tbW9uRW5jcnlwdGlvbiBmcm9tICcuLi92by9Db21tb25FbmNyeXB0aW9uJztcclxuaW1wb3J0IEJBU0U2NCBmcm9tICcuLi8uLi9leHRlcm5hbHMvYmFzZTY0JztcclxuXHJcbmltcG9ydCBLZXlTeXN0ZW1QbGF5UmVhZHkgZnJvbSAnLi4vZHJtL0tleVN5c3RlbVBsYXlSZWFkeSc7XHJcblxyXG5cclxuXHJcblxyXG4vKipcclxuICogTW9zdCByZWNlbnQgRU1FIGltcGxlbWVudGF0aW9uXHJcbiAqXHJcbiAqIEltcGxlbWVudGVkIGJ5IElFMTFcclxuICovXHJcbmZ1bmN0aW9uIFByb3RlY3Rpb25Nb2RlbF8zRmViMjAxNChtZWRpYSkge1xyXG4gICAgbGV0IGNvbnRleHRfID0gdGhpcy5jb250ZXh0O1xyXG4gICAgbGV0IGluc3RhbmNlXyA9IG51bGw7XHJcbiAgICBsZXQgbWVkaWFfID0gbnVsbDtcclxuICAgIGxldCBzdHJlYW1JbmZvXyA9IG51bGw7XHJcbiAgICBsZXQgc2Vzc2lvbl8gPSBudWxsO1xyXG4gICAgbGV0IGtleVN5c3RlbV8gPSBudWxsO1xyXG4gICAgbGV0IG1lZGlhS2V5c18gPSBudWxsO1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBhdHRhY2hNZWRpYShtZWRpYSkge1xyXG4gICAgICAgIG1lZGlhXyA9IG1lZGlhO1xyXG5cclxuICAgICAgICBtZWRpYV8uYWRkRXZlbnRMaXN0ZW5lcignbXNuZWVka2V5Jywgb25OZWVkS2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkZXRhY2hNZWRpYSgpIHtcclxuICAgICAgICBpZiAobWVkaWFfKSB7XHJcbiAgICAgICAgICAgIG1lZGlhXy5hZGRFdmVudExpc3RlbmVyKCdtc25lZWRrZXknLCBvbk5lZWRLZXkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRLZXlTeXN0ZW0oa2V5U3lzdGVtKSB7XHJcbiAgICAgICAga2V5U3lzdGVtXyA9IGtleVN5c3RlbTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXREcm1JbmZvKHN0cmVhbUluZm8pIHtcclxuICAgICAgICBzdHJlYW1JbmZvXyA9IHN0cmVhbUluZm87XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25OZWVkS2V5KGV2KSB7XHJcbiAgICAgICAgbGV0IGluaXREYXRhVHlwZSA9ICdjZW5jJztcclxuICAgICAgICAvLyBTb21lIGJyb3dzZXJzIHJldHVybiBpbml0RGF0YSBhcyBVaW50OEFycmF5IChJRSksIHNvbWUgYXMgQXJyYXlCdWZmZXIgKENocm9tZSkuXHJcbiAgICAgICAgLy8gQ29udmVydCB0byBBcnJheUJ1ZmZlclxyXG4gICAgICAgIHZhciBhYkluaXREYXRhID0gZXYuaW5pdERhdGE7XHJcbiAgICAgICAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhhYkluaXREYXRhKSkge1xyXG4gICAgICAgICAgICBhYkluaXREYXRhID0gYWJJbml0RGF0YS5idWZmZXI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcHNzaCA9IENvbW1vbkVuY3J5cHRpb24ucGFyc2VQU1NITGlzdChhYkluaXREYXRhKTtcclxuICAgICAgICBsZXQgdXVpZCA9IEtTVXRpbHMuR2V0S1NVVUlEKHN0cmVhbUluZm9fLmRybS50eXBlKTtcclxuXHJcbiAgICAgICAgbGV0IGFjdHVhbEluaXREYXRhID0gcHNzaFt1dWlkXTtcclxuXHJcbiAgICAgICAgLy8gc2VsZWN0IGtleSBzeXN0ZW1cclxuICAgICAgICBpZiAobWVkaWFfLnJlYWR5U3RhdGUgPj0gMSkge1xyXG4gICAgICAgICAgICBtZWRpYUtleXNfID0gbmV3IHdpbmRvdy5NU01lZGlhS2V5cyhrZXlTeXN0ZW1fLnN5c3RlbVN0cmluZyk7XHJcbiAgICAgICAgICAgIG1lZGlhXy5tc1NldE1lZGlhS2V5cyhtZWRpYUtleXNfKTtcclxuXHJcbiAgICAgICAgICAgIHNlc3Npb25fID0gbWVkaWFLZXlzXy5jcmVhdGVTZXNzaW9uKHN0cmVhbUluZm9fLnZpZGVvQ29kZWMsIG5ldyBVaW50OEFycmF5KGFiSW5pdERhdGEpKTtcclxuICAgICAgICAgICAgc2Vzc2lvbl8uYWRkRXZlbnRMaXN0ZW5lcignbXNrZXllcnJvcicsIG9uU2Vzc2lvbkVycm9yKTtcclxuICAgICAgICAgICAgc2Vzc2lvbl8uYWRkRXZlbnRMaXN0ZW5lcignbXNrZXltZXNzYWdlJywgb25TZXNzaW9uTWVzc2FnZSk7XHJcbiAgICAgICAgICAgIHNlc3Npb25fLmFkZEV2ZW50TGlzdGVuZXIoJ21za2V5YWRkZWQnLCBvblNlc3Npb25BZGRlZCk7XHJcbiAgICAgICAgICAgIHNlc3Npb25fLmFkZEV2ZW50TGlzdGVuZXIoJ21za2V5Y2xvc2UnLCBvblNlc3Npb25DbG9zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9uU2Vzc2lvbkVycm9yKGV2KSB7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25TZXNzaW9uTWVzc2FnZShldikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRFJNOiBLZXkgTWVzc2FnZVwiKTtcclxuXHJcbiAgICAgICAgbGV0IGFiTWVzc2FnZSA9IGV2Lm1lc3NhZ2U7XHJcbiAgICAgICAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhhYk1lc3NhZ2UpKSB7XHJcbiAgICAgICAgICAgIGFiTWVzc2FnZSA9IGFiTWVzc2FnZS5idWZmZXI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBsaWNlbnNlIHJlcXVlc3QgaGVyZVxyXG4gICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICB4aHIub3BlbignUE9TVCcsIHN0cmVhbUluZm9fLmRybS5sYVVybCwgdHJ1ZSk7XHJcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XHJcbiAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgc2Vzc2lvbl8udXBkYXRlKG5ldyBVaW50OEFycmF5KHRoaXMucmVzcG9uc2UpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB4aHIub25hYm9ydCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRFJNOiB4aHIgYWJvcnQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEUk06IHhociBlcnJvcicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gXHJcbiAgICAgICAgbGV0IGhlYWRlcnMgPSBrZXlTeXN0ZW1fLmdldFJlcXVlc3RIZWFkZXJzRnJvbU1lc3NhZ2UoYWJNZXNzYWdlKTtcclxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gaGVhZGVycykge1xyXG4gICAgICAgICAgICBpZiAoJ2F1dGhvcml6YXRpb24nID09PSBrZXkudG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICAgICAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCBoZWFkZXJzW2tleV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgeGhyLnNlbmQoa2V5U3lzdGVtXy5nZXRMaWNlbnNlUmVxdWVzdEZyb21NZXNzYWdlKGFiTWVzc2FnZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9uU2Vzc2lvbkFkZGVkKGV2KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0RSTTogS2V5IGFkZGVkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25TZXNzaW9uQ2xvc2UoZXYpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVxdWVzdEtleVN5c3RlbUFjY2VzcygpIHtcclxuICAgICAgICBsZXQga3NTdHJpbmcgPSBLU1V0aWxzLkdldEtTU3RyaW5nKHN0cmVhbUluZm9fLmRybS50eXBlKTtcclxuXHJcbiAgICAgICAgbGV0IGF1ZGlvQ2FwYWJpbGl0aWVzID0gW107XHJcbiAgICAgICAgbGV0IHZpZGVvQ2FwYWJpbGl0aWVzID0gW107XHJcbiAgICAgICAgbGV0IHJvYnVzdG5lc3NMZXZlbCA9ICcnO1xyXG4gICAgICAgIGlmIChzdHJlYW1JbmZvXy5hdWRpb0NvZGVjKSB7XHJcbiAgICAgICAgICAgIGF1ZGlvQ2FwYWJpbGl0aWVzLnB1c2gobmV3IE1lZGlhQ2FwYWJpbGl0eShzdHJlYW1JbmZvXy5hdWRpb0NvZGVjLCByb2J1c3RuZXNzTGV2ZWwpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0cmVhbUluZm9fLnZpZGVvQ29kZWMpIHtcclxuICAgICAgICAgICAgdmlkZW9DYXBhYmlsaXRpZXMucHVzaChuZXcgTWVkaWFDYXBhYmlsaXR5KHN0cmVhbUluZm9fLnZpZGVvQ29kZWMsIHJvYnVzdG5lc3NMZXZlbCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGtzQ29uZmlnID0gbmV3IEtleVN5c3RlbUNvbmZpZ3VyYXRpb24oXHJcbiAgICAgICAgICBhdWRpb0NhcGFiaWxpdGllcywgdmlkZW9DYXBhYmlsaXRpZXMsICdvcHRpb25hbCcsICdvcHRpb25hbCcsIFsndGVtcG9yYXJ5J10pO1xyXG5cclxuICAgICAgICBsZXQgY29uZmlnc18gPSBbXTtcclxuICAgICAgICBjb25maWdzXy5wdXNoKGtzQ29uZmlnKTtcclxuXHJcbiAgICAgICAgLy8gY2hlY2sgaXMgc3VwcG9ydGVkP1xyXG4gICAgICAgIGZvciAobGV0IGNvbmZpZ0lkeCA9IDA7IGNvbmZpZ0lkeCA8IGNvbmZpZ3NfLmxlbmd0aDsgY29uZmlnSWR4ICsrKSB7XHJcbiAgICAgICAgICAgIGxldCB2aWRlb3MgPSBjb25maWdzX1tjb25maWdJZHhdLnZpZGVvQ2FwYWJpbGl0aWVzO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gTG9vayBmb3Igc3VwcG9ydGVkIHZpZGVvIGNvbnRhaW5lci9jb2RlY3NcclxuICAgICAgICAgICAgaWYgKHZpZGVvcyAmJiB2aWRlb3MubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB2aWRlb0lkeCA9IDA7IHZpZGVvSWR4IDwgdmlkZW9zLmxlbmd0aDsgdmlkZW9JZHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3dbJ01TTWVkaWFLZXlzJ10uaXNUeXBlU3VwcG9ydGVkKGtzU3RyaW5nLCB2aWRlb3NbdmlkZW9JZHhdLmNvbnRlbnRUeXBlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFxyXG4gICAgICAgIHNlbGVjdEtleVN5c3RlbShrc1N0cmluZyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VsZWN0S2V5U3lzdGVtKGtzU3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IG1lZGlhS2V5cyA9IG5ldyB3aW5kb3dbJ01TTWVkaWFLZXlzJ10oa3NTdHJpbmcpO1xyXG5cclxuICAgICAgICBpZiAobWVkaWFfLnJlYWR5U3RhdGUgPj0gMSkge1xyXG4gICAgICAgICAgICBtZWRpYV8ubXNTZXRNZWRpYUtleXMobWVkaWFLZXlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlS2V5U2Vzc2lvbihpbml0RGF0YSkge1xyXG4gICAgfVxyXG5cclxuICAgIGluc3RhbmNlXyA9IHtcclxuICAgICAgICBhdHRhY2hNZWRpYTogYXR0YWNoTWVkaWEsXHJcbiAgICAgICAgZGV0YWNoTWVkaWE6IGRldGFjaE1lZGlhLFxyXG4gICAgICAgIHNldEtleVN5c3RlbTogc2V0S2V5U3lzdGVtLFxyXG4gICAgICAgIHNldERybUluZm86IHNldERybUluZm9cclxuICAgIH07XHJcbiAgICByZXR1cm4gaW5zdGFuY2VfO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUHJvdGVjdGlvbk1vZGVsXzNGZWIyMDE0O1xyXG5cclxuIiwiLyoqXHJcbiAqIFRoZSBjb3B5cmlnaHQgaW4gdGhpcyBzb2Z0d2FyZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsXHJcbiAqIGluY2x1ZGVkIGJlbG93LiBUaGlzIHNvZnR3YXJlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZCBjb250cmlidXRvclxyXG4gKiByaWdodHMsIGluY2x1ZGluZyBwYXRlbnQgcmlnaHRzLCBhbmQgbm8gc3VjaCByaWdodHMgYXJlIGdyYW50ZWQgdW5kZXIgdGhpcyBsaWNlbnNlLlxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMsIERhc2ggSW5kdXN0cnkgRm9ydW0uXHJcbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sXHJcbiAqIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcclxuICogICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXHJcbiAqICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cclxuICogICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxyXG4gKiAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3JcclxuICogIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXHJcbiAqICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgRGFzaCBJbmR1c3RyeSBGb3J1bSBub3IgdGhlIG5hbWVzIG9mIGl0c1xyXG4gKiAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZVxyXG4gKiAgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXHJcbiAqXHJcbiAqICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIEFTIElTIEFORCBBTllcclxuICogIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcclxuICogIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC5cclxuICogIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsXHJcbiAqICBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUXHJcbiAqICBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXHJcbiAqICBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcclxuICogIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcclxuICogIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFXHJcbiAqICBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cclxuICovXHJcblxyXG5pbXBvcnQgQkFTRTY0IGZyb20gJy4uLy4uL2V4dGVybmFscy9iYXNlNjQnO1xyXG5cclxuY2xhc3MgQ29tbW9uRW5jcnlwdGlvbiB7XHJcbiAgICAvKipcclxuICAgICAqIEZpbmQgYW5kIHJldHVybiB0aGUgQ29udGVudFByb3RlY3Rpb24gZWxlbWVudCBpbiB0aGUgZ2l2ZW4gYXJyYXlcclxuICAgICAqIHRoYXQgaW5kaWNhdGVzIHN1cHBvcnQgZm9yIE1QRUcgQ29tbW9uIEVuY3J5cHRpb25cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBjcEFycmF5IGFycmF5IG9mIGNvbnRlbnQgcHJvdGVjdGlvbiBlbGVtZW50c1xyXG4gICAgICogQHJldHVybnMge09iamVjdHxudWxsfSB0aGUgQ29tbW9uIEVuY3J5cHRpb24gY29udGVudCBwcm90ZWN0aW9uIGVsZW1lbnQgb3JcclxuICAgICAqIG51bGwgaWYgb25lIHdhcyBub3QgZm91bmRcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGZpbmRDZW5jQ29udGVudFByb3RlY3Rpb24oY3BBcnJheSkge1xyXG4gICAgICAgIHZhciByZXRWYWwgPSBudWxsO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY3BBcnJheS5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB2YXIgY3AgPSBjcEFycmF5W2ldO1xyXG4gICAgICAgICAgICBpZiAoY3Auc2NoZW1lSWRVcmkudG9Mb3dlckNhc2UoKSA9PT0gJ3VybjptcGVnOmRhc2g6bXA0cHJvdGVjdGlvbjoyMDExJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGNwLnZhbHVlLnRvTG93ZXJDYXNlKCkgPT09ICdjZW5jJylcclxuICAgICAgICAgICAgICAgIHJldFZhbCA9IGNwO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmV0VmFsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBqdXN0IHRoZSBkYXRhIHBvcnRpb24gb2YgYSBzaW5nbGUgUFNTSFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IHBzc2ggLSB0aGUgUFNTSFxyXG4gICAgICogQHJldHVybiB7QXJyYXlCdWZmZXJ9IGRhdGEgcG9ydGlvbiBvZiB0aGUgUFNTSFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZ2V0UFNTSERhdGEocHNzaCkge1xyXG4gICAgICAgIHZhciBvZmZzZXQgPSA4OyAvLyBCb3ggc2l6ZSBhbmQgdHlwZSBmaWVsZHNcclxuICAgICAgICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyhwc3NoKTtcclxuXHJcbiAgICAgICAgLy8gUmVhZCB2ZXJzaW9uXHJcbiAgICAgICAgdmFyIHZlcnNpb24gPSB2aWV3LmdldFVpbnQ4KG9mZnNldCk7XHJcblxyXG4gICAgICAgIG9mZnNldCArPSAyMDsgLy8gVmVyc2lvbiAoMSksIGZsYWdzICgzKSwgc3lzdGVtIElEICgxNilcclxuXHJcbiAgICAgICAgaWYgKHZlcnNpb24gPiAwKSB7XHJcbiAgICAgICAgICAgIG9mZnNldCArPSA0ICsgKDE2ICogdmlldy5nZXRVaW50MzIob2Zmc2V0KSk7IC8vIEtleSBJRCBjb3VudCAoNCkgYW5kIEFsbCBrZXkgSURzICgxNipjb3VudClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG9mZnNldCArPSA0OyAvLyBEYXRhIHNpemVcclxuICAgICAgICByZXR1cm4gcHNzaC5zbGljZShvZmZzZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgUFNTSCBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIGtleSBzeXN0ZW0gZnJvbSB0aGUgY29uY2F0ZW5hdGVkXHJcbiAgICAgKiBsaXN0IG9mIFBTU0ggYm94ZXMgaW4gdGhlIGdpdmVuIGluaXREYXRhXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtLZXlTeXN0ZW19IGtleVN5c3RlbSB0aGUgZGVzaXJlZFxyXG4gICAgICoga2V5IHN5c3RlbVxyXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gaW5pdERhdGEgJ2NlbmMnIGluaXRpYWxpemF0aW9uIGRhdGEuICBDb25jYXRlbmF0ZWQgbGlzdCBvZiBQU1NILlxyXG4gICAgICogQHJldHVybnMge0FycmF5QnVmZmVyfG51bGx9IFRoZSBQU1NIIGJveCBkYXRhIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdpdmVuIGtleSBzeXN0ZW0sIG51bGwgaWYgbm90IGZvdW5kXHJcbiAgICAgKiBvciBudWxsIGlmIGEgdmFsaWQgYXNzb2NpYXRpb24gY291bGQgbm90IGJlIGZvdW5kLlxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZ2V0UFNTSEZvcktleVN5c3RlbShrZXlTeXN0ZW0sIGluaXREYXRhKSB7XHJcbiAgICAgICAgdmFyIHBzc2hMaXN0ID0gQ29tbW9uRW5jcnlwdGlvbi5wYXJzZVBTU0hMaXN0KGluaXREYXRhKTtcclxuICAgICAgICBpZiAocHNzaExpc3QuaGFzT3duUHJvcGVydHkoa2V5U3lzdGVtLnV1aWQudG9Mb3dlckNhc2UoKSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBzc2hMaXN0W2tleVN5c3RlbS51dWlkLnRvTG93ZXJDYXNlKCldO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhcnNlIGEgc3RhbmRhcmQgY29tbW9uIGVuY3J5cHRpb24gUFNTSCB3aGljaCBjb250YWlucyBhIHNpbXBsZVxyXG4gICAgICogYmFzZTY0LWVuY29kaW5nIG9mIHRoZSBpbml0IGRhdGFcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY3BEYXRhIHRoZSBDb250ZW50UHJvdGVjdGlvbiBlbGVtZW50XHJcbiAgICAgKiBAcmV0dXJucyB7QXJyYXlCdWZmZXJ8bnVsbH0gdGhlIGluaXQgZGF0YSBvciBudWxsIGlmIG5vdCBmb3VuZFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcGFyc2VJbml0RGF0YUZyb21Db250ZW50UHJvdGVjdGlvbihjcERhdGEpIHtcclxuICAgICAgICBpZiAoJ3Bzc2gnIGluIGNwRGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQkFTRTY0LmRlY29kZUFycmF5KGNwRGF0YS5wc3NoLl9fdGV4dCkuYnVmZmVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhcnNlcyBsaXN0IG9mIFBTU0ggYm94ZXMgaW50byBrZXlzeXN0ZW0tc3BlY2lmaWMgUFNTSCBkYXRhXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gZGF0YSAtIHRoZSBjb25jYXRlbmF0ZWQgbGlzdCBvZiBQU1NIIGJveGVzIGFzIHByb3ZpZGVkIGJ5XHJcbiAgICAgKiBDRE0gYXMgaW5pdGlhbGl6YXRpb24gZGF0YSB3aGVuIENvbW1vbkVuY3J5cHRpb24gY29udGVudCBpcyBkZXRlY3RlZFxyXG4gICAgICogQHJldHVybnMge09iamVjdHxBcnJheX0gYW4gb2JqZWN0IHRoYXQgaGFzIGEgcHJvcGVydHkgbmFtZWQgYWNjb3JkaW5nIHRvIGVhY2ggb2ZcclxuICAgICAqIHRoZSBkZXRlY3RlZCBrZXkgc3lzdGVtIFVVSURzIChlLmcuIDAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDApXHJcbiAgICAgKiBhbmQgYSBBcnJheUJ1ZmZlciAodGhlIGVudGlyZSBQU1NIIGJveCkgYXMgdGhlIHByb3BlcnR5IHZhbHVlXHJcbiAgICAgKi9cclxuICAgIC8vIHlvdSBjYW4gcmVmZXIgaHR0cHM6Ly93d3cudzMub3JnL1RSL2VtZS1pbml0ZGF0YS1jZW5jLyBmb3IgbW9yZSBkZXRhaWwuXHJcbiAgICBzdGF0aWMgcGFyc2VQU1NITGlzdChkYXRhKSB7XHJcblxyXG4gICAgICAgIGlmIChkYXRhID09PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcblxyXG4gICAgICAgIHZhciBkdiA9IG5ldyBEYXRhVmlldyhkYXRhKTtcclxuICAgICAgICB2YXIgZG9uZSA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBwc3NoID0ge307XHJcblxyXG4gICAgICAgIC8vIFRPRE86IE5lZWQgdG8gY2hlY2sgZXZlcnkgZGF0YSByZWFkIGZvciBlbmQgb2YgYnVmZmVyXHJcbiAgICAgICAgdmFyIGJ5dGVDdXJzb3IgPSAwO1xyXG4gICAgICAgIHdoaWxlICghZG9uZSkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHNpemUsXHJcbiAgICAgICAgICAgICAgICBuZXh0Qm94LFxyXG4gICAgICAgICAgICAgICAgdmVyc2lvbixcclxuICAgICAgICAgICAgICAgIHN5c3RlbUlELFxyXG4gICAgICAgICAgICAgICAgcHNzaERhdGFTaXplO1xyXG4gICAgICAgICAgICB2YXIgYm94U3RhcnQgPSBieXRlQ3Vyc29yO1xyXG5cclxuICAgICAgICAgICAgaWYgKGJ5dGVDdXJzb3IgPj0gZHYuYnVmZmVyLmJ5dGVMZW5ndGgpXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIC8qIEJveCBzaXplICovXHJcbiAgICAgICAgICAgIHNpemUgPSBkdi5nZXRVaW50MzIoYnl0ZUN1cnNvcik7XHJcbiAgICAgICAgICAgIG5leHRCb3ggPSBieXRlQ3Vyc29yICsgc2l6ZTtcclxuICAgICAgICAgICAgYnl0ZUN1cnNvciArPSA0O1xyXG5cclxuICAgICAgICAgICAgLyogVmVyaWZ5IFBTU0ggKi9cclxuICAgICAgICAgICAgaWYgKGR2LmdldFVpbnQzMihieXRlQ3Vyc29yKSAhPT0gMHg3MDczNzM2OCkge1xyXG4gICAgICAgICAgICAgICAgYnl0ZUN1cnNvciA9IG5leHRCb3g7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBieXRlQ3Vyc29yICs9IDQ7XHJcblxyXG4gICAgICAgICAgICAvKiBWZXJzaW9uIG11c3QgYmUgMCBvciAxICovXHJcbiAgICAgICAgICAgIHZlcnNpb24gPSBkdi5nZXRVaW50OChieXRlQ3Vyc29yKTtcclxuICAgICAgICAgICAgaWYgKHZlcnNpb24gIT09IDAgJiYgdmVyc2lvbiAhPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgYnl0ZUN1cnNvciA9IG5leHRCb3g7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBieXRlQ3Vyc29yKys7XHJcblxyXG4gICAgICAgICAgICBieXRlQ3Vyc29yICs9IDM7IC8qIHNraXAgZmxhZ3MgKi9cclxuXHJcbiAgICAgICAgICAgIC8vIDE2LWJ5dGUgVVVJRC9TeXN0ZW1JRFxyXG4gICAgICAgICAgICBzeXN0ZW1JRCA9ICcnO1xyXG4gICAgICAgICAgICB2YXIgaSwgdmFsO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YWwgPSBkdi5nZXRVaW50OChieXRlQ3Vyc29yICsgaSkudG9TdHJpbmcoMTYpO1xyXG4gICAgICAgICAgICAgICAgc3lzdGVtSUQgKz0gKHZhbC5sZW5ndGggPT09IDEpID8gJzAnICsgdmFsIDogdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJ5dGVDdXJzb3IgKz0gNDtcclxuICAgICAgICAgICAgc3lzdGVtSUQgKz0gJy0nO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YWwgPSBkdi5nZXRVaW50OChieXRlQ3Vyc29yICsgaSkudG9TdHJpbmcoMTYpO1xyXG4gICAgICAgICAgICAgICAgc3lzdGVtSUQgKz0gKHZhbC5sZW5ndGggPT09IDEpID8gJzAnICsgdmFsIDogdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJ5dGVDdXJzb3IgKz0gMjtcclxuICAgICAgICAgICAgc3lzdGVtSUQgKz0gJy0nO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YWwgPSBkdi5nZXRVaW50OChieXRlQ3Vyc29yICsgaSkudG9TdHJpbmcoMTYpO1xyXG4gICAgICAgICAgICAgICAgc3lzdGVtSUQgKz0gKHZhbC5sZW5ndGggPT09IDEpID8gJzAnICsgdmFsIDogdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJ5dGVDdXJzb3IgKz0gMjtcclxuICAgICAgICAgICAgc3lzdGVtSUQgKz0gJy0nO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YWwgPSBkdi5nZXRVaW50OChieXRlQ3Vyc29yICsgaSkudG9TdHJpbmcoMTYpO1xyXG4gICAgICAgICAgICAgICAgc3lzdGVtSUQgKz0gKHZhbC5sZW5ndGggPT09IDEpID8gJzAnICsgdmFsIDogdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJ5dGVDdXJzb3IgKz0gMjtcclxuICAgICAgICAgICAgc3lzdGVtSUQgKz0gJy0nO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YWwgPSBkdi5nZXRVaW50OChieXRlQ3Vyc29yICsgaSkudG9TdHJpbmcoMTYpO1xyXG4gICAgICAgICAgICAgICAgc3lzdGVtSUQgKz0gKHZhbC5sZW5ndGggPT09IDEpID8gJzAnICsgdmFsIDogdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJ5dGVDdXJzb3IgKz0gNjtcclxuXHJcbiAgICAgICAgICAgIHN5c3RlbUlEID0gc3lzdGVtSUQudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgICAgIC8qIFBTU0ggRGF0YSBTaXplICovXHJcbiAgICAgICAgICAgIHBzc2hEYXRhU2l6ZSA9IGR2LmdldFVpbnQzMihieXRlQ3Vyc29yKTtcclxuICAgICAgICAgICAgYnl0ZUN1cnNvciArPSA0O1xyXG5cclxuICAgICAgICAgICAgLyogUFNTSCBEYXRhICovXHJcbiAgICAgICAgICAgIHBzc2hbc3lzdGVtSURdID0gZHYuYnVmZmVyLnNsaWNlKGJveFN0YXJ0LCBuZXh0Qm94KTtcclxuICAgICAgICAgICAgYnl0ZUN1cnNvciA9IG5leHRCb3g7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcHNzaDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29tbW9uRW5jcnlwdGlvbjtcclxuIiwiY29uc3QgS1NVdGlscyA9IHtcclxuICAgIEdldEtTU3RyaW5nOiBmdW5jdGlvbihkcm1UeXBlKSB7XHJcbiAgICAgICAgaWYgKGRybVR5cGUgPT09ICd3aWRldmluZScpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdjb20ud2lkZXZpbmUuYWxwaGEnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZHJtVHlwZSA9PT0gJ3BsYXlyZWFkeScpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkcm1UeXBlID09PSAnY2hyb21lY2FzdC5wbGF5cmVhZHknKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnY29tLmNocm9tZWNhc3QucGxheXJlYWR5JztcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIEdldEtTVVVJRDogZnVuY3Rpb24oZHJtVHlwZSkge1xyXG4gICAgICAgIGlmIChkcm1UeXBlID09PSAnd2lkZXZpbmUnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnZWRlZjhiYTktNzlkNi00YWNlLWEzYzgtMjdkY2Q1MWQyMWVkJztcclxuICAgICAgICB9IGVsc2UgaWYgKGRybVR5cGUgPT09ICdwbGF5cmVhZHknKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnOWEwNGYwNzktOTg0MC00Mjg2LWFiOTItZTY1YmUwODg1Zjk1JztcclxuICAgICAgICB9IGVsc2UgaWYgKGRybVR5cGUgPT09ICdjaHJvbWVjYXN0LnBsYXlyZWFkeScpIHtcclxuICAgICAgICAgICAgcmV0dXJuICc5YTA0ZjA3OS05ODQwLTQyODYtYWI5Mi1lNjViZTA4ODVmOTUnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEtTVXRpbHM7IiwiLyoqXHJcbiAqIFRoZSBjb3B5cmlnaHQgaW4gdGhpcyBzb2Z0d2FyZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsXHJcbiAqIGluY2x1ZGVkIGJlbG93LiBUaGlzIHNvZnR3YXJlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZCBjb250cmlidXRvclxyXG4gKiByaWdodHMsIGluY2x1ZGluZyBwYXRlbnQgcmlnaHRzLCBhbmQgbm8gc3VjaCByaWdodHMgYXJlIGdyYW50ZWQgdW5kZXIgdGhpcyBsaWNlbnNlLlxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMsIERhc2ggSW5kdXN0cnkgRm9ydW0uXHJcbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sXHJcbiAqIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcclxuICogICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXHJcbiAqICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cclxuICogICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxyXG4gKiAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3JcclxuICogIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXHJcbiAqICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgRGFzaCBJbmR1c3RyeSBGb3J1bSBub3IgdGhlIG5hbWVzIG9mIGl0c1xyXG4gKiAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZVxyXG4gKiAgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXHJcbiAqXHJcbiAqICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIEFTIElTIEFORCBBTllcclxuICogIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcclxuICogIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC5cclxuICogIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsXHJcbiAqICBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUXHJcbiAqICBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXHJcbiAqICBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcclxuICogIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcclxuICogIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFXHJcbiAqICBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cclxuICovXHJcblxyXG4vKipcclxuICogQGNsYXNzZGVzYyBSZXByZXNlbnRzIGEgc2V0IG9mIGNvbmZpZ3VyYXRpb25zIHRoYXQgZGVzY3JpYmUgdGhlIGNhcGFiaWxpdGllcyBkZXNpcmVkIGZvclxyXG4gKiAgc3VwcG9ydCBieSBhIGdpdmVuIENETVxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5jbGFzcyBLZXlTeXN0ZW1Db25maWd1cmF0aW9uIHtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHtBcnJheS48TWVkaWFDYXBhYmlsaXR5Pn0gYXVkaW9DYXBhYmlsaXRpZXMgYXJyYXkgb2ZcclxuICAgICAqIGRlc2lyZWQgYXVkaW8gY2FwYWJpbGl0aWVzLiAgSGlnaGVyIHByZWZlcmVuY2UgY2FwYWJpbGl0aWVzIHNob3VsZCBiZSBwbGFjZWQgZWFybGllclxyXG4gICAgICogaW4gdGhlIGFycmF5LlxyXG4gICAgICogQHBhcmFtIHtBcnJheS48TWVkaWFDYXBhYmlsaXR5Pn0gdmlkZW9DYXBhYmlsaXRpZXMgYXJyYXkgb2ZcclxuICAgICAqIGRlc2lyZWQgdmlkZW8gY2FwYWJpbGl0aWVzLiAgSGlnaGVyIHByZWZlcmVuY2UgY2FwYWJpbGl0aWVzIHNob3VsZCBiZSBwbGFjZWQgZWFybGllclxyXG4gICAgICogaW4gdGhlIGFycmF5LlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRpc3RpbmN0aXZlSWRlbnRpZmllciBkZXNpcmVkIHVzZSBvZiBkaXN0aW5jdGl2ZSBpZGVudGlmaWVycy5cclxuICAgICAqIE9uZSBvZiBcInJlcXVpcmVkXCIsIFwib3B0aW9uYWxcIiwgb3IgXCJub3QtYWxsb3dlZFwiXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGVyc2lzdGVudFN0YXRlIGRlc2lyZWQgc3VwcG9ydCBmb3IgcGVyc2lzdGVudCBzdG9yYWdlIG9mXHJcbiAgICAgKiBrZXkgc3lzdGVtcy4gIE9uZSBvZiBcInJlcXVpcmVkXCIsIFwib3B0aW9uYWxcIiwgb3IgXCJub3QtYWxsb3dlZFwiXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5LjxzdHJpbmc+fSBzZXNzaW9uVHlwZXMgTGlzdCBvZiBzZXNzaW9uIHR5cGVzIHRoYXQgbXVzdFxyXG4gICAgICogYmUgc3VwcG9ydGVkIGJ5IHRoZSBrZXkgc3lzdGVtXHJcbiAgICAgKiBAY2xhc3NcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoYXVkaW9DYXBhYmlsaXRpZXMsIHZpZGVvQ2FwYWJpbGl0aWVzLCBkaXN0aW5jdGl2ZUlkZW50aWZpZXIsIHBlcnNpc3RlbnRTdGF0ZSwgc2Vzc2lvblR5cGVzKSB7XHJcbiAgICAgICAgLy8gbmV3XHJcbiAgICAgICAgLy90aGlzLmluaXREYXRhVHlwZXMgPSBbICdrZXlpZHMnIF07XHJcbiAgICAgICAgdGhpcy5pbml0RGF0YVR5cGVzID0gWyAnY2VuYycgXTtcclxuXHJcbiAgICAgICAgaWYgKGF1ZGlvQ2FwYWJpbGl0aWVzICYmIGF1ZGlvQ2FwYWJpbGl0aWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvQ2FwYWJpbGl0aWVzID0gYXVkaW9DYXBhYmlsaXRpZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh2aWRlb0NhcGFiaWxpdGllcyAmJiB2aWRlb0NhcGFiaWxpdGllcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy52aWRlb0NhcGFiaWxpdGllcyA9IHZpZGVvQ2FwYWJpbGl0aWVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRpc3RpbmN0aXZlSWRlbnRpZmllciA9IGRpc3RpbmN0aXZlSWRlbnRpZmllcjtcclxuICAgICAgICB0aGlzLnBlcnNpc3RlbnRTdGF0ZSA9IHBlcnNpc3RlbnRTdGF0ZTtcclxuICAgICAgICB0aGlzLnNlc3Npb25UeXBlcyA9IHNlc3Npb25UeXBlcztcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgS2V5U3lzdGVtQ29uZmlndXJhdGlvbjtcclxuIiwiLyoqXHJcbiAqIFRoZSBjb3B5cmlnaHQgaW4gdGhpcyBzb2Z0d2FyZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsXHJcbiAqIGluY2x1ZGVkIGJlbG93LiBUaGlzIHNvZnR3YXJlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZCBjb250cmlidXRvclxyXG4gKiByaWdodHMsIGluY2x1ZGluZyBwYXRlbnQgcmlnaHRzLCBhbmQgbm8gc3VjaCByaWdodHMgYXJlIGdyYW50ZWQgdW5kZXIgdGhpcyBsaWNlbnNlLlxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMsIERhc2ggSW5kdXN0cnkgRm9ydW0uXHJcbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sXHJcbiAqIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcclxuICogICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXHJcbiAqICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cclxuICogICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxyXG4gKiAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3JcclxuICogIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXHJcbiAqICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgRGFzaCBJbmR1c3RyeSBGb3J1bSBub3IgdGhlIG5hbWVzIG9mIGl0c1xyXG4gKiAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZVxyXG4gKiAgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXHJcbiAqXHJcbiAqICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIEFTIElTIEFORCBBTllcclxuICogIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcclxuICogIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC5cclxuICogIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsXHJcbiAqICBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUXHJcbiAqICBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXHJcbiAqICBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcclxuICogIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcclxuICogIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFXHJcbiAqICBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cclxuICovXHJcbi8qKlxyXG4gKiBAY2xhc3NkZXNjIEEgbWVkaWEgY2FwYWJpbGl0eVxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5jbGFzcyBNZWRpYUNhcGFiaWxpdHkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFR5cGUgTUlNRSB0eXBlIGFuZCBjb2RlY3MgKFJGQzYzODYpXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcm9idXN0bmVzc1xyXG4gICAgICogQGNsYXNzXHJcbiAgICAgKiBAaWdub3JlXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGNvbnRlbnRUeXBlLCByb2J1c3RuZXNzKSB7XHJcbiAgICAgICAgdGhpcy5jb250ZW50VHlwZSA9IGNvbnRlbnRUeXBlO1xyXG4gICAgICAgIHRoaXMucm9idXN0bmVzcyA9IHJvYnVzdG5lc3M7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1lZGlhQ2FwYWJpbGl0eTtcclxuIiwiLyoqXHJcbiAqIFRoZSBjb3B5cmlnaHQgaW4gdGhpcyBzb2Z0d2FyZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsXHJcbiAqIGluY2x1ZGVkIGJlbG93LiBUaGlzIHNvZnR3YXJlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZCBjb250cmlidXRvclxyXG4gKiByaWdodHMsIGluY2x1ZGluZyBwYXRlbnQgcmlnaHRzLCBhbmQgbm8gc3VjaCByaWdodHMgYXJlIGdyYW50ZWQgdW5kZXIgdGhpcyBsaWNlbnNlLlxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMsIERhc2ggSW5kdXN0cnkgRm9ydW0uXHJcbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sXHJcbiAqIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcclxuICogICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXHJcbiAqICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cclxuICogICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxyXG4gKiAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3JcclxuICogIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXHJcbiAqICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgRGFzaCBJbmR1c3RyeSBGb3J1bSBub3IgdGhlIG5hbWVzIG9mIGl0c1xyXG4gKiAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZVxyXG4gKiAgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXHJcbiAqXHJcbiAqICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIEFTIElTIEFORCBBTllcclxuICogIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcclxuICogIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC5cclxuICogIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsXHJcbiAqICBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUXHJcbiAqICBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXHJcbiAqICBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcclxuICogIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcclxuICogIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFXHJcbiAqICBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cclxuICovXHJcblxyXG5pbXBvcnQgSXNvRmlsZSBmcm9tICcuL0lzb0ZpbGUnO1xyXG5pbXBvcnQgRmFjdG9yeU1ha2VyIGZyb20gJy4uL2NvcmUvRmFjdG9yeU1ha2VyJztcclxuaW1wb3J0IElTT0JveGVyIGZyb20gJ2NvZGVtLWlzb2JveGVyJztcclxuXHJcbmZ1bmN0aW9uIEJveFBhcnNlcigvKmNvbmZpZyovKSB7XHJcblxyXG4gICAgbGV0IGluc3RhbmNlO1xyXG4gICAgbGV0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBkYXRhXHJcbiAgICAgKiBAcmV0dXJucyB7SXNvRmlsZXxudWxsfVxyXG4gICAgICogQG1lbWJlcm9mIEJveFBhcnNlciNcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gcGFyc2UoZGF0YSkge1xyXG4gICAgICAgIGlmICghZGF0YSkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIGlmIChkYXRhLmZpbGVTdGFydCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGRhdGEuZmlsZVN0YXJ0ID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBwYXJzZWRGaWxlID0gSVNPQm94ZXIucGFyc2VCdWZmZXIoZGF0YSk7XHJcbiAgICAgICAgdmFyIGRhc2hJc29GaWxlID0gSXNvRmlsZShjb250ZXh0KS5jcmVhdGUoKTtcclxuXHJcbiAgICAgICAgZGFzaElzb0ZpbGUuc2V0RGF0YShwYXJzZWRGaWxlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGRhc2hJc29GaWxlO1xyXG4gICAgfVxyXG5cclxuICAgIGluc3RhbmNlID0ge1xyXG4gICAgICAgIHBhcnNlOiBwYXJzZVxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbn1cclxuQm94UGFyc2VyLl9faDVwbGF5ZXJfZmFjdG9yeV9uYW1lID0gJ0JveFBhcnNlcic7XHJcbmV4cG9ydCBkZWZhdWx0IEZhY3RvcnlNYWtlci5nZXRTaW5nbGV0b25GYWN0b3J5KEJveFBhcnNlcik7XHJcbiIsIi8qKlxyXG4gKiBUaGUgY29weXJpZ2h0IGluIHRoaXMgc29mdHdhcmUgaXMgYmVpbmcgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIEJTRCBMaWNlbnNlLFxyXG4gKiBpbmNsdWRlZCBiZWxvdy4gVGhpcyBzb2Z0d2FyZSBtYXkgYmUgc3ViamVjdCB0byBvdGhlciB0aGlyZCBwYXJ0eSBhbmQgY29udHJpYnV0b3JcclxuICogcmlnaHRzLCBpbmNsdWRpbmcgcGF0ZW50IHJpZ2h0cywgYW5kIG5vIHN1Y2ggcmlnaHRzIGFyZSBncmFudGVkIHVuZGVyIHRoaXMgbGljZW5zZS5cclxuICpcclxuICogQ29weXJpZ2h0IChjKSAyMDEzLCBEYXNoIEluZHVzdHJ5IEZvcnVtLlxyXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLFxyXG4gKiBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XHJcbiAqICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpc1xyXG4gKiAgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXHJcbiAqICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcclxuICogIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yXHJcbiAqICBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxyXG4gKiAgKiBOZWl0aGVyIHRoZSBuYW1lIG9mIERhc2ggSW5kdXN0cnkgRm9ydW0gbm9yIHRoZSBuYW1lcyBvZiBpdHNcclxuICogIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmVcclxuICogIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxyXG4gKlxyXG4gKiAgVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBBUyBJUyBBTkQgQU5ZXHJcbiAqICBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEXHJcbiAqICBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuXHJcbiAqICBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULFxyXG4gKiAgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVFxyXG4gKiAgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxyXG4gKiAgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksXHJcbiAqICBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpXHJcbiAqICBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRVxyXG4gKiAgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXHJcbiAqL1xyXG4vKipcclxuICogQGNsYXNzXHJcbiAqIEBpZ25vcmVcclxuICovXHJcbmNsYXNzIElzb0JveCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLm9mZnNldCA9IE5hTjtcclxuICAgICAgICB0aGlzLnR5cGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IE5hTjtcclxuICAgICAgICB0aGlzLmlzQ29tcGxldGUgPSB0cnVlO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBJc29Cb3g7IiwiLyoqXHJcbiAqIFRoZSBjb3B5cmlnaHQgaW4gdGhpcyBzb2Z0d2FyZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsXHJcbiAqIGluY2x1ZGVkIGJlbG93LiBUaGlzIHNvZnR3YXJlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZCBjb250cmlidXRvclxyXG4gKiByaWdodHMsIGluY2x1ZGluZyBwYXRlbnQgcmlnaHRzLCBhbmQgbm8gc3VjaCByaWdodHMgYXJlIGdyYW50ZWQgdW5kZXIgdGhpcyBsaWNlbnNlLlxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMsIERhc2ggSW5kdXN0cnkgRm9ydW0uXHJcbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sXHJcbiAqIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcclxuICogICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXHJcbiAqICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cclxuICogICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxyXG4gKiAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3JcclxuICogIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXHJcbiAqICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgRGFzaCBJbmR1c3RyeSBGb3J1bSBub3IgdGhlIG5hbWVzIG9mIGl0c1xyXG4gKiAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZVxyXG4gKiAgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXHJcbiAqXHJcbiAqICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIEFTIElTIEFORCBBTllcclxuICogIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcclxuICogIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC5cclxuICogIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsXHJcbiAqICBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUXHJcbiAqICBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXHJcbiAqICBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcclxuICogIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcclxuICogIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFXHJcbiAqICBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cclxuICovXHJcblxyXG5pbXBvcnQgSXNvQm94IGZyb20gJy4vSXNvQm94JztcclxuaW1wb3J0IEZhY3RvcnlNYWtlciBmcm9tICcuLi9jb3JlL0ZhY3RvcnlNYWtlcic7XHJcblxyXG5mdW5jdGlvbiBJc29GaWxlKCkge1xyXG5cclxuICAgIGxldCBpbnN0YW5jZSxcclxuICAgICAgICBwYXJzZWRJc29GaWxlLFxyXG4gICAgICAgIGNvbW1vblByb3BzLFxyXG4gICAgICAgIHNpZHhQcm9wcyxcclxuICAgICAgICBzaWR4UmVmUHJvcHMsXHJcbiAgICAgICAgZW1zZ1Byb3BzLFxyXG4gICAgICAgIG1kaGRQcm9wcyxcclxuICAgICAgICBtZmhkUHJvcHMsXHJcbiAgICAgICAgdGZoZFByb3BzLFxyXG4gICAgICAgIHRmZHRQcm9wcyxcclxuICAgICAgICB0cnVuUHJvcHMsXHJcbiAgICAgICAgdHJ1blNhbXBsZVByb3BzO1xyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxyXG4gICAgKiBAcmV0dXJucyB7SXNvQm94fG51bGx9XHJcbiAgICAqIEBtZW1iZXJvZiBJc29GaWxlI1xyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldEJveCh0eXBlKSB7XHJcbiAgICAgICAgaWYgKCF0eXBlIHx8ICFwYXJzZWRJc29GaWxlIHx8ICFwYXJzZWRJc29GaWxlLmJveGVzIHx8IChwYXJzZWRJc29GaWxlLmJveGVzLmxlbmd0aCA9PT0gMCkpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICByZXR1cm4gY29udmVydFRvRGFzaElzb0JveChwYXJzZWRJc29GaWxlLmZldGNoKHR5cGUpKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcclxuICAgICogQHJldHVybnMge0FycmF5fSBhcnJheSBvZiB7QGxpbmsgSXNvQm94fVxyXG4gICAgKiBAbWVtYmVyb2YgSXNvRmlsZSNcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRCb3hlcyh0eXBlKSB7XHJcbiAgICAgICAgdmFyIGJveERhdGEgPSBwYXJzZWRJc29GaWxlLmZldGNoQWxsKHR5cGUpO1xyXG4gICAgICAgIHZhciBib3hlcyA9IFtdO1xyXG4gICAgICAgIHZhciBib3g7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsbiA9IGJveERhdGEubGVuZ3RoOyBpIDwgbG47IGkrKykge1xyXG4gICAgICAgICAgICBib3ggPSBjb252ZXJ0VG9EYXNoSXNvQm94KGJveERhdGFbaV0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKGJveCkge1xyXG4gICAgICAgICAgICAgICAgYm94ZXMucHVzaChib3gpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYm94ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxyXG4gICAgKiBAbWVtYmVyb2YgSXNvRmlsZSNcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBzZXREYXRhKHZhbHVlKSB7XHJcbiAgICAgICAgcGFyc2VkSXNvRmlsZSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBAcmV0dXJucyB7SXNvQm94fG51bGx9XHJcbiAgICAqIEBtZW1iZXJvZiBJc29GaWxlI1xyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldExhc3RCb3goKSB7XHJcbiAgICAgICAgaWYgKCFwYXJzZWRJc29GaWxlIHx8ICFwYXJzZWRJc29GaWxlLmJveGVzIHx8ICFwYXJzZWRJc29GaWxlLmJveGVzLmxlbmd0aCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIHZhciB0eXBlID0gcGFyc2VkSXNvRmlsZS5ib3hlc1twYXJzZWRJc29GaWxlLmJveGVzLmxlbmd0aCAtIDFdLnR5cGU7XHJcbiAgICAgICAgdmFyIGJveGVzID0gZ2V0Qm94ZXModHlwZSk7XHJcblxyXG4gICAgICAgIHJldHVybiBib3hlc1tib3hlcy5sZW5ndGggLSAxXTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQHJldHVybnMge251bWJlcn1cclxuICAgICogQG1lbWJlcm9mIElzb0ZpbGUjXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0T2Zmc2V0KCkge1xyXG4gICAgICAgIHJldHVybiBwYXJzZWRJc29GaWxlLl9jdXJzb3Iub2Zmc2V0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldHVwKCkge1xyXG4gICAgICAgIGNvbW1vblByb3BzID0ge1xyXG4gICAgICAgICAgICBvZmZzZXQ6ICdfb2Zmc2V0JyxcclxuICAgICAgICAgICAgc2l6ZTogJ3NpemUnLFxyXG4gICAgICAgICAgICB0eXBlOiAndHlwZSdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzaWR4UHJvcHMgPSB7XHJcbiAgICAgICAgICAgIHJlZmVyZW5jZXM6ICdyZWZlcmVuY2VzJyxcclxuICAgICAgICAgICAgdGltZXNjYWxlOiAndGltZXNjYWxlJyxcclxuICAgICAgICAgICAgZWFybGllc3RfcHJlc2VudGF0aW9uX3RpbWU6ICdlYXJsaWVzdF9wcmVzZW50YXRpb25fdGltZScsXHJcbiAgICAgICAgICAgIGZpcnN0X29mZnNldDogJ2ZpcnN0X29mZnNldCdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzaWR4UmVmUHJvcHMgPSB7XHJcbiAgICAgICAgICAgIHJlZmVyZW5jZV90eXBlOiAncmVmZXJlbmNlX3R5cGUnLFxyXG4gICAgICAgICAgICByZWZlcmVuY2VkX3NpemU6ICdyZWZlcmVuY2VkX3NpemUnLFxyXG4gICAgICAgICAgICBzdWJzZWdtZW50X2R1cmF0aW9uOiAnc3Vic2VnbWVudF9kdXJhdGlvbidcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBlbXNnUHJvcHMgPSB7XHJcbiAgICAgICAgICAgIGlkOiAnaWQnLFxyXG4gICAgICAgICAgICB2YWx1ZTogJ3ZhbHVlJyxcclxuICAgICAgICAgICAgdGltZXNjYWxlOiAndGltZXNjYWxlJyxcclxuICAgICAgICAgICAgc2NoZW1lX2lkX3VyaTogJ3NjaGVtZV9pZF91cmknLFxyXG4gICAgICAgICAgICBwcmVzZW50YXRpb25fdGltZV9kZWx0YTogJ3ByZXNlbnRhdGlvbl90aW1lX2RlbHRhJyxcclxuICAgICAgICAgICAgZXZlbnRfZHVyYXRpb246ICdldmVudF9kdXJhdGlvbicsXHJcbiAgICAgICAgICAgIG1lc3NhZ2VfZGF0YTogJ21lc3NhZ2VfZGF0YSdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBtZGhkUHJvcHMgPSB7XHJcbiAgICAgICAgICAgIHRpbWVzY2FsZTogJ3RpbWVzY2FsZSdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBtZmhkUHJvcHMgPSB7XHJcbiAgICAgICAgICAgIHNlcXVlbmNlX251bWJlcjogJ3NlcXVlbmNlX251bWJlcidcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0ZmhkUHJvcHMgPSB7XHJcbiAgICAgICAgICAgIGJhc2VfZGF0YV9vZmZzZXQ6ICdiYXNlX2RhdGFfb2Zmc2V0JyxcclxuICAgICAgICAgICAgc2FtcGxlX2Rlc2NyaXB0aW9uX2luZGV4OiAnc2FtcGxlX2Rlc2NyaXB0aW9uX2luZGV4JyxcclxuICAgICAgICAgICAgZGVmYXVsdF9zYW1wbGVfZHVyYXRpb246ICdkZWZhdWx0X3NhbXBsZV9kdXJhdGlvbicsXHJcbiAgICAgICAgICAgIGRlZmF1bHRfc2FtcGxlX3NpemU6ICdkZWZhdWx0X3NhbXBsZV9zaXplJyxcclxuICAgICAgICAgICAgZGVmYXVsdF9zYW1wbGVfZmxhZ3M6ICdkZWZhdWx0X3NhbXBsZV9mbGFncycsXHJcbiAgICAgICAgICAgIGZsYWdzOiAnZmxhZ3MnXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGZkdFByb3BzID0ge1xyXG4gICAgICAgICAgICB2ZXJzaW9uOiAndmVyc2lvbicsXHJcbiAgICAgICAgICAgIGJhc2VNZWRpYURlY29kZVRpbWU6ICdiYXNlTWVkaWFEZWNvZGVUaW1lJyxcclxuICAgICAgICAgICAgZmxhZ3M6ICdmbGFncydcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0cnVuUHJvcHMgPSB7XHJcbiAgICAgICAgICAgIHNhbXBsZV9jb3VudDogJ3NhbXBsZV9jb3VudCcsXHJcbiAgICAgICAgICAgIGZpcnN0X3NhbXBsZV9mbGFnczogJ2ZpcnN0X3NhbXBsZV9mbGFncycsXHJcbiAgICAgICAgICAgIGRhdGFfb2Zmc2V0OiAnZGF0YV9vZmZzZXQnLFxyXG4gICAgICAgICAgICBmbGFnczogJ2ZsYWdzJyxcclxuICAgICAgICAgICAgc2FtcGxlczogJ3NhbXBsZXMnXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdHJ1blNhbXBsZVByb3BzID0ge1xyXG4gICAgICAgICAgICBzYW1wbGVfc2l6ZTogJ3NhbXBsZV9zaXplJyxcclxuICAgICAgICAgICAgc2FtcGxlX2R1cmF0aW9uOiAnc2FtcGxlX2R1cmF0aW9uJyxcclxuICAgICAgICAgICAgc2FtcGxlX2NvbXBvc2l0aW9uX3RpbWVfb2Zmc2V0OiAnc2FtcGxlX2NvbXBvc2l0aW9uX3RpbWVfb2Zmc2V0J1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29weVByb3BzKGZyb20sIHRvLCBwcm9wcykge1xyXG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gcHJvcHMpIHtcclxuICAgICAgICAgICAgdG9bcHJvcF0gPSBmcm9tW3Byb3BzW3Byb3BdXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29udmVydFRvRGFzaElzb0JveChib3hEYXRhKSB7XHJcbiAgICAgICAgaWYgKCFib3hEYXRhKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgdmFyIGJveCA9IG5ldyBJc29Cb3goKTtcclxuICAgICAgICB2YXIgaSxcclxuICAgICAgICAgICAgbG47XHJcblxyXG4gICAgICAgIGNvcHlQcm9wcyhib3hEYXRhLCBib3gsIGNvbW1vblByb3BzKTtcclxuXHJcbiAgICAgICAgaWYgKGJveERhdGEuaGFzT3duUHJvcGVydHkoJ19pbmNvbXBsZXRlJykpIHtcclxuICAgICAgICAgICAgYm94LmlzQ29tcGxldGUgPSAhYm94RGF0YS5faW5jb21wbGV0ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN3aXRjaCAoYm94LnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnc2lkeCc6XHJcbiAgICAgICAgICAgICAgICBjb3B5UHJvcHMoYm94RGF0YSwgYm94LCBzaWR4UHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJveC5yZWZlcmVuY2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMCwgbG4gPSBib3gucmVmZXJlbmNlcy5sZW5ndGg7IGkgPCBsbjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlQcm9wcyhib3hEYXRhLnJlZmVyZW5jZXNbaV0sIGJveC5yZWZlcmVuY2VzW2ldLCBzaWR4UmVmUHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdlbXNnJzpcclxuICAgICAgICAgICAgICAgIGNvcHlQcm9wcyhib3hEYXRhLCBib3gsIGVtc2dQcm9wcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbWRoZCc6XHJcbiAgICAgICAgICAgICAgICBjb3B5UHJvcHMoYm94RGF0YSwgYm94LCBtZGhkUHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ21maGQnOlxyXG4gICAgICAgICAgICAgICAgY29weVByb3BzKGJveERhdGEsIGJveCwgbWZoZFByb3BzKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd0ZmhkJzpcclxuICAgICAgICAgICAgICAgIGNvcHlQcm9wcyhib3hEYXRhLCBib3gsIHRmaGRQcm9wcyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAndGZkdCc6XHJcbiAgICAgICAgICAgICAgICBjb3B5UHJvcHMoYm94RGF0YSwgYm94LCB0ZmR0UHJvcHMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RydW4nOlxyXG4gICAgICAgICAgICAgICAgY29weVByb3BzKGJveERhdGEsIGJveCwgdHJ1blByb3BzKTtcclxuICAgICAgICAgICAgICAgIGlmIChib3guc2FtcGxlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGxuID0gYm94LnNhbXBsZXMubGVuZ3RoOyBpIDwgbG47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3B5UHJvcHMoYm94RGF0YS5zYW1wbGVzW2ldLCBib3guc2FtcGxlc1tpXSwgdHJ1blNhbXBsZVByb3BzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBib3g7XHJcbiAgICB9XHJcblxyXG4gICAgaW5zdGFuY2UgPSB7XHJcbiAgICAgICAgZ2V0Qm94OiBnZXRCb3gsXHJcbiAgICAgICAgZ2V0Qm94ZXM6IGdldEJveGVzLFxyXG4gICAgICAgIHNldERhdGE6IHNldERhdGEsXHJcbiAgICAgICAgZ2V0TGFzdEJveDogZ2V0TGFzdEJveCxcclxuICAgICAgICBnZXRPZmZzZXQ6IGdldE9mZnNldFxyXG4gICAgfTtcclxuXHJcbiAgICBzZXR1cCgpO1xyXG5cclxuICAgIHJldHVybiBpbnN0YW5jZTtcclxufVxyXG5Jc29GaWxlLl9faDVwbGF5ZXJfZmFjdG9yeV9uYW1lID0gJ0lzb0ZpbGUnO1xyXG5leHBvcnQgZGVmYXVsdCBGYWN0b3J5TWFrZXIuZ2V0Q2xhc3NGYWN0b3J5KElzb0ZpbGUpO1xyXG4iLCIvKipcclxuICogVGhlIGNvcHlyaWdodCBpbiB0aGlzIHNvZnR3YXJlIGlzIGJlaW5nIG1hZGUgYXZhaWxhYmxlIHVuZGVyIHRoZSBCU0QgTGljZW5zZSxcclxuICogaW5jbHVkZWQgYmVsb3cuIFRoaXMgc29mdHdhcmUgbWF5IGJlIHN1YmplY3QgdG8gb3RoZXIgdGhpcmQgcGFydHkgYW5kIGNvbnRyaWJ1dG9yXHJcbiAqIHJpZ2h0cywgaW5jbHVkaW5nIHBhdGVudCByaWdodHMsIGFuZCBubyBzdWNoIHJpZ2h0cyBhcmUgZ3JhbnRlZCB1bmRlciB0aGlzIGxpY2Vuc2UuXHJcbiAqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxMywgRGFzaCBJbmR1c3RyeSBGb3J1bS5cclxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICpcclxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbixcclxuICogYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxyXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXNcclxuICogIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxyXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXHJcbiAqICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vclxyXG4gKiAgb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cclxuICogICogTmVpdGhlciB0aGUgbmFtZSBvZiBEYXNoIEluZHVzdHJ5IEZvcnVtIG5vciB0aGUgbmFtZXMgb2YgaXRzXHJcbiAqICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlXHJcbiAqICB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cclxuICpcclxuICogIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgQVMgSVMgQU5EIEFOWVxyXG4gKiAgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxyXG4gKiAgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELlxyXG4gKiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCxcclxuICogIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVRcclxuICogIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcclxuICogIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxyXG4gKiAgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKVxyXG4gKiAgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcclxuICogIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxyXG4gKi9cclxuaW1wb3J0IEZhY3RvcnlNYWtlciBmcm9tICcuLi9jb3JlL0ZhY3RvcnlNYWtlcic7XHJcbmltcG9ydCBYMkpTIGZyb20gJy4veG1sMmpzb24nO1xyXG5cclxuY29uc3QgU0VDT05EU19JTl9IT1VSID0gNjAgKiA2MDsgLy8gRXhwcmVzc2lvbiBvZiBhbiBob3VyIGluIHNlY29uZHNcclxuY29uc3QgU0VDT05EU19JTl9NSU4gPSA2MDsgLy8gRXhwcmVzc2lvbiBvZiBhIG1pbnV0ZSBpbiBzZWNvbmRzXHJcblxyXG5mdW5jdGlvbiBUVE1MUGFyc2VyKCkge1xyXG5cclxuICAgIGxldCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xyXG4gICAgLy9sZXQgY29uc29sZS5sb2cgPSBEZWJ1Zyhjb250ZXh0KS5nZXRJbnN0YW5jZSgpLmNvbnNvbGUubG9nO1xyXG5cclxuICAgIC8qXHJcbiAgICAgKiBUaGlzIFRUTUwgcGFyc2VyIGZvbGxvd3MgXCJFQlUtVFQtRCBTVUJUSVRMSU5HIERJU1RSSUJVVElPTiBGT1JNQVQgLSB0ZWNoMzM4MFwiIHNwZWMgLSBodHRwczovL3RlY2guZWJ1LmNoL2RvY3MvdGVjaC90ZWNoMzM4MC5wZGYuXHJcbiAgICAgKiAqL1xyXG4gICAgbGV0IGluc3RhbmNlLFxyXG4gICAgICAgIHRpbWluZ1JlZ2V4LFxyXG4gICAgICAgIHR0bWwsIC8vIGNvbnRhaW5zIHRoZSB3aG9sZSB0dG1sIGRvY3VtZW50IHJlY2VpdmVkXHJcbiAgICAgICAgdHRtbFN0eWxpbmcsIC8vIGNvbnRhaW5zIHRoZSBzdHlsaW5nIGluZm9ybWF0aW9uIGZyb20gdGhlIGRvY3VtZW50IChmcm9tIGhlYWQgZm9sbG93aW5nIEVCVS1UVC1EKVxyXG4gICAgICAgIHR0bWxMYXlvdXQsIC8vIGNvbnRhaW5zIHRoZSBwb3NpdGlvbmluZyBpbmZvcm1hdGlvbiBmcm9tIHRoZSBkb2N1bWVudCAoZnJvbSBoZWFkIGZvbGxvd2luZyBFQlUtVFQtRClcclxuICAgICAgICBmb250U2l6ZSxcclxuICAgICAgICBsaW5lSGVpZ2h0LFxyXG4gICAgICAgIGxpbmVQYWRkaW5nLFxyXG4gICAgICAgIGRlZmF1bHRMYXlvdXRQcm9wZXJ0aWVzLFxyXG4gICAgICAgIGRlZmF1bHRTdHlsZVByb3BlcnRpZXMsXHJcbiAgICAgICAgZm9udEZhbWlsaWVzLFxyXG4gICAgICAgIHRleHRBbGlnbixcclxuICAgICAgICBtdWx0aVJvd0FsaWduLFxyXG4gICAgICAgIHdyYXBPcHRpb24sXHJcbiAgICAgICAgdW5pY29kZUJpZGksXHJcbiAgICAgICAgZGlzcGxheUFsaWduLFxyXG4gICAgICAgIHdyaXRpbmdNb2RlLFxyXG4gICAgICAgIHZpZGVvTW9kZWw7XHJcblxyXG4gICAgbGV0IGN1ZUNvdW50ZXIgPSAwOyAvLyBVc2VkIHRvIGdpdmUgZXZlcnkgY3VlIGEgdW5pcXVlIElELlxyXG5cclxuICAgIGZ1bmN0aW9uIHNldENvbmZpZyhjb25maWcpIHtcclxuICAgICAgICBpZiAoIWNvbmZpZykgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAoY29uZmlnLnZpZGVvTW9kZWwpIHtcclxuICAgICAgICAgICAgdmlkZW9Nb2RlbCA9IGNvbmZpZy52aWRlb01vZGVsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgYmVnaW4tZW5kIGludGVydmFsIGlmIHByZXNlbnQsIG9yIG51bGwgb3RoZXJ3aXNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50IC0gVFRNTCBlbGVtZW50IHdoaWNoIG1heSBoYXZlIGJlZ2luIGFuZCBlbmQgYXR0cmlidXRlc1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRJbnRlcnZhbChlbGVtZW50KSB7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQuaGFzT3duUHJvcGVydHkoJ2JlZ2luJykgJiYgZWxlbWVudC5oYXNPd25Qcm9wZXJ0eSgnZW5kJykpIHtcclxuICAgICAgICAgICAgbGV0IGJlZ2luVGltZSA9IHBhcnNlVGltaW5ncyhlbGVtZW50LmJlZ2luKTtcclxuICAgICAgICAgICAgbGV0IGVuZFRpbWUgPSBwYXJzZVRpbWluZ3MoZWxlbWVudC5lbmQpO1xyXG4gICAgICAgICAgICByZXR1cm4gW2JlZ2luVGltZSwgZW5kVGltZV07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldEN1ZUlEKCkge1xyXG4gICAgICAgIGxldCBpZCA9ICdjdWVfVFRNTF8nICsgY3VlQ291bnRlcjtcclxuICAgICAgICBjdWVDb3VudGVyKys7XHJcbiAgICAgICAgcmV0dXJuIGlkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICAqIENyZWF0ZSBsaXN0IG9mIGludGVydmFscyB3aGVyZSBzcGFucyBzdGFydCBhbmQgZW5kLiBFbXB0eSBsaXN0IGlmIG5vIHRpbWVzLlxyXG4gICAgKiBDbGlwIHRvIGludGVydmFsIHVzaW5nIHN0YXJ0SW50ZXJ2YWwgYW5kIGVuZEludGVydmFsIGFuZCBhZGQgdGhlc2UgdHdvIHRpbWVzLlxyXG4gICAgKiBBbHNvIHN1cHBvcnQgY2FzZSB3aGVuIHN0YXJ0SW50ZXJ2YWwvZW5kSW50ZXZhbCBub3QgZ2l2ZW4gKHNpZGVsb2FkZWQgZmlsZSlcclxuICAgICpcclxuICAgICogQHBhcmFtIHtBcnJheX0gc3BhbnMgLSBhcnJheSBvZiBzcGFuIGVsZW1lbnRzXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gY3JlYXRlU3BhbkludGVydmFsTGlzdChzcGFucywgc3RhcnRJbnRlcnZhbCwgZW5kSW50ZXJ2YWwpIHtcclxuXHJcbiAgICAgICAgbGV0IHNwYW5DaGFuZ2VUaW1lcyA9IFtdO1xyXG4gICAgICAgIGxldCBzcGFuQ2hhbmdlVGltZVN0cmluZ3MgPSBbXTtcclxuICAgICAgICBsZXQgY3VlX2ludGVydmFscyA9IFtdO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhZGRTcGFuVGltZShzcGFuLCBuYW1lKSB7XHJcbiAgICAgICAgICAgIGlmIChzcGFuLmhhc093blByb3BlcnR5KG5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGltZVN0cmluZyA9IHNwYW5bbmFtZV07XHJcbiAgICAgICAgICAgICAgICBpZiAoc3BhbkNoYW5nZVRpbWVTdHJpbmdzLmluZGV4T2YodGltZVN0cmluZykgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3BhbkNoYW5nZVRpbWVTdHJpbmdzLnB1c2godGltZVN0cmluZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3BhbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHNwYW4gPSBzcGFuc1tpXTtcclxuICAgICAgICAgICAgYWRkU3BhblRpbWUoc3BhbiwgJ2JlZ2luJyk7XHJcbiAgICAgICAgICAgIGFkZFNwYW5UaW1lKHNwYW4sICdlbmQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNwYW5DaGFuZ2VUaW1lU3RyaW5ncy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGN1ZV9pbnRlcnZhbHM7IC8vIE5vIHNwYW4gdGltaW5nIHNvIG5vIGludGVydmFscy5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2Ygc3RhcnRJbnRlcnZhbCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGVuZEludGVydmFsICE9PSAndW5kZWZpbmVkJyApIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzcGFuQ2hhbmdlVGltZVN0cmluZ3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBjaGFuZ2VUaW1lID0gcGFyc2VUaW1pbmdzKHNwYW5DaGFuZ2VUaW1lU3RyaW5nc1tpXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRJbnRlcnZhbCA8IGNoYW5nZVRpbWUgJiYgY2hhbmdlVGltZSA8IGVuZEludGVydmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3BhbkNoYW5nZVRpbWVzLnB1c2goY2hhbmdlVGltZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3BhbkNoYW5nZVRpbWVzLnB1c2goc3RhcnRJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgIHNwYW5DaGFuZ2VUaW1lcy5wdXNoKGVuZEludGVydmFsKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNwYW5DaGFuZ2VUaW1lU3RyaW5ncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgc3BhbkNoYW5nZVRpbWVzLnB1c2gocGFyc2VUaW1pbmdzKHNwYW5DaGFuZ2VUaW1lU3RyaW5nc1tpXSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNwYW5DaGFuZ2VUaW1lcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhIC0gYjt9KTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNwYW5DaGFuZ2VUaW1lcy5sZW5ndGggLSAxOyBpKyspIHtcclxuICAgICAgICAgICAgY3VlX2ludGVydmFscy5wdXNoKFtzcGFuQ2hhbmdlVGltZXNbaV0sIHNwYW5DaGFuZ2VUaW1lc1tpICsgMV1dKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGN1ZV9pbnRlcnZhbHM7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGNsaXBTdGFydFRpbWUoc3RhcnRUaW1lLCBpbnRlcnZhbFN0YXJ0KSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBzdGFydEludGVydmFsICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBpZiAoc3RhcnRUaW1lIDwgaW50ZXJ2YWxTdGFydCkge1xyXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lID0gaW50ZXJ2YWxTdGFydDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RhcnRUaW1lO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBjbGlwRW5kVGltZShlbmRUaW1lLCBpbnRlcnZhbEVuZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgaW50ZXJ2YWxFbmQgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIGlmIChlbmRUaW1lID4gaW50ZXJ2YWxFbmQpIHtcclxuICAgICAgICAgICAgICAgIGVuZFRpbWUgPSBpbnRlcnZhbEVuZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZW5kVGltZTtcclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgICogR2V0IGludGVydmFsIGZyb20gZW50aXR5IHRoYXQgaGFzIGJlZ2luIGFuZCBlbmQgcHJvcGVydGllcy5cclxuICAgICAqIElmIGludGVydmFsU3RhcnQgYW5kIGludGVydmFsRW5kIGRlZmluZWQsIHVzZSB0aGVtIHRvIGNsaXAgdGhlIGludGVydmFsLlxyXG4gICAgICogUmV0dXJuIG51bGwgaWYgbm8gb3ZlcmxhcCB3aXRoIGludGVydmFsXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldENsaXBwZWRJbnRlcnZhbChlbnRpdHksIGludGVydmFsU3RhcnQsIGludGVydmFsRW5kKSB7XHJcbiAgICAgICAgbGV0IHN0YXJ0VGltZSA9IHBhcnNlVGltaW5ncyhlbnRpdHkuYmVnaW4pO1xyXG4gICAgICAgIGxldCBlbmRUaW1lID0gcGFyc2VUaW1pbmdzKGVudGl0eS5lbmQpO1xyXG4gICAgICAgIHN0YXJ0VGltZSA9IGNsaXBTdGFydFRpbWUoc3RhcnRUaW1lLCBpbnRlcnZhbFN0YXJ0KTtcclxuICAgICAgICBlbmRUaW1lID0gY2xpcEVuZFRpbWUoZW5kVGltZSwgaW50ZXJ2YWxFbmQpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgaW50ZXJ2YWxTdGFydCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGludGVydmFsRW5kICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBpZiAoZW5kVGltZSA8IGludGVydmFsU3RhcnQgfHwgc3RhcnRUaW1lID4gaW50ZXJ2YWxFbmQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUVE1MOiBDdWUgJyArIHN0YXJ0VGltZSArICctJyArIGVuZFRpbWUgKyAnIG91dHNpZGUgaW50ZXJ2YWwgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbFN0YXJ0ICsgJy0nICsgaW50ZXJ2YWxFbmQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFtzdGFydFRpbWUsIGVuZFRpbWVdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBDaGVjayBpZiBlbnRpdHkgdGltaW5nIGhhcyBzb21lIG92ZXJsYXAgd2l0aCBpbnRlcnZhbFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBpbkludGVydmFsT3JOb1RpbWluZyhlbnRpdHksIGludGVydmFsKSB7XHJcbiAgICAgICAgbGV0IGluSW50ZXJ2YWwgPSB0cnVlO1xyXG4gICAgICAgIGlmIChlbnRpdHkuaGFzT3duUHJvcGVydHkoJ3NwYW4nKSkge1xyXG4gICAgICAgICAgICBsZXQgZW50aXR5SW50ZXJ2YWwgPSBnZXRJbnRlcnZhbChlbnRpdHkuc3Bhbik7XHJcbiAgICAgICAgICAgIGlmIChlbnRpdHlJbnRlcnZhbCAhPT0gbnVsbCkgeyAvL1RpbWluZ1xyXG4gICAgICAgICAgICAgICAgaW5JbnRlcnZhbCA9IChlbnRpdHlJbnRlcnZhbFswXSA8IGludGVydmFsWzFdICYmIGVudGl0eUludGVydmFsWzFdID4gaW50ZXJ2YWxbMF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbkludGVydmFsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGFyc2UgdGhlIHJhdyBkYXRhIGFuZCBwcm9jZXNzIGl0IHRvIHJldHVybiB0aGUgSFRNTCBlbGVtZW50IHJlcHJlc2VudGluZyB0aGUgY3VlLlxyXG4gICAgICogUmV0dXJuIHRoZSByZWdpb24gdG8gYmUgcHJvY2Vzc2VkIGFuZCBjb250cm9sbGVkIChoaWRlL3Nob3cpIGJ5IHRoZSBjYXB0aW9uIGNvbnRyb2xsZXIuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YSAtIHJhdyBkYXRhIHJlY2VpdmVkIGZyb20gdGhlIFRleHRTb3VyY2VCdWZmZXJcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlcnZhbFN0YXJ0XHJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW50ZXJ2YWxFbmRcclxuICAgICAqXHJcbiAgICAgKi9cclxuXHJcbiAgICBmdW5jdGlvbiBwYXJzZShkYXRhLCBpbnRlcnZhbFN0YXJ0LCBpbnRlcnZhbEVuZCkge1xyXG4gICAgICAgIGxldCB0dCwgLy8gVG9wIGVsZW1lbnRcclxuICAgICAgICAgICAgaGVhZCwgLy8gaGVhZCBpbiB0dFxyXG4gICAgICAgICAgICBib2R5LCAvLyBib2R5IGluIHR0XHJcbiAgICAgICAgICAgIHR0RXh0ZW50LCAvLyBleHRlbnQgYXR0cmlidXRlIG9mIHR0IGVsZW1lbnRcclxuICAgICAgICAgICAgdHlwZTtcclxuXHJcbiAgICAgICAgdmFyIGVycm9yTXNnID0gJyc7XHJcblxyXG4gICAgICAgIGxldCBjb252ZXJ0ZXIgPSBuZXcgWDJKUyhbXSwgJycsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgLy8gUGFyc2UgdGhlIFRUTUwgaW4gYSBKU09OIG9iamVjdC5cclxuICAgICAgICB0dG1sID0gY29udmVydGVyLnhtbF9zdHIyanNvbihkYXRhKTtcclxuXHJcbiAgICAgICAgaWYgKCF0dG1sKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVFRNTCBkb2N1bWVudCBjb3VsZCBub3QgYmUgcGFyc2VkJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodmlkZW9Nb2RlbCAmJiB2aWRlb01vZGVsLmdldFRUTUxSZW5kZXJpbmdEaXYoKSkge1xyXG4gICAgICAgICAgICB0eXBlID0gJ2h0bWwnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgdGhlIGRvY3VtZW50IGFuZCBjb21wYXJlIHRvIHRoZSBzcGVjaWZpY2F0aW9uIChUVE1MIGFuZCBFQlUtVFQtRCkuXHJcbiAgICAgICAgdHQgPSB0dG1sLnR0O1xyXG4gICAgICAgIGlmICghdHQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUVE1MIGRvY3VtZW50IGxhY2tzIHR0IGVsZW1lbnQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgbmFtZXNwYWNlIGlmIHRoZXJlIGlzIG9uZSBkZWZpbmVkIGluIHRoZSBKU09OIG9iamVjdC5cclxuICAgICAgICB2YXIgdHROUyA9IGdldE5hbWVzcGFjZVByZWZpeCh0dCwgJ2h0dHA6Ly93d3cudzMub3JnL25zL3R0bWwnKTtcclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBuYW1lc3BhY2UgYmVmb3JlIGVhY2ggbm9kZSBpZiBpdCBleGlzdHM6XHJcbiAgICAgICAgaWYgKHR0TlMpIHtcclxuICAgICAgICAgICAgcmVtb3ZlTmFtZXNwYWNlUHJlZml4KHR0LCB0dE5TKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHR0RXh0ZW50ID0gdHRbJ3R0czpleHRlbnQnXTsgLy8gU2hvdWxkIGNoZWNrIHRoYXQgdHRzIGlzIHJpZ2h0IG5hbWVzcGFjZS5cclxuXHJcbiAgICAgICAgaGVhZCA9IHR0LmhlYWQ7XHJcbiAgICAgICAgaWYgKCFoZWFkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVFRNTCBkb2N1bWVudCBsYWNrcyBoZWFkIGVsZW1lbnQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGhlYWQubGF5b3V0KSB7XHJcbiAgICAgICAgICAgIHR0bWxMYXlvdXQgPSBoZWFkLmxheW91dC5yZWdpb25fYXNBcnJheTsgLy9NYW5kYXRvcnkgaW4gRUJVLVRULURcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGhlYWQuc3R5bGluZykge1xyXG4gICAgICAgICAgICB0dG1sU3R5bGluZyA9IGhlYWQuc3R5bGluZy5zdHlsZV9hc0FycmF5OyAvLyBNYW5kYXRvcnkgaW4gRUJVLVRULURcclxuICAgICAgICB9XHJcbiAgICAgICAgYm9keSA9IHR0LmJvZHk7XHJcbiAgICAgICAgaWYgKCFib2R5KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVFRNTCBkb2N1bWVudCBsYWNrcyBib2R5IGVsZW1lbnQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEV4dHJhY3QgdGhlIGNlbGxSZXNvbHV0aW9uIGluZm9ybWF0aW9uXHJcbiAgICAgICAgdmFyIGNlbGxSZXNvbHV0aW9uID0gZ2V0Q2VsbFJlc29sdXRpb24oKTtcclxuXHJcbiAgICAgICAgLy8gUmVjb3ZlciB0aGUgdmlkZW8gd2lkdGggYW5kIGhlaWdodCBkaXNwbGF5ZWQgYnkgdGhlIHBsYXllci5cclxuICAgICAgICAvL3ZhciB2aWRlb1dpZHRoID0gdmlkZW9Nb2RlbC5nZXRFbGVtZW50KCkuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgLy92YXIgdmlkZW9IZWlnaHQgPSB2aWRlb01vZGVsLmdldEVsZW1lbnQoKS5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgdmFyIHZpZGVvV2lkdGggPSA2NDA7XHJcbiAgICAgICAgdmFyIHZpZGVvSGVpZ2h0ID0gNDgwO1xyXG4gICAgICAgIGlmICh2aWRlb01vZGVsKSB7XHJcbiAgICAgICAgICAgIHZpZGVvV2lkdGggPSB2aWRlb01vZGVsLmdldEVsZW1lbnQoKS5jbGllbnRXaWR0aDtcclxuICAgICAgICAgICAgdmlkZW9IZWlnaHQgPSB2aWRlb01vZGVsLmdldEVsZW1lbnQoKS5jbGllbnRIZWlnaHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDb21wdXRlIHRoZSBDZWxsUmVzb2x1dGlvbiB1bml0IGluIG9yZGVyIHRvIHByb2Nlc3MgcHJvcGVydGllcyB1c2luZyBzaXppbmcgKGZvbnRTaXplLCBsaW5lUGFkZGluZywgZXRjKS5cclxuICAgICAgICB2YXIgY2VsbFVuaXQgPSBbdmlkZW9XaWR0aCAvIGNlbGxSZXNvbHV0aW9uWzBdLCB2aWRlb0hlaWdodCAvIGNlbGxSZXNvbHV0aW9uWzFdXTtcclxuICAgICAgICBkZWZhdWx0U3R5bGVQcm9wZXJ0aWVzWydmb250LXNpemUnXSA9IGNlbGxVbml0WzFdICsgJ3B4Oyc7XHJcblxyXG4gICAgICAgIHZhciByZWdpb25zID0gW107XHJcbiAgICAgICAgaWYgKHR0bWxMYXlvdXQpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0dG1sTGF5b3V0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICByZWdpb25zLnB1c2gocHJvY2Vzc1JlZ2lvbihKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHR0bWxMYXlvdXRbaV0pKSwgY2VsbFVuaXQpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gR2V0IHRoZSBuYW1lc3BhY2UgcHJlZml4LlxyXG4gICAgICAgIHZhciBuc3R0cCA9IGdldE5hbWVzcGFjZVByZWZpeCh0dG1sLnR0LCAnaHR0cDovL3d3dy53My5vcmcvbnMvdHRtbCNwYXJhbWV0ZXInKTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHRoZSBmcmFtZXJhdGUuXHJcbiAgICAgICAgaWYgKHR0Lmhhc093blByb3BlcnR5KG5zdHRwICsgJzpmcmFtZVJhdGUnKSkge1xyXG4gICAgICAgICAgICB0dC5mcmFtZVJhdGUgPSBwYXJzZUludCh0dFtuc3R0cCArICc6ZnJhbWVSYXRlJ10sIDEwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGNhcHRpb25BcnJheSA9IFtdO1xyXG4gICAgICAgIC8vIEV4dHJhY3QgdGhlIGRpdlxyXG4gICAgICAgIHZhciBkaXZzID0gdHQuYm9keV9hc0FycmF5WzBdLl9fY2hpbGRyZW47XHJcblxyXG4gICAgICAgIC8vIFRpbWluZyBpcyBlaXRoZXIgb24gZGl2LCBwYXJhZ3JhcGggb3Igc3BhbiBsZXZlbC5cclxuXHJcbiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBkaXZzLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICAgIGxldCBkaXYgPSBkaXZzW2tdLmRpdjtcclxuICAgICAgICAgICAgbGV0IGRpdkludGVydmFsID0gbnVsbDsgLy8gVGhpcyBpcyBtYWlubHkgZm9yIGltYWdlIHN1YnRpdGxlcy5cclxuXHJcbiAgICAgICAgICAgIGlmIChudWxsICE9PSAoZGl2SW50ZXJ2YWwgPSBnZXRJbnRlcnZhbChkaXYpKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gVGltaW5nIG9uIGRpdiBsZXZlbCBpcyBub3QgYWxsb3dlZCBieSBFQlUtVFQtRC5cclxuICAgICAgICAgICAgICAgIC8vIFdlIG9ubHkgdXNlIGl0IGZvciBTTVBURS1UVCBpbWFnZSBzdWJ0aXRsZSBwcm9maWxlLlxyXG5cclxuICAgICAgICAgICAgICAgIC8vIExheW91dCBzaG91bGQgYmUgZGVmaW5lZCBieSBhIHJlZ2lvbi4gR2l2ZW4gZWFybHkgdGVzdCBtYXRlcmlhbCwgd2UgYWxzbyBzdXBwb3J0IHRoYXQgaXQgaXMgb25cclxuICAgICAgICAgICAgICAgIC8vIGRpdiBsZXZlbFxyXG4gICAgICAgICAgICAgICAgbGV0IGxheW91dDtcclxuICAgICAgICAgICAgICAgIGlmIChkaXYucmVnaW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlZ2lvbiA9IGZpbmRSZWdpb25Gcm9tSUQodHRtbExheW91dCwgZGl2LnJlZ2lvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5b3V0ID0gZ2V0UmVsYXRpdmVQb3NpdGlvbmluZyhyZWdpb24sIHR0RXh0ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghbGF5b3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF5b3V0ID0gZ2V0UmVsYXRpdmVQb3NpdGlvbmluZyhkaXYsIHR0RXh0ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgaW1hZ2VzID0gdHQuaGVhZC5tZXRhZGF0YS5pbWFnZV9hc0FycmF5OyAvLyBUT0RPLiBBZGQgVVJMIGltYWdlIHNvdXJjZXNcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGl2WydzbXB0ZTpiYWNrZ3JvdW5kSW1hZ2UnXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpbWFnZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgnIycgKyBpbWFnZXNbal1bJ3htbDppZCddKSA9PT0gZGl2WydzbXB0ZTpiYWNrZ3JvdW5kSW1hZ2UnXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FwdGlvbkFycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBkaXZJbnRlcnZhbFswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IGRpdkludGVydmFsWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBnZXRDdWVJRCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6ICdkYXRhOmltYWdlLycgKyBpbWFnZXNbal0uaW1hZ2V0eXBlLnRvTG93ZXJDYXNlKCkgKyAnO2Jhc2U2NCwgJyArIGltYWdlc1tqXS5fX3RleHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ltYWdlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQ6IGxheW91dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gTmV4dCBkaXZcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IHBhcmFncmFwaHMgPSBkaXYucF9hc0FycmF5O1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBjdWVzIGlzIG5vdCBlbXB0eSBvciB1bmRlZmluZWQuXHJcbiAgICAgICAgICAgIGlmIChkaXZJbnRlcnZhbCA9PT0gbnVsbCAmJiAoIXBhcmFncmFwaHMgfHwgcGFyYWdyYXBocy5sZW5ndGggPT09IDApKSB7XHJcbiAgICAgICAgICAgICAgICBlcnJvck1zZyA9ICdUVE1MIGhhcyBkaXYgdGhhdCBjb250YWlucyBubyB0aW1pbmcgYW5kIG5vIHBhcmFncmFwaHMuJztcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yTXNnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjYXB0aW9uQXJyYXk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGoyID0gMDsgajIgPCBwYXJhZ3JhcGhzLmxlbmd0aDsgajIrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBhcmFncmFwaCA9IHBhcmFncmFwaHNbajJdO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNwYW5zID0gcGFyYWdyYXBoLnNwYW5fYXNBcnJheTtcclxuICAgICAgICAgICAgICAgIGxldCBjdWVJbnRlcnZhbHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIC8vIEZvciB0aW1pbmcsIHRoZSBvdmVyYWxsIGdvYWwgaXMgdG8gZmluZCB0aGUgaW50ZXJ2YWxzIHdoZXJlIHRoZXJlIHNob3VsZCBiZSBjdWVzXHJcbiAgICAgICAgICAgICAgICAvLyBUaGUgdGltaW5nIG1heSBlaXRoZXIgYmUgb24gcGFyYWdyYXBoIG9yIHNwYW4gbGV2ZWwuXHJcbiAgICAgICAgICAgICAgICBpZiAocGFyYWdyYXBoLmhhc093blByb3BlcnR5KCdiZWdpbicpICYmIHBhcmFncmFwaC5oYXNPd25Qcm9wZXJ0eSgnZW5kJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUaW1pbmcgb24gcGFyYWdyYXBoIGxldmVsXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNsaXBwZWRJbnRlcnZhbCA9IGdldENsaXBwZWRJbnRlcnZhbChwYXJhZ3JhcGgsIGludGVydmFsU3RhcnQsIGludGVydmFsRW5kKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2xpcHBlZEludGVydmFsICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ZUludGVydmFscy5wdXNoKGNsaXBwZWRJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUaW1pbmcgbXVzdCBiZSBvbiBzcGFuIGxldmVsXHJcbiAgICAgICAgICAgICAgICAgICAgY3VlSW50ZXJ2YWxzID0gY3JlYXRlU3BhbkludGVydmFsTGlzdChzcGFucywgaW50ZXJ2YWxTdGFydCwgaW50ZXJ2YWxFbmQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGN1ZUludGVydmFscy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnJvck1zZyA9ICdUVE1MOiBFbXB0eSBwYXJhZ3JhcGgnO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBOb3RoaW5nIGluIHRoaXMgcGFyYWdyYXBoXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHBhcmFncmFwaENoaWxkcmVuID0gcGFyYWdyYXBoLl9fY2hpbGRyZW47XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8IGN1ZUludGVydmFscy5sZW5ndGg7IGkyKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW50ZXJ2YWwgPSBjdWVJbnRlcnZhbHNbaTJdO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjaGlsZHJlbkluSW50ZXJ2YWwgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrMiA9IDA7IGsyIDwgcGFyYWdyYXBoQ2hpbGRyZW4ubGVuZ3RoOyBrMisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjaGlsZCA9IHBhcmFncmFwaENoaWxkcmVuW2syXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluSW50ZXJ2YWxPck5vVGltaW5nKGNoaWxkLCBpbnRlcnZhbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuSW5JbnRlcnZhbC5wdXNoKGNoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRyZW5JbkludGVydmFsLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gTm8gY2hpbGRyZW4gdG8gcmVuZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2h0bWwnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVBhZGRpbmcgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemUgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBGaW5kIHRoZSByZWdpb24gZGVmaW5lZCBmb3IgdGhlIGN1ZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb3BlcnRpZXMgdG8gYmUgcHV0IGluIHRoZSBcImNhcHRpb25SZWdpb25cIiBIVE1MIGVsZW1lbnQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdWVSZWdpb25Qcm9wZXJ0aWVzID0gY29uc3RydWN0Q3VlUmVnaW9uKHBhcmFncmFwaCwgZGl2LCBjZWxsVW5pdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICAgICAgICAgICAgICogRmluZCB0aGUgc3R5bGUgZGVmaW5lZCBmb3IgdGhlIGN1ZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb3BlcnRpZXMgdG8gYmUgcHV0IGluIHRoZSBcInBhcmFncmFwaFwiIEhUTUwgZWxlbWVudC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ZVN0eWxlUHJvcGVydGllcyA9IGNvbnN0cnVjdEN1ZVN0eWxlKHBhcmFncmFwaCwgY2VsbFVuaXQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIC8hXFwgQ3JlYXRlIHRoZSBjdWUgSFRNTCBFbGVtZW50IGNvbnRhaW5pbmcgdGhlIHdob2xlIGN1ZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdHlsZUlEcyA9IGN1ZVN0eWxlUHJvcGVydGllc1sxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VlU3R5bGVQcm9wZXJ0aWVzID0gY3VlU3R5bGVQcm9wZXJ0aWVzWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmluYWwgY3VlIEhUTUwgZWxlbWVudC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ZVBhcmFncmFwaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdWVQYXJhZ3JhcGguY2xhc3NOYW1lID0gc3R5bGVJRHM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSB3cmFwcGVyIGNvbnRhaW5pbmcgdGhlIGN1ZSBpbmZvcm1hdGlvbiBhYm91dCB1bmljb2RlQmlkaSBhbmQgZGlyZWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFzIHRoZXkgbmVlZCB0byBiZSBkZWZpbmVkIG9uIGF0IHRoaXMgbGV2ZWwuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGFwcGVuZCB0byB0aGUgd3JhcHBlciB0aGUgY3VlIGl0c2VsZi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ZURpclVuaVdyYXBwZXIgPSBjb25zdHJ1Y3RDdWUoY2hpbGRyZW5JbkludGVydmFsLCBjZWxsVW5pdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ZURpclVuaVdyYXBwZXIuY2xhc3NOYW1lID0gJ2N1ZURpclVuaVdyYXBwZXInO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHN0eWxlIGRlZmluZXMgdGhlc2UgdHdvIHByb3BlcnRpZXMsIHdlIHBsYWNlIHRoZW0gaW4gY3VlQ29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCBkZWxldGUgdGhlbSBmcm9tIHRoZSBjdWUgc3R5bGUgc28gaXQgaXMgbm90IGFkZGVkIGFmdGVyd2FyZHMgdG8gdGhlIGZpbmFsIGN1ZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFycmF5Q29udGFpbnMoJ3VuaWNvZGUtYmlkaScsIGN1ZVN0eWxlUHJvcGVydGllcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ZURpclVuaVdyYXBwZXIuc3R5bGUuY3NzVGV4dCArPSBnZXRQcm9wZXJ0eUZyb21BcnJheSgndW5pY29kZS1iaWRpJywgY3VlU3R5bGVQcm9wZXJ0aWVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVByb3BlcnR5RnJvbUFycmF5KCd1bmljb2RlLWJpZGknLCBjdWVTdHlsZVByb3BlcnRpZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcnJheUNvbnRhaW5zKCdkaXJlY3Rpb24nLCBjdWVTdHlsZVByb3BlcnRpZXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdWVEaXJVbmlXcmFwcGVyLnN0eWxlLmNzc1RleHQgKz0gZ2V0UHJvcGVydHlGcm9tQXJyYXkoJ2RpcmVjdGlvbicsIGN1ZVN0eWxlUHJvcGVydGllcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVQcm9wZXJ0eUZyb21BcnJheSgnZGlyZWN0aW9uJywgY3VlU3R5bGVQcm9wZXJ0aWVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXBwbHkgdGhlIGxpbmVQYWRkaW5nIHByb3BlcnR5IGlmIGl0IGlzIHNwZWNpZmllZCBpbiB0aGUgY3VlIHN0eWxlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJyYXlDb250YWlucygncGFkZGluZy1sZWZ0JywgY3VlU3R5bGVQcm9wZXJ0aWVzKSAmJiBhcnJheUNvbnRhaW5zKCdwYWRkaW5nLXJpZ2h0JywgY3VlU3R5bGVQcm9wZXJ0aWVzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VlRGlyVW5pV3JhcHBlci5pbm5lckhUTUwgPSBhcHBseUxpbmVQYWRkaW5nKGN1ZURpclVuaVdyYXBwZXIsIGN1ZVN0eWxlUHJvcGVydGllcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBDbGVhbiBhbmQgc2V0IHRoZSBzdHlsZSBhbmQgcmVnaW9uIGZvciB0aGUgY3VlIHRvIGJlIHJldHVybmVkLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgbGluZSBwYWRkaW5nIHByb3BlcnR5IGZyb20gYmVpbmcgYWRkZWQgYXQgdGhlIFwicGFyYWdyYXBoXCIgZWxlbWVudCBsZXZlbC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFycmF5Q29udGFpbnMoJ3BhZGRpbmctbGVmdCcsIGN1ZVN0eWxlUHJvcGVydGllcykgJiYgYXJyYXlDb250YWlucygncGFkZGluZy1yaWdodCcsIGN1ZVN0eWxlUHJvcGVydGllcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVByb3BlcnR5RnJvbUFycmF5KCdwYWRkaW5nLWxlZnQnLCBjdWVTdHlsZVByb3BlcnRpZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlUHJvcGVydHlGcm9tQXJyYXkoJ3BhZGRpbmctcmlnaHQnLCBjdWVTdHlsZVByb3BlcnRpZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIElEIG9mIHRoZSByZWdpb24gZnJvbSBiZWluZyBhZGRlZCBhdCB0aGUgXCJwYXJhZ3JhcGhcIiBlbGVtZW50IGxldmVsLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVnaW9uSUQgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFycmF5Q29udGFpbnMoJ3JlZ2lvbklEJywgY3VlUmVnaW9uUHJvcGVydGllcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3aG9sZVJlZ2lvbklEID0gZ2V0UHJvcGVydHlGcm9tQXJyYXkoJ3JlZ2lvbklEJywgY3VlUmVnaW9uUHJvcGVydGllcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdpb25JRCA9IHdob2xlUmVnaW9uSUQuc2xpY2Uod2hvbGVSZWdpb25JRC5pbmRleE9mKCc6JykgKyAxLCB3aG9sZVJlZ2lvbklELmxlbmd0aCAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBsaW5rIHRoZSBwIHN0eWxlIHRvIHRoZSBmaW5hbGUgY3VlUGFyYWdyYXBoIGVsZW1lbnQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdWVTdHlsZVByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ZVBhcmFncmFwaC5zdHlsZS5jc3NUZXh0ID0gY3VlU3R5bGVQcm9wZXJ0aWVzLmpvaW4oJyAnKSArICdkaXNwbGF5OmZsZXg7JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBkZWZpbmUgdGhlIENTUyBzdHlsZSBmb3IgdGhlIGN1ZSByZWdpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdWVSZWdpb25Qcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdWVSZWdpb25Qcm9wZXJ0aWVzID0gY3VlUmVnaW9uUHJvcGVydGllcy5qb2luKCcgJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIHRoZW4gcGxhY2UgdGhlIGN1ZSB3cmFwcGVyIGluc2lkZSB0aGUgcGFyYWdyYXBoIGVsZW1lbnQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ZVBhcmFncmFwaC5hcHBlbmRDaGlsZChjdWVEaXJVbmlXcmFwcGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpbmFsIGN1ZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbmFsQ3VlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsQ3VlLmFwcGVuZENoaWxkKGN1ZVBhcmFncmFwaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsQ3VlLmlkID0gZ2V0Q3VlSUQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxDdWUuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjogYWJzb2x1dGU7IG1hcmdpbjogMDsgZGlzcGxheTogZmxleDsgYm94LXNpemluZzogYm9yZGVyLWJveDsgcG9pbnRlci1ldmVudHM6IG5vbmU7JyArIGN1ZVJlZ2lvblByb3BlcnRpZXM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoZm9udFNpemUpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemUuZGVmYXVsdEZvbnRTaXplID0gJzEwMCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGFkZCBhbGwgdGhlIGN1ZSBpbmZvcm1hdGlvbiBpbiBjYXB0aW9uQXJyYXkuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcHRpb25BcnJheS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBpbnRlcnZhbFswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogaW50ZXJ2YWxbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdWVIVE1MRWxlbWVudDogZmluYWxDdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdpb25zOiByZWdpb25zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnaW9uSUQ6IHJlZ2lvbklELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VlSUQ6IGZpbmFsQ3VlLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9IZWlnaHQ6IHZpZGVvSGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9XaWR0aDogdmlkZW9XaWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxSZXNvbHV0aW9uOiBjZWxsUmVzb2x1dGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBmb250U2l6ZSB8fCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEZvbnRTaXplOiAnMTAwJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQ6IGxpbmVIZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lUGFkZGluZzogbGluZVBhZGRpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0RWxlbWVudHMgPSBjaGlsZHJlbkluSW50ZXJ2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0RWxlbWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0RWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWwuaGFzT3duUHJvcGVydHkoJ3NwYW4nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BhbkVsZW1lbnRzID0gZWwuc3Bhbi5fX2NoaWxkcmVuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFuRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoc3BhbkVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBtZXRhZGF0YSBpcyBwcmVzZW50LCBkbyBub3QgcHJvY2Vzcy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGFuRWxlbWVudHMuaGFzT3duUHJvcGVydHkoJ21ldGFkYXRhJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZWxlbWVudCBpcyBhIHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwYW5FbC5oYXNPd25Qcm9wZXJ0eSgnI3RleHQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgKz0gc3BhbkVsWycjdGV4dCddLnJlcGxhY2UoL1tcXHJcXG5dKy9nbSwgJyAnKS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaXMgYSAnYnInIHRhZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgnYnInIGluIHNwYW5FbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIGJyIGVsZW1lbnQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCArPSAnXFxuJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbC5oYXNPd25Qcm9wZXJ0eSgnYnInKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9ICdcXG4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgKz0gZWxbJyN0ZXh0J10ucmVwbGFjZSgvW1xcclxcbl0rL2dtLCAnICcpLnRyaW0oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FwdGlvbkFycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGludGVydmFsWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBpbnRlcnZhbFsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHRleHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZXJyb3JNc2cgIT09ICcnKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yTXNnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjYXB0aW9uQXJyYXkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2FwdGlvbkFycmF5O1xyXG4gICAgICAgIH0gZWxzZSB7IC8vIFRoaXMgc2VlbXMgdG9vIHN0cm9uZyBnaXZlbiB0aGF0IHRoZXJlIGFyZSBzZWdtZW50cyB3aXRoIG5vIFRUTUwgc3VidGl0bGVzXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1zZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldHVwKCkge1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogVGhpcyBUVE1MIHBhcnNlciBmb2xsb3dzIFwiRUJVLVRULUQgU1VCVElUTElORyBESVNUUklCVVRJT04gRk9STUFUIC0gdGVjaDMzODBcIiBzcGVjIC0gaHR0cHM6Ly90ZWNoLmVidS5jaC9kb2NzL3RlY2gvdGVjaDMzODAucGRmLlxyXG4gICAgICAgICAqICovXHJcbiAgICAgICAgdGltaW5nUmVnZXggPSAvXihbMC05XVswLTldKyk6KFswLTVdWzAtOV0pOihbMC01XVswLTldKXwoNjApKFxcLihbMC05XSkrKT8kLzsgLy8gUmVnZXggZGVmaW5pbmcgdGhlIHRpbWVcclxuICAgICAgICBmb250U2l6ZSA9IHt9O1xyXG4gICAgICAgIGxpbmVIZWlnaHQgPSB7fTtcclxuICAgICAgICBsaW5lUGFkZGluZyA9IHt9O1xyXG4gICAgICAgIGRlZmF1bHRMYXlvdXRQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgICAgICAndG9wJzogJ2F1dG87JyxcclxuICAgICAgICAgICAgJ2xlZnQnOiAnYXV0bzsnLFxyXG4gICAgICAgICAgICAnd2lkdGgnOiAnOTAlOycsXHJcbiAgICAgICAgICAgICdoZWlnaHQnOiAnMTAlOycsXHJcbiAgICAgICAgICAgICdhbGlnbi1pdGVtcyc6ICdmbGV4LXN0YXJ0OycsXHJcbiAgICAgICAgICAgICdvdmVyZmxvdyc6ICd2aXNpYmxlOycsXHJcbiAgICAgICAgICAgICctbXMtd3JpdGluZy1tb2RlJzogJ2xyLXRiLCBob3Jpem9udGFsLXRiOycsXHJcbiAgICAgICAgICAgICctd2Via2l0LXdyaXRpbmctbW9kZSc6ICdob3Jpem9udGFsLXRiOycsXHJcbiAgICAgICAgICAgICctbW96LXdyaXRpbmctbW9kZSc6ICdob3Jpem9udGFsLXRiOycsXHJcbiAgICAgICAgICAgICd3cml0aW5nLW1vZGUnOiAnaG9yaXpvbnRhbC10YjsnXHJcbiAgICAgICAgfTtcclxuICAgICAgICBkZWZhdWx0U3R5bGVQcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgICAgICAnY29sb3InOiAncmdiKDI1NSwyNTUsMjU1KTsnLFxyXG4gICAgICAgICAgICAnZGlyZWN0aW9uJzogJ2x0cjsnLFxyXG4gICAgICAgICAgICAnZm9udC1mYW1pbHknOiAnbW9ub3NwYWNlLCBzYW5zLXNlcmlmOycsXHJcbiAgICAgICAgICAgICdmb250LXN0eWxlJzogJ25vcm1hbDsnLFxyXG4gICAgICAgICAgICAnbGluZS1oZWlnaHQnOiAnbm9ybWFsOycsXHJcbiAgICAgICAgICAgICdmb250LXdlaWdodCc6ICdub3JtYWw7JyxcclxuICAgICAgICAgICAgJ3RleHQtYWxpZ24nOiAnc3RhcnQ7JyxcclxuICAgICAgICAgICAgJ2p1c3RpZnktY29udGVudCc6ICdmbGV4LXN0YXJ0OycsXHJcbiAgICAgICAgICAgICd0ZXh0LWRlY29yYXRpb24nOiAnbm9uZTsnLFxyXG4gICAgICAgICAgICAndW5pY29kZS1iaWRpJzogJ25vcm1hbDsnLFxyXG4gICAgICAgICAgICAnd2hpdGUtc3BhY2UnOiAnbm9ybWFsOycsXHJcbiAgICAgICAgICAgICd3aWR0aCc6ICcxMDAlOydcclxuICAgICAgICB9O1xyXG4gICAgICAgIGZvbnRGYW1pbGllcyA9IHtcclxuICAgICAgICAgICAgbW9ub3NwYWNlOiAnZm9udC1mYW1pbHk6IG1vbm9zcGFjZTsnLFxyXG4gICAgICAgICAgICBzYW5zU2VyaWY6ICdmb250LWZhbWlseTogc2Fucy1zZXJpZjsnLFxyXG4gICAgICAgICAgICBzZXJpZjogJ2ZvbnQtZmFtaWx5OiBzZXJpZjsnLFxyXG4gICAgICAgICAgICBtb25vc3BhY2VTYW5zU2VyaWY6ICdmb250LWZhbWlseTogbW9ub3NwYWNlLCBzYW5zLXNlcmlmOycsXHJcbiAgICAgICAgICAgIG1vbm9zcGFjZVNlcmlmOiAnZm9udC1mYW1pbHk6IG1vbm9zcGFjZSwgc2VyaWY7JyxcclxuICAgICAgICAgICAgcHJvcG9ydGlvbmFsU2Fuc1NlcmlmOiAnZm9udC1mYW1pbHk6IEFyaWFsOycsXHJcbiAgICAgICAgICAgIHByb3BvcnRpb25hbFNlcmlmOiAnZm9udC1mYW1pbHk6IFRpbWVzIE5ldyBSb21hbjsnLFxyXG4gICAgICAgICAgICAnZGVmYXVsdCc6ICdmb250LWZhbWlseTogbW9ub3NwYWNlLCBzYW5zLXNlcmlmOydcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRleHRBbGlnbiA9IHtcclxuICAgICAgICAgICAgcmlnaHQ6IFsnanVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsnLCAndGV4dC1hbGlnbjogcmlnaHQ7J10sXHJcbiAgICAgICAgICAgIHN0YXJ0OiBbJ2p1c3RpZnktY29udGVudDogZmxleC1zdGFydDsnLCAndGV4dC1hbGlnbjogc3RhcnQ7J10sXHJcbiAgICAgICAgICAgIGNlbnRlcjogWydqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsnLCAndGV4dC1hbGlnbjogY2VudGVyOyddLFxyXG4gICAgICAgICAgICBlbmQ6IFsnanVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsnLCAndGV4dC1hbGlnbjogZW5kOyddLFxyXG4gICAgICAgICAgICBsZWZ0OiBbJ2p1c3RpZnktY29udGVudDogZmxleC1zdGFydDsnLCAndGV4dC1hbGlnbjogbGVmdDsnXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbXVsdGlSb3dBbGlnbiA9IHtcclxuICAgICAgICAgICAgc3RhcnQ6ICd0ZXh0LWFsaWduOiBzdGFydDsnLFxyXG4gICAgICAgICAgICBjZW50ZXI6ICd0ZXh0LWFsaWduOiBjZW50ZXI7JyxcclxuICAgICAgICAgICAgZW5kOiAndGV4dC1hbGlnbjogZW5kOycsXHJcbiAgICAgICAgICAgIGF1dG86ICcnXHJcbiAgICAgICAgfTtcclxuICAgICAgICB3cmFwT3B0aW9uID0ge1xyXG4gICAgICAgICAgICB3cmFwOiAnd2hpdGUtc3BhY2U6IG5vcm1hbDsnLFxyXG4gICAgICAgICAgICBub1dyYXA6ICd3aGl0ZS1zcGFjZTogbm93cmFwOydcclxuICAgICAgICB9O1xyXG4gICAgICAgIHVuaWNvZGVCaWRpID0ge1xyXG4gICAgICAgICAgICBub3JtYWw6ICd1bmljb2RlLWJpZGk6IG5vcm1hbDsnLFxyXG4gICAgICAgICAgICBlbWJlZDogJ3VuaWNvZGUtYmlkaTogZW1iZWQ7JyxcclxuICAgICAgICAgICAgYmlkaU92ZXJyaWRlOiAndW5pY29kZS1iaWRpOiBiaWRpLW92ZXJyaWRlOydcclxuICAgICAgICB9O1xyXG4gICAgICAgIGRpc3BsYXlBbGlnbiA9IHtcclxuICAgICAgICAgICAgYmVmb3JlOiAnYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7JyxcclxuICAgICAgICAgICAgY2VudGVyOiAnYWxpZ24taXRlbXM6IGNlbnRlcjsnLFxyXG4gICAgICAgICAgICBhZnRlcjogJ2FsaWduLWl0ZW1zOiBmbGV4LWVuZDsnXHJcbiAgICAgICAgfTtcclxuICAgICAgICB3cml0aW5nTW9kZSA9IHtcclxuICAgICAgICAgICAgbHJ0YjogJy13ZWJraXQtd3JpdGluZy1tb2RlOiBob3Jpem9udGFsLXRiOycgK1xyXG4gICAgICAgICAgICAgICAgJ3dyaXRpbmctbW9kZTogaG9yaXpvbnRhbC10YjsnLFxyXG4gICAgICAgICAgICBybHRiOiAnLXdlYmtpdC13cml0aW5nLW1vZGU6IGhvcml6b250YWwtdGI7JyArXHJcbiAgICAgICAgICAgICAgICAnd3JpdGluZy1tb2RlOiBob3Jpem9udGFsLXRiOycgK1xyXG4gICAgICAgICAgICAgICAgJ2RpcmVjdGlvbjogcnRsOycgK1xyXG4gICAgICAgICAgICAgICAgJ3VuaWNvZGUtYmlkaTogYmlkaS1vdmVycmlkZTsnLFxyXG4gICAgICAgICAgICB0YnJsOiAnLXdlYmtpdC13cml0aW5nLW1vZGU6IHZlcnRpY2FsLXJsOycgK1xyXG4gICAgICAgICAgICAgICAgJ3dyaXRpbmctbW9kZTogdmVydGljYWwtcmw7JyArXHJcbiAgICAgICAgICAgICAgICAnLXdlYmtpdC10ZXh0LW9yaWVudGF0aW9uOiB1cHJpZ2h0OycgK1xyXG4gICAgICAgICAgICAgICAgJ3RleHQtb3JpZW50YXRpb246IHVwcmlnaHQ7JyxcclxuICAgICAgICAgICAgdGJscjogJy13ZWJraXQtd3JpdGluZy1tb2RlOiB2ZXJ0aWNhbC1scjsnICtcclxuICAgICAgICAgICAgICAgICd3cml0aW5nLW1vZGU6IHZlcnRpY2FsLWxyOycgK1xyXG4gICAgICAgICAgICAgICAgJy13ZWJraXQtdGV4dC1vcmllbnRhdGlvbjogdXByaWdodDsnICtcclxuICAgICAgICAgICAgICAgICd0ZXh0LW9yaWVudGF0aW9uOiB1cHJpZ2h0OycsXHJcbiAgICAgICAgICAgIGxyOiAnLXdlYmtpdC13cml0aW5nLW1vZGU6IGhvcml6b250YWwtdGI7JyArXHJcbiAgICAgICAgICAgICAgICAnd3JpdGluZy1tb2RlOiBob3Jpem9udGFsLXRiOycsXHJcbiAgICAgICAgICAgIHJsOiAnLXdlYmtpdC13cml0aW5nLW1vZGU6IGhvcml6b250YWwtdGI7JyArXHJcbiAgICAgICAgICAgICAgICAnd3JpdGluZy1tb2RlOiBob3Jpem9udGFsLXRiOycgK1xyXG4gICAgICAgICAgICAgICAgJ2RpcmVjdGlvbjogcnRsOycsXHJcbiAgICAgICAgICAgIHRiOiAnLXdlYmtpdC13cml0aW5nLW1vZGU6IHZlcnRpY2FsLXJsOycgK1xyXG4gICAgICAgICAgICAgICAgJ3dyaXRpbmctbW9kZTogdmVydGljYWwtcmw7JyArXHJcbiAgICAgICAgICAgICAgICAnLXdlYmtpdC10ZXh0LW9yaWVudGF0aW9uOiB1cHJpZ2h0OycgK1xyXG4gICAgICAgICAgICAgICAgJ3RleHQtb3JpZW50YXRpb246IHVwcmlnaHQ7J1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcGFyc2VUaW1pbmdzKHRpbWluZ1N0cikge1xyXG4gICAgICAgIC8vIFRlc3QgaWYgdGhlIHRpbWUgcHJvdmlkZWQgYnkgdGhlIGNhcHRpb24gaXMgdmFsaWQuXHJcbiAgICAgICAgdmFyIHRlc3QgPSB0aW1pbmdSZWdleC50ZXN0KHRpbWluZ1N0cik7XHJcbiAgICAgICAgdmFyIHRpbWVQYXJ0cyxcclxuICAgICAgICAgICAgcGFyc2VkVGltZSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlO1xyXG5cclxuICAgICAgICBpZiAoIXRlc3QpIHtcclxuICAgICAgICAgICAgLy8gUmV0dXJuIE5hTiBzbyBpdCB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBhdCBpbnRlcm5hbFBhcnNlIGlmIHRoZSB0aW1lIGlzIGluY29ycmVjdC5cclxuICAgICAgICAgICAgcmV0dXJuIE5hTjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRpbWVQYXJ0cyA9IHRpbWluZ1N0ci5zcGxpdCgnOicpO1xyXG5cclxuICAgICAgICAvLyBQcm9jZXNzIHRoZSB0aW1pbmdzIGJ5IGRlY29tcG9zaW5nIGl0IGFuZCBjb252ZXJ0aW5nIGl0IGluIG51bWJlcnMuXHJcbiAgICAgICAgcGFyc2VkVGltZSA9IChwYXJzZUZsb2F0KHRpbWVQYXJ0c1swXSkgKiBTRUNPTkRTX0lOX0hPVVIgK1xyXG4gICAgICAgICAgICBwYXJzZUZsb2F0KHRpbWVQYXJ0c1sxXSkgKiBTRUNPTkRTX0lOX01JTiArXHJcbiAgICAgICAgICAgIHBhcnNlRmxvYXQodGltZVBhcnRzWzJdKSk7XHJcblxyXG4gICAgICAgIC8vIEluIGNhc2UgYSBmcmFtZVJhdGUgaXMgcHJvdmlkZWQsIHdlIGFkanVzdCB0aGUgcGFyc2VkIHRpbWUuXHJcbiAgICAgICAgaWYgKHRpbWVQYXJ0c1szXSkge1xyXG4gICAgICAgICAgICBmcmFtZVJhdGUgPSB0dG1sLnR0LmZyYW1lUmF0ZTtcclxuICAgICAgICAgICAgaWYgKGZyYW1lUmF0ZSAmJiAhaXNOYU4oZnJhbWVSYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgcGFyc2VkVGltZSArPSBwYXJzZUZsb2F0KHRpbWVQYXJ0c1szXSkgLyBmcmFtZVJhdGU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTmFOO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwYXJzZWRUaW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldE5hbWVzcGFjZVByZWZpeChqc29uLCBucykge1xyXG4gICAgICAgIC8vIE9idGFpbiB0aGUgbmFtZXNwYWNlIHByZWZpeC5cclxuICAgICAgICB2YXIgciA9IE9iamVjdC5rZXlzKGpzb24pXHJcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGspIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoay5zcGxpdCgnOicpWzBdID09PSAneG1sbnMnIHx8IGsuc3BsaXQoJzonKVsxXSA9PT0gJ3htbG5zJykgJiYganNvbltrXSA9PT0gbnM7XHJcbiAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbiAoaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGsuc3BsaXQoJzonKVsyXSB8fCBrLnNwbGl0KCc6JylbMV07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChyLmxlbmd0aCAhPSAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gclswXTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVOYW1lc3BhY2VQcmVmaXgoanNvbiwgbnNQcmVmaXgpIHtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4ganNvbikge1xyXG4gICAgICAgICAgICBpZiAoanNvbi5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoKHR5cGVvZiBqc29uW2tleV0gPT09ICdvYmplY3QnIHx8IGpzb25ba2V5XSBpbnN0YW5jZW9mIE9iamVjdCkgJiYgIUFycmF5LmlzQXJyYXkoanNvbltrZXldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZU5hbWVzcGFjZVByZWZpeChqc29uW2tleV0sIG5zUHJlZml4KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShqc29uW2tleV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBqc29uW2tleV0ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTmFtZXNwYWNlUHJlZml4KGpzb25ba2V5XVtpXSwgbnNQcmVmaXgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBuZXdLZXkgPSBrZXkuc2xpY2Uoa2V5LmluZGV4T2YobnNQcmVmaXgpICsgbnNQcmVmaXgubGVuZ3RoICsgMSk7XHJcbiAgICAgICAgICAgICAgICBqc29uW25ld0tleV0gPSBqc29uW2tleV07XHJcbiAgICAgICAgICAgICAgICBkZWxldGUganNvbltrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmQtY29sb3IsIGNvbnZlcnQgZnJvbSBjYW1lbENhc2UgdG8gZGFzaC5cclxuICAgIGZ1bmN0aW9uIGNhbWVsQ2FzZVRvRGFzaChrZXkpIHtcclxuICAgICAgICByZXR1cm4ga2V5LnJlcGxhY2UoLyhbYS16XSkoW0EtWl0pL2csICckMS0kMicpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29udmVydCBhbiBSR0JBIHZhbHVlIHdyaXR0ZW4gaW4gSGV4IHRvIHJnYmEodix2LHYsYSkuXHJcbiAgICBmdW5jdGlvbiBjb252ZXJ0SGV4VG9SR0JBKHJnYmEpIHtcclxuICAgICAgICAvLyBHZXQgdGhlIGhleGFkZWNpbWFsIHZhbHVlIHdpdGhvdXQgdGhlICMuXHJcbiAgICAgICAgdmFyIGhleCA9IHJnYmEuc2xpY2UoMSk7XHJcbiAgICAgICAgLy8gU2VwYXJhdGUgdGhlIHZhbHVlcyBpbiBwYWlycy5cclxuICAgICAgICB2YXIgaGV4TWF0cmljZSA9IGhleC5tYXRjaCgvLnsyfS9nKTtcclxuICAgICAgICAvLyBDb252ZXJ0IHRoZSBhbHBoYSB2YWx1ZSBpbiBkZWNpbWFsIGJldHdlZW4gMCBhbmQgMS5cclxuICAgICAgICB2YXIgYWxwaGEgPSBwYXJzZUZsb2F0KHBhcnNlSW50KChwYXJzZUludChoZXhNYXRyaWNlWzNdLCAxNikgLyAyNTUpICogMTAwMCwgMTApIC8gMTAwMCk7XHJcbiAgICAgICAgLy8gR2V0IHRoZSBzdGFuZGFyZCBSR0IgdmFsdWUuXHJcbiAgICAgICAgdmFyIHJnYiA9IGhleE1hdHJpY2Uuc2xpY2UoMCwgMykubWFwKGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChpLCAxNik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBSR0JBIHZhbHVlIGZvciBDU1MuXHJcbiAgICAgICAgcmV0dXJuICdyZ2JhKCcgKyByZ2Iuam9pbignLCcpICsgJywnICsgYWxwaGEgKyAnKTsnO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldHVybiB3aGV0aGVyIG9yIG5vdCBhbiBhcnJheSBjb250YWlucyBhIGNlcnRhaW4gdGV4dFxyXG4gICAgZnVuY3Rpb24gYXJyYXlDb250YWlucyh0ZXh0LCBhcnJheSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGFycmF5W2ldLmluZGV4T2YodGV4dCkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldHVybiB0aGUgd2hvbGUgdmFsdWUgdGhhdCBjb250YWlucyBcInRleHRcIlxyXG4gICAgZnVuY3Rpb24gZ2V0UHJvcGVydHlGcm9tQXJyYXkodGV4dCwgYXJyYXkpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChhcnJheVtpXS5pbmRleE9mKHRleHQpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcnJheVtpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEZWxldGUgYSBhIHByb3BlcnR5IGZyb20gYW4gYXJyYXkuXHJcbiAgICBmdW5jdGlvbiBkZWxldGVQcm9wZXJ0eUZyb21BcnJheShwcm9wZXJ0eSwgYXJyYXkpIHtcclxuICAgICAgICBhcnJheS5zcGxpY2UoYXJyYXkuaW5kZXhPZihnZXRQcm9wZXJ0eUZyb21BcnJheShwcm9wZXJ0eSwgYXJyYXkpKSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbWVyZ2VBcnJheXMocHJpbWVBcnJheSwgYXJyYXlUb0FkZCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJpbWVBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFycmF5VG9BZGQubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIC8vIFRha2Ugb25seSB0aGUgbmFtZSBvZiB0aGUgcHJvcGVydHlcclxuICAgICAgICAgICAgICAgIGlmIChwcmltZUFycmF5W2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByaW1lQXJyYXlbaV0uc3BsaXQoJzonKVswXS5pbmRleE9mKGFycmF5VG9BZGRbal0uc3BsaXQoJzonKVswXSkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmltZUFycmF5LnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHByaW1lQXJyYXkuY29uY2F0KGFycmF5VG9BZGQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUHJvY2Vzc2luZyBvZiBzdHlsaW5nIGluZm9ybWF0aW9uOlxyXG4gICAgICogLSBwcm9jZXNzU3R5bGU6IHJldHVybiBhbiBhcnJheSBvZiBzdHJpbmdzIHdpdGggdGhlIGN1ZSBzdHlsZSB1bmRlciBhIENTUyBzdHlsZSBmb3JtLlxyXG4gICAgICogLSBmaW5kU3R5bGVGcm9tSUQ6IFJldHVybiB0aGUgdW5wcm9jZXNzZWQgc3R5bGUgZnJvbSBUVE1MU3R5bGluZyBjb3JyZXNwb25kaW5nIHRvIHRoZSBJRCByZXNlYXJjaGVkLlxyXG4gICAgICogLSBnZXRQcm9jZXNzZWRTdHlsZTogUmV0dXJuIHRoZSBwcm9jZXNzZWQgc3R5bGUocykgZnJvbSB0aGUgSUQocykgcmVjZWl2ZWQgaW4gZW50cnkuXHJcbiAgICAgKiAqKi9cclxuXHJcblxyXG4gICAgLy8gQ29tcHV0ZSB0aGUgc3R5bGUgcHJvcGVydGllcyB0byByZXR1cm4gYW4gYXJyYXkgd2l0aCB0aGUgY2xlYW5lZCBwcm9wZXJ0aWVzLlxyXG4gICAgZnVuY3Rpb24gcHJvY2Vzc1N0eWxlKGN1ZVN0eWxlLCBjZWxsVW5pdCwgaW5jbHVkZVJlZ2lvblN0eWxlcykge1xyXG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0gW107XHJcblxyXG4gICAgICAgIC8vIENsZWFuIHVwIGZyb20gdGhlIHhtbDJqc29uIHBhcnNpbmc6XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGN1ZVN0eWxlKSB7XHJcbiAgICAgICAgICAgIGlmIChjdWVTdHlsZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAvL0NsZWFuIHRoZSBwcm9wZXJ0aWVzIGZyb20gdGhlIHBhcnNpbmcuXHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3S2V5ID0ga2V5LnJlcGxhY2UoJ2VidXR0czonLCAnJyk7XHJcbiAgICAgICAgICAgICAgICBuZXdLZXkgPSBuZXdLZXkucmVwbGFjZSgneG1sOicsICcnKTtcclxuICAgICAgICAgICAgICAgIG5ld0tleSA9IG5ld0tleS5yZXBsYWNlKCd0dHM6JywgJycpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENsZWFuIHRoZSBwcm9wZXJ0aWVzJyBuYW1lcy5cclxuICAgICAgICAgICAgICAgIG5ld0tleSA9IGNhbWVsQ2FzZVRvRGFzaChuZXdLZXkpO1xyXG4gICAgICAgICAgICAgICAgY3VlU3R5bGVbbmV3S2V5XSA9IGN1ZVN0eWxlW2tleV07XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgY3VlU3R5bGVba2V5XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gTGluZSBwYWRkaW5nIGlzIGNvbXB1dGVkIGZyb20gdGhlIGNlbGxSZXNvbHV0aW9uLlxyXG4gICAgICAgIGlmICgnbGluZS1wYWRkaW5nJyBpbiBjdWVTdHlsZSkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWVQYWRkaW5nID0gcGFyc2VGbG9hdChjdWVTdHlsZVsnbGluZS1wYWRkaW5nJ10uc2xpY2UoY3VlU3R5bGVbJ2xpbmUtcGFkZGluZyddLmluZGV4T2YoJzonKSArIDEsXHJcbiAgICAgICAgICAgICAgICBjdWVTdHlsZVsnbGluZS1wYWRkaW5nJ10uaW5kZXhPZignYycpKSk7XHJcbiAgICAgICAgICAgIGlmICgnaWQnIGluIGN1ZVN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICBsaW5lUGFkZGluZ1tjdWVTdHlsZS5pZF0gPSB2YWx1ZVBhZGRpbmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHZhbHVlUGFkZGluZ0luUHggPSB2YWx1ZVBhZGRpbmcgKiBjZWxsVW5pdFswXSArICdweDsnO1xyXG4gICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2goJ3BhZGRpbmctbGVmdDonICsgdmFsdWVQYWRkaW5nSW5QeCk7XHJcbiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaCgncGFkZGluZy1yaWdodDonICsgdmFsdWVQYWRkaW5nSW5QeCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEZvbnQgc2l6ZSBpcyBjb21wdXRlZCBmcm9tIHRoZSBjZWxsUmVzb2x1dGlvbi5cclxuICAgICAgICBpZiAoJ2ZvbnQtc2l6ZScgaW4gY3VlU3R5bGUpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlRnRTaXplID0gcGFyc2VGbG9hdChjdWVTdHlsZVsnZm9udC1zaXplJ10uc2xpY2UoY3VlU3R5bGVbJ2ZvbnQtc2l6ZSddLmluZGV4T2YoJzonKSArIDEsXHJcbiAgICAgICAgICAgICAgICBjdWVTdHlsZVsnZm9udC1zaXplJ10uaW5kZXhPZignJScpKSk7XHJcbiAgICAgICAgICAgIGlmICgnaWQnIGluIGN1ZVN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZVtjdWVTdHlsZS5pZF0gPSB2YWx1ZUZ0U2l6ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgdmFsdWVGdFNpemVJblB4ID0gdmFsdWVGdFNpemUgLyAxMDAgKiBjZWxsVW5pdFsxXSArICdweDsnO1xyXG4gICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2goJ2ZvbnQtc2l6ZTonICsgdmFsdWVGdFNpemVJblB4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTGluZSBoZWlnaHQgaXMgY29tcHV0ZWQgZnJvbSB0aGUgY2VsbFJlc29sdXRpb24uXHJcbiAgICAgICAgaWYgKCdsaW5lLWhlaWdodCcgaW4gY3VlU3R5bGUpIHtcclxuICAgICAgICAgICAgaWYgKGN1ZVN0eWxlWydsaW5lLWhlaWdodCddID09PSAnbm9ybWFsJykge1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKCdsaW5lLWhlaWdodDogbm9ybWFsOycpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlTEhTaXplID0gcGFyc2VGbG9hdChjdWVTdHlsZVsnbGluZS1oZWlnaHQnXS5zbGljZShjdWVTdHlsZVsnbGluZS1oZWlnaHQnXS5pbmRleE9mKCc6JykgKyAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1ZVN0eWxlWydsaW5lLWhlaWdodCddLmluZGV4T2YoJyUnKSkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCdpZCcgaW4gY3VlU3R5bGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0W2N1ZVN0eWxlLmlkXSA9IHZhbHVlTEhTaXplO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlTEhTaXplSW5QeCA9IHZhbHVlTEhTaXplIC8gMTAwICogY2VsbFVuaXRbMV0gKyAncHg7JztcclxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaCgnbGluZS1oZWlnaHQnICsgJzonICsgdmFsdWVMSFNpemVJblB4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBGb250LWZhbWlseSBjYW4gYmUgc3BlY2lmaWVkIGJ5IGEgZ2VuZXJpYyBmYW1pbHkgbmFtZSBvciBhIGN1c3RvbSBmYW1pbHkgbmFtZS5cclxuICAgICAgICBpZiAoJ2ZvbnQtZmFtaWx5JyBpbiBjdWVTdHlsZSkge1xyXG4gICAgICAgICAgICBpZiAoY3VlU3R5bGVbJ2ZvbnQtZmFtaWx5J10gaW4gZm9udEZhbWlsaWVzKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2goZm9udEZhbWlsaWVzW2N1ZVN0eWxlWydmb250LWZhbWlseSddXSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2goJ2ZvbnQtZmFtaWx5OicgKyBjdWVTdHlsZVsnZm9udC1mYW1pbHknXSArICc7Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVGV4dCBhbGlnbiBuZWVkcyB0byBiZSBzZXQgZnJvbSB0d28gcHJvcGVydGllczpcclxuICAgICAgICAvLyBUaGUgc3RhbmRhcmQgdGV4dC1hbGlnbiBDU1MgcHJvcGVydHkuXHJcbiAgICAgICAgLy8gVGhlIGp1c3RpZnktY29udGVudCBwcm9wZXJ0eSBhcyB3ZSB1c2UgZmxleCBib3hlcy5cclxuICAgICAgICBpZiAoJ3RleHQtYWxpZ24nIGluIGN1ZVN0eWxlKSB7XHJcbiAgICAgICAgICAgIGlmIChjdWVTdHlsZVsndGV4dC1hbGlnbiddIGluIHRleHRBbGlnbikge1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKHRleHRBbGlnbltjdWVTdHlsZVsndGV4dC1hbGlnbiddXVswXSk7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2godGV4dEFsaWduW2N1ZVN0eWxlWyd0ZXh0LWFsaWduJ11dWzFdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBNdWx0aSBSb3cgYWxpZ24gaXMgc2V0IG9ubHkgYnkgdGhlIHRleHQtYWxpZ24gcHJvcGVydHkuXHJcbiAgICAgICAgLy8gVE9ETzogVE8gQ0hFQ0tcclxuICAgICAgICBpZiAoJ211bHRpLXJvdy1hbGlnbicgaW4gY3VlU3R5bGUpIHtcclxuICAgICAgICAgICAgaWYgKGFycmF5Q29udGFpbnMoJ3RleHQtYWxpZ24nLCBwcm9wZXJ0aWVzKSAmJiBjdWVTdHlsZVsnbXVsdGktcm93LWFsaWduJ10gIT0gJ2F1dG8nKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGVQcm9wZXJ0eUZyb21BcnJheSgndGV4dC1hbGlnbicsIHByb3BlcnRpZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjdWVTdHlsZVsnbXVsdGktcm93LWFsaWduJ10gaW4gbXVsdGlSb3dBbGlnbikge1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKG11bHRpUm93QWxpZ25bY3VlU3R5bGVbJ211bHRpLXJvdy1hbGlnbiddXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQmFja2dyb3VuZCBjb2xvciBjYW4gYmUgc3BlY2lmaWVkIGZyb20gaGV4YWRlY2ltYWwgKFJHQiBvciBSR0JBKSB2YWx1ZS5cclxuICAgICAgICB2YXIgcmdiYVZhbHVlO1xyXG4gICAgICAgIGlmICgnYmFja2dyb3VuZC1jb2xvcicgaW4gY3VlU3R5bGUpIHtcclxuICAgICAgICAgICAgaWYgKGN1ZVN0eWxlWydiYWNrZ3JvdW5kLWNvbG9yJ10uaW5kZXhPZignIycpID4gLTEgJiYgKGN1ZVN0eWxlWydiYWNrZ3JvdW5kLWNvbG9yJ10ubGVuZ3RoIC0gMSkgPT09IDgpIHtcclxuICAgICAgICAgICAgICAgIHJnYmFWYWx1ZSA9IGNvbnZlcnRIZXhUb1JHQkEoY3VlU3R5bGVbJ2JhY2tncm91bmQtY29sb3InXSk7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2goJ2JhY2tncm91bmQtY29sb3I6ICcgKyByZ2JhVmFsdWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKCdiYWNrZ3JvdW5kLWNvbG9yOicgKyBjdWVTdHlsZVsnYmFja2dyb3VuZC1jb2xvciddICsgJzsnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDb2xvciBjYW4gYmUgc3BlY2lmaWVkIGZyb20gaGV4YWRlY2ltYWwgKFJHQiBvciBSR0JBKSB2YWx1ZS5cclxuICAgICAgICBpZiAoJ2NvbG9yJyBpbiBjdWVTdHlsZSkge1xyXG4gICAgICAgICAgICBpZiAoY3VlU3R5bGUuY29sb3IuaW5kZXhPZignIycpID4gLTEgJiYgKGN1ZVN0eWxlLmNvbG9yLmxlbmd0aCAtIDEpID09PSA4KSB7XHJcbiAgICAgICAgICAgICAgICByZ2JhVmFsdWUgPSBjb252ZXJ0SGV4VG9SR0JBKGN1ZVN0eWxlLmNvbG9yKTtcclxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaCgnY29sb3I6ICcgKyByZ2JhVmFsdWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKCdjb2xvcjonICsgY3VlU3R5bGUuY29sb3IgKyAnOycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFdyYXAgb3B0aW9uIGlzIGRldGVybWluZWQgYnkgdGhlIHdoaXRlLXNwYWNlIENTUyBwcm9wZXJ0eS5cclxuICAgICAgICBpZiAoJ3dyYXAtb3B0aW9uJyBpbiBjdWVTdHlsZSkge1xyXG4gICAgICAgICAgICBpZiAoY3VlU3R5bGVbJ3dyYXAtb3B0aW9uJ10gaW4gd3JhcE9wdGlvbikge1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKHdyYXBPcHRpb25bY3VlU3R5bGVbJ3dyYXAtb3B0aW9uJ11dKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaCgnd2hpdGUtc3BhY2U6JyArIGN1ZVN0eWxlWyd3cmFwLW9wdGlvbiddKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBVbmljb2RlIGJpZGkgaXMgZGV0ZXJtaW5lZCBieSB0aGUgdW5pY29kZS1iaWRpIENTUyBwcm9wZXJ0eS5cclxuICAgICAgICBpZiAoJ3VuaWNvZGUtYmlkaScgaW4gY3VlU3R5bGUpIHtcclxuICAgICAgICAgICAgaWYgKGN1ZVN0eWxlWyd1bmljb2RlLWJpZGknXSBpbiB1bmljb2RlQmlkaSkge1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKHVuaWNvZGVCaWRpW2N1ZVN0eWxlWyd1bmljb2RlLWJpZGknXV0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKCd1bmljb2RlLWJpZGk6JyArIGN1ZVN0eWxlWyd1bmljb2RlLWJpZGknXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFN0YW5kYXJkIHByb3BlcnRpZXMgaWRlbnRpY2FsIHRvIENTUy5cclxuXHJcbiAgICAgICAgaWYgKCdmb250LXN0eWxlJyBpbiBjdWVTdHlsZSkge1xyXG4gICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2goJ2ZvbnQtc3R5bGU6JyArIGN1ZVN0eWxlWydmb250LXN0eWxlJ10gKyAnOycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJ2ZvbnQtd2VpZ2h0JyBpbiBjdWVTdHlsZSkge1xyXG4gICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2goJ2ZvbnQtd2VpZ2h0OicgKyBjdWVTdHlsZVsnZm9udC13ZWlnaHQnXSArICc7Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgnZGlyZWN0aW9uJyBpbiBjdWVTdHlsZSkge1xyXG4gICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2goJ2RpcmVjdGlvbjonICsgY3VlU3R5bGUuZGlyZWN0aW9uICsgJzsnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCd0ZXh0LWRlY29yYXRpb24nIGluIGN1ZVN0eWxlKSB7XHJcbiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaCgndGV4dC1kZWNvcmF0aW9uOicgKyBjdWVTdHlsZVsndGV4dC1kZWNvcmF0aW9uJ10gKyAnOycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGluY2x1ZGVSZWdpb25TdHlsZXMpIHtcclxuICAgICAgICAgICAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMuY29uY2F0KHByb2Nlc3NSZWdpb24oY3VlU3R5bGUsIGNlbGxVbml0KSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBIYW5kbGUgd2hpdGUtc3BhY2UgcHJlc2VydmVcclxuICAgICAgICBpZiAodHRtbC50dC5oYXNPd25Qcm9wZXJ0eSgneG1sOnNwYWNlJykpIHtcclxuICAgICAgICAgICAgaWYgKHR0bWwudHRbJ3htbDpzcGFjZSddID09PSAncHJlc2VydmUnKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2goJ3doaXRlLXNwYWNlOiBwcmU7Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBwcm9wZXJ0aWVzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEZpbmQgdGhlIHN0eWxlIHNldCBieSBjb21wYXJpbmcgdGhlIHN0eWxlIElEcyBhdmFpbGFibGUuXHJcbiAgICAvLyBSZXR1cm4gbnVsbCBpZiBubyBzdHlsZSBpcyBmb3VuZFxyXG4gICAgZnVuY3Rpb24gZmluZFN0eWxlRnJvbUlEKHR0bWxTdHlsaW5nLCBjdWVTdHlsZUlEKSB7XHJcbiAgICAgICAgLy8gRm9yIGV2ZXJ5IHN0eWxlcyBhdmFpbGFibGUsIHNlYXJjaCB0aGUgY29ycmVzcG9uZGluZyBzdHlsZSBpbiB0dG1sU3R5bGluZy5cclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHR0bWxTdHlsaW5nLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyU3R5bGUgPSB0dG1sU3R5bGluZ1tqXTtcclxuICAgICAgICAgICAgaWYgKGN1cnJTdHlsZVsneG1sOmlkJ10gPT09IGN1ZVN0eWxlSUQgfHwgY3VyclN0eWxlLmlkID09PSBjdWVTdHlsZUlEKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdGhlIHN0eWxlIGNvcnJlc3BvbmRpbmcgdG8gdGhlIElEIGluIHBhcmFtZXRlci5cclxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyU3R5bGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICAvLyBSZXR1cm4gdGhlIGNvbXB1dGVkIHN0eWxlIGZyb20gYSBjZXJ0YWluIElELlxyXG4gICAgZnVuY3Rpb24gZ2V0UHJvY2Vzc2VkU3R5bGUocmVmZXJlbmNlLCBjZWxsVW5pdCwgaW5jbHVkZVJlZ2lvblN0eWxlcykge1xyXG4gICAgICAgIHZhciBzdHlsZXMgPSBbXTtcclxuICAgICAgICB2YXIgaWRzID0gcmVmZXJlbmNlLm1hdGNoKC9cXFMrL2cpO1xyXG4gICAgICAgIGlkcy5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICAvLyBGaW5kIHRoZSBzdHlsZSBmb3IgZWFjaCBpZCByZWNlaXZlZC5cclxuICAgICAgICAgICAgdmFyIGN1ZVN0eWxlID0gZmluZFN0eWxlRnJvbUlEKHR0bWxTdHlsaW5nLCBpZCk7XHJcbiAgICAgICAgICAgIGlmIChjdWVTdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gUHJvY2VzcyB0aGUgc3R5bGUgZm9yIHRoZSBjdWUgaW4gQ1NTIGZvcm0uXHJcbiAgICAgICAgICAgICAgICAvLyBTZW5kIGEgY29weSBvZiB0aGUgc3R5bGUgb2JqZWN0LCBzbyBpdCBkb2VzIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsIGJ5IGNsZWFuaW5nIGl0LlxyXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlc0Zyb21JZCA9IHByb2Nlc3NTdHlsZShKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGN1ZVN0eWxlKSksIGNlbGxVbml0LCBpbmNsdWRlUmVnaW9uU3R5bGVzKTtcclxuICAgICAgICAgICAgICAgIHN0eWxlcyA9IHN0eWxlcy5jb25jYXQoc3R5bGVzRnJvbUlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBzdHlsZXM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIHJlbGF0aXZlIGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCBmcm9tIGV4dGVudCBhbmQgb3JpZ2luIGluIHBlcmNlbnQuXHJcbiAgICAvLyBSZXR1cm4gb2JqZWN0IHdpdGgge2xlZnQsIHRvcCwgd2lkdGgsIGhlaWdodH0gYXMgbnVtYmVycyBpbiBwZXJjZW50IG9yIG51bGwuXHJcbiAgICBmdW5jdGlvbiBnZXRSZWxhdGl2ZVBvc2l0aW9uaW5nKGVsZW1lbnQsIHR0RXh0ZW50KSB7XHJcblxyXG4gICAgICAgIGxldCBwYWlyUmUgPSAvKFtcXGRcXC5dKykoJXxweClcXHMrKFtcXGRcXC5dKykoJXxweCkvO1xyXG5cclxuICAgICAgICBpZiAoKCd0dHM6ZXh0ZW50JyBpbiBlbGVtZW50KSAmJiAoJ3R0czpvcmlnaW4nIGluIGVsZW1lbnQpICkge1xyXG4gICAgICAgICAgICBsZXQgZXh0ZW50UGFydHMgPSBwYWlyUmUuZXhlYyhlbGVtZW50Wyd0dHM6ZXh0ZW50J10pO1xyXG4gICAgICAgICAgICBsZXQgb3JpZ2luUGFydHMgPSBwYWlyUmUuZXhlYyhlbGVtZW50Wyd0dHM6b3JpZ2luJ10pO1xyXG4gICAgICAgICAgICBpZiAoZXh0ZW50UGFydHMgPT09IG51bGwgfHwgb3JpZ2luUGFydHMgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdCYWQgZXh0ZW50IG9yIG9yaWdpbjogJyArIGVsZW1lbnRbJ3R0czpleHRlbnQnXSArICcgJyArIGVsZW1lbnRbJ3R0czpvcmlnaW4nXSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgd2lkdGggPSBwYXJzZUZsb2F0KGV4dGVudFBhcnRzWzFdKTtcclxuICAgICAgICAgICAgbGV0IGhlaWdodCA9IHBhcnNlRmxvYXQoZXh0ZW50UGFydHNbM10pO1xyXG4gICAgICAgICAgICBsZXQgbGVmdCA9IHBhcnNlRmxvYXQob3JpZ2luUGFydHNbMV0pO1xyXG4gICAgICAgICAgICBsZXQgdG9wID0gcGFyc2VGbG9hdChvcmlnaW5QYXJ0c1szXSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodHRFeHRlbnQpIHsgLy8gU2hvdWxkIGdpdmUgb3ZlcmFsbCBzY2FsZSBpbiBwaXhlbHNcclxuICAgICAgICAgICAgICAgIGxldCB0dEV4dGVudFBhcnRzID0gcGFpclJlLmV4ZWModHRFeHRlbnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR0RXh0ZW50UGFydHMgPT09IG51bGwgfHwgdHRFeHRlbnRQYXJ0c1syXSAhPT0gJ3B4JyB8fCB0dEV4dGVudFBhcnRzWzRdICE9PSAncHgnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0JhZCB0dC5leHRlbnQ6ICcgKyB0dEV4dGVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgZXhXaWR0aCA9IHBhcnNlRmxvYXQodHRFeHRlbnRQYXJ0c1sxXSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZXhIZWlnaHQgPSBwYXJzZUZsb2F0KHR0RXh0ZW50UGFydHNbM10pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGV4dGVudFBhcnRzWzJdID09PSAncHgnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSB3aWR0aCAvIGV4V2lkdGggKiAxMDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZXh0ZW50UGFydHNbNF0gPT09ICdweCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBoZWlnaHQgLyBleEhlaWdodCAqIDEwMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvcmlnaW5QYXJ0c1syXSA9PT0gJ3B4Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSBsZWZ0IC8gZXhXaWR0aCAqIDEwMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvcmlnaW5QYXJ0c1s0XSA9PT0gJ3B4Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcCA9IHRvcCAvIGV4SGVpZ2h0ICogMTAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB7ICdsZWZ0JzogbGVmdCwgJ3RvcCc6IHRvcCwgJ3dpZHRoJzogd2lkdGgsICdoZWlnaHQnOiBoZWlnaHQgfTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQcm9jZXNzaW5nIG9mIGxheW91dCBpbmZvcm1hdGlvbjpcclxuICAgICAqIC0gcHJvY2Vzc1JlZ2lvbjogcmV0dXJuIGFuIGFycmF5IG9mIHN0cmluZ3Mgd2l0aCB0aGUgY3VlIHJlZ2lvbiB1bmRlciBhIENTUyBzdHlsZSBmb3JtLlxyXG4gICAgICogLSBmaW5kUmVnaW9uRnJvbUlEOiBSZXR1cm4gdGhlIHVucHJvY2Vzc2VkIHJlZ2lvbiBmcm9tIFRUTUxMYXlvdXQgY29ycmVzcG9uZGluZyB0byB0aGUgSUQgcmVzZWFyY2hlZC5cclxuICAgICAqIC0gZ2V0UHJvY2Vzc2VkUmVnaW9uOiBSZXR1cm4gdGhlIHByb2Nlc3NlZCByZWdpb24ocykgZnJvbSB0aGUgSUQocykgcmVjZWl2ZWQgaW4gZW50cnkuXHJcbiAgICAgKioqL1xyXG5cclxuICAgIC8vIENvbXB1dGUgdGhlIHJlZ2lvbiBwcm9wZXJ0aWVzIHRvIHJldHVybiBhbiBhcnJheSB3aXRoIHRoZSBjbGVhbmVkIHByb3BlcnRpZXMuXHJcbiAgICBmdW5jdGlvbiBwcm9jZXNzUmVnaW9uKGN1ZVJlZ2lvbiwgY2VsbFVuaXQpIHtcclxuICAgICAgICB2YXIgcHJvcGVydGllcyA9IFtdO1xyXG5cclxuICAgICAgICAvLyBDbGVhbiB1cCBmcm9tIHRoZSB4bWwyanNvbiBwYXJzaW5nOlxyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBjdWVSZWdpb24pIHtcclxuICAgICAgICAgICAgLy9DbGVhbiB0aGUgcHJvcGVydGllcyBmcm9tIHRoZSBwYXJzaW5nLlxyXG4gICAgICAgICAgICB2YXIgbmV3S2V5ID0ga2V5LnJlcGxhY2UoJ3R0czonLCAnJyk7XHJcbiAgICAgICAgICAgIG5ld0tleSA9IG5ld0tleS5yZXBsYWNlKCd4bWw6JywgJycpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2xlYW4gdGhlIHByb3BlcnRpZXMnIG5hbWVzLlxyXG4gICAgICAgICAgICBuZXdLZXkgPSBjYW1lbENhc2VUb0Rhc2gobmV3S2V5KTtcclxuICAgICAgICAgICAgY3VlUmVnaW9uW25ld0tleV0gPSBjdWVSZWdpb25ba2V5XTtcclxuICAgICAgICAgICAgaWYgKG5ld0tleSAhPT0ga2V5KSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgY3VlUmVnaW9uW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRXh0ZW50IHByb3BlcnR5IGNvcnJlc3BvbmRzIHRvIHdpZHRoIGFuZCBoZWlnaHRcclxuICAgICAgICBpZiAoJ2V4dGVudCcgaW4gY3VlUmVnaW9uKSB7XHJcbiAgICAgICAgICAgIHZhciBjb29yZHNFeHRlbnQgPSBjdWVSZWdpb24uZXh0ZW50LnNwbGl0KC9cXHMvKTtcclxuICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKCd3aWR0aDogJyArIGNvb3Jkc0V4dGVudFswXSArICc7Jyk7XHJcbiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaCgnaGVpZ2h0OiAnICsgY29vcmRzRXh0ZW50WzFdICsgJzsnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gT3JpZ2luIHByb3BlcnR5IGNvcnJlc3BvbmRzIHRvIHRvcCBhbmQgbGVmdFxyXG4gICAgICAgIGlmICgnb3JpZ2luJyBpbiBjdWVSZWdpb24pIHtcclxuICAgICAgICAgICAgdmFyIGNvb3Jkc09yaWdpbiA9IGN1ZVJlZ2lvbi5vcmlnaW4uc3BsaXQoL1xccy8pO1xyXG4gICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2goJ2xlZnQ6ICcgKyBjb29yZHNPcmlnaW5bMF0gKyAnOycpO1xyXG4gICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2goJ3RvcDogJyArIGNvb3Jkc09yaWdpblsxXSArICc7Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIERpc3BsYXlBbGlnbiBwcm9wZXJ0eSBjb3JyZXNwb25kcyB0byB2ZXJ0aWNhbC1hbGlnblxyXG4gICAgICAgIGlmICgnZGlzcGxheS1hbGlnbicgaW4gY3VlUmVnaW9uKSB7XHJcbiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaChkaXNwbGF5QWxpZ25bY3VlUmVnaW9uWydkaXNwbGF5LWFsaWduJ11dKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gV3JpdGluZ01vZGUgaXMgbm90IHlldCBpbXBsZW1lbnRlZCAoZm9yIENTUzMsIHRvIGNvbWUpXHJcbiAgICAgICAgaWYgKCd3cml0aW5nLW1vZGUnIGluIGN1ZVJlZ2lvbikge1xyXG4gICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2god3JpdGluZ01vZGVbY3VlUmVnaW9uWyd3cml0aW5nLW1vZGUnXV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTdHlsZSB3aWxsIGdpdmUgdG8gdGhlIHJlZ2lvbiB0aGUgc3R5bGUgcHJvcGVydGllcyBmcm9tIHRoZSBzdHlsZSBzZWxlY3RlZFxyXG4gICAgICAgIGlmICgnc3R5bGUnIGluIGN1ZVJlZ2lvbikge1xyXG4gICAgICAgICAgICB2YXIgc3R5bGVGcm9tSUQgPSBnZXRQcm9jZXNzZWRTdHlsZShjdWVSZWdpb24uc3R5bGUsIGNlbGxVbml0LCB0cnVlKTtcclxuICAgICAgICAgICAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMuY29uY2F0KHN0eWxlRnJvbUlEKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFN0YW5kYXJkIHByb3BlcnRpZXMgaWRlbnRpY2FsIHRvIENTUy5cclxuXHJcbiAgICAgICAgaWYgKCdwYWRkaW5nJyBpbiBjdWVSZWdpb24pIHtcclxuICAgICAgICAgICAgcHJvcGVydGllcy5wdXNoKCdwYWRkaW5nOicgKyBjdWVSZWdpb24ucGFkZGluZyArICc7Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgnb3ZlcmZsb3cnIGluIGN1ZVJlZ2lvbikge1xyXG4gICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2goJ292ZXJmbG93OicgKyBjdWVSZWdpb24ub3ZlcmZsb3cgKyAnOycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJ3Nob3ctYmFja2dyb3VuZCcgaW4gY3VlUmVnaW9uKSB7XHJcbiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaCgnc2hvdy1iYWNrZ3JvdW5kOicgKyBjdWVSZWdpb25bJ3Nob3ctYmFja2dyb3VuZCddICsgJzsnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCdpZCcgaW4gY3VlUmVnaW9uKSB7XHJcbiAgICAgICAgICAgIHByb3BlcnRpZXMucHVzaCgncmVnaW9uSUQ6JyArIGN1ZVJlZ2lvbi5pZCArICc7Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcHJvcGVydGllcztcclxuICAgIH1cclxuXHJcbiAgICAvLyBGaW5kIHRoZSByZWdpb24gc2V0IGJ5IGNvbXBhcmluZyB0aGUgcmVnaW9uIElEcyBhdmFpbGFibGUuXHJcbiAgICAvLyBSZXR1cm4gbnVsbCBpZiBubyByZWdpb24gaXMgZm91bmRcclxuICAgIGZ1bmN0aW9uIGZpbmRSZWdpb25Gcm9tSUQodHRtbExheW91dCwgY3VlUmVnaW9uSUQpIHtcclxuICAgICAgICAvLyBGb3IgZXZlcnkgcmVnaW9uIGF2YWlsYWJsZSwgc2VhcmNoIHRoZSBjb3JyZXNwb25kaW5nIHN0eWxlIGluIHR0bWxMYXlvdXQuXHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0dG1sTGF5b3V0Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyUmVnID0gdHRtbExheW91dFtqXTtcclxuICAgICAgICAgICAgaWYgKGN1cnJSZWdbJ3htbDppZCddID09PSBjdWVSZWdpb25JRCB8fCBjdXJyUmVnLmlkID09PSBjdWVSZWdpb25JRCkge1xyXG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSByZWdpb24gY29ycmVzcG9uZGluZyB0byB0aGUgSUQgaW4gcGFyYW1ldGVyLlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJSZWc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV0dXJuIHRoZSBjb21wdXRlZCByZWdpb24gZnJvbSBhIGNlcnRhaW4gSUQuXHJcbiAgICBmdW5jdGlvbiBnZXRQcm9jZXNzZWRSZWdpb24ocmVmZXJlbmNlLCBjZWxsVW5pdCkge1xyXG4gICAgICAgIHZhciByZWdpb25zID0gW107XHJcbiAgICAgICAgdmFyIGlkcyA9IHJlZmVyZW5jZS5tYXRjaCgvXFxTKy9nKTtcclxuICAgICAgICBpZHMuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICAgICAgLy8gRmluZCB0aGUgcmVnaW9uIGZvciBlYWNoIGlkIHJlY2VpdmVkLlxyXG4gICAgICAgICAgICB2YXIgY3VlUmVnaW9uID0gZmluZFJlZ2lvbkZyb21JRCh0dG1sTGF5b3V0LCBpZCk7XHJcbiAgICAgICAgICAgIGlmIChjdWVSZWdpb24pIHtcclxuICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgdGhlIHJlZ2lvbiBmb3IgdGhlIGN1ZSBpbiBDU1MgZm9ybS5cclxuICAgICAgICAgICAgICAgIC8vIFNlbmQgYSBjb3B5IG9mIHRoZSBzdHlsZSBvYmplY3QsIHNvIGl0IGRvZXMgbm90IG1vZGlmeSB0aGUgb3JpZ2luYWwgYnkgY2xlYW5pbmcgaXQuXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVnaW9uc0Zyb21JZCA9IHByb2Nlc3NSZWdpb24oSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjdWVSZWdpb24pKSwgY2VsbFVuaXQpO1xyXG4gICAgICAgICAgICAgICAgcmVnaW9ucyA9IHJlZ2lvbnMuY29uY2F0KHJlZ2lvbnNGcm9tSWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlZ2lvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgLy9SZXR1cm4gdGhlIGNlbGxSZXNvbHV0aW9uIGRlZmluZWQgYnkgdGhlIFRUTUwgZG9jdW1lbnQuXHJcbiAgICBmdW5jdGlvbiBnZXRDZWxsUmVzb2x1dGlvbigpIHtcclxuICAgICAgICB2YXIgZGVmYXVsdENlbGxSZXNvbHV0aW9uID0gWzMyLCAxNV07IC8vIERlZmF1bHQgY2VsbFJlc29sdXRpb24uXHJcbiAgICAgICAgaWYgKHR0bWwudHQuaGFzT3duUHJvcGVydHkoJ3R0cDpjZWxsUmVzb2x1dGlvbicpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0dG1sLnR0Wyd0dHA6Y2VsbFJlc29sdXRpb24nXS5zcGxpdCgnICcpLm1hcChwYXJzZUZsb2F0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdENlbGxSZXNvbHV0aW9uO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXR1cm4gdGhlIGN1ZSB3cmFwcGVkIGludG8gYSBzcGFuIHNwZWNpZnlpbmcgaXRzIGxpbmVQYWRkaW5nLlxyXG4gICAgZnVuY3Rpb24gYXBwbHlMaW5lUGFkZGluZyhjdWVIVE1MLCBjdWVTdHlsZSkge1xyXG4gICAgICAgIC8vIEV4dHJhY3QgdGhlIGxpbmVQYWRkaW5nIHByb3BlcnR5IGZyb20gY3VlU3R5bGVQcm9wZXJ0aWVzLlxyXG4gICAgICAgIHZhciBsaW5lUGFkZGluZ0xlZnQgPSBnZXRQcm9wZXJ0eUZyb21BcnJheSgncGFkZGluZy1sZWZ0JywgY3VlU3R5bGUpO1xyXG4gICAgICAgIHZhciBsaW5lUGFkZGluZ1JpZ2h0ID0gZ2V0UHJvcGVydHlGcm9tQXJyYXkoJ3BhZGRpbmctcmlnaHQnLCBjdWVTdHlsZSk7XHJcbiAgICAgICAgdmFyIGxpbmVQYWRkaW5nID0gbGluZVBhZGRpbmdMZWZ0LmNvbmNhdCgnICcgKyBsaW5lUGFkZGluZ1JpZ2h0ICsgJyAnKTtcclxuXHJcbiAgICAgICAgLy8gRGVjbGFyYXRpb24gb2YgdGhlIEhUTUwgZWxlbWVudHMgdG8gYmUgdXNlZCBpbiB0aGUgY3VlIGlubmVySFRNTCBjb25zdHJ1Y3Rpb24uXHJcbiAgICAgICAgdmFyIG91dGVySFRNTEJlZm9yZUJyID0gJyc7XHJcbiAgICAgICAgdmFyIG91dGVySFRNTEFmdGVyQnIgPSAnJztcclxuICAgICAgICB2YXIgY3VlSW5uZXJIVE1MID0gJyc7XHJcblxyXG4gICAgICAgIC8vIExpc3QgYWxsIHRoZSBub2RlcyBvZiB0aGUgc3VidGl0bGUuXHJcbiAgICAgICAgdmFyIG5vZGVMaXN0ID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoY3VlSFRNTC5jaGlsZHJlbik7XHJcbiAgICAgICAgLy8gVGFrZSBhIGJyIGVsZW1lbnQgYXMgcmVmZXJlbmNlLlxyXG4gICAgICAgIHZhciBickVsZW1lbnQgPSBjdWVIVE1MLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2xpbmVCcmVhaycpWzBdO1xyXG4gICAgICAgIC8vIEZpcnN0IGluZGV4IG9mIHRoZSBmaXJzdCBiciBlbGVtZW50LlxyXG4gICAgICAgIHZhciBpZHggPSBub2RlTGlzdC5pbmRleE9mKGJyRWxlbWVudCk7XHJcbiAgICAgICAgLy8gYXJyYXkgb2YgYWxsIHRoZSBiciBlbGVtZW50IGluZGljZXNcclxuICAgICAgICB2YXIgaW5kaWNlcyA9IFtdO1xyXG4gICAgICAgIC8vIEZpbmQgYWxsIHRoZSBpbmRpY2VzIG9mIHRoZSBiciBlbGVtZW50cy5cclxuICAgICAgICB3aGlsZSAoaWR4ICE9IC0xKSB7XHJcbiAgICAgICAgICAgIGluZGljZXMucHVzaChpZHgpO1xyXG4gICAgICAgICAgICBpZHggPSBub2RlTGlzdC5pbmRleE9mKGJyRWxlbWVudCwgaWR4ICsgMSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTdHJpbmdzIGZvciB0aGUgY3VlIGlubmVySFRNTCBjb25zdHJ1Y3Rpb24uXHJcbiAgICAgICAgdmFyIHNwYW5TdHJpbmdFbmQgPSAnPFxcL3NwYW4+JztcclxuICAgICAgICB2YXIgYnIgPSAnPGJyPic7XHJcbiAgICAgICAgdmFyIGNsb25lUHJvcGVydHlTdHJpbmcgPSAnPHNwYW4nICsgJyBjbGFzcz1cInNwYW5QYWRkaW5nXCIgJyArICdzdHlsZT1cIi13ZWJraXQtYm94LWRlY29yYXRpb24tYnJlYWs6IGNsb25lOyBib3gtZGVjb3JhdGlvbi1icmVhazogY2xvbmU7ICc7XHJcblxyXG4gICAgICAgIC8vIElmIGJyIGVsZW1lbnRzIGFyZSBmb3VuZDpcclxuICAgICAgICBpZiAoaW5kaWNlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgLy8gRm9yIGVhY2ggaW5kZXggb2YgYSBiciBlbGVtZW50IHdlIGNvbXB1dGUgdGhlIEhUTUwgY29taW5nIGJlZm9yZSBhbmQvb3IgYWZ0ZXIgaXQuXHJcbiAgICAgICAgICAgIGluZGljZXMuZm9yRWFjaChmdW5jdGlvbiAoaSwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgdGhlIGZpcnN0IGxpbmUgYnJlYWssIHdlIGNvbXB1dGUgdGhlIEhUTUwgb2YgdGhlIGVsZW1lbnQgY29taW5nIGJlZm9yZS5cclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHlsZUJlZm9yZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGZvciBlYWNoIGVsZW1lbnQgY29taW5nIGJlZm9yZSB0aGUgbGluZSBicmVhaywgd2UgYWRkIGl0cyBIVE1MLlxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgaTsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dGVySFRNTEJlZm9yZUJyICs9IG5vZGVMaXN0W2pdLm91dGVySFRNTDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyB0aGUgZmlyc3QgZWxlbWVudCwgd2UgYWRkIGl0cyBzdHlsZSB0byB0aGUgd3JhcHBlci5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGogPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlQmVmb3JlID0gbGluZVBhZGRpbmcuY29uY2F0KG5vZGVMaXN0W2pdLnN0eWxlLmNzc1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBiZWZvcmUgZWxlbWVudCB3aWxsIGNvbXByaXNlcyB0aGUgY2xvbmUgcHJvcGVydHkgKGZvciBsaW5lIHdyYXBwaW5nKSwgdGhlIHN0eWxlIHRoYXRcclxuICAgICAgICAgICAgICAgICAgICAvLyBuZWVkIHRvIGJlIGFwcGxpZWQgKGV4OiBiYWNrZ3JvdW5kLWNvbG9yKSBhbmQgdGhlIHJlc3Qgb2cgdGhlIEhUTUwuXHJcbiAgICAgICAgICAgICAgICAgICAgb3V0ZXJIVE1MQmVmb3JlQnIgPSBjbG9uZVByb3BlcnR5U3RyaW5nICsgc3R5bGVCZWZvcmUgKyAnXCI+JyArIG91dGVySFRNTEJlZm9yZUJyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gRm9yIGV2ZXJ5IGVsZW1lbnQgb2YgdGhlIGxpc3QsIHdlIGNvbXB1dGUgdGhlIGVsZW1lbnQgY29taW5nIGFmdGVyIHRoZSBsaW5lIGJyZWFrLnNcclxuICAgICAgICAgICAgICAgIHZhciBzdHlsZUFmdGVyID0gJyc7XHJcbiAgICAgICAgICAgICAgICAvLyBmb3IgZWFjaCBlbGVtZW50IGNvbWluZyBhZnRlciB0aGUgbGluZSBicmVhaywgd2UgYWRkIGl0cyBIVE1MLlxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IGkgKyAxOyBrIDwgbm9kZUxpc3QubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBvdXRlckhUTUxBZnRlckJyICs9IG5vZGVMaXN0W2tdLm91dGVySFRNTDtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIHRoZSBsYXN0IGVsZW1lbnQsIHdlIGFkZCBpdHMgc3R5bGUgdG8gdGhlIHdyYXBwZXIuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGsgPT09IG5vZGVMaXN0Lmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVBZnRlciArPSBsaW5lUGFkZGluZy5jb25jYXQobm9kZUxpc3Rba10uc3R5bGUuY3NzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFRoZSBiZWZvcmUgZWxlbWVudCB3aWxsIGNvbXByaXNlcyB0aGUgY2xvbmUgcHJvcGVydHkgKGZvciBsaW5lIHdyYXBwaW5nKSwgdGhlIHN0eWxlIHRoYXRcclxuICAgICAgICAgICAgICAgIC8vIG5lZWQgdG8gYmUgYXBwbGllZCAoZXg6IGJhY2tncm91bmQtY29sb3IpIGFuZCB0aGUgcmVzdCBvZyB0aGUgSFRNTC5cclxuICAgICAgICAgICAgICAgIG91dGVySFRNTEFmdGVyQnIgPSBjbG9uZVByb3BlcnR5U3RyaW5nICsgc3R5bGVBZnRlciArICdcIj4nICsgb3V0ZXJIVE1MQWZ0ZXJCcjtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBGb3IgZWFjaCBsaW5lIGJyZWFrIHdlIG11c3QgYWRkIHRoZSBiZWZvcmUgYW5kL29yIGFmdGVyIGVsZW1lbnQgdG8gdGhlIGZpbmFsIGN1ZSBhcyB3ZWxsIGFzXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgbGluZSBicmVhayB3aGVuIG5lZWRlZC5cclxuICAgICAgICAgICAgICAgIGlmIChvdXRlckhUTUxCZWZvcmVCciAmJiBvdXRlckhUTUxBZnRlckJyICYmIGluZGV4ID09PSAoaW5kaWNlcy5sZW5ndGggLSAxKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1ZUlubmVySFRNTCArPSBvdXRlckhUTUxCZWZvcmVCciArIHNwYW5TdHJpbmdFbmQgKyBiciArIG91dGVySFRNTEFmdGVyQnIgKyBzcGFuU3RyaW5nRW5kO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvdXRlckhUTUxCZWZvcmVCciAmJiBvdXRlckhUTUxBZnRlckJyICYmIGluZGV4ICE9PSAoaW5kaWNlcy5sZW5ndGggLSAxKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1ZUlubmVySFRNTCArPSBvdXRlckhUTUxCZWZvcmVCciArIHNwYW5TdHJpbmdFbmQgKyBiciArIG91dGVySFRNTEFmdGVyQnIgKyBzcGFuU3RyaW5nRW5kICsgYnI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG91dGVySFRNTEJlZm9yZUJyICYmICFvdXRlckhUTUxBZnRlckJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VlSW5uZXJIVE1MICs9IG91dGVySFRNTEJlZm9yZUJyICsgc3BhblN0cmluZ0VuZDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIW91dGVySFRNTEJlZm9yZUJyICYmIG91dGVySFRNTEFmdGVyQnIgJiYgaW5kZXggPT09IChpbmRpY2VzLmxlbmd0aCAtIDEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VlSW5uZXJIVE1MICs9IG91dGVySFRNTEFmdGVyQnIgKyBzcGFuU3RyaW5nRW5kO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghb3V0ZXJIVE1MQmVmb3JlQnIgJiYgb3V0ZXJIVE1MQWZ0ZXJCciAmJiBpbmRleCAhPT0gKGluZGljZXMubGVuZ3RoIC0gMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdWVJbm5lckhUTUwgKz0gb3V0ZXJIVE1MQWZ0ZXJCciArIHNwYW5TdHJpbmdFbmQgKyBicjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gbGluZSBicmVhayBpbiB0aGUgc3VidGl0bGUsIHdlIHNpbXBseSB3cmFwIGN1ZSBpbiBhIHNwYW4gaW5kaWNhdGluZyB0aGUgbGluZVBhZGRpbmcuXHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9ICcnO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IG5vZGVMaXN0Lmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZSArPSBub2RlTGlzdFtrXS5zdHlsZS5jc3NUZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1ZUlubmVySFRNTCA9IGNsb25lUHJvcGVydHlTdHJpbmcgKyBsaW5lUGFkZGluZyArIHN0eWxlICsgJ1wiPicgKyBjdWVIVE1MLmlubmVySFRNTCArIHNwYW5TdHJpbmdFbmQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjdWVJbm5lckhUTUw7XHJcbiAgICB9XHJcblxyXG4gICAgLypcclxuICAgICogQ3JlYXRlIHRoZSBjdWUgZWxlbWVudFxyXG4gICAgICogSS4gVGhlIGN1ZXMgYXJlIHRleHQgb25seTpcclxuICAgICAqICAgICAgaSkgVGhlIGN1ZSBjb250YWlucyBhICdicicgZWxlbWVudFxyXG4gICAgICogICAgICBpaSkgVGhlIGN1ZSBjb250YWlucyBhIHNwYW4gZWxlbWVudFxyXG4gICAgICogICAgICBpaWkpIFRoZSBjdWUgY29udGFpbnMgdGV4dFxyXG4gICAgICovXHJcblxyXG4gICAgZnVuY3Rpb24gY29uc3RydWN0Q3VlKGN1ZUVsZW1lbnRzLCBjZWxsVW5pdCkge1xyXG4gICAgICAgIHZhciBjdWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBjdWVFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICAvLyBJZiBtZXRhZGF0YSBpcyBwcmVzZW50LCBkbyBub3QgcHJvY2Vzcy5cclxuICAgICAgICAgICAgaWYgKGVsLmhhc093blByb3BlcnR5KCdtZXRhZGF0YScpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBJZiB0aGUgcCBlbGVtZW50IGNvbnRhaW5zIHNwYW5zOiBjcmVhdGUgdGhlIHNwYW4gZWxlbWVudHMuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBpZiAoZWwuaGFzT3duUHJvcGVydHkoJ3NwYW4nKSkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFN0b2NrIHRoZSBzcGFuIHN1YnRpdGxlcyBpbiBhbiBhcnJheSAoaW4gY2FzZSB0aGVyZSBhcmUgb25seSBvbmUgdmFsdWUpLlxyXG4gICAgICAgICAgICAgICAgdmFyIHNwYW5FbGVtZW50cyA9IGVsLnNwYW4uX19jaGlsZHJlbjtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIHNwYW4gZWxlbWVudC5cclxuICAgICAgICAgICAgICAgIHZhciBzcGFuSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IHRoZSBzdHlsZSBvZiB0aGUgc3Bhbi5cclxuICAgICAgICAgICAgICAgIGlmIChlbC5zcGFuLmhhc093blByb3BlcnR5KCdzdHlsZScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNwYW5TdHlsZSA9IGdldFByb2Nlc3NlZFN0eWxlKGVsLnNwYW4uc3R5bGUsIGNlbGxVbml0KTtcclxuICAgICAgICAgICAgICAgICAgICBzcGFuSFRNTEVsZW1lbnQuY2xhc3NOYW1lID0gJ3NwYW5QYWRkaW5nICcgKyBlbC5zcGFuLnN0eWxlO1xyXG4gICAgICAgICAgICAgICAgICAgIHNwYW5IVE1MRWxlbWVudC5zdHlsZS5jc3NUZXh0ID0gc3BhblN0eWxlLmpvaW4oJyAnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHNwYW4gaGFzIG1vcmUgdGhhbiBvbmUgZWxlbWVudCwgd2UgY2hlY2sgZm9yIGVhY2ggb2YgdGhlbSB0aGVpciBuYXR1cmUgKGJyIG9yIHRleHQpLlxyXG4gICAgICAgICAgICAgICAgc3BhbkVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKHNwYW5FbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIG1ldGFkYXRhIGlzIHByZXNlbnQsIGRvIG5vdCBwcm9jZXNzLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGFuRWxlbWVudHMuaGFzT3duUHJvcGVydHkoJ21ldGFkYXRhJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZWxlbWVudCBpcyBhIHN0cmluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGFuRWwuaGFzT3duUHJvcGVydHkoJyN0ZXh0JykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc3BhbkVsWycjdGV4dCddKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3BhbkhUTUxFbGVtZW50LmFwcGVuZENoaWxkKHRleHROb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGVsZW1lbnQgaXMgYSAnYnInIHRhZ1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJ2JyJyBpbiBzcGFuRWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVG8gaGFuZGxlIGJyIGluc2lkZSBzcGFuIHdlIG5lZWQgdG8gYWRkIHRoZSBjdXJyZW50IHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG8gdGhlIGN1ZSBhbmQgdGhlbiBjcmVhdGUgYSBiciBhbmQgYWRkIHRoYXQgdGhlIGN1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVuIGNyZWF0ZSBhIG5ldyBzcGFuIHRoYXQgd2UgdXNlIGZvciB0aGUgbmV4dCBsaW5lIG9mXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRleHQsIHRoYXQgaXMgYSBjb3B5IG9mIHRoZSBjdXJyZW50IHNwYW5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgY3VycmVudCBzcGFuIHRvIHRoZSBjdWUsIG9ubHkgaWYgaXQgaGFzIGNoaWxkTm9kZXMgKHRleHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGFuSFRNTEVsZW1lbnQuaGFzQ2hpbGROb2RlcygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdWUuYXBwZW5kQ2hpbGQoc3BhbkhUTUxFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgYnIgYW5kIGFkZCB0aGF0IHRvIHRoZSBjdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJyRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdicicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBickVsLmNsYXNzTmFtZSA9ICdsaW5lQnJlYWsnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdWUuYXBwZW5kQ2hpbGQoYnJFbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYW4gcmVwbGFjZW1lbnQgc3BhbiBhbmQgY29weSB0aGUgc3R5bGUgYW5kIGNsYXNzbmFtZSBmcm9tIHRoZSBvbGQgb25lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdTcGFuSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1NwYW5IVE1MRWxlbWVudC5jbGFzc05hbWUgPSBzcGFuSFRNTEVsZW1lbnQuY2xhc3NOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdTcGFuSFRNTEVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IHNwYW5IVE1MRWxlbWVudC5zdHlsZS5jc3NUZXh0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVwbGFjZSB0aGUgY3VycmVudCBzcGFuIHdpdGggdGhlIG9uZSB3ZSBqdXN0IGNyZWF0ZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3BhbkhUTUxFbGVtZW50ID0gbmV3U3BhbkhUTUxFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy8gV2UgYXBwZW5kIHRoZSBlbGVtZW50IHRvIHRoZSBjdWUgY29udGFpbmVyLlxyXG4gICAgICAgICAgICAgICAgY3VlLmFwcGVuZENoaWxkKHNwYW5IVE1MRWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBDcmVhdGUgYSBiciBlbGVtZW50IGlmIHRoZXJlIGlzIG9uZSBpbiB0aGUgY3VlLlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgZWxzZSBpZiAoZWwuaGFzT3duUHJvcGVydHkoJ2JyJykpIHtcclxuICAgICAgICAgICAgICAgIC8vIFdlIGFwcGVuZCB0aGUgbGluZSBicmVhayB0byB0aGUgY3VlIGNvbnRhaW5lci5cclxuICAgICAgICAgICAgICAgIHZhciBickVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnInKTtcclxuICAgICAgICAgICAgICAgIGJyRWwuY2xhc3NOYW1lID0gJ2xpbmVCcmVhayc7XHJcbiAgICAgICAgICAgICAgICBjdWUuYXBwZW5kQ2hpbGQoYnJFbCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBBZGQgdGhlIHRleHQgdGhhdCBpcyBub3QgaW4gYW55IGlubGluZSBlbGVtZW50XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBlbHNlIGlmIChlbC5oYXNPd25Qcm9wZXJ0eSgnI3RleHQnKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQWRkIHRoZSB0ZXh0IHRvIGFuIGluZGl2aWR1YWwgc3BhbiBlbGVtZW50ICh0byBhZGQgbGluZSBwYWRkaW5nIGlmIGl0IGlzIGRlZmluZWQpLlxyXG4gICAgICAgICAgICAgICAgdmFyIHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgICAgICAgICAgdGV4dE5vZGUudGV4dENvbnRlbnQgPSBlbFsnI3RleHQnXTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBXZSBhcHBlbmQgdGhlIGVsZW1lbnQgdG8gdGhlIGN1ZSBjb250YWluZXIuXHJcbiAgICAgICAgICAgICAgICBjdWUuYXBwZW5kQ2hpbGQodGV4dE5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGN1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb25zdHJ1Y3RDdWVSZWdpb24oY3VlLCBkaXYsIGNlbGxVbml0KSB7XHJcbiAgICAgICAgdmFyIGN1ZVJlZ2lvblByb3BlcnRpZXMgPSBbXTsgLy8gcHJvcGVydGllcyB0byBiZSBwdXQgaW4gdGhlIFwiY2FwdGlvblJlZ2lvblwiIEhUTUwgZWxlbWVudFxyXG4gICAgICAgIC8vIE9idGFpbiB0aGUgcmVnaW9uIElEKHMpIGFzc2lnbmVkIHRvIHRoZSBjdWUuXHJcbiAgICAgICAgdmFyIHBSZWdpb25JRCA9IGN1ZS5yZWdpb247XHJcbiAgICAgICAgLy8gSWYgZGl2IGhhcyBhIHJlZ2lvbi5cclxuICAgICAgICB2YXIgZGl2UmVnaW9uSUQgPSBkaXYucmVnaW9uO1xyXG5cclxuICAgICAgICB2YXIgZGl2UmVnaW9uO1xyXG4gICAgICAgIHZhciBwUmVnaW9uO1xyXG5cclxuICAgICAgICAvLyBJZiB0aGUgZGl2IGVsZW1lbnQgcmVmZXJlbmNlIGEgcmVnaW9uLlxyXG4gICAgICAgIGlmIChkaXZSZWdpb25JRCkge1xyXG4gICAgICAgICAgICBkaXZSZWdpb24gPSBnZXRQcm9jZXNzZWRSZWdpb24oZGl2UmVnaW9uSUQsIGNlbGxVbml0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSWYgdGhlIHAgZWxlbWVudCByZWZlcmVuY2UgYSByZWdpb24uXHJcbiAgICAgICAgaWYgKHBSZWdpb25JRCkge1xyXG4gICAgICAgICAgICBwUmVnaW9uID0gY3VlUmVnaW9uUHJvcGVydGllcy5jb25jYXQoZ2V0UHJvY2Vzc2VkUmVnaW9uKHBSZWdpb25JRCwgY2VsbFVuaXQpKTtcclxuICAgICAgICAgICAgaWYgKGRpdlJlZ2lvbikge1xyXG4gICAgICAgICAgICAgICAgY3VlUmVnaW9uUHJvcGVydGllcyA9IG1lcmdlQXJyYXlzKGRpdlJlZ2lvbiwgcFJlZ2lvbik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjdWVSZWdpb25Qcm9wZXJ0aWVzID0gcFJlZ2lvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoZGl2UmVnaW9uKSB7XHJcbiAgICAgICAgICAgIGN1ZVJlZ2lvblByb3BlcnRpZXMgPSBkaXZSZWdpb247XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBZGQgaW5pdGlhbC9kZWZhdWx0IHZhbHVlcyB0byB3aGF0J3Mgbm90IGRlZmluZWQgaW4gdGhlIGxheW91dDpcclxuICAgICAgICBhcHBseURlZmF1bHRQcm9wZXJ0aWVzKGN1ZVJlZ2lvblByb3BlcnRpZXMsIGRlZmF1bHRMYXlvdXRQcm9wZXJ0aWVzKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGN1ZVJlZ2lvblByb3BlcnRpZXM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29uc3RydWN0Q3VlU3R5bGUoY3VlLCBjZWxsVW5pdCkge1xyXG4gICAgICAgIHZhciBjdWVTdHlsZVByb3BlcnRpZXMgPSBbXTsgLy8gcHJvcGVydGllcyB0byBiZSBwdXQgaW4gdGhlIFwicGFyYWdyYXBoXCIgSFRNTCBlbGVtZW50XHJcbiAgICAgICAgLy8gT2J0YWluIHRoZSBzdHlsZSBJRChzKSBhc3NpZ25lZCB0byB0aGUgY3VlLlxyXG4gICAgICAgIHZhciBwU3R5bGVJRCA9IGN1ZS5zdHlsZTtcclxuICAgICAgICAvLyBJZiBib2R5IGhhcyBhIHN0eWxlLlxyXG4gICAgICAgIHZhciBib2R5U3R5bGVJRCA9IHR0bWwudHQuYm9keS5zdHlsZTtcclxuICAgICAgICAvLyBJZiBkaXYgaGFzIGEgc3R5bGUuXHJcbiAgICAgICAgdmFyIGRpdlN0eWxlSUQgPSB0dG1sLnR0LmJvZHkuZGl2LnN0eWxlO1xyXG5cclxuICAgICAgICB2YXIgYm9keVN0eWxlO1xyXG4gICAgICAgIHZhciBkaXZTdHlsZTtcclxuICAgICAgICB2YXIgcFN0eWxlO1xyXG4gICAgICAgIHZhciBzdHlsZUlEcyA9ICcnO1xyXG5cclxuICAgICAgICAvLyBJZiB0aGUgYm9keSBlbGVtZW50IHJlZmVyZW5jZSBhIHN0eWxlLlxyXG4gICAgICAgIGlmIChib2R5U3R5bGVJRCkge1xyXG4gICAgICAgICAgICBib2R5U3R5bGUgPSBnZXRQcm9jZXNzZWRTdHlsZShib2R5U3R5bGVJRCwgY2VsbFVuaXQpO1xyXG4gICAgICAgICAgICBzdHlsZUlEcyA9ICdwYXJhZ3JhcGggJyArIGJvZHlTdHlsZUlEO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgdGhlIGRpdiBlbGVtZW50IHJlZmVyZW5jZSBhIHN0eWxlLlxyXG4gICAgICAgIGlmIChkaXZTdHlsZUlEKSB7XHJcbiAgICAgICAgICAgIGRpdlN0eWxlID0gZ2V0UHJvY2Vzc2VkU3R5bGUoZGl2U3R5bGVJRCwgY2VsbFVuaXQpO1xyXG4gICAgICAgICAgICBpZiAoYm9keVN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICBkaXZTdHlsZSA9IG1lcmdlQXJyYXlzKGJvZHlTdHlsZSwgZGl2U3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgc3R5bGVJRHMgKz0gJyAnICsgZGl2U3R5bGVJRDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlSURzID0gJ3BhcmFncmFwaCAnICsgZGl2U3R5bGVJRDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWYgdGhlIHAgZWxlbWVudCByZWZlcmVuY2UgYSBzdHlsZS5cclxuICAgICAgICBpZiAocFN0eWxlSUQpIHtcclxuICAgICAgICAgICAgcFN0eWxlID0gZ2V0UHJvY2Vzc2VkU3R5bGUocFN0eWxlSUQsIGNlbGxVbml0KTtcclxuICAgICAgICAgICAgaWYgKGJvZHlTdHlsZSAmJiBkaXZTdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgY3VlU3R5bGVQcm9wZXJ0aWVzID0gbWVyZ2VBcnJheXMoZGl2U3R5bGUsIHBTdHlsZSk7XHJcbiAgICAgICAgICAgICAgICBzdHlsZUlEcyArPSAnICcgKyBwU3R5bGVJRDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChib2R5U3R5bGUpIHtcclxuICAgICAgICAgICAgICAgIGN1ZVN0eWxlUHJvcGVydGllcyA9IG1lcmdlQXJyYXlzKGJvZHlTdHlsZSwgcFN0eWxlKTtcclxuICAgICAgICAgICAgICAgIHN0eWxlSURzICs9ICcgJyArIHBTdHlsZUlEO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpdlN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICBjdWVTdHlsZVByb3BlcnRpZXMgPSBtZXJnZUFycmF5cyhkaXZTdHlsZSwgcFN0eWxlKTtcclxuICAgICAgICAgICAgICAgIHN0eWxlSURzICs9ICcgJyArIHBTdHlsZUlEO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3VlU3R5bGVQcm9wZXJ0aWVzID0gcFN0eWxlO1xyXG4gICAgICAgICAgICAgICAgc3R5bGVJRHMgPSAncGFyYWdyYXBoICcgKyBwU3R5bGVJRDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoYm9keVN0eWxlICYmICFkaXZTdHlsZSkge1xyXG4gICAgICAgICAgICBjdWVTdHlsZVByb3BlcnRpZXMgPSBib2R5U3R5bGU7XHJcbiAgICAgICAgfSBlbHNlIGlmICghYm9keVN0eWxlICYmIGRpdlN0eWxlKSB7XHJcbiAgICAgICAgICAgIGN1ZVN0eWxlUHJvcGVydGllcyA9IGRpdlN0eWxlO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vIEFkZCBpbml0aWFsL2RlZmF1bHQgdmFsdWVzIHRvIHdoYXQncyBub3QgZGVmaW5lZCBpbiB0aGUgc3R5bGluZzpcclxuICAgICAgICBhcHBseURlZmF1bHRQcm9wZXJ0aWVzKGN1ZVN0eWxlUHJvcGVydGllcywgZGVmYXVsdFN0eWxlUHJvcGVydGllcyk7XHJcblxyXG4gICAgICAgIHJldHVybiBbY3VlU3R5bGVQcm9wZXJ0aWVzLCBzdHlsZUlEc107XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYXBwbHlEZWZhdWx0UHJvcGVydGllcyhhcnJheSwgZGVmYXVsdFByb3BlcnRpZXMpIHtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGVmYXVsdFByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgaWYgKGRlZmF1bHRQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgICAgIGlmICghYXJyYXlDb250YWlucyhrZXksIGFycmF5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFycmF5LnB1c2goa2V5ICsgJzonICsgZGVmYXVsdFByb3BlcnRpZXNba2V5XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaW5zdGFuY2UgPSB7XHJcbiAgICAgICAgcGFyc2U6IHBhcnNlLFxyXG4gICAgICAgIHNldENvbmZpZzogc2V0Q29uZmlnXHJcbiAgICB9O1xyXG5cclxuICAgIHNldHVwKCk7XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbn1cclxuVFRNTFBhcnNlci5fX2g1cGxheWVyX2ZhY3RvcnlfbmFtZSA9ICdUVE1MUGFyc2VyJztcclxuZXhwb3J0IGRlZmF1bHQgRmFjdG9yeU1ha2VyLmdldFNpbmdsZXRvbkZhY3RvcnkoVFRNTFBhcnNlcik7XHJcbiIsIi8qKlxyXG4gKiBUaGUgY29weXJpZ2h0IGluIHRoaXMgc29mdHdhcmUgaXMgYmVpbmcgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIEJTRCBMaWNlbnNlLFxyXG4gKiBpbmNsdWRlZCBiZWxvdy4gVGhpcyBzb2Z0d2FyZSBtYXkgYmUgc3ViamVjdCB0byBvdGhlciB0aGlyZCBwYXJ0eSBhbmQgY29udHJpYnV0b3JcclxuICogcmlnaHRzLCBpbmNsdWRpbmcgcGF0ZW50IHJpZ2h0cywgYW5kIG5vIHN1Y2ggcmlnaHRzIGFyZSBncmFudGVkIHVuZGVyIHRoaXMgbGljZW5zZS5cclxuICpcclxuICogQ29weXJpZ2h0IChjKSAyMDEzLCBEYXNoIEluZHVzdHJ5IEZvcnVtLlxyXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKlxyXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLFxyXG4gKiBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XHJcbiAqICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpc1xyXG4gKiAgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXHJcbiAqICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcclxuICogIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yXHJcbiAqICBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxyXG4gKiAgKiBOZWl0aGVyIHRoZSBuYW1lIG9mIERhc2ggSW5kdXN0cnkgRm9ydW0gbm9yIHRoZSBuYW1lcyBvZiBpdHNcclxuICogIGNvbnRyaWJ1dG9ycyBtYXkgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmVcclxuICogIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxyXG4gKlxyXG4gKiAgVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBBUyBJUyBBTkQgQU5ZXHJcbiAqICBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEXHJcbiAqICBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuXHJcbiAqICBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULFxyXG4gKiAgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVFxyXG4gKiAgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxyXG4gKiAgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksXHJcbiAqICBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpXHJcbiAqICBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRVxyXG4gKiAgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXHJcbiAqL1xyXG5pbXBvcnQgRmFjdG9yeU1ha2VyIGZyb20gJy4uL2NvcmUvRmFjdG9yeU1ha2VyJztcclxuLy9pbXBvcnQgRGVidWcgZnJvbSAnLi4vLi4vY29yZS9EZWJ1Zyc7XHJcblxyXG5mdW5jdGlvbiBWVFRQYXJzZXIoKSB7XHJcbiAgICBsZXQgY29udGV4dCA9IHRoaXMuY29udGV4dDtcclxuICAgIGxldCBsb2cgPSBjb25zb2xlLmxvZzsvL0RlYnVnKGNvbnRleHQpLmdldEluc3RhbmNlKCkubG9nO1xyXG5cclxuICAgIGxldCBpbnN0YW5jZSxcclxuICAgICAgICByZWdFeE5ld0xpbmUsXHJcbiAgICAgICAgcmVnRXhUb2tlbixcclxuICAgICAgICByZWdFeFdoaXRlU3BhY2UsXHJcbiAgICAgICAgcmVnRXhXaGl0ZVNwYWNlV29yZEJvdW5kYXJ5O1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldHVwKCkge1xyXG4gICAgICAgIHJlZ0V4TmV3TGluZSA9IC8oPzpcXHJcXG58XFxyfFxcbikvZ207XHJcbiAgICAgICAgcmVnRXhUb2tlbiA9IC8tLT4vO1xyXG4gICAgICAgIHJlZ0V4V2hpdGVTcGFjZSA9IC8oXltcXHNdK3xbXFxzXSskKS9nO1xyXG4gICAgICAgIHJlZ0V4V2hpdGVTcGFjZVdvcmRCb3VuZGFyeSA9IC9cXHNcXGIvZztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwYXJzZShkYXRhKSB7XHJcbiAgICAgICAgdmFyIGNhcHRpb25BcnJheSA9IFtdO1xyXG4gICAgICAgIHZhciBsZW4sXHJcbiAgICAgICAgICAgIGxhc3RTdGFydFRpbWU7XHJcblxyXG4gICAgICAgIGRhdGEgPSBkYXRhLnNwbGl0KCByZWdFeE5ld0xpbmUgKTtcclxuICAgICAgICBsZW4gPSBkYXRhLmxlbmd0aDtcclxuICAgICAgICBsYXN0U3RhcnRUaW1lID0gLTE7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IGxlbjsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSBkYXRhW2ldO1xyXG5cclxuICAgICAgICAgICAgaWYgKGl0ZW0ubGVuZ3RoID4gMCAmJiBpdGVtICE9PSAnV0VCVlRUJylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0ubWF0Y2gocmVnRXhUb2tlbikpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBwYXJzZUl0ZW1BdHRyaWJ1dGVzKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdWVQb2ludHMgPSBhdHRyaWJ1dGVzLmN1ZVBvaW50cztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3R5bGVzID0gYXR0cmlidXRlcy5zdHlsZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRleHQgPSBnZXRTdWJsaW5lcyhkYXRhLCBpICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0VGltZSA9IGNvbnZlcnRDdWVQb2ludFRpbWVzKGN1ZVBvaW50c1swXS5yZXBsYWNlKHJlZ0V4V2hpdGVTcGFjZSwgJycpKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZW5kVGltZSA9IGNvbnZlcnRDdWVQb2ludFRpbWVzKGN1ZVBvaW50c1sxXS5yZXBsYWNlKHJlZ0V4V2hpdGVTcGFjZSwgJycpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCghaXNOYU4oc3RhcnRUaW1lKSAmJiAhaXNOYU4oZW5kVGltZSkpICYmIHN0YXJ0VGltZSA+PSBsYXN0U3RhcnRUaW1lICYmIGVuZFRpbWUgPiBzdGFydFRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRleHQgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0U3RhcnRUaW1lID0gc3RhcnRUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9UT0RPIE1ha2UgVk8gZXh0ZXJuYWwgc28gb3RoZXIgcGFyc2VycyBjYW4gdXNlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FwdGlvbkFycmF5LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBzdGFydFRpbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBlbmRUaW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHRleHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVzOiBzdHlsZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nKCdTa2lwcGluZyBjdWUgZHVlIHRvIGVtcHR5L21hbGZvcm1lZCBjdWUgdGV4dCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2coJ1NraXBwaW5nIGN1ZSBkdWUgdG8gaW5jb3JyZWN0IGN1ZSB0aW1pbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjYXB0aW9uQXJyYXk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29udmVydEN1ZVBvaW50VGltZXModGltZSkge1xyXG4gICAgICAgIHZhciB0aW1lQXJyYXkgPSB0aW1lLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgdmFyIGxlbiA9IHRpbWVBcnJheS5sZW5ndGggLSAxO1xyXG5cclxuICAgICAgICB0aW1lID0gcGFyc2VJbnQoIHRpbWVBcnJheVtsZW4gLSAxXSwgMTAgKSAqIDYwICsgcGFyc2VGbG9hdCggdGltZUFycmF5W2xlbl0pO1xyXG5cclxuICAgICAgICBpZiAoIGxlbiA9PT0gMiApIHtcclxuICAgICAgICAgICAgdGltZSArPSBwYXJzZUludCggdGltZUFycmF5WzBdLCAxMCApICogMzYwMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHBhcnNlSXRlbUF0dHJpYnV0ZXMoZGF0YSkge1xyXG4gICAgICAgIHZhciB2dHRDdWVQb2ludHMgPSBkYXRhLnNwbGl0KHJlZ0V4VG9rZW4pO1xyXG4gICAgICAgIHZhciBhcnIgPSB2dHRDdWVQb2ludHNbMV0uc3BsaXQocmVnRXhXaGl0ZVNwYWNlV29yZEJvdW5kYXJ5KTtcclxuICAgICAgICBhcnIuc2hpZnQoKTsgLy9yZW1vdmUgZmlyc3QgYXJyYXkgaW5kZXggaXQgaXMgZW1wdHkuLi5cclxuICAgICAgICB2dHRDdWVQb2ludHNbMV0gPSBhcnJbMF07XHJcbiAgICAgICAgYXJyLnNoaWZ0KCk7XHJcbiAgICAgICAgcmV0dXJuIHtjdWVQb2ludHM6IHZ0dEN1ZVBvaW50cywgc3R5bGVzOiBnZXRDYXB0aW9uU3R5bGVzKGFycil9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldENhcHRpb25TdHlsZXMoYXJyKSB7XHJcbiAgICAgICAgdmFyIHN0eWxlT2JqZWN0ID0ge307XHJcbiAgICAgICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3BsaXQoLzovKS5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gZWxlbWVudC5zcGxpdCgvOi8pWzFdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbCAmJiB2YWwuc2VhcmNoKC8lLykgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUludCh2YWwucmVwbGFjZSgvJS8sICcnKSwgMTApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQubWF0Y2goL2FsaWduLykgfHwgZWxlbWVudC5tYXRjaCgvQS8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVPYmplY3QuYWxpZ24gPSB2YWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5tYXRjaCgvbGluZS8pIHx8IGVsZW1lbnQubWF0Y2goL0wvKSApIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZU9iamVjdC5saW5lID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQubWF0Y2goL3Bvc2l0aW9uLykgfHwgZWxlbWVudC5tYXRjaCgvUC8pICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlT2JqZWN0LnBvc2l0aW9uID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQubWF0Y2goL3NpemUvKSB8fCBlbGVtZW50Lm1hdGNoKC9TLykpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZU9iamVjdC5zaXplID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBzdHlsZU9iamVjdDtcclxuICAgIH1cclxuXHJcbiAgICAvKlxyXG4gICAgKiBWVFQgY2FuIGhhdmUgbXVsdGlwbGUgbGluZXMgdG8gZGlzcGxheSBwZXIgY3VlcG9pbnQuXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0U3VibGluZXMoZGF0YSwgaWR4KSB7XHJcbiAgICAgICAgdmFyIGkgPSBpZHg7XHJcblxyXG4gICAgICAgIHZhciBzdWJsaW5lID0gJyc7XHJcbiAgICAgICAgdmFyIGxpbmVEYXRhID0gJyc7XHJcbiAgICAgICAgdmFyIGxpbmVDb3VudDtcclxuXHJcbiAgICAgICAgd2hpbGUgKGRhdGFbaV0gIT09ICcnICYmIGkgPCBkYXRhLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBpKys7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsaW5lQ291bnQgPSBpIC0gaWR4O1xyXG4gICAgICAgIGlmIChsaW5lQ291bnQgPiAxKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGluZUNvdW50OyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGxpbmVEYXRhID0gZGF0YVsoaWR4ICsgaildO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFsaW5lRGF0YS5tYXRjaChyZWdFeFRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1YmxpbmUgKz0gbGluZURhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGogIT09IGxpbmVDb3VudCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VibGluZSArPSAnXFxuJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjYXB0aW9uIHRleHQgc2hvdWxkIG5vdCBoYXZlICctLT4nIGluIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgc3VibGluZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGluZURhdGEgPSBkYXRhW2lkeF07XHJcbiAgICAgICAgICAgIGlmICghbGluZURhdGEubWF0Y2gocmVnRXhUb2tlbikpXHJcbiAgICAgICAgICAgICAgICBzdWJsaW5lID0gbGluZURhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkZWNvZGVVUkkoc3VibGluZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5zdGFuY2UgPSB7XHJcbiAgICAgICAgcGFyc2U6IHBhcnNlXHJcbiAgICB9O1xyXG5cclxuICAgIHNldHVwKCk7XHJcbiAgICByZXR1cm4gaW5zdGFuY2U7XHJcbn1cclxuVlRUUGFyc2VyLl9faDVwbGF5ZXJfZmFjdG9yeV9uYW1lID0gJ1ZUVFBhcnNlcic7XHJcbmV4cG9ydCBkZWZhdWx0IEZhY3RvcnlNYWtlci5nZXRTaW5nbGV0b25GYWN0b3J5KFZUVFBhcnNlcik7XHJcbiIsIi8qKlxyXG4gKiBUaGUgY29weXJpZ2h0IGluIHRoaXMgc29mdHdhcmUgaXMgYmVpbmcgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIEJTRCBMaWNlbnNlLFxyXG4gKiBpbmNsdWRlZCBiZWxvdy4gVGhpcyBzb2Z0d2FyZSBtYXkgYmUgc3ViamVjdCB0byBvdGhlciB0aGlyZCBwYXJ0eSBhbmQgY29udHJpYnV0b3JcclxuICogcmlnaHRzLCBpbmNsdWRpbmcgcGF0ZW50IHJpZ2h0cywgYW5kIG5vIHN1Y2ggcmlnaHRzIGFyZSBncmFudGVkIHVuZGVyIHRoaXMgbGljZW5zZS5cclxuICpcclxuICogQ29weXJpZ2h0IChjKSAyMDE1LTIwMTYsIERBU0ggSW5kdXN0cnkgRm9ydW0uXHJcbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sXHJcbiAqIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcclxuICogIDEuIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpc1xyXG4gKiAgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXHJcbiAqICAqIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcclxuICogIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yXHJcbiAqICBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxyXG4gKiAgMi4gTmVpdGhlciB0aGUgbmFtZSBvZiBEYXNoIEluZHVzdHJ5IEZvcnVtIG5vciB0aGUgbmFtZXMgb2YgaXRzXHJcbiAqICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlXHJcbiAqICB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cclxuICpcclxuICogIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgQVMgSVMgQU5EIEFOWVxyXG4gKiAgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxyXG4gKiAgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELlxyXG4gKiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCxcclxuICogIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVRcclxuICogIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1JcclxuICogIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxyXG4gKiAgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKVxyXG4gKiAgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEVcclxuICogIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxyXG4gKi9cclxuKGZ1bmN0aW9uKGV4cG9ydHMpIHtcclxuXHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICAvKipcclxuICAgICAqICBFeGNlcHRpb25zIGZyb20gcmVndWxhciBBU0NJSS4gQ29kZVBvaW50cyBhcmUgbWFwcGVkIHRvIFVURi0xNiBjb2Rlc1xyXG4gICAgICovXHJcblxyXG4gICAgdmFyIHNwZWNpYWxDZWE2MDhDaGFyc0NvZGVzID0ge1xyXG4gICAgICAgIDB4MmEgOiAweGUxLCAvLyBsb3dlcmNhc2UgYSwgYWN1dGUgYWNjZW50XHJcbiAgICAgICAgMHg1YyA6IDB4ZTksIC8vIGxvd2VyY2FzZSBlLCBhY3V0ZSBhY2NlbnRcclxuICAgICAgICAweDVlIDogMHhlZCwgLy8gbG93ZXJjYXNlIGksIGFjdXRlIGFjY2VudFxyXG4gICAgICAgIDB4NWYgOiAweGYzLCAvLyBsb3dlcmNhc2UgbywgYWN1dGUgYWNjZW50XHJcbiAgICAgICAgMHg2MCA6IDB4ZmEsIC8vIGxvd2VyY2FzZSB1LCBhY3V0ZSBhY2NlbnRcclxuICAgICAgICAweDdiIDogMHhlNywgLy8gbG93ZXJjYXNlIGMgd2l0aCBjZWRpbGxhXHJcbiAgICAgICAgMHg3YyA6IDB4ZjcsIC8vIGRpdmlzaW9uIHN5bWJvbFxyXG4gICAgICAgIDB4N2QgOiAweGQxLCAvLyB1cHBlcmNhc2UgTiB0aWxkZVxyXG4gICAgICAgIDB4N2UgOiAweGYxLCAvLyBsb3dlcmNhc2UgbiB0aWxkZVxyXG4gICAgICAgIDB4N2YgOiAweDI1ODgsIC8vIEZ1bGwgYmxvY2tcclxuICAgICAgICAvLyBUSElTIEJMT0NLIElOQ0xVREVTIFRIRSAxNiBFWFRFTkRFRCAoVFdPLUJZVEUpIExJTkUgMjEgQ0hBUkFDVEVSU1xyXG4gICAgICAgIC8vIFRIQVQgQ09NRSBGUk9NIEhJIEJZVEU9MHgxMSBBTkQgTE9XIEJFVFdFRU4gMHgzMCBBTkQgMHgzRlxyXG4gICAgICAgIC8vIFRISVMgTUVBTlMgVEhBVCBcXHg1MCBNVVNUIEJFIEFEREVEIFRPIFRIRSBWQUxVRVNcclxuICAgICAgICAweDgwIDogMHhhZSwgLy8gUmVnaXN0ZXJlZCBzeW1ib2wgKFIpXHJcbiAgICAgICAgMHg4MSA6IDB4YjAsIC8vIGRlZ3JlZSBzaWduXHJcbiAgICAgICAgMHg4MiA6IDB4YmQsIC8vIDEvMiBzeW1ib2xcclxuICAgICAgICAweDgzIDogMHhiZiwgLy8gSW52ZXJ0ZWQgKG9wZW4pIHF1ZXN0aW9uIG1hcmtcclxuICAgICAgICAweDg0IDogMHgyMTIyLCAvLyBUcmFkZW1hcmsgc3ltYm9sIChUTSlcclxuICAgICAgICAweDg1IDogMHhhMiwgLy8gQ2VudHMgc3ltYm9sXHJcbiAgICAgICAgMHg4NiA6IDB4YTMsIC8vIFBvdW5kcyBzdGVybGluZ1xyXG4gICAgICAgIDB4ODcgOiAweDI2NmEsIC8vIE11c2ljIDgndGggbm90ZVxyXG4gICAgICAgIDB4ODggOiAweGUwLCAvLyBsb3dlcmNhc2UgYSwgZ3JhdmUgYWNjZW50XHJcbiAgICAgICAgMHg4OSA6IDB4MjAsIC8vIHRyYW5zcGFyZW50IHNwYWNlIChyZWd1bGFyKVxyXG4gICAgICAgIDB4OGEgOiAweGU4LCAvLyBsb3dlcmNhc2UgZSwgZ3JhdmUgYWNjZW50XHJcbiAgICAgICAgMHg4YiA6IDB4ZTIsIC8vIGxvd2VyY2FzZSBhLCBjaXJjdW1mbGV4IGFjY2VudFxyXG4gICAgICAgIDB4OGMgOiAweGVhLCAvLyBsb3dlcmNhc2UgZSwgY2lyY3VtZmxleCBhY2NlbnRcclxuICAgICAgICAweDhkIDogMHhlZSwgLy8gbG93ZXJjYXNlIGksIGNpcmN1bWZsZXggYWNjZW50XHJcbiAgICAgICAgMHg4ZSA6IDB4ZjQsIC8vIGxvd2VyY2FzZSBvLCBjaXJjdW1mbGV4IGFjY2VudFxyXG4gICAgICAgIDB4OGYgOiAweGZiLCAvLyBsb3dlcmNhc2UgdSwgY2lyY3VtZmxleCBhY2NlbnRcclxuICAgICAgICAvLyBUSElTIEJMT0NLIElOQ0xVREVTIFRIRSAzMiBFWFRFTkRFRCAoVFdPLUJZVEUpIExJTkUgMjEgQ0hBUkFDVEVSU1xyXG4gICAgICAgIC8vIFRIQVQgQ09NRSBGUk9NIEhJIEJZVEU9MHgxMiBBTkQgTE9XIEJFVFdFRU4gMHgyMCBBTkQgMHgzRlxyXG4gICAgICAgIDB4OTAgOiAweGMxLCAvLyBjYXBpdGFsIGxldHRlciBBIHdpdGggYWN1dGVcclxuICAgICAgICAweDkxIDogMHhjOSwgLy8gY2FwaXRhbCBsZXR0ZXIgRSB3aXRoIGFjdXRlXHJcbiAgICAgICAgMHg5MiA6IDB4ZDMsIC8vIGNhcGl0YWwgbGV0dGVyIE8gd2l0aCBhY3V0ZVxyXG4gICAgICAgIDB4OTMgOiAweGRhLCAvLyBjYXBpdGFsIGxldHRlciBVIHdpdGggYWN1dGVcclxuICAgICAgICAweDk0IDogMHhkYywgLy8gY2FwaXRhbCBsZXR0ZXIgVSB3aXRoIGRpYXJlc2lzXHJcbiAgICAgICAgMHg5NSA6IDB4ZmMsIC8vIGxvd2VyY2FzZSBsZXR0ZXIgVSB3aXRoIGRpYWVyZXNpc1xyXG4gICAgICAgIDB4OTYgOiAweDIwMTgsIC8vIG9wZW5pbmcgc2luZ2xlIHF1b3RlXHJcbiAgICAgICAgMHg5NyA6IDB4YTEsIC8vIGludmVydGVkIGV4Y2xhbWF0aW9uIG1hcmtcclxuICAgICAgICAweDk4IDogMHgyYSwgLy8gYXN0ZXJpc2tcclxuICAgICAgICAweDk5IDogMHgyMDE5LCAvLyBjbG9zaW5nIHNpbmdsZSBxdW90ZVxyXG4gICAgICAgIDB4OWEgOiAweDI1MDEsIC8vIGJveCBkcmF3aW5ncyBoZWF2eSBob3Jpem9udGFsXHJcbiAgICAgICAgMHg5YiA6IDB4YTksIC8vIGNvcHlyaWdodCBzaWduXHJcbiAgICAgICAgMHg5YyA6IDB4MjEyMCwgLy8gU2VydmljZSBtYXJrXHJcbiAgICAgICAgMHg5ZCA6IDB4MjAyMiwgLy8gKHJvdW5kKSBidWxsZXRcclxuICAgICAgICAweDllIDogMHgyMDFjLCAvLyBMZWZ0IGRvdWJsZSBxdW90YXRpb24gbWFya1xyXG4gICAgICAgIDB4OWYgOiAweDIwMWQsIC8vIFJpZ2h0IGRvdWJsZSBxdW90YXRpb24gbWFya1xyXG4gICAgICAgIDB4YTAgOiAweGMwLCAvLyB1cHBlcmNhc2UgQSwgZ3JhdmUgYWNjZW50XHJcbiAgICAgICAgMHhhMSA6IDB4YzIsIC8vIHVwcGVyY2FzZSBBLCBjaXJjdW1mbGV4XHJcbiAgICAgICAgMHhhMiA6IDB4YzcsIC8vIHVwcGVyY2FzZSBDIHdpdGggY2VkaWxsYVxyXG4gICAgICAgIDB4YTMgOiAweGM4LCAvLyB1cHBlcmNhc2UgRSwgZ3JhdmUgYWNjZW50XHJcbiAgICAgICAgMHhhNCA6IDB4Y2EsIC8vIHVwcGVyY2FzZSBFLCBjaXJjdW1mbGV4XHJcbiAgICAgICAgMHhhNSA6IDB4Y2IsIC8vIGNhcGl0YWwgbGV0dGVyIEUgd2l0aCBkaWFyZXNpc1xyXG4gICAgICAgIDB4YTYgOiAweGViLCAvLyBsb3dlcmNhc2UgbGV0dGVyIGUgd2l0aCBkaWFyZXNpc1xyXG4gICAgICAgIDB4YTcgOiAweGNlLCAvLyB1cHBlcmNhc2UgSSwgY2lyY3VtZmxleFxyXG4gICAgICAgIDB4YTggOiAweGNmLCAvLyB1cHBlcmNhc2UgSSwgd2l0aCBkaWFyZXNpc1xyXG4gICAgICAgIDB4YTkgOiAweGVmLCAvLyBsb3dlcmNhc2UgaSwgd2l0aCBkaWFyZXNpc1xyXG4gICAgICAgIDB4YWEgOiAweGQ0LCAvLyB1cHBlcmNhc2UgTywgY2lyY3VtZmxleFxyXG4gICAgICAgIDB4YWIgOiAweGQ5LCAvLyB1cHBlcmNhc2UgVSwgZ3JhdmUgYWNjZW50XHJcbiAgICAgICAgMHhhYyA6IDB4ZjksIC8vIGxvd2VyY2FzZSB1LCBncmF2ZSBhY2NlbnRcclxuICAgICAgICAweGFkIDogMHhkYiwgLy8gdXBwZXJjYXNlIFUsIGNpcmN1bWZsZXhcclxuICAgICAgICAweGFlIDogMHhhYiwgLy8gbGVmdC1wb2ludGluZyBkb3VibGUgYW5nbGUgcXVvdGF0aW9uIG1hcmtcclxuICAgICAgICAweGFmIDogMHhiYiwgLy8gcmlnaHQtcG9pbnRpbmcgZG91YmxlIGFuZ2xlIHF1b3RhdGlvbiBtYXJrXHJcbiAgICAgICAgLy8gVEhJUyBCTE9DSyBJTkNMVURFUyBUSEUgMzIgRVhURU5ERUQgKFRXTy1CWVRFKSBMSU5FIDIxIENIQVJBQ1RFUlNcclxuICAgICAgICAvLyBUSEFUIENPTUUgRlJPTSBISSBCWVRFPTB4MTMgQU5EIExPVyBCRVRXRUVOIDB4MjAgQU5EIDB4M0ZcclxuICAgICAgICAweGIwIDogMHhjMywgLy8gVXBwZXJjYXNlIEEsIHRpbGRlXHJcbiAgICAgICAgMHhiMSA6IDB4ZTMsIC8vIExvd2VyY2FzZSBhLCB0aWxkZVxyXG4gICAgICAgIDB4YjIgOiAweGNkLCAvLyBVcHBlcmNhc2UgSSwgYWN1dGUgYWNjZW50XHJcbiAgICAgICAgMHhiMyA6IDB4Y2MsIC8vIFVwcGVyY2FzZSBJLCBncmF2ZSBhY2NlbnRcclxuICAgICAgICAweGI0IDogMHhlYywgLy8gTG93ZXJjYXNlIGksIGdyYXZlIGFjY2VudFxyXG4gICAgICAgIDB4YjUgOiAweGQyLCAvLyBVcHBlcmNhc2UgTywgZ3JhdmUgYWNjZW50XHJcbiAgICAgICAgMHhiNiA6IDB4ZjIsIC8vIExvd2VyY2FzZSBvLCBncmF2ZSBhY2NlbnRcclxuICAgICAgICAweGI3IDogMHhkNSwgLy8gVXBwZXJjYXNlIE8sIHRpbGRlXHJcbiAgICAgICAgMHhiOCA6IDB4ZjUsIC8vIExvd2VyY2FzZSBvLCB0aWxkZVxyXG4gICAgICAgIDB4YjkgOiAweDdiLCAvLyBPcGVuIGN1cmx5IGJyYWNlXHJcbiAgICAgICAgMHhiYSA6IDB4N2QsIC8vIENsb3NpbmcgY3VybHkgYnJhY2VcclxuICAgICAgICAweGJiIDogMHg1YywgLy8gQmFja3NsYXNoXHJcbiAgICAgICAgMHhiYyA6IDB4NWUsIC8vIENhcmV0XHJcbiAgICAgICAgMHhiZCA6IDB4NWYsIC8vIFVuZGVyc2NvcmVcclxuICAgICAgICAweGJlIDogMHg3YywgLy8gUGlwZSAodmVydGljYWwgbGluZSlcclxuICAgICAgICAweGJmIDogMHgyMjNjLCAvLyBUaWxkZSBvcGVyYXRvclxyXG4gICAgICAgIDB4YzAgOiAweGM0LCAvLyBVcHBlcmNhc2UgQSwgdW1sYXV0XHJcbiAgICAgICAgMHhjMSA6IDB4ZTQsIC8vIExvd2VyY2FzZSBBLCB1bWxhdXRcclxuICAgICAgICAweGMyIDogMHhkNiwgLy8gVXBwZXJjYXNlIE8sIHVtbGF1dFxyXG4gICAgICAgIDB4YzMgOiAweGY2LCAvLyBMb3dlcmNhc2UgbywgdW1sYXV0XHJcbiAgICAgICAgMHhjNCA6IDB4ZGYsIC8vIEVzc3pldHQgKHNoYXJwIFMpXHJcbiAgICAgICAgMHhjNSA6IDB4YTUsIC8vIFllbiBzeW1ib2xcclxuICAgICAgICAweGM2IDogMHhhNCwgLy8gR2VuZXJpYyBjdXJyZW5jeSBzaWduXHJcbiAgICAgICAgMHhjNyA6IDB4MjUwMywgLy8gQm94IGRyYXdpbmdzIGhlYXZ5IHZlcnRpY2FsXHJcbiAgICAgICAgMHhjOCA6IDB4YzUsIC8vIFVwcGVyY2FzZSBBLCByaW5nXHJcbiAgICAgICAgMHhjOSA6IDB4ZTUsIC8vIExvd2VyY2FzZSBBLCByaW5nXHJcbiAgICAgICAgMHhjYSA6IDB4ZDgsIC8vIFVwcGVyY2FzZSBPLCBzdHJva2VcclxuICAgICAgICAweGNiIDogMHhmOCwgLy8gTG93ZXJjYXNlIG8sIHN0cm9rXHJcbiAgICAgICAgMHhjYyA6IDB4MjUwZiwgLy8gQm94IGRyYXdpbmdzIGhlYXZ5IGRvd24gYW5kIHJpZ2h0XHJcbiAgICAgICAgMHhjZCA6IDB4MjUxMywgLy8gQm94IGRyYXdpbmdzIGhlYXZ5IGRvd24gYW5kIGxlZnRcclxuICAgICAgICAweGNlIDogMHgyNTE3LCAvLyBCb3ggZHJhd2luZ3MgaGVhdnkgdXAgYW5kIHJpZ2h0XHJcbiAgICAgICAgMHhjZiA6IDB4MjUxYiAvLyBCb3ggZHJhd2luZ3MgaGVhdnkgdXAgYW5kIGxlZnRcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgVW5pY29kZSBDaGFyYWN0ZXIgZnJvbSBDRUEtNjA4IGJ5dGUgY29kZVxyXG4gICAgICovXHJcbiAgICB2YXIgZ2V0Q2hhckZvckJ5dGUgPSBmdW5jdGlvbihieXRlKSB7XHJcbiAgICAgICAgdmFyIGNoYXJDb2RlID0gYnl0ZTtcclxuICAgICAgICBpZiAoc3BlY2lhbENlYTYwOENoYXJzQ29kZXMuaGFzT3duUHJvcGVydHkoYnl0ZSkpIHtcclxuICAgICAgICAgICAgY2hhckNvZGUgPSBzcGVjaWFsQ2VhNjA4Q2hhcnNDb2Rlc1tieXRlXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgTlJfUk9XUyA9IDE1LFxyXG4gICAgICAgIE5SX0NPTFMgPSAzMjtcclxuICAgIC8vIFRhYmxlcyB0byBsb29rIHVwIHJvdyBmcm9tIFBBQyBkYXRhXHJcbiAgICB2YXIgcm93c0xvd0NoMSA9IHsweDExIDogMSwgMHgxMiA6IDMsIDB4MTUgOiA1LCAweDE2IDogNywgMHgxNyA6IDksIDB4MTAgOiAxMSwgMHgxMyA6IDEyLCAweDE0IDogMTR9O1xyXG4gICAgdmFyIHJvd3NIaWdoQ2gxID0gezB4MTEgOiAyLCAweDEyIDogNCwgMHgxNSA6IDYsIDB4MTYgOiA4LCAweDE3IDogMTAsIDB4MTMgOiAxMywgMHgxNCA6IDE1fTtcclxuICAgIHZhciByb3dzTG93Q2gyID0gezB4MTkgOiAxLCAweDFBIDogMywgMHgxRCA6IDUsIDB4MUUgOiA3LCAweDFGIDogOSwgMHgxOCA6IDExLCAweDFCIDogMTIsIDB4MUMgOiAxNH07XHJcbiAgICB2YXIgcm93c0hpZ2hDaDIgPSB7MHgxOSA6IDIsIDB4MUEgOiA0LCAweDFEIDogNiwgMHgxRSA6IDgsIDB4MUYgOiAxMCwgMHgxQiA6IDEzLCAweDFDIDogMTV9O1xyXG5cclxuICAgIHZhciBiYWNrZ3JvdW5kQ29sb3JzID0gWyd3aGl0ZScsICdncmVlbicsICdibHVlJywgJ2N5YW4nLCAncmVkJywgJ3llbGxvdycsICdtYWdlbnRhJywgJ2JsYWNrJywgJ3RyYW5zcGFyZW50J107XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaW1wbGUgbG9nZ2VyIGNsYXNzIHRvIGJlIGFibGUgdG8gd3JpdGUgd2l0aCB0aW1lLXN0YW1wcyBhbmQgZmlsdGVyIG9uIGxldmVsLlxyXG4gICAgICovXHJcbiAgICB2YXIgbG9nZ2VyID0ge1xyXG4gICAgICAgIC8vdmVyYm9zZUZpbHRlciA6IHsnREFUQScgOiAzLCAnREVCVUcnIDogMywgJ0lORk8nIDogMiwgJ1dBUk5JTkcnIDogMiwgJ1RFWFQnIDogMSwgJ0VSUk9SJyA6IDB9LFxyXG4gICAgICAgIHZlcmJvc2VGaWx0ZXIgOiB7J0RBVEEnIDogNCwgJ0RFQlVHJyA6IDQsICdJTkZPJyA6IDQsICdXQVJOSU5HJyA6IDIsICdURVhUJyA6IDEsICdFUlJPUicgOiAwfSxcclxuICAgICAgICB0aW1lIDogbnVsbCxcclxuICAgICAgICB2ZXJib3NlTGV2ZWwgOiAwLCAvLyBPbmx5IHdyaXRlIGVycm9yc1xyXG4gICAgICAgIHNldFRpbWUgOiBmdW5jdGlvbihuZXdUaW1lKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZSA9IG5ld1RpbWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsb2cgOiBmdW5jdGlvbihzZXZlcml0eSwgbXNnKSB7XHJcbiAgICAgICAgICAgIHZhciBtaW5MZXZlbCA9IHRoaXMudmVyYm9zZUZpbHRlcltzZXZlcml0eV07XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnZlcmJvc2VMZXZlbCA+PSBtaW5MZXZlbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy50aW1lICsgXCIgW1wiICsgc2V2ZXJpdHkgKyBcIl0gXCIgKyBtc2cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0TG9nTGV2ZWw6IGZ1bmN0aW9uIChsZXZlbCkge1xyXG4gICAgICAgICAgICB0aGlzLnZlcmJvc2VMZXZlbCA9IGxldmVsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIG51bUFycmF5VG9IZXhBcnJheSA9IGZ1bmN0aW9uKG51bUFycmF5KSB7XHJcbiAgICAgICAgdmFyIGhleEFycmF5ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBudW1BcnJheS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBoZXhBcnJheS5wdXNoKG51bUFycmF5W2pdLnRvU3RyaW5nKDE2KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBoZXhBcnJheTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdGF0ZSBvZiBDRUEtNjA4IHBlbiBvciBjaGFyYWN0ZXJcclxuICAgICAqIEBjb25zdHJ1Y3RvclxyXG4gICAgICovXHJcbiAgICB2YXIgUGVuU3RhdGUgPSBmdW5jdGlvbihmb3JlZ3JvdW5kLCB1bmRlcmxpbmUsIGl0YWxpY3MsIGJhY2tncm91bmQsIGZsYXNoKSB7XHJcbiAgICAgICAgdGhpcy5mb3JlZ3JvdW5kID0gZm9yZWdyb3VuZCB8fCBcIndoaXRlXCI7XHJcbiAgICAgICAgdGhpcy51bmRlcmxpbmUgPSB1bmRlcmxpbmUgfHwgZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pdGFsaWNzID0gaXRhbGljcyB8fCBmYWxzZTtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSBiYWNrZ3JvdW5kIHx8IFwiYmxhY2tcIjtcclxuICAgICAgICB0aGlzLmZsYXNoID0gZmxhc2ggfHwgZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIFBlblN0YXRlLnByb3RvdHlwZSA9IHtcclxuICAgICAgICBcclxuICAgICAgICByZXNldCA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLmZvcmVncm91bmQgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgICAgIHRoaXMudW5kZXJsaW5lID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuaXRhbGljcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmQgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgICAgIHRoaXMuZmxhc2ggPSBmYWxzZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFxyXG4gICAgICAgIHNldFN0eWxlcyA6IGZ1bmN0aW9uKHN0eWxlcykge1xyXG4gICAgICAgICAgICB2YXIgYXR0cmlicyA9IFtcImZvcmVncm91bmRcIiwgXCJ1bmRlcmxpbmVcIiwgXCJpdGFsaWNzXCIsIFwiYmFja2dyb3VuZFwiLCBcImZsYXNoXCJdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCBhdHRyaWJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGUgPSBhdHRyaWJzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlcy5oYXNPd25Qcm9wZXJ0eShzdHlsZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzW3N0eWxlXSA9IHN0eWxlc1tzdHlsZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIFxyXG4gICAgICAgIGlzRGVmYXVsdCA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuZm9yZWdyb3VuZCA9PT0gXCJ3aGl0ZVwiICYmICF0aGlzLnVuZGVybGluZSAmJiAhdGhpcy5pdGFsaWNzICYmIFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZCA9PT0gXCJibGFja1wiICYmICF0aGlzLmZsYXNoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBlcXVhbHMgOiBmdW5jdGlvbihvdGhlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gKCAodGhpcy5mb3JlZ3JvdW5kID09PSBvdGhlci5mb3JlZ3JvdW5kKSAmJiBcclxuICAgICAgICAgICAgICAgICAgICAgKHRoaXMudW5kZXJsaW5lID09PSBvdGhlci51bmRlcmxpbmUpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICh0aGlzLml0YWxpY3MgPT09IG90aGVyLml0YWxpY3MpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICh0aGlzLmJhY2tncm91bmQgPT09IG90aGVyLmJhY2tncm91bmQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICh0aGlzLmZsYXNoID09PSBvdGhlci5mbGFzaCkgKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjb3B5IDogZnVuY3Rpb24obmV3UGVuU3RhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5mb3JlZ3JvdW5kID0gbmV3UGVuU3RhdGUuZm9yZWdyb3VuZDtcclxuICAgICAgICAgICAgdGhpcy51bmRlcmxpbmUgPSBuZXdQZW5TdGF0ZS51bmRlcmxpbmU7XHJcbiAgICAgICAgICAgIHRoaXMuaXRhbGljcyA9IG5ld1BlblN0YXRlLml0YWxpY3M7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IG5ld1BlblN0YXRlLmJhY2tncm91bmQ7XHJcbiAgICAgICAgICAgIHRoaXMuZmxhc2ggPSBuZXdQZW5TdGF0ZS5mbGFzaDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFxyXG4gICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcImNvbG9yPVwiICsgdGhpcy5mb3JlZ3JvdW5kICsgXCIsIHVuZGVybGluZT1cIiArIHRoaXMudW5kZXJsaW5lICsgXCIsIGl0YWxpY3M9XCIgKyB0aGlzLml0YWxpY3MgK1xyXG4gICAgICAgICAgICAgICAgXCIsIGJhY2tncm91bmQ9XCIgKyB0aGlzLmJhY2tncm91bmQgKyBcIiwgZmxhc2g9XCIgKyB0aGlzLmZsYXNoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVW5pY29kZSBjaGFyYWN0ZXIgd2l0aCBzdHlsaW5nIGFuZCBiYWNrZ3JvdW5kLlxyXG4gICAgICogQGNvbnN0cnVjdG9yXHJcbiAgICAgKi9cclxuICAgIHZhciBTdHlsZWRVbmljb2RlQ2hhciA9IGZ1bmN0aW9uKHVjaGFyLCBmb3JlZ3JvdW5kLCB1bmRlcmxpbmUsIGl0YWxpY3MsIGJhY2tncm91bmQsIGZsYXNoKSB7XHJcbiAgICAgICAgdGhpcy51Y2hhciA9IHVjaGFyIHx8ICcgJzsgLy8gdW5pY29kZSBjaGFyYWN0ZXJcclxuICAgICAgICB0aGlzLnBlblN0YXRlID0gbmV3IFBlblN0YXRlKGZvcmVncm91bmQsIHVuZGVybGluZSxpdGFsaWNzLCBiYWNrZ3JvdW5kLCBmbGFzaCk7XHJcbiAgICB9O1xyXG5cclxuICAgIFN0eWxlZFVuaWNvZGVDaGFyLnByb3RvdHlwZSA9IHtcclxuICAgICAgICBcclxuICAgICAgICByZXNldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMudWNoYXIgPSAnICc7XHJcbiAgICAgICAgICAgIHRoaXMucGVuU3RhdGUucmVzZXQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFxyXG4gICAgICAgIHNldENoYXI6IGZ1bmN0aW9uKHVjaGFyLCBuZXdQZW5TdGF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnVjaGFyID0gdWNoYXI7XHJcbiAgICAgICAgICAgIHRoaXMucGVuU3RhdGUuY29weShuZXdQZW5TdGF0ZSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcclxuICAgICAgICBzZXRQZW5TdGF0ZTogZnVuY3Rpb24obmV3UGVuU3RhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5wZW5TdGF0ZS5jb3B5KG5ld1BlblN0YXRlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFxyXG4gICAgICAgIGVxdWFsczogZnVuY3Rpb24ob3RoZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudWNoYXIgPT09IG90aGVyLnVjaGFyICYmIHRoaXMucGVuU3RhdGUuZXF1YWxzKG90aGVyLnBlblN0YXRlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvcHk6IGZ1bmN0aW9uKG5ld0NoYXIpIHtcclxuICAgICAgICAgICAgdGhpcy51Y2hhciA9IG5ld0NoYXIudWNoYXI7XHJcbiAgICAgICAgICAgIHRoaXMucGVuU3RhdGUuY29weShuZXdDaGFyLnBlblN0YXRlKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFxyXG4gICAgICAgIGlzRW1wdHkgOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudWNoYXIgPT09ICcgJyAmJiB0aGlzLnBlblN0YXRlLmlzRGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDRUEtNjA4IHJvdyBjb25zaXN0aW5nIG9mIE5SX0NPTFMgaW5zdGFuY2VzIG9mIFN0eWxlZFVuaWNvZGVDaGFyLlxyXG4gICAgICogQGNvbnN0cnVjdG9yXHJcbiAgICAgKi9cclxuICAgIHZhciBSb3cgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLmNoYXJzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpIDwgTlJfQ09MUyA7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmNoYXJzLnB1c2gobmV3IFN0eWxlZFVuaWNvZGVDaGFyKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBvcyA9IDA7XHJcbiAgICAgICAgdGhpcy5jdXJyUGVuU3RhdGUgPSBuZXcgUGVuU3RhdGUoKTtcclxuICAgIH07XHJcblxyXG4gICAgUm93LnByb3RvdHlwZSA9IHtcclxuICAgICAgICBcclxuICAgICAgICBlcXVhbHM6IGZ1bmN0aW9uKG90aGVyKSB7XHJcbiAgICAgICAgICAgIHZhciBlcXVhbCA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IE5SX0NPTFM7IGkgKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGFyc1tpXS5lcXVhbHMob3RoZXIuY2hhcnNbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXF1YWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZXF1YWw7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcclxuICAgICAgICBjb3B5OiBmdW5jdGlvbihvdGhlcikge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCBOUl9DT0xTOyBpICsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJzW2ldLmNvcHkob3RoZXIuY2hhcnNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcclxuICAgICAgICBpc0VtcHR5IDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBlbXB0eSA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IE5SX0NPTFM7IGkgKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGFyc1tpXS5pc0VtcHR5KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbXB0eSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBlbXB0eTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiAgU2V0IHRoZSBjdXJzb3IgdG8gYSB2YWxpZCBjb2x1bW4uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc2V0Q3Vyc29yIDogZnVuY3Rpb24oYWJzUG9zKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBvcyAhPT0gYWJzUG9zKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcyA9IGFic1BvcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5wb3MgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiRVJST1JcIiwgXCJOZWdhdGl2ZSBjdXJzb3IgcG9zaXRpb24gXCIgKyB0aGlzLnBvcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcyA9IDA7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wb3MgPiBOUl9DT0xTKSB7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiRVJST1JcIiwgXCJUb28gbGFyZ2UgY3Vyc29yIHBvc2l0aW9uIFwiICsgdGhpcy5wb3MpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3MgPSBOUl9DT0xTO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqIFxyXG4gICAgICAgICAqIE1vdmUgdGhlIGN1cnNvciByZWxhdGl2ZSB0byBjdXJyZW50IHBvc2l0aW9uLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG1vdmVDdXJzb3IgOiBmdW5jdGlvbihyZWxQb3MpIHtcclxuICAgICAgICAgICAgdmFyIG5ld1BvcyA9IHRoaXMucG9zICsgcmVsUG9zO1xyXG4gICAgICAgICAgICBpZiAocmVsUG9zID4gMSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMucG9zKzE7IGkgPCBuZXdQb3MrMSA7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcnNbaV0uc2V0UGVuU3RhdGUodGhpcy5jdXJyUGVuU3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Q3Vyc29yKG5ld1Bvcyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQmFja3NwYWNlLCBtb3ZlIG9uZSBzdGVwIGJhY2sgYW5kIGNsZWFyIGNoYXJhY3Rlci5cclxuICAgICAgICAgKi9cclxuICAgICAgICBiYWNrU3BhY2UgOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvcigtMSk7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhcnNbdGhpcy5wb3NdLnNldENoYXIoJyAnLCB0aGlzLmN1cnJQZW5TdGF0ZSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaW5zZXJ0Q2hhcjogZnVuY3Rpb24oYnl0ZSkge1xyXG4gICAgICAgICAgICBpZiAoYnl0ZSA+PSAweDkwKSB7IC8vRXh0ZW5kZWQgY2hhclxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrU3BhY2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgY2hhciA9IGdldENoYXJGb3JCeXRlKGJ5dGUpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wb3MgPj0gTlJfQ09MUykge1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkVSUk9SXCIsIFwiQ2Fubm90IGluc2VydCBcIiArIGJ5dGUudG9TdHJpbmcoMTYpICsgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgKFwiICsgY2hhciArIFwiKSBhdCBwb3NpdGlvbiBcIiArIHRoaXMucG9zICsgXCIuIFNraXBwaW5nIGl0IVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNoYXJzW3RoaXMucG9zXS5zZXRDaGFyKGNoYXIsIHRoaXMuY3VyclBlblN0YXRlKTtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yKDEpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGNsZWFyRnJvbVBvcyA6IGZ1bmN0aW9uKHN0YXJ0UG9zKSB7XHJcbiAgICAgICAgICAgIHZhciBpO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSBzdGFydFBvcyA7IGkgPCBOUl9DT0xTIDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJzW2ldLnJlc2V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjbGVhciA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLmNsZWFyRnJvbVBvcygwKTtcclxuICAgICAgICAgICAgdGhpcy5wb3MgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJQZW5TdGF0ZS5yZXNldCgpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGNsZWFyVG9FbmRPZlJvdyA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLmNsZWFyRnJvbVBvcyh0aGlzLnBvcyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZ2V0VGV4dFN0cmluZzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBjaGFycyA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgZW1wdHkgPSB0cnVlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCBOUl9DT0xTIDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2hhciA9IHRoaXMuY2hhcnNbaV0udWNoYXI7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhciAhPT0gXCIgXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbXB0eSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2hhcnMucHVzaChjaGFyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZW1wdHkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJzLmpvaW4oXCJcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRQZW5TdHlsZXM6IGZ1bmN0aW9uKHN0eWxlcykge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJQZW5TdGF0ZS5zZXRTdHlsZXMoc3R5bGVzKTtcclxuICAgICAgICAgICAgdmFyIGN1cnJDaGFyID0gdGhpcy5jaGFyc1t0aGlzLnBvc107XHJcbiAgICAgICAgICAgIGN1cnJDaGFyLnNldFBlblN0YXRlKHRoaXMuY3VyclBlblN0YXRlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogS2VlcCBhIENFQS02MDggc2NyZWVuIG9mIDMyeDE1IHN0eWxlZCBjaGFyYWN0ZXJzXHJcbiAgICAgKiBAY29uc3RydWN0b3JcclxuICAgICovXHJcbiAgICB2YXIgQ2FwdGlvblNjcmVlbiA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB0aGlzLnJvd3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCAgTlJfUk9XUzsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMucm93cy5wdXNoKG5ldyBSb3coKSk7IC8vIE5vdGUgdGhhdCB3ZSB1c2UgemVyby1iYXNlZCBudW1iZXJpbmcgKDAtMTQpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VyclJvdyA9IE5SX1JPV1MgLSAxO1xyXG4gICAgICAgIHRoaXMubnJSb2xsVXBSb3dzID0gbnVsbDtcclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIENhcHRpb25TY3JlZW4ucHJvdG90eXBlID0ge1xyXG5cclxuICAgICAgICByZXNldCA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCBOUl9ST1dTIDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJvd3NbaV0uY2xlYXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmN1cnJSb3cgPSBOUl9ST1dTIC0gMTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBlcXVhbHMgOiBmdW5jdGlvbihvdGhlcikge1xyXG4gICAgICAgICAgICB2YXIgZXF1YWwgPSB0cnVlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCBOUl9ST1dTIDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucm93c1tpXS5lcXVhbHMob3RoZXIucm93c1tpXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlcXVhbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBlcXVhbDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjb3B5IDogZnVuY3Rpb24ob3RoZXIpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpIDwgTlJfUk9XUyA7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3dzW2ldLmNvcHkob3RoZXIucm93c1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBpc0VtcHR5IDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBlbXB0eSA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IE5SX1JPV1MgOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5yb3dzW2ldLmlzRW1wdHkoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGVtcHR5O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGJhY2tTcGFjZSA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3dzW3RoaXMuY3VyclJvd107IFxyXG4gICAgICAgICAgICByb3cuYmFja1NwYWNlKCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgY2xlYXJUb0VuZE9mUm93IDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciByb3cgPSB0aGlzLnJvd3NbdGhpcy5jdXJyUm93XTtcclxuICAgICAgICAgICAgcm93LmNsZWFyVG9FbmRPZlJvdygpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEluc2VydCBhIGNoYXJhY3RlciAod2l0aG91dCBzdHlsaW5nKSBpbiB0aGUgY3VycmVudCByb3cuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaW5zZXJ0Q2hhciA6IGZ1bmN0aW9uKGNoYXIpIHtcclxuICAgICAgICAgICAgdmFyIHJvdyA9IHRoaXMucm93c1t0aGlzLmN1cnJSb3ddO1xyXG4gICAgICAgICAgICByb3cuaW5zZXJ0Q2hhcihjaGFyKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRQZW4gOiBmdW5jdGlvbihzdHlsZXMpIHtcclxuICAgICAgICAgICAgdmFyIHJvdyA9IHRoaXMucm93c1t0aGlzLmN1cnJSb3ddO1xyXG4gICAgICAgICAgICByb3cuc2V0UGVuU3R5bGVzKHN0eWxlcyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgbW92ZUN1cnNvciA6IGZ1bmN0aW9uKHJlbFBvcykge1xyXG4gICAgICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3dzW3RoaXMuY3VyclJvd107XHJcbiAgICAgICAgICAgIHJvdy5tb3ZlQ3Vyc29yKHJlbFBvcyk7IFxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldEN1cnNvciA6IGZ1bmN0aW9uKGFic1Bvcykge1xyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiSU5GT1wiLCBcInNldEN1cnNvcjogXCIgKyBhYnNQb3MpO1xyXG4gICAgICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3dzW3RoaXMuY3VyclJvd107XHJcbiAgICAgICAgICAgIHJvdy5zZXRDdXJzb3IoYWJzUG9zKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRQQUMgOiBmdW5jdGlvbihwYWNEYXRhKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJJTkZPXCIsIFwicGFjRGF0YSA9IFwiICsgSlNPTi5zdHJpbmdpZnkocGFjRGF0YSkpO1xyXG4gICAgICAgICAgICB2YXIgbmV3Um93ID0gcGFjRGF0YS5yb3cgLSAxO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5uclJvbGxVcFJvd3MgICYmIG5ld1JvdyA8IHRoaXMubnJSb2xsVXBSb3dzIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1JvdyA9IHRoaXMubnJSb2xsVXBSb3dzLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jdXJyUm93ID0gbmV3Um93O1xyXG4gICAgICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3dzW3RoaXMuY3VyclJvd107XHJcbiAgICAgICAgICAgIGlmIChwYWNEYXRhLmluZGVudCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGVudCA9IHBhY0RhdGEuaW5kZW50O1xyXG4gICAgICAgICAgICAgICAgdmFyIHByZXZQb3MgPSBNYXRoLm1heChpbmRlbnQtMSwgMCk7XHJcbiAgICAgICAgICAgICAgICByb3cuc2V0Q3Vyc29yKHBhY0RhdGEuaW5kZW50KTtcclxuICAgICAgICAgICAgICAgIHBhY0RhdGEuY29sb3IgPSByb3cuY2hhcnNbcHJldlBvc10ucGVuU3RhdGUuZm9yZWdyb3VuZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgc3R5bGVzID0ge2ZvcmVncm91bmQgOiBwYWNEYXRhLmNvbG9yLCB1bmRlcmxpbmUgOiBwYWNEYXRhLnVuZGVybGluZSwgaXRhbGljcyA6IHBhY0RhdGEuaXRhbGljcywgYmFja2dyb3VuZCA6ICdibGFjaycsIGZsYXNoIDogZmFsc2V9O1xyXG4gICAgICAgICAgICB0aGlzLnNldFBlbihzdHlsZXMpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNldCBiYWNrZ3JvdW5kL2V4dHJhIGZvcmVncm91bmQsIGJ1dCBmaXJzdCBkbyBiYWNrX3NwYWNlLCBhbmQgdGhlbiBpbnNlcnQgc3BhY2UgKGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5KS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBzZXRCa2dEYXRhIDogZnVuY3Rpb24oYmtnRGF0YSkge1xyXG5cclxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIklORk9cIiwgXCJia2dEYXRhID0gXCIgKyBKU09OLnN0cmluZ2lmeShia2dEYXRhKSk7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja1NwYWNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0UGVuKGJrZ0RhdGEpO1xyXG4gICAgICAgICAgICB0aGlzLmluc2VydENoYXIoMHgyMCk7IC8vU3BhY2VcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRSb2xsVXBSb3dzIDogZnVuY3Rpb24obnJSb3dzKSB7XHJcbiAgICAgICAgICAgIHRoaXMubnJSb2xsVXBSb3dzID0gbnJSb3dzO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHJvbGxVcCA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5uclJvbGxVcFJvd3MgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJERUJVR1wiLCBcInJvbGxfdXAgYnV0IG5yUm9sbFVwUm93cyBub3Qgc2V0IHlldFwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjsgLy9Ob3QgcHJvcGVybHkgc2V0dXBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiVEVYVFwiLCB0aGlzLmdldERpc3BsYXlUZXh0KCkpO1xyXG4gICAgICAgICAgICB2YXIgdG9wUm93SW5kZXggPSB0aGlzLmN1cnJSb3cgKyAxIC0gdGhpcy5uclJvbGxVcFJvd3M7XHJcbiAgICAgICAgICAgIHZhciB0b3BSb3cgPSB0aGlzLnJvd3Muc3BsaWNlKHRvcFJvd0luZGV4LCAxKVswXTtcclxuICAgICAgICAgICAgdG9wUm93LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHRoaXMucm93cy5zcGxpY2UodGhpcy5jdXJyUm93LCAwLCB0b3BSb3cpO1xyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiSU5GT1wiLCBcIlJvbGxpbmcgdXBcIik7XHJcbiAgICAgICAgICAgIC8vbG9nZ2VyLmxvZyhcIlRFWFRcIiwgdGhpcy5nZXRfZGlzcGxheV90ZXh0KCkpXHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAvKipcclxuICAgICAgICAqIEdldCBhbGwgbm9uLWVtcHR5IHJvd3Mgd2l0aCBhcyB1bmljb2RlIHRleHQuIFxyXG4gICAgICAgICovICAgICAgICBcclxuICAgICAgICBnZXREaXNwbGF5VGV4dCA6IGZ1bmN0aW9uKGFzT25lUm93KSB7XHJcbiAgICAgICAgICAgIGFzT25lUm93ID0gYXNPbmVSb3cgfHwgZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBkaXNwbGF5VGV4dCA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgdGV4dCA9IFwiXCI7XHJcbiAgICAgICAgICAgIHZhciByb3dOciA9IC0xO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCBOUl9ST1dTIDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcm93VGV4dCA9IHRoaXMucm93c1tpXS5nZXRUZXh0U3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocm93VGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd05yID0gaSsxO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhc09uZVJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5VGV4dC5wdXNoKFwiUm93IFwiICsgcm93TnIgKyAnOiBcIicgKyByb3dUZXh0ICsgJ1wiJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheVRleHQucHVzaChyb3dUZXh0LnRyaW0oKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkaXNwbGF5VGV4dC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXNPbmVSb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gXCJbXCIgKyBkaXNwbGF5VGV4dC5qb2luKFwiIHwgXCIpICsgXCJdXCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSBkaXNwbGF5VGV4dC5qb2luKFwiXFxuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0ZXh0O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldFRleHRBbmRGb3JtYXQgOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucm93cztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIGEgQ0VBLTYwOCBjaGFubmVsIGFuZCBzZW5kIGRlY29kZWQgZGF0YSB0byBvdXRwdXRGaWx0ZXJcclxuICAgICAqIEBjb25zdHJ1Y3RvclxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYW5uZWxOdW1iZXIgKDEgb3IgMilcclxuICAgICAqIEBwYXJhbSB7Q3VlSGFuZGxlcn0gb3V0cHV0RmlsdGVyIE91dHB1dCBmcm9tIGNoYW5uZWwxIG5ld0N1ZShzdGFydFRpbWUsIGVuZFRpbWUsIGNhcHRpb25TY3JlZW4pXHJcbiAgICAqL1xyXG4gICAgdmFyIENlYTYwOENoYW5uZWwgPSBmdW5jdGlvbihjaGFubmVsTnVtYmVyLCBvdXRwdXRGaWx0ZXIpIHtcclxuXHJcbiAgICAgICAgdGhpcy5jaE5yID0gY2hhbm5lbE51bWJlcjtcclxuICAgICAgICB0aGlzLm91dHB1dEZpbHRlciA9IG91dHB1dEZpbHRlcjtcclxuICAgICAgICB0aGlzLm1vZGUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMudmVyYm9zZSA9IDA7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5ZWRNZW1vcnkgPSBuZXcgQ2FwdGlvblNjcmVlbigpO1xyXG4gICAgICAgIHRoaXMubm9uRGlzcGxheWVkTWVtb3J5ID0gbmV3IENhcHRpb25TY3JlZW4oKTtcclxuICAgICAgICB0aGlzLmxhc3RPdXRwdXRTY3JlZW4gPSBuZXcgQ2FwdGlvblNjcmVlbigpO1xyXG4gICAgICAgIHRoaXMuY3VyclJvbGxVcFJvdyA9IHRoaXMuZGlzcGxheWVkTWVtb3J5LnJvd3NbTlJfUk9XUy0xXTtcclxuICAgICAgICB0aGlzLndyaXRlU2NyZWVuID0gdGhpcy5kaXNwbGF5ZWRNZW1vcnk7XHJcbiAgICAgICAgdGhpcy5tb2RlID0gbnVsbDtcclxuICAgICAgICB0aGlzLmN1ZVN0YXJ0VGltZSA9IG51bGw7IC8vIEtlZXBzIHRyYWNrIG9mIHdoZXJlIGEgY3VlIHN0YXJ0ZWQuXHJcbiAgICB9O1xyXG5cclxuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlID0ge1xyXG4gICAgICAgIFxyXG4gICAgICAgIG1vZGVzIDogW1wiTU9ERV9ST0xMLVVQXCIsIFwiTU9ERV9QT1AtT05cIiwgXCJNT0RFX1BBSU5ULU9OXCIsIFwiTU9ERV9URVhUXCJdLFxyXG4gICAgICAgIFxyXG4gICAgICAgIHJlc2V0IDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMubW9kZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheWVkTWVtb3J5LnJlc2V0KCk7XHJcbiAgICAgICAgICAgIHRoaXMubm9uRGlzcGxheWVkTWVtb3J5LnJlc2V0KCk7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdE91dHB1dFNjcmVlbi5yZXNldCgpO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJSb2xsVXBSb3cgPSB0aGlzLmRpc3BsYXllZE1lbW9yeS5yb3dzW05SX1JPV1MtMV07XHJcbiAgICAgICAgICAgIHRoaXMud3JpdGVTY3JlZW4gPSB0aGlzLmRpc3BsYXllZE1lbW9yeTtcclxuICAgICAgICAgICAgdGhpcy5tb2RlID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5jdWVTdGFydFRpbWUgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RDdWVFbmRUaW1lID0gbnVsbDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXRIYW5kbGVyIDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm91dHB1dEZpbHRlcjtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRIYW5kbGVyIDogZnVuY3Rpb24obmV3SGFuZGxlcikge1xyXG4gICAgICAgICAgICB0aGlzLm91dHB1dEZpbHRlciA9IG5ld0hhbmRsZXI7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0UEFDIDogZnVuY3Rpb24ocGFjRGF0YSkge1xyXG4gICAgICAgICAgICB0aGlzLndyaXRlU2NyZWVuLnNldFBBQyhwYWNEYXRhKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRCa2dEYXRhIDogZnVuY3Rpb24oYmtnRGF0YSkge1xyXG4gICAgICAgICAgICB0aGlzLndyaXRlU2NyZWVuLnNldEJrZ0RhdGEoYmtnRGF0YSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0TW9kZSA6IGZ1bmN0aW9uKG5ld01vZGUpIHtcclxuICAgICAgICAgICAgaWYgKG5ld01vZGUgPT09IHRoaXMubW9kZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubW9kZSA9IG5ld01vZGU7XHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJJTkZPXCIsIFwiTU9ERT1cIiArIG5ld01vZGUpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tb2RlID09IFwiTU9ERV9QT1AtT05cIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53cml0ZVNjcmVlbiA9IHRoaXMubm9uRGlzcGxheWVkTWVtb3J5O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53cml0ZVNjcmVlbiA9IHRoaXMuZGlzcGxheWVkTWVtb3J5O1xyXG4gICAgICAgICAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5yZXNldCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm1vZGUgIT09IFwiTU9ERV9ST0xMLVVQXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheWVkTWVtb3J5Lm5yUm9sbFVwUm93cyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vbkRpc3BsYXllZE1lbW9yeS5uclJvbGxVcFJvd3MgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubW9kZSA9IG5ld01vZGU7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaW5zZXJ0Q2hhcnMgOiBmdW5jdGlvbihjaGFycykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCBjaGFycy5sZW5ndGggOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMud3JpdGVTY3JlZW4uaW5zZXJ0Q2hhcihjaGFyc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHNjcmVlbiA9IHRoaXMud3JpdGVTY3JlZW4gPT09IHRoaXMuZGlzcGxheWVkTWVtb3J5ID8gXCJESVNQXCIgOiBcIk5PTl9ESVNQXCI7XHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJJTkZPXCIsIHNjcmVlbiArIFwiOiBcIiArIHRoaXMud3JpdGVTY3JlZW4uZ2V0RGlzcGxheVRleHQodHJ1ZSkpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tb2RlID09PSBcIk1PREVfUEFJTlQtT05cIiB8fCB0aGlzLm1vZGUgPT09IFwiTU9ERV9ST0xMLVVQXCIpIHtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJURVhUXCIsIFwiRElTUExBWUVEOiBcIiArIHRoaXMuZGlzcGxheWVkTWVtb3J5LmdldERpc3BsYXlUZXh0KHRydWUpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0RGF0YVVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgY2NfUkNMOiBmdW5jdGlvbigpIHsgLy8gUmVzdW1lIENhcHRpb24gTG9hZGluZyAoc3dpdGNoIG1vZGUgdG8gUG9wIE9uKVxyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiSU5GT1wiLCBcIlJDTCAtIFJlc3VtZSBDYXB0aW9uIExvYWRpbmdcIik7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0TW9kZShcIk1PREVfUE9QLU9OXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2NfQlM6IGZ1bmN0aW9uKCkgeyAvLyBCYWNrU3BhY2VcclxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIklORk9cIiwgXCJCUyAtIEJhY2tTcGFjZVwiKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gXCJNT0RFX1RFWFRcIikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMud3JpdGVTY3JlZW4uYmFja1NwYWNlKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLndyaXRlU2NyZWVuID09PSB0aGlzLmRpc3BsYXllZE1lbW9yeSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vdXRwdXREYXRhVXBkYXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGNjX0FPRiA6IGZ1bmN0aW9uKCkgeyAvLyBSZXNlcnZlZCAoZm9ybWVybHkgQWxhcm0gT2ZmKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjY19BT046IGZ1bmN0aW9uKCkgeyAvLyBSZXNlcnZlZCAoZm9ybWVybHkgQWxhcm0gT24pXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNjX0RFUjogZnVuY3Rpb24oKSB7IC8vIERlbGV0ZSB0byBFbmQgb2YgUm93XHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJJTkZPXCIsIFwiREVSLSBEZWxldGUgdG8gRW5kIG9mIFJvd1wiKTtcclxuICAgICAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5jbGVhclRvRW5kT2ZSb3coKTtcclxuICAgICAgICAgICAgdGhpcy5vdXRwdXREYXRhVXBkYXRlKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjY19SVTogZnVuY3Rpb24obnJSb3dzKSB7IC8vUm9sbC1VcCBDYXB0aW9ucy0yLDMsb3IgNCBSb3dzXHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJJTkZPXCIsIFwiUlUoXCIgKyBuclJvd3MgK1wiKSAtIFJvbGwgVXBcIik7XHJcbiAgICAgICAgICAgIHRoaXMud3JpdGVTY3JlZW4gPSB0aGlzLmRpc3BsYXllZE1lbW9yeTtcclxuICAgICAgICAgICAgdGhpcy5zZXRNb2RlKFwiTU9ERV9ST0xMLVVQXCIpO1xyXG4gICAgICAgICAgICB0aGlzLndyaXRlU2NyZWVuLnNldFJvbGxVcFJvd3MobnJSb3dzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNjX0ZPTjogZnVuY3Rpb24oKSB7IC8vRmxhc2ggT25cclxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIklORk9cIiwgXCJGT04gLSBGbGFzaCBPblwiKTtcclxuICAgICAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5zZXRQZW4oe2ZsYXNoIDogdHJ1ZX0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2NfUkRDOiBmdW5jdGlvbigpIHsgLy8gUmVzdW1lIERpcmVjdCBDYXB0aW9uaW5nIChzd2l0Y2ggbW9kZSB0byBQYWludE9uKVxyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiSU5GT1wiLCBcIlJEQyAtIFJlc3VtZSBEaXJlY3QgQ2FwdGlvbmluZ1wiKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRNb2RlKFwiTU9ERV9QQUlOVC1PTlwiKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNjX1RSOiBmdW5jdGlvbigpIHsgLy8gVGV4dCBSZXN0YXJ0IGluIHRleHQgbW9kZSAobm90IHN1cHBvcnRlZCwgaG93ZXZlcilcclxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIklORk9cIiwgXCJUUlwiKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRNb2RlKFwiTU9ERV9URVhUXCIpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2NfUlREOiBmdW5jdGlvbigpIHsgLy8gUmVzdW1lIFRleHQgRGlzcGxheSBpbiBUZXh0IG1vZGUgKG5vdCBzdXBwb3J0ZWQsIGhvd2V2ZXIpXHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJJTkZPXCIsIFwiUlREXCIpO1xyXG4gICAgICAgICAgICB0aGlzLnNldE1vZGUoXCJNT0RFX1RFWFRcIik7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjY19FRE06IGZ1bmN0aW9uKCkgeyAvLyBFcmFzZSBEaXNwbGF5ZWQgTWVtb3J5XHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJJTkZPXCIsIFwiRURNIC0gRXJhc2UgRGlzcGxheWVkIE1lbW9yeVwiKTtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5ZWRNZW1vcnkucmVzZXQoKTtcclxuICAgICAgICAgICAgdGhpcy5vdXRwdXREYXRhVXBkYXRlKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjY19DUjogZnVuY3Rpb24oKSB7IC8vIENhcnJpYWdlIFJldHVyblxyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiQ1IgLSBDYXJyaWFnZSBSZXR1cm5cIik7XHJcbiAgICAgICAgICAgIHRoaXMud3JpdGVTY3JlZW4ucm9sbFVwKCk7XHJcbiAgICAgICAgICAgIHRoaXMub3V0cHV0RGF0YVVwZGF0ZSgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2NfRU5NOiBmdW5jdGlvbigpIHsgLy9FcmFzZSBOb24tRGlzcGxheWVkIE1lbW9yeVxyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiSU5GT1wiLCBcIkVOTSAtIEVyYXNlIE5vbi1kaXNwbGF5ZWQgTWVtb3J5XCIpO1xyXG4gICAgICAgICAgICB0aGlzLm5vbkRpc3BsYXllZE1lbW9yeS5yZXNldCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2NfRU9DOiBmdW5jdGlvbigpIHsgLy9FbmQgb2YgQ2FwdGlvbiAoRmxpcCBNZW1vcmllcylcclxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIklORk9cIiwgXCJFT0MgLSBFbmQgT2YgQ2FwdGlvblwiKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gXCJNT0RFX1BPUC1PTlwiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdG1wID0gdGhpcy5kaXNwbGF5ZWRNZW1vcnk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXllZE1lbW9yeSA9IHRoaXMubm9uRGlzcGxheWVkTWVtb3J5O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub25EaXNwbGF5ZWRNZW1vcnkgPSB0bXA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndyaXRlU2NyZWVuID0gdGhpcy5ub25EaXNwbGF5ZWRNZW1vcnk7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiVEVYVFwiLCBcIkRJU1A6IFwiICsgdGhpcy5kaXNwbGF5ZWRNZW1vcnkuZ2V0RGlzcGxheVRleHQoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5vdXRwdXREYXRhVXBkYXRlKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjY19UTzogZnVuY3Rpb24obnJDb2xzKSB7IC8vIFRhYiBPZmZzZXQgMSwyLCBvciAzIGNvbHVtbnNcclxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIklORk9cIiwgXCJUTyhcIiArIG5yQ29scyArIFwiKSAtIFRhYiBPZmZzZXRcIik7XHJcbiAgICAgICAgICAgIHRoaXMud3JpdGVTY3JlZW4ubW92ZUN1cnNvcihuckNvbHMpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2NfTUlEUk9XOiBmdW5jdGlvbihzZWNvbmRCeXRlKSB7IC8vIFBhcnNlIE1JRFJPVyBjb21tYW5kXHJcbiAgICAgICAgICAgIHZhciBzdHlsZXMgPSB7Zmxhc2ggOiBmYWxzZX07XHJcbiAgICAgICAgICAgIHN0eWxlcy51bmRlcmxpbmUgPSBzZWNvbmRCeXRlICUgMiA9PT0gMTtcclxuICAgICAgICAgICAgc3R5bGVzLml0YWxpY3MgPSBzZWNvbmRCeXRlID49IDB4MmU7XHJcbiAgICAgICAgICAgIGlmICghc3R5bGVzLml0YWxpY3MpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb2xvckluZGV4ID0gTWF0aC5mbG9vcihzZWNvbmRCeXRlLzIpIC0gMHgxMDtcclxuICAgICAgICAgICAgICAgIHZhciBjb2xvcnMgPSBbXCJ3aGl0ZVwiLCBcImdyZWVuXCIsIFwiYmx1ZVwiLCBcImN5YW5cIiwgXCJyZWRcIiwgXCJ5ZWxsb3dcIiwgXCJtYWdlbnRhXCJdO1xyXG4gICAgICAgICAgICAgICAgc3R5bGVzLmZvcmVncm91bmQgPSBjb2xvcnNbY29sb3JJbmRleF07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZXMuZm9yZWdyb3VuZCA9IFwid2hpdGVcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiSU5GT1wiLCBcIk1JRFJPVzogXCIgKyBKU09OLnN0cmluZ2lmeShzdHlsZXMpKTtcclxuICAgICAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5zZXRQZW4oc3R5bGVzKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBvdXRwdXREYXRhVXBkYXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHQgPSBsb2dnZXIudGltZTtcclxuICAgICAgICAgICAgaWYgKHQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5vdXRwdXRGaWx0ZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm91dHB1dEZpbHRlci51cGRhdGVEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vdXRwdXRGaWx0ZXIudXBkYXRlRGF0YSh0LCB0aGlzLmRpc3BsYXllZE1lbW9yeSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdWVTdGFydFRpbWUgPT09IG51bGwgJiYgIXRoaXMuZGlzcGxheWVkTWVtb3J5LmlzRW1wdHkoKSkgeyAvLyBTdGFydCBvZiBhIG5ldyBjdWVcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1ZVN0YXJ0VGltZSA9IHQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5kaXNwbGF5ZWRNZW1vcnkuZXF1YWxzKHRoaXMubGFzdE91dHB1dFNjcmVlbikpIHsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm91dHB1dEZpbHRlci5uZXdDdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0RmlsdGVyLm5ld0N1ZSh0aGlzLmN1ZVN0YXJ0VGltZSwgdCwgdGhpcy5sYXN0T3V0cHV0U2NyZWVuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1ZVN0YXJ0VGltZSA9IHRoaXMuZGlzcGxheWVkTWVtb3J5LmlzRW1wdHkoKSA/IG51bGwgOiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdE91dHB1dFNjcmVlbi5jb3B5KHRoaXMuZGlzcGxheWVkTWVtb3J5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGN1ZVNwbGl0QXRUaW1lIDogZnVuY3Rpb24odCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vdXRwdXRGaWx0ZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5kaXNwbGF5ZWRNZW1vcnkuaXNFbXB0eSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3V0cHV0RmlsdGVyLm5ld0N1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dEZpbHRlci5uZXdDdWUodGhpcy5jdWVTdGFydFRpbWUsIHQsIHRoaXMuZGlzcGxheWVkTWVtb3J5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdWVTdGFydFRpbWUgPSB0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhcnNlIENFQS02MDggZGF0YSBhbmQgc2VuZCBkZWNvZGVkIGRhdGEgdG8gb3V0MSBhbmQgb3V0Mi5cclxuICAgICAqIEBjb25zdHJ1Y3RvclxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGZpZWxkICBDRUEtNjA4IGZpZWxkICgxIG9yIDIpXHJcbiAgICAgKiBAcGFyYW0ge0N1ZUhhbmRsZXJ9IG91dDEgT3V0cHV0IGZyb20gY2hhbm5lbDEgbmV3Q3VlKHN0YXJ0VGltZSwgZW5kVGltZSwgY2FwdGlvblNjcmVlbilcclxuICAgICAqIEBwYXJhbSB7Q3VlSGFuZGxlcn0gb3V0MiBPdXRwdXQgZnJvbSBjaGFubmVsMiBuZXdDdWUoc3RhcnRUaW1lLCBlbmRUaW1lLCBjYXB0aW9uU2NyZWVuKVxyXG4gICAgICovXHJcbiAgICB2YXIgQ2VhNjA4UGFyc2VyID0gZnVuY3Rpb24oZmllbGQsIG91dDEsIG91dDIpIHtcclxuICAgICAgICB0aGlzLmZpZWxkID0gZmllbGQgfHwgMTtcclxuICAgICAgICB0aGlzLm91dHB1dHMgPSBbb3V0MSwgb3V0Ml07XHJcbiAgICAgICAgdGhpcy5jaGFubmVscyA9IFtuZXcgQ2VhNjA4Q2hhbm5lbCgxLCBvdXQxKSwgbmV3IENlYTYwOENoYW5uZWwoMiwgb3V0MildO1xyXG4gICAgICAgIHRoaXMuY3VyckNoTnIgPSAtMTsgLy8gV2lsbCBiZSAxIG9yIDJcclxuICAgICAgICB0aGlzLmxhc3RDbWRBID0gbnVsbDsgLy8gRmlyc3QgYnl0ZSBvZiBsYXN0IGNvbW1hbmRcclxuICAgICAgICB0aGlzLmxhc3RDbWRCID0gbnVsbDsgLy8gU2Vjb25kIGJ5dGUgb2YgbGFzdCBjb21tYW5kXHJcbiAgICAgICAgdGhpcy5idWZmZXJlZERhdGEgPSBbXTtcclxuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5kYXRhQ291bnRlcnMgPSB7J3BhZGRpbmcnIDogMCwgJ2NoYXInIDogMCwgJ2NtZCcgOiAwLCAnb3RoZXInIDogMH07XHJcbiAgICB9O1xyXG5cclxuICAgIENlYTYwOFBhcnNlci5wcm90b3R5cGUgPSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZ2V0SGFuZGxlciA6IGZ1bmN0aW9uKGluZGV4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYW5uZWxzW2luZGV4XS5nZXRIYW5kbGVyKCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcclxuICAgICAgICBzZXRIYW5kbGVyIDogZnVuY3Rpb24oaW5kZXgsIG5ld0hhbmRsZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGFubmVsc1tpbmRleF0uc2V0SGFuZGxlcihuZXdIYW5kbGVyKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBZGQgZGF0YSBmb3IgdGltZSB0IGluIGZvcm1zIG9mIGxpc3Qgb2YgYnl0ZXMgKHVuc2lnbmVkIGludHMpLiBUaGUgYnl0ZXMgYXJlIHRyZWF0ZWQgYXMgcGFpcnMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgYWRkRGF0YSA6IGZ1bmN0aW9uKHQsIGJ5dGVMaXN0KSB7XHJcbiAgICAgICAgICAgIHZhciBjbWRGb3VuZCwgYSwgYiwgXHJcbiAgICAgICAgICAgIGNoYXJzRm91bmQgPSBmYWxzZTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMubGFzdFRpbWUgPSB0O1xyXG4gICAgICAgICAgICBsb2dnZXIuc2V0VGltZSh0KTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IGJ5dGVMaXN0Lmxlbmd0aCA7IGkrPTIpIHtcclxuICAgICAgICAgICAgICAgIGEgPSBieXRlTGlzdFtpXSAmIDB4N2Y7XHJcbiAgICAgICAgICAgICAgICBiID0gYnl0ZUxpc3RbaSsxXSAmIDB4N2Y7XHJcbiAgICAgICAgICAgICAgICBpZiAoYSA9PT0gMCAmJiBiID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhQ291bnRlcnMucGFkZGluZyArPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiREFUQVwiLCBcIltcIiArIG51bUFycmF5VG9IZXhBcnJheShbYnl0ZUxpc3RbaV0sIGJ5dGVMaXN0W2krMV1dKSArXCJdIC0+IChcIiArIG51bUFycmF5VG9IZXhBcnJheShbYSwgYl0pICsgXCIpXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY21kRm91bmQgPSB0aGlzLnBhcnNlQ21kKGEsIGIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjbWRGb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNtZEZvdW5kID0gdGhpcy5wYXJzZU1pZHJvdyhhLCBiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghY21kRm91bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbWRGb3VuZCA9IHRoaXMucGFyc2VQQUMoYSwgYik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNtZEZvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY21kRm91bmQgPSB0aGlzLnBhcnNlQmFja2dyb3VuZEF0dHJpYnV0ZXMoYSwgYik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNtZEZvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnNGb3VuZCA9IHRoaXMucGFyc2VDaGFycyhhLCBiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnNGb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyQ2hOciAmJiB0aGlzLmN1cnJDaE5yID49MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW3RoaXMuY3VyckNoTnItMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsLmluc2VydENoYXJzKGNoYXJzRm91bmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIldBUk5JTkdcIiwgXCJObyBjaGFubmVsIGZvdW5kIHlldC4gVEVYVC1NT0RFP1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjbWRGb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUNvdW50ZXJzLmNtZCArPSAyO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFyc0ZvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhQ291bnRlcnMuY2hhciArPSAyO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFDb3VudGVycy5vdGhlciArPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJXQVJOSU5HXCIsIFwiQ291bGRuJ3QgcGFyc2UgY2xlYW5lZCBkYXRhIFwiICsgbnVtQXJyYXlUb0hleEFycmF5KFthLCBiXSkgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiIG9yaWc6IFwiICsgbnVtQXJyYXlUb0hleEFycmF5KFtieXRlTGlzdFtpXSwgYnl0ZUxpc3RbaSsxXV0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFBhcnNlIENvbW1hbmQuXHJcbiAgICAgICAgICogQHJldHVybnMge0Jvb2xlYW59IFRlbGxzIGlmIGEgY29tbWFuZCB3YXMgZm91bmRcclxuICAgICAgICAgKi9cclxuICAgICAgICBwYXJzZUNtZDogZnVuY3Rpb24oYSwgYikge1xyXG4gICAgICAgICAgICB2YXIgY2hOciA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICB2YXIgY29uZDEgPSAoYSA9PT0gMHgxNCB8fCBhID09PSAweDFDKSAmJiAoMHgyMCA8PSBiICYmIGIgPD0gMHgyRik7XHJcbiAgICAgICAgICAgIHZhciBjb25kMiA9IChhID09PSAweDE3IHx8IGEgPT09IDB4MUYpICYmICgweDIxIDw9IGIgJiYgYiA8PSAweDIzKTtcclxuICAgICAgICAgICAgaWYgKCEoY29uZDEgfHwgY29uZDIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGEgPT09IHRoaXMubGFzdENtZEEgJiYgYiA9PT0gdGhpcy5sYXN0Q21kQikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0Q21kQSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RDbWRCID0gbnVsbDsgLy8gUmVwZWF0ZWQgY29tbWFuZHMgYXJlIGRyb3BwZWQgKG9uY2UpXHJcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiREVCVUdcIiwgXCJSZXBlYXRlZCBjb21tYW5kIChcIiArIG51bUFycmF5VG9IZXhBcnJheShbYSwgYl0pICsgXCIpIGlzIGRyb3BwZWRcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGEgPT09IDB4MTQgfHwgYSA9PT0gMHgxNykge1xyXG4gICAgICAgICAgICAgICAgY2hOciA9IDE7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjaE5yID0gMjsgLy8gKGEgPT09IDB4MUMgfHwgYT09PSAweDFmKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgY2hhbm5lbCA9IHRoaXMuY2hhbm5lbHNbY2hOciAtIDFdO1xyXG5cclxuICAgICAgICAgICAgaWYgKGEgPT09IDB4MTQgfHwgYSA9PT0gMHgxQykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGIgPT09IDB4MjApIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsLmNjX1JDTCgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChiID09PSAweDIxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC5jY19CUygpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChiID09PSAweDIyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC5jY19BT0YoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyMykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NfQU9OKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MjQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsLmNjX0RFUigpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChiID09PSAweDI1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC5jY19SVSgyKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyNikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NfUlUoMyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MjcpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsLmNjX1JVKDQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChiID09PSAweDI4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC5jY19GT04oKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyOSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NfUkRDKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MkEpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsLmNjX1RSKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MkIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsLmNjX1JURCgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChiID09PSAweDJDKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC5jY19FRE0oKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NfQ1IoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYiA9PT0gMHgyRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NfRU5NKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDB4MkYpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsLmNjX0VPQygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgeyAvL2EgPT0gMHgxNyB8fCBhID09IDB4MUZcclxuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NfVE8oYiAtIDB4MjApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubGFzdENtZEEgPSBhO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RDbWRCID0gYjtcclxuICAgICAgICAgICAgdGhpcy5jdXJyQ2hOciA9IGNoTnI7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFBhcnNlIG1pZHJvdyBzdHlsaW5nIGNvbW1hbmRcclxuICAgICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgICAgICAgKi9cclxuICAgICAgICBwYXJzZU1pZHJvdyA6IGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgICAgICAgICAgdmFyIGNoTnIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmICggKChhID09PSAweDExKSB8fCAoYSA9PT0gMHgxOSkpICYmIDB4MjAgPD0gYiAmJiBiIDw9IDB4MmYpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhID09PSAweDExKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hOciA9IDE7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgIHtcclxuICAgICAgICAgICAgICAgICAgICBjaE5yID0gMjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjaE5yICE9PSB0aGlzLmN1cnJDaE5yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkVSUk9SXCIsIFwiTWlzbWF0Y2ggY2hhbm5lbCBpbiBtaWRyb3cgcGFyc2luZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgY2hhbm5lbCA9IHRoaXMuY2hhbm5lbHNbY2hOci0xXTtcclxuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NfTUlEUk9XKGIpO1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkRFQlVHXCIsIFwiTUlEUk9XIChcIiArIG51bUFycmF5VG9IZXhBcnJheShbYSwgYl0pICsgXCIpXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUGFyc2UgUHJlYWJsZSBBY2Nlc3MgQ29kZXMgKFRhYmxlIDUzKS5cclxuICAgICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gVGVsbHMgaWYgUEFDIGZvdW5kXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcGFyc2VQQUMgOiBmdW5jdGlvbihhLCBiKSB7XHJcblxyXG4gICAgICAgICAgIHZhciBjaE5yID0gbnVsbDtcclxuICAgICAgICAgICB2YXIgcm93ID0gbnVsbDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZhciBjYXNlMSA9ICgoMHgxMSA8PSBhICAmJiBhIDw9IDB4MTcpIHx8ICgweDE5IDw9IGEgJiYgYSA8PSAweDFGKSkgJiYgKDB4NDAgPD0gYiAmJiBiIDw9IDB4N0YpO1xyXG4gICAgICAgICAgICB2YXIgY2FzZTIgPSAoYSA9PT0gMHgxMCB8fCBhID09PSAweDE4KSAmJiAoMHg0MCA8PSBiICYmIGIgPD0gMHg1Rik7XHJcbiAgICAgICAgICAgIGlmICghIChjYXNlMSB8fCBjYXNlMikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGEgPT09IHRoaXMubGFzdENtZEEgJiYgYiA9PT0gdGhpcy5sYXN0Q21kQikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0Q21kQSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RDbWRCID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBSZXBlYXRlZCBjb21tYW5kcyBhcmUgZHJvcHBlZCAob25jZSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY2hOciA9IChhIDw9IDB4MTcpID8gMSA6IDI7XHJcblxyXG4gICAgICAgICAgICBpZiAoMHg0MCA8PSBiICYmIGIgPD0gMHg1Rikge1xyXG4gICAgICAgICAgICAgICAgcm93ID0gKGNoTnIgPT09IDEpID8gcm93c0xvd0NoMVthXSA6IHJvd3NMb3dDaDJbYV07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7IC8vIDB4NjAgPD0gYiA8PSAweDdGXHJcbiAgICAgICAgICAgICAgICByb3cgPSAoY2hOciA9PT0gMSkgPyByb3dzSGlnaENoMVthXSA6IHJvd3NIaWdoQ2gyW2FdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBwYWNEYXRhID0gdGhpcy5pbnRlcnByZXRQQUMocm93LCBiKTtcclxuICAgICAgICAgICAgdmFyIGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW2NoTnItMV07XHJcbiAgICAgICAgICAgIGNoYW5uZWwuc2V0UEFDKHBhY0RhdGEpO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RDbWRBID0gYTtcclxuICAgICAgICAgICAgdGhpcy5sYXN0Q21kQiA9IGI7XHJcbiAgICAgICAgICAgIHRoaXMuY3VyckNoTnIgPSBjaE5yO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbnRlcnByZXQgdGhlIHNlY29uZCBieXRlIG9mIHRoZSBwYWMsIGFuZCByZXR1cm4gdGhlIGluZm9ybWF0aW9uLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IHBhY0RhdGEgd2l0aCBzdHlsZSBwYXJhbWV0ZXJzLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGludGVycHJldFBBQyA6IGZ1bmN0aW9uIChyb3csIGJ5dGUpIHtcclxuICAgICAgICAgICAgdmFyIHBhY0luZGV4ID0gYnl0ZTtcclxuICAgICAgICAgICAgdmFyIHBhY0RhdGEgPSB7Y29sb3IgOiBudWxsLCBpdGFsaWNzIDogZmFsc2UsIGluZGVudCA6IG51bGwsIHVuZGVybGluZSA6IGZhbHNlLCByb3cgOiByb3d9O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGJ5dGUgPiAweDVGKSB7XHJcbiAgICAgICAgICAgICAgICBwYWNJbmRleCA9IGJ5dGUgLSAweDYwO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGFjSW5kZXggPSBieXRlIC0gMHg0MDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwYWNEYXRhLnVuZGVybGluZSA9IChwYWNJbmRleCAmIDEpID09PSAxO1xyXG4gICAgICAgICAgICBpZiAocGFjSW5kZXggPD0gMHhkKSB7XHJcbiAgICAgICAgICAgICAgICBwYWNEYXRhLmNvbG9yID0gWyd3aGl0ZScsICdncmVlbicsICdibHVlJywgJ2N5YW4nLCAncmVkJywgJ3llbGxvdycsICdtYWdlbnRhJywgJ3doaXRlJ11bTWF0aC5mbG9vcihwYWNJbmRleC8yKV07XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFjSW5kZXggPD0gMHhmKSB7XHJcbiAgICAgICAgICAgICAgICBwYWNEYXRhLml0YWxpY3MgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcGFjRGF0YS5jb2xvciA9ICd3aGl0ZSc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwYWNEYXRhLmluZGVudCA9IChNYXRoLmZsb29yKChwYWNJbmRleC0weDEwKS8yKSkqNDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcGFjRGF0YTsgLy8gTm90ZSB0aGF0IHJvdyBoYXMgemVybyBvZmZzZXQuIFRoZSBzcGVjIHVzZXMgMS5cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBQYXJzZSBjaGFyYWN0ZXJzLlxyXG4gICAgICAgICAqIEByZXR1cm5zIEFuIGFycmF5IHdpdGggMSB0byAyIGNvZGVzIGNvcnJlc3BvbmRpbmcgdG8gY2hhcnMsIGlmIGZvdW5kLiBudWxsIG90aGVyd2lzZS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBwYXJzZUNoYXJzIDogZnVuY3Rpb24oYSwgYikge1xyXG5cclxuICAgICAgICAgICB2YXIgIGNoYW5uZWxOciA9IG51bGwsXHJcbiAgICAgICAgICAgICAgICBjaGFyQ29kZXMgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgY2hhckNvZGUxID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIC8vY2hhckNvZGUyID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGlmIChhID49IDB4MTkpIHtcclxuICAgICAgICAgICAgICAgIGNoYW5uZWxOciA9IDI7XHJcbiAgICAgICAgICAgICAgICBjaGFyQ29kZTEgPSBhIC0gODtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNoYW5uZWxOciA9IDE7XHJcbiAgICAgICAgICAgICAgICBjaGFyQ29kZTEgPSBhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgweDExIDw9IGNoYXJDb2RlMSAmJiBjaGFyQ29kZTEgPD0gMHgxMykge1xyXG4gICAgICAgICAgICAgICAgLy8gU3BlY2lhbCBjaGFyYWN0ZXJcclxuICAgICAgICAgICAgICAgIHZhciBvbmVDb2RlID0gYjtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFyQ29kZTEgPT09IDB4MTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBvbmVDb2RlID0gYiArIDB4NTA7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJDb2RlMSA9PT0gMHgxMikge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uZUNvZGUgPSBiICsgMHg3MDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25lQ29kZSA9IGIgKyAweDkwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIklORk9cIiwgXCJTcGVjaWFsIGNoYXIgJ1wiICsgZ2V0Q2hhckZvckJ5dGUob25lQ29kZSkgKyBcIicgaW4gY2hhbm5lbCBcIiArIGNoYW5uZWxOcik7XHJcbiAgICAgICAgICAgICAgICBjaGFyQ29kZXMgPSBbb25lQ29kZV07XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoMHgyMCA8PSBhICYmIGEgPD0gMHg3Zikge1xyXG4gICAgICAgICAgICAgICAgY2hhckNvZGVzID0gKGIgPT09IDApID8gW2FdIDogW2EsIGJdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjaGFyQ29kZXMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBoZXhDb2RlcyA9IG51bUFycmF5VG9IZXhBcnJheShjaGFyQ29kZXMpO1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkRFQlVHXCIsIFwiQ2hhciBjb2RlcyA9ICBcIiArIGhleENvZGVzLmpvaW4oXCIsXCIpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdENtZEEgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0Q21kQiA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNoYXJDb2RlcztcclxuICAgICAgICB9LFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogUGFyc2UgZXh0ZW5kZWQgYmFja2dyb3VuZCBhdHRyaWJ1dGVzIGFzIHdlbGwgYXMgbmV3IGZvcmVncm91bmQgY29sb3IgYmxhY2suXHJcbiAgICAgICAgKiBAcmV0dXJuc3tCb29sZWFufSBUZWxscyBpZiBiYWNrZ3JvdW5kIGF0dHJpYnV0ZXMgYXJlIGZvdW5kXHJcbiAgICAgICAgKi9cclxuICAgICAgICBwYXJzZUJhY2tncm91bmRBdHRyaWJ1dGVzIDogZnVuY3Rpb24oYSwgYikge1xyXG4gICAgICAgICAgIHZhciAgYmtnRGF0YSxcclxuICAgICAgICAgICAgICAgIGluZGV4LFxyXG4gICAgICAgICAgICAgICAgY2hOcixcclxuICAgICAgICAgICAgICAgIGNoYW5uZWw7XHJcblxyXG4gICAgICAgICAgICB2YXIgY2FzZTEgPSAoYSA9PT0gMHgxMCB8fCBhID09PSAweDE4KSAmJiAoMHgyMCA8PSBiICYmIGIgPD0gMHgyZik7XHJcbiAgICAgICAgICAgIHZhciBjYXNlMiA9IChhID09PSAweDE3IHx8IGEgPT09IDB4MWYpICYmICgweDJkIDw9YiAmJiBiIDw9IDB4MmYpO1xyXG4gICAgICAgICAgICBpZiAoIShjYXNlMSB8fCBjYXNlMikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBia2dEYXRhID0ge307XHJcbiAgICAgICAgICAgIGlmIChhICA9PT0gMHgxMCB8fCBhID09PSAweDE4KSB7XHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IE1hdGguZmxvb3IoKGItMHgyMCkvMik7XHJcbiAgICAgICAgICAgICAgICBia2dEYXRhLmJhY2tncm91bmQgPSBiYWNrZ3JvdW5kQ29sb3JzW2luZGV4XTtcclxuICAgICAgICAgICAgICAgIGlmIChiICUgMiA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJrZ0RhdGEuYmFja2dyb3VuZCA9IGJrZ0RhdGEuYmFja2dyb3VuZCArIFwiX3NlbWlcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChiID09PSAweDJkKSB7XHJcbiAgICAgICAgICAgICAgICBia2dEYXRhLmJhY2tncm91bmQgPSBcInRyYW5zcGFyZW50XCI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBia2dEYXRhLmZvcmVncm91bmQgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgICAgICAgICBpZiAoYiA9PT0gMHgyZikge1xyXG4gICAgICAgICAgICAgICAgICAgIGJrZ0RhdGEudW5kZXJsaW5lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjaE5yID0gKGEgPCAweDE4KSA/IDEgOiAyO1xyXG4gICAgICAgICAgICBjaGFubmVsID0gdGhpcy5jaGFubmVsc1tjaE5yLTFdO1xyXG4gICAgICAgICAgICBjaGFubmVsLnNldEJrZ0RhdGEoYmtnRGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdENtZEEgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RDbWRCID0gbnVsbDtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVzZXQgc3RhdGUgb2YgcGFyc2VyIGFuZCBpdHMgY2hhbm5lbHMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcmVzZXQgOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaT0wIDsgaSA8IHRoaXMuY2hhbm5lbHMubGVuZ3RoIDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFubmVsc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHNbaV0ucmVzZXQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmxhc3RDbWRBID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5sYXN0Q21kQiA9IG51bGw7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVHJpZ2dlciB0aGUgZ2VuZXJhdGlvbiBvZiBhIGN1ZSwgYW5kIHRoZSBzdGFydCBvZiBhIG5ldyBvbmUgaWYgZGlzcGxheVNjcmVlbnMgYXJlIG5vdCBlbXB0eS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBjdWVTcGxpdEF0VGltZSA6IGZ1bmN0aW9uKHQpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaT0wIDsgaSA8IHRoaXMuY2hhbm5lbHMubGVuZ3RoIDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFubmVsc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHNbaV0uY3VlU3BsaXRBdFRpbWUodCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEZpbmQgcmFuZ2VzIGNvcnJlc3BvbmRpbmcgdG8gU0VBIENFQS02MDggTkFMVVMgaW4gc2l6ZXByZXBlbmRlZCBOQUxVIGFycmF5LlxyXG4gICAgICogQHBhcmFtIHtyYXd9IGRhdGFWaWV3IG9mIGJpbmFyeSBkYXRhXHJcbiAgICAgKiBAcGFyYW0ge3N0YXJ0UG9zfSBzdGFydCBwb3NpdGlvbiBpbiByYXdcclxuICAgICAqIEBwYXJhbSB7c2l6ZX0gdG90YWwgc2l6ZSBvZiBkYXRhIGluIHJhdyB0byBjb25zaWRlclxyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgIHZhciBmaW5kQ2VhNjA4TmFsdXMgPSBmdW5jdGlvbihyYXcsIHN0YXJ0UG9zLCBzaXplKSB7XHJcbiAgICAgICAgdmFyIG5hbFNpemUgPSAwLFxyXG4gICAgICAgICAgICBjdXJzb3IgPSBzdGFydFBvcyxcclxuICAgICAgICAgICAgbmFsVHlwZSA9IDAsXHJcbiAgICAgICAgICAgIGNlYTYwOE5hbHVSYW5nZXMgPSBbXSxcclxuICAgICAgICAgICAgLy8gQ2hlY2sgU0VJIGRhdGEgYWNjb3JkaW5nIHRvIEFOU0ktU0NURSAxMjhcclxuICAgICAgICAgICAgaXNDRUE2MDhTRUkgPSBmdW5jdGlvbiAocGF5bG9hZFR5cGUsIHBheWxvYWRTaXplLCByYXcsIHBvcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBheWxvYWRUeXBlICE9PSA0IHx8IHBheWxvYWRTaXplIDwgOCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGNvdW50cnlDb2RlID0gcmF3LmdldFVpbnQ4KHBvcyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvdmlkZXJDb2RlID0gcmF3LmdldFVpbnQxNihwb3MgKyAxKTtcclxuICAgICAgICAgICAgICAgIHZhciB1c2VySWRlbnRpZmllciA9IHJhdy5nZXRVaW50MzIocG9zICsgMyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXNlckRhdGFUeXBlQ29kZSA9IHJhdy5nZXRVaW50OChwb3MgKyA3KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb3VudHJ5Q29kZSA9PSAweEI1ICYmIHByb3ZpZGVyQ29kZSA9PSAweDMxICYmIHVzZXJJZGVudGlmaWVyID09IDB4NDc0MTM5MzQgJiYgdXNlckRhdGFUeXBlQ29kZSA9PSAweDM7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgd2hpbGUgKGN1cnNvciA8IHN0YXJ0UG9zICsgc2l6ZSkge1xyXG4gICAgICAgICAgICBuYWxTaXplID0gcmF3LmdldFVpbnQzMihjdXJzb3IpO1xyXG4gICAgICAgICAgICBuYWxUeXBlID0gcmF3LmdldFVpbnQ4KGN1cnNvciArIDQpICYgMHgxRjtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aW1lICsgXCIgIE5BTCBcIiArIG5hbFR5cGUpO1xyXG4gICAgICAgICAgICBpZiAobmFsVHlwZSA9PT0gNikge1xyXG4gICAgICAgICAgICAgICAgLy8gU0VJIE5BTCBVbml0LiBUaGUgTkFMIGhlYWRlciBpcyB0aGUgZmlyc3QgYnl0ZVxyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIlNFSSBOQUxVIG9mIHNpemUgXCIgKyBuYWxTaXplICsgXCIgYXQgdGltZSBcIiArIHRpbWUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvcyA9IGN1cnNvciArIDU7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGF5bG9hZFR5cGUgPSAtMTtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChwb3MgPCBjdXJzb3IgKyA0ICsgbmFsU2l6ZSAtIDEpIHsgLy8gVGhlIGxhc3QgYnl0ZSBzaG91bGQgYmUgcmJzcF90cmFpbGluZ19iaXRzXHJcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZFR5cGUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBiID0gMHhGRjtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoYiA9PT0gMHhGRikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiID0gcmF3LmdldFVpbnQ4KHBvcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWRUeXBlICs9IGI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcysrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGF5bG9hZFNpemUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGIgPSAweEZGO1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChiID09PSAweEZGKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGIgPSByYXcuZ2V0VWludDgocG9zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZFNpemUgKz0gYjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0NFQTYwOFNFSShwYXlsb2FkVHlwZSwgcGF5bG9hZFNpemUsIHJhdywgcG9zKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiQ0VBNjA4IFNFSSBcIiArIHRpbWUgKyBcIiBcIiArIHBheWxvYWRTaXplKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2VhNjA4TmFsdVJhbmdlcy5wdXNoKFtwb3MsIHBheWxvYWRTaXplXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHBvcyArPSBwYXlsb2FkU2l6ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdXJzb3IgKz0gbmFsU2l6ZSArIDQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjZWE2MDhOYWx1UmFuZ2VzO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgdmFyIGV4dHJhY3RDZWE2MDhEYXRhRnJvbVJhbmdlID0gZnVuY3Rpb24ocmF3LCBjZWE2MDhSYW5nZSkge1xyXG4gICAgICAgIHZhciBwb3MgPSBjZWE2MDhSYW5nZVswXTtcclxuICAgICAgICB2YXIgZmllbGREYXRhID0gW1tdLCBbXV07XHJcblxyXG4gICAgICAgIHBvcyArPSA4OyAvLyBTa2lwIHRoZSBpZGVudGlmaWVyIHVwIHRvIHVzZXJEYXRhVHlwZUNvZGVcclxuICAgICAgICB2YXIgY2NDb3VudCA9IHJhdy5nZXRVaW50OChwb3MpICYgMHgxZjtcclxuICAgICAgICBwb3MgKz0gMjsgLy8gQWR2YW5jZSAxIGFuZCBza2lwIHJlc2VydmVkIGJ5dGVcclxuICAgICAgICAgIFxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2NDb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBieXRlID0gcmF3LmdldFVpbnQ4KHBvcyk7XHJcbiAgICAgICAgICAgIHZhciBjY1ZhbGlkID0gYnl0ZSAmIDB4NDtcclxuICAgICAgICAgICAgdmFyIGNjVHlwZSA9IGJ5dGUgJiAweDM7XHJcbiAgICAgICAgICAgIHBvcysrO1xyXG4gICAgICAgICAgICB2YXIgY2NEYXRhMSA9IHJhdy5nZXRVaW50OChwb3MpOyAvLyBLZWVwIHBhcml0eSBiaXRcclxuICAgICAgICAgICAgcG9zKys7XHJcbiAgICAgICAgICAgIHZhciBjY0RhdGEyID0gcmF3LmdldFVpbnQ4KHBvcyk7IC8vIEtlZXAgcGFyaXR5IGJpdFxyXG4gICAgICAgICAgICBwb3MrKztcclxuICAgICAgICAgICAgaWYgKGNjVmFsaWQgJiYgKChjY0RhdGExICYgMHg3ZikgKyAoY2NEYXRhMiAmIDB4N2YpICE9PSAwKSkgeyAvL0NoZWNrIHZhbGlkaXR5IGFuZCBub24tZW1wdHkgZGF0YVxyXG4gICAgICAgICAgICAgICAgaWYgKGNjVHlwZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkRGF0YVswXS5wdXNoKGNjRGF0YTEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkRGF0YVswXS5wdXNoKGNjRGF0YTIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjY1R5cGUgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZERhdGFbMV0ucHVzaChjY0RhdGExKTtcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZERhdGFbMV0ucHVzaChjY0RhdGEyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmllbGREYXRhO1xyXG4gICAgfTtcclxuXHJcbiAgICBleHBvcnRzLmxvZ2dlciA9IGxvZ2dlcjtcclxuICAgIGV4cG9ydHMuUGVuU3RhdGUgPSBQZW5TdGF0ZTtcclxuICAgIGV4cG9ydHMuQ2FwdGlvblNjcmVlbiA9IENhcHRpb25TY3JlZW47ICBcclxuICAgIGV4cG9ydHMuQ2VhNjA4UGFyc2VyID0gQ2VhNjA4UGFyc2VyO1xyXG4gICAgZXhwb3J0cy5maW5kQ2VhNjA4TmFsdXMgPSBmaW5kQ2VhNjA4TmFsdXM7XHJcbiAgICBleHBvcnRzLmV4dHJhY3RDZWE2MDhEYXRhRnJvbVJhbmdlID0gZXh0cmFjdENlYTYwOERhdGFGcm9tUmFuZ2U7XHJcblxyXG59KHR5cGVvZiBleHBvcnRzID09PSAndW5kZWZpbmVkJyA/IHRoaXMuY2VhNjA4cGFyc2VyID0ge30gOiBleHBvcnRzKSk7XHJcbiIsIlxyXG4oZnVuY3Rpb24oZXhwb3J0cykge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgdmFyIEMwX1NFVF9TVEFSVF9DT0RFX0NFQV83MDggPSAweDA7XHJcbiAgICB2YXIgQzBfU0VUX0VORF9DT0RFX0NFQV83MDggPSAweDFGO1xyXG4gICAgdmFyIEMwX1NFVF9FWFRfQ09ERV9DRUFfNzA4ID0gMHgxMDtcclxuICAgIHZhciAgQzBfU0VUX1AxMF9DT0RFX0NFQV83MDggPSAweDE4O1xyXG4gICAgdmFyIEMxX1NFVF9TVEFSVF9DT0RFX0NFQV83MDggPSAweDgwO1xyXG4gICAgdmFyIEMxX1NFVF9NaWRfQ09ERV9DRUFfNzA4ID0gMHg4RjtcclxuICAgIHZhciBDMV9TRVRfRU5EX0NPREVfQ0VBXzcwOCA9IDB4OUY7XHJcblxyXG4gICAgdmFyIEcwX0cyX1NFVF9TVEFSVF9DT0RFX0NFQV83MDggPSAweDIwO1xyXG4gICAgdmFyIEcwX0cyX1NFVF9FTkRfQ09ERV9DRUFfNzA4ID0gMHg3RjtcclxuXHJcbiAgICB2YXIgRzFfRzNfU0VUX1NUQVJUX0NPREVfQ0VBXzcwOCA9IDB4QTA7XHJcbiAgICAvL3ZhciBHMV9HM19TRVRfRU5EX0NPREVfQ0VBXzcwOCA9IDB4RkY7XHJcbiAgICB2YXIgQVNDSUlfU1BBQ0VfQ0hBUiA9IFwiIFwiO1xyXG5cclxuICAgIHZhciBDQ19ERjAgPSAweDk4LFxyXG4gICAgICAgIENDX0RGNyA9IDB4OUYsXHJcblxyXG4gICAgICAgIENDX0NXMCA9IDB4ODAsXHJcbiAgICAgICAgQ0NfQ1c3ID0gMHg4NyxcclxuXHJcbiAgICAgICAgQ0NfQ0xXID0gMHg4OCxcclxuICAgICAgICBDQ19EU1cgPSAweDg5LFxyXG4gICAgICAgIENDX0hEVyA9IDB4OEEsXHJcbiAgICAgICAgQ0NfVEdXID0gMHg4QixcclxuICAgICAgICBDQ19ETFcgPSAweDhDLFxyXG4gICAgICAgIENDX0RMWSA9IDB4OEQsXHJcbiAgICAgICAgQ0NfRExDID0gMHg4RSxcclxuICAgICAgICBDQ19SRVQgPSAweDhGLFxyXG4gICAgICAgIENDX1NQQSA9IDB4OTAsXHJcbiAgICAgICAgQ0NfU1BDID0gMHg5MSxcclxuICAgICAgICBDQ19TUEwgPSAweDkyLFxyXG4gICAgICAgIENDX1NXQSA9IDB4OTc7XHJcblxyXG4gICAgdmFyIE5SX1JPV1MgPSAxNSxcclxuICAgICAgICBOUl9DT0xTID0gMzIsXHJcbiAgICAgICAgQ0NfV0lORE9XUyA9IDg7XHJcblxyXG4gICAgdmFyIENDNzA4UkdCX1RJTUVTQ0FMRSA9IDg1LCAgLy8vPDI1NS8zXHJcbiAgICAgICAgQ09VTlRfRzJHM19DSEFSQUNURVIgPSAweDFCLFxyXG4gICAgICAgIENDX01BWF9TRVJWSUNFX0JMT0NLX1NJWkUgPSAweDNGLFxyXG4gICAgICAgIENDX01BWF9TRVJWSUNFX05VTSA9IDY7XHJcblxyXG4gICAgaWYodHlwZW9mIHByaW50X3Njcm9sbERpcmVjdGlvbiA9PT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgIHZhciBwcmludF9zRGlyZWN0aW9uICA9e1xyXG4gICAgICAgICAgICBMRUZUX1RPX1JJR0hUOiAwLFxyXG4gICAgICAgICAgICBSSUdIVF9UT19MRUZUOiAxLFxyXG4gICAgICAgICAgICBUT1BfVE9fQk9UVE9NOiAyLFxyXG4gICAgICAgICAgICBCT1RUT01fVE9fVE9QOiAzXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgRXh0ZW5kZWRHMkczQ29kZU1hcCA9XHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgICBbMHgyMCwweDIwXSxcclxuICAgICAgICAgICAgWzB4MjEsMHgyMF0sXHJcbiAgICAgICAgICAgIFsweDI1LDB4MjAyNl0sLy8vPEVsbGlwc2lzXHJcbiAgICAgICAgICAgIFsweDJBLDB4MDE2MF0sIC8vLzxcclxuICAgICAgICAgICAgWzB4MkMsMHgwMTUyXSxcclxuICAgICAgICAgICAgWzB4MzAsMHgyNTg4XSwgLy8vPHNvbGlkIGJsb2NrXHJcbiAgICAgICAgICAgIFsweDMxLDB4MjAxOF0sXHJcbiAgICAgICAgICAgIFsweDMyLDB4MjAxOV0sXHJcbiAgICAgICAgICAgIFsweDMzLDB4MjAxQ10sXHJcbiAgICAgICAgICAgIFsweDM0LDB4MjAxRF0sXHJcbiAgICAgICAgICAgIFsweDM1LDB4MjAyMl0sXHJcbiAgICAgICAgICAgIFsweDM5LDB4MjEyMl0sXHJcbiAgICAgICAgICAgIFsweDNBLDB4MDE2MV0sXHJcbiAgICAgICAgICAgIFsweDNDLDB4MDE1M10sXHJcbiAgICAgICAgICAgIFsweDNELDB4MjEyMF0sXHJcbiAgICAgICAgICAgIFsweDNGLDB4MDE3OF0sXHJcbiAgICAgICAgICAgIFsweDc2LDB4MjE1Ql0sXHJcbiAgICAgICAgICAgIFsweDc3LDB4MjE1Q10sXHJcbiAgICAgICAgICAgIFsweDc4LDB4MjE1RF0sXHJcbiAgICAgICAgICAgIFsweDc5LDB4MjE1RV0sXHJcbiAgICAgICAgICAgIFsweDdBLDB4MjAxNF0sXHJcbiAgICAgICAgICAgIFsweDdCLDB4MjMwOV0sXHJcbiAgICAgICAgICAgIFsweDdDLDB4MjMwQV0sXHJcbiAgICAgICAgICAgIFsweDdELDB4MjAxNF0sXHJcbiAgICAgICAgICAgIFsweDdFLDB4MjMwQl0sXHJcbiAgICAgICAgICAgIFsweDdGLDB4MjMwOF0sXHJcbiAgICAgICAgICAgIFsweEEwLDB4MjAxRF1cclxuICAgICAgICBdO1xyXG5cclxuICAgIHZhciBQcmVzZXRXaW5BdHRyaSA9XHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgICBbMHgwMCwweDAwLDB4MEMsMHgwMF0sXHJcbiAgICAgICAgICAgIFsweEMwLDB4MDAsMHgwQywweDAwXSxcclxuICAgICAgICAgICAgWzB4MDAsMHgwMCwweDBFLDB4MDBdLFxyXG4gICAgICAgICAgICBbMHgwMCwweDAwLDB4NEMsMHgwMF0sXHJcbiAgICAgICAgICAgIFsweEMwLDB4MDAsMHg0QywweDAwXSxcclxuICAgICAgICAgICAgWzB4MDAsMHgwMCwweDRFLDB4MDBdLFxyXG4gICAgICAgICAgICBbMHgwMCwweDAwLDB4MjQsMHgwMF1cclxuICAgICAgICBdO1xyXG5cclxuICAgIHZhciBQcmVzZXRQZW5BdHRyaSA9XHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgICBbMHgwNSwweDAwXSxcclxuICAgICAgICAgICAgWzB4MDUsMHgwMV0sXHJcbiAgICAgICAgICAgIFsweDA1LDB4MDJdLFxyXG4gICAgICAgICAgICBbMHgwNSwweDAzXSxcclxuICAgICAgICAgICAgWzB4MDUsMHgwNF0sXHJcbiAgICAgICAgICAgIFsweDA1LDB4MUJdLFxyXG4gICAgICAgICAgICBbMHgwNSwweDFDXVxyXG4gICAgICAgIF07XHJcblxyXG5cclxuICAgIHZhciBQcmVzZXRQZW5Db2xvciA9XHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgICBbMHgyQSwweDAwLDB4MDBdLFxyXG4gICAgICAgICAgICBbMHgyQSwweDAwLDB4MDBdLFxyXG4gICAgICAgICAgICBbMHgyQSwweDAwLDB4MDBdLFxyXG4gICAgICAgICAgICBbMHgyQSwweDAwLDB4MDBdLFxyXG4gICAgICAgICAgICBbMHgyQSwweDAwLDB4MDBdLFxyXG4gICAgICAgICAgICBbMHgyQSwweDMwLDB4MDBdLFxyXG4gICAgICAgICAgICBbMHgyQSwweDMwLDB4MDBdXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICB2YXIgUjFCNyA9IGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICByZXR1cm4gZCA+PiA3O1xyXG4gICAgfTtcclxuICAgIHZhciBSMUI2ID0gZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIHJldHVybiAoZCA+PiA2KSAmIDB4MDE7XHJcbiAgICB9O1xyXG4gICAgdmFyIFIxQjUgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgIHJldHVybiAoZCA+PiA1KSAmIDB4MDE7XHJcbiAgICB9O1xyXG4gICAgdmFyIFIxQjQgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgIHJldHVybiAoZCA+PiA0KSAmIDB4MDE7XHJcbiAgICB9O1xyXG4gICAgdmFyIFIxQjMgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgIHJldHVybiAoZCA+PiAzKSAmIDB4MDE7XHJcbiAgICB9O1xyXG4gICAgLy8gdmFyIFIxQjIgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgLy8gICAgIHJldHVybiAoZCA+PiAyKSAmIDB4MDE7XHJcbiAgICAvLyB9O1xyXG4gICAgLy8gdmFyIFIxQjEgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgLy8gICAgIHJldHVybiAoZCA+PiAxKSAmIDB4MDE7XHJcbiAgICAvLyB9O1xyXG4gICAgLy9cclxuICAgIC8vIC8vXHJcbiAgICAvLyB2YXIgUjFCMCA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIGQgJiAweDAxO1xyXG4gICAgLy8gfTtcclxuICAgIHZhciBSMkI3ID0gZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIHJldHVybiAoZCA+PiA2KTtcclxuICAgIH07XHJcbiAgICAvLyB2YXIgUjJCNiA9IGZ1bmN0aW9uKGQpIHtcclxuICAgIC8vICAgICByZXR1cm4gKChkID4+IDUpICYgMHgwMyk7XHJcbiAgICAvLyB9O1xyXG4gICAgdmFyIFIyQjUgPSBmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgcmV0dXJuICgoZCA+PiA0KSAmIDB4MDMpO1xyXG4gICAgfTtcclxuICAgIC8vIHZhciBSMkI0ID0gZnVuY3Rpb24oZCl7XHJcbiAgICAvLyAgICAgcmV0dXJuICgoZCA+PiAzKSAmIDB4MDMpO1xyXG4gICAgLy8gfTtcclxuICAgIHZhciBSMkIzID0gZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIHJldHVybiAoKGQgPj4gMikgJiAweDAzKTtcclxuICAgIH07XHJcbiAgICAvLyB2YXIgIFIyQjIgPSBmdW5jdGlvbihkKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuICgoZCA+PiAxKSAmIDB4MDMpO1xyXG4gICAgLy8gfTtcclxuICAgIHZhciBSMkIxID0gZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIHJldHVybiAoZCAmIDB4MDMpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvL1xyXG4gICAgdmFyIFIzQjcgPSBmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgcmV0dXJuIChkID4+IDUpO1xyXG4gICAgfTtcclxuICAgIC8vIHZhciBSM0I2ID0gZnVuY3Rpb24oZCkge1xyXG4gICAgLy8gICAgIHJldHVybiAoKGQgPj4gNCkgJiAweDA3KTtcclxuICAgIC8vIH07XHJcbiAgICB2YXIgUjNCNSA9IGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICByZXR1cm4gKChkID4+IDMpICYgMHgwNyk7XHJcbiAgICB9O1xyXG4gICAgLy8gdmFyIFIzQjQgPSBmdW5jdGlvbihkKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuICgoZCA+PiAyKSAmIDB4MDcpO1xyXG4gICAgLy8gfTtcclxuICAgIC8vIHZhciBSM0IzID0gZnVuY3Rpb24oZCkge1xyXG4gICAgLy8gICAgIHJldHVybiAoKGQgPj4gMSkgJiAweDA3KTtcclxuICAgIC8vIH07XHJcbiAgICB2YXIgUjNCMiA9IGZ1bmN0aW9uKGQpe1xyXG4gICAgICAgIHJldHVybiAoZCAmIDB4MDcpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvL1xyXG4gICAgdmFyIFI0QjcgPSBmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgcmV0dXJuIChkID4+IDQpO1xyXG4gICAgfTtcclxuICAgIC8vIHZhciBSNEI2ID0gZnVuY3Rpb24oZCkge1xyXG4gICAgLy8gICAgIHJldHVybiAoKGQgPj4gMykgJiAweDBmKTtcclxuICAgIC8vIH07XHJcbiAgICAvLyB2YXIgUjRCNSA9IGZ1bmN0aW9uKGQpIHtcclxuICAgIC8vICAgICByZXR1cm4gKChkID4+IDIpICYgMHgwZik7XHJcbiAgICAvLyB9O1xyXG4gICAgLy8gdmFyIFI0QjQgPSBmdW5jdGlvbihkKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuICgoZCA+PiAxKSAmIDB4MGYpO1xyXG4gICAgLy8gfTtcclxuICAgIHZhciBSNEIzID0gZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIHJldHVybiAoZCAmIDB4MGYpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvL1xyXG4gICAgLy8gdmFyIFI1QjcgPSBmdW5jdGlvbihkKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIChkID4+IDMpO1xyXG4gICAgLy8gfTtcclxuICAgIC8vIHZhciBSNUI2ID0gZnVuY3Rpb24oZCkge1xyXG4gICAgLy8gICAgIHJldHVybiAoKGQgPj4gMikgJiAweDFmKTtcclxuICAgIC8vIH07XHJcbiAgICAvLyB2YXIgUjVCNSA9IGZ1bmN0aW9uKGQpIHtcclxuICAgIC8vICAgICByZXR1cm4gKChkID4+IDEpICYgMHgxZik7XHJcbiAgICAvLyB9O1xyXG4gICAgdmFyIFI1QjQgPSBmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgcmV0dXJuIChkICYgMHgxZik7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vXHJcbiAgICAvLyB2YXIgUjZCNyA9IGZ1bmN0aW9uKGQpIHtcclxuICAgIC8vICAgICByZXR1cm4gKGQgPj4gMik7XHJcbiAgICAvLyB9O1xyXG4gICAgLy8gdmFyIFI2QjYgPSBmdW5jdGlvbihkKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuICgoZCA+PiAxKSAmIDB4M2YpO1xyXG4gICAgLy8gfTtcclxuICAgIHZhciBSNkI1ID0gZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIHJldHVybiAoZCAmIDB4M2YpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvL1xyXG4gICAgLy8gdmFyIFI3QjcgPSBmdW5jdGlvbihkKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIChkID4+IDEpO1xyXG4gICAgLy8gfTtcclxuICAgIHZhciBSN0I2ID0gZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIHJldHVybiAoZCAmIDB4N2YpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNpbXBsZSBsb2dnZXIgY2xhc3MgdG8gYmUgYWJsZSB0byB3cml0ZSB3aXRoIHRpbWUtc3RhbXBzIGFuZCBmaWx0ZXIgb24gbGV2ZWwuXHJcbiAgICAgKi9cclxuICAgIHZhciBsb2dnZXIgPSB7XHJcbiAgICAgICAgdmVyYm9zZUZpbHRlciA6IHsnREFUQScgOiAzLCAnREVCVUcnIDogNCwgJ0lORk8nIDogMiwgJ1dBUk5JTkcnIDogMiwgJ1RFWFQnIDogMSwgJ0VSUk9SJyA6IDB9LFxyXG4gICAgICAgIHRpbWUgOiBudWxsLFxyXG4gICAgICAgIHZlcmJvc2VMZXZlbCA6IDAsIC8vIE9ubHkgd3JpdGUgZXJyb3JzXHJcbiAgICAgICAgc2V0VGltZSA6IGZ1bmN0aW9uKG5ld1RpbWUpIHtcclxuICAgICAgICAgICAgdGhpcy50aW1lID0gbmV3VGltZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxvZyA6IGZ1bmN0aW9uKHNldmVyaXR5LCBtc2cpIHtcclxuICAgICAgICAgICAgdmFyIG1pbkxldmVsID0gdGhpcy52ZXJib3NlRmlsdGVyW3NldmVyaXR5XTtcclxuICAgICAgICAgICAgaWYgKHRoaXMudmVyYm9zZUxldmVsID49IG1pbkxldmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRpbWUgKyBcIiBbXCIgKyBzZXZlcml0eSArIFwiXSBcIiArIG1zZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldExvZ0xldmVsOiBmdW5jdGlvbiAobGV2ZWwpIHtcclxuICAgICAgICAgICAgdGhpcy52ZXJib3NlTGV2ZWwgPSBsZXZlbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBudW1BcnJheVRvSGV4QXJyYXkgPSBmdW5jdGlvbihudW1BcnJheSkge1xyXG4gICAgICAgIHZhciBoZXhBcnJheSA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbnVtQXJyYXkubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgaGV4QXJyYXkucHVzaChudW1BcnJheVtqXS50b1N0cmluZygxNikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaGV4QXJyYXk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBpc0F0dHJpVmFsaWQgPSBmdW5jdGlvbiAodmFsdWUsIGF0dHJpKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlLmhhc093blByb3BlcnR5KGF0dHJpKTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHVwZGF0ZUF0dHJpYnV0ZSA9IGZ1bmN0aW9uKGF0dHJpcywgbmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpIDwgYXR0cmlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBzdHlsZSA9IGF0dHJpc1tpXTtcclxuICAgICAgICAgICAgaWYgKGlzQXR0cmlWYWxpZChuZXdWYWx1ZSwgc3R5bGUpKSB7XHJcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZVtzdHlsZV0gPSBuZXdWYWx1ZVtzdHlsZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9sZFZhbHVlO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgVHJhbnNsYXRlUm93Tm9Ub1BvcyA9IGZ1bmN0aW9uKG5Sb3dObywgYlNhZmVBcmVhKXtcclxuICAgICAgICBiU2FmZUFyZWEgPSB0eXBlb2YoYlNhZmVBcmVhKSA9PSAndW5kZWZpbmVkJyA/IHRydWUgOiBiU2FmZUFyZWE7XHJcbiAgICAgICAgaWYgKG5Sb3dObyA+IE5SX1JPV1MpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiQ2xvc2VkQ2FwdGlvbiBFcnJvcjpFcnJvciBuUm93Tm9cIik7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgUG9zID0gblJvd05vICogNTtcclxuXHJcbiAgICAgICAgaWYgKGJTYWZlQXJlYSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBQb3MgKyAxMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFBvcztcclxuICAgIH07XHJcblxyXG4gICAgdmFyIFRyYW5zbGF0ZVBvc1RvUm93Tm8gPSBmdW5jdGlvbihuUG9zLCBiU2FmZUFyZWEpe1xyXG4gICAgICAgIGJTYWZlQXJlYSA9IHR5cGVvZihiU2FmZUFyZWEpID09ICd1bmRlZmluZWQnID8gdHJ1ZSA6IGJTYWZlQXJlYTtcclxuICAgICAgICB2YXIgblJvd05vID0gMDtcclxuICAgICAgICBpZiAoYlNhZmVBcmVhKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgblBvcyAtPSAxMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG5Qb3MgPT09IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gblJvd05vO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgblJvd05vID0gKG5Qb3MvNSk7XHJcbiAgICAgICAgcmV0dXJuIG5Sb3dObztcclxuICAgIH07XHJcblxyXG4gICAgdmFyIFRyYW5zbGF0ZUNvbE5vVG9Qb3MgPSBmdW5jdGlvbihuQ29sdW1uTm8sIGJTYWZlQXJlYSl7XHJcbiAgICAgICAgYlNhZmVBcmVhID0gIHR5cGVvZihiU2FmZUFyZWEpID09ICd1bmRlZmluZWQnID8gdHJ1ZSA6IGJTYWZlQXJlYTtcclxuICAgICAgICBpZiAobkNvbHVtbk5vID4gMzMpICAvL3RvIG1hdGNoIGlzQ29sdW1uTm8gaXMgMzIsYW5kIHJpZ2h0IGNvbCBpcyAzMisxO3Rhc2sgMTk5NTZcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJDbG9zZWRDYXB0aW9uIEVycm9yOkVycm9yIG5Db2x1bW5Ob1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBQb3MgPSBwYXJzZUludCgobkNvbHVtbk5vICogMjUpLzEwKTtcclxuXHJcbiAgICAgICAgaWYgKGJTYWZlQXJlYSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBQb3MgKyAxMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFBvcztcclxuICAgIH07XHJcblxyXG4gICAgLy8gdmFyIFRyYW5zbGF0ZVBvc1RvQ29sTm8gPSBmdW5jdGlvbihuUG9zLCBiU2FmZUFyZWEpe1xyXG4gICAgLy8gICAgIGJTYWZlQXJlYSA9IHR5cGVvZihiU2FmZUFyZWEpID09ICd1bmRlZmluZWQnID8gdHJ1ZSA6IGJTYWZlQXJlYTtcclxuICAgIC8vICAgICB2YXIgbkNvbE5vID0gMDtcclxuICAgIC8vICAgICBpZiAoYlNhZmVBcmVhKVxyXG4gICAgLy8gICAgIHtcclxuICAgIC8vICAgICAgICAgblBvcyAtPSAxMDtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgICAgaWYgKG5Qb3MgPT09IDApXHJcbiAgICAvLyAgICAge1xyXG4gICAgLy8gICAgICAgICByZXR1cm4gMDtcclxuICAgIC8vICAgICB9XHJcbiAgICAvL1xyXG4gICAgLy8gICAgIG5Db2xObyA9IHBhcnNlSW50KG5Qb3MqMTAvMjUpICsgKChwYXJzZUludCgoblBvcyoxMCkgJSAyNSkgPT09IDApID8gMCA6IDEpO1xyXG4gICAgLy8gICAgIHJldHVybiBuQ29sTm87XHJcbiAgICAvLyB9O1xyXG5cclxuICAgIHZhciBzZXRSZWN0UG9zID0gZnVuY3Rpb24gKHJlY3QsIG5NaW5Sb3csIG5NYXhSb3csIG5NaW5Db2wsIG5NYXhDb2wsIGJTYWZlQXJlYSkge1xyXG4gICAgICAgIGJTYWZlQXJlYSA9IHR5cGVvZihiU2FmZUFyZWEpID09ICd1bmRlZmluZWQnID8gdHJ1ZSA6IGJTYWZlQXJlYTtcclxuXHJcbiAgICAgICAgaWYobk1pblJvdyA8IE5SX1JPV1Mpe1xyXG4gICAgICAgICAgICByZWN0LlRvcCA9IFRyYW5zbGF0ZVJvd05vVG9Qb3Mobk1pblJvdywgYlNhZmVBcmVhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYobk1heFJvdyA8IE5SX1JPV1Mpe1xyXG4gICAgICAgICAgICByZWN0LkJvdHRvbSA9IFRyYW5zbGF0ZVJvd05vVG9Qb3MoKG5NYXhSb3cgKyAxKSwgYlNhZmVBcmVhKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKG5NaW5Db2wgPCBOUl9DT0xTKXtcclxuICAgICAgICAgICAgcmVjdC5MZWZ0ID0gVHJhbnNsYXRlQ29sTm9Ub1BvcyhuTWluQ29sLCBiU2FmZUFyZWEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihuTWF4Q29sIDwgTlJfQ09MUyl7XHJcbiAgICAgICAgICAgIHJlY3QuUmlnaHQgPSBUcmFuc2xhdGVDb2xOb1RvUG9zKChuTWF4Q29sICsgMSksIGJTYWZlQXJlYSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZWN0O1xyXG4gICAgfTtcclxuXHJcblxyXG5cclxuICAgIHZhciBDb2xvciA9IGZ1bmN0aW9uIChyZWQsIGdyZWVuLCBibHVlLCB0cmFucykge1xyXG4gICAgICAgIHRoaXMuUmVkID0gcmVkIHx8IDB4RkY7XHJcbiAgICAgICAgdGhpcy5HcmVlbiA9IGdyZWVuIHx8IDB4RkY7XHJcbiAgICAgICAgdGhpcy5CbHVlID0gYmx1ZSB8fCAweEZGO1xyXG4gICAgICAgIHRoaXMuVHJhbnMgPSB0cmFucyB8fCAweEZGO1xyXG4gICAgfTtcclxuXHJcbiAgICBDb2xvci5wcm90b3R5cGUgPSB7XHJcbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy93aGl0ZVxyXG4gICAgICAgICAgICB0aGlzLlJlZCA9IDB4RkY7XHJcbiAgICAgICAgICAgIHRoaXMuR3JlZW4gPSAweEZGO1xyXG4gICAgICAgICAgICB0aGlzLkJsdWUgPSAweEZGO1xyXG4gICAgICAgICAgICB0aGlzLlRyYW5zID0gMHhGRjtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBpc0RlZmF1bHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh0aGlzLlJlZCA9PT0gMHhGRikgJiYgKHRoaXMuR3JlZW4gPT09IDB4RkYpICYmICh0aGlzLkJsdWUgPT09IDB4RkYpICYmICh0aGlzLlRyYW5zID09PSAweEZGKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRDb2xvcjogZnVuY3Rpb24gKG5ld0NvbG9yKSB7XHJcbiAgICAgICAgICAgIGlmKCFuZXdDb2xvcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAvLyBsb2dnZXIubG9nKFwiREVCVUdcIiwgXCJDb2xvcjpcIiArIFwiUjpcIiArIG5ld0NvbG9yLlJlZCArIFwiIEc6XCIgKyBuZXdDb2xvci5HcmVlbiArIFwiIEI6XCIgKyBuZXdDb2xvci5CbHVlKTtcclxuICAgICAgICAgICAgdmFyIGF0dHJpcyA9IFtcIlJlZFwiLCBcIkdyZWVuXCIsIFwiQmx1ZVwiLCBcIlRyYW5zXCJdO1xyXG4gICAgICAgICAgICB1cGRhdGVBdHRyaWJ1dGUoYXR0cmlzLCBuZXdDb2xvciwgdGhpcyk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXF1YWxzOiBmdW5jdGlvbiAob3RoZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuICggKHRoaXMuUmVkID09PSBvdGhlci5SZWQpICYmXHJcbiAgICAgICAgICAgICh0aGlzLkdyZWVuID09PSBvdGhlci5HcmVlbikgJiZcclxuICAgICAgICAgICAgKHRoaXMuQmx1ZSA9PT0gb3RoZXIuQmx1ZSkgJiZcclxuICAgICAgICAgICAgKHRoaXMuVHJhbnMgPT09IG90aGVyLlRyYW5zKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgIFJlY3REaXNwbGF5RWZmZWN0ID0gZnVuY3Rpb24gKGVmZmVjdFR5cGUsIGVmZmVjdERpcmVjdGlvbiwgZWZmZWN0U3BlZWQpIHtcclxuICAgICAgICB0aGlzLkVmZmVjdFR5cGUgPSBlZmZlY3RUeXBlOyAgICAgICAgICAgICAgICAgICAgLy8vPFJlZmVyIHRvIFZPRUZGRUNUVFlQRVxyXG4gICAgICAgIHRoaXMuRWZmZWN0RGlyZWN0aW9uID0gZWZmZWN0RGlyZWN0aW9uOyAgICAgICAgICAgICAgIC8vLzxSZWZlciB0byBWT0VGRkVDVERJUkVDVElPTlxyXG4gICAgICAgIHRoaXMuRWZmZWN0U3BlZWQgPSBlZmZlY3RTcGVlZDsgICAgICAgICAgICAgICAgICAgLy8vPHNlY29uZFxyXG4gICAgfTtcclxuXHJcbiAgICBSZWN0RGlzcGxheUVmZmVjdC5wcm90b3R5cGUgPSB7XHJcbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5FZmZlY3RUeXBlID0gMDtcclxuICAgICAgICAgICAgdGhpcy5FZmZlY3REaXJlY3Rpb24gPSAwO1xyXG4gICAgICAgICAgICB0aGlzLkVmZmVjdFNwZWVkID0gMDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRSZWN0RGlzcGxheUVmZmVjdDogZnVuY3Rpb24obmV3UmVjdERpc3BsYXlFZmZlY3Qpe1xyXG4gICAgICAgICAgICBpZighbmV3UmVjdERpc3BsYXlFZmZlY3Qpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBhdHRyaXMgID0gW1wiRWZmZWN0VHlwZVwiLCBcIkVmZmVjdERpcmVjdGlvblwiLCBcIkVmZmVjdFNwZWVkXCJdO1xyXG4gICAgICAgICAgICB1cGRhdGVBdHRyaWJ1dGUoYXR0cmlzLCBuZXdSZWN0RGlzcGxheUVmZmVjdCwgdGhpcyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaXNEZWZhdWx0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoMCA9PT0gdGhpcy5FZmZlY3RUeXBlKSAmJiAoMCA9PT0gdGhpcy5FZmZlY3REaXJlY3Rpb24pICYmICgwID09PSB0aGlzLkVmZmVjdFNwZWVkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBSZWN0UG9zID0gZnVuY3Rpb24gKHRvcCwgbGVmdCwgYm90dG9tLCByaWdodCkge1xyXG4gICAgICAgIHRoaXMuVG9wID0gdG9wIHx8IDB4RkZGRkZGRkY7ICAgICAgIC8vLzwweEZGRkZGRkZGIGluZGljYXRlcyB0aGUgZGVmYXVsdCB2YWx1ZVxyXG4gICAgICAgIHRoaXMuTGVmdCA9bGVmdCB8fCAweEZGRkZGRkZGOyAgICAgIC8vLzwweEZGRkZGRkZGIGluZGljYXRlcyB0aGUgZGVmYXVsdCB2YWx1ZVxyXG4gICAgICAgIHRoaXMuQm90dG9tID0gYm90dG9tIHx8IDB4RkZGRkZGRkY7ICAgIC8vLzwweEZGRkZGRkZGIGluZGljYXRlcyB0aGUgZGVmYXVsdCB2YWx1ZVxyXG4gICAgICAgIHRoaXMuUmlnaHQgPSByaWdodCB8fCAweEZGRkZGRkZGO1xyXG4gICAgfTtcclxuXHJcbiAgICBSZWN0UG9zLnByb3RvdHlwZSA9IHtcclxuICAgICAgICByZXNldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLlRvcCA9IDB4RkZGRkZGRkY7XHJcbiAgICAgICAgICAgIHRoaXMuTGVmdCA9IDB4RkZGRkZGRkY7XHJcbiAgICAgICAgICAgIHRoaXMuQm90dG9tID0gMHhGRkZGRkZGRjtcclxuICAgICAgICAgICAgdGhpcy5SaWdodCA9IDB4RkZGRkZGRkY7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgY29weTogZnVuY3Rpb24gKG5ld1JlY3QpIHtcclxuICAgICAgICAgICAgdGhpcy5Ub3AgPSBuZXdSZWN0LlRvcDtcclxuICAgICAgICAgICAgdGhpcy5MZWZ0ID0gbmV3UmVjdC5MZWZ0O1xyXG4gICAgICAgICAgICB0aGlzLkJvdHRvbSA9IG5ld1JlY3QuQm90dG9tO1xyXG4gICAgICAgICAgICB0aGlzLlJpZ2h0ID0gbmV3UmVjdC5SaWdodDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRSZWN0OiBmdW5jdGlvbiAobmV3UmVjdCkge1xyXG4gICAgICAgICAgICBpZighbmV3UmVjdCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBhdHRyaXMgPSBbXCJUb3BcIiwgXCJMZWZ0XCIsIFwiQm90dG9tXCIsIFwiUmlnaHRcIl07XHJcbiAgICAgICAgICAgIHVwZGF0ZUF0dHJpYnV0ZShhdHRyaXMsIG5ld1JlY3QsIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkRFQlVHXCIsIFwiW3NldFJlY3RdXCIgKyBcIiwgVDpcIiArIHRoaXMuVG9wICsgXCLvvIxM77yaXCIgKyB0aGlzLkxlZnQgK1xyXG4gICAgICAgICAgICAgICAgXCIsIEI6XCIgKyB0aGlzLkJvdHRvbSArIFwiLCBSOlwiICsgdGhpcy5SaWdodCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaXNEZWZhdWx0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoKHRoaXMuVG9wID09PSAweEZGRkZGRkZGKSAmJiAodGhpcy5MZWZ0ID09PSAweEZGRkZGRkZGKSAmJlxyXG4gICAgICAgICAgICAodGhpcy5Cb3R0b20gPT09IDB4RkZGRkZGRkYpICYmICh0aGlzLlJpZ2h0ID09PSAweEZGRkZGRkZGKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgUmVjdEluZm8gPSBmdW5jdGlvbiAoYnQsIFpPcmRlcikge1xyXG4gICAgICAgIHRoaXMuUmVjdEJvcmRlclR5cGUgPSBidDsgICAvLy88UmVmZXIgdG8gVk9SRUNUQk9SREVSVFlQRVxyXG4gICAgICAgIHRoaXMuUmVjdFpPcmRlciA9IFpPcmRlcjtcclxuICAgICAgICB0aGlzLlJlY3QgPSBuZXcgUmVjdFBvcygpO1xyXG4gICAgICAgIHRoaXMuUmVjdEJvcmRlckNvbG9yID0gbmV3IENvbG9yKCk7XHJcbiAgICAgICAgdGhpcy5SZWN0RmlsbENvbG9yID0gbmV3IENvbG9yKCk7XHJcbiAgICAgICAgdGhpcy5SZWN0RGlzcGxheUVmZmVjdCA9IG5ldyBSZWN0RGlzcGxheUVmZmVjdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBSZWN0SW5mby5wcm90b3R5cGUgPSB7XHJcbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5SZWN0Qm9yZGVyVHlwZSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuUmVjdFpPcmRlciA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuUmVjdC5yZXNldCgpO1xyXG4gICAgICAgICAgICB0aGlzLlJlY3RCb3JkZXJDb2xvci5yZXNldCgpO1xyXG4gICAgICAgICAgICB0aGlzLlJlY3RGaWxsQ29sb3IucmVzZXQoKTtcclxuICAgICAgICAgICAgdGhpcy5SZWN0RGlzcGxheUVmZmVjdC5yZXNldCgpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldFJlY3RJbmZvOiBmdW5jdGlvbiAobmV3UmVjdEluZm8pIHtcclxuICAgICAgICAgICAgaWYoIW5ld1JlY3RJbmZvKXtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoaXNBdHRyaVZhbGlkKG5ld1JlY3RJbmZvLCBcIlJlY3RCb3JkZXJUeXBlXCIpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuUmVjdEJvcmRlclR5cGUgPSBuZXdSZWN0SW5mby5SZWN0Qm9yZGVyVHlwZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihpc0F0dHJpVmFsaWQobmV3UmVjdEluZm8sIFwiUmVjdFpPcmRlclwiKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLlJlY3RaT3JkZXIgPSBuZXdSZWN0SW5mby5SZWN0Wk9yZGVyO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihpc0F0dHJpVmFsaWQobmV3UmVjdEluZm8sIFwiUmVjdFwiKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLlJlY3Quc2V0UmVjdChuZXdSZWN0SW5mby5SZWN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihpc0F0dHJpVmFsaWQobmV3UmVjdEluZm8sIFwiUmVjdEJvcmRlckNvbG9yXCIpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuUmVjdEJvcmRlckNvbG9yLnNldENvbG9yKG5ld1JlY3RJbmZvLlJlY3RCb3JkZXJDb2xvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoaXNBdHRyaVZhbGlkKG5ld1JlY3RJbmZvLCBcIlJlY3RGaWxsQ29sb3JcIikpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5SZWN0RmlsbENvbG9yLnNldENvbG9yKG5ld1JlY3RJbmZvLlJlY3RGaWxsQ29sb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGlzQXR0cmlWYWxpZChuZXdSZWN0SW5mbywgXCJSZWN0RGlzcGxheUVmZmVjdFwiKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLlJlY3REaXNwbGF5RWZmZWN0LnNldFJlY3REaXNwbGF5RWZmZWN0KG5ld1JlY3RJbmZvLlJlY3REaXNwbGF5RWZmZWN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaXNEZWZhdWx0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoMCA9PT0gdGhpcy5SZWN0Qm9yZGVyVHlwZSkgJiYgKDAgPT09IHRoaXMuUmVjdFpPcmRlcikgJiYgdGhpcy5SZWN0LmlzRGVmYXVsdCgpICYmXHJcbiAgICAgICAgICAgICAgICB0aGlzLlJlY3RCb3JkZXJDb2xvci5pc0RlZmF1bHQoKSAmJiB0aGlzLlJlY3RGaWxsQ29sb3IuaXNEZWZhdWx0KCkgJiZcclxuICAgICAgICAgICAgICAgIHRoaXMuUmVjdERpc3BsYXlFZmZlY3QuaXNEZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH07XHJcblxyXG4gICAgdmFyIEZvbnRFZmZlY3RJbmZvID0gZnVuY3Rpb24gKCBJdGFsaWMsIFVuZGVybGluZSwgRWRnZVR5cGUsIFR4dFRhZywgT2Zmc2V0KSB7XHJcbiAgICAgICAgdGhpcy5JdGFsaWMgPSBJdGFsaWMgfHwgZmFsc2U7XHJcbiAgICAgICAgdGhpcy5VbmRlcmxpbmUgPSBVbmRlcmxpbmUgfHwgZmFsc2U7XHJcbiAgICAgICAgdGhpcy5FZGdlVHlwZSA9IEVkZ2VUeXBlO1xyXG4gICAgICAgIHRoaXMuVGV4dFRhZyA9IFR4dFRhZztcclxuICAgICAgICB0aGlzLk9mZnNldCA9IE9mZnNldDtcclxuICAgICAgICB0aGlzLkVkZ2VDb2xvciA9IG5ldyBDb2xvcigpO1xyXG4gICAgfTtcclxuXHJcbiAgICBGb250RWZmZWN0SW5mby5wcm90b3R5cGUgPSB7XHJcbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5JdGFsaWMgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5VbmRlcmxpbmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5FZGdlVHlwZSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuVGV4dFRhZyA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuT2Zmc2V0ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5FZGdlQ29sb3IucmVzZXQoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBpc0RlZmF1bHQgOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh0aGlzLkVkZ2VDb2xvci5pc0RlZmF1bHQoKSAmJiAhdGhpcy5VbmRlcmxpbmUgJiYgIXRoaXMuSXRhbGljICYmXHJcbiAgICAgICAgICAgIHRoaXMuRWRnZVR5cGUgPT09IDAgJiYgdGhpcy5UZXh0VGFnID09PSAwICYmIHRoaXMuT2Zmc2V0ID09PSAwKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRGb250RWZmZWN0SW5mbzogZnVuY3Rpb24gKE5ld0ZvbnRFZmZlY3RJbmZvKSB7XHJcbiAgICAgICAgICAgIGlmKCFOZXdGb250RWZmZWN0SW5mbyl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9sb2dnZXIubG9nKFwiREVCVUdcIiwgXCJbRm9udEVmZmVjdEluZm86IHNldEZvbnRFZmZlY3RJbmZvXVwiKTtcclxuICAgICAgICAgICAgdmFyIGF0dHJpcyA9IFtcIkl0YWxpY1wiLCBcIlVuZGVybGluZVwiLCBcIkVkZ2VUeXBlXCIsIFwiVHh0VGFnXCIsIFwiT2Zmc2V0XCJdO1xyXG4gICAgICAgICAgICB1cGRhdGVBdHRyaWJ1dGUoYXR0cmlzLCBOZXdGb250RWZmZWN0SW5mbywgdGhpcyk7XHJcbiAgICAgICAgICAgIGlmKGlzQXR0cmlWYWxpZChOZXdGb250RWZmZWN0SW5mbywgXCJFZGdlQ29sb3JcIikpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5FZGdlQ29sb3Iuc2V0Q29sb3IoTmV3Rm9udEVmZmVjdEluZm8uRWRnZUNvbG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBlcXVhbHM6IGZ1bmN0aW9uIChvdGhlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gKCAodGhpcy5JdGFsaWMgPT09IG90aGVyLkl0YWxpYykgJiZcclxuICAgICAgICAgICAgKHRoaXMuVW5kZXJsaW5lID09PSBvdGhlci5VbmRlcmxpbmUpICYmXHJcbiAgICAgICAgICAgICh0aGlzLkVkZ2VUeXBlID09PSBvdGhlci5FZGdlVHlwZSkgJiZcclxuICAgICAgICAgICAgKHRoaXMuVGV4dFRhZyA9PT0gb3RoZXIuVGV4dFRhZykgJiZcclxuICAgICAgICAgICAgKHRoaXMuT2Zmc2V0ID09PSBvdGhlci5PZmZzZXQpICYmXHJcbiAgICAgICAgICAgIHRoaXMuRWRnZUNvbG9yLmVxdWFscyhvdGhlcikpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIEZvbnRJbmZvID0gZnVuY3Rpb24gKEZvbnRTaXplLCBGb250U3R5bGUpIHtcclxuICAgICAgICB0aGlzLkZvbnRTaXplID0gRm9udFNpemUgfHwgMDtcclxuICAgICAgICB0aGlzLkZvbnRTdHlsZSA9IEZvbnRTdHlsZSB8fCAwO1xyXG4gICAgICAgIHRoaXMuRm9udENvbG9yID0gbmV3IENvbG9yKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIEZvbnRJbmZvLnByb3RvdHlwZSA9IHtcclxuICAgICAgICByZXNldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLkZvbnRTaXplID0gMDtcclxuICAgICAgICAgICAgdGhpcy5Gb250U3R5bGUgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLkZvbnRDb2xvci5yZXNldCgpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGlzRGVmYXVsdCA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuRm9udENvbG9yLmlzRGVmYXVsdCgpICYmIHRoaXMuRm9udFNpemUgPT09IDAgJiYgdGhpcy5Gb250U3R5bGUgPT09IDApO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldEZvbnRJbmZvOiBmdW5jdGlvbiAoTmV3Rm9udEluZm8pIHtcclxuICAgICAgICAgICAgaWYoIU5ld0ZvbnRJbmZvKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBsb2dnZXIubG9nKFwiREVCVUdcIiwgXCJbRm9udEluZm86IHNldEZvbnRJbmZvXVwiICsgXCIgZm9udHNpemU6XCIgKyBOZXdGb250SW5mby5Gb25TaXplICtcclxuICAgICAgICAgICAgLy8gICAgIFwiIGZvbnRzdHlsZTpcIiArIE5ld0ZvbnRJbmZvLkZvbnRTdHlsZSk7XHJcbiAgICAgICAgICAgIGlmKGlzQXR0cmlWYWxpZChOZXdGb250SW5mbywgXCJGb250U2l6ZVwiKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvbnRTaXplID0gTmV3Rm9udEluZm8uRm9udFNpemU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoaXNBdHRyaVZhbGlkKE5ld0ZvbnRJbmZvLCBcIkZvbnRTdHlsZVwiKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvbnRTdHlsZSA9IE5ld0ZvbnRJbmZvLkZvbnRTdHlsZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihpc0F0dHJpVmFsaWQoTmV3Rm9udEluZm8sIFwiRm9udENvbG9yXCIpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuRm9udENvbG9yLnNldENvbG9yKE5ld0ZvbnRJbmZvLkZvbnRDb2xvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZXF1YWxzOiBmdW5jdGlvbiAob3RoZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuICgodGhpcy5Gb250U2l6ZSA9PT0gb3RoZXIuRm9udFNpemUpICYmXHJcbiAgICAgICAgICAgICh0aGlzLkZvbnRTdHlsZSA9PT0gb3RoZXIuRm9udFN0eWxlKSAmJlxyXG4gICAgICAgICAgICB0aGlzLkZvbnRDb2xvci5lcXVhbHMob3RoZXIuRm9udENvbG9yKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgQ2hhckluZm8gPSBmdW5jdGlvbihmb250SW5mbywgZm9udEVmZmVjdEluZm8pe1xyXG4gICAgICAgIHRoaXMuRm9udEluZm8gPSBuZXcgRm9udEluZm8oZm9udEluZm8pO1xyXG4gICAgICAgIHRoaXMuRm9udEVmZmVjdEluZm8gPSBuZXcgRm9udEVmZmVjdEluZm8oZm9udEVmZmVjdEluZm8pO1xyXG4gICAgfTtcclxuXHJcbiAgICBDaGFySW5mby5wcm90b3R5cGUgPSB7XHJcbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHRoaXMuRm9udEluZm8ucmVzZXQoKTtcclxuICAgICAgICAgICAgdGhpcy5Gb250RWZmZWN0SW5mby5yZXNldCgpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGlzRGVmYXVsdDogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuRm9udEluZm8uaXNEZWZhdWx0KCkgJiYgdGhpcy5Gb250RWZmZWN0SW5mby5pc0RlZmF1bHQoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRDaGFySW5mbzogZnVuY3Rpb24obmV3Q2hhckluZm8pe1xyXG4gICAgICAgICAgICBpZighbmV3Q2hhckluZm8pe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgLy8gbG9nZ2VyLmxvZyhcIkRFQlVHXCIsIFwiW0NoYXJJbmZvOiBzZXRDaGFySW5mb11cIik7XHJcbiAgICAgICAgICAgIGlmKGlzQXR0cmlWYWxpZChuZXdDaGFySW5mbywgXCJGb250SW5mb1wiKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkZvbnRJbmZvLnNldEZvbnRJbmZvKG5ld0NoYXJJbmZvLkZvbnRJbmZvKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihpc0F0dHJpVmFsaWQobmV3Q2hhckluZm8sIFwiRm9udEVmZmVjdEluZm9cIikpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5Gb250RWZmZWN0SW5mby5zZXRGb250RWZmZWN0SW5mbyhuZXdDaGFySW5mby5Gb250RWZmZWN0SW5mbyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBlcXVhbHM6IGZ1bmN0aW9uIChvdGhlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5Gb250SW5mby5lcXVhbHMob3RoZXIuRm9udEluZm8pICYmIHRoaXMuRm9udEVmZmVjdEluZm8uZXF1YWxzKG90aGVyLkZvbnRFZmZlY3RJbmZvKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVW5pY29kZSBjaGFyYWN0ZXIgd2l0aCBzdHlsaW5nIGFuZCBiYWNrZ3JvdW5kLlxyXG4gICAgICogQGNvbnN0cnVjdG9yXHJcbiAgICAgKi9cclxuICAgIHZhciBTdHlsZWRVbmljb2RlQ2hhciA9IGZ1bmN0aW9uKHVjaGFyLCBjaGFySW5mbykge1xyXG4gICAgICAgIHRoaXMudWNoYXIgPSB1Y2hhciB8fCBBU0NJSV9TUEFDRV9DSEFSOyAvLyB1bmljb2RlIGNoYXJhY3RlclxyXG4gICAgICAgIHRoaXMuQ2hhckluZm8gPSBuZXcgQ2hhckluZm8oY2hhckluZm8pO1xyXG4gICAgfTtcclxuXHJcbiAgICBTdHlsZWRVbmljb2RlQ2hhci5wcm90b3R5cGUgPSB7XHJcblxyXG4gICAgICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy51Y2hhciA9IEFTQ0lJX1NQQUNFX0NIQVI7XHJcbiAgICAgICAgICAgIHRoaXMuQ2hhckluZm8ucmVzZXQoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRDaGFyOiBmdW5jdGlvbih1Y2hhciwgbmV3Q2hhckluZm8pIHtcclxuICAgICAgICAgICAgdGhpcy51Y2hhciA9IHVjaGFyO1xyXG4gICAgICAgICAgICB0aGlzLkNoYXJJbmZvLnNldENoYXJJbmZvKG5ld0NoYXJJbmZvKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRDaGFySW5mbzogZnVuY3Rpb24gKG5ld0NoYXJJbmZvKSB7XHJcbiAgICAgICAgICAgIHRoaXMuQ2hhckluZm8uc2V0Q2hhckluZm8obmV3Q2hhckluZm8pO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldENoYXJJbmZvOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkNoYXJJbmZvO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGVxdWFsczogZnVuY3Rpb24ob3RoZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudWNoYXIgPT09IG90aGVyLnVjaGFyICYmIHRoaXMuQ2hhckluZm8uZXF1YWxzKG90aGVyLkNoYXJJbmZvKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvLyBjb3B5OiBmdW5jdGlvbihuZXdDaGFyKSB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMudWNoYXIgPSBuZXdDaGFyLnVjaGFyO1xyXG4gICAgICAgIC8vICAgICB0aGlzLkNoYXJJbmZvLlVwZGF0ZUNoYXJJbmZvKG5ld0NoYXIuQ2hhckluZm8pO1xyXG4gICAgICAgIC8vIH0sXHJcblxyXG4gICAgICAgIGlzRW1wdHkgOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudWNoYXIgPT09IEFTQ0lJX1NQQUNFX0NIQVIgJiYgdGhpcy5DaGFySW5mby5pc0RlZmF1bHQoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciB0ZXh0RGVzID0gZnVuY3Rpb24gKGhqLCB2aiwgcGQpIHtcclxuICAgICAgICB0aGlzLmRhdGFCb3ggPSBuZXcgUmVjdEluZm8oKTtcclxuICAgICAgICB0aGlzLmhqID0gaGogfHwgMDtcclxuICAgICAgICB0aGlzLnZqID0gdmogfHwgMDtcclxuICAgICAgICB0aGlzLnBkID0gcGQgfHwgMDtcclxuICAgIH07XHJcblxyXG4gICAgdGV4dERlcy5wcm90b3R5cGUgPSB7XHJcbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5kYXRhQm94LnJlc2V0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuaGogPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnZqID0gMDtcclxuICAgICAgICAgICAgdGhpcy5wZCA9IDA7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXRUZXh0RGVzOiBmdW5jdGlvbiAobmV3VGV4dERlcykge1xyXG4gICAgICAgICAgICBpZighbmV3VGV4dERlcyl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoaXNBdHRyaVZhbGlkKG5ld1RleHREZXMsIFwiZGF0YUJveFwiKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFCb3guc2V0UmVjdEluZm8obmV3VGV4dERlcy5kYXRhQm94KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGF0dHJpcyA9IFtcImhqXCIsIFwidmpcIiwgXCJwZFwiXTtcclxuICAgICAgICAgICAgdXBkYXRlQXR0cmlidXRlKGF0dHJpcywgbmV3VGV4dERlcywgdGhpcyk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBpc0RlZmF1bHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YUJveC5pc0RlZmF1bHQoKSAmJiAoMCA9PT0gdGhpcy5oaikgJiYgKDAgPT09IHRoaXMudmopICYmICggMCA9PT0gdGhpcy5wZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgQ2VhNzA4UGVuQ29sb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5mbyA9IDA7XHJcbiAgICAgICAgdGhpcy5mciA9IDA7XHJcbiAgICAgICAgdGhpcy5mZyA9IDA7XHJcbiAgICAgICAgdGhpcy5mYiA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuYm8gPSAwO1xyXG4gICAgICAgIHRoaXMuYnIgPSAwO1xyXG4gICAgICAgIHRoaXMuYmcgPSAwO1xyXG4gICAgICAgIHRoaXMuYmIgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmVyID0gMDtcclxuICAgICAgICB0aGlzLmVnID0gMDtcclxuICAgICAgICB0aGlzLmViID0gMDtcclxuICAgIH07XHJcbiAgICBDZWE3MDhQZW5Db2xvci5wcm90b3R5cGUgPSB7XHJcbiAgICAgICAgbG9hZDogZnVuY3Rpb24gKEFyciwgU2l6ZSkge1xyXG4gICAgICAgICAgICBpZigzID4gU2l6ZSl7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiRVJST1JcIiwgXCI3MDhDbG9zZWRDYXB0aW9uIEVycm9yOlBlbkNvbG9yIGxlc3MgcGFyYVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZm8gPSBSMkI3KEFyclswXSk7XHJcbiAgICAgICAgICAgIHRoaXMuZnIgPSBSMkI1KEFyclswXSk7XHJcbiAgICAgICAgICAgIHRoaXMuZmcgPSBSMkIzKEFyclswXSk7XHJcbiAgICAgICAgICAgIHRoaXMuZmIgPSBSMkIxKEFyclswXSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJvID0gUjJCNyhBcnJbMV0pO1xyXG4gICAgICAgICAgICB0aGlzLmJyID0gUjJCNShBcnJbMV0pO1xyXG4gICAgICAgICAgICB0aGlzLmJnID0gUjJCMyhBcnJbMV0pO1xyXG4gICAgICAgICAgICB0aGlzLmJiID0gUjJCMShBcnJbMV0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5lciA9IFIyQjUoQXJyWzJdKTtcclxuICAgICAgICAgICAgdGhpcy5lZyA9IFIyQjMoQXJyWzJdKTtcclxuICAgICAgICAgICAgdGhpcy5lYiA9IFIyQjEoQXJyWzJdKTtcclxuICAgICAgICAgICAgcmV0dXJuIDM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH07XHJcblxyXG4gICAgdmFyIENlYTcwOFBlbkF0dHJpID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMudHQgPSAwO1xyXG4gICAgICAgIHRoaXMubyA9IDA7XHJcbiAgICAgICAgdGhpcy5zID0gMDtcclxuICAgICAgICB0aGlzLmkgPSAwO1xyXG4gICAgICAgIHRoaXMudSA9IDA7XHJcbiAgICAgICAgdGhpcy5ldCA9IDA7XHJcbiAgICAgICAgdGhpcy5mcyA9IDA7XHJcbiAgICB9O1xyXG5cclxuICAgIENlYTcwOFBlbkF0dHJpLnByb3RvdHlwZSA9IHtcclxuICAgICAgICBsb2FkOiBmdW5jdGlvbiAoQXJyLCBTaXplKSB7XHJcbiAgICAgICAgICAgIGlmICgyID4gU2l6ZSl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVSUk9SXCIsIFwiNzA4IENsb3NlZENhcHRpb24gRXJyb3I6UGVuQXR0cmkgbGVzcyBwYXJhXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50dCA9IFI0QjcoQXJyWzBdKTtcclxuICAgICAgICAgICAgdGhpcy5vID0gUjJCMyhBcnJbMF0pO1xyXG4gICAgICAgICAgICB0aGlzLnMgPSBSMkIxKEFyclswXSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmkgPSBSMUI3KEFyclsxXSk7XHJcbiAgICAgICAgICAgIHRoaXMudSA9IFIxQjYoQXJyWzFdKTtcclxuICAgICAgICAgICAgdGhpcy5ldCA9IFIzQjUoQXJyWzFdKTtcclxuICAgICAgICAgICAgdGhpcy5mcyA9IFIzQjIoQXJyWzFdKTtcclxuICAgICAgICAgICAgcmV0dXJuIDI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH07XHJcblxyXG4gICAgdmFyIENlYTcwOFdpbkF0dHJpID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuZm8gPSAwO1xyXG4gICAgICAgIHRoaXMuZnIgPSAwO1xyXG4gICAgICAgIHRoaXMuZmcgPSAwO1xyXG4gICAgICAgIHRoaXMuZmIgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmJ0MCA9IDA7XHJcbiAgICAgICAgdGhpcy5iciA9IDA7XHJcbiAgICAgICAgdGhpcy5iZyA9IDA7XHJcbiAgICAgICAgdGhpcy5iYiA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuYnQyID0gMDtcclxuICAgICAgICB0aGlzLnd3ID0gMDtcclxuICAgICAgICB0aGlzLnBkID0gMDtcclxuICAgICAgICB0aGlzLnNkID0gMDtcclxuICAgICAgICB0aGlzLmogPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmVzID0gMDtcclxuICAgICAgICB0aGlzLmVkID0gMDtcclxuICAgICAgICB0aGlzLmRlID0gMDtcclxuICAgIH07XHJcblxyXG4gICAgQ2VhNzA4V2luQXR0cmkucHJvdG90eXBlID0ge1xyXG5cclxuICAgICAgICBsb2FkOiBmdW5jdGlvbiAoQXJyLCBTaXplKSB7XHJcbiAgICAgICAgICAgIGlmKDQgPiBTaXplKXtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJFUlJPUlwiLCBcIjcwOCBDbG9zZWRDYXB0aW9uIEVycm9yOldpbmRBdHRyaSBsZXNzIHBhcmFcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5mbyA9IFIyQjcoQXJyWzBdKTtcclxuICAgICAgICAgICAgdGhpcy5mciA9IFIyQjUoQXJyWzBdKTtcclxuICAgICAgICAgICAgdGhpcy5mZyA9IFIyQjMoQXJyWzBdKTtcclxuICAgICAgICAgICAgdGhpcy5mYiA9IFIyQjEoQXJyWzBdKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYnQwID0gUjJCNyhBcnJbMV0pO1xyXG4gICAgICAgICAgICB0aGlzLmJyID0gUjJCNShBcnJbMV0pO1xyXG4gICAgICAgICAgICB0aGlzLmJnID0gUjJCMyhBcnJbMV0pO1xyXG4gICAgICAgICAgICB0aGlzLmJiID0gUjJCMShBcnJbMV0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5idDIgPSBSMUI3KEFyclsyXSk7XHJcbiAgICAgICAgICAgIHRoaXMud3cgPSBSMUI2KEFyclsyXSk7XHJcbiAgICAgICAgICAgIHRoaXMucGQgPSBSMkI1KEFyclsyXSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2QgPSBSMkIzKEFyclsyXSk7XHJcbiAgICAgICAgICAgIHRoaXMuaiA9IFIyQjEoQXJyWzJdKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZXMgPSBSNEI3KEFyclszXSk7XHJcbiAgICAgICAgICAgIHRoaXMuZWQgPSBSMkIzKEFyclszXSk7XHJcbiAgICAgICAgICAgIHRoaXMuZGUgPSBSMkIxKEFyclszXSk7XHJcbiAgICAgICAgICAgIHJldHVybiA0O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIHZhciBsaW5lSW5mbyA9IGZ1bmN0aW9uIChjb2x1bW5DbnQpIHtcclxuICAgICAgICB0aGlzLmNvbHVtbkNudCA9IGNvbHVtbkNudCB8fCBOUl9DT0xTO1xyXG4gICAgICAgIHRoaXMucG9zID0gMDtcclxuICAgICAgICB0aGlzLnRleHQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCB0aGlzLmNvbHVtbkNudCA7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnRleHQucHVzaChuZXcgU3R5bGVkVW5pY29kZUNoYXIoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudGV4dERlcyA9IG5ldyB0ZXh0RGVzKCk7XHJcbiAgICB9O1xyXG4gICAgbGluZUluZm8ucHJvdG90eXBlID0ge1xyXG4gICAgICAgIHJlc2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9zID0gMDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpIDwgdGhpcy5jb2x1bW5DbnQgOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGV4dFtpXS5yZXNldCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudGV4dERlcy5yZXNldCgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaXNFbXB0eSA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgZW1wdHkgPSB0cnVlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCB0aGlzLmNvbHVtbkNudDsgaSArKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEodGhpcy50ZXh0W2ldLmlzRW1wdHkoKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbXB0eSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBlbXB0eTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRUZXh0RGVzOiBmdW5jdGlvbiAobmV3VGV4dERlcykge1xyXG4gICAgICAgICAgICB0aGlzLnRleHREZXMuc2V0VGV4dERlcyhuZXdUZXh0RGVzKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXRUZXh0RGVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRleHREZXM7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaW5zZXJ0VGV4dEluZm86ZnVuY3Rpb24gKGJ5dGUsIHN0ckluZm8pIHtcclxuICAgICAgICAgICAgaWYoKHRoaXMucG9zICsgYnl0ZS5sZW5ndGgpID4gdGhpcy5jb2x1bW5DbnQgKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGNoYXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGUpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wb3MgPj0gdGhpcy5jb2x1bW5DbnQpIHtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJFUlJPUlwiLCBcIkNhbm5vdCBpbnNlcnQgXCIgKyBieXRlLnRvU3RyaW5nKDE2KSArXHJcbiAgICAgICAgICAgICAgICAgICAgXCIgKFwiICsgY2hhciArIFwiKSBhdCBwb3NpdGlvbiBcIiArIHRoaXMucG9zICsgXCIuIFNraXBwaW5nIGl0IVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwidGV4dEluZm8gbGVuOiVkLCBwb3M6JWRcIiwgdGhpcy50ZXh0Lmxlbmd0aCwgdGhpcy5wb3MpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50ZXh0W3RoaXMucG9zXS5zZXRDaGFyKGNoYXIsIHN0ckluZm8pO1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwidGV4dEluZm8gY2hhcjpcIiArIHRoaXMudGV4dEluZm9bdGhpcy5wb3NdLmNoYXIgKyBcIiwgb3JpIGNoYXI6XCIgKyBjaGFyKTtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yKDEpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgbW92ZUFic0N1cnNvcjogZnVuY3Rpb24gKGFic1Bvcykge1xyXG4gICAgICAgICAgICB2YXIgcmVsUG9zID0gYWJzUG9zIC0gdGhpcy5wb3M7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZUN1cnNvcihyZWxQb3MpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIG1vdmVDdXJzb3IgOiBmdW5jdGlvbihyZWxQb3MsIGJEZWwpIHtcclxuICAgICAgICAgICAgYkRlbCA9IHR5cGVvZiAoYkRlbCkgPT09ICd1bmRlZmluZWQnID8gZmFsc2UgOiBiRGVsO1xyXG4gICAgICAgICAgICB2YXIgbmV3UG9zID0gdGhpcy5wb3MgKyByZWxQb3M7XHJcbiAgICAgICAgICAgIGlmKG5ld1BvcyA+IHRoaXMuY29sdW1uQ250KXtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKDAgPT09IHJlbFBvcyl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHJlbFBvcyA+IDEpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSB0aGlzLnBvcysxOyBpIDwgbmV3UG9zKzEgOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHRbaV0uc2V0Q2hhcihBU0NJSV9TUEFDRV9DSEFSLCB0aGlzLnRleHRbdGhpcy5wb3NdLmdldENoYXJJbmZvKCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Q3Vyc29yKG5ld1Bvcyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogIFNldCB0aGUgY3Vyc29yIHRvIGEgdmFsaWQgY29sdW1uLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHNldEN1cnNvciA6IGZ1bmN0aW9uKGFic1Bvcykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wb3MgIT09IGFic1Bvcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3MgPSBhYnNQb3M7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMucG9zIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkVSUk9SXCIsIFwiTmVnYXRpdmUgY3Vyc29yIHBvc2l0aW9uIFwiICsgdGhpcy5wb3MpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3MgPSAwO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucG9zID4gdGhpcy5jb2x1bW5DbnQpIHtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJFUlJPUlwiLCBcIlRvbyBsYXJnZSBjdXJzb3IgcG9zaXRpb24gXCIgKyB0aGlzLnBvcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvcyA9IHRoaXMuY29sdW1uQ250O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZ2V0Q3Vyc29yOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvcztcclxuICAgICAgICB9LFxyXG5cclxuXHJcbiAgICAgICAgY2xlYXJGcm9tUG9zOiBmdW5jdGlvbihzdGFydFBvcykge1xyXG4gICAgICAgICAgICB2YXIgaTtcclxuICAgICAgICAgICAgZm9yIChpID0gc3RhcnRQb3MgOyBpIDwgdGhpcy5jb2x1bW5DbnQgOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGV4dFtpXS51Y2hhciA9IEFTQ0lJX1NQQUNFX0NIQVI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRbaV0uQ2hhckluZm8ucmVzZXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGNsZWFyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhckZyb21Qb3MoMCk7XHJcbiAgICAgICAgICAgIHRoaXMucG9zID0gMDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldFRleHRTdHJpbmc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgY2hhcnMgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGVtcHR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYoMCA9PT0gdGhpcy5wb3Mpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbHVtbkNudDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2hhciA9ICcgJztcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMudGV4dFtpXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhciA9IHRoaXMudGV4dFtpXS51Y2hhcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjaGFyICE9PSBcIiBcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGVtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjaGFycy5wdXNoKGNoYXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChlbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhcnMuam9pbihcIlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG5cclxuICAgICAgICBpc0VxdWFsOiBmdW5jdGlvbiAob3RoZXIsIHBvcykge1xyXG4gICAgICAgICAgICByZXR1cm4gKHRoaXMudGV4dEluZm9zW3Bvc10uY2hhciA9PSBvdGhlci50ZXh0SW5mb3NbcG9zXS5jaGFyKSAmJlxyXG4gICAgICAgICAgICAgICAgKHRoaXMudGV4dEluZm9zW3Bvc10uc3RyaW5nSW5mbyA9PSBvdGhlci50ZXh0SW5mb3NbcG9zXS5zdHJpbmdJbmZvKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBlcXVhbHM6IGZ1bmN0aW9uKG90aGVyKSB7XHJcbiAgICAgICAgICAgIHZhciBlcXVhbCA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IHRoaXMuY29sdW1uQ250OyBpICsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNFcXVhbChvdGhlciwgaSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlcXVhbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBlcXVhbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciB0ZXh0RGVzY3JpcHRvciA9IGZ1bmN0aW9uICh3cmFwLCBzZCkge1xyXG4gICAgICAgIHRoaXMud3JhcCA9IHdyYXAgfHwgMDtcclxuICAgICAgICB0aGlzLnNkID0gc2QgfHwgMDtcclxuICAgIH07XHJcblxyXG4gICAgdGV4dERlc2NyaXB0b3IucHJvdG90eXBlID0ge1xyXG4gICAgICAgIHJlc2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMud3JhcCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuc2QgPSAwO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldFRleHREZXNjcmlwdG9yOiBmdW5jdGlvbiAobmV3VGV4dERlcykge1xyXG4gICAgICAgICAgICB2YXIgYXR0cmlzID0gW1wid3JhcFwiLCBcInNkXCJdO1xyXG4gICAgICAgICAgICB1cGRhdGVBdHRyaWJ1dGUoYXR0cmlzLCBuZXdUZXh0RGVzLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBDZWE3MDhXaW5kb3cgPSBmdW5jdGlvbiAoV2luZElELCByb3dDbnQsIGNvbHVtbkNudCkge1xyXG4gICAgICAgIHRoaXMuV2luZElEID0gLTE7XHJcbiAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5ybCA9IDA7XHJcbiAgICAgICAgdGhpcy5jbCA9IDA7XHJcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IDA7XHJcbiAgICAgICAgdGhpcy5ycCA9IDA7XHJcbiAgICAgICAgdGhpcy5hdiA9IDA7XHJcbiAgICAgICAgdGhpcy5haCA9IDA7XHJcbiAgICAgICAgdGhpcy5hcCA9IDA7XHJcbiAgICAgICAgdGhpcy5yYyA9IDA7XHJcbiAgICAgICAgdGhpcy5jYyA9IDA7XHJcbiAgICAgICAgdGhpcy53cyA9IDA7XHJcbiAgICAgICAgdGhpcy5wcyA9IDA7XHJcbiAgICAgICAgdGhpcy5wZW5Db2xvciA9IG5ldyBDZWE3MDhQZW5Db2xvcigpO1xyXG4gICAgICAgIHRoaXMucGVuQXR0cmkgPSBuZXcgQ2VhNzA4UGVuQXR0cmkoKTtcclxuICAgICAgICB0aGlzLndpbmRBdHRyaSA9IG5ldyBDZWE3MDhXaW5BdHRyaSgpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuYkFkanVzdFJvd0ZsYWcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmN1cnJSb3cgPSAtMTtcclxuICAgICAgICB0aGlzLnJvd0NudCA9IHJvd0NudCB8fCBOUl9ST1dTO1xyXG4gICAgICAgIHRoaXMuY29sdW1uQ250ID0gY29sdW1uQ250IHx8IE5SX0NPTFM7XHJcblxyXG4gICAgICAgIHRoaXMucmVjdEluZm8gPSBuZXcgUmVjdEluZm8oKTtcclxuICAgICAgICB0aGlzLnRleHREaXNwbGF5SW5mbyA9IG5ldyB0ZXh0RGVzY3JpcHRvcigpO1xyXG4gICAgICAgIHRoaXMuY3VyQ2hhckluZm8gPSBuZXcgQ2hhckluZm8oKTtcclxuICAgICAgICB0aGlzLnJvd1RleHRJbmZvcyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8ICB0aGlzLnJvd0NudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMucm93VGV4dEluZm9zLnB1c2gobmV3IGxpbmVJbmZvKHRoaXMuY29sdW1uQ250KSk7IC8vIE5vdGUgdGhhdCB3ZSB1c2UgemVyby1iYXNlZCBudW1iZXJpbmcgKDAtMTQpXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH07XHJcblxyXG4gICAgQ2VhNzA4V2luZG93LnByb3RvdHlwZSA9IHtcclxuXHJcbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHRoaXMuV2luZElEID0gLTE7XHJcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5iQWRqdXN0Um93RmxhZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJSb3cgPSAtMTtcclxuICAgICAgICAgICAgdGhpcy50ZXh0RGlzcGxheUluZm8ucmVzZXQoKTtcclxuICAgICAgICAgICAgdGhpcy5yZXNldFRleHRJbmZvKCk7XHJcblxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVzZXRUZXh0SW5mbzogZnVuY3Rpb24gKGJDTFcpIHtcclxuICAgICAgICAgICAgYkNMVyA9IHR5cGVvZiAoYkNMVykgPT09ICd1bmRlZmluZWQnID8gZmFsc2UgOiBiQ0xXO1xyXG4gICAgICAgICAgICBmb3IodmFyIGkgPTA7IGkgPCB0aGlzLnJvd1RleHRJbmZvcy5sZW5ndGg7IGkgKyspe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3dUZXh0SW5mb3NbaV0ucmVzZXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmN1ckNoYXJJbmZvLnJlc2V0KCk7XHJcbiAgICAgICAgICAgIGlmKCFiQ0xXKXtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjdEluZm8ucmVzZXQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjdEluZm8uUmVjdEJvcmRlckNvbG9yLlRyYW5zID0gMDtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjdEluZm8uUmVjdEZpbGxDb2xvci5UcmFucyA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRDdXJyUm93OiBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgIGlmKCF0aGlzLmlzUm93VmFsaWQocm93KSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkRFQlVHXCIsIFwiW0NlYTcwOFdpbmRvd10gXCIgKyBcIltzZXRDdXJyUm93XSBcIiArIHJvdyk7XHJcbiAgICAgICAgICAgIHRoaXMuY3VyclJvdyA9IHJvdztcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZ2V0Q3VyclJvdzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiREVCVUdcIiwgXCJbQ2VhNzA4V2luZG93XSBcIiArIFwiW2dldEN1cnJSb3ddIFwiICsgdGhpcy5jdXJyUm93KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VyclJvdztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBpc1Jvd1ZhbGlkOiBmdW5jdGlvbiAocm93KSB7XHJcbiAgICAgICAgICAgIGlmICgoMCA+IHJvdykgfHwgKHRoaXMucm93Q250IDw9IHJvdykpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldFJlY3RJbmZvOiBmdW5jdGlvbiAobmV3UmVjdEluZm8pIHtcclxuICAgICAgICAgICBpZighbmV3UmVjdEluZm8pe1xyXG4gICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIltzZXRSZWN0SW5mb10gd2luZElEOiVkXCIsIHRoaXMuV2luZElEKTtcclxuICAgICAgICAgICB0aGlzLnJlY3RJbmZvLnNldFJlY3RJbmZvKG5ld1JlY3RJbmZvKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXRSZWN0SW5mbzpmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW2dldFJlY3RJbmZvXSB3aW5kSUQ6JWRcIiwgdGhpcy5XaW5kSUQpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWN0SW5mbztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRSb3dEZXM6IGZ1bmN0aW9uIChyb3dEZXMpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpIDwgdGhpcy5yb3dDbnQgOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucm93VGV4dEluZm9zW2ldLnNldFRleHREZXMocm93RGVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldFRleHREaXNwbGF5SW5mbzogZnVuY3Rpb24gKG5ld1RleHREaXNwbGF5SW5mbykge1xyXG4gICAgICAgICAgICBpZighbmV3VGV4dERpc3BsYXlJbmZvKXtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnRleHREaXNwbGF5SW5mby5zZXRUZXh0RGVzY3JpcHRvcihuZXdUZXh0RGlzcGxheUluZm8pO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldENoYXJJbmZvOiBmdW5jdGlvbiAobmV3Q2hhckluZm8pIHtcclxuICAgICAgICAgICAgaWYoIW5ld0NoYXJJbmZvKXtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmN1ckNoYXJJbmZvLnNldENoYXJJbmZvKG5ld0NoYXJJbmZvKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBpbnNlcnRDaGFyczogZnVuY3Rpb24oY2hhcnMpIHtcclxuICAgICAgICAgICAgaWYoIXRoaXMuaXNSb3dWYWxpZCh0aGlzLmN1cnJSb3cpKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcm93SW5mbyA9IHRoaXMucm93VGV4dEluZm9zW3RoaXMuY3VyclJvd107XHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJERUJVR1wiLCBcIlt3aW5kb3c6aW5zZXJ0Q2hhcl0gcm93OlwiICsgdGhpcy5jdXJyUm93ICk7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPGNoYXJzLmxlbmd0aDsgaSArKyl7XHJcbiAgICAgICAgICAgICAgICByb3dJbmZvLmluc2VydFRleHRJbmZvKGNoYXJzW2ldLCB0aGlzLmN1ckNoYXJJbmZvKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5VcGRhdGVXaW5kSW5mbyh0cnVlKTtcclxuXHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJERUJVR1wiLCBcIltjZWE3MDh3aW5kb3c6IGluc2VydENoYXJzXSBjaGFyczpcIiArIHRoaXMuZ2V0RGlzcGxheVRleHQodHJ1ZSkpO1xyXG5cclxuICAgICAgICAgICAgLy8gaWYodGhpcy51cGRhdGUpe1xyXG4gICAgICAgICAgICAvLyAgICAgbG9nZ2VyLmxvZyhcIlRFWFRcIiwgXCJESVNQTEFZRUQ6IFwiICsgdGhpcy5nZXREaXNwbGF5VGV4dCh0cnVlKSk7XHJcbiAgICAgICAgICAgIC8vICAgICB0aGlzLm91dHB1dERhdGFVcGRhdGUoKTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBVcGRhdGVXaW5kSW5mbzogZnVuY3Rpb24oYkZvcmNlKXtcclxuICAgICAgICAgICAgYkZvcmNlID0gdHlwZW9mKGJGb3JjZSkgPT0gJ3VuZGVmaW5lZCcgPyBmYWxzZSA6IGJGb3JjZTtcclxuICAgICAgICAgICAgaWYodGhpcy52aXNpYmxlIHx8IGJGb3JjZSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjY19CUzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiNzA4IEluZm86IEJTXCIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNSb3dWYWxpZCh0aGlzLmN1cnJSb3cpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9zID0gdGhpcy5yb3dUZXh0SW5mb3NbdGhpcy5jdXJyUm93XS5wb3M7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9zID4gMClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvd1RleHRJbmZvc1t0aGlzLmN1cnJSb3ddLm1vdmVDdXJzb3IoLTEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgY2NfQ1I6IGZ1bmN0aW9uKCkgeyAvLyBDYXJyaWFnZSBSZXR1cm5cclxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIjcwOCBDUiAtIENhcnJpYWdlIFJldHVyblwiKTtcclxuICAgICAgICAgICAgLy8gdGhpcy53cml0ZVNjcmVlbi5yb2xsVXAoKTtcclxuICAgICAgICAgICAgLy8gdGhpcy5vdXRwdXREYXRhVXBkYXRlKCk7XHJcbiAgICAgICAgICAgIGlmKCF0aGlzLmlzUm93VmFsaWQodGhpcy5jdXJyUm93KSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciB3aW5Ub3BObyA9IFRyYW5zbGF0ZVBvc1RvUm93Tm8odGhpcy5yZWN0SW5mby5SZWN0LlRvcCk7XHJcbiAgICAgICAgICAgIHZhciB3aW5Cb3R0b21ObyA9IFRyYW5zbGF0ZVBvc1RvUm93Tm8odGhpcy5yZWN0SW5mby5SZWN0LkJvdHRvbSkgLSAxO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIls3MDggQ1IgLSBDYXJyaWFnZSBSZXR1cm5dIENSLCBXaW5Ub3A6JWQsIFdpbkJvdHRvbTolZCwgQ3VyUm93OiVkXCIsXHJcbiAgICAgICAgICAgIC8vICAgICB3aW5Ub3BObywgd2luQm90dG9tTm8sIHRoaXMuY3VyclJvdyk7XHJcblxyXG4gICAgICAgICAgICBpZiAod2luQm90dG9tTm8gPj0gKHRoaXMuZ2V0Q3VyclJvdygpICsgMSkpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJzZUNSTm9uUm9sbHVwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyc2VDUlJvbGx1cCh3aW5Ub3BObyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjY19IQ1I6IGZ1bmN0aW9uICgpIHsgLy9IQ1JcclxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIjcwOCBIQ1JcIik7XHJcbiAgICAgICAgICAgaWYodGhpcy5pc1Jvd1ZhbGlkKHRoaXMuY3VyclJvdykpe1xyXG4gICAgICAgICAgICAgICB0aGlzLnJvd1RleHRJbmZvc1t0aGlzLmN1cnJSb3ddLm1vdmVBYnNDdXJzb3IoMCk7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL3RoaXMub3V0cHV0RGF0YVVwZGF0ZSgpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHBhcnNlQ1JOb25Sb2xsdXA6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJbUGFyc2VDUk5vblJvbGx1cF0gcGQ6JWQsIHNkOiVkXCIsIHRoaXMud2luZEF0dHJpLnBkLCB0aGlzLndpbmRBdHRyaS5zZCk7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy53aW5kQXR0cmkucGQpe1xyXG4gICAgICAgICAgICAgICAgY2FzZSBwcmludF9zRGlyZWN0aW9uLkxFRlRfVE9fUklHSFQ6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJpbnRfc0RpcmVjdGlvbi5CT1RUT01fVE9fVE9QID09IHRoaXMud2luZEF0dHJpLnNkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDdXJyUm93KHRoaXMuZ2V0Q3VyclJvdygpICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByaW50X3NEaXJlY3Rpb24uVE9QX1RPX0JPVFRPTSA9PSB0aGlzLndpbmRBdHRyaS5zZClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q3VyclJvdyh0aGlzLmdldEN1cnJSb3coKSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwicm93OiVkLCBpbmZvOiVwXCIsIHRoaXMuY3VyclJvdywgdGhpcy5yb3dUZXh0SW5mb3NbdGhpcy5jdXJyUm93XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3dUZXh0SW5mb3NbdGhpcy5jdXJyUm93XS5tb3ZlQWJzQ3Vyc29yKDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSBwcmludF9zRGlyZWN0aW9uLlJJR0hUX1RPX0xFRlQ6e1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmludF9zRGlyZWN0aW9uLkJPVFRPTV9UT19UT1AgPT0gdGhpcy53aW5kQXR0cmkuc2Qpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEN1cnJSb3codGhpcy5nZXRDdXJyUm93KCkgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocHJpbnRfc0RpcmVjdGlvbi5UT1BfVE9fQk9UVE9NID09IHRoaXMud2luZEF0dHJpLnNkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDdXJyUm93KHRoaXMuZ2V0Q3VyclJvdygpIC0gMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm93VGV4dEluZm9zW3RoaXMuZ2V0Q3VyclJvdygpXS5tb3ZlQWJzQ3Vyc29yKFRyYW5zbGF0ZUNvbE5vVG9Qb3ModGhpcy5yZWN0SW5mby5SZWN0LlJpZ2h0IC0gMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSBwcmludF9zRGlyZWN0aW9uLlRPUF9UT19CT1RUT006IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJpbnRfc0RpcmVjdGlvbi5MRUZUX1RPX1JJR0hUID09IHRoaXMud2luZEF0dHJpLnNkKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3dUZXh0SW5mb3NbdGhpcy5jdXJyUm93XS5tb3ZlQ3Vyc29yKC0xKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocHJpbnRfc0RpcmVjdGlvbi5SSUdIVF9UT19MRUZUID09IHRoaXMud2luZEF0dHJpLnNkKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3dUZXh0SW5mb3NbdGhpcy5jdXJyUm93XS5tb3ZlQ3Vyc29yKDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEN1cnJSb3codGhpcy5yZWN0SW5mby5SZWN0LlRvcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXNlIHByaW50X3NEaXJlY3Rpb24uQk9UVE9NX1RPX1RPUDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmludF9zRGlyZWN0aW9uLkxFRlRfVE9fUklHSFQgPT0gdGhpcy53aW5kQXR0cmkuc2QpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvd1RleHRJbmZvc1t0aGlzLmN1cnJSb3ddLm1vdmVDdXJzb3IoLTEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwcmludF9zRGlyZWN0aW9uLlJJR0hUX1RPX0xFRlQgPT0gdGhpcy53aW5kQXR0cmkuc2QpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvd1RleHRJbmZvc1t0aGlzLmN1cnJSb3ddLm1vdmVDdXJzb3IoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q3VyclJvdyh0aGlzLnJlY3RJbmZvLlJlY3QuQm90dG9tIC0gMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICBwYXJzZUNSUm9sbHVwOiBmdW5jdGlvbih3aW5Ub3BObyl7XHJcbiAgICAgICAgICAgIHdpblRvcE5vICs9IDE7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzUm93VmFsaWQodGhpcy5jdXJyUm93KSl7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5iQWRqdXN0Um93RmxhZyl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGp1c3RSb3dXaGVuTm9TUExDbWQodGhpcy5nZXRDdXJyUm93KCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAod2luVG9wTm8gPD0gdGhpcy5nZXRDdXJyUm93KCkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvcHlDaGFyKHdpblRvcE5vLCB3aW5Ub3BObyAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5Ub3BObysrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGFkanVzdFJvd1doZW5Ob1NQTENtZDogZnVuY3Rpb24oQ3VyUm93Tm8pe1xyXG4gICAgICAgICAgICB2YXIgbldpbk1heFJvdyA9IFRyYW5zbGF0ZVBvc1RvUm93Tm8odGhpcy5yZWN0SW5mby5SZWN0LkJvdHRvbSkgLSAxO1xyXG4gICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiW2FkanVzdFJvd1doZW5Ob1NQTENtZF0gRmxhZzolZCwgQ3VyUm93Tm86JWQsIG5XaW5NYXhSb3c6JWRcIiwgdGhpcy5iQWRqdXN0Um93RmxhZywgQ3VyUm93Tm8sIG5XaW5NYXhSb3cpO1xyXG5cclxuICAgICAgICAgICAgaWYgKChDdXJSb3dObyA+PSBuV2luTWF4Um93KSB8fCAoMyA8PSBDdXJSb3dObykpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDdXJyUm93KDApO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7ICBpIDw9IEN1clJvd05vOyAgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnJvd1RleHRJbmZvc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm93VGV4dEluZm9zW2ldLm1vdmVBYnNDdXJzb3IoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldEN1cnJSb3coQ3VyUm93Tm8gKyAxKTtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMucm93VGV4dEluZm9zW3RoaXMuY3VyclJvd10pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvd1RleHRJbmZvc1t0aGlzLmN1cnJSb3ddLm1vdmVBYnNDdXJzb3IoMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjb3B5Q2hhcjogZnVuY3Rpb24oc3JjUm93LCBkZXNSb3cpe1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIltDb3B5Q2hhcl0gc3JjUm93OiVkLCBkZXNSb3c6JWQsIG1fUm93Q250OiVkLCBDaGFyY250OiVkXCIsXHJcbiAgICAgICAgICAgIC8vICAgICBzcmNSb3csIGRlc1JvdywgdGhpcy5yb3dDbnQsIHRoaXMucm93VGV4dEluZm9zW3NyY1Jvd10ucG9zKTtcclxuICAgICAgICAgICAgaWYgKHNyY1JvdyA+PSB0aGlzLnJvd0NudCB8fCBkZXNSb3cgPj0gdGhpcy5yb3dDbnQgfHwgIXRoaXMucm93VGV4dEluZm9zW3NyY1Jvd10ucG9zKXtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5yb3dUZXh0SW5mb3NbZGVzUm93XS50ZXh0SW5mb3MgPSB0aGlzLnJvd1RleHRJbmZvc1tzcmNSb3ddLnRleHRJbmZvcztcclxuICAgICAgICAgICAgdGhpcy5yb3dUZXh0SW5mb3NbZGVzUm93XS5wb3MgPSB0aGlzLnJvd1RleHRJbmZvc1tzcmNSb3ddLnBvcztcclxuICAgICAgICAgICAgdGhpcy5yb3dUZXh0SW5mb3Nbc3JjUm93XS5wb3MgPSAwO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldEFkanVzdFJvd0ZsYWc6IGZ1bmN0aW9uIChiQWRqdXN0RmxhZykge1xyXG4gICAgICAgICAgICB0aGlzLmJBZGp1c3RSb3dGbGFnID0gYkFkanVzdEZsYWc7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0IGFsbCBub24tZW1wdHkgcm93cyB3aXRoIGFzIHVuaWNvZGUgdGV4dC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXREaXNwbGF5VGV4dCA6IGZ1bmN0aW9uKGFzT25lUm93KSB7XHJcbiAgICAgICAgICAgIGFzT25lUm93ID0gYXNPbmVSb3cgfHwgZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBkaXNwbGF5VGV4dCA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgdGV4dCA9IFwiXCI7XHJcbiAgICAgICAgICAgIHZhciByb3dOciA9IC0xO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCB0aGlzLnJvd0NudCA7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJvd1RleHQgPSB0aGlzLnJvd1RleHRJbmZvc1tpXS5nZXRUZXh0U3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocm93VGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvd05yID0gaTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXNPbmVSb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheVRleHQucHVzaChcIlJvdyBcIiArIHJvd05yICsgJzogXCInICsgcm93VGV4dCArICdcIicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlUZXh0LnB1c2gocm93VGV4dC50cmltKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGlzcGxheVRleHQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFzT25lUm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IFwiW1wiICsgZGlzcGxheVRleHQuam9pbihcInxcIikgKyBcIl1cIjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IGRpc3BsYXlUZXh0LmpvaW4oXCJcXG5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgU2V0V2luZG93UmVjdEluZm86IGZ1bmN0aW9uKG5BbmNob3JJRCwgYlJlbFBvcywgbkFuY2hvclZlciwgbkFuY2hvckhvciwgblJvd0NudCwgbkNvbENudCl7XHJcbiAgICAgICAgICAgIHZhciBuTWluUm93ID0gMCxuTWF4Um93ID0gMCxuTWluQ29sID0gMCxuTWF4Q29sID0gMDtcclxuICAgICAgICAgICAgaWYoYlJlbFBvcyl7XHJcbiAgICAgICAgICAgICAgICBuTWluUm93ID0gcGFyc2VJbnQobkFuY2hvclZlcipOUl9ST1dTLzEwMCk7XHJcbiAgICAgICAgICAgICAgICBuTWluQ29sID0gcGFyc2VJbnQobkFuY2hvckhvcipOUl9DT0xTLzEwMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBuTWluUm93ID0gcGFyc2VJbnQobkFuY2hvclZlci81KTtcclxuICAgICAgICAgICAgICAgIG5NaW5Db2wgPSBwYXJzZUludChuQW5jaG9ySG9yLzUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZigxID09PSBwYXJzZUludChuQW5jaG9ySUQvMykpe1xyXG4gICAgICAgICAgICAgICAgaWYobk1pblJvdyA+PSBwYXJzZUludChuUm93Q250LzIpKXtcclxuICAgICAgICAgICAgICAgICAgICBuTWluUm93ID0gbk1pblJvdyAtIHBhcnNlSW50KG5Sb3dDbnQvMik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZigyID09PSBwYXJzZUludChuQW5jaG9ySUQvMykpe1xyXG4gICAgICAgICAgICAgICAgaWYobk1pblJvdyA+PSAoblJvd0NudCAtIDEpKXtcclxuICAgICAgICAgICAgICAgICAgICBuTWluUm93ID0gbk1pblJvdyAtIChuUm93Q250IC0gMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChwYXJzZUludChuQW5jaG9ySUQlMykgPT0gMSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5NaW5Db2wgPj0gcGFyc2VJbnQobkNvbENudC8yKSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBuTWluQ29sID0gbk1pbkNvbCAtIHBhcnNlSW50KG5Db2xDbnQvMik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAocGFyc2VJbnQobkFuY2hvcklEJTMpID09IDIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChuTWluQ29sID49IChuQ29sQ250IC0gMSkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbk1pbkNvbCA9IG5NaW5Db2wgLSAobkNvbENudCAtIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBuTWF4Um93ID0gbk1pblJvdyArIChuUm93Q250IC0gMSk7XHJcbiAgICAgICAgICAgIG5NYXhDb2wgPSBuTWluQ29sICsgKG5Db2xDbnQgLSAxKTtcclxuXHJcbiAgICAgICAgICAgIG5NaW5Sb3cgPSBuTWluUm93ID4gKE5SX1JPV1MgLSAxKSA/IChOUl9ST1dTIC0gMSkgOiBuTWluUm93O1xyXG4gICAgICAgICAgICBuTWF4Um93ID0gbk1heFJvdyA+IChOUl9ST1dTIC0gMSkgPyAoTlJfUk9XUyAtIDEpIDogbk1heFJvdztcclxuXHJcbiAgICAgICAgICAgIG5NaW5Db2wgPSBuTWluQ29sID4gKE5SX0NPTFMgLSAxKSA/IChOUl9DT0xTIC0gMSkgOiBuTWluQ29sO1xyXG4gICAgICAgICAgICBuTWF4Q29sID0gbk1heENvbCA+IChOUl9DT0xTIC0gMSkgPyAoTlJfQ09MUyAtIDEpIDogbk1heENvbDtcclxuXHJcbiAgICAgICAgICAgIHZhciByZWN0ID0gbmV3IFJlY3RQb3MoKTtcclxuICAgICAgICAgICAgaWYoIXJlY3Qpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldFJlY3RQb3MocmVjdCwgbk1pblJvdywgbk1heFJvdywgbk1pbkNvbCwgbk1heENvbCk7XHJcbiAgICAgICAgICAgIHZhciByZWN0SW5mbyA9IHtSZWN0OiByZWN0fTtcclxuICAgICAgICAgICAgdGhpcy5zZXRSZWN0SW5mbyhyZWN0SW5mbyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgTWFwQ29sb3IyUkdCOmZ1bmN0aW9uKCB1UmVkLCB1R3JlZW4sIHVCbHVlKXtcclxuICAgICAgICAgICAgaWYgKHVSZWQgPiAzIHx8IHVHcmVlbiA+IDMgfHwgdUJsdWUgPiAzKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgdm9SR0JWYWx1ZSA9IG5ldyBDb2xvcigpO1xyXG4gICAgICAgICAgICB2b1JHQlZhbHVlLlJlZCA9IHVSZWQqQ0M3MDhSR0JfVElNRVNDQUxFO1xyXG4gICAgICAgICAgICB2b1JHQlZhbHVlLkdyZWVuID0gdUdyZWVuKkNDNzA4UkdCX1RJTUVTQ0FMRTtcclxuICAgICAgICAgICAgdm9SR0JWYWx1ZS5CbHVlID0gdUJsdWUqQ0M3MDhSR0JfVElNRVNDQUxFO1xyXG4gICAgICAgICAgICByZXR1cm4gdm9SR0JWYWx1ZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBTZXRXaW5kb3dBdHRyaTogZnVuY3Rpb24oV2luQXR0cmksIEFyciwgU2l6ZSl7XHJcbiAgICAgICAgICAgIHZhciByZXQgPSBXaW5BdHRyaS5sb2FkKEFyciwgU2l6ZSk7XHJcbiAgICAgICAgICAgIHZhciByb3dEZXMgPSB7aGo6cGFyc2VJbnQoV2luQXR0cmkuaiUzKSwgcGQ6V2luQXR0cmkucGR9O1xyXG4gICAgICAgICAgICB0aGlzLnNldFJvd0Rlcyhyb3dEZXMpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlY3RCb3JkZXJDb2xvciA9IHRoaXMuTWFwQ29sb3IyUkdCKHRoaXMud2luZEF0dHJpLmJyLCB0aGlzLndpbmRBdHRyaS5iZywgdGhpcy53aW5kQXR0cmkuYmIpO1xyXG4gICAgICAgICAgICByZWN0Qm9yZGVyQ29sb3IuVHJhbnMgPSAwO1xyXG4gICAgICAgICAgICB2YXIgcmVjdEZpbGxDb2xvciA9IHRoaXMuTWFwQ29sb3IyUkdCKHRoaXMud2luZEF0dHJpLmZyLCB0aGlzLndpbmRBdHRyaS5mZywgdGhpcy53aW5kQXR0cmkuZmIpO1xyXG4gICAgICAgICAgICByZWN0RmlsbENvbG9yLlRyYW5zID0gMDtcclxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLndpbmRBdHRyaS5mbyl7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVjdEZpbGxDb2xvci5UcmFucyA9IDB4RkY7Ly8vPDEwMCVcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICByZWN0RmlsbENvbG9yLlRyYW5zID0gMHhCRjsvLy88NzUlXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVjdEZpbGxDb2xvci5UcmFucyA9IDB4MDsvLy88MCVcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciByZWN0SW5mbyA9IHtSZWN0Qm9yZGVyVHlwZTogKHRoaXMud2luZEF0dHJpLmJ0MiA8PCAzIHwgdGhpcy53aW5kQXR0cmkuYnQwKSxcclxuICAgICAgICAgICAgICAgIFJlY3RCb3JkZXJDb2xvcjogcmVjdEJvcmRlckNvbG9yLCBSZWN0RmlsbENvbG9yOiByZWN0RmlsbENvbG9yLFxyXG4gICAgICAgICAgICAgICAgUmVjdERpc3BsYXlFZmZlY3Q6e0VmZmVjdFR5cGU6IHRoaXMud2luZEF0dHJpLmRlLCBFZmZlY3RTcGVlZDogdGhpcy53aW5kQXR0cmkuZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgRWZmZWN0RGlyZWN0aW9uOiB0aGlzLndpbmRBdHRyaS5lZH19O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zZXRSZWN0SW5mbyhyZWN0SW5mbyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VGV4dERpc3BsYXlJbmZvKHt3cmFwOiB0aGlzLndpbmRBdHRyaS53dywgc2Q6IHRoaXMud2luZEF0dHJpLnNkfSk7XHJcbiAgICAgICAgICAgIHRoaXMuVXBkYXRlV2luZEluZm8oKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBTZXRQZW5BdHRpOiBmdW5jdGlvbiAoUGVuQXR0cmksIEFyciwgU2l6ZSkge1xyXG4gICAgICAgICAgICB2YXIgcmV0ID0gUGVuQXR0cmkubG9hZChBcnIsIFNpemUpO1xyXG4gICAgICAgICAgICB2YXIgZm9udEVmZmVjdEluZm8gPSB7SXRhbGljOiB0aGlzLnBlbkF0dHJpLmksIFVuZGVybGluZTogdGhpcy5wZW5BdHRyaS51LFxyXG4gICAgICAgICAgICAgICAgRWRnZVR5cGU6IHRoaXMucGVuQXR0cmkuZXQsIFRleHRUYWc6IHRoaXMucGVuQXR0cmkudHQsXHJcbiAgICAgICAgICAgICAgICBvZmZTZXQ6IHRoaXMucGVuQXR0cmkub307XHJcbiAgICAgICAgICAgIHZhciBmb250SW5mbyA9IHtGb250U2l6ZTogdGhpcy5wZW5BdHRyaS5zLCBGb250U3R5bGU6IHRoaXMucGVuQXR0cmkuZnN9O1xyXG4gICAgICAgICAgICB2YXIgY2hhckluZm8gPSB7Rm9udEluZm86IGZvbnRJbmZvLCBGb250RWZmZWN0SW5mbzogZm9udEVmZmVjdEluZm99O1xyXG4gICAgICAgICAgICB0aGlzLnNldENoYXJJbmZvKGNoYXJJbmZvKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuVXBkYXRlV2luZEluZm8oKTtcclxuICAgICAgICAgICAgLy90aGlzLm91dHB1dERhdGFVcGRhdGUoKTtcclxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkRFQlVHXCIsIFwiW3dpbmQ6IFNldFBlbkF0dGldXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIFNldFBlbkNvbG9yOiBmdW5jdGlvbiAoUGVuQ29sb3IsIEFyciwgU2l6ZSkge1xyXG4gICAgICAgICAgICB2YXIgcmV0ID0gUGVuQ29sb3IubG9hZChBcnIsIFNpemUpO1xyXG5cclxuICAgICAgICAgICB2YXIgZm9udENvbG9yID0gdGhpcy5NYXBDb2xvcjJSR0IodGhpcy5wZW5Db2xvci5mciwgdGhpcy5wZW5Db2xvci5mYiwgdGhpcy5wZW5Db2xvci5mZyk7XHJcbiAgICAgICAgICAgIGlmICgwID09PSB0aGlzLnBlbkNvbG9yLmZvfHwgMSA9PT0gdGhpcy5wZW5Db2xvci5mbylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZm9udENvbG9yLlRyYW5zID0gMHhGRjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKDIgPT09IHRoaXMucGVuQ29sb3IuZm8pXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGZvbnRDb2xvci5UcmFucyA9IDB4QkY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIGZvbnRDb2xvci5UcmFucyAgPSAweDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGVkZ2VDb2xvciA9ICB0aGlzLk1hcENvbG9yMlJHQih0aGlzLnBlbkNvbG9yLmVyLCB0aGlzLnBlbkNvbG9yLmVnLCB0aGlzLnBlbkNvbG9yLmViKTtcclxuICAgICAgICAgICAgZWRnZUNvbG9yLlRyYW5zID0gZm9udENvbG9yLlRyYW5zO1xyXG4gICAgICAgICAgICB2YXIgY2hhckluZm8gPSB7Rm9udEluZm86e0ZvbnRDb2xvcjogZm9udENvbG9yfSwgRm9udEVmZmVjdEluZm86e0VkZ2VDb2xvcjogZWRnZUNvbG9yfX07XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Q2hhckluZm8oY2hhckluZm8pO1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlY3RGaWxsQ29sb3IgPSB0aGlzLk1hcENvbG9yMlJHQih0aGlzLnBlbkNvbG9yLmJyLCB0aGlzLnBlbkNvbG9yLmJnLCB0aGlzLnBlbkNvbG9yLmJiKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGVuQ29sb3IuYm8gPT09IDAgfHwgdGhpcy5wZW5Db2xvci5ibyA9PT0gMSl7XHJcbiAgICAgICAgICAgICAgICByZWN0RmlsbENvbG9yLlRyYW5zID0gMHhGRjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKHRoaXMucGVuQ29sb3IuYm8gPT09IDIpe1xyXG4gICAgICAgICAgICAgICAgcmVjdEZpbGxDb2xvci5UcmFucyA9IDB4QkY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIHJlY3RGaWxsQ29sb3IuVHJhbnMgPSAweDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHR4dERlcyA9IG5ldyB0ZXh0RGVzKCk7XHJcbiAgICAgICAgICAgIHR4dERlcy5kYXRhQm94LlJlY3RGaWxsQ29sb3IgPSByZWN0RmlsbENvbG9yO1xyXG4gICAgICAgICAgICAvL3RoaXMuc2V0Um93RGVzKHR4dERlcyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0Um93RGVzKHtkYXRhQm94OntSZWN0RmlsbENvbG9yOiByZWN0RmlsbENvbG9yfX0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5VcGRhdGVXaW5kSW5mbygpO1xyXG4gICAgICAgICAgICAvL3RoaXMub3V0cHV0RGF0YVVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiREVCVUdcIiwgXCJbd2luZDogU2V0UGVuQ29sb3JdXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmV0O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGxvYWQ6IGZ1bmN0aW9uIChBcnIsIFNpemUpIHtcclxuICAgICAgICAgICAgaWYgKDcgPiBTaXplKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiRVJST1JcIiwgXCJDbG9zZWRDYXB0aW9uIEVycm9yOkRGQ29tbWFuZFBhcmEgbGVzcyBwYXJhXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFNpemU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5XaW5kSUQgPSBSM0IyKEFyclswXSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VmlzaWJsZShSMUI1KEFyclsxXSkpO1xyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiREVCVUdcIiwgXCJbd2luZDogbG9hZF0gd2luZElEOlwiICsgdGhpcy5XaW5kSUQsIFwiLCB2aXNpYmxlOlwiICsgUjFCNShBcnJbMV0pKTtcclxuICAgICAgICAgICAgdGhpcy5ybCA9IFIxQjQoQXJyWzFdKTtcclxuICAgICAgICAgICAgdGhpcy5jbCA9IFIxQjMoQXJyWzFdKTtcclxuICAgICAgICAgICAgdGhpcy5wcmlvcml0eSA9IFIzQjIoQXJyWzFdKTtcclxuICAgICAgICAgICAgLy9wcmlvcml0eSBoYW5kbGU/Pz9cclxuXHJcbiAgICAgICAgICAgIHRoaXMucnAgPSBSMUI3KEFyclsyXSk7XHJcbiAgICAgICAgICAgIHRoaXMuYXYgPSBSN0I2KEFyclsyXSk7XHJcbiAgICAgICAgICAgIHRoaXMuYWggPSBBcnJbM107XHJcbiAgICAgICAgICAgIHRoaXMuYXAgPSBSNEI3KEFycls0XSk7XHJcbiAgICAgICAgICAgIHRoaXMucmMgPSBSNEIzKEFycls0XSk7XHJcbiAgICAgICAgICAgIHRoaXMucmMgKz0gMTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2MgPSBSNkI1KEFycls1XSk7XHJcbiAgICAgICAgICAgIHRoaXMuY2MgKz0gMTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuU2V0V2luZG93UmVjdEluZm8odGhpcy5hcCx0aGlzLnJwLHRoaXMuYXYsdGhpcy5haCx0aGlzLnJjLHRoaXMuY2MpO1xyXG4gICAgICAgICAgICB0aGlzLndzID0gUjNCNShBcnJbNl0pO1xyXG4gICAgICAgICAgICBpZighdGhpcy53cyl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLndzID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnBzID0gUjNCMihBcnJbNl0pO1xyXG4gICAgICAgICAgICBpZighdGhpcy5wcyl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBzID0gMTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYodGhpcy53cyl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLlNldFdpbmRvd0F0dHJpKHRoaXMud2luZEF0dHJpLCBQcmVzZXRXaW5BdHRyaVt0aGlzLndzIC0gMV0sIDQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLnBzKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuU2V0UGVuQXR0aSh0aGlzLnBlbkF0dHJpLCBQcmVzZXRQZW5BdHRyaVt0aGlzLnBzIC0gMV0sIDIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5TZXRQZW5Db2xvcih0aGlzLnBlbkNvbG9yLCBQcmVzZXRQZW5Db2xvclt0aGlzLnBzIC0gMV0sIDMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgY3VyclJlY3RJbmZvID0gdGhpcy5nZXRSZWN0SW5mbygpO1xyXG4gICAgICAgICAgICB2YXIgd2luTWluUm93ID0gVHJhbnNsYXRlUG9zVG9Sb3dObyhjdXJyUmVjdEluZm8uUmVjdC5Ub3AsIHRydWUpO1xyXG4gICAgICAgICAgICB2YXIgd2luTWF4Um93ID0gVHJhbnNsYXRlUG9zVG9Sb3dObyhjdXJyUmVjdEluZm8uUmVjdC5Cb3R0b20sIHRydWUpIC0gMTtcclxuICAgICAgICAgICAgdmFyIGN1cnJSb3cgPSB0aGlzLmdldEN1cnJSb3coKTtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcImxvYWQgY3VyclJvdzolZCwgbWluUm93OiVkLCBtYXhSb3c6JWRcIiwgY3VyclJvdywgd2luTWluUm93LCB3aW5NYXhSb3cpO1xyXG4gICAgICAgICAgICBpZih0aGlzLmlzUm93VmFsaWQoY3VyclJvdykgJiYgKGN1cnJSb3cgPCB3aW5NaW5Sb3cgfHwgY3VyclJvdyA+IHdpbk1heFJvdykpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHJvdyA9IDA7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAocm93IDwgd2luTWluUm93KXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvd1RleHRJbmZvc1tjdXJyUm93XS5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJvdyArKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJvdyA9IHdpbk1heFJvdyArIDE7XHJcbiAgICAgICAgICAgICAgICB3aGlsZShyb3cgPCB0aGlzLnJvd0NudCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3dUZXh0SW5mb3NbY3VyclJvd10uY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgICAgICByb3cgKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDdXJyUm93KHdpbk1pblJvdyk7XHJcbiAgICAgICAgICAgICAgICBpZigzID09PSB0aGlzLndpbmRBdHRyaS5zZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDdXJyUm93KHdpbk1heFJvdyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy90aGlzLm91dHB1dERhdGFVcGRhdGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIDc7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0VmlzaWJsZTogZnVuY3Rpb24gKGJWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJERUJVR1wiLCBcIltzZXRWaXNpYmxlXVwiICsgXCJ0aGlzLnZpc2libGU6XCIgKyB0aGlzLnZpc2libGUgKyBcIiwgYlZpc2libGU6XCIgKyBiVmlzaWJsZSk7XHJcbiAgICAgICAgICAgIGlmIChiVmlzaWJsZSAhPT0gdGhpcy52aXNpYmxlKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuVXBkYXRlV2luZEluZm8odHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2libGUgPSBiVmlzaWJsZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGlzRW1wdHkgOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGVtcHR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpIDwgdGhpcy5yb3dDbnQgOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmKCF0aGlzLnJvd1RleHRJbmZvc1tpXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucm93VGV4dEluZm9zW2ldLmlzRW1wdHkoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVtcHR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGVtcHR5O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGVxdWFscyA6IGZ1bmN0aW9uKG90aGVyKSB7XHJcbiAgICAgICAgICAgIHZhciBlcXVhbCA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwIDsgaSA8IHRoaXMucm93Q250IDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucm93VGV4dEluZm9zW2ldLmVxdWFscyhvdGhlci5yb3dUZXh0SW5mb3NbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXF1YWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZXF1YWw7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZ2V0U3VidGl0bGVEYXRhOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZURhdGUgPSBbXTtcclxuICAgICAgICAgICAgdmFyIHRleHRJbmZvID0gW107XHJcbiAgICAgICAgICAgIHZhciByb3cgPSBUcmFuc2xhdGVQb3NUb1Jvd05vKHRoaXMuZ2V0UmVjdEluZm8oKS5SZWN0LlRvcCk7XHJcbiAgICAgICAgICAgIHZhciBtYXhSb3cgPSBUcmFuc2xhdGVQb3NUb1Jvd05vKHRoaXMuZ2V0UmVjdEluZm8oKS5SZWN0LkJvdHRvbSkgLSAxO1xyXG4gICAgICAgICAgICBtYXhSb3cgPSAobWF4Um93IDw9ICh0aGlzLnJvd0NudCAtIDEpKSA/IG1heFJvdyA6ICh0aGlzLnJvd0NudCAtIDEpO1xyXG4gICAgICAgICAgICByb3cgPSAocm93IDw9IG1heFJvdykgPyByb3cgOiAwO1xyXG5cclxuICAgICAgICAgICAgd2hpbGUgKHJvdyA8PSBtYXhSb3cpe1xyXG4gICAgICAgICAgICAgICAgaWYoIXRoaXMucm93VGV4dEluZm9zW3Jvd10ucG9zKXtcclxuICAgICAgICAgICAgICAgICAgICByb3cgKys7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGV4dEluZm8ucHVzaCh0aGlzLnJvd1RleHRJbmZvc1tyb3ddKTtcclxuICAgICAgICAgICAgICAgIHJvdyArKztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc3VidGl0bGVEYXRlLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgcmVjdEluZm86IHRoaXMucmVjdEluZm8sXHJcbiAgICAgICAgICAgICAgICBUZXh0Um93SW5mbzp0ZXh0SW5mbyxcclxuICAgICAgICAgICAgICAgIFRleHREaXNwbGF5SW5mbzogdGhpcy5UZXh0RGlzcGxheUluZm9cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBzdWJ0aXRsZURhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgY2FwdGlvblNjcmVlbiA9IGZ1bmN0aW9uIChhcnIpIHtcclxuICAgICAgICB0aGlzLmNhcHRpb25BcnJheSA9IGFyciB8fCBudWxsO1xyXG4gICAgICAgIHRoaXMuaXM3MDhjYyA9IHRydWU7XHJcbiAgICB9O1xyXG5cclxuICAgIGNhcHRpb25TY3JlZW4ucHJvdG90eXBlID0ge1xyXG4gICAgICAgIHJlc2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmNhcHRpb25BcnJheS5sZW5ndGg7IGkgKyspe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYXB0aW9uQXJyYXlbaV0ucmVzZXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldERpc3BsYXlUZXh0IDogZnVuY3Rpb24oYXNPbmVSb3cpIHtcclxuICAgICAgICAgICAgYXNPbmVSb3cgPSBhc09uZVJvdyB8fCBmYWxzZTtcclxuICAgICAgICAgICAgdmFyIGRpc3BsYXlUZXh0ID0gW107XHJcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gXCJcIjtcclxuICAgICAgICAgICAgdmFyIHdpbk5yID0gLTE7XHJcbiAgICAgICAgICAgIGlmKCF0aGlzLmNhcHRpb25BcnJheSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCB0aGlzLmNhcHRpb25BcnJheS5sZW5ndGggOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmKCF0aGlzLmNhcHRpb25BcnJheVtpXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgd2luVGV4dCA9IHRoaXMuY2FwdGlvbkFycmF5W2ldLmdldERpc3BsYXlUZXh0KGFzT25lUm93KTtcclxuICAgICAgICAgICAgICAgIGlmICh3aW5UZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luTnIgPSB0aGlzLmNhcHRpb25BcnJheVtpXS5XaW5kSUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFzT25lUm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlUZXh0LnB1c2goXCJXaW5kb3cgXCIgKyB3aW5OciArICc6IFwiJyArIHdpblRleHQgKyAnXCInKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5VGV4dC5wdXNoKHdpblRleHQudHJpbSgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRpc3BsYXlUZXh0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChhc09uZVJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSBcIltcIiArIGRpc3BsYXlUZXh0LmpvaW4oXCJ8XCIpICsgXCJdXCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSBkaXNwbGF5VGV4dC5qb2luKFwiXFxuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0ZXh0O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaXNFbXB0eTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZW1wdHkgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZih0aGlzLmNhcHRpb25BcnJheSl7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5jYXB0aW9uQXJyYXkubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuY2FwdGlvbkFycmF5W2ldKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMuY2FwdGlvbkFycmF5W2ldLmlzRW1wdHkoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbXB0eSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGVtcHR5O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIG91dHB1dERhdGFfTnVsbCA9IG5ldyBDZWE3MDhXaW5kb3coKTtcclxuICAgIG91dHB1dERhdGFfTnVsbC5yZXNldCgpO1xyXG4gICAgdmFyIHJlY3RJbmZvID0geydSZWN0Jzp7J1RvcCc6MCwgJ0xlZnQnOjAsICdCb3R0b20nOjE0LCAnUmlnaHQnOjMxfX07XHJcbiAgICBvdXRwdXREYXRhX051bGwuc2V0UmVjdEluZm8ocmVjdEluZm8pO1xyXG4gICAgb3V0cHV0RGF0YV9OdWxsLnJlY3RJbmZvLlJlY3RCb3JkZXJDb2xvci5UcmFucyA9IDA7XHJcbiAgICBvdXRwdXREYXRhX051bGwucmVjdEluZm8uUmVjdEZpbGxDb2xvci5UcmFucyA9IDA7XHJcbiAgICB2YXIgQ2VhNzA4cGFyc2VyID0gZnVuY3Rpb24gKG91dCkge1xyXG4gICAgICAgIHRoaXMud2luZG93cyA9IFtdO1xyXG4gICAgICAgIHRoaXMub3V0cHV0RmlsdGVyID0gb3V0O1xyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBDQ19XSU5ET1dTOyBpICsrKXtcclxuICAgICAgICAgICAgdGhpcy53aW5kb3dzLnB1c2gobmV3IENlYTcwOFdpbmRvdyhpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuQ3VycldpbmRJRCA9IC0xO1xyXG4gICAgICAgIHRoaXMuYkNsZWFyU2NyZWVuID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jdWVTdGFydFRpbWUgPSBudWxsOyAvLyBLZWVwcyB0cmFjayBvZiB3aGVyZSBhIGN1ZSBzdGFydGVkLlxyXG4gICAgICAgIHRoaXMuY2FwdGlvblNjcmVlbiA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuZGF0YUNvdW50ZXJzID0geydwYWRkaW5nJyA6IDAsICdjaGFyJyA6IDAsICdjbWQnIDogMCwgJ290aGVyJyA6IDB9O1xyXG4gICAgfTtcclxuXHJcbiAgICBDZWE3MDhwYXJzZXIucHJvdG90eXBlID0ge1xyXG4gICAgICAgIHJlc2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuQ3VycldpbmRJRCA9IC0xO1xyXG4gICAgICAgICAgICB0aGlzLmJDbGVhclNjcmVlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmN1ZVN0YXJ0VGltZSA9IG51bGw7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy53aW5kb3dzLmxlbmd0aDsgaSArKyl7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLndpbmRvd3NbaV0pe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2luZG93c1tpXS5yZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZ2V0SGFuZGxlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm91dHB1dEZpbHRlcjtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRIYW5kbGVyOiBmdW5jdGlvbihuZXdIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3V0cHV0RmlsdGVyID0gbmV3SGFuZGxlcjtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBvdXRwdXREYXRhVXBkYXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FwdGlvblNjcmVlbiA9IG5ldyBjYXB0aW9uU2NyZWVuKHRoaXMuc2V0T3V0cHV0U2NyZWVuKCkpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImNhcHRpb25UZXh0OlwiICsgdGhpcy5jYXB0aW9uU2NyZWVuLmdldERpc3BsYXlUZXh0KHRydWUpKTtcclxuXHJcbiAgXHJcbiAgICAgICAgICAgIHZhciB0ID0gbG9nZ2VyLnRpbWU7XHJcbiAgICAgICAgICAgIGlmICh0ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiRVJST1JcIiwgXCJbb3V0cHV0RGF0YVVwZGF0ZV1cIiArIFwidCBpcyBudWxsLlwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIiwgbG9nZ2VyIHRpbWU6XCIgKyBsb2dnZXIudGltZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm91dHB1dEZpbHRlcikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3V0cHV0RmlsdGVyLnVwZGF0ZURhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dEZpbHRlci51cGRhdGVEYXRhKHQsIHRoaXMuY2FwdGlvblNjcmVlbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdWVTdGFydFRpbWUgPT09IG51bGwgJiYgIXRoaXMuY2FwdGlvblNjcmVlbi5pc0VtcHR5KCkpIHsgLy8gU3RhcnQgb2YgYSBuZXcgY3VlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdWVTdGFydFRpbWUgPSB0O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vdXRwdXRGaWx0ZXIubmV3Q3VlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJERUJVR1wiLCBcIltvdXRwdXREYXRhVXBkYXRlXVwiICsgIFwiLCBzdGFydGltZTpcIiArIHRoaXMuY3VlU3RhcnRUaW1lICsgXCIsIHRpbWU6XCIgKyB0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vdXRwdXRGaWx0ZXIubmV3Q3VlKHRoaXMuY3VlU3RhcnRUaW1lLCB0LCB0aGlzLmNhcHRpb25TY3JlZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1ZVN0YXJ0VGltZSA9IHRoaXMuY2FwdGlvblNjcmVlbi5pc0VtcHR5KCkgPyBudWxsIDogdDtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjdWVTcGxpdEF0VGltZTogZnVuY3Rpb24odCkge1xyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiREVCVUdcIixcImN1ZVNwbGl0QXRUaW1lOiBcIiArIHQpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vdXRwdXRGaWx0ZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm91dHB1dEZpbHRlci5uZXdDdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dEZpbHRlci5uZXdDdWUodGhpcy5jdWVTdGFydFRpbWUsIHQsIHRoaXMuY2FwdGlvblNjcmVlbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1ZVN0YXJ0VGltZSA9IHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRPdXRwdXRTY3JlZW46ZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY2FwdGlvbkFycmF5ID0gbnVsbDsvL1tdO1xyXG4gICAgICAgICAgICB2YXIgYlVwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgICAgIGZvcihpID0gMDsgaSA8IHRoaXMud2luZG93cy5sZW5ndGg7IGkgKyspe1xyXG4gICAgICAgICAgICAgICAgaWYoIXRoaXMud2luZG93c1tpXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiREVCVUdcIiwgXCJbc2V0T3V0cHV0U2NyZWVuXVwiICsgXCJ3aW5kSUQ6XCIgKyB0aGlzLndpbmRvd3NbaV0uV2luZElEICtcclxuICAgICAgICAgICAgICAgIFwiLCB1cGRhdGU6XCIgKyB0aGlzLndpbmRvd3NbaV0udXBkYXRlICsgXCIsIHZpc2libGU6XCIgKyB0aGlzLndpbmRvd3NbaV0udmlzaWJsZSk7XHJcbiAgICAgICAgICAgICAgICBpZigtMSAhPSB0aGlzLndpbmRvd3NbaV0uV2luZElEICYmIHRoaXMud2luZG93c1tpXS51cGRhdGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIGJVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHRoaXMuYkNsZWFyU2NyZWVuKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuYkNsZWFyU2NyZWVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBjYXB0aW9uQXJyYXkgPSBvdXRwdXREYXRhX051bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZihiVXBkYXRlKXtcclxuICAgICAgICAgICAgICAgIGNhcHRpb25BcnJheSA9IHRoaXMuZ2V0V2luZG93c0luZm8oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNhcHRpb25BcnJheSA9IFtudWxsXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yKGkgPSAwOyBpIDwgdGhpcy53aW5kb3dzLmxlbmd0aDsgaSArKyl7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLndpbmRvd3NbaV0gJiYgdGhpcy53aW5kb3dzW2ldLnVwZGF0ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53aW5kb3dzW2ldLnVwZGF0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjYXB0aW9uQXJyYXk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZ2V0V2luZEluZm86IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNhcHRpb25BcnJheSA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgZW1wdHkgPSB0cnVlO1xyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy53aW5kb3dzLmxlbmd0aDsgaSArKyl7XHJcbiAgICAgICAgICAgICAgICBpZighdGhpcy53aW5kb3dzW2ldIHx8ICgtMSA9PT0gdGhpcy53aW5kb3dzW2ldLldpbmRJRCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYoIXRoaXMud2luZG93c1tpXS52aXNpYmxlKXtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKHRoaXMud2luZG93c1tpXS5pc0VtcHR5KCkpe1xyXG4gICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbXB0eSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN1YnRpdGxlRGF0YSA9IHRoaXMud2luZG93c1tpXS5nZXRTdWJ0aXRsZURhdGEoKTtcclxuICAgICAgICAgICAgICAgIGlmKHN1YnRpdGxlRGF0YS5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNhcHRpb25BcnJheS5wdXNoKHN1YnRpdGxlRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkRFQlVHXCIsIFwiW2dldFdpbmRJbmZvXVwiICsgXCJ3aW5kOlwiICsgdGhpcy53aW5kb3dzW2ldLldpbmRJRCArXHJcbiAgICAgICAgICAgICAgICAgICAgXCIsIFRleHQ6XCIgKyB0aGlzLndpbmRvd3NbaV0uZ2V0RGlzcGxheVRleHQodHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGVtcHR5KXtcclxuICAgICAgICAgICAgICAgIGNhcHRpb25BcnJheS5wdXNoKG91dHB1dERhdGFfTnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNhcHRpb25BcnJheTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXRXaW5kb3dzSW5mbzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY2FwdGlvbkFycmF5ID0gW107XHJcbiAgICAgICAgICAgIHZhciBlbXB0eSA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLndpbmRvd3MubGVuZ3RoOyBpICsrKXtcclxuICAgICAgICAgICAgICAgIGlmKCF0aGlzLndpbmRvd3NbaV0gfHwgKC0xID09PSB0aGlzLndpbmRvd3NbaV0uV2luZElEKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZighdGhpcy53aW5kb3dzW2ldLnZpc2libGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy53aW5kb3dzW2ldLmlzRW1wdHkoKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbXB0eSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgLy8gdmFyIHN1YnRpdGxlRGF0YSA9IHRoaXMud2luZG93c1tpXS5nZXRTdWJ0aXRsZURhdGEoKTtcclxuICAgICAgICAgICAgICAgICBpZihBU0NJSV9TUEFDRV9DSEFSICE9IHRoaXMud2luZG93c1tpXS5nZXREaXNwbGF5VGV4dCh0cnVlKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FwdGlvbkFycmF5LnB1c2godGhpcy53aW5kb3dzW2ldKTtcclxuICAgICAgICAgICAgICAgIC8vdmFyIHRleHQgPSBjYXB0aW9uQXJyYXlbMF0uZ2V0RGlzcGxheVRleHQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkRFQlVHXCIsIFwiW2dldFdpbmRJbmZvXVwiICsgXCJ3aW5kOlwiICsgdGhpcy53aW5kb3dzW2ldLldpbmRJRCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiLCBUZXh0OlwiICsgdGhpcy53aW5kb3dzW2ldLmdldERpc3BsYXlUZXh0KHRydWUpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBpZihlbXB0eSl7XHJcbiAgICAgICAgICAgIC8vICAgICBjYXB0aW9uQXJyYXkucHVzaChvdXRwdXREYXRhX051bGwpO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIHJldHVybiBjYXB0aW9uQXJyYXk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgRmluZFdpbmRCeUlEOiBmdW5jdGlvbiAod2luZElEKSB7XHJcbiAgICAgICAgICAgIGlmKDAgPiB3aW5kSUQgfHwgNyA8IHdpbmRJRCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZih3aW5kSUQgPT09IHRoaXMud2luZG93c1t3aW5kSURdLldpbmRJRCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53aW5kb3dzW3dpbmRJRF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBhZGREYXRhOiBmdW5jdGlvbih0LCBieXRlTGlzdCkge1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RUaW1lID0gdDtcclxuICAgICAgICAgICAgbG9nZ2VyLnNldFRpbWUodCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiWyBDZWE3MDhQYXJzZXI6YWRkRGF0YV06XCIgKyBcInRpbWU6IFwiICsgdCk7XHJcbiAgICAgICAgICAgIC8vIGZvcih2YXIgaiA9IDA7IGogPCBieXRlTGlzdC5sZW5ndGg7IGogKyspe1xyXG4gICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coXCIlZCglcylcIiwgIGJ5dGVMaXN0W2pdLCBieXRlTGlzdFtqXS50b1N0cmluZygxNikpO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIHdoaWxlIChpIDwgYnl0ZUxpc3QubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYkV4dENvZGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmKEMwX1NFVF9FWFRfQ09ERV9DRUFfNzA4ID09PSBieXRlTGlzdFtpXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgYkV4dENvZGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGkgKz0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgwID09PSBieXRlTGlzdFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUNvdW50ZXJzLnBhZGRpbmcgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICBpICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAvL2xvZ2dlci5sb2coXCJEQVRBXCIsIFwiW1wiICsgbnVtQXJyYXlUb0hleEFycmF5KFtieXRlTGlzdFtpXSwgYnl0ZUxpc3RbaSsxXV0pICtcIl0gLT4gKFwiICsgbnVtQXJyYXlUb0hleEFycmF5KFthLCBiXSkgKyBcIilcIik7XHJcbiAgICAgICAgICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKChHMF9HMl9TRVRfU1RBUlRfQ09ERV9DRUFfNzA4IDw9IGJ5dGVMaXN0W2ldICYmIEcwX0cyX1NFVF9FTkRfQ09ERV9DRUFfNzA4ID49IGJ5dGVMaXN0W2ldKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIChHMV9HM19TRVRfU1RBUlRfQ09ERV9DRUFfNzA4IDw9IGJ5dGVMaXN0W2ldKSApe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyc2VTdGFuZGFyZENoYXIoYnl0ZUxpc3RbaV0sIDEsIGJFeHRDb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFDb3VudGVycy5jaGFyICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgaSArPSAxO1xyXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYoKEMwX1NFVF9TVEFSVF9DT0RFX0NFQV83MDggPD0gYnl0ZUxpc3RbaV0gJiYgQzBfU0VUX0VORF9DT0RFX0NFQV83MDggPj0gYnl0ZUxpc3RbaV0pIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgKEMxX1NFVF9TVEFSVF9DT0RFX0NFQV83MDggPD0gYnl0ZUxpc3RbaV0gJiYgQzFfU0VUX0VORF9DT0RFX0NFQV83MDggPj0gYnl0ZUxpc3RbaV0pKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgVG1wY2hhciA9IGJ5dGVMaXN0LnNsaWNlKGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBEYXRhU2l6ZSA9IHRoaXMucGFyc2VOb25TdGFuZGFyZENoYXIoVG1wY2hhciwgKGJ5dGVMaXN0Lmxlbmd0aCAtIGkpLCBiRXh0Q29kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaSArPSBEYXRhU2l6ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFDb3VudGVycy5jbWQgKz0gRGF0YVNpemU7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhQ291bnRlcnMub3RoZXIgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQ291bGRuJ3QgcGFyc2UgY2xlYW5lZCBkYXRhWyVkXTolZFwiLCBpLCBieXRlTGlzdFtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9sb2dnZXIubG9nKFwiV0FSTklOR1wiLCBcIkNvdWxkbid0IHBhcnNlIGNsZWFuZWQgZGF0YSBcIiArIGJ5dGVMaXN0W2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBsb2dnZXIubG9nKFwiV0FSTklOR1wiLCBcIkNvdWxkbid0IHBhcnNlIGNsZWFuZWQgZGF0YSBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIFwiIG9yaWc6IFwiICsgbnVtQXJyYXlUb0hleEFycmF5KFtieXRlTGlzdFtpXSwgYnl0ZUxpc3RbaSsxXV0pKTtcclxuICAgICAgICAgICAgICAgICAgICBpICs9IDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5vdXRwdXREYXRhVXBkYXRlKCk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcGFyc2VOb25TdGFuZGFyZENoYXI6IGZ1bmN0aW9uIChBcnIsIHNpemUsIEV4dENvZGUpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIklORk9cIiwgXCJbcGFyc2VOb25TdGFuZGFyZENoYXJdIGJ5dGU6XCIgKyBBcnJbMF0udG9TdHJpbmcoMTYpICtcIihcIiArIEFyclswXSArIFwiKVwiICtcclxuICAgICAgICAgICAgICAgIFwiLCBzaXplOlwiICsgc2l6ZSArIFwiLCBFeHRDb2RlOlwiICsgRXh0Q29kZSk7XHJcbiAgICAgICAgICAgIHZhciByZXQgPSAwO1xyXG4gICAgICAgICAgICBpZihDMF9TRVRfU1RBUlRfQ09ERV9DRUFfNzA4IDw9IEFyclswXSAmJiBDMF9TRVRfRU5EX0NPREVfQ0VBXzcwOCA+PSBBcnJbMF0pe1xyXG4gICAgICAgICAgICAgICAgaWYgKEV4dENvZGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBBcnJbMF0vOCArIDE7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0ID0gdGhpcy5wYXJzZUMwQ29kZShBcnIsIHNpemUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZSBpZihDMV9TRVRfU1RBUlRfQ09ERV9DRUFfNzA4IDw9IEFyclswXSAmJiBDMV9TRVRfRU5EX0NPREVfQ0VBXzcwOCA+PSBBcnJbMF0pe1xyXG4gICAgICAgICAgICAgICAgaWYgKEV4dENvZGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChDMV9TRVRfTWlkX0NPREVfQ0VBXzcwOCA+PSBBcnJbMF0pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4oQXJyWzBdIC0gQzFfU0VUX1NUQVJUX0NPREVfQ0VBXzcwOCkvOCArIDU7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKDIgPiBzaXplKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJFUlJPUlwiLCBcIkNsb3NlZENhcHRpb24gRXJyb3I6UGFyc2VyQzEgRVhUIENvZGUgc2l6ZSA8MjolZFwiLHNpemUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoQXJyWzFdJjB4MUYpICsgMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXQgPSB0aGlzLnBhcnNlQzFDb2RlKEFyciwgc2l6ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy90aGlzLm91dHB1dERhdGFVcGRhdGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBwYXJzZUMwQ29kZTogZnVuY3Rpb24gKEFyciwgc2l6ZSkge1xyXG4gICAgICAgICAgICB2YXIgcmV0ID0gMTtcclxuICAgICAgICAgICAgaWYgKEMwX1NFVF9FWFRfQ09ERV9DRUFfNzA4IDw9IEFyclswXSAmJiBDMF9TRVRfUDEwX0NPREVfQ0VBXzcwOCA+IEFyclswXSl7XHJcbiAgICAgICAgICAgICAgICByZXQgPSAyO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihDMF9TRVRfUDEwX0NPREVfQ0VBXzcwOCA8PSBBcnJbMF0gJiYgQzBfU0VUX0VORF9DT0RFX0NFQV83MDggPj0gQXJyWzBdKXtcclxuICAgICAgICAgICAgICAgIHJldCA9IDM7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKHNpemUgPCByZXQpe1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkVSUk9SXCIsXCJDbG9zZWRDYXB0aW9uIEVycm9yOlBhcnNlckMwQ29kZSBjYklucHV0RGF0YSA8IHJldDolZDolZFwiLHNpemUsIHJldCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2l6ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoMCA8PSB0aGlzLkN1cnJXaW5kSUQgJiYgNyA+PSB0aGlzLkN1cnJXaW5kSUQpe1xyXG4gICAgICAgICAgICAgICAgdmFyIEN1cnJXaW5kID0gdGhpcy5GaW5kV2luZEJ5SUQodGhpcy5DdXJyV2luZElEKTtcclxuICAgICAgICAgICAgICAgIGlmKCFDdXJyV2luZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBDdXJyV2luZC5VcGRhdGVXaW5kSW5mbyhmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChBcnJbMF0pe1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMHgzOnsgLy9FVFhcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMHg4OnsgLy9CU1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDdXJyV2luZC5jY19CUygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAweEM6e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDdXJyV2luZC5yZXNldFRleHRJbmZvKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyclJlY3RJbmZvID0gQ3VycldpbmQuZ2V0UmVjdEluZm8oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdpbmRvd1RvcE5vID0gVHJhbnNsYXRlUG9zVG9Sb3dObyhjdXJyUmVjdEluZm8uUmVjdC5Ub3AsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDdXJyV2luZC5zZXRDdXJyUm93KHdpbmRvd1RvcE5vKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgIDB4RDp7IC8vQ1JcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ3VycldpbmQuY2NfQ1IoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMHhFOnsvL0hDUlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBDdXJyV2luZC5jY19IQ1IoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMHgxMDp7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJERUJVR1wiLCBcIkNsb3NlZENhcHRpb24gRXJyb3I6RVhUMSBzaG91bGQgbm90IGV4aXN0IGhlcmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDB4MTg6e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiREVCVUdcIiwgXCJDbG9zZWRDYXB0aW9uIEVycm9yOm5vdCBzdXBwb3J0ZWQgUDE2XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXQ7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcGFyc2VDMUNvZGU6ZnVuY3Rpb24gKEFyciwgc2l6ZSkge1xyXG4gICAgICAgICAgICB2YXIgcmV0ID0gMDtcclxuICAgICAgICAgICAgaWYgKENDX0RGMCA8PSBBcnJbMF0gJiYgQ0NfREY3ID49IEFyclswXSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkN1cnJXaW5kSUQgPSBBcnJbMF0gLSBDQ19ERjA7XHJcbiAgICAgICAgICAgICAgICB2YXIgQ3VycldpbmQgPSB0aGlzLndpbmRvd3NbdGhpcy5DdXJyV2luZElEXTtcclxuICAgICAgICAgICAgICAgIGlmKCFDdXJyV2luZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIEN1cnJXaW5kLnJlc2V0KCk7XHJcbiAgICAgICAgICAgICAgICByZXQgPSBDdXJyV2luZC5sb2FkKEFyciwgc2l6ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZihDQ19DVzAgPD1BcnJbMF0gJiYgQ0NfQ1c3ID49IEFyclswXSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLkN1cnJXaW5kSUQgPSBBcnJbMF0gLSBDQ19DVzA7XHJcbiAgICAgICAgICAgICAgICByZXQgPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKEFyclswXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDQ19DTFc6e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXQgPSAgdGhpcy5wYXJzZUNMV0NvZGUoQXJyLCBzaXplKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ0NfRFNXOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gdGhpcy5wYXJzZURTV0NvZGUoQXJyLCBzaXplKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ0NfSERXOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gdGhpcy5wYXJzZUhEV0NvZGUoQXJyLCBzaXplKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ0NfVEdXOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gdGhpcy5wYXJzZVRHV0NvZGUoQXJyLCBzaXplKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ0NfRExXOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gdGhpcy5wYXJzZURMV0NvZGUoQXJyLCBzaXplKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ0NfRExZOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gMjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ0NfRExDOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ0NfUkVUOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkRFQlVHXCIsIFwiW0NDX1JFVF0gQ3VycldpbmRJRDpcIiArIHRoaXMuQ3VycldpbmRJRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3aW5kID0gdGhpcy5GaW5kV2luZEJ5SUQodGhpcy5DdXJyV2luZElEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYod2luZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kLnJlc2V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIENDX1NQQTp7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IHRoaXMucGFyc2VTUEFDb2RlKEFyciwgc2l6ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIENDX1NQQzp7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IHRoaXMucGFyc2VTUENDb2RlKEFyciwgc2l6ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIENDX1NQTDp7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IHRoaXMucGFyc2VTUExDb2RlKEFyciwgc2l6ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIENDX1NXQTp7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IHRoaXMucGFyc2VTV0FDb2RlKEFyciwgc2l6ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OnsgLy8vPDB4OTN+MHg5NlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXQgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJldDtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBwYXJzZUNMV0NvZGU6IGZ1bmN0aW9uIChBcnIsIHNpemUpIHtcclxuICAgICAgICAgICAgdmFyIGR3V2luSUQgPSAwLCBiaXRWYWx1ZSA9IDE7XHJcbiAgICAgICAgICAgIGlmICgyID4gc2l6ZSl7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiRVJST1JcIiwgXCJDbG9zZWRDYXB0aW9uIEVycm9yOkNMVyBsZXNzIHBhcmFcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2l6ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aGlsZSAoOCA+IGR3V2luSUQpe1xyXG4gICAgICAgICAgICAgICAgaWYgKChBcnJbMV0gJiBiaXRWYWx1ZSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3aW5kPSB0aGlzLkZpbmRXaW5kQnlJRChkd1dpbklEKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXdpbmQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZC5yZXNldFRleHRJbmZvKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmQuVXBkYXRlV2luZEluZm8oKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VyclJlY3RJbmZvID0gd2luZC5nZXRSZWN0SW5mbygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3aW5kb3dUb3BObyA9IFRyYW5zbGF0ZVBvc1RvUm93Tm8oY3VyclJlY3RJbmZvLlJlY3QuVG9wLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kLnNldEN1cnJSb3cod2luZG93VG9wTm8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYml0VmFsdWUgKj0gMjtcclxuICAgICAgICAgICAgICAgIGR3V2luSUQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMjtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBwYXJzZURTV0NvZGU6IGZ1bmN0aW9uIChBcnIsIHNpemUpIHtcclxuICAgICAgICAgICAgaWYgKDIgPiBzaXplKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiRVJST1JcIixcIkNsb3NlZENhcHRpb24gRXJyb3I6RFNXIGxlc3MgcGFyYVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzaXplO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBkd1dpbklEID0gMCwgYml0VmFsdWUgPSAxO1xyXG4gICAgICAgICAgICB3aGlsZSAoOCA+IGR3V2luSUQpe1xyXG4gICAgICAgICAgICAgICAgaWYgKChBcnJbMV0gJiBiaXRWYWx1ZSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBDdXJXaW4gPSB0aGlzLkZpbmRXaW5kQnlJRChkd1dpbklEKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoQ3VyV2luKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ3VyV2luLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYml0VmFsdWUgKj0gMjtcclxuICAgICAgICAgICAgICAgIGR3V2luSUQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMjtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBwYXJzZUhEV0NvZGU6IGZ1bmN0aW9uIChBcnIsIHNpemUpIHtcclxuICAgICAgICAgICAgaWYgKDIgPiBzaXplKXtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJFUlJPUlwiLCBcIkNsb3NlZENhcHRpb24gRXJyb3I6SERXIGxlc3MgcGFyYVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzaXplO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBkd1dpbklEID0gMCwgYml0VmFsdWUgPSAxO1xyXG4gICAgICAgICAgICB3aGlsZSAoOCA+IGR3V2luSUQpe1xyXG4gICAgICAgICAgICAgICAgaWYgKChBcnJbMV0gJiBiaXRWYWx1ZSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBDdXJXaW4gPSB0aGlzLkZpbmRXaW5kQnlJRChkd1dpbklEKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoQ3VyV2luKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ3VyV2luLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJpdFZhbHVlICo9IDI7XHJcbiAgICAgICAgICAgICAgICBkd1dpbklEICsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAyO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHBhcnNlVEdXQ29kZTogZnVuY3Rpb24gKEFyciwgc2l6ZSkge1xyXG4gICAgICAgICAgICBpZiAoMiA+IHNpemUpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJFUlJPUlwiLCBcIkNsb3NlZENhcHRpb24gRXJyb3I6VEdXIGxlc3MgcGFyYVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzaXplO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBkd1dpbklEID0gMCwgYml0VmFsdWUgPSAxO1xyXG4gICAgICAgICAgICB3aGlsZSAoOCA+IGR3V2luSUQpe1xyXG4gICAgICAgICAgICAgICAgaWYgKChBcnJbMV0gJiBiaXRWYWx1ZSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBDdXJXaW4gPSB0aGlzLkZpbmRXaW5kQnlJRChkd1dpbklEKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoQ3VyV2luKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ3VyV2luLnNldFZpc2libGUoKEN1cldpbi52aXNpYmxlICArIDEpJTIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJpdFZhbHVlICo9IDI7XHJcbiAgICAgICAgICAgICAgICBkd1dpbklEICsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAyO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHBhcnNlRExXQ29kZTogZnVuY3Rpb24gKEFyciwgc2l6ZSkge1xyXG4gICAgICAgICAgICBpZiAoMiA+IHNpemUpe1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkVSUk9SXCIsIFwiQ2xvc2VkQ2FwdGlvbiBFcnJvcjpETFcgbGVzcyBwYXJhXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNpemU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGR3V2luSUQgPSAwLCBiaXRWYWx1ZSA9IDE7XHJcbiAgICAgICAgICAgIHdoaWxlICg4ID4gZHdXaW5JRClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKChBcnJbMV0gJiBiaXRWYWx1ZSkpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGR3V2luSUQgPT0gdGhpcy5DdXJyV2luZElEKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aW5kb3dzW3RoaXMuQ3VycldpbmRJRF0ucmVzZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5DdXJyV2luZElEID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYkNsZWFyU2NyZWVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBiaXRWYWx1ZSAqPSAyO1xyXG4gICAgICAgICAgICAgICAgZHdXaW5JRCArKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMjtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBwYXJzZVNQQUNvZGU6IGZ1bmN0aW9uIChBcnIsIHNpemUpIHtcclxuICAgICAgICAgICAgaWYgKDMgPiBzaXplKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiRVJST1JcIiwgXCJDbG9zZWRDYXB0aW9uIEVycm9yOlNQQSBsZXNzIHBhcmFcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2l6ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICB2YXIgQ3VyV2luID0gdGhpcy5GaW5kV2luZEJ5SUQodGhpcy5DdXJyV2luZElEKTtcclxuICAgICAgICAgICAgaWYgKEN1cldpbilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld0FyciA9IEFyci5zbGljZSgxKTtcclxuICAgICAgICAgICAgICAgIEN1cldpbi5TZXRQZW5BdHRpKEN1cldpbi5wZW5BdHRyaSwgbmV3QXJyLCAoc2l6ZSAtIDEpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMztcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBwYXJzZVNQQ0NvZGU6IGZ1bmN0aW9uIChBcnIsIHNpemUpIHtcclxuICAgICAgICAgICAgaWYgKDQgPiBzaXplKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiRVJST1JcIiwgXCJDbG9zZWRDYXB0aW9uIEVycm9yOlNQQyBsZXNzIHBhcmFcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2l6ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICB2YXIgY3VyV2luID0gdGhpcy5GaW5kV2luZEJ5SUQodGhpcy5DdXJyV2luZElEKTtcclxuICAgICAgICAgICAgaWYgKGN1cldpbilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5ld0FyciA9IEFyci5zbGljZSgxKTtcclxuICAgICAgICAgICAgICAgIGN1cldpbi5TZXRQZW5Db2xvcihjdXJXaW4ucGVuQ29sb3IsIG5ld0FyciwgKHNpemUgLSAxKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDQ7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcGFyc2VTUExDb2RlOiBmdW5jdGlvbiAoQXJyLCBzaXplKSB7XHJcbiAgICAgICAgICAgIGlmICgyID4gc2l6ZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkVSUk9SXCIsIFwiQ2xvc2VkQ2FwdGlvbiBFcnJvcjpTUEwgbGVzcyBwYXJhXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNpemU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBjdXJXaW5kID0gdGhpcy5GaW5kV2luZEJ5SUQodGhpcy5DdXJyV2luZElEKTtcclxuICAgICAgICAgICAgaWYgKCFjdXJXaW5kKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2l6ZSA+IDIgPyAzIDogMjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIG5XaW5kb3dUb3BObyA9IFRyYW5zbGF0ZVBvc1RvUm93Tm8oY3VyV2luZC5nZXRSZWN0SW5mbygpLlJlY3QuVG9wKTtcclxuICAgICAgICAgICAgdmFyIG5DdXJSZWxSb3cgPSBSNEIzKEFyclsxXSk7XHJcbiAgICAgICAgICAgIGN1cldpbmQuc2V0Q3VyclJvdyhuV2luZG93VG9wTm8gKyBuQ3VyUmVsUm93KTtcclxuICAgICAgICAgICAgdmFyIGNvbE5vID0gMDtcclxuICAgICAgICAgICAgaWYgKDIgPCBzaXplKVxyXG4gICAgICAgICAgICAgICAgY29sTm8gPSBSNkI1KEFyclsyXSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgY3VyUm93ID0gY3VyV2luZC5nZXRDdXJyUm93KCk7XHJcbiAgICAgICAgICAgIGlmIChjdXJXaW5kLmlzUm93VmFsaWQoY3VyUm93KSl7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VyV2luZC5yb3dUZXh0SW5mb3NbY3VyUm93XS5wb3MgPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICBjdXJXaW5kLnJvd1RleHRJbmZvc1tjdXJSb3ddLm1vdmVBYnNDdXJzb3IoY29sTm8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgIGN1cldpbmQucm93VGV4dEluZm9zW2N1clJvd10uc2V0Q3Vyc29yKGNvbE5vKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdXJXaW5kLlVwZGF0ZVdpbmRJbmZvKGZhbHNlKTtcclxuICAgICAgICAgICAgcmV0dXJuIChzaXplID4gMikgPyAzIDogMjtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBwYXJzZVNXQUNvZGU6IGZ1bmN0aW9uIChBcnIsIHNpemUpIHtcclxuICAgICAgICAgICAgaWYgKDUgPiBzaXplKXtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJFUlJPUlwiLCBcIkNsb3NlZENhcHRpb24gRXJyb3I6U1dBIGxlc3MgcGFyYVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzaXplO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBjdXJXaW5kID0gdGhpcy5GaW5kV2luZEJ5SUQodGhpcy5DdXJyV2luZElEKTtcclxuICAgICAgICAgICAgaWYgKGN1cldpbmQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHZhciBuZXdBcnIgPSBBcnIuc2xpY2UoMSk7XHJcbiAgICAgICAgICAgICAgICBjdXJXaW5kLlNldFdpbmRvd0F0dHJpKGN1cldpbmQud2luZEF0dHJpLCBuZXdBcnIsIChzaXplIC0gMSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiA1O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHBhcnNlU3RhbmRhcmRDaGFyOiBmdW5jdGlvbiAoY2hhciwgc2l6ZSwgRXh0Q29kZSkge1xyXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiSU5GT1wiLCBcIltwYXJzZVN0YW5kYXJkQ2hhcl0gYnl0ZTpcIiArIGNoYXIudG9TdHJpbmcoMTYpICtcIihcIiArIGNoYXIgKyBcIilcIiArIFwiLCBzaXplOlwiICsgc2l6ZSArXHJcbiAgICAgICAgICAgIFwiLCBFeHRDb2RlOlwiICsgRXh0Q29kZSArIFwiLCBjdXJXaW5kSUQ6XCIgKyB0aGlzLkN1cnJXaW5kSUQpO1xyXG4gICAgICAgICAgICB2YXIgblVuaUNvZGUgPSBjaGFyLFxyXG4gICAgICAgICAgICAgICAgY2hhckNvZGVzID0gbnVsbDtcclxuICAgICAgICAgICBpZiAoRXh0Q29kZSl7XHJcbiAgICAgICAgICAgICAgICB2YXIgblNwZUNoYXJDbnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgZm9yICg7blNwZUNoYXJDbnQgPCBDT1VOVF9HMkczX0NIQVJBQ1RFUjtuU3BlQ2hhckNudCsrKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihuVW5pQ29kZSA9PSBFeHRlbmRlZEcyRzNDb2RlTWFwW25TcGVDaGFyQ250XVswXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5VbmlDb2RlID0gRXh0ZW5kZWRHMkczQ29kZU1hcFtuU3BlQ2hhckNudF1bMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChDT1VOVF9HMkczX0NIQVJBQ1RFUiA9PSBuU3BlQ2hhckNudCl7XHJcbiAgICAgICAgICAgICAgICAgICAgblVuaUNvZGUgPSAweDVGO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG5VbmlDb2RlID09IDB4N0Ype1xyXG4gICAgICAgICAgICAgICAgblVuaUNvZGUgPSAweDI2NkE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2hhckNvZGVzID0gW25VbmlDb2RlXTtcclxuICAgICAgICAgICAgaWYoY2hhckNvZGVzKXtcclxuICAgICAgICAgICAgICAgIHZhciBoZXhDb2RlcyA9IG51bUFycmF5VG9IZXhBcnJheShjaGFyQ29kZXMpO1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkRFQlVHXCIsIFwiNzA4IENoYXIgY29kZXMgPSAgXCIgKyBoZXhDb2Rlcy5qb2luKFwiLFwiKSApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLkN1cnJXaW5kSUQgPj0wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdpbmQgPSB0aGlzLkZpbmRXaW5kQnlJRCh0aGlzLkN1cnJXaW5kSUQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHdpbmQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZigtMSA9PT0gd2luZC5nZXRDdXJyUm93KCkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlY3RJbmZvID0gd2luZC5nZXRSZWN0SW5mbygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVjdEluZm8pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3aW5kVG9wID0gVHJhbnNsYXRlUG9zVG9Sb3dObyhyZWN0SW5mby5SZWN0LlRvcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZC5zZXRDdXJyUm93KHdpbmRUb3ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmQuc2V0QWRqdXN0Um93RmxhZyh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kLmluc2VydENoYXJzKGNoYXJDb2Rlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcy5vdXRwdXREYXRhVXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiV0FSTklOR1wiLCBcIk5vIHdpbmRvdyBmb3VuZCB5ZXQuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICB2YXIgc2VydmljZURhdGEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5zZXJEYXRhID0gW107XHJcbiAgICAgICAgdGhpcy5zZXJEYXRhU2l6ZSA9IDA7XHJcbiAgICB9O1xyXG4gICAgc2VydmljZURhdGEucHJvdG90eXBlID0ge1xyXG4gICAgICAgIHJlc2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VyRGF0YVNpemUgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnNlckRhdGEgPSBbXTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNhdmVTZXJEYXRlOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICB0aGlzLnNlckRhdGEgPSB0aGlzLnNlckRhdGEuY29uY2F0KGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIENlYTcwOFNlcnZpY2VCbG9jayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmFsbHNlckRhdGFTaXplID0gMDtcclxuICAgICAgICB0aGlzLnNlckRhdGEgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBDQ19NQVhfU0VSVklDRV9OVU07IGkgKyspe1xyXG4gICAgICAgICAgICB0aGlzLnNlckRhdGFbaV0gPSBuZXcgc2VydmljZURhdGEoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIENlYTcwOFNlcnZpY2VCbG9jay5wcm90b3R5cGUgPSB7XHJcbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB0aGlzLnNlckRhdGEubGVuZ3RoOyBpICsrKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VyRGF0YVtpXS5yZXNldCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYWxsc2VyRGF0YVNpemUgPSAwO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGV4dHJhY3RDZWE3MDhEYXRhRnJvbVNlcnZpY2U6IGZ1bmN0aW9uIChzZXJ2aWNlRGF0YSwgbGVuKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgICAgICAgICAgdmFyIHRtcFNpemUgPSBsZW47XHJcbiAgICAgICAgICAgIHZhciB0bXBEYXRhSW5kZXggPSAwO1xyXG4gICAgICAgICAgICB3aGlsZSAodG1wU2l6ZSA+IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZXJ2aWNlTm8gPSBSM0I3KHNlcnZpY2VEYXRhW3RtcERhdGFJbmRleF0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIGJsb2NrU2l6ZSA9IFI1QjQoc2VydmljZURhdGFbdG1wRGF0YUluZGV4XSk7XHJcbiAgICAgICAgICAgICAgICB0bXBTaXplIC0tO1xyXG4gICAgICAgICAgICAgICAgdG1wRGF0YUluZGV4ICsrO1xyXG4gICAgICAgICAgICAgICAgaWYgKCAwID09PSBzZXJ2aWNlTm8pXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKDAgIT09IGJsb2NrU2l6ZSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJFUlJPUlwiLCBcIltleHRyYWN0Q2VhNzA4RGF0YUZyb21TZXJ2aWNlXSBFcnJvcjpzZXJ2aWNlTm8gaXMgMCxidXQgYmxvY2tTaXplIGlzIG5vdCAwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIHRoaXMuYWxsc2VyRGF0YVNpemU7Ly8vPG9uY2UgTlVMTCBzZXJ2aWNlIGJsb2NrLHRoZXJlIGFyZSBubyBtb3JlIHNlcnZpY2UgYmxvY2sgbmVlZCB0byBiZSBwcm9jZXNzZWRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICg3ID09IHNlcnZpY2VObyAmJiAwIDwgYmxvY2tTaXplKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VObyA9IFI2QjUoc2VydmljZURhdGFbdG1wRGF0YUluZGV4XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdG1wU2l6ZSAtLTtcclxuICAgICAgICAgICAgICAgICAgICB0bXBEYXRhSW5kZXggKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGJsb2NrU2l6ZSA+IChsZW4gLSB0bXBEYXRhSW5kZXgpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrU2l6ZSA9IGxlbiAtIHRtcERhdGFJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiREVCVUdcIiwgXCJbZXh0cmFjdENlYTcwOERhdGFGcm9tU2VydmljZV0gU2VydmljZUJsb2NrIFBhY2tldCBzaXplIGJpZ2dlciB0aGFuIG5CbG9ja1NpemVcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hbGxzZXJEYXRhU2l6ZSArIGJsb2NrU2l6ZSA+IENDX01BWF9TRVJWSUNFX0JMT0NLX1NJWkUpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIkRFQlVHXCIsIFwiW2V4dHJhY3RDZWE3MDhEYXRhRnJvbVNlcnZpY2VdIFNlcnZpY2VCbG9jayBQYWNrZXQgT3V0IG9mIE1lbW9yeVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBibG9ja1NpemUgPSA2MyAtIHRoaXMuYWxsc2VyRGF0YVNpemU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgdG1wQnVmZmVyID0gc2VydmljZURhdGEuc2xpY2UodG1wRGF0YUluZGV4LCBibG9ja1NpemUgKyB0bXBEYXRhSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5zZXJEYXRhW3NlcnZpY2VOb10pe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VyRGF0YVtzZXJ2aWNlTm9dLnNhdmVTZXJEYXRlKHRtcEJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXJEYXRhW3NlcnZpY2VOb10uc2VyRGF0YVNpemUgKz0gYmxvY2tTaXplO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxsc2VyRGF0YVNpemUgKz0gYmxvY2tTaXplO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRtcERhdGFJbmRleCArPSBibG9ja1NpemU7XHJcbiAgICAgICAgICAgICAgICB0bXBTaXplIC09IGJsb2NrU2l6ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbGxzZXJEYXRhU2l6ZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBDZWE3MDhQYWNrZXRQYXJzZXIgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIHRoaXMuc2VxTm8gPSAtMTtcclxuICAgICAgICB0aGlzLnBhY2tldFNpemUgPSAwO1xyXG4gICAgICAgIHRoaXMuc2VydmljZUJsb2NrID0gbmV3IENlYTcwOFNlcnZpY2VCbG9jaygpO1xyXG4gICAgICAgIHRoaXMubGFzdFNlcU5vID0gLTE7XHJcbiAgICAgICAgdGhpcy5zZXJOb1NldHRpbmcgPSAxO1xyXG4gICAgfTtcclxuXHJcbiAgICBDZWE3MDhQYWNrZXRQYXJzZXIucHJvdG90eXBlID0ge1xyXG4gICAgICByZXNldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgdGhpcy5zZXFObyA9IC0xO1xyXG4gICAgICAgICAgdGhpcy5wYWNrZXRTaXplID0gMDtcclxuICAgICAgICAgIHRoaXMuc2VydmljZUJsb2sucmVzZXQoKTtcclxuICAgICAgICAgIHRoaXMubGFzdFNlcU5vID0gLTE7XHJcbiAgICAgICAgICB0aGlzLnNlck5vU2V0dGluZyA9IDE7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBleHRyYWN0Q2VhNzA4RGF0YUZyb21QYWNrZXQ6IGZ1bmN0aW9uKGNjRGF0YSl7XHJcbiAgICAgICAgICB0aGlzLnNlcU5vID0gUjJCNyhjY0RhdGFbMF0pO1xyXG4gICAgICAgICAgaWYgKHRoaXMubGFzdFNlcU5vICE9IC0xICYmIHRoaXMuc2VxTm8gIT0gKHRoaXMubGFzdFNlcU5vICsgMSklNClcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiREVCVUdcIiwgXCJbZXh0cmFjdENlYTcwOERhdGFGcm9tUGFja2V0XSBFcnJvcjpEVFZDQ0NhcHRpb24gUGFja2V0IGxvc3QuXCIgK1xyXG4gICAgICAgICAgICAgIFwiIGxhc3RTZXFObzogXCIgKyB0aGlzLmxhc3RTZXFObyArIFwiIFNlcU5vOiBcIiArIHRoaXMuc2VxTm8pOy8vLzx3ZSBzaG91bGQgYWRkIHBhY2tldCBsb3N0IGhhbmRsZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5sYXN0U2VxTm8gPSB0aGlzLnNlcU5vO1xyXG4gICAgICAgICAgdGhpcy5wYWNrZXRTaXplID0gUjZCNShjY0RhdGFbMF0pO1xyXG4gICAgICAgICAgaWYgKCF0aGlzLnBhY2tldFNpemUpXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdGhpcy5wYWNrZXRTaXplID0gMTI4O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZVxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHRoaXMucGFja2V0U2l6ZSA9IHRoaXMucGFja2V0U2l6ZSoyIC0gMTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICh0aGlzLnBhY2tldFNpemUgPiBjY0RhdGEubGVuZ3RoIC0gMSlcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB0aGlzLnBhY2tldFNpemUgPSBjY0RhdGEubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiREVCVUdcIiwgXCJbZXh0cmFjdENlYTcwOERhdGFGcm9tUGFja2V0XSBFcnJvcjpEVFZDQ0NhcHRpb24gUGFja2V0IHNpemUgYmlnZ2VyIHRoYW4gblBhY2tldFNpemVcIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB2YXIgdG1wRGF0YSA9IGNjRGF0YS5zbGljZSgxKTtcclxuICAgICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2VCbG9jay5leHRyYWN0Q2VhNzA4RGF0YUZyb21TZXJ2aWNlKHRtcERhdGEsIHRoaXMucGFja2V0U2l6ZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIGV4cG9ydHMubG9nZ2VyID0gbG9nZ2VyO1xyXG4gICAgZXhwb3J0cy5DZWE3MDhwYXJzZXIgPSBDZWE3MDhwYXJzZXI7XHJcbiAgICBleHBvcnRzLkNlYTcwOFBhY2tldFBhcnNlciA9IENlYTcwOFBhY2tldFBhcnNlcjtcclxuICAgIGV4cG9ydHMuc2V0UmVjdFBvcyA9IHNldFJlY3RQb3M7XHJcbiAgICBleHBvcnRzLlJlY3RQb3MgPSBSZWN0UG9zO1xyXG59KHR5cGVvZiBleHBvcnRzID09PSAndW5kZWZpbmVkJyA/IHRoaXMuY2VhNzA4cGFyc2VyID0ge30gOiBleHBvcnRzKSk7XHJcbiIsIi8vaW1wb3J0IGNlYTYwOHBhcnNlciBmcm9tICdjZWE2MDgtcGFyc2VyJztcclxuLy9pbXBvcnQgY2VhNzA4cGFyc2VyIGZyb20gJ2NlYTcwOC1wYXJzZXInO1xyXG4vL2ltcG9ydCBjZWE2MDhwYXJzZXIgZnJvbSAnRToveGFtcHAvaHRkb2NzL2Rhc2guanMvZXh0ZXJuYWxzL2NlYTYwOC1wYXJzZXInO1xyXG4vL2ltcG9ydCBjZWE2MDhwYXJzZXIgZnJvbSAnLi9jZWE2MDgtcGFyc2VyJztcclxudmFyIGNlYTYwOFBhcnNlciA9IHJlcXVpcmUoJy4vY2VhNjA4LXBhcnNlcicpO1xyXG52YXIgY2VhNzA4UGFyc2VyID0gcmVxdWlyZSgnLi9jZWE3MDgtcGFyc2VyJyk7XHJcbi8vdmFyIGNlYTcwOFBhcnNlciA9IHJlcXVpcmUoJy4vY2VhNzA4LXBhcnNlciAtIHYxJyk7XHJcbihmdW5jdGlvbiAoZXhwb3J0cykge1xyXG5cclxuICAgIC8vIGlmKHR5cGVvZiBjY19UeXBlID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAvLyAgICAgdmFyIGNjX1R5cGUgPSB7XHJcbiAgICAvLyAgICAgICAgIENFQV9OTzcwOEFORDYwODogMHgwMCxcclxuICAgIC8vICAgICAgICAgQ0VBXzYwODogMHgwMixcclxuICAgIC8vICAgICAgICAgQ0VBXzcwODogMHgwNCxcclxuICAgIC8vICAgICAgICAgQ0VBXzcwOEFORDYwODogMHgwNlxyXG4gICAgLy8gICAgIH07XHJcbiAgICAvLyB9XHJcbiAgICAvL1xyXG4gICAgLy8gaWYodHlwZW9mIGNhcHRpb25fVHlwZSA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgLy8gICAgIHZhciBjYXB0aW9uX1R5cGUgPSB7XHJcbiAgICAvLyAgICAgICAgIFZPX0NBUFRJT05fVFlQRV9FSUE2MDg6IDAsXHJcbiAgICAvLyAgICAgICAgIFZPX0NBUFRJT05fVFlQRV9FSUE3MDg6IDEsXHJcbiAgICAvLyAgICAgICAgIFZPX0NBUFRJT05fVFlQRV9ERUZBVUxUXzYwODogMixcclxuICAgIC8vICAgICAgICAgVk9fQ0FQVElPTl9UWVBFX0RFRkFVTFRfNzA4OiAzLFxyXG4gICAgLy8gICAgICAgICBWT19DQVBUSU9OX1RZUEVfQVJJQjogNFxyXG4gICAgLy8gICAgIH07XHJcbiAgICAvLyB9XHJcbiAgICB2YXIgQ0VBX05PNzA4QU5ENjA4ID0gMHgwMCxcclxuICAgICAgICBDRUFfNjA4ID0gMHgwMixcclxuICAgICAgICBDRUFfNzA4ID0gMHgwNCxcclxuICAgICAgICBDRUFfNzA4QU5ENjA4ID0gMHgwNixcclxuXHJcbiAgICAgICAgVk9fQ0FQVElPTl9UWVBFX0VJQTYwOCA9IDAsXHJcbiAgICAgICAgVk9fQ0FQVElPTl9UWVBFX0VJQTcwOCA9IDEsXHJcbiAgICAgICAgVk9fQ0FQVElPTl9UWVBFX0RFRkFVTFRfNjA4ID0gMixcclxuICAgICAgICBWT19DQVBUSU9OX1RZUEVfREVGQVVMVF83MDggPSAzO1xyXG4gICAgICAgIC8vVk9fQ0FQVElPTl9UWVBFX0FSSUIgPSA0O1xyXG5cclxuICAgIHZhciBJTlZBTElEXzYwOENDX1ZBTFVFID0gMHg4MDtcclxuICAgICAgIC8vIE1BWF9GSUVMRF9OVU0gPSAyO1xyXG5cclxuICAgIHZhciBsb2dnZXIgPSB7XHJcbiAgICAgICAgdmVyYm9zZUZpbHRlciA6IHsnREFUQScgOiAzLCAnREVCVUcnIDogMywgJ0lORk8nIDogMiwgJ1dBUk5JTkcnIDogMiwgJ1RFWFQnIDogMSwgJ0VSUk9SJyA6IDB9LFxyXG4gICAgICAgIHRpbWUgOiBudWxsLFxyXG4gICAgICAgIHZlcmJvc2VMZXZlbCA6IDAsIC8vIE9ubHkgd3JpdGUgZXJyb3JzXHJcbiAgICAgICAgc2V0VGltZSA6IGZ1bmN0aW9uKG5ld1RpbWUpIHtcclxuICAgICAgICAgICAgdGhpcy50aW1lID0gbmV3VGltZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxvZyA6IGZ1bmN0aW9uKHNldmVyaXR5LCBtc2cpIHtcclxuICAgICAgICAgICAgdmFyIG1pbkxldmVsID0gdGhpcy52ZXJib3NlRmlsdGVyW3NldmVyaXR5XTtcclxuICAgICAgICAgICAgaWYgKHRoaXMudmVyYm9zZUxldmVsID49IG1pbkxldmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRpbWUgKyBcIiBbXCIgKyBzZXZlcml0eSArIFwiXSBcIiArIG1zZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldExvZ0xldmVsOiBmdW5jdGlvbiAobGV2ZWwpIHtcclxuICAgICAgICAgICAgdGhpcy52ZXJib3NlTGV2ZWwgPSBsZXZlbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vdmFyIG51bUFycmF5VG9IZXhBcnJheSA9IGZ1bmN0aW9uKG51bUFycmF5KSB7XHJcbiAgICAvLyAgICB2YXIgaGV4QXJyYXkgPSBbXTtcclxuICAgIC8vICAgIGZvciAodmFyIGogPSAwOyBqIDwgbnVtQXJyYXkubGVuZ3RoOyBqKyspIHtcclxuICAgIC8vICAgICAgICBoZXhBcnJheS5wdXNoKG51bUFycmF5W2pdLnRvU3RyaW5nKDE2KSk7XHJcbiAgICAvLyAgICB9XHJcbiAgICAvLyAgICByZXR1cm4gaGV4QXJyYXk7XHJcbiAgICAvL307XHJcblxyXG4gICAgdmFyIGNjUGFyc2VyVHlwZSA9IENFQV9OTzcwOEFORDYwOCxcclxuICAgICAgICBhbGxDQ1R5cGUgPSBDRUFfTk83MDhBTkQ2MDg7XHJcblxyXG5cclxuICAgIHZhciBjZWFQYXJzZXJNYW5hZ2VyID0gIGZ1bmN0aW9uKHRyYWNrSUQsIG91dDEsIG91dDIpIHtcclxuICAgICAgICB0aGlzLnRyYWNrSUQgPSB0cmFja0lEO1xyXG4gICAgICAgIHRoaXMub3V0cHV0cyA9IFtvdXQxLCBvdXQyXTtcclxuICAgICAgICB0aGlzLmNlYVBhcnNlclR5cGUgPSBWT19DQVBUSU9OX1RZUEVfRUlBNjA4O1xyXG4gICAgICAgIHRoaXMuY2VhUGFyc2VyID0gbnVsbDtcclxuICAgIH07XHJcblxyXG4gICAgY2VhUGFyc2VyTWFuYWdlci5wcm90b3R5cGUgPSB7XHJcbiAgICAgICAgcmVzZXQ6ZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLmNlYVBhcnNlclR5cGUgPSBWT19DQVBUSU9OX1RZUEVfRUlBNjA4O1xyXG4gICAgICAgICAgICB0aGlzLmNlYVBhcnNlci5yZXNldCgpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldEhhbmRsZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2VhUGFyc2VyLmdldEhhbmRsZXIoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzZXRIYW5kbGVyOiBmdW5jdGlvbiAobmV3SGFuZGxlcikge1xyXG4gICAgICAgICAgICB0aGlzLmNlYVBhcnNlci5zZXRIYW5kbGVyKG5ld0hhbmRsZXIpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHNldENlYVBhcnNlclR5cGU6IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuY2VhUGFyc2VyVHlwZSAhPSB0eXBlKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2VhUGFyc2VyVHlwZSA9IHR5cGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIklORk9cIiwgXCJzZXRDZWFQYXJzZXJUeXBlXCIgKyBcIiB0aGlzLmNlYVBhcnNlclR5cGU6XCIgKyB0aGlzLmNlYVBhcnNlclR5cGUgK1xyXG4gICAgICAgICAgICAvL1wiIGNjUGFyc2VyVHlwZTpcIiArIHR5cGUpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIENyZWF0ZUNlYVBhcnNlcjpmdW5jdGlvbiAodHJhY2tJRCwgb3V0MSwgb3V0Mikge1xyXG4gICAgICAgICAgICBpZiAoJzYwOF8xJyA9PSB0cmFja0lEKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNlYVBhcnNlcj0gbmV3IGNlYTYwOFBhcnNlci5DZWE2MDhQYXJzZXIoMCwgb3V0MSwgb3V0Mik7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2VhUGFyc2VyKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL2Rpc2FibGUgb3V0cHV0IHRoZSBsb2cgbWVzc2FnZSBleGNlcHQgdGhlIGVycm9yIG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgIGNlYTYwOFBhcnNlci5sb2dnZXIuc2V0TG9nTGV2ZWwoMCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJzYwOF8zJyA9PSB0cmFja0lEKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2VhUGFyc2VyID0gbmV3IGNlYTYwOFBhcnNlci5DZWE2MDhQYXJzZXIoMSwgb3V0MSwgb3V0Mik7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2VhUGFyc2VyKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIC8vIGNlYTYwOFBhcnNlci5sb2dnZXIuc2V0TG9nTGV2ZWwoMyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNlYVBhcnNlciA9IG5ldyBjZWE3MDhQYXJzZXIuQ2VhNzA4cGFyc2VyKG91dDEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNlYVBhcnNlcil7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9kaXNhYmxlIG91dHB1dCB0aGUgbG9nIG1lc3NhZ2UgZXhjZXB0IHRoZSBlcnJvciBtZXNzYWdlXHJcbiAgICAgICAgICAgICAgICBjZWE3MDhQYXJzZXIubG9nZ2VyLnNldExvZ0xldmVsKDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGFkZERhdGE6ZnVuY3Rpb24gKHQsIGJ5dGVMaXN0KSB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJjZWFQYXJzZXJNYW5hZ2VyIGFkZERhdGEgdHJhY2tJRDpcIiArIHRoaXMudHJhY2tJRCArXHJcbiAgICAgICAgICAgIC8vICAgIFwiLGJ5dGU6XCIgKyBudW1BcnJheVRvSGV4QXJyYXkoYnl0ZUxpc3QpLmpvaW4oXCIsXCIpKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5jZWFQYXJzZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuQ3JlYXRlQ2VhUGFyc2VyKHRoaXMudHJhY2tJRCwgdGhpcy5vdXRwdXRzWzBdLCB0aGlzLm91dHB1dHNbMV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNlYVBhcnNlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jZWFQYXJzZXIuYWRkRGF0YSh0LCBieXRlTGlzdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjdWVTcGxpdEF0VGltZSA6IGZ1bmN0aW9uKHQpe1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jZWFQYXJzZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2VhUGFyc2VyLmN1ZVNwbGl0QXRUaW1lKHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEZpbmQgcmFuZ2VzIGNvcnJlc3BvbmRpbmcgdG8gU0VBIENFQS02MDggTkFMVVMgaW4gc2l6ZXByZXBlbmRlZCBOQUxVIGFycmF5LlxyXG4gICAgICogQHBhcmFtIHtyYXd9IGRhdGFWaWV3IG9mIGJpbmFyeSBkYXRhXHJcbiAgICAgKiBAcGFyYW0ge3N0YXJ0UG9zfSBzdGFydCBwb3NpdGlvbiBpbiByYXdcclxuICAgICAqIEBwYXJhbSB7c2l6ZX0gdG90YWwgc2l6ZSBvZiBkYXRhIGluIHJhdyB0byBjb25zaWRlclxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgdmFyIGZpbmRDZWFOYWx1cyA9IGZ1bmN0aW9uIChyYXcsIHN0YXJ0UG9zLCBzaXplKSB7XHJcbiAgICAgICAgdmFyIG5hbFNpemUgPSAwLFxyXG4gICAgICAgICAgICBjdXJzb3IgPSBzdGFydFBvcyxcclxuICAgICAgICAgICAgbmFsVHlwZSA9IDAsXHJcbiAgICAgICAgICAgIGNlYTYwOE5hbHVSYW5nZXMgPSBbXSxcclxuICAgICAgICAgICAgLy8gQ2hlY2sgU0VJIGRhdGEgYWNjb3JkaW5nIHRvIEFOU0ktU0NURSAxMjhcclxuICAgICAgICAgICAgaXNDRUE2MDhTRUkgPSBmdW5jdGlvbiAocGF5bG9hZFR5cGUsIHBheWxvYWRTaXplLCByYXcsIHBvcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBheWxvYWRUeXBlICE9PSA0IHx8IHBheWxvYWRTaXplIDwgOCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGNvdW50cnlDb2RlID0gcmF3LmdldFVpbnQ4KHBvcyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvdmlkZXJDb2RlID0gcmF3LmdldFVpbnQxNihwb3MgKyAxKTtcclxuICAgICAgICAgICAgICAgIHZhciB1c2VySWRlbnRpZmllciA9IHJhdy5nZXRVaW50MzIocG9zICsgMyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdXNlckRhdGFUeXBlQ29kZSA9IHJhdy5nZXRVaW50OChwb3MgKyA3KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb3VudHJ5Q29kZSA9PSAweEI1ICYmIHByb3ZpZGVyQ29kZSA9PSAweDMxICYmIHVzZXJJZGVudGlmaWVyID09IDB4NDc0MTM5MzQgJiYgdXNlckRhdGFUeXBlQ29kZSA9PSAweDM7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgd2hpbGUgKGN1cnNvciA8IHN0YXJ0UG9zICsgc2l6ZSkge1xyXG4gICAgICAgICAgICBuYWxTaXplID0gcmF3LmdldFVpbnQzMihjdXJzb3IpO1xyXG4gICAgICAgICAgICBuYWxUeXBlID0gcmF3LmdldFVpbnQ4KGN1cnNvciArIDQpICYgMHgxRjtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aW1lICsgXCIgIE5BTCBcIiArIG5hbFR5cGUpO1xyXG4gICAgICAgICAgICBpZiAobmFsVHlwZSA9PT0gNikge1xyXG4gICAgICAgICAgICAgICAgLy8gU0VJIE5BTCBVbml0LiBUaGUgTkFMIGhlYWRlciBpcyB0aGUgZmlyc3QgYnl0ZVxyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIlNFSSBOQUxVIG9mIHNpemUgXCIgKyBuYWxTaXplICsgXCIgY3Vyc29yOlwiICsgY3Vyc29yKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3MgPSBjdXJzb3IgKyA1O1xyXG4gICAgICAgICAgICAgICAgdmFyIHBheWxvYWRUeXBlID0gLTE7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAocG9zIDwgY3Vyc29yICsgNCArIG5hbFNpemUgLSAxKSB7IC8vIFRoZSBsYXN0IGJ5dGUgc2hvdWxkIGJlIHJic3BfdHJhaWxpbmdfYml0c1xyXG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWRUeXBlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYiA9IDB4RkY7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGIgPT09IDB4RkYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYiA9IHJhdy5nZXRVaW50OChwb3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkVHlwZSArPSBiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBheWxvYWRTaXplID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBiID0gMHhGRjtcclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoYiA9PT0gMHhGRikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiID0gcmF3LmdldFVpbnQ4KHBvcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWRTaXplICs9IGI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcysrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNDRUE2MDhTRUkocGF5bG9hZFR5cGUsIHBheWxvYWRTaXplLCByYXcsIHBvcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIkNFQTYwOCBTRUkgXCIgKyB0aW1lICsgXCIgXCIgKyBwYXlsb2FkU2l6ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiW2ZpbmRDZWFOYWx1c10gcG9zOiVkLCBwYXlsb2Fkc2l6ZTolZCwgbmFsVHlwZTolZCwgbmFsU2l6ZTolZCwgY3Vyc29yOiVkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBwb3MsIHBheWxvYWRTaXplLCBuYWxUeXBlLCBuYWxTaXplLCBjdXJzb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIiBuYWwgZGF0YTpcIiArIHJhdy5nZXRVaW50OChjdXJzb3IpLnRvU3RyaW5nKDE2KSwgcmF3LmdldFVpbnQ4KGN1cnNvciArIDEpLnRvU3RyaW5nKDE2KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHJhdy5nZXRVaW50OChjdXJzb3IgKyAyKS50b1N0cmluZygxNikscmF3LmdldFVpbnQ4KGN1cnNvciArIDMpLnRvU3RyaW5nKDE2KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmF3LmdldFVpbnQ4KGN1cnNvciArIDQpLnRvU3RyaW5nKDE2KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVtb3ZlIHRoZSA4IGJ5dGUgdXNlckRhdGFUeXBlQ29kZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjZWE2MDhOYWx1UmFuZ2VzLnB1c2goWyhwb3MgKyA4KSwgKHBheWxvYWRTaXplIC0gOCldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zICs9IHBheWxvYWRTaXplO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1cnNvciArPSBuYWxTaXplICsgNDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNlYTYwOE5hbHVSYW5nZXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBwYWNrZXREYXRhID0gW107XHJcbiAgICB2YXIgcGFja2V0UGFyc2VyID0gbmV3IGNlYTcwOFBhcnNlci5DZWE3MDhQYWNrZXRQYXJzZXIoKTtcclxuICAgIHZhciBleHRyYWN0Q2VhRGF0YUZyb21SYW5nZSA9IGZ1bmN0aW9uKHJhdywgY2VhNjA4UmFuZ2UpIHtcclxuICAgICAgICB2YXIgcG9zID0gY2VhNjA4UmFuZ2VbMF07XHJcbiAgICAgICAgdmFyIGZpZWxkRGF0YSA9IFtbXSwgW10sIFtdLCBbXSwgW10sIFtdLCBbXSwgW11dLFxyXG4gICAgICAgICAgICBpc1ZhbGlkNjA4RGF0YSA9IGZ1bmN0aW9uKHZhbGlkLCBkYXRhMSwgZGF0YTIsIGNjVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKDAgPT09IHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYoKDAgIT09IGNjVHlwZSkgJiYgKDEgIT09IGNjVHlwZSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgoKElOVkFMSURfNjA4Q0NfVkFMVUUgPT0gZGF0YTEpICYmIChJTlZBTElEXzYwOENDX1ZBTFVFID09IGRhdGEyKSkgfHxcclxuICAgICAgICAgICAgICAgICAgICAoKDB4MCA9PT0gZGF0YTEpICYmICgweDAgPT09IGRhdGEyKSkgfHxcclxuICAgICAgICAgICAgICAgICAgICAoKGRhdGExICYgMHg3ZikgKyAoZGF0YTIgJiAweDdmKSA9PT0gMCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIGlzVmFsaWQ3MDhEYXRhID0gZnVuY3Rpb24odmFsaWQsIGRhdGExLCBkYXRhMiwgY2NUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoMCA9PT0gdmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZigoMiAhPT0gY2NUeXBlKSAmJiAoMyAhPT0gY2NUeXBlKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCgweDAgPT09IGRhdGExKSAmJiAoMHgwID09PSBkYXRhMikpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgd2hhdENDRGF0YVR5cGVIYXZlID0gZnVuY3Rpb24gKHR5cGUsIGNjVHlwZSwgY2NWYWxpZCwgZGF0YTEsIGRhdGEyKSB7XHJcbiAgICAgICAgICAgICAgICBpZihpc1ZhbGlkNjA4RGF0YShjY1ZhbGlkLCBkYXRhMSwgZGF0YTIsIGNjVHlwZSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAodHlwZSB8IENFQV82MDgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmKGlzVmFsaWQ3MDhEYXRhKGNjVmFsaWQsIGRhdGExLCBkYXRhMiwgY2NUeXBlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAodHlwZSB8IENFQV83MDgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXRQYXJzZXJUeXBlID0gZnVuY3Rpb24odHlwZSkge1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInNldFBhcnNlclR5cGUgdHlwZTolZFwiLCB0eXBlKTtcclxuICAgICAgICAgICAgICAgIHZhciBiNjA4VmFsaWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBiNzA4VmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ0VBX05PNzA4QU5ENjA4OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGI2MDhWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiNzA4VmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ0VBXzcwODoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiNzA4VmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBDRUFfNjA4OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGI2MDhWYWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIENFQV83MDhBTkQ2MDg6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYjYwOFZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYjcwOFZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYjYwOFZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGI3MDhWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFiNjA4VmFsaWQgJiYgIWI3MDhWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjY1BhcnNlclR5cGUgPT0gVk9fQ0FQVElPTl9UWVBFX0VJQTYwOCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChiNzA4VmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2NQYXJzZXJUeXBlID0gVk9fQ0FQVElPTl9UWVBFX0VJQTcwODtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjY1BhcnNlclR5cGUgPT0gVk9fQ0FQVElPTl9UWVBFX0VJQTcwOCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYjcwOFZhbGlkICYmIGI2MDhWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjY1BhcnNlclR5cGUgPSBWT19DQVBUSU9OX1RZUEVfRUlBNjA4O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNjUGFyc2VyVHlwZSA9PSBWT19DQVBUSU9OX1RZUEVfREVGQVVMVF82MDgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYjYwOFZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjUGFyc2VyVHlwZSA9IFZPX0NBUFRJT05fVFlQRV9FSUE2MDg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2NQYXJzZXJUeXBlID0gVk9fQ0FQVElPTl9UWVBFX0VJQTcwODtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNjUGFyc2VyVHlwZSA9PSBWT19DQVBUSU9OX1RZUEVfREVGQVVMVF83MDgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYjcwOFZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjUGFyc2VyVHlwZSA9IFZPX0NBUFRJT05fVFlQRV9FSUE3MDg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2NQYXJzZXJUeXBlID0gVk9fQ0FQVElPTl9UWVBFX0VJQTYwODtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgQ2hlY2tDQ0RhdGFUeXBlID0gZnVuY3Rpb24odHlwZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFsbENDVHlwZSAhPSB0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKENFQV83MDhBTkQ2MDggIT0gYWxsQ0NUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbENDVHlwZSA9IGFsbENDVHlwZSB8IHR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIltDaGVja0NDRGF0YVR5cGVdIGFsbENDVHlwZTolZCwgdHlwZTolZFwiLCBhbGxDQ1R5cGUsIHR5cGUpO1xyXG4gICAgICAgICAgICAgICAgc2V0UGFyc2VyVHlwZShhbGxDQ1R5cGUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZXNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHBhY2tldERhdGEgPSBbXTtcclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgIGlzNzA4RW5kID0gZnVuY3Rpb24gKGxlbiwgY2NUeXBlLCBjY1ZhbGlkKSB7XHJcbiAgICAgICAgICAgIGlmICgobGVuID4gMCkgJiYoKGNjVHlwZSA9PT0gMyAmJiBjY1ZhbGlkID09PSAxKSB8fCBjY1ZhbGlkID09PSAwKSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIGdldDcwOENDRGF0YSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJbZ2V0NzA4Q0NEYXRhXSBsZW46XCIgKyBwYWNrZXREYXRhLmxlbmd0aCArIFwiLCBwYWNrZXREYXRhOlwiICsgbnVtQXJyYXlUb0hleEFycmF5KHBhY2tldERhdGEpKTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRhU2l6ZSA9IHBhY2tldFBhcnNlci5leHRyYWN0Q2VhNzA4RGF0YUZyb21QYWNrZXQocGFja2V0RGF0YSk7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhU2l6ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBzZXJ2aWNlTk8gPSAxOyBzZXJ2aWNlTk8gPCBwYWNrZXRQYXJzZXIuc2VydmljZUJsb2NrLnNlckRhdGEubGVuZ3RoOyBzZXJ2aWNlTk8gKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihwYWNrZXRQYXJzZXIuc2VydmljZUJsb2NrLnNlckRhdGFbc2VydmljZU5PXS5zZXJEYXRhLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZERhdGFbc2VydmljZU5PICsgMV0gPSBmaWVsZERhdGFbc2VydmljZU5PICsgMV0uY29uY2F0KHBhY2tldFBhcnNlci5zZXJ2aWNlQmxvY2suc2VyRGF0YVtzZXJ2aWNlTk9dLnNlckRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJbZ2V0NzA4Q0NEYXRhXSBjY0RhdGE6XCIgKyBudW1BcnJheVRvSGV4QXJyYXkoZmllbGREYXRhW3NlcnZpY2VOTyArIDFdKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgXCIsIGxlbjpcIiArIGZpZWxkRGF0YVtzZXJ2aWNlTk8gKyAxXS5sZW5ndGggKyBcIiwgc2VydmljZU5POlwiICsgc2VydmljZU5PKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVzdHJ1Y3RDQ0RhdGEgPSBmdW5jdGlvbiAoc3JjRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFyciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcmNEYXRhLmxlbmd0aDsgaSArKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgwIDwgc3JjRGF0YVtpXS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDAgPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKFtcIjYwOF8xXCIsIHNyY0RhdGFbaV1dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgxID09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKFtcIjYwOF8zXCIsIHNyY0RhdGFbaV1dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKFtcIjcwOF9cIiArIChpIC0gMSkudG9TdHJpbmcoKSwgc3JjRGF0YVtpXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFycjtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAvL3BvcyArPSA4OyAvLyBTa2lwIHRoZSBpZGVudGlmaWVyIHVwIHRvIHVzZXJEYXRhVHlwZUNvZGVcclxuICAgICAgICB2YXIgY2NDb3VudCA9IHJhdy5nZXRVaW50OChwb3MpICYgMHgxZjtcclxuICAgICAgICBwb3MgKz0gMjsgLy8gQWR2YW5jZSAxIGFuZCBza2lwIHJlc2VydmVkIGJ5dGVcclxuICAgICAgICB2YXIgdHlwZSA9IDA7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjY0NvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGJ5dGUgPSByYXcuZ2V0VWludDgocG9zKTtcclxuICAgICAgICAgICAgdmFyIGNjVmFsaWQgPSAoYnl0ZSAmIDB4NCkgPj4gMjtcclxuICAgICAgICAgICAgdmFyIGNjVHlwZSA9IGJ5dGUgJiAweDM7XHJcblxyXG4gICAgICAgICAgICBwb3MrKztcclxuICAgICAgICAgICAgdmFyIGNjRGF0YTEgPSByYXcuZ2V0VWludDgocG9zKTsgLy8gS2VlcCBwYXJpdHkgYml0XHJcbiAgICAgICAgICAgIHBvcysrO1xyXG4gICAgICAgICAgICB2YXIgY2NEYXRhMiA9IHJhdy5nZXRVaW50OChwb3MpOyAvLyBLZWVwIHBhcml0eSBiaXRcclxuICAgICAgICAgICAgcG9zKys7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCIgW2V4dHJhY3RDZWFEYXRhRnJvbVJhbmdlXWNvdW50OiVkLCBjY1R5cGU6JWQsIGk6JWQsdmFsaWQ6JWRcIiwgY2NDb3VudCwgY2NUeXBlLCBpLCBjY1ZhbGlkKTtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIltleHRyYWN0Q2VhRGF0YUZyb21SYW5nZV0gZGF0YTE6XCIgKyBjY0RhdGExLnRvU3RyaW5nKDE2KSArIFwiIGRhdGEyOlwiICsgY2NEYXRhMi50b1N0cmluZygxNikpO1xyXG4gICAgICAgICAgIHZhciB0eXBlVG1wID0gd2hhdENDRGF0YVR5cGVIYXZlKHR5cGUsIGNjVHlwZSwgY2NWYWxpZCwgY2NEYXRhMSwgY2NEYXRhMik7XHJcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlVG1wO1xyXG4gICAgICAgICAgICBpZiAoaXNWYWxpZDYwOERhdGEoY2NWYWxpZCwgY2NEYXRhMSwgY2NEYXRhMiwgY2NUeXBlKSkgeyAvL0NoZWNrIHZhbGlkaXR5IGFuZCBub24tZW1wdHkgZGF0YVxyXG4gICAgICAgICAgICAgICAgaWYgKGNjVHlwZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkRGF0YVswXS5wdXNoKGNjRGF0YTEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkRGF0YVswXS5wdXNoKGNjRGF0YTIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjY1R5cGUgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZERhdGFbMV0ucHVzaChjY0RhdGExKTtcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZERhdGFbMV0ucHVzaChjY0RhdGEyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmICggY2NUeXBlID09PSAyIHx8IGNjVHlwZSA9PT0gMykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzNzA4RW5kKHBhY2tldERhdGEubGVuZ3RoLCBjY1R5cGUsIGNjVmFsaWQpKXtcclxuICAgICAgICAgICAgICAgICAgICBnZXQ3MDhDQ0RhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkgLS07XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zIC09IDM7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAoaXNWYWxpZDcwOERhdGEoY2NWYWxpZCwgY2NEYXRhMSwgY2NEYXRhMiwgY2NUeXBlKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0RGF0YS5wdXNoKGNjRGF0YTEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhY2tldERhdGEucHVzaChjY0RhdGEyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBDaGVja0NDRGF0YVR5cGUodHlwZSk7XHJcbiAgICAgICAgdmFyIGNjRGF0YSA9IHJlc3RydWN0Q0NEYXRhKGZpZWxkRGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIGNjRGF0YTtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIGV4cG9ydHMubG9nZ2VyID0gbG9nZ2VyO1xyXG4gICAgZXhwb3J0cy5jZWFQYXJzZXJNYW5hZ2VyID0gY2VhUGFyc2VyTWFuYWdlcjtcclxuICAgIGV4cG9ydHMuZmluZENlYU5hbHVzID0gZmluZENlYU5hbHVzO1xyXG4gICAgZXhwb3J0cy5leHRyYWN0Q2VhRGF0YUZyb21SYW5nZSA9IGV4dHJhY3RDZWFEYXRhRnJvbVJhbmdlO1xyXG5cclxufSh0eXBlb2YgZXhwb3J0cyA9PT0gJ3VuZGVmaW5lZCc/IHRoaXMuY2VhUGFyc2VyTWFuYWdlciA9IHt9OiBleHBvcnRzKSk7Iiwi77u/aW1wb3J0IEZhY3RvcnlNYWtlciBmcm9tICcuLi9jb3JlL0ZhY3RvcnlNYWtlcic7XHJcbmltcG9ydCBCb3hQYXJzZXIgZnJvbSAnLi9Cb3hQYXJzZXInO1xyXG5pbXBvcnQgY2VhUGFyc2VyTWFuYWdlciBmcm9tICcuL2NlYVBhcnNlck1hbmFnZXIuanMnO1xyXG5cclxudmFyIGNvbnRleHQgPSB3aW5kb3c7XHJcbnZhciBib3hQYXJzZXIgPSBCb3hQYXJzZXIoY29udGV4dCkuZ2V0SW5zdGFuY2UoKTtcclxuXHJcbmZ1bmN0aW9uIGV4dHJhY3RDZWFEYXRhKGRhdGEpIHtcclxuICAvKiBJbnNlcnQgW3RpbWUsIGRhdGFdIHBhaXJzIGluIG9yZGVyIGludG8gYXJyYXkuICovXHJcbiAgdmFyIGluc2VydEluT3JkZXIgPSBmdW5jdGlvbiAoYXJyLCB0aW1lLCBkYXRhKSB7XHJcbiAgICB2YXIgbGVuID0gYXJyLmxlbmd0aDtcclxuICAgIGlmIChsZW4gPiAwKSB7XHJcbiAgICAgIGlmICh0aW1lID49IGFycltsZW4gLSAxXVswXSkge1xyXG4gICAgICAgIGFyci5wdXNoKFt0aW1lLCBkYXRhXSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZm9yICh2YXIgcG9zID0gbGVuIC0gMTsgcG9zID49IDA7IHBvcy0tKSB7XHJcbiAgICAgICAgICBpZiAodGltZSA8IGFycltwb3NdWzBdKSB7XHJcbiAgICAgICAgICAgIGFyci5zcGxpY2UocG9zLCAwLCBbdGltZSwgZGF0YV0pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFyci5wdXNoKFt0aW1lLCBkYXRhXSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdmFyIHNhdmVDQ0RhdGEgPSBmdW5jdGlvbiAoYXJyLCB0aW1lLCBkYXRhKSB7XHJcbiAgICBpZiAoKDAgPT09IGRhdGEubGVuZ3RoKSB8fCAoJ3VuZGVmaW5lZCcgPT09IGRhdGFbMF0pIHx8ICgndW5kZWZpbmVkJyA9PT0gZGF0YVsxXSkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIGJGb3VuZCA9IGZhbHNlO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpICsrKSB7XHJcbiAgICAgIGlmIChhcnJbaV1bMF0gPT0gZGF0YVswXSkge1xyXG4gICAgICAgIGFycltpXS5wdXNoKFt0aW1lLCBkYXRhWzFdXSk7XHJcbiAgICAgICAgYkZvdW5kID0gdHJ1ZTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFiRm91bmQpIHtcclxuICAgICAgYXJyLnB1c2goW2RhdGFbMF0sW3RpbWUsIGRhdGFbMV1dXSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdmFyIGlzb0ZpbGUgPSBib3hQYXJzZXIucGFyc2UoZGF0YSk7XHJcbiAgdmFyIG1vb2YgPSBpc29GaWxlLmdldEJveCgnbW9vZicpO1xyXG4gIHZhciB0ZmR0ID0gaXNvRmlsZS5nZXRCb3goJ3RmZHQnKTtcclxuICB2YXIgdGZoZCA9IGlzb0ZpbGUuZ2V0Qm94KCd0ZmhkJyk7IC8vQ2FuIGhhdmUgYSBiYXNlX2RhdGFfb2Zmc2V0IGFuZCBvdGhlciBkZWZhdWx0IHZhbHVlc1xyXG4gIC8vbG9nKFwidGZoZDogXCIgKyB0ZmhkKTtcclxuICAvL3ZhciBzYWlvID0gaXNvRmlsZS5nZXRCb3goJ3NhaW8nKTsgLy8gT2Zmc2V0IHBvc3NpYmx5XHJcbiAgLy92YXIgc2FpeiA9IGlzb0ZpbGUuZ2V0Qm94KCdzYWl6Jyk7IC8vIFBvc3NpYmxlIHNpemVzXHJcbiAgdmFyIHRydW5zID0gaXNvRmlsZS5nZXRCb3hlcygndHJ1bicpOyAvL1xyXG4gIHZhciB0cnVuID0gbnVsbDtcclxuXHJcbiAgaWYgKHRydW5zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG4gIHRydW4gPSB0cnVuc1swXTtcclxuICBpZiAodHJ1bnMubGVuZ3RoID4gMSkge1xyXG4gICAgbG9nKCdXYXJuaW5nOiBUb28gbWFueSB0cnVucycpO1xyXG4gIH1cclxuICB2YXIgYmFzZU9mZnNldCA9IG1vb2Yub2Zmc2V0ICsgdHJ1bi5kYXRhX29mZnNldDtcclxuICAvL0RvdWJsZWNoZWNrIHRoYXQgdHJ1bi5vZmZzZXQgPT0gbW9vZi5zaXplICsgOFxyXG4gIHZhciBzYW1wbGVDb3VudCA9IHRydW4uc2FtcGxlX2NvdW50O1xyXG4gIHZhciBzdGFydFBvcyA9IGJhc2VPZmZzZXQ7XHJcbiAgdmFyIGJhc2VTYW1wbGVUaW1lID0gdGZkdC5iYXNlTWVkaWFEZWNvZGVUaW1lO1xyXG4gIHZhciByYXcgPSBuZXcgRGF0YVZpZXcoZGF0YSk7XHJcbiAgdmFyIGFsbENjRGF0YSA9IHsgJ1N0YXJ0VGltZSc6IG51bGwsICdFbmRUaW1lJzogbnVsbCwgZmllbGRzOiBbXSB9O1xyXG4gIHZhciBhbGxDZWFOYWx1cyA9IFtdO1xyXG4gIHZhciBhY2NEdXJhdGlvbiA9IDA7XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzYW1wbGVDb3VudDsgaSsrKSB7XHJcbiAgICB2YXIgc2FtcGxlID0gdHJ1bi5zYW1wbGVzW2ldO1xyXG5cclxuICAgIHZhciB0ZXN0ID0gJ0luZGV4OiAnICsgaS50b1N0cmluZygpICsgJywgQmFzZVNhbXBsZVRpbWU6ICcgKyBiYXNlU2FtcGxlVGltZTtcclxuICAgIGlmIChhY2NEdXJhdGlvbiA9PSAwKSB7XHJcbiAgICAgIHRlc3QgKz0gKCcsIEFjdHVhbER1cmF0aW9uOiAnICsgYWNjRHVyYXRpb24gKyAnIChFcnJvciwgYWN0dWFsIGR1cmF0aW9uIGNhbm5vdCBiZSAwKScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGVzdCArPSAoJywgQWN0dWFsRHVyYXRpb246ICcgKyBhY2NEdXJhdGlvbik7XHJcbiAgICB9XHJcbiAgICBpZiAoc2FtcGxlLnNhbXBsZV9kdXJhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGlmICh0ZmhkLmRlZmF1bHRfc2FtcGxlX2R1cmF0aW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBzYW1wbGUuc2FtcGxlX2R1cmF0aW9uID0gMDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzYW1wbGUuc2FtcGxlX2R1cmF0aW9uID0gdGZoZC5kZWZhdWx0X3NhbXBsZV9kdXJhdGlvbjtcclxuICAgICAgfVxyXG4gICAgICB0ZXN0ICs9ICcsIER1cmF0aW9uOiAnICsgc2FtcGxlLnNhbXBsZV9kdXJhdGlvbjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRlc3QgKz0gKCcsIER1cmF0aW9uOiAnICsgc2FtcGxlLnNhbXBsZV9kdXJhdGlvbik7XHJcbiAgICB9XHJcbiAgICBpZiAoc2FtcGxlLnNhbXBsZV9zaXplID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgc2FtcGxlLnNhbXBsZV9zaXplID0gdGZoZC5kZWZhdWx0X3NhbXBsZV9zaXplO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzYW1wbGUuc2FtcGxlX2NvbXBvc2l0aW9uX3RpbWVfb2Zmc2V0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgdGVzdCArPSAnLCBDb21wb3NpdGlvblRpbWU6IDAnO1xyXG4gICAgICBzYW1wbGUuc2FtcGxlX2NvbXBvc2l0aW9uX3RpbWVfb2Zmc2V0ID0gMDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRlc3QgKz0gKCcsIENvbXBvc2l0aW9uVGltZTogJyArIHNhbXBsZS5zYW1wbGVfY29tcG9zaXRpb25fdGltZV9vZmZzZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzYW1wbGVUaW1lID0gYmFzZVNhbXBsZVRpbWUgKyBhY2NEdXJhdGlvbiArIHNhbXBsZS5zYW1wbGVfY29tcG9zaXRpb25fdGltZV9vZmZzZXQ7XHJcbiAgICB0ZXN0ICs9ICgnLCBTYW1wbGVUaW1lOiAnICsgc2FtcGxlVGltZSk7XHJcblxyXG4gICAgdmFyIGNlYTYwOFJhbmdlcyA9IGNlYVBhcnNlck1hbmFnZXIuZmluZENlYU5hbHVzKHJhdywgc3RhcnRQb3MsIHNhbXBsZS5zYW1wbGVfc2l6ZSk7XHJcbiAgICBpZiAoMCA8IGNlYTYwOFJhbmdlcy5sZW5ndGgpIHtcclxuICAgICAgaW5zZXJ0SW5PcmRlcihhbGxDZWFOYWx1cywgc2FtcGxlVGltZSwgY2VhNjA4UmFuZ2VzKTtcclxuICAgIH1cclxuXHJcbiAgICBhY2NEdXJhdGlvbiArPSBzYW1wbGUuc2FtcGxlX2R1cmF0aW9uO1xyXG4gICAgc3RhcnRQb3MgKz0gc2FtcGxlLnNhbXBsZV9zaXplO1xyXG4gIH1cclxuXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxDZWFOYWx1cy5sZW5ndGg7IGkgKyspIHtcclxuICAgIGlmICgndW5kZWZpbmVkJyA9PT0gYWxsQ2VhTmFsdXNbaV1bMF0gfHwgJ3VuZGVmaW5lZCcgPT09IGFsbENlYU5hbHVzW2ldWzFdKSB7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBhbGxDZWFOYWx1c1tpXVsxXS5sZW5ndGg7IGorKykge1xyXG4gICAgICAvL2NvbnNvbGUuZGVidWcoJ1tleHRyYWN0Q2VhRGF0YV0gaTonICsgaSArICcsIGo6JyArIGogKTtcclxuICAgICAgdmFyIGNjRGF0YSA9IGNlYVBhcnNlck1hbmFnZXIuZXh0cmFjdENlYURhdGFGcm9tUmFuZ2UocmF3LCBhbGxDZWFOYWx1c1tpXVsxXVtqXSk7XHJcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgY2NEYXRhLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgaWYgKGNjRGF0YVtrXS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBzYXZlQ0NEYXRhKGFsbENjRGF0YS5maWVsZHMsIGFsbENlYU5hbHVzW2ldWzBdLCBjY0RhdGFba10pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdmFyIGVuZFNhbXBsZVRpbWUgPSBiYXNlU2FtcGxlVGltZSArIGFjY0R1cmF0aW9uO1xyXG4gIGFsbENjRGF0YS5zdGFydFRpbWUgPSBiYXNlU2FtcGxlVGltZTtcclxuICBhbGxDY0RhdGEuZW5kVGltZSA9IGVuZFNhbXBsZVRpbWU7XHJcbiAgcmV0dXJuIGFsbENjRGF0YTtcclxufVxyXG5cclxudmFyIGNjUGFyc2VycyA9IG5ldyBNYXAoKTtcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNjUGFyc2VyKHR5cGUpIHtcclxuICAgIHZhciBtYWtlQ3VlQWRkZXJGb3JJbmRleCA9IGZ1bmN0aW9uIChzZWxmLCB0eXBlKSB7XHJcbiAgICAgIGZ1bmN0aW9uIG5ld0N1ZShzdGFydFRpbWUsIGVuZFRpbWUsIGNhcHRpb25TY3JlZW4pIHtcclxuICAgICAgICB2YXIgdGV4dCA9IGNhcHRpb25TY3JlZW4uZ2V0RGlzcGxheVRleHQoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyh0eXBlICsgJzogc3RhcnRUaW1lOiAnICsgc3RhcnRUaW1lICsgJywgZW5kVGltZTogJyArIGVuZFRpbWUgKyAnLCAnICsgdGV4dCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG5ld0N1ZTtcclxuICAgIH07XHJcbiAgICBsZXQgaGFuZGxlciA9IG1ha2VDdWVBZGRlckZvckluZGV4KHRoaXMsIHR5cGUpO1xyXG4gICAgcmV0dXJuIG5ldyBjZWFQYXJzZXJNYW5hZ2VyLmNlYVBhcnNlck1hbmFnZXIodHlwZSwgeyduZXdDdWUnOiBoYW5kbGVyfSwgbnVsbCk7XHJcbiAgfVxyXG5cclxuZnVuY3Rpb24gbXl0ZXN0MihieXRlcykge1xyXG4gIC8vIGluaXQgcGFyc2Vyc1xyXG4gIGNjUGFyc2Vycy5zZXQoJzYwOF8xJywgY3JlYXRlQ2NQYXJzZXIoJzYwOF8xJykpO1xyXG4gIGNjUGFyc2Vycy5zZXQoJzYwOF8yJywgY3JlYXRlQ2NQYXJzZXIoJzYwOF8yJykpO1xyXG4gIGNjUGFyc2Vycy5zZXQoJzYwOF8zJywgY3JlYXRlQ2NQYXJzZXIoJzYwOF8zJykpO1xyXG4gIGNjUGFyc2Vycy5zZXQoJzYwOF80JywgY3JlYXRlQ2NQYXJzZXIoJzYwOF80JykpO1xyXG4gIGNjUGFyc2Vycy5zZXQoJzcwOF8xJywgY3JlYXRlQ2NQYXJzZXIoJzcwOF8xJykpO1xyXG4gIGNjUGFyc2Vycy5zZXQoJzcwOF8yJywgY3JlYXRlQ2NQYXJzZXIoJzcwOF8yJykpO1xyXG4gIGNjUGFyc2Vycy5zZXQoJzcwOF8zJywgY3JlYXRlQ2NQYXJzZXIoJzcwOF8zJykpO1xyXG4gIGNjUGFyc2Vycy5zZXQoJzcwOF80JywgY3JlYXRlQ2NQYXJzZXIoJzcwOF80JykpO1xyXG4gIGNjUGFyc2Vycy5zZXQoJzcwOF81JywgY3JlYXRlQ2NQYXJzZXIoJzcwOF81JykpO1xyXG4gIGNjUGFyc2Vycy5zZXQoJzcwOF82JywgY3JlYXRlQ2NQYXJzZXIoJzcwOF82JykpO1xyXG4gIFxyXG4gIHZhciBlbWJlZGRlZFRpbWVzY2FsZSA9IDkwMDAwO1xyXG4gIFxyXG4gIHZhciBhbGxDY0RhdGEgPSBleHRyYWN0Q2VhRGF0YShieXRlcyk7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxDY0RhdGEuZmllbGRzLmxlbmd0aDsgaSArKykge1xyXG4gICAgdmFyIGNjRGF0YSA9IGFsbENjRGF0YS5maWVsZHNbaV07XHJcblxyXG4gICAgbGV0IHR5cGUgPSBjY0RhdGFbMF07XHJcbiAgICBsZXQgcGFyc2VyID0gY2NQYXJzZXJzLmdldCh0eXBlKTtcclxuXHJcbiAgICBmb3IgKGxldCBqID0gMTsgaiA8IGNjRGF0YS5sZW5ndGg7IGorKykge1xyXG4gICAgICBsZXQgYTEgPSBjY0RhdGFbal1bMF07XHJcbiAgICAgIGxldCBhMiA9IGNjRGF0YVtqXVsxXTtcclxuICAgICAgcGFyc2VyLmFkZERhdGEoY2NEYXRhW2pdWzBdIC8gZW1iZWRkZWRUaW1lc2NhbGUsIGNjRGF0YVtqXVsxXSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdGVzdF9jZWE2MDgoKSB7XHJcbiAgY29uc29sZS5sb2coJy0tLS0tLS0tdGVzdF9jZWE2MDgtLS0tLS0tLScpO1xyXG5cclxuICB2YXIgeGh0dHAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICB4aHR0cC5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xyXG5cclxuICB4aHR0cC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAodGhpcy5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgIG15dGVzdDIodGhpcy5yZXNwb25zZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgeGh0dHAub3BlbihcIkdFVFwiLCBcImh0dHA6Ly9sb2NhbGhvc3QvMi9teWRhc2gvc3VidGl0bGVzLzYwOF8wL1YzMDBfd2l0aF9jYzFfYW5kX2NjMy8xLm00c1wiLCB0cnVlKTtcclxuICB4aHR0cC5zZW5kKCk7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIiwiLypcclxuIENvcHlyaWdodCAyMDExIEFiZHVsbGEgQWJkdXJha2htYW5vdlxyXG4gT3JpZ2luYWwgc291cmNlcyBhcmUgYXZhaWxhYmxlIGF0IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AveDJqcy9cclxuXHJcbiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcblxyXG4gaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG4gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcblxyXG4vKlxyXG4gTW9kaWZpZWQgdG8ga2VlcCB0cmFjayBvZiBjaGlsZHJlbiBub2RlcyBpbiBvcmRlciBpbiBhdHRyaWJ1dGUgX19jaGlsZHJlbi5cclxuKi9cclxuXHJcbmZ1bmN0aW9uIFgySlMobWF0Y2hlcnMsIGF0dHJQcmVmaXgsIGlnbm9yZVJvb3QpIHtcclxuICAgIGlmIChhdHRyUHJlZml4ID09PSBudWxsIHx8IGF0dHJQcmVmaXggPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGF0dHJQcmVmaXggPSBcIl9cIjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKGlnbm9yZVJvb3QgPT09IG51bGwgfHwgaWdub3JlUm9vdCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgaWdub3JlUm9vdCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgXHJcblx0dmFyIFZFUlNJT04gPSBcIjEuMC4xMVwiO1xyXG5cdHZhciBlc2NhcGVNb2RlID0gZmFsc2U7XHJcblxyXG5cdHZhciBET01Ob2RlVHlwZXMgPSB7XHJcblx0XHRFTEVNRU5UX05PREUgXHQgICA6IDEsXHJcblx0XHRURVhUX05PREUgICAgXHQgICA6IDMsXHJcblx0XHRDREFUQV9TRUNUSU9OX05PREUgOiA0LFxyXG5cdFx0Q09NTUVOVF9OT0RFICAgICAgIDogOCxcclxuXHRcdERPQ1VNRU5UX05PREUgXHQgICA6IDlcclxuXHR9O1xyXG5cdFxyXG5cdGZ1bmN0aW9uIGdldE5vZGVMb2NhbE5hbWUoIG5vZGUgKSB7XHJcblx0XHR2YXIgbm9kZUxvY2FsTmFtZSA9IG5vZGUubG9jYWxOYW1lO1x0XHRcdFxyXG5cdFx0aWYobm9kZUxvY2FsTmFtZSA9PSBudWxsKSAvLyBZZWFoLCB0aGlzIGlzIElFISEgXHJcblx0XHRcdG5vZGVMb2NhbE5hbWUgPSBub2RlLmJhc2VOYW1lO1xyXG5cdFx0aWYobm9kZUxvY2FsTmFtZSA9PSBudWxsIHx8IG5vZGVMb2NhbE5hbWU9PVwiXCIpIC8vID09XCJcIiBpcyBJRSB0b29cclxuXHRcdFx0bm9kZUxvY2FsTmFtZSA9IG5vZGUubm9kZU5hbWU7XHJcblx0XHRyZXR1cm4gbm9kZUxvY2FsTmFtZTtcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gZ2V0Tm9kZVByZWZpeChub2RlKSB7XHJcblx0XHRyZXR1cm4gbm9kZS5wcmVmaXg7XHJcblx0fVxyXG5cdFx0XHJcblx0ZnVuY3Rpb24gZXNjYXBlWG1sQ2hhcnMoc3RyKSB7XHJcblx0XHRpZih0eXBlb2Yoc3RyKSA9PSBcInN0cmluZ1wiKVxyXG5cdFx0XHRyZXR1cm4gc3RyLnJlcGxhY2UoLyYvZywgJyZhbXA7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoLz4vZywgJyZndDsnKS5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JykucmVwbGFjZSgvJy9nLCAnJiN4Mjc7JykucmVwbGFjZSgvXFwvL2csICcmI3gyRjsnKTtcclxuXHRcdGVsc2VcclxuXHRcdFx0cmV0dXJuIHN0cjtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHVuZXNjYXBlWG1sQ2hhcnMoc3RyKSB7XHJcblx0XHRyZXR1cm4gc3RyLnJlcGxhY2UoLyZhbXA7L2csICcmJykucmVwbGFjZSgvJmx0Oy9nLCAnPCcpLnJlcGxhY2UoLyZndDsvZywgJz4nKS5yZXBsYWNlKC8mcXVvdDsvZywgJ1wiJykucmVwbGFjZSgvJiN4Mjc7L2csIFwiJ1wiKS5yZXBsYWNlKC8mI3gyRjsvZywgJ1xcLycpXHJcblx0fVx0XHJcblxyXG5cdGZ1bmN0aW9uIHBhcnNlRE9NQ2hpbGRyZW4oIG5vZGUgKSB7XHJcblx0XHRpZihub2RlLm5vZGVUeXBlID09IERPTU5vZGVUeXBlcy5ET0NVTUVOVF9OT0RFKSB7XHJcblx0XHRcdHZhciByZXN1bHQsXHJcblx0XHRcdCAgICBjaGlsZCA9IG5vZGUuZmlyc3RDaGlsZCxcclxuXHRcdFx0ICAgIGksXHJcblx0XHRcdCAgICBsZW47IFxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gZ2V0IHRoZSBmaXJzdCBub2RlIHRoYXQgaXNuJ3QgYSBjb21tZW50XHJcblx0XHRcdGZvcihpID0gMCwgbGVuID0gbm9kZS5jaGlsZE5vZGVzLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAxKSB7XHJcblx0XHRcdCAgIGlmIChub2RlLmNoaWxkTm9kZXNbaV0ubm9kZVR5cGUgIT09IERPTU5vZGVUeXBlcy5DT01NRU5UX05PREUpIHtcclxuXHRcdFx0ICAgICAgIGNoaWxkID0gbm9kZS5jaGlsZE5vZGVzW2ldO1xyXG5cdFx0XHQgICAgICAgYnJlYWs7XHJcblx0XHRcdCAgIH0gXHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdGlmICggaWdub3JlUm9vdCApIHtcclxuXHRcdFx0ICAgIHJlc3VsdCA9IHBhcnNlRE9NQ2hpbGRyZW4oY2hpbGQpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHQgICAgcmVzdWx0ID0ge307XHJcblx0XHRcdCAgICB2YXIgY2hpbGROYW1lID0gZ2V0Tm9kZUxvY2FsTmFtZShjaGlsZCk7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRbY2hpbGROYW1lXSA9IHBhcnNlRE9NQ2hpbGRyZW4oY2hpbGQpO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fVxyXG5cdFx0ZWxzZVxyXG5cdFx0aWYobm9kZS5ub2RlVHlwZSA9PSBET01Ob2RlVHlwZXMuRUxFTUVOVF9OT0RFKSB7XHJcblx0XHRcdHZhciByZXN1bHQgPSBuZXcgT2JqZWN0O1xyXG5cdFx0XHRyZXN1bHQuX19jbnQ9MDtcclxuXHJcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IFtdO1xyXG5cdFx0XHRcclxuXHRcdFx0dmFyIG5vZGVDaGlsZHJlbiA9IG5vZGUuY2hpbGROb2RlcztcclxuXHRcdFx0XHJcblx0XHRcdC8vIENoaWxkcmVuIG5vZGVzXHJcblx0XHRcdGZvcih2YXIgY2lkeD0wOyBjaWR4IDxub2RlQ2hpbGRyZW4ubGVuZ3RoOyBjaWR4KyspIHtcclxuXHRcdFx0XHR2YXIgY2hpbGQgPSBub2RlQ2hpbGRyZW4uaXRlbShjaWR4KTsgLy8gbm9kZUNoaWxkcmVuW2NpZHhdO1xyXG5cdFx0XHRcdHZhciBjaGlsZE5hbWUgPSBnZXROb2RlTG9jYWxOYW1lKGNoaWxkKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRyZXN1bHQuX19jbnQrKztcclxuXHRcdFx0XHRpZihyZXN1bHRbY2hpbGROYW1lXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSBwYXJzZURPTUNoaWxkcmVuKGNoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGROYW1lICE9IFwiI3RleHRcIiB8fCAvW15cXHNdLy50ZXN0KGMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9bY2hpbGROYW1lXSA9IGM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2gobyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cdFx0XHRcdFx0cmVzdWx0W2NoaWxkTmFtZV0gPSBjO1xyXG5cdFx0XHRcdFx0cmVzdWx0W2NoaWxkTmFtZStcIl9hc0FycmF5XCJdID0gbmV3IEFycmF5KDEpO1xyXG5cdFx0XHRcdFx0cmVzdWx0W2NoaWxkTmFtZStcIl9hc0FycmF5XCJdWzBdID0gcmVzdWx0W2NoaWxkTmFtZV07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0aWYocmVzdWx0W2NoaWxkTmFtZV0gIT0gbnVsbCkge1xyXG5cdFx0XHRcdFx0XHRpZiggIShyZXN1bHRbY2hpbGROYW1lXSBpbnN0YW5jZW9mIEFycmF5KSkge1xyXG5cdFx0XHRcdFx0XHRcdHZhciB0bXBPYmogPSByZXN1bHRbY2hpbGROYW1lXTtcclxuXHRcdFx0XHRcdFx0XHRyZXN1bHRbY2hpbGROYW1lXSA9IG5ldyBBcnJheSgpO1xyXG5cdFx0XHRcdFx0XHRcdHJlc3VsdFtjaGlsZE5hbWVdWzBdID0gdG1wT2JqO1xyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdHJlc3VsdFtjaGlsZE5hbWUrXCJfYXNBcnJheVwiXSA9IHJlc3VsdFtjaGlsZE5hbWVdO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR2YXIgYXJpZHggPSAwO1xyXG5cdFx0XHRcdFx0d2hpbGUocmVzdWx0W2NoaWxkTmFtZV1bYXJpZHhdIT1udWxsKSBhcmlkeCsrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IHBhcnNlRE9NQ2hpbGRyZW4oY2hpbGQpO1xyXG5cdFx0XHRcdFx0aWYgKGNoaWxkTmFtZSAhPSBcIiN0ZXh0XCIgfHwgL1teXFxzXS8udGVzdChjKSkgeyAvLyBEb24ndCBhZGQgd2hpdGUtc3BhY2UgdGV4dCBub2Rlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvW2NoaWxkTmFtZV0gPSBjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbi5wdXNoKCBvICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cdFx0XHRcdFx0KHJlc3VsdFtjaGlsZE5hbWVdKVthcmlkeF0gPSBjO1xyXG5cdFx0XHRcdH1cdFx0XHRcclxuXHRcdFx0fVxyXG5cclxuICAgICAgICAgICAgcmVzdWx0Ll9fY2hpbGRyZW4gPSBjaGlsZHJlbjtcclxuXHRcdFx0XHJcblx0XHRcdC8vIEF0dHJpYnV0ZXNcclxuXHRcdFx0Zm9yKHZhciBhaWR4PTA7IGFpZHggPG5vZGUuYXR0cmlidXRlcy5sZW5ndGg7IGFpZHgrKykge1xyXG5cdFx0XHRcdHZhciBhdHRyID0gbm9kZS5hdHRyaWJ1dGVzLml0ZW0oYWlkeCk7IC8vIFthaWR4XTtcclxuXHRcdFx0XHRyZXN1bHQuX19jbnQrKztcclxuXHRcdFx0XHRcclxuXHRcdFx0XHR2YXIgdmFsdWUyID0gYXR0ci52YWx1ZTtcclxuXHRcdFx0XHRmb3IodmFyIG09MCwgbWw9bWF0Y2hlcnMubGVuZ3RoOyBtIDwgbWw7IG0rKykge1xyXG5cdFx0XHRcdCAgICB2YXIgbWF0Y2hvYmogPSBtYXRjaGVyc1ttXTtcclxuXHRcdFx0XHQgICAgaWYgKG1hdGNob2JqLnRlc3QoYXR0cikpIHtcclxuXHRcdFx0XHRcdFx0dmFsdWUyID0gbWF0Y2hvYmouY29udmVydGVyKGF0dHIudmFsdWUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRcclxuXHRcdFx0XHRyZXN1bHRbYXR0clByZWZpeCthdHRyLm5hbWVdPXZhbHVlMjtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0Ly8gTm9kZSBuYW1lc3BhY2UgcHJlZml4XHJcblx0XHRcdHZhciBub2RlUHJlZml4ID0gZ2V0Tm9kZVByZWZpeChub2RlKTtcclxuXHRcdFx0aWYobm9kZVByZWZpeCE9bnVsbCAmJiBub2RlUHJlZml4IT1cIlwiKSB7XHJcblx0XHRcdFx0cmVzdWx0Ll9fY250Kys7XHJcblx0XHRcdFx0cmVzdWx0Ll9fcHJlZml4PW5vZGVQcmVmaXg7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdGlmKCByZXN1bHQuX19jbnQgPT0gMSAmJiByZXN1bHRbXCIjdGV4dFwiXSE9bnVsbCAgKSB7XHJcblx0XHRcdFx0cmVzdWx0ID0gcmVzdWx0W1wiI3RleHRcIl07XHJcblx0XHRcdH0gXHJcblx0XHRcdFxyXG5cdFx0XHRpZihyZXN1bHRbXCIjdGV4dFwiXSE9bnVsbCkge1xyXG5cdFx0XHRcdHJlc3VsdC5fX3RleHQgPSByZXN1bHRbXCIjdGV4dFwiXTtcclxuXHRcdFx0XHRpZihlc2NhcGVNb2RlKVxyXG5cdFx0XHRcdFx0cmVzdWx0Ll9fdGV4dCA9IHVuZXNjYXBlWG1sQ2hhcnMocmVzdWx0Ll9fdGV4dClcclxuXHRcdFx0XHRkZWxldGUgcmVzdWx0W1wiI3RleHRcIl07XHJcblx0XHRcdFx0ZGVsZXRlIHJlc3VsdFtcIiN0ZXh0X2FzQXJyYXlcIl07XHJcblx0XHRcdH1cclxuXHRcdFx0aWYocmVzdWx0W1wiI2NkYXRhLXNlY3Rpb25cIl0hPW51bGwpIHtcclxuXHRcdFx0XHRyZXN1bHQuX19jZGF0YSA9IHJlc3VsdFtcIiNjZGF0YS1zZWN0aW9uXCJdO1xyXG5cdFx0XHRcdGRlbGV0ZSByZXN1bHRbXCIjY2RhdGEtc2VjdGlvblwiXTtcclxuXHRcdFx0XHRkZWxldGUgcmVzdWx0W1wiI2NkYXRhLXNlY3Rpb25fYXNBcnJheVwiXTtcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0aWYocmVzdWx0Ll9fdGV4dCE9bnVsbCB8fCByZXN1bHQuX19jZGF0YSE9bnVsbCkge1xyXG5cdFx0XHRcdHJlc3VsdC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuICh0aGlzLl9fdGV4dCE9bnVsbD8gdGhpcy5fX3RleHQ6JycpKyggdGhpcy5fX2NkYXRhIT1udWxsID8gdGhpcy5fX2NkYXRhOicnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH1cclxuXHRcdGVsc2VcclxuXHRcdGlmKG5vZGUubm9kZVR5cGUgPT0gRE9NTm9kZVR5cGVzLlRFWFRfTk9ERSB8fCBub2RlLm5vZGVUeXBlID09IERPTU5vZGVUeXBlcy5DREFUQV9TRUNUSU9OX05PREUpIHtcclxuXHRcdFx0cmV0dXJuIG5vZGUubm9kZVZhbHVlO1xyXG5cdFx0fVx0XHJcblx0XHRlbHNlXHJcblx0XHRpZihub2RlLm5vZGVUeXBlID09IERPTU5vZGVUeXBlcy5DT01NRU5UX05PREUpIHtcclxuXHRcdCAgICByZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gc3RhcnRUYWcoanNvbk9iaiwgZWxlbWVudCwgYXR0ckxpc3QsIGNsb3NlZCkge1xyXG5cdFx0dmFyIHJlc3VsdFN0ciA9IFwiPFwiKyAoIChqc29uT2JqIT1udWxsICYmIGpzb25PYmouX19wcmVmaXghPW51bGwpPyAoanNvbk9iai5fX3ByZWZpeCtcIjpcIik6XCJcIikgKyBlbGVtZW50O1xyXG5cdFx0aWYoYXR0ckxpc3QhPW51bGwpIHtcclxuXHRcdFx0Zm9yKHZhciBhaWR4ID0gMDsgYWlkeCA8IGF0dHJMaXN0Lmxlbmd0aDsgYWlkeCsrKSB7XHJcblx0XHRcdFx0dmFyIGF0dHJOYW1lID0gYXR0ckxpc3RbYWlkeF07XHJcblx0XHRcdFx0dmFyIGF0dHJWYWwgPSBqc29uT2JqW2F0dHJOYW1lXTtcclxuXHRcdFx0XHRyZXN1bHRTdHIrPVwiIFwiK2F0dHJOYW1lLnN1YnN0cigxKStcIj0nXCIrYXR0clZhbCtcIidcIjtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0aWYoIWNsb3NlZClcclxuXHRcdFx0cmVzdWx0U3RyKz1cIj5cIjtcclxuXHRcdGVsc2VcclxuXHRcdFx0cmVzdWx0U3RyKz1cIi8+XCI7XHJcblx0XHRyZXR1cm4gcmVzdWx0U3RyO1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBlbmRUYWcoanNvbk9iaixlbGVtZW50TmFtZSkge1xyXG5cdFx0cmV0dXJuIFwiPC9cIisgKGpzb25PYmouX19wcmVmaXghPW51bGw/IChqc29uT2JqLl9fcHJlZml4K1wiOlwiKTpcIlwiKStlbGVtZW50TmFtZStcIj5cIjtcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gZW5kc1dpdGgoc3RyLCBzdWZmaXgpIHtcclxuXHQgICAgcmV0dXJuIHN0ci5pbmRleE9mKHN1ZmZpeCwgc3RyLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGgpICE9PSAtMTtcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24ganNvblhtbFNwZWNpYWxFbGVtICgganNvbk9iaiwganNvbk9iakZpZWxkICkge1xyXG5cdFx0aWYoZW5kc1dpdGgoanNvbk9iakZpZWxkLnRvU3RyaW5nKCksKFwiX2FzQXJyYXlcIikpIFxyXG5cdFx0XHRcdHx8IGpzb25PYmpGaWVsZC50b1N0cmluZygpLmluZGV4T2YoXCJfXCIpPT0wIFxyXG5cdFx0XHRcdHx8IChqc29uT2JqW2pzb25PYmpGaWVsZF0gaW5zdGFuY2VvZiBGdW5jdGlvbikgKVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdGVsc2VcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBqc29uWG1sRWxlbUNvdW50ICgganNvbk9iaiApIHtcclxuXHRcdHZhciBlbGVtZW50c0NudCA9IDA7XHJcblx0XHRpZihqc29uT2JqIGluc3RhbmNlb2YgT2JqZWN0ICkge1xyXG5cdFx0XHRmb3IoIHZhciBpdCBpbiBqc29uT2JqICApIHtcclxuXHRcdFx0XHRpZihqc29uWG1sU3BlY2lhbEVsZW0gKCBqc29uT2JqLCBpdCkgKVxyXG5cdFx0XHRcdFx0Y29udGludWU7XHRcdFx0XHJcblx0XHRcdFx0ZWxlbWVudHNDbnQrKztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGVsZW1lbnRzQ250O1xyXG5cdH1cclxuXHRcclxuXHRmdW5jdGlvbiBwYXJzZUpTT05BdHRyaWJ1dGVzICgganNvbk9iaiApIHtcclxuXHRcdHZhciBhdHRyTGlzdCA9IFtdO1xyXG5cdFx0aWYoanNvbk9iaiBpbnN0YW5jZW9mIE9iamVjdCApIHtcclxuXHRcdFx0Zm9yKCB2YXIgYWl0IGluIGpzb25PYmogICkge1xyXG5cdFx0XHRcdGlmKGFpdC50b1N0cmluZygpLmluZGV4T2YoXCJfX1wiKT09IC0xICYmIGFpdC50b1N0cmluZygpLmluZGV4T2YoXCJfXCIpPT0wKSB7XHJcblx0XHRcdFx0XHRhdHRyTGlzdC5wdXNoKGFpdCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gYXR0ckxpc3Q7XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIHBhcnNlSlNPTlRleHRBdHRycyAoIGpzb25UeHRPYmogKSB7XHJcblx0XHR2YXIgcmVzdWx0ID1cIlwiO1xyXG5cdFx0XHJcblx0XHRpZihqc29uVHh0T2JqLl9fY2RhdGEhPW51bGwpIHtcdFx0XHRcdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRyZXN1bHQrPVwiPCFbQ0RBVEFbXCIranNvblR4dE9iai5fX2NkYXRhK1wiXV0+XCI7XHRcdFx0XHRcdFxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRpZihqc29uVHh0T2JqLl9fdGV4dCE9bnVsbCkge1x0XHRcdFxyXG5cdFx0XHRpZihlc2NhcGVNb2RlKVxyXG5cdFx0XHRcdHJlc3VsdCs9ZXNjYXBlWG1sQ2hhcnMoanNvblR4dE9iai5fX3RleHQpO1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0cmVzdWx0Kz1qc29uVHh0T2JqLl9fdGV4dDtcclxuXHRcdH1cclxuXHRcdHJldHVybiByZXN1bHRcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gcGFyc2VKU09OVGV4dE9iamVjdCAoIGpzb25UeHRPYmogKSB7XHJcblx0XHR2YXIgcmVzdWx0ID1cIlwiO1xyXG5cclxuXHRcdGlmKCBqc29uVHh0T2JqIGluc3RhbmNlb2YgT2JqZWN0ICkge1xyXG5cdFx0XHRyZXN1bHQrPXBhcnNlSlNPTlRleHRBdHRycyAoIGpzb25UeHRPYmogKVxyXG5cdFx0fVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRpZihqc29uVHh0T2JqIT1udWxsKSB7XHJcblx0XHRcdFx0aWYoZXNjYXBlTW9kZSlcclxuXHRcdFx0XHRcdHJlc3VsdCs9ZXNjYXBlWG1sQ2hhcnMoanNvblR4dE9iaik7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0cmVzdWx0Kz1qc29uVHh0T2JqO1xyXG5cdFx0XHR9XHJcblx0XHRcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cdFxyXG5cdGZ1bmN0aW9uIHBhcnNlSlNPTkFycmF5ICgganNvbkFyclJvb3QsIGpzb25BcnJPYmosIGF0dHJMaXN0ICkge1xyXG5cdFx0dmFyIHJlc3VsdCA9IFwiXCI7IFxyXG5cdFx0aWYoanNvbkFyclJvb3QubGVuZ3RoID09IDApIHtcclxuXHRcdFx0cmVzdWx0Kz1zdGFydFRhZyhqc29uQXJyUm9vdCwganNvbkFyck9iaiwgYXR0ckxpc3QsIHRydWUpO1xyXG5cdFx0fVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdGZvcih2YXIgYXJJZHggPSAwOyBhcklkeCA8IGpzb25BcnJSb290Lmxlbmd0aDsgYXJJZHgrKykge1xyXG5cdFx0XHRcdHJlc3VsdCs9c3RhcnRUYWcoanNvbkFyclJvb3RbYXJJZHhdLCBqc29uQXJyT2JqLCBwYXJzZUpTT05BdHRyaWJ1dGVzKGpzb25BcnJSb290W2FySWR4XSksIGZhbHNlKTtcclxuXHRcdFx0XHRyZXN1bHQrPXBhcnNlSlNPTk9iamVjdChqc29uQXJyUm9vdFthcklkeF0pO1xyXG5cdFx0XHRcdHJlc3VsdCs9ZW5kVGFnKGpzb25BcnJSb290W2FySWR4XSxqc29uQXJyT2JqKTtcdFx0XHRcdFx0XHRcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblx0XHJcblx0ZnVuY3Rpb24gcGFyc2VKU09OT2JqZWN0ICgganNvbk9iaiApIHtcclxuXHRcdHZhciByZXN1bHQgPSBcIlwiO1x0XHJcblxyXG5cdFx0dmFyIGVsZW1lbnRzQ250ID0ganNvblhtbEVsZW1Db3VudCAoIGpzb25PYmogKTtcclxuXHRcdFxyXG5cdFx0aWYoZWxlbWVudHNDbnQgPiAwKSB7XHJcblx0XHRcdGZvciggdmFyIGl0IGluIGpzb25PYmogKSB7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0aWYoanNvblhtbFNwZWNpYWxFbGVtICgganNvbk9iaiwgaXQpIClcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1x0XHRcdFxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHZhciBzdWJPYmogPSBqc29uT2JqW2l0XTtcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcclxuXHRcdFx0XHR2YXIgYXR0ckxpc3QgPSBwYXJzZUpTT05BdHRyaWJ1dGVzKCBzdWJPYmogKVxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdGlmKHN1Yk9iaiA9PSBudWxsIHx8IHN1Yk9iaiA9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdHJlc3VsdCs9c3RhcnRUYWcoc3ViT2JqLCBpdCwgYXR0ckxpc3QsIHRydWUpXHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRpZihzdWJPYmogaW5zdGFuY2VvZiBPYmplY3QpIHtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0aWYoc3ViT2JqIGluc3RhbmNlb2YgQXJyYXkpIHtcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdHJlc3VsdCs9cGFyc2VKU09OQXJyYXkoIHN1Yk9iaiwgaXQsIGF0dHJMaXN0IClcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0dmFyIHN1Yk9iakVsZW1lbnRzQ250ID0ganNvblhtbEVsZW1Db3VudCAoIHN1Yk9iaiApO1xyXG5cdFx0XHRcdFx0XHRpZihzdWJPYmpFbGVtZW50c0NudCA+IDAgfHwgc3ViT2JqLl9fdGV4dCE9bnVsbCB8fCBzdWJPYmouX19jZGF0YSE9bnVsbCkge1xyXG5cdFx0XHRcdFx0XHRcdHJlc3VsdCs9c3RhcnRUYWcoc3ViT2JqLCBpdCwgYXR0ckxpc3QsIGZhbHNlKTtcclxuXHRcdFx0XHRcdFx0XHRyZXN1bHQrPXBhcnNlSlNPTk9iamVjdChzdWJPYmopO1xyXG5cdFx0XHRcdFx0XHRcdHJlc3VsdCs9ZW5kVGFnKHN1Yk9iaixpdCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0cmVzdWx0Kz1zdGFydFRhZyhzdWJPYmosIGl0LCBhdHRyTGlzdCwgdHJ1ZSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRyZXN1bHQrPXN0YXJ0VGFnKHN1Yk9iaiwgaXQsIGF0dHJMaXN0LCBmYWxzZSk7XHJcblx0XHRcdFx0XHRyZXN1bHQrPXBhcnNlSlNPTlRleHRPYmplY3Qoc3ViT2JqKTtcclxuXHRcdFx0XHRcdHJlc3VsdCs9ZW5kVGFnKHN1Yk9iaixpdCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXN1bHQrPXBhcnNlSlNPTlRleHRPYmplY3QoanNvbk9iaik7XHJcblx0XHRcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cdFxyXG5cdHRoaXMucGFyc2VYbWxTdHJpbmcgPSBmdW5jdGlvbih4bWxEb2NTdHIpIHtcclxuXHRcdHZhciB4bWxEb2MsXHJcblx0XHRcdHBhcnNlcixcclxuXHRcdFx0bnM7XHJcblxyXG5cdFx0aWYgKHdpbmRvdy5ET01QYXJzZXIpIHtcclxuXHRcdFx0cGFyc2VyID0gbmV3IHdpbmRvdy5ET01QYXJzZXIoKTtcclxuXHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0bnMgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKCc8JywgJ3RleHQveG1sJykuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwYXJzZXJlcnJvclwiKVswXS5uYW1lc3BhY2VVUkk7XHJcblx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHQvLyBJRTExIHdpbGwgZGVmaW5pdGVseSB0aHJvdyBTeW50YXhFcnJvciBoZXJlXHJcblx0XHRcdFx0Ly8gbnMgd2lsbCBiZSB1bmRlZmluZWRcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHR4bWxEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKCB4bWxEb2NTdHIsIFwidGV4dC94bWxcIiApO1xyXG5cclxuXHRcdFx0XHRpZiAobnMpIHtcclxuXHRcdFx0XHRcdGlmKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKG5zLCAncGFyc2VyZXJyb3InKS5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0eG1sRG9jID0gdW5kZWZpbmVkO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdC8vIElFMTEgbWF5IHRocm93IFN5bnRheEVycm9yIGhlcmUgaWYgeG1sRG9jU3RyIGlzXHJcblx0XHRcdFx0Ly8gbm90IHdlbGwgZm9ybWVkLiB4bWxEb2Mgd2lsbCBiZSB1bmRlZmluZWRcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0ZWxzZSB7XHJcblx0XHRcdC8vIElFIDooXHJcblx0XHRcdGlmKHhtbERvY1N0ci5pbmRleE9mKFwiPD9cIik9PTApIHtcclxuXHRcdFx0XHR4bWxEb2NTdHIgPSB4bWxEb2NTdHIuc3Vic3RyKCB4bWxEb2NTdHIuaW5kZXhPZihcIj8+XCIpICsgMiApO1xyXG5cdFx0XHR9XHJcblx0XHRcdHhtbERvYz1uZXcgQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxET01cIik7XHJcblx0XHRcdHhtbERvYy5hc3luYz1cImZhbHNlXCI7XHJcblx0XHRcdHhtbERvYy5sb2FkWE1MKHhtbERvY1N0cik7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4geG1sRG9jO1xyXG5cdH1cclxuXHJcblx0dGhpcy54bWwyanNvbiA9IGZ1bmN0aW9uICh4bWxEb2MpIHtcclxuXHRcdHJldHVybiBwYXJzZURPTUNoaWxkcmVuICggeG1sRG9jICk7XHJcblx0fVxyXG5cdFxyXG5cdHRoaXMueG1sX3N0cjJqc29uID0gZnVuY3Rpb24gKHhtbERvY1N0cikge1xyXG5cdFx0dmFyIHhtbERvYyA9IHRoaXMucGFyc2VYbWxTdHJpbmcoeG1sRG9jU3RyKTtcdFxyXG5cdFx0cmV0dXJuIHhtbERvYyA/IHRoaXMueG1sMmpzb24oeG1sRG9jKSA6IHVuZGVmaW5lZDtcclxuXHR9XHJcblxyXG5cdHRoaXMuanNvbjJ4bWxfc3RyID0gZnVuY3Rpb24gKGpzb25PYmopIHtcclxuXHRcdHJldHVybiBwYXJzZUpTT05PYmplY3QgKCBqc29uT2JqICk7XHJcblx0fVxyXG5cclxuXHR0aGlzLmpzb24yeG1sID0gZnVuY3Rpb24gKGpzb25PYmopIHtcclxuXHRcdHZhciB4bWxEb2NTdHIgPSB0aGlzLmpzb24yeG1sX3N0ciAoanNvbk9iaik7XHJcblx0XHRyZXR1cm4gdGhpcy5wYXJzZVhtbFN0cmluZyh4bWxEb2NTdHIpO1xyXG5cdH1cclxuXHRcclxuXHR0aGlzLmdldFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gVkVSU0lPTjtcclxuXHR9XHRcdFxyXG5cdFxyXG5cdHRoaXMuZXNjYXBlTW9kZSA9IGZ1bmN0aW9uKGVuYWJsZWQpIHtcclxuXHRcdGVzY2FwZU1vZGUgPSBlbmFibGVkO1xyXG5cdH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBYMkpTOyIsIu+7v2ltcG9ydCBGYWN0b3J5TWFrZXIgZnJvbSAnLi9jb3JlL0ZhY3RvcnlNYWtlcic7XHJcbmltcG9ydCBFdmVudEJ1cyBmcm9tICcuL2NvcmUvRXZlbnRCdXMnO1xyXG5cclxuaW1wb3J0IGNvbW1vblV0aWwgZnJvbSAnLi91dGlscy9jb21tb25fdXRpbHMnO1xyXG5cclxuXHJcbnZhciBDdWUgPSB3aW5kb3cuVlRUQ3VlIHx8IHdpbmRvdy5UZXh0VHJhY2tDdWU7XHJcblxyXG52YXIgVGV4dEVuZ2luZSA9IGZ1bmN0aW9uIChtZWRpYSkge1xyXG4gICAgdGhpcy5tZWRpYSA9IG1lZGlhO1xyXG59O1xyXG5cclxuVGV4dEVuZ2luZS5wcm90b3R5cGUuY2xlYXJDdXJyZW50Q3VlcyA9IGZ1bmN0aW9uICh0cmFjaykge1xyXG4gICAgaWYgKHRyYWNrICYmIHRyYWNrLmN1ZXMpIHtcclxuICAgICAgICB3aGlsZSAodHJhY2suY3Vlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHRyYWNrLnJlbW92ZUN1ZSh0cmFjay5jdWVzWzBdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG5UZXh0RW5naW5lLnByb3RvdHlwZS5hZGRUZXh0VHJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBtZXRob2QxXHJcbiAgICAvLyBsZXQgdGV4dFRyYWNrID0gbWVkaWEuYWRkVGV4dFRyYWNrKCdzdWJ0aXRsZXMnLCAnRW5nbGlzaCcsICdlbmcnKTtcclxuICAgIC8vIHRleHRUcmFjay5teUlkID0gJ3Rlc3QxJztcclxuICAgIC8vIHRleHRUcmFjay5tb2RlID0gJ3Nob3dpbmcnO1xyXG4gICAgLy8gbWV0aG9kMlxyXG4gICAgbGV0IHRleHRUcmFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyYWNrJyk7XHJcbiAgICB0ZXh0VHJhY2suaWQgPSAndGVzdDEnO1xyXG4gICAgdGV4dFRyYWNrLmtpbmQgPSAnc3VidGl0bGUnO1xyXG4gICAgdGV4dFRyYWNrLmxhYmVsID0gJ0VuZ2xpc2gnO1xyXG4gICAgdGV4dFRyYWNrLnNyY2xhbmcgPSAnZW5nJztcclxuICAgIG1lZGlhLmFwcGVuZENoaWxkKHRleHRUcmFjayk7XHJcbiAgICB0ZXh0VHJhY2sgPSBtZWRpYS50ZXh0VHJhY2tzWzBdO1xyXG4gICAgdGV4dFRyYWNrLm1vZGUgPSAnc2hvd2luZyc7XHJcblxyXG4gICAgLy8gQkRcclxuICAgIGNvbnNvbGUubG9nKCdiZWdpbiBhZGQgZmlyc3QgY3VlJyk7XHJcbiAgICBsZXQgY3VlID0gbmV3IEN1ZSgxMCwgMTUsICdUaGlzIGlzIGEgcGxhY2Vob2xkZXIgdGV4dCcpO1xyXG4gICAgdGV4dFRyYWNrLmFkZEN1ZShjdWUpO1xyXG4gICAgY29uc29sZS5sb2coJ2FmdGVyIGFkZCBmaXJzdCBjdWUnKTtcclxuXHJcbiAgICB0aGlzLmNsZWFyQ3VycmVudEN1ZXModGV4dFRyYWNrKTtcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ2JlZ2luIGFkZCBzZWNvbmQgY3VlJyk7XHJcbiAgICBsZXQgY3VlMSA9IG5ldyBDdWUoMCwgMTIsICdUaGlzIGlzIGEgcGxhY2Vob2xkZXIgdGV4dDEnKTtcclxuICAgIHRleHRUcmFjay5hZGRDdWUoY3VlMSk7XHJcbiAgICBjb25zb2xlLmxvZygnYWZ0ZXIgYWRkIHNlY29uZCBjdWUnKTtcclxuXHJcbiAgICBsZXQgYT0yO1xyXG4gICAgbGV0IGI9YTtcclxuICAgIC8vIEVEXHJcblxyXG4gICAgcmV0dXJuO1xyXG5cclxuICAgIC8vXHJcbiAgICAvLyBsZXQgY3VlID0gbmV3IEN1ZSgwLCAxMDAsICdUaGlzIGlzIGEgcGxhY2Vob2xkZXIgdGV4dCcpO1xyXG4gICAgLy8gdGV4dFRyYWNrLmFkZEN1ZShjdWUpO1xyXG5cclxuICAgIC8vZm9yIChsZXQgaSA9IDA7IGkgPD0gMTA7IGkgKyspIHtcclxuICAgIC8vICBsZXQgY3VlID0gbmV3IEN1ZShpLCBpKzEsICdjdXJyZW50IHRpbWU6ICcgKyBpLnRvU3RyaW5nKCkpO1xyXG4gICAgICBcclxuICAgIC8vLy8gdGVzdDFcclxuICAgIC8vbGV0IG4gPSA1O1xyXG4gICAgLy9pZiAoaSAlIG4gPT0gMCkge1xyXG4gICAgLy8gIGN1ZS5hbGlnbiA9IFwic3RhcnRcIjsgXHJcbiAgICAvL30gZWxzZSBpZiAoaSAlIG4gPT0gMSkge1xyXG4gICAgLy8gIGN1ZS5hbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICAvL30gZWxzZSBpZiAoaSAlIG4gPT0gMikge1xyXG4gICAgLy8gIGN1ZS5hbGlnbiA9IFwiZW5kXCI7XHJcbiAgICAvL30gZWxzZSBpZiAoaSAlIG4gPT0gMykge1xyXG4gICAgLy8gIGN1ZS5hbGlnbiA9IFwibGVmdFwiO1xyXG4gICAgLy99IGVsc2UgaWYgKGkgJSBuID09IDQpIHtcclxuICAgIC8vICBjdWUuYWxpZ24gPSBcInJpZ2h0XCI7XHJcbiAgICAvL31cclxuXHJcblxyXG4gICAgLy8gdGVzdDIsIHRleHTlnKjlk6rkuIDooYxcclxuICAgIC8vY3VlLmxpbmVBbGlnbiA9IFwic3RhcnRcIjtcclxuICAgIC8vY3VlLmxpbmUgPSBpO1xyXG5cclxuICAgIC8vIHRlc3QzXHJcbiAgICAvL2N1ZS5wb3NpdGlvbkFsaWduID0gXCJzdGFydFwiO1xyXG4gICAgLy9jdWUucG9zaXRpb24gPSBpKjEwO1xyXG5cclxuICAgIC8vIGNocm9tZVxyXG4gICAgLy9jdWUuYWxpZ24gPSBcInN0YXJ0XCI7XHJcbiAgICAvL2N1ZS5saW5lID0gMDtcclxuICAgIC8vY3VlLmxpbmVBbGlnbiA9IFwic3RhcnRcIjtcclxuICAgIC8vY3VlLnBvc2l0aW9uID0gXCJhdXRvXCI7XHJcbiAgICAvL2N1ZS5zaXplID0gMTAwO1xyXG4gICAgLy9jdWUuc25hcFRvTGluZXMgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBmaXJlZm94NDdcclxuICAgIC8vY3VlLmFsaWduID0gXCJzdGFydFwiO1xyXG4gICAgLy9jdWUubGluZSA9IDA7XHJcbiAgICAvL2N1ZS5saW5lQWxpZ24gPSBcInN0YXJ0XCI7XHJcbiAgICAvL2N1ZS5wb3NpdGlvbiA9IDEwO1xyXG4gICAgLy9jdWUucG9zaXRpb25BbGlnbiA9IFwiZW5kXCI7XHJcbiAgICAvL2N1ZS5zaXplID0gMTAwO1xyXG4gICAgLy9jdWUuc25hcFRvTGluZXMgPSBmYWxzZTtcclxuXHJcbiAgICAvLyBmaXJlZm94NTNcclxuICAgIC8vY3VlLnBvc2l0aW9uID0gJ2F1dG8nO1xyXG4gICAgLy9jdWUucG9zaXRpb25BbGlnbiA9ICdjZW50ZXInO1xyXG5cclxuICAgIC8vICB0ZXh0VHJhY2suYWRkQ3VlKGN1ZSk7XHJcbiAgICAvL31cclxufTtcclxuXHJcblRleHRFbmdpbmUucHJvdG90eXBlLnNldFRleHRUcmFja0hpZGRlbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IGluVXNlVHJhY2tzID0gbWVkaWEgPyBtZWRpYS50ZXh0VHJhY2tzIDogW107XHJcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgaW5Vc2VUcmFja3MubGVuZ3RoOyBpICsrKSB7XHJcbiAgICAgICAgbGV0IHRyYWNrID0gaW5Vc2VUcmFja3NbaV07XHJcbiAgICAgICAgLy8gVHJhY2sgbW9kZSB3YXMgZGVmaW5lZCBieSBodG1sIHRleHRUcmFjayBlbGVtZW50LlxyXG4gICAgICAgIHRyYWNrLm1vZGUgPSAnaGlkZGVuJztcclxuICAgIH1cclxufTtcclxuXHJcblRleHRFbmdpbmUucHJvdG90eXBlLnNldEN1ZUFsaWduID0gZnVuY3Rpb24gKGFsaWduKSB7XHJcbiAgICBsZXQgdGV4dFRyYWNrID0gbWVkaWEudGV4dFRyYWNrc1swXTtcclxuXHJcbiAgICBmb3IgKGxldCBpPTA7IGkgPCB0ZXh0VHJhY2suY3Vlcy5sZW5ndGg7IGkgKyspIHtcclxuICAgICAgICBsZXQgY3VlID0gdGV4dFRyYWNrLmN1ZXNbaV07XHJcbiAgICAgICAgY3VlLmFsaWduID0gYWxpZ247XHJcbiAgICB9XHJcbn07XHJcblxyXG5UZXh0RW5naW5lLnByb3RvdHlwZS5zZXRDdWVMaW5lID0gZnVuY3Rpb24gKGxpbmUpIHtcclxuICAgIGxldCB0ZXh0VHJhY2sgPSBtZWRpYS50ZXh0VHJhY2tzWzBdO1xyXG5cclxuICAgIGZvciAobGV0IGk9MDsgaSA8IHRleHRUcmFjay5jdWVzLmxlbmd0aDsgaSArKykge1xyXG4gICAgICAgIGxldCBjdWUgPSB0ZXh0VHJhY2suY3Vlc1tpXTtcclxuICAgICAgICBjdWUubGluZSA9IGxpbmU7XHJcbiAgICB9XHJcbn07XHJcblxyXG5UZXh0RW5naW5lLnByb3RvdHlwZS5zZXRDdWVMaW5lQWxpZ24gPSBmdW5jdGlvbiAobGluZUFsaWduKSB7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUZXh0RW5naW5lO1xyXG5cclxuLy8vL1xyXG4vL2Z1bmN0aW9uIFRleHRFbmdpbmUoKVxyXG4vL3tcclxuLy8gIGxldCBpbnN0YW5jZTtcclxuLy8gIGxldCBtZWRpYTtcclxuICBcclxuLy8gIGZ1bmN0aW9uIHNldHVwKCkge1xyXG4vLyAgICBtZWRpYSA9IG51bGw7XHJcbi8vICB9XHJcblxyXG4vLyAgZnVuY3Rpb24gc2V0TWVkaWEocGFyYW1fbWVkaWEpIHtcclxuLy8gICAgbWVkaWEgPSBwYXJhbV9tZWRpYTtcclxuLy8gIH1cclxuXHJcbi8vZnVuY3Rpb24gY2xlYXJDdXJyZW50Q3Vlcyh0cmFjaykge1xyXG4vLyAgaWYgKHRyYWNrICYmIHRyYWNrLmN1ZXMpIHtcclxuLy8gICAgd2hpbGUgKHRyYWNrLmN1ZXMubGVuZ3RoID4gMCkge1xyXG4vLyAgICAgIHRyYWNrLnJlbW92ZUN1ZSh0cmFjay5jdWVzWzBdKTtcclxuLy8gICAgfVxyXG4vLyAgfVxyXG4vL31cclxuXHJcbi8vICBmdW5jdGlvbiBhZGRUZXh0VHJhY2soKSB7XHJcbi8vICAgIC8vIG1ldGhvZDFcclxuLy8gICAgbGV0IHRleHRUcmFjayA9IG1lZGlhLmFkZFRleHRUcmFjaygnc3VidGl0bGVzJywgJ0VuZ2xpc2gnLCAnZW5nJyk7XHJcbi8vICAgIHRleHRUcmFjay5tb2RlID0gJ3Nob3dpbmcnO1xyXG4vLyAgICAvLy8vIG1ldGhvZDJcclxuLy8gICAgLy9sZXQgdGV4dFRyYWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHJhY2snKTtcclxuLy8gICAgLy90ZXh0VHJhY2sua2luZCA9ICdzdWJ0aXRsZSc7XHJcbi8vICAgIC8vdGV4dFRyYWNrLmxhYmVsID0gJ0VuZ2xpc2gnO1xyXG4vLyAgICAvL3RleHRUcmFjay5zcmNsYW5nID0gJ2VuZyc7XHJcbi8vICAgIC8vbWVkaWEuYXBwZW5kQ2hpbGQodGV4dFRyYWNrKTtcclxuXHJcbi8vICAgIC8vdGV4dFRyYWNrID0gbWVkaWEudGV4dFRyYWNrc1swXTtcclxuLy8gICAgLy90ZXh0VHJhY2subW9kZSA9ICdzaG93aW5nJztcclxuXHJcbi8vICAgIC8vIEJEXHJcbi8vICAgIGNvbnNvbGUubG9nKCdiZWdpbiBhZGQgZmlyc3QgY3VlJyk7XHJcbi8vICAgIGxldCBjdWUgPSBuZXcgQ3VlKDEwLCAxNSwgJ1RoaXMgaXMgYSBwbGFjZWhvbGRlciB0ZXh0Jyk7XHJcbi8vICAgIHRleHRUcmFjay5hZGRDdWUoY3VlKTtcclxuLy8gICAgY29uc29sZS5sb2coJ2FmdGVyIGFkZCBmaXJzdCBjdWUnKTtcclxuXHJcbi8vICAgIGNsZWFyQ3VycmVudEN1ZXModGV4dFRyYWNrKTtcclxuICAgIFxyXG4vLyAgICBjb25zb2xlLmxvZygnYmVnaW4gYWRkIHNlY29uZCBjdWUnKTtcclxuLy8gICAgbGV0IGN1ZTEgPSBuZXcgQ3VlKDAsIDEyLCAnVGhpcyBpcyBhIHBsYWNlaG9sZGVyIHRleHQxJyk7XHJcbi8vICAgIHRleHRUcmFjay5hZGRDdWUoY3VlMSk7XHJcbi8vICAgIGNvbnNvbGUubG9nKCdhZnRlciBhZGQgc2Vjb25kIGN1ZScpO1xyXG5cclxuLy8gICAgbGV0IGE9MjtcclxuLy8gICAgbGV0IGI9YTtcclxuLy8gICAgLy8gRURcclxuXHJcbi8vICAgIHJldHVybjtcclxuXHJcbi8vICAgIC8vXHJcbi8vICAgIC8vIGxldCBjdWUgPSBuZXcgQ3VlKDAsIDEwMCwgJ1RoaXMgaXMgYSBwbGFjZWhvbGRlciB0ZXh0Jyk7XHJcbi8vICAgIC8vIHRleHRUcmFjay5hZGRDdWUoY3VlKTtcclxuXHJcbi8vICAgIC8vZm9yIChsZXQgaSA9IDA7IGkgPD0gMTA7IGkgKyspIHtcclxuLy8gICAgLy8gIGxldCBjdWUgPSBuZXcgQ3VlKGksIGkrMSwgJ2N1cnJlbnQgdGltZTogJyArIGkudG9TdHJpbmcoKSk7XHJcbiAgICAgIFxyXG4vLyAgICAgIC8vLy8gdGVzdDFcclxuLy8gICAgICAvL2xldCBuID0gNTtcclxuLy8gICAgICAvL2lmIChpICUgbiA9PSAwKSB7XHJcbi8vICAgICAgLy8gIGN1ZS5hbGlnbiA9IFwic3RhcnRcIjsgXHJcbi8vICAgICAgLy99IGVsc2UgaWYgKGkgJSBuID09IDEpIHtcclxuLy8gICAgICAvLyAgY3VlLmFsaWduID0gXCJjZW50ZXJcIjtcclxuLy8gICAgICAvL30gZWxzZSBpZiAoaSAlIG4gPT0gMikge1xyXG4vLyAgICAgIC8vICBjdWUuYWxpZ24gPSBcImVuZFwiO1xyXG4vLyAgICAgIC8vfSBlbHNlIGlmIChpICUgbiA9PSAzKSB7XHJcbi8vICAgICAgLy8gIGN1ZS5hbGlnbiA9IFwibGVmdFwiO1xyXG4vLyAgICAgIC8vfSBlbHNlIGlmIChpICUgbiA9PSA0KSB7XHJcbi8vICAgICAgLy8gIGN1ZS5hbGlnbiA9IFwicmlnaHRcIjtcclxuLy8gICAgICAvL31cclxuXHJcblxyXG4vLyAgICAgIC8vIHRlc3QyLCB0ZXh05Zyo5ZOq5LiA6KGMXHJcbi8vICAgICAgLy9jdWUubGluZUFsaWduID0gXCJzdGFydFwiO1xyXG4vLyAgICAgIC8vY3VlLmxpbmUgPSBpO1xyXG5cclxuLy8gICAgICAvLyB0ZXN0M1xyXG4vLyAgICAgIC8vY3VlLnBvc2l0aW9uQWxpZ24gPSBcInN0YXJ0XCI7XHJcbi8vICAgICAgLy9jdWUucG9zaXRpb24gPSBpKjEwO1xyXG5cclxuLy8gICAgICAvLyBjaHJvbWVcclxuLy8gICAgICAvL2N1ZS5hbGlnbiA9IFwic3RhcnRcIjtcclxuLy8gICAgICAvL2N1ZS5saW5lID0gMDtcclxuLy8gICAgICAvL2N1ZS5saW5lQWxpZ24gPSBcInN0YXJ0XCI7XHJcbi8vICAgICAgLy9jdWUucG9zaXRpb24gPSBcImF1dG9cIjtcclxuLy8gICAgICAvL2N1ZS5zaXplID0gMTAwO1xyXG4vLyAgICAgIC8vY3VlLnNuYXBUb0xpbmVzID0gZmFsc2U7XHJcblxyXG4vLyAgICAgIC8vIGZpcmVmb3g0N1xyXG4vLyAgICAgIC8vY3VlLmFsaWduID0gXCJzdGFydFwiO1xyXG4vLyAgICAgIC8vY3VlLmxpbmUgPSAwO1xyXG4vLyAgICAgIC8vY3VlLmxpbmVBbGlnbiA9IFwic3RhcnRcIjtcclxuLy8gICAgICAvL2N1ZS5wb3NpdGlvbiA9IDEwO1xyXG4vLyAgICAgIC8vY3VlLnBvc2l0aW9uQWxpZ24gPSBcImVuZFwiO1xyXG4vLyAgICAgIC8vY3VlLnNpemUgPSAxMDA7XHJcbi8vICAgICAgLy9jdWUuc25hcFRvTGluZXMgPSBmYWxzZTtcclxuXHJcbi8vICAgICAgLy8gZmlyZWZveDUzXHJcbi8vICAgICAgLy9jdWUucG9zaXRpb24gPSAnYXV0byc7XHJcbi8vICAgICAgLy9jdWUucG9zaXRpb25BbGlnbiA9ICdjZW50ZXInO1xyXG5cclxuLy8gICAgLy8gIHRleHRUcmFjay5hZGRDdWUoY3VlKTtcclxuLy8gICAgLy99XHJcbi8vICB9XHJcblxyXG4vLyAgZnVuY3Rpb24gc2V0VGV4dFRyYWNrSGlkZGVuKCkge1xyXG4vLyAgICBjb25zdCBpblVzZVRyYWNrcyA9IG1lZGlhID8gbWVkaWEudGV4dFRyYWNrcyA6IFtdO1xyXG4vLyAgICBmb3IobGV0IGkgPSAwOyBpIDwgaW5Vc2VUcmFja3MubGVuZ3RoOyBpICsrKSB7XHJcbi8vICAgICAgbGV0IHRyYWNrID0gaW5Vc2VUcmFja3NbaV07XHJcbi8vICAgICAgLy8gVHJhY2sgbW9kZSB3YXMgZGVmaW5lZCBieSBodG1sIHRleHRUcmFjayBlbGVtZW50LlxyXG4vLyAgICAgIHRyYWNrLm1vZGUgPSAnaGlkZGVuJztcclxuLy8gICAgfVxyXG4vLyAgfVxyXG5cclxuLy8gIGZ1bmN0aW9uIHNldEN1ZUFsaWduKGFsaWduKSB7XHJcbi8vICAgIGxldCB0ZXh0VHJhY2sgPSBtZWRpYS50ZXh0VHJhY2tzWzBdO1xyXG5cclxuLy8gICAgZm9yIChsZXQgaT0wOyBpIDwgdGV4dFRyYWNrLmN1ZXMubGVuZ3RoOyBpICsrKSB7XHJcbi8vICAgICAgbGV0IGN1ZSA9IHRleHRUcmFjay5jdWVzW2ldO1xyXG4vLyAgICAgIGN1ZS5hbGlnbiA9IGFsaWduO1xyXG4vLyAgICB9XHJcbi8vICB9XHJcblxyXG4vLyAgZnVuY3Rpb24gc2V0Q3VlTGluZShsaW5lKSB7XHJcbi8vICAgIGxldCB0ZXh0VHJhY2sgPSBtZWRpYS50ZXh0VHJhY2tzWzBdO1xyXG5cclxuLy8gICAgZm9yIChsZXQgaT0wOyBpIDwgdGV4dFRyYWNrLmN1ZXMubGVuZ3RoOyBpICsrKSB7XHJcbi8vICAgICAgbGV0IGN1ZSA9IHRleHRUcmFjay5jdWVzW2ldO1xyXG4vLyAgICAgIGN1ZS5saW5lID0gbGluZTtcclxuLy8gICAgfVxyXG4vLyAgfVxyXG5cclxuLy8gIGZ1bmN0aW9uIHNldEN1ZUxpbmVBbGlnbihsaW5lQWxpZ24pIHtcclxuICAgIFxyXG4vLyAgfVxyXG5cclxuLy8gIGluc3RhbmNlID0ge1xyXG4vLyAgICBzZXRNZWRpYTogc2V0TWVkaWEsXHJcbi8vICAgIGFkZFRleHRUcmFjazogYWRkVGV4dFRyYWNrLFxyXG4vLyAgICBzZXRUZXh0VHJhY2tIaWRkZW46IHNldFRleHRUcmFja0hpZGRlbixcclxuLy8gICAgc2V0Q3VlQWxpZ246IHNldEN1ZUFsaWduLFxyXG4vLyAgICBzZXRDdWVMaW5lOiBzZXRDdWVMaW5lLFxyXG4vLyAgICBzZXRDdWVMaW5lQWxpZ246IHNldEN1ZUxpbmVBbGlnbixcclxuLy8gIH07XHJcblxyXG4vLyAgc2V0dXAoKTtcclxuXHJcbi8vICByZXR1cm4gaW5zdGFuY2U7XHJcbi8vfVxyXG5cclxuXHJcbi8vVGV4dEVuZ2luZS5fX2g1cGxheWVyX2ZhY3RvcnlfbmFtZSA9ICdUZXh0RW5naW5lJztcclxuLy9leHBvcnQgZGVmYXVsdCBGYWN0b3J5TWFrZXIuZ2V0U2luZ2xldG9uRmFjdG9yeShUZXh0RW5naW5lKTtcclxuIiwiaW1wb3J0IEZhY3RvcnlNYWtlciBmcm9tICcuLi9jb3JlL0ZhY3RvcnlNYWtlcic7XG5cbmZ1bmN0aW9uIFVJRW5naW5lKCkge1xuICAgIGxldCBwbGF5ZXJDb250YWluZXJfID0gbnVsbDtcbiAgICBsZXQgdmlkZW9Db250YWluZXJfID0gbnVsbDtcbiAgICBsZXQgdmlkZW9fID0gbnVsbDtcbiAgICBsZXQgYWRDb250YWluZXJfID0gbnVsbDtcblxuICAgIGZ1bmN0aW9uIGluaXRVSShwbGF5ZXJDb250YWluZXIpIHtcbiAgICAgICAgcGxheWVyQ29udGFpbmVyXyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBsYXllckNvbnRhaW5lcik7XG4gICAgICAgIGluaXRVSUVsZW1lbnQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0VUlTdHlsZSgpIHtcbiAgICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgc3R5bGUudHlwZSA9ICd0ZXh0L2Nzcyc7XG4gICAgICAgIHN0eWxlLmlubmVySFRNTCA9ICdib2R5e21hcmdpbjowcHg7YmFja2dyb3VuZC1jb2xvcjpsaWdodGdyYXk7fS5wbGF5ZXJ7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6NjQwcHg7aGVpZ2h0OjM2MHB4O21hcmdpbjoxNnB4O30uaHRtbDUtdmlkZW8tcGxheWVye3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7fS52b3AtYXV0b2hpZGV7Y3Vyc29yOm5vbmV9LnZvcC12aWRlby1jb250YWluZXIsLnZvcC12aWRlby1hZHN7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtiYWNrZ3JvdW5kLWNvbG9yOmJsYWNrO30udm9wLXZpZGVve3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7fS52b3Atc2hhZGV7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTt6LWluZGV4OjEwMDt9LnZvcC1zaGFkZTpub3QoLnZvcC1zaGFkZS10ZXN0MSl7fS52b3AtZ3JhZGllbnQtYm90dG9te3dpZHRoOjEwMCU7cG9zaXRpb246YWJzb2x1dGU7YmFja2dyb3VuZC1yZXBlYXQ6cmVwZWF0LXg7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQURHQ0FZQUFBQVQrT3FGQUFBQWRrbEVRVlFvejQyUVFRN0FJQWdFRi9UL0Qra2JxL1JXQWxuUXl5YXpBNGFvQUI0RnNCU0EvYkZqdUYxRU9MN1ZicklyQnV1c21ydDRaWk9SZmI2ZWhiV2RuUkhFSWlJVGFFVUthNUVKcVVha1JTYUVZQkpTQ1kyZEVzdFFZN0F1eGFod1hGcnZabVdsMnJoNEpaMDd6OWRMdGVzZk5qNXEwRlUzQTVPYmJ3QUFBQUJKUlU1RXJrSmdnZz09KTstbW96LXRyYW5zaXRpb246b3BhY2l0eSAuMjVzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKTstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAuMjVzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKTt0cmFuc2l0aW9uOm9wYWNpdHkgLjI1cyBjdWJpYy1iZXppZXIoMC4wLDAuMCwwLjIsMSk7cG9pbnRlci1ldmVudHM6bm9uZX0udm9wLWdyYWRpZW50LWJvdHRvbXtoZWlnaHQ6NDlweDtwYWRkaW5nLXRvcDo0OXB4O2JvdHRvbTowO3otaW5kZXg6MjI7YmFja2dyb3VuZC1wb3NpdGlvbjpib3R0b219LnZvcC1jaHJvbWUtYm90dG9te3Bvc2l0aW9uOmFic29sdXRlO3RleHQtc2hhZG93OjAgMCAycHggcmdiYSgwLDAsMCwuNSl9LnZvcC1jaHJvbWUtYm90dG9te2JvdHRvbTowO2hlaWdodDo0MXB4O3otaW5kZXg6NjA7dGV4dC1hbGlnbjpsZWZ0O2RpcmVjdGlvbjpsdHI7bGVmdDoxMnB4O3JpZ2h0OjEycHg7fS52b3AtY2hyb21lLWJvdHRvbXstbW96LXRyYW5zaXRpb246b3BhY2l0eSAuMjVzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKTstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAuMjVzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKTt0cmFuc2l0aW9uOm9wYWNpdHkgLjI1cyBjdWJpYy1iZXppZXIoMC4wLDAuMCwwLjIsMSl9LnZvcC1hdXRvaGlkZSAudm9wLWNocm9tZS1ib3R0b217b3BhY2l0eTowOy1tb3otdHJhbnNpdGlvbjpvcGFjaXR5IC4yNXMgY3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpOy13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC4yNXMgY3ViaWMtYmV6aWVyKDAuMCwwLjAsMC4yLDEpO3RyYW5zaXRpb246b3BhY2l0eSAuMjVzIGN1YmljLWJlemllcigwLjAsMC4wLDAuMiwxKTt9LnZvcC1wcm9ncmVzcy1iYXJ7d2lkdGg6MTAwJTtoZWlnaHQ6NXB4O2JhY2tncm91bmQtY29sb3I6b3JhbmdlO30udm9wLWNvbnRyb2xze3dpZHRoOjEwMCU7aGVpZ2h0OjM2cHg7fS52b3AtbGVmdC1jb250cm9sc3toZWlnaHQ6MTAwJTtmbG9hdDpsZWZ0O30udm9wLXJpZ2h0LWNvbnRyb2xze2Zsb2F0OnJpZ2h0O30udm9wLWJ1dHRvbnt3aWR0aDozNnB4O2hlaWdodDoxMDAlO2JvcmRlcjpub25lO2NvbG9yOmluaGVyaXQ7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtwYWRkaW5nOjA7dGV4dC1hbGlnbjppbmhlcml0O2ZvbnQtc2l6ZToxMDAlO2ZvbnQtZmFtaWx5OmluaGVyaXQ7Y3Vyc29yOmRlZmF1bHQ7bGluZS1oZWlnaHQ6aW5oZXJpdH0udm9wLWJ1dHRvbjpmb2N1cywudm9wLWJ1dHRvbntvdXRsaW5lOjB9LnZvcC1idXR0b246Oi1tb3otZm9jdXMtaW5uZXJ7cGFkZGluZzowO2JvcmRlcjowfS52b3AtdGltZS1kaXNwbGF5e2Zsb2F0OmxlZnQ7fS52b3AtdGltZS10ZXh0e2NvbG9yOndoaXRlO3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSk7fS52b3Atc3ZnLXNoYWRvd3tzdHJva2U6IzAwMDtzdHJva2Utb3BhY2l0eTouMTU7c3Ryb2tlLXdpZHRoOjJweDtmaWxsOm5vbmV9LnZvcC1zdmctZmlsbHtmaWxsOiNmZmZ9LnZvcC1wbGF5LWJ1dHRvbntmbG9hdDpsZWZ0O2N1cnNvcjpwb2ludGVyO30udm9wLWF1dG9oaWRlIC52b3AtcGxheS1idXR0b257Y3Vyc29yOm5vbmU7fS52b3AtcGxheS1idXR0b246OmJlZm9yZXtjb250ZW50OlwiXCI7ZGlzcGxheTpibG9jaztoZWlnaHQ6MTAwJTt3aWR0aDoxMnB4O3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6LTEycHg7fS52b3AtYWRzLWNvbnRhaW5lcntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MHB4O2xlZnQ6MHB4O3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7fSNpZEJ0bkNvbnRyb2xsZXJ7cG9zaXRpb246cmVsYXRpdmU7fSNpZEJ1ZmZlcmluZ0NvbnRhaW5lcntwb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kLWNvbG9yOmxpZ2h0Z3JlZW47bWFyZ2luOmF1dG87d2lkdGg6MjAwcHg7aGVpZ2h0OjIwMHB4O3RvcDowO2xlZnQ6MDtib3R0b206MDtyaWdodDowO30uc3Bpbm5lclN2Z3twb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3RvcDowO2JvdHRvbTowO2xlZnQ6MDtyaWdodDowO21hcmdpbjphdXRvO2FuaW1hdGlvbjpyb3RhdGUgMnMgbGluZWFyIGluZmluaXRlO3RyYW5zZm9ybS1vcmlnaW46Y2VudGVyIGNlbnRlcjt9LnNwaW5uZXJQYXRoe3N0cm9rZTojZDYyZDIwO3N0cm9rZS1kYXNoYXJyYXk6MjAsMjAwO3N0cm9rZS1kYXNob2Zmc2V0OjA7YW5pbWF0aW9uOmRhc2ggMS41cyBlYXNlLWluLW91dCBpbmZpbml0ZSxjb2xvciA2cyBlYXNlLWluLW91dCBpbmZpbml0ZTtzdHJva2UtbGluZWNhcDpyb3VuZDt9QGtleWZyYW1lcyByb3RhdGV7MTAwJXt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7fX1Aa2V5ZnJhbWVzIGRhc2h7MCV7c3Ryb2tlLWRhc2hhcnJheToxLDIwMDtzdHJva2UtZGFzaG9mZnNldDowO301MCV7c3Ryb2tlLWRhc2hhcnJheTo4OSwyMDA7c3Ryb2tlLWRhc2hvZmZzZXQ6LTM1cHg7fTEwMCV7c3Ryb2tlLWRhc2hhcnJheTo4OSwyMDA7c3Ryb2tlLWRhc2hvZmZzZXQ6LTEyNHB4O319QGtleWZyYW1lcyBjb2xvcnsxMDAlLDAle3N0cm9rZTojZDYyZDIwO300MCV7c3Ryb2tlOiMwMDU3ZTc7fTY2JXtzdHJva2U6IzAwODc0NDt9ODAlLDkwJXtzdHJva2U6I2ZmYTcwMDt9fS5zcGlubmVye3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjMwMHB4O2hlaWdodDozMDFweDtiYWNrZ3JvdW5kLWltYWdlOnVybChcImFzc2V0cy9idWZmZXJpbmc3LnBuZ1wiKTstd2Via2l0LWFuaW1hdGlvbjpzcGluIDFzIGluZmluaXRlIGxpbmVhcjt0b3A6NTAlO2xlZnQ6NTAlO2Rpc3BsYXk6YmxvY2s7fUAtd2Via2l0LWtleWZyYW1lcyBzcGluezAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwZGVnKTt9MTAwJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTM2MGRlZyk7fX0nO1xuXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdIRUFEJykuaXRlbSgwKS5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdFVJRWxlbWVudCgpIHtcbiAgICAgICAgLy8gY3JlYXRlIHZpZGVvIGVsZW1lbnQgaGVyZVxuICAgICAgICB2aWRlb18gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuICAgICAgICB2aWRlb18uc2V0QXR0cmlidXRlKCdjbGFzcycsICd2b3AtdmlkZW8nKTtcbiAgICAgICAgLy92aWRlb18uc2V0QXR0cmlidXRlKCdhdXRvcGxheScsICd0cnVlJyk7XG4gICAgICAgIHZpZGVvXy5zZXRBdHRyaWJ1dGUoJ3BsYXlzaW5saW5lJywgJ3RydWUnKTtcbiAgICAgICAgdmlkZW9fLnNldEF0dHJpYnV0ZSgnd2Via2l0LXBsYXlzaW5saW5lJywgJ3RydWUnKTtcblxuICAgICAgICB2aWRlb0NvbnRhaW5lcl8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdmlkZW9Db250YWluZXJfLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndm9wLXZpZGVvLWNvbnRhaW5lcicpO1xuICAgICAgICB2aWRlb0NvbnRhaW5lcl8uYXBwZW5kQ2hpbGQodmlkZW9fKTtcblxuICAgICAgICAvLyBjcmVhdGUgYWRzIGNvbnRhaW5lclxuICAgICAgICBhZENvbnRhaW5lcl8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgYWRDb250YWluZXJfLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAndm9wLWFkcy1jb250YWluZXInKTtcblxuICAgICAgICAvL1xuICAgICAgICBsZXQgZmlyc3RDaGlsZCA9IHBsYXllckNvbnRhaW5lcl8uZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKGZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIHBsYXllckNvbnRhaW5lcl8uaW5zZXJ0QmVmb3JlKHZpZGVvQ29udGFpbmVyXywgZmlyc3RDaGlsZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwbGF5ZXJDb250YWluZXJfLmFwcGVuZENoaWxkKHZpZGVvQ29udGFpbmVyXyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaDVwU2hhZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudm9wLXNoYWRlJyk7XG4gICAgICAgIGZpcnN0Q2hpbGQgPSBoNXBTaGFkZS5maXJzdENoaWxkO1xuICAgICAgICBpZiAoZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgaDVwU2hhZGUuaW5zZXJ0QmVmb3JlKGFkQ29udGFpbmVyXywgZmlyc3RDaGlsZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoNXBTaGFkZS5hcHBlbmRDaGlsZChhZENvbnRhaW5lcl8pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VmlkZW8oKSB7XG4gICAgICAgIHJldHVybiB2aWRlb187XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VmlkZW9Db250YWluZXIoKSB7XG4gICAgICAgIHJldHVybiB2aWRlb0NvbnRhaW5lcl87XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0QWRDb250YWluZXIoKSB7XG4gICAgICAgIHJldHVybiBhZENvbnRhaW5lcl87XG4gICAgfVxuXG4gICAgbGV0IGluc3RhbmNlID0ge1xuICAgICAgICBpbml0VUk6IGluaXRVSSxcbiAgICAgICAgZ2V0VmlkZW86IGdldFZpZGVvLFxuICAgICAgICBnZXRBZENvbnRhaW5lcjogZ2V0QWRDb250YWluZXJcbiAgICB9O1xuXG4gICAgcmV0dXJuIGluc3RhbmNlO1xufTtcblxuVUlFbmdpbmUuX19oNXBsYXllcl9mYWN0b3J5X25hbWUgPSAnVUlFbmdpbmUnO1xuZXhwb3J0IGRlZmF1bHQgRmFjdG9yeU1ha2VyLmdldFNpbmdsZXRvbkZhY3RvcnkoVUlFbmdpbmUpO1xuIiwiLyoqXHJcbiAqIFRoZSBjb3B5cmlnaHQgaW4gdGhpcyBzb2Z0d2FyZSBpcyBiZWluZyBtYWRlIGF2YWlsYWJsZSB1bmRlciB0aGUgQlNEIExpY2Vuc2UsXHJcbiAqIGluY2x1ZGVkIGJlbG93LiBUaGlzIHNvZnR3YXJlIG1heSBiZSBzdWJqZWN0IHRvIG90aGVyIHRoaXJkIHBhcnR5IGFuZCBjb250cmlidXRvclxyXG4gKiByaWdodHMsIGluY2x1ZGluZyBwYXRlbnQgcmlnaHRzLCBhbmQgbm8gc3VjaCByaWdodHMgYXJlIGdyYW50ZWQgdW5kZXIgdGhpcyBsaWNlbnNlLlxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMsIERhc2ggSW5kdXN0cnkgRm9ydW0uXHJcbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sXHJcbiAqIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcclxuICogICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXHJcbiAqICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cclxuICogICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxyXG4gKiAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3JcclxuICogIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXHJcbiAqICAqIE5laXRoZXIgdGhlIG5hbWUgb2YgRGFzaCBJbmR1c3RyeSBGb3J1bSBub3IgdGhlIG5hbWVzIG9mIGl0c1xyXG4gKiAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb20gdGhpcyBzb2Z0d2FyZVxyXG4gKiAgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXHJcbiAqXHJcbiAqICBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTIEFTIElTIEFORCBBTllcclxuICogIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcclxuICogIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC5cclxuICogIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsXHJcbiAqICBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUXHJcbiAqICBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SXHJcbiAqICBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcclxuICogIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcclxuICogIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFXHJcbiAqICBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cclxuICovXHJcbi8qKlxyXG4gKiBAY2xhc3NcclxuICogQGlnbm9yZVxyXG4gKi9cclxuY2xhc3MgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IoY29kZSwgbWVzc2FnZSwgZGF0YSkge1xyXG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGUgfHwgbnVsbDtcclxuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlIHx8IG51bGw7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YSB8fCBudWxsO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBFcnJvcjsiLCLvu79cblxudmFyIENvbW1vblV0aWxzID0ge307XG5cbi8qKlxuICogcmV0dXJuIElFLElFNixJRTcsSUU4LElFOSxDaHJvbWUsRmlyZWZveCxPcGVyYSxXZWJLaXQsU2FmYXJpLE90aGVyc1xuICovXG5Db21tb25VdGlscy5nZXRCcm93c2VySW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3lzID0ge307XG4gICAgdmFyIHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuICAgIHZhciBzO1xuICAgIHZhciBzO1xuICAgIGlmIChzID0gdWEubWF0Y2goL2VkZ2VcXC8oW1xcZC5dKykvKSkge1xuICAgICAgICBzeXMuZWRnZSA9IHNbMV07XG4gICAgfSBlbHNlIGlmIChzID0gdWEubWF0Y2goL3J2OihbXFxkLl0rKVxcKSBsaWtlIGdlY2tvLykpIHtcbiAgICAgICAgc3lzLmllID0gc1sxXTtcbiAgICB9IGVsc2UgaWYgKHMgPSB1YS5tYXRjaCgvbXNpZSAoW1xcZC5dKykvKSkge1xuICAgICAgICBzeXMuaWUgPSBzWzFdO1xuICAgIH0gZWxzZSBpZiAocyA9IHVhLm1hdGNoKC9maXJlZm94XFwvKFtcXGQuXSspLykpIHtcbiAgICAgICAgc3lzLmZpcmVmb3ggPSBzWzFdO1xuICAgIH0gZWxzZSBpZiAocyA9IHVhLm1hdGNoKC9jaHJvbWVcXC8oW1xcZC5dKykvKSkge1xuICAgICAgICBzeXMuY2hyb21lID0gc1sxXTtcbiAgICB9IGVsc2UgaWYgKHMgPSB1YS5tYXRjaCgvb3BlcmEuKFtcXGQuXSspLykpIHtcbiAgICAgICAgc3lzLm9wZXJhID0gc1sxXTtcbiAgICB9IGVsc2UgaWYgKHMgPSB1YS5tYXRjaCgvdmVyc2lvblxcLyhbXFxkLl0rKS4qc2FmYXJpLykpIHtcbiAgICAgICAgc3lzLnNhZmFyaSA9IHNbMV07XG4gICAgfVxuXG4gICAgaWYgKHN5cy5lZGdlKSByZXR1cm4geyBicm93c2VyIDogXCJFZGdlXCIsIHZlcnNpb24gOiBzeXMuZWRnZSB9O1xuICAgIGlmIChzeXMuaWUpIHJldHVybiB7IGJyb3dzZXIgOiBcIklFXCIsIHZlcnNpb24gOiBzeXMuaWUgfTtcbiAgICBpZiAoc3lzLmZpcmVmb3gpIHJldHVybiB7IGJyb3dzZXIgOiBcIkZpcmVmb3hcIiwgdmVyc2lvbiA6IHN5cy5maXJlZm94IH07XG4gICAgaWYgKHN5cy5jaHJvbWUpIHJldHVybiB7IGJyb3dzZXIgOiBcIkNocm9tZVwiLCB2ZXJzaW9uIDogc3lzLmNocm9tZSB9O1xuICAgIGlmIChzeXMub3BlcmEpIHJldHVybiB7IGJyb3dzZXIgOiBcIk9wZXJhXCIsIHZlcnNpb24gOiBzeXMub3BlcmEgfTtcbiAgICBpZiAoc3lzLnNhZmFyaSkgcmV0dXJuIHsgYnJvd3NlciA6IFwiU2FmYXJpXCIsIHZlcnNpb24gOiBzeXMuc2FmYXJpIH07XG5cbiAgICByZXR1cm4geyBicm93c2VyIDogXCJcIiwgdmVyc2lvbiA6IFwiMFwiIH07XG59O1xuXG5Db21tb25VdGlscy5pc1NhZmFyaSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoQ29tbW9uVXRpbHMuZ2V0QnJvd3NlckluZm8oKS5icm93c2VyID09PSAnU2FmYXJpJykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufTtcblxuQ29tbW9uVXRpbHMuaXNGaXJlZm94ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChDb21tb25VdGlscy5nZXRCcm93c2VySW5mbygpLmJyb3dzZXIgPT09ICdGaXJlZm94Jykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufTtcblxuQ29tbW9uVXRpbHMuaXNDaHJvbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKENvbW1vblV0aWxzLmdldEJyb3dzZXJJbmZvKCkuYnJvd3NlciA9PT0gJ0Nocm9tZScpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn07XG5cbkNvbW1vblV0aWxzLmlzQ2hyb21lY2FzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAod2luZG93LmNhc3QgJiYgd2luZG93LmNhc3QuX19wbGF0Zm9ybV9fKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59O1xuXG5Db21tb25VdGlscy5pc0VkZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgdmFyIGlzRWRnZSA9IHVzZXJBZ2VudC5pbmRleE9mKFwiRWRnZVwiKSA+IC0xO1xuICAgIHJldHVybiBpc0VkZ2U7XG59O1xuXG5Db21tb25VdGlscy5pc0lFID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghIXdpbmRvdy5BY3RpdmVYT2JqZWN0IHx8IFwiQWN0aXZlWE9iamVjdFwiIGluIHdpbmRvdykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufTtcblxuQ29tbW9uVXRpbHMuZ2V0T1NWZXJzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBvcyxcbiAgICBvc1ZlcnNpb247XG5cbiAgICAvLyBzeXN0ZW1cbiAgICB2YXIgbkFndCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgdmFyIG5WZXIgPSBuYXZpZ2F0b3IuYXBwVmVyc2lvbjtcblxuICAgIG9zID0gJ3Vua25vd24nO1xuICAgIG9zVmVyc2lvbiA9ICd1bmtub3duJztcbiAgICB2YXIgY2xpZW50U3RyaW5ncyA9IFtcbiAgICB7czogJ1dpbmRvd3MgMTAnLCByOiAvKFdpbmRvd3MgMTAuMHxXaW5kb3dzIE5UIDEwLjApL30sXG4gICAge3M6ICdXaW5kb3dzIDguMScsIHI6IC8oV2luZG93cyA4LjF8V2luZG93cyBOVCA2LjMpL30sXG4gICAge3M6ICdXaW5kb3dzIDgnLCByOiAvKFdpbmRvd3MgOHxXaW5kb3dzIE5UIDYuMikvfSxcbiAgICB7czogJ1dpbmRvd3MgNycsIHI6IC8oV2luZG93cyA3fFdpbmRvd3MgTlQgNi4xKS99LFxuICAgIHtzOiAnV2luZG93cyBWaXN0YScsIHI6IC9XaW5kb3dzIE5UIDYuMC99LFxuICAgIHtzOiAnV2luZG93cyBTZXJ2ZXIgMjAwMycsIHI6IC9XaW5kb3dzIE5UIDUuMi99LFxuICAgIHtzOiAnV2luZG93cyBYUCcsIHI6IC8oV2luZG93cyBOVCA1LjF8V2luZG93cyBYUCkvfSxcbiAgICB7czogJ1dpbmRvd3MgMjAwMCcsIHI6IC8oV2luZG93cyBOVCA1LjB8V2luZG93cyAyMDAwKS99LFxuICAgIHtzOiAnV2luZG93cyBNRScsIHI6IC8oV2luIDl4IDQuOTB8V2luZG93cyBNRSkvfSxcbiAgICB7czogJ1dpbmRvd3MgOTgnLCByOiAvKFdpbmRvd3MgOTh8V2luOTgpL30sXG4gICAge3M6ICdXaW5kb3dzIDk1JywgcjogLyhXaW5kb3dzIDk1fFdpbjk1fFdpbmRvd3NfOTUpL30sXG4gICAge3M6ICdXaW5kb3dzIE5UIDQuMCcsIHI6IC8oV2luZG93cyBOVCA0LjB8V2luTlQ0LjB8V2luTlR8V2luZG93cyBOVCkvfSxcbiAgICB7czogJ1dpbmRvd3MgQ0UnLCByOiAvV2luZG93cyBDRS99LFxuICAgIHtzOiAnV2luZG93cyAzLjExJywgcjogL1dpbjE2L30sXG4gICAge3M6ICdBbmRyb2lkJywgcjogL0FuZHJvaWQvfSxcbiAgICB7czogJ09wZW4gQlNEJywgcjogL09wZW5CU0QvfSxcbiAgICB7czogJ1N1biBPUycsIHI6IC9TdW5PUy99LFxuICAgIHtzOiAnTGludXgnLCByOiAvKExpbnV4fFgxMSkvfSxcbiAgICB7czogJ2lPUycsIHI6IC8oaVBob25lfGlQYWR8aVBvZCkvfSxcbiAgICB7czogJ01hYyBPUyBYJywgcjogL01hYyBPUyBYL30sXG4gICAge3M6ICdNYWMgT1MnLCByOiAvKE1hY1BQQ3xNYWNJbnRlbHxNYWNfUG93ZXJQQ3xNYWNpbnRvc2gpL30sXG4gICAge3M6ICdRTlgnLCByOiAvUU5YL30sXG4gICAge3M6ICdVTklYJywgcjogL1VOSVgvfSxcbiAgICB7czogJ0JlT1MnLCByOiAvQmVPUy99LFxuICAgIHtzOiAnT1MvMicsIHI6IC9PU1xcLzIvfSxcbiAgICB7czogJ1NlYXJjaCBCb3QnLCByOiAvKG51aGt8R29vZ2xlYm90fFlhbW15Ym90fE9wZW5ib3R8U2x1cnB8TVNOQm90fEFzayBKZWV2ZXNcXC9UZW9tYXxpYV9hcmNoaXZlcikvfVxuICAgIF07XG4gICAgZm9yICh2YXIgaWQgaW4gY2xpZW50U3RyaW5ncykge1xuICAgICAgICB2YXIgY3MgPSBjbGllbnRTdHJpbmdzW2lkXTtcbiAgICAgICAgaWYgKGNzLnIudGVzdChuQWd0KSkge1xuICAgICAgICAgICAgb3MgPSBjcy5zO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoL1dpbmRvd3MvLnRlc3Qob3MpKSB7XG4gICAgICAgIG9zVmVyc2lvbiA9IC9XaW5kb3dzICguKikvLmV4ZWMob3MpWzFdO1xuICAgICAgICBvcyA9ICdXaW5kb3dzJztcbiAgICB9XG5cbiAgICBzd2l0Y2ggKG9zKSB7XG4gICAgY2FzZSAnTWFjIE9TIFgnOlxuICAgICAgICBvc1ZlcnNpb24gPSAvTWFjIE9TIFggKDEwW1xcLlxcX1xcZF0rKS8uZXhlYyhuQWd0KVsxXTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdBbmRyb2lkJzpcbiAgICAgICAgb3NWZXJzaW9uID0gL0FuZHJvaWQgKFtcXC5cXF9cXGRdKykvLmV4ZWMobkFndClbMV07XG4gICAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnaU9TJzpcbiAgICAgICAgb3NWZXJzaW9uID0gL09TIChcXGQrKV8oXFxkKylfPyhcXGQrKT8vLmV4ZWMoblZlcik7XG4gICAgICAgIG9zVmVyc2lvbiA9IG9zVmVyc2lvblsxXSArICcuJyArIG9zVmVyc2lvblsyXSArICcuJyArIChvc1ZlcnNpb25bM10gfCAwKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ25BZ3Q6ICcgKyBuQWd0KTtcbiAgICBjb25zb2xlLmxvZygnblZlcjogJyArIG5WZXIpO1xuICAgIGNvbnNvbGUubG9nKCdvczogJyArIG9zKTtcbiAgICBjb25zb2xlLmxvZygnb3NWZXJzaW9uOiAnICsgb3NWZXJzaW9uKTtcblxuICAgIHZhciBwYXR0ZXJuID0gJ0xpbnV4JztcbiAgICB2YXIgdWEgPSAnTW96aWxsYS81LjAgKFgxMTsgTGludXggYXJtdjdsKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNjIuMC4zMjAyLjE3IFNhZmFyaS81MzcuMzYgQ3JLZXkvMS4yOC4xMDA1NTUnO1xuICAgIHZhciBhcnJPU1YgPSBSZWdFeHAoJ1xcXFxiJyArIHBhdHRlcm4gKyAnKD86L1tcXFxcZC5dK3xbIFxcXFx3Ll0qKScsICdpJykuZXhlYyh1YSk7XG4gICAgdmFyIG9zdiA9IGFyck9TVlswXTtcbiAgICB2YXIgcGF0dGVybkxlbiA9IHBhdHRlcm4ubGVuZ3RoO1xuICAgIGNvbnNvbGUubG9nKCdwYXR0ZXJuIGxlbmd0aDogJyArIHBhdHRlcm5MZW4pO1xuICAgIG9zdi5pbmRleE9mKHBhdHRlcm4pO1xuXG4gICAgdmFyIG91dCA9IG9zdi5zbGljZShwYXR0ZXJuTGVuICsgMSk7XG4gICAgY29uc29sZS5sb2coJ291dDogJyArIG91dCk7XG5cbiAgICBsZXQgYSA9IDI7XG4gICAgbGV0IGIgPSBhO1xufTtcblxuQ29tbW9uVXRpbHMuaXNNb2JpbGVQbGF0Zm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goLyhpUG9kfGlQaG9uZXxpUGFkKS8pIHx8XG4gICAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdhbmRyb2lkJykgPiAtMSk7XG59O1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5Db21tb25VdGlscy5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIEFkZCBzdGFydHNXaXRoIHByb3RvdHlwZSBtZXRob2QgdG8gU3RyaW5nIG9iamVjdFxuICAgIGlmICghU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoKSB7XG4gICAgICAgIC8vIEFkZCBwcm90b3R5cGUgbWV0aG9kcyBmb3IgTnVtYmVyIG9iamVjdFxuICAgICAgICBpZiAoIU51bWJlci5pc0ludGVnZXIpIHtcbiAgICAgICAgICAgIE51bWJlci5pc0ludGVnZXIgPSBmdW5jdGlvbiAobnVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChudW0gXiAwKSA9PT0gbnVtO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBwcm90b3R5cGUgbWV0aG9kcyBmb3IgU3RyaW5nIG9iamVjdFxuICAgICAgICBpZiAoIVN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aCkge1xuICAgICAgICAgICAgU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoID0gZnVuY3Rpb24gKHNlYXJjaFN0cmluZywgcG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uIHx8IDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXhPZihzZWFyY2hTdHJpbmcsIHBvc2l0aW9uKSA9PT0gcG9zaXRpb247XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuQ29tbW9uVXRpbHMuZ2V0Rm9ybWF0VGltZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgbWVzc2FnZSA9ICcnO1xuICAgIGxldCBkID0gbnVsbDtcblxuICAgIGQgPSBuZXcgRGF0ZSgpO1xuICAgIG1lc3NhZ2UgKz0gJ1snICsgKCcwJyArIChkLmdldE1vbnRoKCkgKyAxKSkuc2xpY2UoLTIpICsgJy0nICtcbiAgICAoJzAnICsgZC5nZXREYXRlKCkpLnNsaWNlKC0yKSArICcgJyArXG4gICAgKCcwJyArIGQuZ2V0SG91cnMoKSkuc2xpY2UoLTIpICsgJzonICtcbiAgICAoJzAnICsgZC5nZXRNaW51dGVzKCkpLnNsaWNlKC0yKSArICc6JyArXG4gICAgKCcwJyArIGQuZ2V0U2Vjb25kcygpKS5zbGljZSgtMikgKyAnLicgK1xuICAgICgnMCcgKyBkLmdldE1pbGxpc2Vjb25kcygpKS5zbGljZSgtMykgKyAnXSc7XG5cbiAgICByZXR1cm4gbWVzc2FnZTtcbn07XG5cbkNvbW1vblV0aWxzLnRpbWVUb1N0cmluZyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGZ1bmN0aW9uIGZvcm1hdFRpbWVVbml0KHRpbWUpIHtcbiAgICAgICAgcmV0dXJuIHRpbWUgPCAxMCA/ICcwJyArIHRpbWUudG9TdHJpbmcoKSA6IHRpbWUudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICB2YWx1ZSA9IE1hdGgubWF4KHZhbHVlLCAwKTtcbiAgICB2YXIgaCA9IE1hdGguZmxvb3IodmFsdWUgLyAzNjAwKTtcbiAgICB2YXIgbSA9IE1hdGguZmxvb3IoKHZhbHVlICUgMzYwMCkgLyA2MCk7XG4gICAgdmFyIHMgPSBNYXRoLmZsb29yKCh2YWx1ZSAlIDM2MDApICUgNjApO1xuICAgIHJldHVybiAoaCA9PT0gMCA/ICcnIDogZm9ybWF0VGltZVVuaXQoaCkgKyAnOicpICsgZm9ybWF0VGltZVVuaXQobSkgKyAnOicgKyBmb3JtYXRUaW1lVW5pdChzKTtcbn07XG5cbi8vXG5Db21tb25VdGlscy50ZXN0MSA9IGZ1bmN0aW9uIChhYSkge1xuICAgIENvbW1vblV0aWxzLmluaXQoKTtcblxuICAgIHZhciBzMSA9IFwiYWFhYmJjZGVyXCI7XG4gICAgdmFyIHJldCA9IHMxLnN0YXJ0c1dpdGgoJ2FhYScsIDApO1xuICAgIHZhciByZXQyID0gczEuc3RhcnRzV2l0aCgnYWJjJywgMCk7XG4gICAgY29uc29sZS5sb2coJ3N0YXJ0c1dpdGggcmV0OiAnICsgcmV0KTtcbiAgICBjb25zb2xlLmxvZygnc3RhcnRzV2l0aCByZXQyOiAnICsgcmV0Mik7XG5cbiAgICB2YXIgYjEgPSBOdW1iZXIuaXNJbnRlZ2VyKDEyMyk7XG4gICAgdmFyIGIyID0gTnVtYmVyLmlzSW50ZWdlcigxMjMuMTIzKTtcbiAgICB2YXIgYjMgPSBOdW1iZXIuaXNJbnRlZ2VyKHVuZGVmaW5lZCk7XG4gICAgY29uc29sZS5sb2coJ2IxOiAnICsgYjEpO1xuICAgIGNvbnNvbGUubG9nKCdiMjogJyArIGIyKTtcbiAgICBjb25zb2xlLmxvZygnYjM6ICcgKyBiMyk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDb21tb25VdGlscztcbiIsIlxyXG5jb25zdCBTdHJpbmdVdGlscyA9IHtcclxuXHJcbiAgICAvLyBBcnJheUJ1ZmZlcui9rOS4uuWtl+espuS4su+8jOWPguaVsOS4ukFycmF5QnVmZmVy5a+56LGhXHJcbiAgICBhYjJzdHI6IGZ1bmN0aW9uKGJ1Zikge1xyXG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50MTZBcnJheShidWYpKTtcclxuICAgIH0sXHJcbiAgICAvLyDlrZfnrKbkuLLovazkuLpBcnJheUJ1ZmZlcuWvueixoe+8jOWPguaVsOS4uuWtl+espuS4slxyXG4gICAgc3RyMmFiOiBmdW5jdGlvbihzdHIpIHtcclxuICAgICAgICB2YXIgYnVmID0gbmV3IEFycmF5QnVmZmVyKHN0ci5sZW5ndGgqMik7IC8vIOavj+S4quWtl+espuWNoOeUqDLkuKrlrZfoioJcclxuICAgICAgICB2YXIgYnVmVmlldyA9IG5ldyBVaW50MTZBcnJheShidWYpO1xyXG4gICAgICAgIGZvciAodmFyIGk9MCwgc3RyTGVuPXN0ci5sZW5ndGg7IGk8c3RyTGVuOyBpKyspIHtcclxuICAgICAgICAgICAgYnVmVmlld1tpXSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYnVmO1xyXG4gICAgfSxcclxuICAgIGFiMnN0cl92MTogZnVuY3Rpb24oYnVmKSB7XHJcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoYnVmKSk7XHJcbiAgICB9LFxyXG4gICAgLy8g5a2X56ym5Liy6L2s5Li6QXJyYXlCdWZmZXLlr7nosaHvvIzlj4LmlbDkuLrlrZfnrKbkuLJcclxuICAgIHN0cjJhYl92MTogZnVuY3Rpb24oc3RyKSB7XHJcbiAgICAgICAgdmFyIGJ1ZiA9IG5ldyBBcnJheUJ1ZmZlcihzdHIubGVuZ3RoKTsgLy8g5q+P5Liq5a2X56ym5Y2g55SoMeS4quWtl+iKglxyXG4gICAgICAgIHZhciBidWZWaWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmKTtcclxuICAgICAgICBmb3IgKHZhciBpPTAsIHN0ckxlbiA9IHN0ci5sZW5ndGg7IGkgPCBzdHJMZW47IGkrKykge1xyXG4gICAgICAgICAgICBidWZWaWV3W2ldID0gc3RyLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBidWY7XHJcbiAgICB9LFxyXG4gICAgdThhcnJUb0I2NDogZnVuY3Rpb24odThhcnIpIHtcclxuICAgICAgICByZXR1cm4gYnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIHU4YXJyKSkuXHJcbiAgICAgICAgcmVwbGFjZSgvXFwrL2csICctJykucmVwbGFjZSgvXFwvL2csICdfJykucmVwbGFjZSgvPSokLywgJycpO1xyXG4gICAgfSxcclxuICAgIGI2NFRvVThhcnI6IGZ1bmN0aW9uKGVuY29kZWQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoIGF0b2IoZW5jb2RlZCkuc3BsaXQoJycpLm1hcCggZnVuY3Rpb24oYykgeyByZXR1cm4gYy5jaGFyQ29kZUF0KDApOyB9ICkgKTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFN0cmluZ1V0aWxzOyIsIi8qKlxyXG4gKiAgVGltZVJhbmdlcyB0byBzdHJpbmcgaGVscGVyXHJcbiAqL1xyXG5cclxuY29uc3QgVGltZVJhbmdlcyA9IHtcclxuICB0b1N0cmluZyA6IGZ1bmN0aW9uKHIpIHtcclxuICAgIGxldCBsb2cgPSAnJywgbGVuID0gci5sZW5ndGg7XHJcbiAgICBmb3IgKGxldCBpPTA7IGkgPCBsZW47IGkgKyspIHtcclxuICAgICAgbGV0IGJlZyA9IHIuc3RhcnQoaSk7XHJcbiAgICAgIGxldCBlbmQgPSByLmVuZChpKTtcclxuXHJcbiAgICAgIC8vY29uc29sZS5sb2coJ3N0YXJ0OiAnICsgYmVnICsgJywgZW5kOiAnICsgZW5kKTtcclxuICAgICAgbG9nICs9ICdbJyArIHIuc3RhcnQoaSkgKyAnLCcgKyByLmVuZChpKSArICddJztcclxuICAgIH1cclxuICAgIHJldHVybiBsb2c7XHJcbiAgfVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBUaW1lUmFuZ2VzO1xyXG4iLCLvu79cbmltcG9ydCBGYWN0b3J5TWFrZXIgZnJvbSAnLi4vY29yZS9GYWN0b3J5TWFrZXInO1xuXG5cbmZ1bmN0aW9uIFhIUkxvYWRlcihjb25maWcpXG57XG4gIGxldCBjb25maWdfID0gY29uZmlnIHx8IHtcbiAgICByZW1haW5pbmdBdHRlbXB0czogMCxcbiAgICByZXRyeUludGVydmFsOiA0MDAwXG4gIH07XG5cbiAgbGV0IHJlcXVlc3RfID0gbnVsbDtcbiAgbGV0IHhocl8gPSBudWxsO1xuICBsZXQgbmVlZEZhaWx1cmVSZXBvcnRfID0gZmFsc2U7XG5cbiAgLy8gZm9yIGRlYnVnXG4gIGxldCBlbmFibGVMb2dfID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gbG9hZEludGVybmFsKCkge1xuXG4gIH1cblxuICBmdW5jdGlvbiBsb2FkKHJlcXVlc3QpIHtcbiAgICBwcmludGxvZygnYmVnaW4gbG9hZCB0aW1lOiAnICsgKG5ldyBEYXRlKCkuZ2V0VGltZSgpKS8xMDAwKTtcblxuICAgIHJlcXVlc3RfID0gcmVxdWVzdDtcbiAgICBwcmludGxvZyhyZXF1ZXN0Xy51cmwgKyAnLCByZW1haW5pbmdBdHRlbXB0c186ICcgKyBjb25maWdfLnJlbWFpbmluZ0F0dGVtcHRzKTtcblxuICAgIG5lZWRGYWlsdXJlUmVwb3J0XyA9IHRydWU7XG5cbiAgICB4aHJfID0gbmV3IFhNTEh0dHBSZXF1ZXN0O1xuXG4gICAgcHJpbnRsb2coJy0tYmVmb3JlIG9wZW4tLSwgcmVhZHlTdGF0ZTogJyArIHhocl8ucmVhZHlTdGF0ZSk7XG5cbiAgICB4aHJfLm9wZW4oJ0dFVCcsIHJlcXVlc3RfLnVybCk7XG4gICAgeGhyXy5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xuICAgIGlmIChyZXF1ZXN0Xy5yYW5nZUVuZCkge1xuICAgICAgeGhyXy5zZXRSZXF1ZXN0SGVhZGVyKCdSYW5nZScsJ2J5dGVzPScgKyByZXF1ZXN0Xy5yYW5nZVN0YXJ0ICsgJy0nICsgKHJlcXVlc3RfLnJhbmdlRW5kLTEpKTtcbiAgICB9XG5cbiAgICB4aHJfLm9ubG9hZHN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBwcmludGxvZygnLS1vbmxvYWRzdGFydC0tJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9ubG9hZCA9IGZ1bmN0aW9uKGV2KSB7XG4gICAgICBwcmludGxvZyhgLS1vbmxvYWQtLSwgc3RhdHVzOiR7eGhyXy5zdGF0dXN9LCBsZW5ndGg6ICR7eGhyXy5yZXNwb25zZS5ieXRlTGVuZ3RofSwgcmVhZHlTdGF0ZToke3hocl8ucmVhZHlTdGF0ZX1gKTtcblxuICAgICAgaWYgKHhocl8uc3RhdHVzID49IDIwMCAmJiB4aHJfLnN0YXR1cyA8PSAyOTkpIHtcbiAgICAgICAgcmVxdWVzdF8uY2JTdWNjZXNzKHhocl8ucmVzcG9uc2UpO1xuICAgICAgICBuZWVkRmFpbHVyZVJlcG9ydF8gPSBmYWxzZTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3Qgb25sb2FkZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgcHJpbnRsb2coJy0tb25sb2FkZW5kLS0sIHJlbWFpbmluZ0F0dGVtcHRzXzogJyArIGNvbmZpZ18ucmVtYWluaW5nQXR0ZW1wdHMgKyAnLCByZWFkeXN0YXRlOiAnICsgeGhyXy5yZWFkeVN0YXRlKTtcbiAgICAgIHByaW50bG9nKCctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpO1xuXG4gICAgICBpZiAobmVlZEZhaWx1cmVSZXBvcnRfKSB7XG4gICAgICAgIGlmIChjb25maWdfLnJlbWFpbmluZ0F0dGVtcHRzID4gMCkge1xuICAgICAgICAgIGNvbmZpZ18ucmVtYWluaW5nQXR0ZW1wdHMgLS07XG5cbiAgICAgICAgICAvLyBCRCwgdGVzdCByZXRyeSBjb3VudHNcbiAgICAgICAgICAvLyBpZiAoY29uZmlnXy5yZW1haW5pbmdBdHRlbXB0cyA9PT0gMCkge1xuICAgICAgICAgIC8vICAgcmVxdWVzdF8udXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3QvMS90bXAvdGVzdC50eHQnO1xuICAgICAgICAgIC8vIH1cbiAgICAgICAgICAvLyAvLyBFRFxuXG4gICAgICAgICAgcHJpbnRsb2coJ2JlZ2luIGxvYWQgdGltZW91dDogJyArIChuZXcgRGF0ZSgpLmdldFRpbWUoKSkvMTAwMCk7XG5cbiAgICAgICAgICAvL3NldFRpbWVvdXQocmV0cnlGdW5jLCBjb25maWdfLnJldHJ5SW50ZXJ2YWwpO1xuICAgICAgICAgIHNldFRpbWVvdXQobG9hZC5iaW5kKHRoaXMsIHJlcXVlc3RfKSwgY29uZmlnXy5yZXRyeUludGVydmFsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB4aHJfLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiAoZXYpIHtcbiAgICAgIHByaW50bG9nKGAtLW9ucHJvZ3Jlc3MtLSwgbG9hZGVkOiR7ZXYubG9hZGVkfSwgdG90YWw6JHtldi50b3RhbH0sIHJlYWR5U3RhdGU6JHt4aHJfLnJlYWR5U3RhdGV9YCk7XG4gICAgfTtcblxuICAgIHhocl8ub250aW1lb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcHJpbnRsb2coJy0tb250aW1lb3V0LS0sIHJlYWR5c3RhdGU6ICcgKyB4aHJfLnJlYWR5U3RhdGUpO1xuICAgIH07XG5cbiAgICB4aHJfLm9uYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBwcmludGxvZygnLS1vbmFib3J0LS0sIHJlYWR5c3RhdGU6ICcgKyB4aHJfLnJlYWR5U3RhdGUpO1xuICAgIH07XG5cbiAgICB4aHJfLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBwcmludGxvZygnLS1vbmVycm9yLS0sIHJlYWR5c3RhdGU6ICcgKyB4aHJfLnJlYWR5U3RhdGUpO1xuICAgIH07XG5cbiAgICB4aHJfLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIChldikge1xuICAgICAgcHJpbnRsb2coJy0tb25yZWFkeXN0YXRlY2hhbmdlLS0sIHJlYWR5c3RhdGU6ICcgKyB4aHJfLnJlYWR5U3RhdGUpO1xuICAgIH07XG5cbiAgICB4aHJfLm9ubG9hZCA9IG9ubG9hZC5iaW5kKHRoaXMpO1xuICAgIHhocl8ub25sb2FkZW5kID0gb25sb2FkZW5kLmJpbmQodGhpcyk7XG5cbiAgICBwcmludGxvZygnLS1iZWZvcmUgc2VuZC0tLCByZWFkeVN0YXRlOiAnICsgeGhyXy5yZWFkeVN0YXRlKTtcbiAgICB4aHJfLnNlbmQoKTtcbiAgfTtcblxuICBmdW5jdGlvbiBwcmludGxvZyhsb2cpIHtcbiAgICBpZiAoZW5hYmxlTG9nXykge1xuICAgICAgY29uc29sZS5sb2cobG9nKTtcbiAgICB9XG4gIH1cblxuICBsZXQgaW5zdGFuY2UgPSB7XG4gICAgbG9hZDogbG9hZFxuICB9O1xuXG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxuWEhSTG9hZGVyLl9faDVwbGF5ZXJfZmFjdG9yeV9uYW1lID0gJ1hIUkxvYWRlcic7XG5leHBvcnQgZGVmYXVsdCBGYWN0b3J5TWFrZXIuZ2V0U2luZ2xldG9uRmFjdG9yeShYSFJMb2FkZXIpO1xuXG5cbiJdfQ==
