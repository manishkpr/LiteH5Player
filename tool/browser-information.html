<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Media Mime Support Validator</title>
</head>
<body>
  <div>
  <h2>User Agent</h2>
  <div id="idUA"></div>
  </div>

  <h2>
    MSE Compatibility Validator
  </h2>

  <div>
    <span>Does this browser has WebKitMediaSource:</span>
    <span id="idWebKitMediaSource" style="font-weight:bold;"></span>
  </div>
  <div>
    <span>Does this browser has MediaSource:</span>
    <span id="idMediaSource" style="font-weight:bold;"></span>
  </div>
  <br/>

  <label>Type: </label>
  <div>
  <input type="text" id="input_type" style="width:240px"/>
  </div>
  <button type="button" onclick="onBtnTest()">validate</button>
  <br />
  <label>Sample01: audio/mp4; codecs="mp4a.40.2"</label>
  <br />
  <label>Sample02: audio/mp4; codecs="mp4a.40.2, avc1.64001e"</label>
  <br />
  <label>Sample03: video/mp4; codecs="mp4a.40.2, avc1.64001e"</label>
  <br />


  <script type="text/javascript">
    // Title: User Agent
    var ua = navigator.userAgent;
    var v = document.getElementById('idUA');
    v.innerText = ua;
  </script>

  <script>
    // Title: MSE Compatibility Validator
    function onBtnTest() {
      var mimeType = document.getElementById('input_type').value;

      if (!MediaSource.isTypeSupported(mimeType)) {
        alert('Don\'t support: ' + mimeType);
      } else {
        alert('Support: ' + mimeType);
      }
    }

    window.onload = function () {
      var hasWebKitMediaSource = ('WebKitMediaSource' in window);
      var hasMediaSource = ('MediaSource' in window);

      var v1 = document.getElementById('idWebKitMediaSource');
      v1.innerText = hasWebKitMediaSource;
      var v2 = document.getElementById('idMediaSource');
      v2.innerText = hasMediaSource;
    };
  </script>

</body>
</html>

